function LM(k,G){for(var oe=0;oe<G.length;oe++){const ge=G[oe];if(typeof ge!="string"&&!Array.isArray(ge)){for(const Pe in ge)if(Pe!=="default"&&!(Pe in k)){const Ve=Object.getOwnPropertyDescriptor(ge,Pe);Ve&&Object.defineProperty(k,Pe,Ve.get?Ve:{enumerable:!0,get:()=>ge[Pe]})}}}return Object.freeze(Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}))}(function(){const G=document.createElement("link").relList;if(G&&G.supports&&G.supports("modulepreload"))return;for(const Pe of document.querySelectorAll('link[rel="modulepreload"]'))ge(Pe);new MutationObserver(Pe=>{for(const Ve of Pe)if(Ve.type==="childList")for(const W of Ve.addedNodes)W.tagName==="LINK"&&W.rel==="modulepreload"&&ge(W)}).observe(document,{childList:!0,subtree:!0});function oe(Pe){const Ve={};return Pe.integrity&&(Ve.integrity=Pe.integrity),Pe.referrerPolicy&&(Ve.referrerPolicy=Pe.referrerPolicy),Pe.crossOrigin==="use-credentials"?Ve.credentials="include":Pe.crossOrigin==="anonymous"?Ve.credentials="omit":Ve.credentials="same-origin",Ve}function ge(Pe){if(Pe.ep)return;Pe.ep=!0;const Ve=oe(Pe);fetch(Pe.href,Ve)}})();function dp(k){return k&&k.__esModule&&Object.prototype.hasOwnProperty.call(k,"default")?k.default:k}var Hb={exports:{}},ag={},Vb={exports:{}},di={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp=Symbol.for("react.element"),PM=Symbol.for("react.portal"),RM=Symbol.for("react.fragment"),DM=Symbol.for("react.strict_mode"),IM=Symbol.for("react.profiler"),kM=Symbol.for("react.provider"),FM=Symbol.for("react.context"),_M=Symbol.for("react.forward_ref"),zM=Symbol.for("react.suspense"),OM=Symbol.for("react.memo"),NM=Symbol.for("react.lazy"),s2=Symbol.iterator;function BM(k){return k===null||typeof k!="object"?null:(k=s2&&k[s2]||k["@@iterator"],typeof k=="function"?k:null)}var Gb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wb=Object.assign,Yb={};function Qv(k,G,oe){this.props=k,this.context=G,this.refs=Yb,this.updater=oe||Gb}Qv.prototype.isReactComponent={};Qv.prototype.setState=function(k,G){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,G,"setState")};Qv.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function jb(){}jb.prototype=Qv.prototype;function V1(k,G,oe){this.props=k,this.context=G,this.refs=Yb,this.updater=oe||Gb}var G1=V1.prototype=new jb;G1.constructor=V1;Wb(G1,Qv.prototype);G1.isPureReactComponent=!0;var l2=Array.isArray,Zb=Object.prototype.hasOwnProperty,W1={current:null},Xb={key:!0,ref:!0,__self:!0,__source:!0};function Kb(k,G,oe){var ge,Pe={},Ve=null,W=null;if(G!=null)for(ge in G.ref!==void 0&&(W=G.ref),G.key!==void 0&&(Ve=""+G.key),G)Zb.call(G,ge)&&!Xb.hasOwnProperty(ge)&&(Pe[ge]=G[ge]);var H=arguments.length-2;if(H===1)Pe.children=oe;else if(1<H){for(var e=Array(H),g=0;g<H;g++)e[g]=arguments[g+2];Pe.children=e}if(k&&k.defaultProps)for(ge in H=k.defaultProps,H)Pe[ge]===void 0&&(Pe[ge]=H[ge]);return{$$typeof:pp,type:k,key:Ve,ref:W,props:Pe,_owner:W1.current}}function UM(k,G){return{$$typeof:pp,type:k.type,key:G,ref:k.ref,props:k.props,_owner:k._owner}}function Y1(k){return typeof k=="object"&&k!==null&&k.$$typeof===pp}function HM(k){var G={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(oe){return G[oe]})}var u2=/\/+/g;function ay(k,G){return typeof k=="object"&&k!==null&&k.key!=null?HM(""+k.key):G.toString(36)}function p0(k,G,oe,ge,Pe){var Ve=typeof k;(Ve==="undefined"||Ve==="boolean")&&(k=null);var W=!1;if(k===null)W=!0;else switch(Ve){case"string":case"number":W=!0;break;case"object":switch(k.$$typeof){case pp:case PM:W=!0}}if(W)return W=k,Pe=Pe(W),k=ge===""?"."+ay(W,0):ge,l2(Pe)?(oe="",k!=null&&(oe=k.replace(u2,"$&/")+"/"),p0(Pe,G,oe,"",function(g){return g})):Pe!=null&&(Y1(Pe)&&(Pe=UM(Pe,oe+(!Pe.key||W&&W.key===Pe.key?"":(""+Pe.key).replace(u2,"$&/")+"/")+k)),G.push(Pe)),1;if(W=0,ge=ge===""?".":ge+":",l2(k))for(var H=0;H<k.length;H++){Ve=k[H];var e=ge+ay(Ve,H);W+=p0(Ve,G,oe,e,Pe)}else if(e=BM(k),typeof e=="function")for(k=e.call(k),H=0;!(Ve=k.next()).done;)Ve=Ve.value,e=ge+ay(Ve,H++),W+=p0(Ve,G,oe,e,Pe);else if(Ve==="object")throw G=String(k),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return W}function Kp(k,G,oe){if(k==null)return k;var ge=[],Pe=0;return p0(k,ge,"","",function(Ve){return G.call(oe,Ve,Pe++)}),ge}function VM(k){if(k._status===-1){var G=k._result;G=G(),G.then(function(oe){(k._status===0||k._status===-1)&&(k._status=1,k._result=oe)},function(oe){(k._status===0||k._status===-1)&&(k._status=2,k._result=oe)}),k._status===-1&&(k._status=0,k._result=G)}if(k._status===1)return k._result.default;throw k._result}var Us={current:null},g0={transition:null},GM={ReactCurrentDispatcher:Us,ReactCurrentBatchConfig:g0,ReactCurrentOwner:W1};di.Children={map:Kp,forEach:function(k,G,oe){Kp(k,function(){G.apply(this,arguments)},oe)},count:function(k){var G=0;return Kp(k,function(){G++}),G},toArray:function(k){return Kp(k,function(G){return G})||[]},only:function(k){if(!Y1(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};di.Component=Qv;di.Fragment=RM;di.Profiler=IM;di.PureComponent=V1;di.StrictMode=DM;di.Suspense=zM;di.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GM;di.cloneElement=function(k,G,oe){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var ge=Wb({},k.props),Pe=k.key,Ve=k.ref,W=k._owner;if(G!=null){if(G.ref!==void 0&&(Ve=G.ref,W=W1.current),G.key!==void 0&&(Pe=""+G.key),k.type&&k.type.defaultProps)var H=k.type.defaultProps;for(e in G)Zb.call(G,e)&&!Xb.hasOwnProperty(e)&&(ge[e]=G[e]===void 0&&H!==void 0?H[e]:G[e])}var e=arguments.length-2;if(e===1)ge.children=oe;else if(1<e){H=Array(e);for(var g=0;g<e;g++)H[g]=arguments[g+2];ge.children=H}return{$$typeof:pp,type:k.type,key:Pe,ref:Ve,props:ge,_owner:W}};di.createContext=function(k){return k={$$typeof:FM,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:kM,_context:k},k.Consumer=k};di.createElement=Kb;di.createFactory=function(k){var G=Kb.bind(null,k);return G.type=k,G};di.createRef=function(){return{current:null}};di.forwardRef=function(k){return{$$typeof:_M,render:k}};di.isValidElement=Y1;di.lazy=function(k){return{$$typeof:NM,_payload:{_status:-1,_result:k},_init:VM}};di.memo=function(k,G){return{$$typeof:OM,type:k,compare:G===void 0?null:G}};di.startTransition=function(k){var G=g0.transition;g0.transition={};try{k()}finally{g0.transition=G}};di.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};di.useCallback=function(k,G){return Us.current.useCallback(k,G)};di.useContext=function(k){return Us.current.useContext(k)};di.useDebugValue=function(){};di.useDeferredValue=function(k){return Us.current.useDeferredValue(k)};di.useEffect=function(k,G){return Us.current.useEffect(k,G)};di.useId=function(){return Us.current.useId()};di.useImperativeHandle=function(k,G,oe){return Us.current.useImperativeHandle(k,G,oe)};di.useInsertionEffect=function(k,G){return Us.current.useInsertionEffect(k,G)};di.useLayoutEffect=function(k,G){return Us.current.useLayoutEffect(k,G)};di.useMemo=function(k,G){return Us.current.useMemo(k,G)};di.useReducer=function(k,G,oe){return Us.current.useReducer(k,G,oe)};di.useRef=function(k){return Us.current.useRef(k)};di.useState=function(k){return Us.current.useState(k)};di.useSyncExternalStore=function(k,G,oe){return Us.current.useSyncExternalStore(k,G,oe)};di.useTransition=function(){return Us.current.useTransition()};di.version="18.2.0";Vb.exports=di;var Kr=Vb.exports;const Xo=dp(Kr),WM=LM({__proto__:null,default:Xo},[Kr]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YM=Kr,jM=Symbol.for("react.element"),ZM=Symbol.for("react.fragment"),XM=Object.prototype.hasOwnProperty,KM=YM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JM={key:!0,ref:!0,__self:!0,__source:!0};function Jb(k,G,oe){var ge,Pe={},Ve=null,W=null;oe!==void 0&&(Ve=""+oe),G.key!==void 0&&(Ve=""+G.key),G.ref!==void 0&&(W=G.ref);for(ge in G)XM.call(G,ge)&&!JM.hasOwnProperty(ge)&&(Pe[ge]=G[ge]);if(k&&k.defaultProps)for(ge in G=k.defaultProps,G)Pe[ge]===void 0&&(Pe[ge]=G[ge]);return{$$typeof:jM,type:k,key:Ve,ref:W,props:Pe,_owner:KM.current}}ag.Fragment=ZM;ag.jsx=Jb;ag.jsxs=Jb;Hb.exports=ag;var on=Hb.exports,zy={},Qb={exports:{}},Cl={},$b={exports:{}},qb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(k){function G(b,a){var C=b.length;b.push(a);e:for(;0<C;){var y=C-1>>>1,z=b[y];if(0<Pe(z,a))b[y]=a,b[C]=z,C=y;else break e}}function oe(b){return b.length===0?null:b[0]}function ge(b){if(b.length===0)return null;var a=b[0],C=b.pop();if(C!==a){b[0]=C;e:for(var y=0,z=b.length,I=z>>>1;y<I;){var B=2*(y+1)-1,F=b[B],O=B+1,N=b[O];if(0>Pe(F,C))O<z&&0>Pe(N,F)?(b[y]=N,b[O]=C,y=O):(b[y]=F,b[B]=C,y=B);else if(O<z&&0>Pe(N,C))b[y]=N,b[O]=C,y=O;else break e}}return a}function Pe(b,a){var C=b.sortIndex-a.sortIndex;return C!==0?C:b.id-a.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Ve=performance;k.unstable_now=function(){return Ve.now()}}else{var W=Date,H=W.now();k.unstable_now=function(){return W.now()-H}}var e=[],g=[],P=1,i=null,L=3,A=!1,v=!1,p=!1,t=typeof setTimeout=="function"?setTimeout:null,r=typeof clearTimeout=="function"?clearTimeout:null,s=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function n(b){for(var a=oe(g);a!==null;){if(a.callback===null)ge(g);else if(a.startTime<=b)ge(g),a.sortIndex=a.expirationTime,G(e,a);else break;a=oe(g)}}function l(b){if(p=!1,n(b),!v)if(oe(e)!==null)v=!0,x(f);else{var a=oe(g);a!==null&&S(l,a.startTime-b)}}function f(b,a){v=!1,p&&(p=!1,r(c),c=-1),A=!0;var C=L;try{for(n(a),i=oe(e);i!==null&&(!(i.expirationTime>a)||b&&!o());){var y=i.callback;if(typeof y=="function"){i.callback=null,L=i.priorityLevel;var z=y(i.expirationTime<=a);a=k.unstable_now(),typeof z=="function"?i.callback=z:i===oe(e)&&ge(e),n(a)}else ge(e);i=oe(e)}if(i!==null)var I=!0;else{var B=oe(g);B!==null&&S(l,B.startTime-a),I=!1}return I}finally{i=null,L=C,A=!1}}var u=!1,m=null,c=-1,w=5,h=-1;function o(){return!(k.unstable_now()-h<w)}function d(){if(m!==null){var b=k.unstable_now();h=b;var a=!0;try{a=m(!0,b)}finally{a?M():(u=!1,m=null)}}else u=!1}var M;if(typeof s=="function")M=function(){s(d)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,E=T.port2;T.port1.onmessage=d,M=function(){E.postMessage(null)}}else M=function(){t(d,0)};function x(b){m=b,u||(u=!0,M())}function S(b,a){c=t(function(){b(k.unstable_now())},a)}k.unstable_IdlePriority=5,k.unstable_ImmediatePriority=1,k.unstable_LowPriority=4,k.unstable_NormalPriority=3,k.unstable_Profiling=null,k.unstable_UserBlockingPriority=2,k.unstable_cancelCallback=function(b){b.callback=null},k.unstable_continueExecution=function(){v||A||(v=!0,x(f))},k.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<b?Math.floor(1e3/b):5},k.unstable_getCurrentPriorityLevel=function(){return L},k.unstable_getFirstCallbackNode=function(){return oe(e)},k.unstable_next=function(b){switch(L){case 1:case 2:case 3:var a=3;break;default:a=L}var C=L;L=a;try{return b()}finally{L=C}},k.unstable_pauseExecution=function(){},k.unstable_requestPaint=function(){},k.unstable_runWithPriority=function(b,a){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var C=L;L=b;try{return a()}finally{L=C}},k.unstable_scheduleCallback=function(b,a,C){var y=k.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?y+C:y):C=y,b){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=C+z,b={id:P++,callback:a,priorityLevel:b,startTime:C,expirationTime:z,sortIndex:-1},C>y?(b.sortIndex=C,G(g,b),oe(e)===null&&b===oe(g)&&(p?(r(c),c=-1):p=!0,S(l,C-y))):(b.sortIndex=z,G(e,b),v||A||(v=!0,x(f))),b},k.unstable_shouldYield=o,k.unstable_wrapCallback=function(b){var a=L;return function(){var C=L;L=a;try{return b.apply(this,arguments)}finally{L=C}}}})(qb);$b.exports=qb;var QM=$b.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e3=Kr,El=QM;function da(k){for(var G="https://reactjs.org/docs/error-decoder.html?invariant="+k,oe=1;oe<arguments.length;oe++)G+="&args[]="+encodeURIComponent(arguments[oe]);return"Minified React error #"+k+"; visit "+G+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var t3=new Set,Jd={};function Yh(k,G){Wv(k,G),Wv(k+"Capture",G)}function Wv(k,G){for(Jd[k]=G,k=0;k<G.length;k++)t3.add(G[k])}var Yf=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oy=Object.prototype.hasOwnProperty,$M=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f2={},c2={};function qM(k){return Oy.call(c2,k)?!0:Oy.call(f2,k)?!1:$M.test(k)?c2[k]=!0:(f2[k]=!0,!1)}function eS(k,G,oe,ge){if(oe!==null&&oe.type===0)return!1;switch(typeof G){case"function":case"symbol":return!0;case"boolean":return ge?!1:oe!==null?!oe.acceptsBooleans:(k=k.toLowerCase().slice(0,5),k!=="data-"&&k!=="aria-");default:return!1}}function tS(k,G,oe,ge){if(G===null||typeof G>"u"||eS(k,G,oe,ge))return!0;if(ge)return!1;if(oe!==null)switch(oe.type){case 3:return!G;case 4:return G===!1;case 5:return isNaN(G);case 6:return isNaN(G)||1>G}return!1}function Hs(k,G,oe,ge,Pe,Ve,W){this.acceptsBooleans=G===2||G===3||G===4,this.attributeName=ge,this.attributeNamespace=Pe,this.mustUseProperty=oe,this.propertyName=k,this.type=G,this.sanitizeURL=Ve,this.removeEmptyString=W}var ss={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(k){ss[k]=new Hs(k,0,!1,k,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(k){var G=k[0];ss[G]=new Hs(G,1,!1,k[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(k){ss[k]=new Hs(k,2,!1,k.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(k){ss[k]=new Hs(k,2,!1,k,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(k){ss[k]=new Hs(k,3,!1,k.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(k){ss[k]=new Hs(k,3,!0,k,null,!1,!1)});["capture","download"].forEach(function(k){ss[k]=new Hs(k,4,!1,k,null,!1,!1)});["cols","rows","size","span"].forEach(function(k){ss[k]=new Hs(k,6,!1,k,null,!1,!1)});["rowSpan","start"].forEach(function(k){ss[k]=new Hs(k,5,!1,k.toLowerCase(),null,!1,!1)});var j1=/[\-:]([a-z])/g;function Z1(k){return k[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(k){var G=k.replace(j1,Z1);ss[G]=new Hs(G,1,!1,k,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(k){var G=k.replace(j1,Z1);ss[G]=new Hs(G,1,!1,k,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(k){var G=k.replace(j1,Z1);ss[G]=new Hs(G,1,!1,k,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(k){ss[k]=new Hs(k,1,!1,k.toLowerCase(),null,!1,!1)});ss.xlinkHref=new Hs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(k){ss[k]=new Hs(k,1,!1,k.toLowerCase(),null,!0,!0)});function X1(k,G,oe,ge){var Pe=ss.hasOwnProperty(G)?ss[G]:null;(Pe!==null?Pe.type!==0:ge||!(2<G.length)||G[0]!=="o"&&G[0]!=="O"||G[1]!=="n"&&G[1]!=="N")&&(tS(G,oe,Pe,ge)&&(oe=null),ge||Pe===null?qM(G)&&(oe===null?k.removeAttribute(G):k.setAttribute(G,""+oe)):Pe.mustUseProperty?k[Pe.propertyName]=oe===null?Pe.type===3?!1:"":oe:(G=Pe.attributeName,ge=Pe.attributeNamespace,oe===null?k.removeAttribute(G):(Pe=Pe.type,oe=Pe===3||Pe===4&&oe===!0?"":""+oe,ge?k.setAttributeNS(ge,G,oe):k.setAttribute(G,oe))))}var Jf=e3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jp=Symbol.for("react.element"),Av=Symbol.for("react.portal"),Mv=Symbol.for("react.fragment"),K1=Symbol.for("react.strict_mode"),Ny=Symbol.for("react.profiler"),r3=Symbol.for("react.provider"),n3=Symbol.for("react.context"),J1=Symbol.for("react.forward_ref"),By=Symbol.for("react.suspense"),Uy=Symbol.for("react.suspense_list"),Q1=Symbol.for("react.memo"),Dc=Symbol.for("react.lazy"),a3=Symbol.for("react.offscreen"),h2=Symbol.iterator;function Ad(k){return k===null||typeof k!="object"?null:(k=h2&&k[h2]||k["@@iterator"],typeof k=="function"?k:null)}var fo=Object.assign,iy;function _d(k){if(iy===void 0)try{throw Error()}catch(oe){var G=oe.stack.trim().match(/\n( *(at )?)/);iy=G&&G[1]||""}return`
`+iy+k}var oy=!1;function sy(k,G){if(!k||oy)return"";oy=!0;var oe=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(G)if(G=function(){throw Error()},Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(g){var ge=g}Reflect.construct(k,[],G)}else{try{G.call()}catch(g){ge=g}k.call(G.prototype)}else{try{throw Error()}catch(g){ge=g}k()}}catch(g){if(g&&ge&&typeof g.stack=="string"){for(var Pe=g.stack.split(`
`),Ve=ge.stack.split(`
`),W=Pe.length-1,H=Ve.length-1;1<=W&&0<=H&&Pe[W]!==Ve[H];)H--;for(;1<=W&&0<=H;W--,H--)if(Pe[W]!==Ve[H]){if(W!==1||H!==1)do if(W--,H--,0>H||Pe[W]!==Ve[H]){var e=`
`+Pe[W].replace(" at new "," at ");return k.displayName&&e.includes("<anonymous>")&&(e=e.replace("<anonymous>",k.displayName)),e}while(1<=W&&0<=H);break}}}finally{oy=!1,Error.prepareStackTrace=oe}return(k=k?k.displayName||k.name:"")?_d(k):""}function rS(k){switch(k.tag){case 5:return _d(k.type);case 16:return _d("Lazy");case 13:return _d("Suspense");case 19:return _d("SuspenseList");case 0:case 2:case 15:return k=sy(k.type,!1),k;case 11:return k=sy(k.type.render,!1),k;case 1:return k=sy(k.type,!0),k;default:return""}}function Hy(k){if(k==null)return null;if(typeof k=="function")return k.displayName||k.name||null;if(typeof k=="string")return k;switch(k){case Mv:return"Fragment";case Av:return"Portal";case Ny:return"Profiler";case K1:return"StrictMode";case By:return"Suspense";case Uy:return"SuspenseList"}if(typeof k=="object")switch(k.$$typeof){case n3:return(k.displayName||"Context")+".Consumer";case r3:return(k._context.displayName||"Context")+".Provider";case J1:var G=k.render;return k=k.displayName,k||(k=G.displayName||G.name||"",k=k!==""?"ForwardRef("+k+")":"ForwardRef"),k;case Q1:return G=k.displayName||null,G!==null?G:Hy(k.type)||"Memo";case Dc:G=k._payload,k=k._init;try{return Hy(k(G))}catch{}}return null}function nS(k){var G=k.type;switch(k.tag){case 24:return"Cache";case 9:return(G.displayName||"Context")+".Consumer";case 10:return(G._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return k=G.render,k=k.displayName||k.name||"",G.displayName||(k!==""?"ForwardRef("+k+")":"ForwardRef");case 7:return"Fragment";case 5:return G;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hy(G);case 8:return G===K1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof G=="function")return G.displayName||G.name||null;if(typeof G=="string")return G}return null}function Xc(k){switch(typeof k){case"boolean":case"number":case"string":case"undefined":return k;case"object":return k;default:return""}}function i3(k){var G=k.type;return(k=k.nodeName)&&k.toLowerCase()==="input"&&(G==="checkbox"||G==="radio")}function aS(k){var G=i3(k)?"checked":"value",oe=Object.getOwnPropertyDescriptor(k.constructor.prototype,G),ge=""+k[G];if(!k.hasOwnProperty(G)&&typeof oe<"u"&&typeof oe.get=="function"&&typeof oe.set=="function"){var Pe=oe.get,Ve=oe.set;return Object.defineProperty(k,G,{configurable:!0,get:function(){return Pe.call(this)},set:function(W){ge=""+W,Ve.call(this,W)}}),Object.defineProperty(k,G,{enumerable:oe.enumerable}),{getValue:function(){return ge},setValue:function(W){ge=""+W},stopTracking:function(){k._valueTracker=null,delete k[G]}}}}function Qp(k){k._valueTracker||(k._valueTracker=aS(k))}function o3(k){if(!k)return!1;var G=k._valueTracker;if(!G)return!0;var oe=G.getValue(),ge="";return k&&(ge=i3(k)?k.checked?"true":"false":k.value),k=ge,k!==oe?(G.setValue(k),!0):!1}function C0(k){if(k=k||(typeof document<"u"?document:void 0),typeof k>"u")return null;try{return k.activeElement||k.body}catch{return k.body}}function Vy(k,G){var oe=G.checked;return fo({},G,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:oe??k._wrapperState.initialChecked})}function v2(k,G){var oe=G.defaultValue==null?"":G.defaultValue,ge=G.checked!=null?G.checked:G.defaultChecked;oe=Xc(G.value!=null?G.value:oe),k._wrapperState={initialChecked:ge,initialValue:oe,controlled:G.type==="checkbox"||G.type==="radio"?G.checked!=null:G.value!=null}}function s3(k,G){G=G.checked,G!=null&&X1(k,"checked",G,!1)}function Gy(k,G){s3(k,G);var oe=Xc(G.value),ge=G.type;if(oe!=null)ge==="number"?(oe===0&&k.value===""||k.value!=oe)&&(k.value=""+oe):k.value!==""+oe&&(k.value=""+oe);else if(ge==="submit"||ge==="reset"){k.removeAttribute("value");return}G.hasOwnProperty("value")?Wy(k,G.type,oe):G.hasOwnProperty("defaultValue")&&Wy(k,G.type,Xc(G.defaultValue)),G.checked==null&&G.defaultChecked!=null&&(k.defaultChecked=!!G.defaultChecked)}function d2(k,G,oe){if(G.hasOwnProperty("value")||G.hasOwnProperty("defaultValue")){var ge=G.type;if(!(ge!=="submit"&&ge!=="reset"||G.value!==void 0&&G.value!==null))return;G=""+k._wrapperState.initialValue,oe||G===k.value||(k.value=G),k.defaultValue=G}oe=k.name,oe!==""&&(k.name=""),k.defaultChecked=!!k._wrapperState.initialChecked,oe!==""&&(k.name=oe)}function Wy(k,G,oe){(G!=="number"||C0(k.ownerDocument)!==k)&&(oe==null?k.defaultValue=""+k._wrapperState.initialValue:k.defaultValue!==""+oe&&(k.defaultValue=""+oe))}var zd=Array.isArray;function Ov(k,G,oe,ge){if(k=k.options,G){G={};for(var Pe=0;Pe<oe.length;Pe++)G["$"+oe[Pe]]=!0;for(oe=0;oe<k.length;oe++)Pe=G.hasOwnProperty("$"+k[oe].value),k[oe].selected!==Pe&&(k[oe].selected=Pe),Pe&&ge&&(k[oe].defaultSelected=!0)}else{for(oe=""+Xc(oe),G=null,Pe=0;Pe<k.length;Pe++){if(k[Pe].value===oe){k[Pe].selected=!0,ge&&(k[Pe].defaultSelected=!0);return}G!==null||k[Pe].disabled||(G=k[Pe])}G!==null&&(G.selected=!0)}}function Yy(k,G){if(G.dangerouslySetInnerHTML!=null)throw Error(da(91));return fo({},G,{value:void 0,defaultValue:void 0,children:""+k._wrapperState.initialValue})}function p2(k,G){var oe=G.value;if(oe==null){if(oe=G.children,G=G.defaultValue,oe!=null){if(G!=null)throw Error(da(92));if(zd(oe)){if(1<oe.length)throw Error(da(93));oe=oe[0]}G=oe}G==null&&(G=""),oe=G}k._wrapperState={initialValue:Xc(oe)}}function l3(k,G){var oe=Xc(G.value),ge=Xc(G.defaultValue);oe!=null&&(oe=""+oe,oe!==k.value&&(k.value=oe),G.defaultValue==null&&k.defaultValue!==oe&&(k.defaultValue=oe)),ge!=null&&(k.defaultValue=""+ge)}function g2(k){var G=k.textContent;G===k._wrapperState.initialValue&&G!==""&&G!==null&&(k.value=G)}function u3(k){switch(k){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jy(k,G){return k==null||k==="http://www.w3.org/1999/xhtml"?u3(G):k==="http://www.w3.org/2000/svg"&&G==="foreignObject"?"http://www.w3.org/1999/xhtml":k}var $p,f3=function(k){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(G,oe,ge,Pe){MSApp.execUnsafeLocalFunction(function(){return k(G,oe,ge,Pe)})}:k}(function(k,G){if(k.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in k)k.innerHTML=G;else{for($p=$p||document.createElement("div"),$p.innerHTML="<svg>"+G.valueOf().toString()+"</svg>",G=$p.firstChild;k.firstChild;)k.removeChild(k.firstChild);for(;G.firstChild;)k.appendChild(G.firstChild)}});function Qd(k,G){if(G){var oe=k.firstChild;if(oe&&oe===k.lastChild&&oe.nodeType===3){oe.nodeValue=G;return}}k.textContent=G}var Hd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iS=["Webkit","ms","Moz","O"];Object.keys(Hd).forEach(function(k){iS.forEach(function(G){G=G+k.charAt(0).toUpperCase()+k.substring(1),Hd[G]=Hd[k]})});function c3(k,G,oe){return G==null||typeof G=="boolean"||G===""?"":oe||typeof G!="number"||G===0||Hd.hasOwnProperty(k)&&Hd[k]?(""+G).trim():G+"px"}function h3(k,G){k=k.style;for(var oe in G)if(G.hasOwnProperty(oe)){var ge=oe.indexOf("--")===0,Pe=c3(oe,G[oe],ge);oe==="float"&&(oe="cssFloat"),ge?k.setProperty(oe,Pe):k[oe]=Pe}}var oS=fo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zy(k,G){if(G){if(oS[k]&&(G.children!=null||G.dangerouslySetInnerHTML!=null))throw Error(da(137,k));if(G.dangerouslySetInnerHTML!=null){if(G.children!=null)throw Error(da(60));if(typeof G.dangerouslySetInnerHTML!="object"||!("__html"in G.dangerouslySetInnerHTML))throw Error(da(61))}if(G.style!=null&&typeof G.style!="object")throw Error(da(62))}}function Xy(k,G){if(k.indexOf("-")===-1)return typeof G.is=="string";switch(k){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ky=null;function $1(k){return k=k.target||k.srcElement||window,k.correspondingUseElement&&(k=k.correspondingUseElement),k.nodeType===3?k.parentNode:k}var Jy=null,Nv=null,Bv=null;function y2(k){if(k=mp(k)){if(typeof Jy!="function")throw Error(da(280));var G=k.stateNode;G&&(G=ug(G),Jy(k.stateNode,k.type,G))}}function v3(k){Nv?Bv?Bv.push(k):Bv=[k]:Nv=k}function d3(){if(Nv){var k=Nv,G=Bv;if(Bv=Nv=null,y2(k),G)for(k=0;k<G.length;k++)y2(G[k])}}function p3(k,G){return k(G)}function g3(){}var ly=!1;function y3(k,G,oe){if(ly)return k(G,oe);ly=!0;try{return p3(k,G,oe)}finally{ly=!1,(Nv!==null||Bv!==null)&&(g3(),d3())}}function $d(k,G){var oe=k.stateNode;if(oe===null)return null;var ge=ug(oe);if(ge===null)return null;oe=ge[G];e:switch(G){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(ge=!ge.disabled)||(k=k.type,ge=!(k==="button"||k==="input"||k==="select"||k==="textarea")),k=!ge;break e;default:k=!1}if(k)return null;if(oe&&typeof oe!="function")throw Error(da(231,G,typeof oe));return oe}var Qy=!1;if(Yf)try{var Md={};Object.defineProperty(Md,"passive",{get:function(){Qy=!0}}),window.addEventListener("test",Md,Md),window.removeEventListener("test",Md,Md)}catch{Qy=!1}function sS(k,G,oe,ge,Pe,Ve,W,H,e){var g=Array.prototype.slice.call(arguments,3);try{G.apply(oe,g)}catch(P){this.onError(P)}}var Vd=!1,L0=null,P0=!1,$y=null,lS={onError:function(k){Vd=!0,L0=k}};function uS(k,G,oe,ge,Pe,Ve,W,H,e){Vd=!1,L0=null,sS.apply(lS,arguments)}function fS(k,G,oe,ge,Pe,Ve,W,H,e){if(uS.apply(this,arguments),Vd){if(Vd){var g=L0;Vd=!1,L0=null}else throw Error(da(198));P0||(P0=!0,$y=g)}}function jh(k){var G=k,oe=k;if(k.alternate)for(;G.return;)G=G.return;else{k=G;do G=k,G.flags&4098&&(oe=G.return),k=G.return;while(k)}return G.tag===3?oe:null}function m3(k){if(k.tag===13){var G=k.memoizedState;if(G===null&&(k=k.alternate,k!==null&&(G=k.memoizedState)),G!==null)return G.dehydrated}return null}function m2(k){if(jh(k)!==k)throw Error(da(188))}function cS(k){var G=k.alternate;if(!G){if(G=jh(k),G===null)throw Error(da(188));return G!==k?null:k}for(var oe=k,ge=G;;){var Pe=oe.return;if(Pe===null)break;var Ve=Pe.alternate;if(Ve===null){if(ge=Pe.return,ge!==null){oe=ge;continue}break}if(Pe.child===Ve.child){for(Ve=Pe.child;Ve;){if(Ve===oe)return m2(Pe),k;if(Ve===ge)return m2(Pe),G;Ve=Ve.sibling}throw Error(da(188))}if(oe.return!==ge.return)oe=Pe,ge=Ve;else{for(var W=!1,H=Pe.child;H;){if(H===oe){W=!0,oe=Pe,ge=Ve;break}if(H===ge){W=!0,ge=Pe,oe=Ve;break}H=H.sibling}if(!W){for(H=Ve.child;H;){if(H===oe){W=!0,oe=Ve,ge=Pe;break}if(H===ge){W=!0,ge=Ve,oe=Pe;break}H=H.sibling}if(!W)throw Error(da(189))}}if(oe.alternate!==ge)throw Error(da(190))}if(oe.tag!==3)throw Error(da(188));return oe.stateNode.current===oe?k:G}function x3(k){return k=cS(k),k!==null?b3(k):null}function b3(k){if(k.tag===5||k.tag===6)return k;for(k=k.child;k!==null;){var G=b3(k);if(G!==null)return G;k=k.sibling}return null}var w3=El.unstable_scheduleCallback,x2=El.unstable_cancelCallback,hS=El.unstable_shouldYield,vS=El.unstable_requestPaint,Ao=El.unstable_now,dS=El.unstable_getCurrentPriorityLevel,q1=El.unstable_ImmediatePriority,T3=El.unstable_UserBlockingPriority,R0=El.unstable_NormalPriority,pS=El.unstable_LowPriority,A3=El.unstable_IdlePriority,ig=null,nf=null;function gS(k){if(nf&&typeof nf.onCommitFiberRoot=="function")try{nf.onCommitFiberRoot(ig,k,void 0,(k.current.flags&128)===128)}catch{}}var Lu=Math.clz32?Math.clz32:xS,yS=Math.log,mS=Math.LN2;function xS(k){return k>>>=0,k===0?32:31-(yS(k)/mS|0)|0}var qp=64,e0=4194304;function Od(k){switch(k&-k){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return k&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return k&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return k}}function D0(k,G){var oe=k.pendingLanes;if(oe===0)return 0;var ge=0,Pe=k.suspendedLanes,Ve=k.pingedLanes,W=oe&268435455;if(W!==0){var H=W&~Pe;H!==0?ge=Od(H):(Ve&=W,Ve!==0&&(ge=Od(Ve)))}else W=oe&~Pe,W!==0?ge=Od(W):Ve!==0&&(ge=Od(Ve));if(ge===0)return 0;if(G!==0&&G!==ge&&!(G&Pe)&&(Pe=ge&-ge,Ve=G&-G,Pe>=Ve||Pe===16&&(Ve&4194240)!==0))return G;if(ge&4&&(ge|=oe&16),G=k.entangledLanes,G!==0)for(k=k.entanglements,G&=ge;0<G;)oe=31-Lu(G),Pe=1<<oe,ge|=k[oe],G&=~Pe;return ge}function bS(k,G){switch(k){case 1:case 2:case 4:return G+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return G+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wS(k,G){for(var oe=k.suspendedLanes,ge=k.pingedLanes,Pe=k.expirationTimes,Ve=k.pendingLanes;0<Ve;){var W=31-Lu(Ve),H=1<<W,e=Pe[W];e===-1?(!(H&oe)||H&ge)&&(Pe[W]=bS(H,G)):e<=G&&(k.expiredLanes|=H),Ve&=~H}}function qy(k){return k=k.pendingLanes&-1073741825,k!==0?k:k&1073741824?1073741824:0}function M3(){var k=qp;return qp<<=1,!(qp&4194240)&&(qp=64),k}function uy(k){for(var G=[],oe=0;31>oe;oe++)G.push(k);return G}function gp(k,G,oe){k.pendingLanes|=G,G!==536870912&&(k.suspendedLanes=0,k.pingedLanes=0),k=k.eventTimes,G=31-Lu(G),k[G]=oe}function TS(k,G){var oe=k.pendingLanes&~G;k.pendingLanes=G,k.suspendedLanes=0,k.pingedLanes=0,k.expiredLanes&=G,k.mutableReadLanes&=G,k.entangledLanes&=G,G=k.entanglements;var ge=k.eventTimes;for(k=k.expirationTimes;0<oe;){var Pe=31-Lu(oe),Ve=1<<Pe;G[Pe]=0,ge[Pe]=-1,k[Pe]=-1,oe&=~Ve}}function em(k,G){var oe=k.entangledLanes|=G;for(k=k.entanglements;oe;){var ge=31-Lu(oe),Pe=1<<ge;Pe&G|k[ge]&G&&(k[ge]|=G),oe&=~Pe}}var Fi=0;function S3(k){return k&=-k,1<k?4<k?k&268435455?16:536870912:4:1}var E3,tm,C3,L3,P3,e1=!1,t0=[],Bc=null,Uc=null,Hc=null,qd=new Map,ep=new Map,Fc=[],AS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function b2(k,G){switch(k){case"focusin":case"focusout":Bc=null;break;case"dragenter":case"dragleave":Uc=null;break;case"mouseover":case"mouseout":Hc=null;break;case"pointerover":case"pointerout":qd.delete(G.pointerId);break;case"gotpointercapture":case"lostpointercapture":ep.delete(G.pointerId)}}function Sd(k,G,oe,ge,Pe,Ve){return k===null||k.nativeEvent!==Ve?(k={blockedOn:G,domEventName:oe,eventSystemFlags:ge,nativeEvent:Ve,targetContainers:[Pe]},G!==null&&(G=mp(G),G!==null&&tm(G)),k):(k.eventSystemFlags|=ge,G=k.targetContainers,Pe!==null&&G.indexOf(Pe)===-1&&G.push(Pe),k)}function MS(k,G,oe,ge,Pe){switch(G){case"focusin":return Bc=Sd(Bc,k,G,oe,ge,Pe),!0;case"dragenter":return Uc=Sd(Uc,k,G,oe,ge,Pe),!0;case"mouseover":return Hc=Sd(Hc,k,G,oe,ge,Pe),!0;case"pointerover":var Ve=Pe.pointerId;return qd.set(Ve,Sd(qd.get(Ve)||null,k,G,oe,ge,Pe)),!0;case"gotpointercapture":return Ve=Pe.pointerId,ep.set(Ve,Sd(ep.get(Ve)||null,k,G,oe,ge,Pe)),!0}return!1}function R3(k){var G=kh(k.target);if(G!==null){var oe=jh(G);if(oe!==null){if(G=oe.tag,G===13){if(G=m3(oe),G!==null){k.blockedOn=G,P3(k.priority,function(){C3(oe)});return}}else if(G===3&&oe.stateNode.current.memoizedState.isDehydrated){k.blockedOn=oe.tag===3?oe.stateNode.containerInfo:null;return}}}k.blockedOn=null}function y0(k){if(k.blockedOn!==null)return!1;for(var G=k.targetContainers;0<G.length;){var oe=t1(k.domEventName,k.eventSystemFlags,G[0],k.nativeEvent);if(oe===null){oe=k.nativeEvent;var ge=new oe.constructor(oe.type,oe);Ky=ge,oe.target.dispatchEvent(ge),Ky=null}else return G=mp(oe),G!==null&&tm(G),k.blockedOn=oe,!1;G.shift()}return!0}function w2(k,G,oe){y0(k)&&oe.delete(G)}function SS(){e1=!1,Bc!==null&&y0(Bc)&&(Bc=null),Uc!==null&&y0(Uc)&&(Uc=null),Hc!==null&&y0(Hc)&&(Hc=null),qd.forEach(w2),ep.forEach(w2)}function Ed(k,G){k.blockedOn===G&&(k.blockedOn=null,e1||(e1=!0,El.unstable_scheduleCallback(El.unstable_NormalPriority,SS)))}function tp(k){function G(Pe){return Ed(Pe,k)}if(0<t0.length){Ed(t0[0],k);for(var oe=1;oe<t0.length;oe++){var ge=t0[oe];ge.blockedOn===k&&(ge.blockedOn=null)}}for(Bc!==null&&Ed(Bc,k),Uc!==null&&Ed(Uc,k),Hc!==null&&Ed(Hc,k),qd.forEach(G),ep.forEach(G),oe=0;oe<Fc.length;oe++)ge=Fc[oe],ge.blockedOn===k&&(ge.blockedOn=null);for(;0<Fc.length&&(oe=Fc[0],oe.blockedOn===null);)R3(oe),oe.blockedOn===null&&Fc.shift()}var Uv=Jf.ReactCurrentBatchConfig,I0=!0;function ES(k,G,oe,ge){var Pe=Fi,Ve=Uv.transition;Uv.transition=null;try{Fi=1,rm(k,G,oe,ge)}finally{Fi=Pe,Uv.transition=Ve}}function CS(k,G,oe,ge){var Pe=Fi,Ve=Uv.transition;Uv.transition=null;try{Fi=4,rm(k,G,oe,ge)}finally{Fi=Pe,Uv.transition=Ve}}function rm(k,G,oe,ge){if(I0){var Pe=t1(k,G,oe,ge);if(Pe===null)xy(k,G,ge,k0,oe),b2(k,ge);else if(MS(Pe,k,G,oe,ge))ge.stopPropagation();else if(b2(k,ge),G&4&&-1<AS.indexOf(k)){for(;Pe!==null;){var Ve=mp(Pe);if(Ve!==null&&E3(Ve),Ve=t1(k,G,oe,ge),Ve===null&&xy(k,G,ge,k0,oe),Ve===Pe)break;Pe=Ve}Pe!==null&&ge.stopPropagation()}else xy(k,G,ge,null,oe)}}var k0=null;function t1(k,G,oe,ge){if(k0=null,k=$1(ge),k=kh(k),k!==null)if(G=jh(k),G===null)k=null;else if(oe=G.tag,oe===13){if(k=m3(G),k!==null)return k;k=null}else if(oe===3){if(G.stateNode.current.memoizedState.isDehydrated)return G.tag===3?G.stateNode.containerInfo:null;k=null}else G!==k&&(k=null);return k0=k,null}function D3(k){switch(k){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dS()){case q1:return 1;case T3:return 4;case R0:case pS:return 16;case A3:return 536870912;default:return 16}default:return 16}}var zc=null,nm=null,m0=null;function I3(){if(m0)return m0;var k,G=nm,oe=G.length,ge,Pe="value"in zc?zc.value:zc.textContent,Ve=Pe.length;for(k=0;k<oe&&G[k]===Pe[k];k++);var W=oe-k;for(ge=1;ge<=W&&G[oe-ge]===Pe[Ve-ge];ge++);return m0=Pe.slice(k,1<ge?1-ge:void 0)}function x0(k){var G=k.keyCode;return"charCode"in k?(k=k.charCode,k===0&&G===13&&(k=13)):k=G,k===10&&(k=13),32<=k||k===13?k:0}function r0(){return!0}function T2(){return!1}function Ll(k){function G(oe,ge,Pe,Ve,W){this._reactName=oe,this._targetInst=Pe,this.type=ge,this.nativeEvent=Ve,this.target=W,this.currentTarget=null;for(var H in k)k.hasOwnProperty(H)&&(oe=k[H],this[H]=oe?oe(Ve):Ve[H]);return this.isDefaultPrevented=(Ve.defaultPrevented!=null?Ve.defaultPrevented:Ve.returnValue===!1)?r0:T2,this.isPropagationStopped=T2,this}return fo(G.prototype,{preventDefault:function(){this.defaultPrevented=!0;var oe=this.nativeEvent;oe&&(oe.preventDefault?oe.preventDefault():typeof oe.returnValue!="unknown"&&(oe.returnValue=!1),this.isDefaultPrevented=r0)},stopPropagation:function(){var oe=this.nativeEvent;oe&&(oe.stopPropagation?oe.stopPropagation():typeof oe.cancelBubble!="unknown"&&(oe.cancelBubble=!0),this.isPropagationStopped=r0)},persist:function(){},isPersistent:r0}),G}var $v={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(k){return k.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},am=Ll($v),yp=fo({},$v,{view:0,detail:0}),LS=Ll(yp),fy,cy,Cd,og=fo({},yp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:im,button:0,buttons:0,relatedTarget:function(k){return k.relatedTarget===void 0?k.fromElement===k.srcElement?k.toElement:k.fromElement:k.relatedTarget},movementX:function(k){return"movementX"in k?k.movementX:(k!==Cd&&(Cd&&k.type==="mousemove"?(fy=k.screenX-Cd.screenX,cy=k.screenY-Cd.screenY):cy=fy=0,Cd=k),fy)},movementY:function(k){return"movementY"in k?k.movementY:cy}}),A2=Ll(og),PS=fo({},og,{dataTransfer:0}),RS=Ll(PS),DS=fo({},yp,{relatedTarget:0}),hy=Ll(DS),IS=fo({},$v,{animationName:0,elapsedTime:0,pseudoElement:0}),kS=Ll(IS),FS=fo({},$v,{clipboardData:function(k){return"clipboardData"in k?k.clipboardData:window.clipboardData}}),_S=Ll(FS),zS=fo({},$v,{data:0}),M2=Ll(zS),OS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function US(k){var G=this.nativeEvent;return G.getModifierState?G.getModifierState(k):(k=BS[k])?!!G[k]:!1}function im(){return US}var HS=fo({},yp,{key:function(k){if(k.key){var G=OS[k.key]||k.key;if(G!=="Unidentified")return G}return k.type==="keypress"?(k=x0(k),k===13?"Enter":String.fromCharCode(k)):k.type==="keydown"||k.type==="keyup"?NS[k.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:im,charCode:function(k){return k.type==="keypress"?x0(k):0},keyCode:function(k){return k.type==="keydown"||k.type==="keyup"?k.keyCode:0},which:function(k){return k.type==="keypress"?x0(k):k.type==="keydown"||k.type==="keyup"?k.keyCode:0}}),VS=Ll(HS),GS=fo({},og,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S2=Ll(GS),WS=fo({},yp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:im}),YS=Ll(WS),jS=fo({},$v,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZS=Ll(jS),XS=fo({},og,{deltaX:function(k){return"deltaX"in k?k.deltaX:"wheelDeltaX"in k?-k.wheelDeltaX:0},deltaY:function(k){return"deltaY"in k?k.deltaY:"wheelDeltaY"in k?-k.wheelDeltaY:"wheelDelta"in k?-k.wheelDelta:0},deltaZ:0,deltaMode:0}),KS=Ll(XS),JS=[9,13,27,32],om=Yf&&"CompositionEvent"in window,Gd=null;Yf&&"documentMode"in document&&(Gd=document.documentMode);var QS=Yf&&"TextEvent"in window&&!Gd,k3=Yf&&(!om||Gd&&8<Gd&&11>=Gd),E2=String.fromCharCode(32),C2=!1;function F3(k,G){switch(k){case"keyup":return JS.indexOf(G.keyCode)!==-1;case"keydown":return G.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _3(k){return k=k.detail,typeof k=="object"&&"data"in k?k.data:null}var Sv=!1;function $S(k,G){switch(k){case"compositionend":return _3(G);case"keypress":return G.which!==32?null:(C2=!0,E2);case"textInput":return k=G.data,k===E2&&C2?null:k;default:return null}}function qS(k,G){if(Sv)return k==="compositionend"||!om&&F3(k,G)?(k=I3(),m0=nm=zc=null,Sv=!1,k):null;switch(k){case"paste":return null;case"keypress":if(!(G.ctrlKey||G.altKey||G.metaKey)||G.ctrlKey&&G.altKey){if(G.char&&1<G.char.length)return G.char;if(G.which)return String.fromCharCode(G.which)}return null;case"compositionend":return k3&&G.locale!=="ko"?null:G.data;default:return null}}var e6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L2(k){var G=k&&k.nodeName&&k.nodeName.toLowerCase();return G==="input"?!!e6[k.type]:G==="textarea"}function z3(k,G,oe,ge){v3(ge),G=F0(G,"onChange"),0<G.length&&(oe=new am("onChange","change",null,oe,ge),k.push({event:oe,listeners:G}))}var Wd=null,rp=null;function t6(k){Z3(k,0)}function sg(k){var G=Lv(k);if(o3(G))return k}function r6(k,G){if(k==="change")return G}var O3=!1;if(Yf){var vy;if(Yf){var dy="oninput"in document;if(!dy){var P2=document.createElement("div");P2.setAttribute("oninput","return;"),dy=typeof P2.oninput=="function"}vy=dy}else vy=!1;O3=vy&&(!document.documentMode||9<document.documentMode)}function R2(){Wd&&(Wd.detachEvent("onpropertychange",N3),rp=Wd=null)}function N3(k){if(k.propertyName==="value"&&sg(rp)){var G=[];z3(G,rp,k,$1(k)),y3(t6,G)}}function n6(k,G,oe){k==="focusin"?(R2(),Wd=G,rp=oe,Wd.attachEvent("onpropertychange",N3)):k==="focusout"&&R2()}function a6(k){if(k==="selectionchange"||k==="keyup"||k==="keydown")return sg(rp)}function i6(k,G){if(k==="click")return sg(G)}function o6(k,G){if(k==="input"||k==="change")return sg(G)}function s6(k,G){return k===G&&(k!==0||1/k===1/G)||k!==k&&G!==G}var Ru=typeof Object.is=="function"?Object.is:s6;function np(k,G){if(Ru(k,G))return!0;if(typeof k!="object"||k===null||typeof G!="object"||G===null)return!1;var oe=Object.keys(k),ge=Object.keys(G);if(oe.length!==ge.length)return!1;for(ge=0;ge<oe.length;ge++){var Pe=oe[ge];if(!Oy.call(G,Pe)||!Ru(k[Pe],G[Pe]))return!1}return!0}function D2(k){for(;k&&k.firstChild;)k=k.firstChild;return k}function I2(k,G){var oe=D2(k);k=0;for(var ge;oe;){if(oe.nodeType===3){if(ge=k+oe.textContent.length,k<=G&&ge>=G)return{node:oe,offset:G-k};k=ge}e:{for(;oe;){if(oe.nextSibling){oe=oe.nextSibling;break e}oe=oe.parentNode}oe=void 0}oe=D2(oe)}}function B3(k,G){return k&&G?k===G?!0:k&&k.nodeType===3?!1:G&&G.nodeType===3?B3(k,G.parentNode):"contains"in k?k.contains(G):k.compareDocumentPosition?!!(k.compareDocumentPosition(G)&16):!1:!1}function U3(){for(var k=window,G=C0();G instanceof k.HTMLIFrameElement;){try{var oe=typeof G.contentWindow.location.href=="string"}catch{oe=!1}if(oe)k=G.contentWindow;else break;G=C0(k.document)}return G}function sm(k){var G=k&&k.nodeName&&k.nodeName.toLowerCase();return G&&(G==="input"&&(k.type==="text"||k.type==="search"||k.type==="tel"||k.type==="url"||k.type==="password")||G==="textarea"||k.contentEditable==="true")}function l6(k){var G=U3(),oe=k.focusedElem,ge=k.selectionRange;if(G!==oe&&oe&&oe.ownerDocument&&B3(oe.ownerDocument.documentElement,oe)){if(ge!==null&&sm(oe)){if(G=ge.start,k=ge.end,k===void 0&&(k=G),"selectionStart"in oe)oe.selectionStart=G,oe.selectionEnd=Math.min(k,oe.value.length);else if(k=(G=oe.ownerDocument||document)&&G.defaultView||window,k.getSelection){k=k.getSelection();var Pe=oe.textContent.length,Ve=Math.min(ge.start,Pe);ge=ge.end===void 0?Ve:Math.min(ge.end,Pe),!k.extend&&Ve>ge&&(Pe=ge,ge=Ve,Ve=Pe),Pe=I2(oe,Ve);var W=I2(oe,ge);Pe&&W&&(k.rangeCount!==1||k.anchorNode!==Pe.node||k.anchorOffset!==Pe.offset||k.focusNode!==W.node||k.focusOffset!==W.offset)&&(G=G.createRange(),G.setStart(Pe.node,Pe.offset),k.removeAllRanges(),Ve>ge?(k.addRange(G),k.extend(W.node,W.offset)):(G.setEnd(W.node,W.offset),k.addRange(G)))}}for(G=[],k=oe;k=k.parentNode;)k.nodeType===1&&G.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof oe.focus=="function"&&oe.focus(),oe=0;oe<G.length;oe++)k=G[oe],k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}var u6=Yf&&"documentMode"in document&&11>=document.documentMode,Ev=null,r1=null,Yd=null,n1=!1;function k2(k,G,oe){var ge=oe.window===oe?oe.document:oe.nodeType===9?oe:oe.ownerDocument;n1||Ev==null||Ev!==C0(ge)||(ge=Ev,"selectionStart"in ge&&sm(ge)?ge={start:ge.selectionStart,end:ge.selectionEnd}:(ge=(ge.ownerDocument&&ge.ownerDocument.defaultView||window).getSelection(),ge={anchorNode:ge.anchorNode,anchorOffset:ge.anchorOffset,focusNode:ge.focusNode,focusOffset:ge.focusOffset}),Yd&&np(Yd,ge)||(Yd=ge,ge=F0(r1,"onSelect"),0<ge.length&&(G=new am("onSelect","select",null,G,oe),k.push({event:G,listeners:ge}),G.target=Ev)))}function n0(k,G){var oe={};return oe[k.toLowerCase()]=G.toLowerCase(),oe["Webkit"+k]="webkit"+G,oe["Moz"+k]="moz"+G,oe}var Cv={animationend:n0("Animation","AnimationEnd"),animationiteration:n0("Animation","AnimationIteration"),animationstart:n0("Animation","AnimationStart"),transitionend:n0("Transition","TransitionEnd")},py={},H3={};Yf&&(H3=document.createElement("div").style,"AnimationEvent"in window||(delete Cv.animationend.animation,delete Cv.animationiteration.animation,delete Cv.animationstart.animation),"TransitionEvent"in window||delete Cv.transitionend.transition);function lg(k){if(py[k])return py[k];if(!Cv[k])return k;var G=Cv[k],oe;for(oe in G)if(G.hasOwnProperty(oe)&&oe in H3)return py[k]=G[oe];return k}var V3=lg("animationend"),G3=lg("animationiteration"),W3=lg("animationstart"),Y3=lg("transitionend"),j3=new Map,F2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jc(k,G){j3.set(k,G),Yh(G,[k])}for(var gy=0;gy<F2.length;gy++){var yy=F2[gy],f6=yy.toLowerCase(),c6=yy[0].toUpperCase()+yy.slice(1);Jc(f6,"on"+c6)}Jc(V3,"onAnimationEnd");Jc(G3,"onAnimationIteration");Jc(W3,"onAnimationStart");Jc("dblclick","onDoubleClick");Jc("focusin","onFocus");Jc("focusout","onBlur");Jc(Y3,"onTransitionEnd");Wv("onMouseEnter",["mouseout","mouseover"]);Wv("onMouseLeave",["mouseout","mouseover"]);Wv("onPointerEnter",["pointerout","pointerover"]);Wv("onPointerLeave",["pointerout","pointerover"]);Yh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nd));function _2(k,G,oe){var ge=k.type||"unknown-event";k.currentTarget=oe,fS(ge,G,void 0,k),k.currentTarget=null}function Z3(k,G){G=(G&4)!==0;for(var oe=0;oe<k.length;oe++){var ge=k[oe],Pe=ge.event;ge=ge.listeners;e:{var Ve=void 0;if(G)for(var W=ge.length-1;0<=W;W--){var H=ge[W],e=H.instance,g=H.currentTarget;if(H=H.listener,e!==Ve&&Pe.isPropagationStopped())break e;_2(Pe,H,g),Ve=e}else for(W=0;W<ge.length;W++){if(H=ge[W],e=H.instance,g=H.currentTarget,H=H.listener,e!==Ve&&Pe.isPropagationStopped())break e;_2(Pe,H,g),Ve=e}}}if(P0)throw k=$y,P0=!1,$y=null,k}function Zi(k,G){var oe=G[l1];oe===void 0&&(oe=G[l1]=new Set);var ge=k+"__bubble";oe.has(ge)||(X3(G,k,2,!1),oe.add(ge))}function my(k,G,oe){var ge=0;G&&(ge|=4),X3(oe,k,ge,G)}var a0="_reactListening"+Math.random().toString(36).slice(2);function ap(k){if(!k[a0]){k[a0]=!0,t3.forEach(function(oe){oe!=="selectionchange"&&(h6.has(oe)||my(oe,!1,k),my(oe,!0,k))});var G=k.nodeType===9?k:k.ownerDocument;G===null||G[a0]||(G[a0]=!0,my("selectionchange",!1,G))}}function X3(k,G,oe,ge){switch(D3(G)){case 1:var Pe=ES;break;case 4:Pe=CS;break;default:Pe=rm}oe=Pe.bind(null,G,oe,k),Pe=void 0,!Qy||G!=="touchstart"&&G!=="touchmove"&&G!=="wheel"||(Pe=!0),ge?Pe!==void 0?k.addEventListener(G,oe,{capture:!0,passive:Pe}):k.addEventListener(G,oe,!0):Pe!==void 0?k.addEventListener(G,oe,{passive:Pe}):k.addEventListener(G,oe,!1)}function xy(k,G,oe,ge,Pe){var Ve=ge;if(!(G&1)&&!(G&2)&&ge!==null)e:for(;;){if(ge===null)return;var W=ge.tag;if(W===3||W===4){var H=ge.stateNode.containerInfo;if(H===Pe||H.nodeType===8&&H.parentNode===Pe)break;if(W===4)for(W=ge.return;W!==null;){var e=W.tag;if((e===3||e===4)&&(e=W.stateNode.containerInfo,e===Pe||e.nodeType===8&&e.parentNode===Pe))return;W=W.return}for(;H!==null;){if(W=kh(H),W===null)return;if(e=W.tag,e===5||e===6){ge=Ve=W;continue e}H=H.parentNode}}ge=ge.return}y3(function(){var g=Ve,P=$1(oe),i=[];e:{var L=j3.get(k);if(L!==void 0){var A=am,v=k;switch(k){case"keypress":if(x0(oe)===0)break e;case"keydown":case"keyup":A=VS;break;case"focusin":v="focus",A=hy;break;case"focusout":v="blur",A=hy;break;case"beforeblur":case"afterblur":A=hy;break;case"click":if(oe.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=A2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=RS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=YS;break;case V3:case G3:case W3:A=kS;break;case Y3:A=ZS;break;case"scroll":A=LS;break;case"wheel":A=KS;break;case"copy":case"cut":case"paste":A=_S;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=S2}var p=(G&4)!==0,t=!p&&k==="scroll",r=p?L!==null?L+"Capture":null:L;p=[];for(var s=g,n;s!==null;){n=s;var l=n.stateNode;if(n.tag===5&&l!==null&&(n=l,r!==null&&(l=$d(s,r),l!=null&&p.push(ip(s,l,n)))),t)break;s=s.return}0<p.length&&(L=new A(L,v,null,oe,P),i.push({event:L,listeners:p}))}}if(!(G&7)){e:{if(L=k==="mouseover"||k==="pointerover",A=k==="mouseout"||k==="pointerout",L&&oe!==Ky&&(v=oe.relatedTarget||oe.fromElement)&&(kh(v)||v[jf]))break e;if((A||L)&&(L=P.window===P?P:(L=P.ownerDocument)?L.defaultView||L.parentWindow:window,A?(v=oe.relatedTarget||oe.toElement,A=g,v=v?kh(v):null,v!==null&&(t=jh(v),v!==t||v.tag!==5&&v.tag!==6)&&(v=null)):(A=null,v=g),A!==v)){if(p=A2,l="onMouseLeave",r="onMouseEnter",s="mouse",(k==="pointerout"||k==="pointerover")&&(p=S2,l="onPointerLeave",r="onPointerEnter",s="pointer"),t=A==null?L:Lv(A),n=v==null?L:Lv(v),L=new p(l,s+"leave",A,oe,P),L.target=t,L.relatedTarget=n,l=null,kh(P)===g&&(p=new p(r,s+"enter",v,oe,P),p.target=n,p.relatedTarget=t,l=p),t=l,A&&v)t:{for(p=A,r=v,s=0,n=p;n;n=xv(n))s++;for(n=0,l=r;l;l=xv(l))n++;for(;0<s-n;)p=xv(p),s--;for(;0<n-s;)r=xv(r),n--;for(;s--;){if(p===r||r!==null&&p===r.alternate)break t;p=xv(p),r=xv(r)}p=null}else p=null;A!==null&&z2(i,L,A,p,!1),v!==null&&t!==null&&z2(i,t,v,p,!0)}}e:{if(L=g?Lv(g):window,A=L.nodeName&&L.nodeName.toLowerCase(),A==="select"||A==="input"&&L.type==="file")var f=r6;else if(L2(L))if(O3)f=o6;else{f=a6;var u=n6}else(A=L.nodeName)&&A.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(f=i6);if(f&&(f=f(k,g))){z3(i,f,oe,P);break e}u&&u(k,L,g),k==="focusout"&&(u=L._wrapperState)&&u.controlled&&L.type==="number"&&Wy(L,"number",L.value)}switch(u=g?Lv(g):window,k){case"focusin":(L2(u)||u.contentEditable==="true")&&(Ev=u,r1=g,Yd=null);break;case"focusout":Yd=r1=Ev=null;break;case"mousedown":n1=!0;break;case"contextmenu":case"mouseup":case"dragend":n1=!1,k2(i,oe,P);break;case"selectionchange":if(u6)break;case"keydown":case"keyup":k2(i,oe,P)}var m;if(om)e:{switch(k){case"compositionstart":var c="onCompositionStart";break e;case"compositionend":c="onCompositionEnd";break e;case"compositionupdate":c="onCompositionUpdate";break e}c=void 0}else Sv?F3(k,oe)&&(c="onCompositionEnd"):k==="keydown"&&oe.keyCode===229&&(c="onCompositionStart");c&&(k3&&oe.locale!=="ko"&&(Sv||c!=="onCompositionStart"?c==="onCompositionEnd"&&Sv&&(m=I3()):(zc=P,nm="value"in zc?zc.value:zc.textContent,Sv=!0)),u=F0(g,c),0<u.length&&(c=new M2(c,k,null,oe,P),i.push({event:c,listeners:u}),m?c.data=m:(m=_3(oe),m!==null&&(c.data=m)))),(m=QS?$S(k,oe):qS(k,oe))&&(g=F0(g,"onBeforeInput"),0<g.length&&(P=new M2("onBeforeInput","beforeinput",null,oe,P),i.push({event:P,listeners:g}),P.data=m))}Z3(i,G)})}function ip(k,G,oe){return{instance:k,listener:G,currentTarget:oe}}function F0(k,G){for(var oe=G+"Capture",ge=[];k!==null;){var Pe=k,Ve=Pe.stateNode;Pe.tag===5&&Ve!==null&&(Pe=Ve,Ve=$d(k,oe),Ve!=null&&ge.unshift(ip(k,Ve,Pe)),Ve=$d(k,G),Ve!=null&&ge.push(ip(k,Ve,Pe))),k=k.return}return ge}function xv(k){if(k===null)return null;do k=k.return;while(k&&k.tag!==5);return k||null}function z2(k,G,oe,ge,Pe){for(var Ve=G._reactName,W=[];oe!==null&&oe!==ge;){var H=oe,e=H.alternate,g=H.stateNode;if(e!==null&&e===ge)break;H.tag===5&&g!==null&&(H=g,Pe?(e=$d(oe,Ve),e!=null&&W.unshift(ip(oe,e,H))):Pe||(e=$d(oe,Ve),e!=null&&W.push(ip(oe,e,H)))),oe=oe.return}W.length!==0&&k.push({event:G,listeners:W})}var v6=/\r\n?/g,d6=/\u0000|\uFFFD/g;function O2(k){return(typeof k=="string"?k:""+k).replace(v6,`
`).replace(d6,"")}function i0(k,G,oe){if(G=O2(G),O2(k)!==G&&oe)throw Error(da(425))}function _0(){}var a1=null,i1=null;function o1(k,G){return k==="textarea"||k==="noscript"||typeof G.children=="string"||typeof G.children=="number"||typeof G.dangerouslySetInnerHTML=="object"&&G.dangerouslySetInnerHTML!==null&&G.dangerouslySetInnerHTML.__html!=null}var s1=typeof setTimeout=="function"?setTimeout:void 0,p6=typeof clearTimeout=="function"?clearTimeout:void 0,N2=typeof Promise=="function"?Promise:void 0,g6=typeof queueMicrotask=="function"?queueMicrotask:typeof N2<"u"?function(k){return N2.resolve(null).then(k).catch(y6)}:s1;function y6(k){setTimeout(function(){throw k})}function by(k,G){var oe=G,ge=0;do{var Pe=oe.nextSibling;if(k.removeChild(oe),Pe&&Pe.nodeType===8)if(oe=Pe.data,oe==="/$"){if(ge===0){k.removeChild(Pe),tp(G);return}ge--}else oe!=="$"&&oe!=="$?"&&oe!=="$!"||ge++;oe=Pe}while(oe);tp(G)}function Vc(k){for(;k!=null;k=k.nextSibling){var G=k.nodeType;if(G===1||G===3)break;if(G===8){if(G=k.data,G==="$"||G==="$!"||G==="$?")break;if(G==="/$")return null}}return k}function B2(k){k=k.previousSibling;for(var G=0;k;){if(k.nodeType===8){var oe=k.data;if(oe==="$"||oe==="$!"||oe==="$?"){if(G===0)return k;G--}else oe==="/$"&&G++}k=k.previousSibling}return null}var qv=Math.random().toString(36).slice(2),rf="__reactFiber$"+qv,op="__reactProps$"+qv,jf="__reactContainer$"+qv,l1="__reactEvents$"+qv,m6="__reactListeners$"+qv,x6="__reactHandles$"+qv;function kh(k){var G=k[rf];if(G)return G;for(var oe=k.parentNode;oe;){if(G=oe[jf]||oe[rf]){if(oe=G.alternate,G.child!==null||oe!==null&&oe.child!==null)for(k=B2(k);k!==null;){if(oe=k[rf])return oe;k=B2(k)}return G}k=oe,oe=k.parentNode}return null}function mp(k){return k=k[rf]||k[jf],!k||k.tag!==5&&k.tag!==6&&k.tag!==13&&k.tag!==3?null:k}function Lv(k){if(k.tag===5||k.tag===6)return k.stateNode;throw Error(da(33))}function ug(k){return k[op]||null}var u1=[],Pv=-1;function Qc(k){return{current:k}}function Xi(k){0>Pv||(k.current=u1[Pv],u1[Pv]=null,Pv--)}function Gi(k,G){Pv++,u1[Pv]=k.current,k.current=G}var Kc={},Ms=Qc(Kc),al=Qc(!1),Bh=Kc;function Yv(k,G){var oe=k.type.contextTypes;if(!oe)return Kc;var ge=k.stateNode;if(ge&&ge.__reactInternalMemoizedUnmaskedChildContext===G)return ge.__reactInternalMemoizedMaskedChildContext;var Pe={},Ve;for(Ve in oe)Pe[Ve]=G[Ve];return ge&&(k=k.stateNode,k.__reactInternalMemoizedUnmaskedChildContext=G,k.__reactInternalMemoizedMaskedChildContext=Pe),Pe}function il(k){return k=k.childContextTypes,k!=null}function z0(){Xi(al),Xi(Ms)}function U2(k,G,oe){if(Ms.current!==Kc)throw Error(da(168));Gi(Ms,G),Gi(al,oe)}function K3(k,G,oe){var ge=k.stateNode;if(G=G.childContextTypes,typeof ge.getChildContext!="function")return oe;ge=ge.getChildContext();for(var Pe in ge)if(!(Pe in G))throw Error(da(108,nS(k)||"Unknown",Pe));return fo({},oe,ge)}function O0(k){return k=(k=k.stateNode)&&k.__reactInternalMemoizedMergedChildContext||Kc,Bh=Ms.current,Gi(Ms,k),Gi(al,al.current),!0}function H2(k,G,oe){var ge=k.stateNode;if(!ge)throw Error(da(169));oe?(k=K3(k,G,Bh),ge.__reactInternalMemoizedMergedChildContext=k,Xi(al),Xi(Ms),Gi(Ms,k)):Xi(al),Gi(al,oe)}var Nf=null,fg=!1,wy=!1;function J3(k){Nf===null?Nf=[k]:Nf.push(k)}function b6(k){fg=!0,J3(k)}function $c(){if(!wy&&Nf!==null){wy=!0;var k=0,G=Fi;try{var oe=Nf;for(Fi=1;k<oe.length;k++){var ge=oe[k];do ge=ge(!0);while(ge!==null)}Nf=null,fg=!1}catch(Pe){throw Nf!==null&&(Nf=Nf.slice(k+1)),w3(q1,$c),Pe}finally{Fi=G,wy=!1}}return null}var Rv=[],Dv=0,N0=null,B0=0,Zl=[],Xl=0,Uh=null,Uf=1,Hf="";function Ph(k,G){Rv[Dv++]=B0,Rv[Dv++]=N0,N0=k,B0=G}function Q3(k,G,oe){Zl[Xl++]=Uf,Zl[Xl++]=Hf,Zl[Xl++]=Uh,Uh=k;var ge=Uf;k=Hf;var Pe=32-Lu(ge)-1;ge&=~(1<<Pe),oe+=1;var Ve=32-Lu(G)+Pe;if(30<Ve){var W=Pe-Pe%5;Ve=(ge&(1<<W)-1).toString(32),ge>>=W,Pe-=W,Uf=1<<32-Lu(G)+Pe|oe<<Pe|ge,Hf=Ve+k}else Uf=1<<Ve|oe<<Pe|ge,Hf=k}function lm(k){k.return!==null&&(Ph(k,1),Q3(k,1,0))}function um(k){for(;k===N0;)N0=Rv[--Dv],Rv[Dv]=null,B0=Rv[--Dv],Rv[Dv]=null;for(;k===Uh;)Uh=Zl[--Xl],Zl[Xl]=null,Hf=Zl[--Xl],Zl[Xl]=null,Uf=Zl[--Xl],Zl[Xl]=null}var Sl=null,Ml=null,qi=!1,Eu=null;function $3(k,G){var oe=Jl(5,null,null,0);oe.elementType="DELETED",oe.stateNode=G,oe.return=k,G=k.deletions,G===null?(k.deletions=[oe],k.flags|=16):G.push(oe)}function V2(k,G){switch(k.tag){case 5:var oe=k.type;return G=G.nodeType!==1||oe.toLowerCase()!==G.nodeName.toLowerCase()?null:G,G!==null?(k.stateNode=G,Sl=k,Ml=Vc(G.firstChild),!0):!1;case 6:return G=k.pendingProps===""||G.nodeType!==3?null:G,G!==null?(k.stateNode=G,Sl=k,Ml=null,!0):!1;case 13:return G=G.nodeType!==8?null:G,G!==null?(oe=Uh!==null?{id:Uf,overflow:Hf}:null,k.memoizedState={dehydrated:G,treeContext:oe,retryLane:1073741824},oe=Jl(18,null,null,0),oe.stateNode=G,oe.return=k,k.child=oe,Sl=k,Ml=null,!0):!1;default:return!1}}function f1(k){return(k.mode&1)!==0&&(k.flags&128)===0}function c1(k){if(qi){var G=Ml;if(G){var oe=G;if(!V2(k,G)){if(f1(k))throw Error(da(418));G=Vc(oe.nextSibling);var ge=Sl;G&&V2(k,G)?$3(ge,oe):(k.flags=k.flags&-4097|2,qi=!1,Sl=k)}}else{if(f1(k))throw Error(da(418));k.flags=k.flags&-4097|2,qi=!1,Sl=k}}}function G2(k){for(k=k.return;k!==null&&k.tag!==5&&k.tag!==3&&k.tag!==13;)k=k.return;Sl=k}function o0(k){if(k!==Sl)return!1;if(!qi)return G2(k),qi=!0,!1;var G;if((G=k.tag!==3)&&!(G=k.tag!==5)&&(G=k.type,G=G!=="head"&&G!=="body"&&!o1(k.type,k.memoizedProps)),G&&(G=Ml)){if(f1(k))throw q3(),Error(da(418));for(;G;)$3(k,G),G=Vc(G.nextSibling)}if(G2(k),k.tag===13){if(k=k.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(da(317));e:{for(k=k.nextSibling,G=0;k;){if(k.nodeType===8){var oe=k.data;if(oe==="/$"){if(G===0){Ml=Vc(k.nextSibling);break e}G--}else oe!=="$"&&oe!=="$!"&&oe!=="$?"||G++}k=k.nextSibling}Ml=null}}else Ml=Sl?Vc(k.stateNode.nextSibling):null;return!0}function q3(){for(var k=Ml;k;)k=Vc(k.nextSibling)}function jv(){Ml=Sl=null,qi=!1}function fm(k){Eu===null?Eu=[k]:Eu.push(k)}var w6=Jf.ReactCurrentBatchConfig;function Mu(k,G){if(k&&k.defaultProps){G=fo({},G),k=k.defaultProps;for(var oe in k)G[oe]===void 0&&(G[oe]=k[oe]);return G}return G}var U0=Qc(null),H0=null,Iv=null,cm=null;function hm(){cm=Iv=H0=null}function vm(k){var G=U0.current;Xi(U0),k._currentValue=G}function h1(k,G,oe){for(;k!==null;){var ge=k.alternate;if((k.childLanes&G)!==G?(k.childLanes|=G,ge!==null&&(ge.childLanes|=G)):ge!==null&&(ge.childLanes&G)!==G&&(ge.childLanes|=G),k===oe)break;k=k.return}}function Hv(k,G){H0=k,cm=Iv=null,k=k.dependencies,k!==null&&k.firstContext!==null&&(k.lanes&G&&(nl=!0),k.firstContext=null)}function $l(k){var G=k._currentValue;if(cm!==k)if(k={context:k,memoizedValue:G,next:null},Iv===null){if(H0===null)throw Error(da(308));Iv=k,H0.dependencies={lanes:0,firstContext:k}}else Iv=Iv.next=k;return G}var Fh=null;function dm(k){Fh===null?Fh=[k]:Fh.push(k)}function ew(k,G,oe,ge){var Pe=G.interleaved;return Pe===null?(oe.next=oe,dm(G)):(oe.next=Pe.next,Pe.next=oe),G.interleaved=oe,Zf(k,ge)}function Zf(k,G){k.lanes|=G;var oe=k.alternate;for(oe!==null&&(oe.lanes|=G),oe=k,k=k.return;k!==null;)k.childLanes|=G,oe=k.alternate,oe!==null&&(oe.childLanes|=G),oe=k,k=k.return;return oe.tag===3?oe.stateNode:null}var Ic=!1;function pm(k){k.updateQueue={baseState:k.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tw(k,G){k=k.updateQueue,G.updateQueue===k&&(G.updateQueue={baseState:k.baseState,firstBaseUpdate:k.firstBaseUpdate,lastBaseUpdate:k.lastBaseUpdate,shared:k.shared,effects:k.effects})}function Vf(k,G){return{eventTime:k,lane:G,tag:0,payload:null,callback:null,next:null}}function Gc(k,G,oe){var ge=k.updateQueue;if(ge===null)return null;if(ge=ge.shared,Mi&2){var Pe=ge.pending;return Pe===null?G.next=G:(G.next=Pe.next,Pe.next=G),ge.pending=G,Zf(k,oe)}return Pe=ge.interleaved,Pe===null?(G.next=G,dm(ge)):(G.next=Pe.next,Pe.next=G),ge.interleaved=G,Zf(k,oe)}function b0(k,G,oe){if(G=G.updateQueue,G!==null&&(G=G.shared,(oe&4194240)!==0)){var ge=G.lanes;ge&=k.pendingLanes,oe|=ge,G.lanes=oe,em(k,oe)}}function W2(k,G){var oe=k.updateQueue,ge=k.alternate;if(ge!==null&&(ge=ge.updateQueue,oe===ge)){var Pe=null,Ve=null;if(oe=oe.firstBaseUpdate,oe!==null){do{var W={eventTime:oe.eventTime,lane:oe.lane,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null};Ve===null?Pe=Ve=W:Ve=Ve.next=W,oe=oe.next}while(oe!==null);Ve===null?Pe=Ve=G:Ve=Ve.next=G}else Pe=Ve=G;oe={baseState:ge.baseState,firstBaseUpdate:Pe,lastBaseUpdate:Ve,shared:ge.shared,effects:ge.effects},k.updateQueue=oe;return}k=oe.lastBaseUpdate,k===null?oe.firstBaseUpdate=G:k.next=G,oe.lastBaseUpdate=G}function V0(k,G,oe,ge){var Pe=k.updateQueue;Ic=!1;var Ve=Pe.firstBaseUpdate,W=Pe.lastBaseUpdate,H=Pe.shared.pending;if(H!==null){Pe.shared.pending=null;var e=H,g=e.next;e.next=null,W===null?Ve=g:W.next=g,W=e;var P=k.alternate;P!==null&&(P=P.updateQueue,H=P.lastBaseUpdate,H!==W&&(H===null?P.firstBaseUpdate=g:H.next=g,P.lastBaseUpdate=e))}if(Ve!==null){var i=Pe.baseState;W=0,P=g=e=null,H=Ve;do{var L=H.lane,A=H.eventTime;if((ge&L)===L){P!==null&&(P=P.next={eventTime:A,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var v=k,p=H;switch(L=G,A=oe,p.tag){case 1:if(v=p.payload,typeof v=="function"){i=v.call(A,i,L);break e}i=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,L=typeof v=="function"?v.call(A,i,L):v,L==null)break e;i=fo({},i,L);break e;case 2:Ic=!0}}H.callback!==null&&H.lane!==0&&(k.flags|=64,L=Pe.effects,L===null?Pe.effects=[H]:L.push(H))}else A={eventTime:A,lane:L,tag:H.tag,payload:H.payload,callback:H.callback,next:null},P===null?(g=P=A,e=i):P=P.next=A,W|=L;if(H=H.next,H===null){if(H=Pe.shared.pending,H===null)break;L=H,H=L.next,L.next=null,Pe.lastBaseUpdate=L,Pe.shared.pending=null}}while(1);if(P===null&&(e=i),Pe.baseState=e,Pe.firstBaseUpdate=g,Pe.lastBaseUpdate=P,G=Pe.shared.interleaved,G!==null){Pe=G;do W|=Pe.lane,Pe=Pe.next;while(Pe!==G)}else Ve===null&&(Pe.shared.lanes=0);Vh|=W,k.lanes=W,k.memoizedState=i}}function Y2(k,G,oe){if(k=G.effects,G.effects=null,k!==null)for(G=0;G<k.length;G++){var ge=k[G],Pe=ge.callback;if(Pe!==null){if(ge.callback=null,ge=oe,typeof Pe!="function")throw Error(da(191,Pe));Pe.call(ge)}}}var rw=new e3.Component().refs;function v1(k,G,oe,ge){G=k.memoizedState,oe=oe(ge,G),oe=oe==null?G:fo({},G,oe),k.memoizedState=oe,k.lanes===0&&(k.updateQueue.baseState=oe)}var cg={isMounted:function(k){return(k=k._reactInternals)?jh(k)===k:!1},enqueueSetState:function(k,G,oe){k=k._reactInternals;var ge=Bs(),Pe=Yc(k),Ve=Vf(ge,Pe);Ve.payload=G,oe!=null&&(Ve.callback=oe),G=Gc(k,Ve,Pe),G!==null&&(Pu(G,k,Pe,ge),b0(G,k,Pe))},enqueueReplaceState:function(k,G,oe){k=k._reactInternals;var ge=Bs(),Pe=Yc(k),Ve=Vf(ge,Pe);Ve.tag=1,Ve.payload=G,oe!=null&&(Ve.callback=oe),G=Gc(k,Ve,Pe),G!==null&&(Pu(G,k,Pe,ge),b0(G,k,Pe))},enqueueForceUpdate:function(k,G){k=k._reactInternals;var oe=Bs(),ge=Yc(k),Pe=Vf(oe,ge);Pe.tag=2,G!=null&&(Pe.callback=G),G=Gc(k,Pe,ge),G!==null&&(Pu(G,k,ge,oe),b0(G,k,ge))}};function j2(k,G,oe,ge,Pe,Ve,W){return k=k.stateNode,typeof k.shouldComponentUpdate=="function"?k.shouldComponentUpdate(ge,Ve,W):G.prototype&&G.prototype.isPureReactComponent?!np(oe,ge)||!np(Pe,Ve):!0}function nw(k,G,oe){var ge=!1,Pe=Kc,Ve=G.contextType;return typeof Ve=="object"&&Ve!==null?Ve=$l(Ve):(Pe=il(G)?Bh:Ms.current,ge=G.contextTypes,Ve=(ge=ge!=null)?Yv(k,Pe):Kc),G=new G(oe,Ve),k.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,G.updater=cg,k.stateNode=G,G._reactInternals=k,ge&&(k=k.stateNode,k.__reactInternalMemoizedUnmaskedChildContext=Pe,k.__reactInternalMemoizedMaskedChildContext=Ve),G}function Z2(k,G,oe,ge){k=G.state,typeof G.componentWillReceiveProps=="function"&&G.componentWillReceiveProps(oe,ge),typeof G.UNSAFE_componentWillReceiveProps=="function"&&G.UNSAFE_componentWillReceiveProps(oe,ge),G.state!==k&&cg.enqueueReplaceState(G,G.state,null)}function d1(k,G,oe,ge){var Pe=k.stateNode;Pe.props=oe,Pe.state=k.memoizedState,Pe.refs=rw,pm(k);var Ve=G.contextType;typeof Ve=="object"&&Ve!==null?Pe.context=$l(Ve):(Ve=il(G)?Bh:Ms.current,Pe.context=Yv(k,Ve)),Pe.state=k.memoizedState,Ve=G.getDerivedStateFromProps,typeof Ve=="function"&&(v1(k,G,Ve,oe),Pe.state=k.memoizedState),typeof G.getDerivedStateFromProps=="function"||typeof Pe.getSnapshotBeforeUpdate=="function"||typeof Pe.UNSAFE_componentWillMount!="function"&&typeof Pe.componentWillMount!="function"||(G=Pe.state,typeof Pe.componentWillMount=="function"&&Pe.componentWillMount(),typeof Pe.UNSAFE_componentWillMount=="function"&&Pe.UNSAFE_componentWillMount(),G!==Pe.state&&cg.enqueueReplaceState(Pe,Pe.state,null),V0(k,oe,Pe,ge),Pe.state=k.memoizedState),typeof Pe.componentDidMount=="function"&&(k.flags|=4194308)}function Ld(k,G,oe){if(k=oe.ref,k!==null&&typeof k!="function"&&typeof k!="object"){if(oe._owner){if(oe=oe._owner,oe){if(oe.tag!==1)throw Error(da(309));var ge=oe.stateNode}if(!ge)throw Error(da(147,k));var Pe=ge,Ve=""+k;return G!==null&&G.ref!==null&&typeof G.ref=="function"&&G.ref._stringRef===Ve?G.ref:(G=function(W){var H=Pe.refs;H===rw&&(H=Pe.refs={}),W===null?delete H[Ve]:H[Ve]=W},G._stringRef=Ve,G)}if(typeof k!="string")throw Error(da(284));if(!oe._owner)throw Error(da(290,k))}return k}function s0(k,G){throw k=Object.prototype.toString.call(G),Error(da(31,k==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":k))}function X2(k){var G=k._init;return G(k._payload)}function aw(k){function G(r,s){if(k){var n=r.deletions;n===null?(r.deletions=[s],r.flags|=16):n.push(s)}}function oe(r,s){if(!k)return null;for(;s!==null;)G(r,s),s=s.sibling;return null}function ge(r,s){for(r=new Map;s!==null;)s.key!==null?r.set(s.key,s):r.set(s.index,s),s=s.sibling;return r}function Pe(r,s){return r=jc(r,s),r.index=0,r.sibling=null,r}function Ve(r,s,n){return r.index=n,k?(n=r.alternate,n!==null?(n=n.index,n<s?(r.flags|=2,s):n):(r.flags|=2,s)):(r.flags|=1048576,s)}function W(r){return k&&r.alternate===null&&(r.flags|=2),r}function H(r,s,n,l){return s===null||s.tag!==6?(s=Ly(n,r.mode,l),s.return=r,s):(s=Pe(s,n),s.return=r,s)}function e(r,s,n,l){var f=n.type;return f===Mv?P(r,s,n.props.children,l,n.key):s!==null&&(s.elementType===f||typeof f=="object"&&f!==null&&f.$$typeof===Dc&&X2(f)===s.type)?(l=Pe(s,n.props),l.ref=Ld(r,s,n),l.return=r,l):(l=E0(n.type,n.key,n.props,null,r.mode,l),l.ref=Ld(r,s,n),l.return=r,l)}function g(r,s,n,l){return s===null||s.tag!==4||s.stateNode.containerInfo!==n.containerInfo||s.stateNode.implementation!==n.implementation?(s=Py(n,r.mode,l),s.return=r,s):(s=Pe(s,n.children||[]),s.return=r,s)}function P(r,s,n,l,f){return s===null||s.tag!==7?(s=Nh(n,r.mode,l,f),s.return=r,s):(s=Pe(s,n),s.return=r,s)}function i(r,s,n){if(typeof s=="string"&&s!==""||typeof s=="number")return s=Ly(""+s,r.mode,n),s.return=r,s;if(typeof s=="object"&&s!==null){switch(s.$$typeof){case Jp:return n=E0(s.type,s.key,s.props,null,r.mode,n),n.ref=Ld(r,null,s),n.return=r,n;case Av:return s=Py(s,r.mode,n),s.return=r,s;case Dc:var l=s._init;return i(r,l(s._payload),n)}if(zd(s)||Ad(s))return s=Nh(s,r.mode,n,null),s.return=r,s;s0(r,s)}return null}function L(r,s,n,l){var f=s!==null?s.key:null;if(typeof n=="string"&&n!==""||typeof n=="number")return f!==null?null:H(r,s,""+n,l);if(typeof n=="object"&&n!==null){switch(n.$$typeof){case Jp:return n.key===f?e(r,s,n,l):null;case Av:return n.key===f?g(r,s,n,l):null;case Dc:return f=n._init,L(r,s,f(n._payload),l)}if(zd(n)||Ad(n))return f!==null?null:P(r,s,n,l,null);s0(r,n)}return null}function A(r,s,n,l,f){if(typeof l=="string"&&l!==""||typeof l=="number")return r=r.get(n)||null,H(s,r,""+l,f);if(typeof l=="object"&&l!==null){switch(l.$$typeof){case Jp:return r=r.get(l.key===null?n:l.key)||null,e(s,r,l,f);case Av:return r=r.get(l.key===null?n:l.key)||null,g(s,r,l,f);case Dc:var u=l._init;return A(r,s,n,u(l._payload),f)}if(zd(l)||Ad(l))return r=r.get(n)||null,P(s,r,l,f,null);s0(s,l)}return null}function v(r,s,n,l){for(var f=null,u=null,m=s,c=s=0,w=null;m!==null&&c<n.length;c++){m.index>c?(w=m,m=null):w=m.sibling;var h=L(r,m,n[c],l);if(h===null){m===null&&(m=w);break}k&&m&&h.alternate===null&&G(r,m),s=Ve(h,s,c),u===null?f=h:u.sibling=h,u=h,m=w}if(c===n.length)return oe(r,m),qi&&Ph(r,c),f;if(m===null){for(;c<n.length;c++)m=i(r,n[c],l),m!==null&&(s=Ve(m,s,c),u===null?f=m:u.sibling=m,u=m);return qi&&Ph(r,c),f}for(m=ge(r,m);c<n.length;c++)w=A(m,r,c,n[c],l),w!==null&&(k&&w.alternate!==null&&m.delete(w.key===null?c:w.key),s=Ve(w,s,c),u===null?f=w:u.sibling=w,u=w);return k&&m.forEach(function(o){return G(r,o)}),qi&&Ph(r,c),f}function p(r,s,n,l){var f=Ad(n);if(typeof f!="function")throw Error(da(150));if(n=f.call(n),n==null)throw Error(da(151));for(var u=f=null,m=s,c=s=0,w=null,h=n.next();m!==null&&!h.done;c++,h=n.next()){m.index>c?(w=m,m=null):w=m.sibling;var o=L(r,m,h.value,l);if(o===null){m===null&&(m=w);break}k&&m&&o.alternate===null&&G(r,m),s=Ve(o,s,c),u===null?f=o:u.sibling=o,u=o,m=w}if(h.done)return oe(r,m),qi&&Ph(r,c),f;if(m===null){for(;!h.done;c++,h=n.next())h=i(r,h.value,l),h!==null&&(s=Ve(h,s,c),u===null?f=h:u.sibling=h,u=h);return qi&&Ph(r,c),f}for(m=ge(r,m);!h.done;c++,h=n.next())h=A(m,r,c,h.value,l),h!==null&&(k&&h.alternate!==null&&m.delete(h.key===null?c:h.key),s=Ve(h,s,c),u===null?f=h:u.sibling=h,u=h);return k&&m.forEach(function(d){return G(r,d)}),qi&&Ph(r,c),f}function t(r,s,n,l){if(typeof n=="object"&&n!==null&&n.type===Mv&&n.key===null&&(n=n.props.children),typeof n=="object"&&n!==null){switch(n.$$typeof){case Jp:e:{for(var f=n.key,u=s;u!==null;){if(u.key===f){if(f=n.type,f===Mv){if(u.tag===7){oe(r,u.sibling),s=Pe(u,n.props.children),s.return=r,r=s;break e}}else if(u.elementType===f||typeof f=="object"&&f!==null&&f.$$typeof===Dc&&X2(f)===u.type){oe(r,u.sibling),s=Pe(u,n.props),s.ref=Ld(r,u,n),s.return=r,r=s;break e}oe(r,u);break}else G(r,u);u=u.sibling}n.type===Mv?(s=Nh(n.props.children,r.mode,l,n.key),s.return=r,r=s):(l=E0(n.type,n.key,n.props,null,r.mode,l),l.ref=Ld(r,s,n),l.return=r,r=l)}return W(r);case Av:e:{for(u=n.key;s!==null;){if(s.key===u)if(s.tag===4&&s.stateNode.containerInfo===n.containerInfo&&s.stateNode.implementation===n.implementation){oe(r,s.sibling),s=Pe(s,n.children||[]),s.return=r,r=s;break e}else{oe(r,s);break}else G(r,s);s=s.sibling}s=Py(n,r.mode,l),s.return=r,r=s}return W(r);case Dc:return u=n._init,t(r,s,u(n._payload),l)}if(zd(n))return v(r,s,n,l);if(Ad(n))return p(r,s,n,l);s0(r,n)}return typeof n=="string"&&n!==""||typeof n=="number"?(n=""+n,s!==null&&s.tag===6?(oe(r,s.sibling),s=Pe(s,n),s.return=r,r=s):(oe(r,s),s=Ly(n,r.mode,l),s.return=r,r=s),W(r)):oe(r,s)}return t}var Zv=aw(!0),iw=aw(!1),xp={},af=Qc(xp),sp=Qc(xp),lp=Qc(xp);function _h(k){if(k===xp)throw Error(da(174));return k}function gm(k,G){switch(Gi(lp,G),Gi(sp,k),Gi(af,xp),k=G.nodeType,k){case 9:case 11:G=(G=G.documentElement)?G.namespaceURI:jy(null,"");break;default:k=k===8?G.parentNode:G,G=k.namespaceURI||null,k=k.tagName,G=jy(G,k)}Xi(af),Gi(af,G)}function Xv(){Xi(af),Xi(sp),Xi(lp)}function ow(k){_h(lp.current);var G=_h(af.current),oe=jy(G,k.type);G!==oe&&(Gi(sp,k),Gi(af,oe))}function ym(k){sp.current===k&&(Xi(af),Xi(sp))}var lo=Qc(0);function G0(k){for(var G=k;G!==null;){if(G.tag===13){var oe=G.memoizedState;if(oe!==null&&(oe=oe.dehydrated,oe===null||oe.data==="$?"||oe.data==="$!"))return G}else if(G.tag===19&&G.memoizedProps.revealOrder!==void 0){if(G.flags&128)return G}else if(G.child!==null){G.child.return=G,G=G.child;continue}if(G===k)break;for(;G.sibling===null;){if(G.return===null||G.return===k)return null;G=G.return}G.sibling.return=G.return,G=G.sibling}return null}var Ty=[];function mm(){for(var k=0;k<Ty.length;k++)Ty[k]._workInProgressVersionPrimary=null;Ty.length=0}var w0=Jf.ReactCurrentDispatcher,Ay=Jf.ReactCurrentBatchConfig,Hh=0,uo=null,Oo=null,Zo=null,W0=!1,jd=!1,up=0,T6=0;function ws(){throw Error(da(321))}function xm(k,G){if(G===null)return!1;for(var oe=0;oe<G.length&&oe<k.length;oe++)if(!Ru(k[oe],G[oe]))return!1;return!0}function bm(k,G,oe,ge,Pe,Ve){if(Hh=Ve,uo=G,G.memoizedState=null,G.updateQueue=null,G.lanes=0,w0.current=k===null||k.memoizedState===null?E6:C6,k=oe(ge,Pe),jd){Ve=0;do{if(jd=!1,up=0,25<=Ve)throw Error(da(301));Ve+=1,Zo=Oo=null,G.updateQueue=null,w0.current=L6,k=oe(ge,Pe)}while(jd)}if(w0.current=Y0,G=Oo!==null&&Oo.next!==null,Hh=0,Zo=Oo=uo=null,W0=!1,G)throw Error(da(300));return k}function wm(){var k=up!==0;return up=0,k}function tf(){var k={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zo===null?uo.memoizedState=Zo=k:Zo=Zo.next=k,Zo}function ql(){if(Oo===null){var k=uo.alternate;k=k!==null?k.memoizedState:null}else k=Oo.next;var G=Zo===null?uo.memoizedState:Zo.next;if(G!==null)Zo=G,Oo=k;else{if(k===null)throw Error(da(310));Oo=k,k={memoizedState:Oo.memoizedState,baseState:Oo.baseState,baseQueue:Oo.baseQueue,queue:Oo.queue,next:null},Zo===null?uo.memoizedState=Zo=k:Zo=Zo.next=k}return Zo}function fp(k,G){return typeof G=="function"?G(k):G}function My(k){var G=ql(),oe=G.queue;if(oe===null)throw Error(da(311));oe.lastRenderedReducer=k;var ge=Oo,Pe=ge.baseQueue,Ve=oe.pending;if(Ve!==null){if(Pe!==null){var W=Pe.next;Pe.next=Ve.next,Ve.next=W}ge.baseQueue=Pe=Ve,oe.pending=null}if(Pe!==null){Ve=Pe.next,ge=ge.baseState;var H=W=null,e=null,g=Ve;do{var P=g.lane;if((Hh&P)===P)e!==null&&(e=e.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),ge=g.hasEagerState?g.eagerState:k(ge,g.action);else{var i={lane:P,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};e===null?(H=e=i,W=ge):e=e.next=i,uo.lanes|=P,Vh|=P}g=g.next}while(g!==null&&g!==Ve);e===null?W=ge:e.next=H,Ru(ge,G.memoizedState)||(nl=!0),G.memoizedState=ge,G.baseState=W,G.baseQueue=e,oe.lastRenderedState=ge}if(k=oe.interleaved,k!==null){Pe=k;do Ve=Pe.lane,uo.lanes|=Ve,Vh|=Ve,Pe=Pe.next;while(Pe!==k)}else Pe===null&&(oe.lanes=0);return[G.memoizedState,oe.dispatch]}function Sy(k){var G=ql(),oe=G.queue;if(oe===null)throw Error(da(311));oe.lastRenderedReducer=k;var ge=oe.dispatch,Pe=oe.pending,Ve=G.memoizedState;if(Pe!==null){oe.pending=null;var W=Pe=Pe.next;do Ve=k(Ve,W.action),W=W.next;while(W!==Pe);Ru(Ve,G.memoizedState)||(nl=!0),G.memoizedState=Ve,G.baseQueue===null&&(G.baseState=Ve),oe.lastRenderedState=Ve}return[Ve,ge]}function sw(){}function lw(k,G){var oe=uo,ge=ql(),Pe=G(),Ve=!Ru(ge.memoizedState,Pe);if(Ve&&(ge.memoizedState=Pe,nl=!0),ge=ge.queue,Tm(cw.bind(null,oe,ge,k),[k]),ge.getSnapshot!==G||Ve||Zo!==null&&Zo.memoizedState.tag&1){if(oe.flags|=2048,cp(9,fw.bind(null,oe,ge,Pe,G),void 0,null),Ko===null)throw Error(da(349));Hh&30||uw(oe,G,Pe)}return Pe}function uw(k,G,oe){k.flags|=16384,k={getSnapshot:G,value:oe},G=uo.updateQueue,G===null?(G={lastEffect:null,stores:null},uo.updateQueue=G,G.stores=[k]):(oe=G.stores,oe===null?G.stores=[k]:oe.push(k))}function fw(k,G,oe,ge){G.value=oe,G.getSnapshot=ge,hw(G)&&vw(k)}function cw(k,G,oe){return oe(function(){hw(G)&&vw(k)})}function hw(k){var G=k.getSnapshot;k=k.value;try{var oe=G();return!Ru(k,oe)}catch{return!0}}function vw(k){var G=Zf(k,1);G!==null&&Pu(G,k,1,-1)}function K2(k){var G=tf();return typeof k=="function"&&(k=k()),G.memoizedState=G.baseState=k,k={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:k},G.queue=k,k=k.dispatch=S6.bind(null,uo,k),[G.memoizedState,k]}function cp(k,G,oe,ge){return k={tag:k,create:G,destroy:oe,deps:ge,next:null},G=uo.updateQueue,G===null?(G={lastEffect:null,stores:null},uo.updateQueue=G,G.lastEffect=k.next=k):(oe=G.lastEffect,oe===null?G.lastEffect=k.next=k:(ge=oe.next,oe.next=k,k.next=ge,G.lastEffect=k)),k}function dw(){return ql().memoizedState}function T0(k,G,oe,ge){var Pe=tf();uo.flags|=k,Pe.memoizedState=cp(1|G,oe,void 0,ge===void 0?null:ge)}function hg(k,G,oe,ge){var Pe=ql();ge=ge===void 0?null:ge;var Ve=void 0;if(Oo!==null){var W=Oo.memoizedState;if(Ve=W.destroy,ge!==null&&xm(ge,W.deps)){Pe.memoizedState=cp(G,oe,Ve,ge);return}}uo.flags|=k,Pe.memoizedState=cp(1|G,oe,Ve,ge)}function J2(k,G){return T0(8390656,8,k,G)}function Tm(k,G){return hg(2048,8,k,G)}function pw(k,G){return hg(4,2,k,G)}function gw(k,G){return hg(4,4,k,G)}function yw(k,G){if(typeof G=="function")return k=k(),G(k),function(){G(null)};if(G!=null)return k=k(),G.current=k,function(){G.current=null}}function mw(k,G,oe){return oe=oe!=null?oe.concat([k]):null,hg(4,4,yw.bind(null,G,k),oe)}function Am(){}function xw(k,G){var oe=ql();G=G===void 0?null:G;var ge=oe.memoizedState;return ge!==null&&G!==null&&xm(G,ge[1])?ge[0]:(oe.memoizedState=[k,G],k)}function bw(k,G){var oe=ql();G=G===void 0?null:G;var ge=oe.memoizedState;return ge!==null&&G!==null&&xm(G,ge[1])?ge[0]:(k=k(),oe.memoizedState=[k,G],k)}function ww(k,G,oe){return Hh&21?(Ru(oe,G)||(oe=M3(),uo.lanes|=oe,Vh|=oe,k.baseState=!0),G):(k.baseState&&(k.baseState=!1,nl=!0),k.memoizedState=oe)}function A6(k,G){var oe=Fi;Fi=oe!==0&&4>oe?oe:4,k(!0);var ge=Ay.transition;Ay.transition={};try{k(!1),G()}finally{Fi=oe,Ay.transition=ge}}function Tw(){return ql().memoizedState}function M6(k,G,oe){var ge=Yc(k);if(oe={lane:ge,action:oe,hasEagerState:!1,eagerState:null,next:null},Aw(k))Mw(G,oe);else if(oe=ew(k,G,oe,ge),oe!==null){var Pe=Bs();Pu(oe,k,ge,Pe),Sw(oe,G,ge)}}function S6(k,G,oe){var ge=Yc(k),Pe={lane:ge,action:oe,hasEagerState:!1,eagerState:null,next:null};if(Aw(k))Mw(G,Pe);else{var Ve=k.alternate;if(k.lanes===0&&(Ve===null||Ve.lanes===0)&&(Ve=G.lastRenderedReducer,Ve!==null))try{var W=G.lastRenderedState,H=Ve(W,oe);if(Pe.hasEagerState=!0,Pe.eagerState=H,Ru(H,W)){var e=G.interleaved;e===null?(Pe.next=Pe,dm(G)):(Pe.next=e.next,e.next=Pe),G.interleaved=Pe;return}}catch{}finally{}oe=ew(k,G,Pe,ge),oe!==null&&(Pe=Bs(),Pu(oe,k,ge,Pe),Sw(oe,G,ge))}}function Aw(k){var G=k.alternate;return k===uo||G!==null&&G===uo}function Mw(k,G){jd=W0=!0;var oe=k.pending;oe===null?G.next=G:(G.next=oe.next,oe.next=G),k.pending=G}function Sw(k,G,oe){if(oe&4194240){var ge=G.lanes;ge&=k.pendingLanes,oe|=ge,G.lanes=oe,em(k,oe)}}var Y0={readContext:$l,useCallback:ws,useContext:ws,useEffect:ws,useImperativeHandle:ws,useInsertionEffect:ws,useLayoutEffect:ws,useMemo:ws,useReducer:ws,useRef:ws,useState:ws,useDebugValue:ws,useDeferredValue:ws,useTransition:ws,useMutableSource:ws,useSyncExternalStore:ws,useId:ws,unstable_isNewReconciler:!1},E6={readContext:$l,useCallback:function(k,G){return tf().memoizedState=[k,G===void 0?null:G],k},useContext:$l,useEffect:J2,useImperativeHandle:function(k,G,oe){return oe=oe!=null?oe.concat([k]):null,T0(4194308,4,yw.bind(null,G,k),oe)},useLayoutEffect:function(k,G){return T0(4194308,4,k,G)},useInsertionEffect:function(k,G){return T0(4,2,k,G)},useMemo:function(k,G){var oe=tf();return G=G===void 0?null:G,k=k(),oe.memoizedState=[k,G],k},useReducer:function(k,G,oe){var ge=tf();return G=oe!==void 0?oe(G):G,ge.memoizedState=ge.baseState=G,k={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:k,lastRenderedState:G},ge.queue=k,k=k.dispatch=M6.bind(null,uo,k),[ge.memoizedState,k]},useRef:function(k){var G=tf();return k={current:k},G.memoizedState=k},useState:K2,useDebugValue:Am,useDeferredValue:function(k){return tf().memoizedState=k},useTransition:function(){var k=K2(!1),G=k[0];return k=A6.bind(null,k[1]),tf().memoizedState=k,[G,k]},useMutableSource:function(){},useSyncExternalStore:function(k,G,oe){var ge=uo,Pe=tf();if(qi){if(oe===void 0)throw Error(da(407));oe=oe()}else{if(oe=G(),Ko===null)throw Error(da(349));Hh&30||uw(ge,G,oe)}Pe.memoizedState=oe;var Ve={value:oe,getSnapshot:G};return Pe.queue=Ve,J2(cw.bind(null,ge,Ve,k),[k]),ge.flags|=2048,cp(9,fw.bind(null,ge,Ve,oe,G),void 0,null),oe},useId:function(){var k=tf(),G=Ko.identifierPrefix;if(qi){var oe=Hf,ge=Uf;oe=(ge&~(1<<32-Lu(ge)-1)).toString(32)+oe,G=":"+G+"R"+oe,oe=up++,0<oe&&(G+="H"+oe.toString(32)),G+=":"}else oe=T6++,G=":"+G+"r"+oe.toString(32)+":";return k.memoizedState=G},unstable_isNewReconciler:!1},C6={readContext:$l,useCallback:xw,useContext:$l,useEffect:Tm,useImperativeHandle:mw,useInsertionEffect:pw,useLayoutEffect:gw,useMemo:bw,useReducer:My,useRef:dw,useState:function(){return My(fp)},useDebugValue:Am,useDeferredValue:function(k){var G=ql();return ww(G,Oo.memoizedState,k)},useTransition:function(){var k=My(fp)[0],G=ql().memoizedState;return[k,G]},useMutableSource:sw,useSyncExternalStore:lw,useId:Tw,unstable_isNewReconciler:!1},L6={readContext:$l,useCallback:xw,useContext:$l,useEffect:Tm,useImperativeHandle:mw,useInsertionEffect:pw,useLayoutEffect:gw,useMemo:bw,useReducer:Sy,useRef:dw,useState:function(){return Sy(fp)},useDebugValue:Am,useDeferredValue:function(k){var G=ql();return Oo===null?G.memoizedState=k:ww(G,Oo.memoizedState,k)},useTransition:function(){var k=Sy(fp)[0],G=ql().memoizedState;return[k,G]},useMutableSource:sw,useSyncExternalStore:lw,useId:Tw,unstable_isNewReconciler:!1};function Kv(k,G){try{var oe="",ge=G;do oe+=rS(ge),ge=ge.return;while(ge);var Pe=oe}catch(Ve){Pe=`
Error generating stack: `+Ve.message+`
`+Ve.stack}return{value:k,source:G,stack:Pe,digest:null}}function Ey(k,G,oe){return{value:k,source:null,stack:oe??null,digest:G??null}}function p1(k,G){try{console.error(G.value)}catch(oe){setTimeout(function(){throw oe})}}var P6=typeof WeakMap=="function"?WeakMap:Map;function Ew(k,G,oe){oe=Vf(-1,oe),oe.tag=3,oe.payload={element:null};var ge=G.value;return oe.callback=function(){Z0||(Z0=!0,S1=ge),p1(k,G)},oe}function Cw(k,G,oe){oe=Vf(-1,oe),oe.tag=3;var ge=k.type.getDerivedStateFromError;if(typeof ge=="function"){var Pe=G.value;oe.payload=function(){return ge(Pe)},oe.callback=function(){p1(k,G)}}var Ve=k.stateNode;return Ve!==null&&typeof Ve.componentDidCatch=="function"&&(oe.callback=function(){p1(k,G),typeof ge!="function"&&(Wc===null?Wc=new Set([this]):Wc.add(this));var W=G.stack;this.componentDidCatch(G.value,{componentStack:W!==null?W:""})}),oe}function Q2(k,G,oe){var ge=k.pingCache;if(ge===null){ge=k.pingCache=new P6;var Pe=new Set;ge.set(G,Pe)}else Pe=ge.get(G),Pe===void 0&&(Pe=new Set,ge.set(G,Pe));Pe.has(oe)||(Pe.add(oe),k=G6.bind(null,k,G,oe),G.then(k,k))}function $2(k){do{var G;if((G=k.tag===13)&&(G=k.memoizedState,G=G!==null?G.dehydrated!==null:!0),G)return k;k=k.return}while(k!==null);return null}function q2(k,G,oe,ge,Pe){return k.mode&1?(k.flags|=65536,k.lanes=Pe,k):(k===G?k.flags|=65536:(k.flags|=128,oe.flags|=131072,oe.flags&=-52805,oe.tag===1&&(oe.alternate===null?oe.tag=17:(G=Vf(-1,1),G.tag=2,Gc(oe,G,1))),oe.lanes|=1),k)}var R6=Jf.ReactCurrentOwner,nl=!1;function Ns(k,G,oe,ge){G.child=k===null?iw(G,null,oe,ge):Zv(G,k.child,oe,ge)}function eb(k,G,oe,ge,Pe){oe=oe.render;var Ve=G.ref;return Hv(G,Pe),ge=bm(k,G,oe,ge,Ve,Pe),oe=wm(),k!==null&&!nl?(G.updateQueue=k.updateQueue,G.flags&=-2053,k.lanes&=~Pe,Xf(k,G,Pe)):(qi&&oe&&lm(G),G.flags|=1,Ns(k,G,ge,Pe),G.child)}function tb(k,G,oe,ge,Pe){if(k===null){var Ve=oe.type;return typeof Ve=="function"&&!Dm(Ve)&&Ve.defaultProps===void 0&&oe.compare===null&&oe.defaultProps===void 0?(G.tag=15,G.type=Ve,Lw(k,G,Ve,ge,Pe)):(k=E0(oe.type,null,ge,G,G.mode,Pe),k.ref=G.ref,k.return=G,G.child=k)}if(Ve=k.child,!(k.lanes&Pe)){var W=Ve.memoizedProps;if(oe=oe.compare,oe=oe!==null?oe:np,oe(W,ge)&&k.ref===G.ref)return Xf(k,G,Pe)}return G.flags|=1,k=jc(Ve,ge),k.ref=G.ref,k.return=G,G.child=k}function Lw(k,G,oe,ge,Pe){if(k!==null){var Ve=k.memoizedProps;if(np(Ve,ge)&&k.ref===G.ref)if(nl=!1,G.pendingProps=ge=Ve,(k.lanes&Pe)!==0)k.flags&131072&&(nl=!0);else return G.lanes=k.lanes,Xf(k,G,Pe)}return g1(k,G,oe,ge,Pe)}function Pw(k,G,oe){var ge=G.pendingProps,Pe=ge.children,Ve=k!==null?k.memoizedState:null;if(ge.mode==="hidden")if(!(G.mode&1))G.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gi(Fv,Al),Al|=oe;else{if(!(oe&1073741824))return k=Ve!==null?Ve.baseLanes|oe:oe,G.lanes=G.childLanes=1073741824,G.memoizedState={baseLanes:k,cachePool:null,transitions:null},G.updateQueue=null,Gi(Fv,Al),Al|=k,null;G.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge=Ve!==null?Ve.baseLanes:oe,Gi(Fv,Al),Al|=ge}else Ve!==null?(ge=Ve.baseLanes|oe,G.memoizedState=null):ge=oe,Gi(Fv,Al),Al|=ge;return Ns(k,G,Pe,oe),G.child}function Rw(k,G){var oe=G.ref;(k===null&&oe!==null||k!==null&&k.ref!==oe)&&(G.flags|=512,G.flags|=2097152)}function g1(k,G,oe,ge,Pe){var Ve=il(oe)?Bh:Ms.current;return Ve=Yv(G,Ve),Hv(G,Pe),oe=bm(k,G,oe,ge,Ve,Pe),ge=wm(),k!==null&&!nl?(G.updateQueue=k.updateQueue,G.flags&=-2053,k.lanes&=~Pe,Xf(k,G,Pe)):(qi&&ge&&lm(G),G.flags|=1,Ns(k,G,oe,Pe),G.child)}function rb(k,G,oe,ge,Pe){if(il(oe)){var Ve=!0;O0(G)}else Ve=!1;if(Hv(G,Pe),G.stateNode===null)A0(k,G),nw(G,oe,ge),d1(G,oe,ge,Pe),ge=!0;else if(k===null){var W=G.stateNode,H=G.memoizedProps;W.props=H;var e=W.context,g=oe.contextType;typeof g=="object"&&g!==null?g=$l(g):(g=il(oe)?Bh:Ms.current,g=Yv(G,g));var P=oe.getDerivedStateFromProps,i=typeof P=="function"||typeof W.getSnapshotBeforeUpdate=="function";i||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(H!==ge||e!==g)&&Z2(G,W,ge,g),Ic=!1;var L=G.memoizedState;W.state=L,V0(G,ge,W,Pe),e=G.memoizedState,H!==ge||L!==e||al.current||Ic?(typeof P=="function"&&(v1(G,oe,P,ge),e=G.memoizedState),(H=Ic||j2(G,oe,H,ge,L,e,g))?(i||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(G.flags|=4194308)):(typeof W.componentDidMount=="function"&&(G.flags|=4194308),G.memoizedProps=ge,G.memoizedState=e),W.props=ge,W.state=e,W.context=g,ge=H):(typeof W.componentDidMount=="function"&&(G.flags|=4194308),ge=!1)}else{W=G.stateNode,tw(k,G),H=G.memoizedProps,g=G.type===G.elementType?H:Mu(G.type,H),W.props=g,i=G.pendingProps,L=W.context,e=oe.contextType,typeof e=="object"&&e!==null?e=$l(e):(e=il(oe)?Bh:Ms.current,e=Yv(G,e));var A=oe.getDerivedStateFromProps;(P=typeof A=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(H!==i||L!==e)&&Z2(G,W,ge,e),Ic=!1,L=G.memoizedState,W.state=L,V0(G,ge,W,Pe);var v=G.memoizedState;H!==i||L!==v||al.current||Ic?(typeof A=="function"&&(v1(G,oe,A,ge),v=G.memoizedState),(g=Ic||j2(G,oe,g,ge,L,v,e)||!1)?(P||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(ge,v,e),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(ge,v,e)),typeof W.componentDidUpdate=="function"&&(G.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(G.flags|=1024)):(typeof W.componentDidUpdate!="function"||H===k.memoizedProps&&L===k.memoizedState||(G.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||H===k.memoizedProps&&L===k.memoizedState||(G.flags|=1024),G.memoizedProps=ge,G.memoizedState=v),W.props=ge,W.state=v,W.context=e,ge=g):(typeof W.componentDidUpdate!="function"||H===k.memoizedProps&&L===k.memoizedState||(G.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||H===k.memoizedProps&&L===k.memoizedState||(G.flags|=1024),ge=!1)}return y1(k,G,oe,ge,Ve,Pe)}function y1(k,G,oe,ge,Pe,Ve){Rw(k,G);var W=(G.flags&128)!==0;if(!ge&&!W)return Pe&&H2(G,oe,!1),Xf(k,G,Ve);ge=G.stateNode,R6.current=G;var H=W&&typeof oe.getDerivedStateFromError!="function"?null:ge.render();return G.flags|=1,k!==null&&W?(G.child=Zv(G,k.child,null,Ve),G.child=Zv(G,null,H,Ve)):Ns(k,G,H,Ve),G.memoizedState=ge.state,Pe&&H2(G,oe,!0),G.child}function Dw(k){var G=k.stateNode;G.pendingContext?U2(k,G.pendingContext,G.pendingContext!==G.context):G.context&&U2(k,G.context,!1),gm(k,G.containerInfo)}function nb(k,G,oe,ge,Pe){return jv(),fm(Pe),G.flags|=256,Ns(k,G,oe,ge),G.child}var m1={dehydrated:null,treeContext:null,retryLane:0};function x1(k){return{baseLanes:k,cachePool:null,transitions:null}}function Iw(k,G,oe){var ge=G.pendingProps,Pe=lo.current,Ve=!1,W=(G.flags&128)!==0,H;if((H=W)||(H=k!==null&&k.memoizedState===null?!1:(Pe&2)!==0),H?(Ve=!0,G.flags&=-129):(k===null||k.memoizedState!==null)&&(Pe|=1),Gi(lo,Pe&1),k===null)return c1(G),k=G.memoizedState,k!==null&&(k=k.dehydrated,k!==null)?(G.mode&1?k.data==="$!"?G.lanes=8:G.lanes=1073741824:G.lanes=1,null):(W=ge.children,k=ge.fallback,Ve?(ge=G.mode,Ve=G.child,W={mode:"hidden",children:W},!(ge&1)&&Ve!==null?(Ve.childLanes=0,Ve.pendingProps=W):Ve=pg(W,ge,0,null),k=Nh(k,ge,oe,null),Ve.return=G,k.return=G,Ve.sibling=k,G.child=Ve,G.child.memoizedState=x1(oe),G.memoizedState=m1,k):Mm(G,W));if(Pe=k.memoizedState,Pe!==null&&(H=Pe.dehydrated,H!==null))return D6(k,G,W,ge,H,Pe,oe);if(Ve){Ve=ge.fallback,W=G.mode,Pe=k.child,H=Pe.sibling;var e={mode:"hidden",children:ge.children};return!(W&1)&&G.child!==Pe?(ge=G.child,ge.childLanes=0,ge.pendingProps=e,G.deletions=null):(ge=jc(Pe,e),ge.subtreeFlags=Pe.subtreeFlags&14680064),H!==null?Ve=jc(H,Ve):(Ve=Nh(Ve,W,oe,null),Ve.flags|=2),Ve.return=G,ge.return=G,ge.sibling=Ve,G.child=ge,ge=Ve,Ve=G.child,W=k.child.memoizedState,W=W===null?x1(oe):{baseLanes:W.baseLanes|oe,cachePool:null,transitions:W.transitions},Ve.memoizedState=W,Ve.childLanes=k.childLanes&~oe,G.memoizedState=m1,ge}return Ve=k.child,k=Ve.sibling,ge=jc(Ve,{mode:"visible",children:ge.children}),!(G.mode&1)&&(ge.lanes=oe),ge.return=G,ge.sibling=null,k!==null&&(oe=G.deletions,oe===null?(G.deletions=[k],G.flags|=16):oe.push(k)),G.child=ge,G.memoizedState=null,ge}function Mm(k,G){return G=pg({mode:"visible",children:G},k.mode,0,null),G.return=k,k.child=G}function l0(k,G,oe,ge){return ge!==null&&fm(ge),Zv(G,k.child,null,oe),k=Mm(G,G.pendingProps.children),k.flags|=2,G.memoizedState=null,k}function D6(k,G,oe,ge,Pe,Ve,W){if(oe)return G.flags&256?(G.flags&=-257,ge=Ey(Error(da(422))),l0(k,G,W,ge)):G.memoizedState!==null?(G.child=k.child,G.flags|=128,null):(Ve=ge.fallback,Pe=G.mode,ge=pg({mode:"visible",children:ge.children},Pe,0,null),Ve=Nh(Ve,Pe,W,null),Ve.flags|=2,ge.return=G,Ve.return=G,ge.sibling=Ve,G.child=ge,G.mode&1&&Zv(G,k.child,null,W),G.child.memoizedState=x1(W),G.memoizedState=m1,Ve);if(!(G.mode&1))return l0(k,G,W,null);if(Pe.data==="$!"){if(ge=Pe.nextSibling&&Pe.nextSibling.dataset,ge)var H=ge.dgst;return ge=H,Ve=Error(da(419)),ge=Ey(Ve,ge,void 0),l0(k,G,W,ge)}if(H=(W&k.childLanes)!==0,nl||H){if(ge=Ko,ge!==null){switch(W&-W){case 4:Pe=2;break;case 16:Pe=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Pe=32;break;case 536870912:Pe=268435456;break;default:Pe=0}Pe=Pe&(ge.suspendedLanes|W)?0:Pe,Pe!==0&&Pe!==Ve.retryLane&&(Ve.retryLane=Pe,Zf(k,Pe),Pu(ge,k,Pe,-1))}return Rm(),ge=Ey(Error(da(421))),l0(k,G,W,ge)}return Pe.data==="$?"?(G.flags|=128,G.child=k.child,G=W6.bind(null,k),Pe._reactRetry=G,null):(k=Ve.treeContext,Ml=Vc(Pe.nextSibling),Sl=G,qi=!0,Eu=null,k!==null&&(Zl[Xl++]=Uf,Zl[Xl++]=Hf,Zl[Xl++]=Uh,Uf=k.id,Hf=k.overflow,Uh=G),G=Mm(G,ge.children),G.flags|=4096,G)}function ab(k,G,oe){k.lanes|=G;var ge=k.alternate;ge!==null&&(ge.lanes|=G),h1(k.return,G,oe)}function Cy(k,G,oe,ge,Pe){var Ve=k.memoizedState;Ve===null?k.memoizedState={isBackwards:G,rendering:null,renderingStartTime:0,last:ge,tail:oe,tailMode:Pe}:(Ve.isBackwards=G,Ve.rendering=null,Ve.renderingStartTime=0,Ve.last=ge,Ve.tail=oe,Ve.tailMode=Pe)}function kw(k,G,oe){var ge=G.pendingProps,Pe=ge.revealOrder,Ve=ge.tail;if(Ns(k,G,ge.children,oe),ge=lo.current,ge&2)ge=ge&1|2,G.flags|=128;else{if(k!==null&&k.flags&128)e:for(k=G.child;k!==null;){if(k.tag===13)k.memoizedState!==null&&ab(k,oe,G);else if(k.tag===19)ab(k,oe,G);else if(k.child!==null){k.child.return=k,k=k.child;continue}if(k===G)break e;for(;k.sibling===null;){if(k.return===null||k.return===G)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}ge&=1}if(Gi(lo,ge),!(G.mode&1))G.memoizedState=null;else switch(Pe){case"forwards":for(oe=G.child,Pe=null;oe!==null;)k=oe.alternate,k!==null&&G0(k)===null&&(Pe=oe),oe=oe.sibling;oe=Pe,oe===null?(Pe=G.child,G.child=null):(Pe=oe.sibling,oe.sibling=null),Cy(G,!1,Pe,oe,Ve);break;case"backwards":for(oe=null,Pe=G.child,G.child=null;Pe!==null;){if(k=Pe.alternate,k!==null&&G0(k)===null){G.child=Pe;break}k=Pe.sibling,Pe.sibling=oe,oe=Pe,Pe=k}Cy(G,!0,oe,null,Ve);break;case"together":Cy(G,!1,null,null,void 0);break;default:G.memoizedState=null}return G.child}function A0(k,G){!(G.mode&1)&&k!==null&&(k.alternate=null,G.alternate=null,G.flags|=2)}function Xf(k,G,oe){if(k!==null&&(G.dependencies=k.dependencies),Vh|=G.lanes,!(oe&G.childLanes))return null;if(k!==null&&G.child!==k.child)throw Error(da(153));if(G.child!==null){for(k=G.child,oe=jc(k,k.pendingProps),G.child=oe,oe.return=G;k.sibling!==null;)k=k.sibling,oe=oe.sibling=jc(k,k.pendingProps),oe.return=G;oe.sibling=null}return G.child}function I6(k,G,oe){switch(G.tag){case 3:Dw(G),jv();break;case 5:ow(G);break;case 1:il(G.type)&&O0(G);break;case 4:gm(G,G.stateNode.containerInfo);break;case 10:var ge=G.type._context,Pe=G.memoizedProps.value;Gi(U0,ge._currentValue),ge._currentValue=Pe;break;case 13:if(ge=G.memoizedState,ge!==null)return ge.dehydrated!==null?(Gi(lo,lo.current&1),G.flags|=128,null):oe&G.child.childLanes?Iw(k,G,oe):(Gi(lo,lo.current&1),k=Xf(k,G,oe),k!==null?k.sibling:null);Gi(lo,lo.current&1);break;case 19:if(ge=(oe&G.childLanes)!==0,k.flags&128){if(ge)return kw(k,G,oe);G.flags|=128}if(Pe=G.memoizedState,Pe!==null&&(Pe.rendering=null,Pe.tail=null,Pe.lastEffect=null),Gi(lo,lo.current),ge)break;return null;case 22:case 23:return G.lanes=0,Pw(k,G,oe)}return Xf(k,G,oe)}var Fw,b1,_w,zw;Fw=function(k,G){for(var oe=G.child;oe!==null;){if(oe.tag===5||oe.tag===6)k.appendChild(oe.stateNode);else if(oe.tag!==4&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===G)break;for(;oe.sibling===null;){if(oe.return===null||oe.return===G)return;oe=oe.return}oe.sibling.return=oe.return,oe=oe.sibling}};b1=function(){};_w=function(k,G,oe,ge){var Pe=k.memoizedProps;if(Pe!==ge){k=G.stateNode,_h(af.current);var Ve=null;switch(oe){case"input":Pe=Vy(k,Pe),ge=Vy(k,ge),Ve=[];break;case"select":Pe=fo({},Pe,{value:void 0}),ge=fo({},ge,{value:void 0}),Ve=[];break;case"textarea":Pe=Yy(k,Pe),ge=Yy(k,ge),Ve=[];break;default:typeof Pe.onClick!="function"&&typeof ge.onClick=="function"&&(k.onclick=_0)}Zy(oe,ge);var W;oe=null;for(g in Pe)if(!ge.hasOwnProperty(g)&&Pe.hasOwnProperty(g)&&Pe[g]!=null)if(g==="style"){var H=Pe[g];for(W in H)H.hasOwnProperty(W)&&(oe||(oe={}),oe[W]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Jd.hasOwnProperty(g)?Ve||(Ve=[]):(Ve=Ve||[]).push(g,null));for(g in ge){var e=ge[g];if(H=Pe!=null?Pe[g]:void 0,ge.hasOwnProperty(g)&&e!==H&&(e!=null||H!=null))if(g==="style")if(H){for(W in H)!H.hasOwnProperty(W)||e&&e.hasOwnProperty(W)||(oe||(oe={}),oe[W]="");for(W in e)e.hasOwnProperty(W)&&H[W]!==e[W]&&(oe||(oe={}),oe[W]=e[W])}else oe||(Ve||(Ve=[]),Ve.push(g,oe)),oe=e;else g==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,H=H?H.__html:void 0,e!=null&&H!==e&&(Ve=Ve||[]).push(g,e)):g==="children"?typeof e!="string"&&typeof e!="number"||(Ve=Ve||[]).push(g,""+e):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Jd.hasOwnProperty(g)?(e!=null&&g==="onScroll"&&Zi("scroll",k),Ve||H===e||(Ve=[])):(Ve=Ve||[]).push(g,e))}oe&&(Ve=Ve||[]).push("style",oe);var g=Ve;(G.updateQueue=g)&&(G.flags|=4)}};zw=function(k,G,oe,ge){oe!==ge&&(G.flags|=4)};function Pd(k,G){if(!qi)switch(k.tailMode){case"hidden":G=k.tail;for(var oe=null;G!==null;)G.alternate!==null&&(oe=G),G=G.sibling;oe===null?k.tail=null:oe.sibling=null;break;case"collapsed":oe=k.tail;for(var ge=null;oe!==null;)oe.alternate!==null&&(ge=oe),oe=oe.sibling;ge===null?G||k.tail===null?k.tail=null:k.tail.sibling=null:ge.sibling=null}}function Ts(k){var G=k.alternate!==null&&k.alternate.child===k.child,oe=0,ge=0;if(G)for(var Pe=k.child;Pe!==null;)oe|=Pe.lanes|Pe.childLanes,ge|=Pe.subtreeFlags&14680064,ge|=Pe.flags&14680064,Pe.return=k,Pe=Pe.sibling;else for(Pe=k.child;Pe!==null;)oe|=Pe.lanes|Pe.childLanes,ge|=Pe.subtreeFlags,ge|=Pe.flags,Pe.return=k,Pe=Pe.sibling;return k.subtreeFlags|=ge,k.childLanes=oe,G}function k6(k,G,oe){var ge=G.pendingProps;switch(um(G),G.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ts(G),null;case 1:return il(G.type)&&z0(),Ts(G),null;case 3:return ge=G.stateNode,Xv(),Xi(al),Xi(Ms),mm(),ge.pendingContext&&(ge.context=ge.pendingContext,ge.pendingContext=null),(k===null||k.child===null)&&(o0(G)?G.flags|=4:k===null||k.memoizedState.isDehydrated&&!(G.flags&256)||(G.flags|=1024,Eu!==null&&(L1(Eu),Eu=null))),b1(k,G),Ts(G),null;case 5:ym(G);var Pe=_h(lp.current);if(oe=G.type,k!==null&&G.stateNode!=null)_w(k,G,oe,ge,Pe),k.ref!==G.ref&&(G.flags|=512,G.flags|=2097152);else{if(!ge){if(G.stateNode===null)throw Error(da(166));return Ts(G),null}if(k=_h(af.current),o0(G)){ge=G.stateNode,oe=G.type;var Ve=G.memoizedProps;switch(ge[rf]=G,ge[op]=Ve,k=(G.mode&1)!==0,oe){case"dialog":Zi("cancel",ge),Zi("close",ge);break;case"iframe":case"object":case"embed":Zi("load",ge);break;case"video":case"audio":for(Pe=0;Pe<Nd.length;Pe++)Zi(Nd[Pe],ge);break;case"source":Zi("error",ge);break;case"img":case"image":case"link":Zi("error",ge),Zi("load",ge);break;case"details":Zi("toggle",ge);break;case"input":v2(ge,Ve),Zi("invalid",ge);break;case"select":ge._wrapperState={wasMultiple:!!Ve.multiple},Zi("invalid",ge);break;case"textarea":p2(ge,Ve),Zi("invalid",ge)}Zy(oe,Ve),Pe=null;for(var W in Ve)if(Ve.hasOwnProperty(W)){var H=Ve[W];W==="children"?typeof H=="string"?ge.textContent!==H&&(Ve.suppressHydrationWarning!==!0&&i0(ge.textContent,H,k),Pe=["children",H]):typeof H=="number"&&ge.textContent!==""+H&&(Ve.suppressHydrationWarning!==!0&&i0(ge.textContent,H,k),Pe=["children",""+H]):Jd.hasOwnProperty(W)&&H!=null&&W==="onScroll"&&Zi("scroll",ge)}switch(oe){case"input":Qp(ge),d2(ge,Ve,!0);break;case"textarea":Qp(ge),g2(ge);break;case"select":case"option":break;default:typeof Ve.onClick=="function"&&(ge.onclick=_0)}ge=Pe,G.updateQueue=ge,ge!==null&&(G.flags|=4)}else{W=Pe.nodeType===9?Pe:Pe.ownerDocument,k==="http://www.w3.org/1999/xhtml"&&(k=u3(oe)),k==="http://www.w3.org/1999/xhtml"?oe==="script"?(k=W.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild)):typeof ge.is=="string"?k=W.createElement(oe,{is:ge.is}):(k=W.createElement(oe),oe==="select"&&(W=k,ge.multiple?W.multiple=!0:ge.size&&(W.size=ge.size))):k=W.createElementNS(k,oe),k[rf]=G,k[op]=ge,Fw(k,G,!1,!1),G.stateNode=k;e:{switch(W=Xy(oe,ge),oe){case"dialog":Zi("cancel",k),Zi("close",k),Pe=ge;break;case"iframe":case"object":case"embed":Zi("load",k),Pe=ge;break;case"video":case"audio":for(Pe=0;Pe<Nd.length;Pe++)Zi(Nd[Pe],k);Pe=ge;break;case"source":Zi("error",k),Pe=ge;break;case"img":case"image":case"link":Zi("error",k),Zi("load",k),Pe=ge;break;case"details":Zi("toggle",k),Pe=ge;break;case"input":v2(k,ge),Pe=Vy(k,ge),Zi("invalid",k);break;case"option":Pe=ge;break;case"select":k._wrapperState={wasMultiple:!!ge.multiple},Pe=fo({},ge,{value:void 0}),Zi("invalid",k);break;case"textarea":p2(k,ge),Pe=Yy(k,ge),Zi("invalid",k);break;default:Pe=ge}Zy(oe,Pe),H=Pe;for(Ve in H)if(H.hasOwnProperty(Ve)){var e=H[Ve];Ve==="style"?h3(k,e):Ve==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,e!=null&&f3(k,e)):Ve==="children"?typeof e=="string"?(oe!=="textarea"||e!=="")&&Qd(k,e):typeof e=="number"&&Qd(k,""+e):Ve!=="suppressContentEditableWarning"&&Ve!=="suppressHydrationWarning"&&Ve!=="autoFocus"&&(Jd.hasOwnProperty(Ve)?e!=null&&Ve==="onScroll"&&Zi("scroll",k):e!=null&&X1(k,Ve,e,W))}switch(oe){case"input":Qp(k),d2(k,ge,!1);break;case"textarea":Qp(k),g2(k);break;case"option":ge.value!=null&&k.setAttribute("value",""+Xc(ge.value));break;case"select":k.multiple=!!ge.multiple,Ve=ge.value,Ve!=null?Ov(k,!!ge.multiple,Ve,!1):ge.defaultValue!=null&&Ov(k,!!ge.multiple,ge.defaultValue,!0);break;default:typeof Pe.onClick=="function"&&(k.onclick=_0)}switch(oe){case"button":case"input":case"select":case"textarea":ge=!!ge.autoFocus;break e;case"img":ge=!0;break e;default:ge=!1}}ge&&(G.flags|=4)}G.ref!==null&&(G.flags|=512,G.flags|=2097152)}return Ts(G),null;case 6:if(k&&G.stateNode!=null)zw(k,G,k.memoizedProps,ge);else{if(typeof ge!="string"&&G.stateNode===null)throw Error(da(166));if(oe=_h(lp.current),_h(af.current),o0(G)){if(ge=G.stateNode,oe=G.memoizedProps,ge[rf]=G,(Ve=ge.nodeValue!==oe)&&(k=Sl,k!==null))switch(k.tag){case 3:i0(ge.nodeValue,oe,(k.mode&1)!==0);break;case 5:k.memoizedProps.suppressHydrationWarning!==!0&&i0(ge.nodeValue,oe,(k.mode&1)!==0)}Ve&&(G.flags|=4)}else ge=(oe.nodeType===9?oe:oe.ownerDocument).createTextNode(ge),ge[rf]=G,G.stateNode=ge}return Ts(G),null;case 13:if(Xi(lo),ge=G.memoizedState,k===null||k.memoizedState!==null&&k.memoizedState.dehydrated!==null){if(qi&&Ml!==null&&G.mode&1&&!(G.flags&128))q3(),jv(),G.flags|=98560,Ve=!1;else if(Ve=o0(G),ge!==null&&ge.dehydrated!==null){if(k===null){if(!Ve)throw Error(da(318));if(Ve=G.memoizedState,Ve=Ve!==null?Ve.dehydrated:null,!Ve)throw Error(da(317));Ve[rf]=G}else jv(),!(G.flags&128)&&(G.memoizedState=null),G.flags|=4;Ts(G),Ve=!1}else Eu!==null&&(L1(Eu),Eu=null),Ve=!0;if(!Ve)return G.flags&65536?G:null}return G.flags&128?(G.lanes=oe,G):(ge=ge!==null,ge!==(k!==null&&k.memoizedState!==null)&&ge&&(G.child.flags|=8192,G.mode&1&&(k===null||lo.current&1?No===0&&(No=3):Rm())),G.updateQueue!==null&&(G.flags|=4),Ts(G),null);case 4:return Xv(),b1(k,G),k===null&&ap(G.stateNode.containerInfo),Ts(G),null;case 10:return vm(G.type._context),Ts(G),null;case 17:return il(G.type)&&z0(),Ts(G),null;case 19:if(Xi(lo),Ve=G.memoizedState,Ve===null)return Ts(G),null;if(ge=(G.flags&128)!==0,W=Ve.rendering,W===null)if(ge)Pd(Ve,!1);else{if(No!==0||k!==null&&k.flags&128)for(k=G.child;k!==null;){if(W=G0(k),W!==null){for(G.flags|=128,Pd(Ve,!1),ge=W.updateQueue,ge!==null&&(G.updateQueue=ge,G.flags|=4),G.subtreeFlags=0,ge=oe,oe=G.child;oe!==null;)Ve=oe,k=ge,Ve.flags&=14680066,W=Ve.alternate,W===null?(Ve.childLanes=0,Ve.lanes=k,Ve.child=null,Ve.subtreeFlags=0,Ve.memoizedProps=null,Ve.memoizedState=null,Ve.updateQueue=null,Ve.dependencies=null,Ve.stateNode=null):(Ve.childLanes=W.childLanes,Ve.lanes=W.lanes,Ve.child=W.child,Ve.subtreeFlags=0,Ve.deletions=null,Ve.memoizedProps=W.memoizedProps,Ve.memoizedState=W.memoizedState,Ve.updateQueue=W.updateQueue,Ve.type=W.type,k=W.dependencies,Ve.dependencies=k===null?null:{lanes:k.lanes,firstContext:k.firstContext}),oe=oe.sibling;return Gi(lo,lo.current&1|2),G.child}k=k.sibling}Ve.tail!==null&&Ao()>Jv&&(G.flags|=128,ge=!0,Pd(Ve,!1),G.lanes=4194304)}else{if(!ge)if(k=G0(W),k!==null){if(G.flags|=128,ge=!0,oe=k.updateQueue,oe!==null&&(G.updateQueue=oe,G.flags|=4),Pd(Ve,!0),Ve.tail===null&&Ve.tailMode==="hidden"&&!W.alternate&&!qi)return Ts(G),null}else 2*Ao()-Ve.renderingStartTime>Jv&&oe!==1073741824&&(G.flags|=128,ge=!0,Pd(Ve,!1),G.lanes=4194304);Ve.isBackwards?(W.sibling=G.child,G.child=W):(oe=Ve.last,oe!==null?oe.sibling=W:G.child=W,Ve.last=W)}return Ve.tail!==null?(G=Ve.tail,Ve.rendering=G,Ve.tail=G.sibling,Ve.renderingStartTime=Ao(),G.sibling=null,oe=lo.current,Gi(lo,ge?oe&1|2:oe&1),G):(Ts(G),null);case 22:case 23:return Pm(),ge=G.memoizedState!==null,k!==null&&k.memoizedState!==null!==ge&&(G.flags|=8192),ge&&G.mode&1?Al&1073741824&&(Ts(G),G.subtreeFlags&6&&(G.flags|=8192)):Ts(G),null;case 24:return null;case 25:return null}throw Error(da(156,G.tag))}function F6(k,G){switch(um(G),G.tag){case 1:return il(G.type)&&z0(),k=G.flags,k&65536?(G.flags=k&-65537|128,G):null;case 3:return Xv(),Xi(al),Xi(Ms),mm(),k=G.flags,k&65536&&!(k&128)?(G.flags=k&-65537|128,G):null;case 5:return ym(G),null;case 13:if(Xi(lo),k=G.memoizedState,k!==null&&k.dehydrated!==null){if(G.alternate===null)throw Error(da(340));jv()}return k=G.flags,k&65536?(G.flags=k&-65537|128,G):null;case 19:return Xi(lo),null;case 4:return Xv(),null;case 10:return vm(G.type._context),null;case 22:case 23:return Pm(),null;case 24:return null;default:return null}}var u0=!1,As=!1,_6=typeof WeakSet=="function"?WeakSet:Set,Fa=null;function kv(k,G){var oe=k.ref;if(oe!==null)if(typeof oe=="function")try{oe(null)}catch(ge){go(k,G,ge)}else oe.current=null}function w1(k,G,oe){try{oe()}catch(ge){go(k,G,ge)}}var ib=!1;function z6(k,G){if(a1=I0,k=U3(),sm(k)){if("selectionStart"in k)var oe={start:k.selectionStart,end:k.selectionEnd};else e:{oe=(oe=k.ownerDocument)&&oe.defaultView||window;var ge=oe.getSelection&&oe.getSelection();if(ge&&ge.rangeCount!==0){oe=ge.anchorNode;var Pe=ge.anchorOffset,Ve=ge.focusNode;ge=ge.focusOffset;try{oe.nodeType,Ve.nodeType}catch{oe=null;break e}var W=0,H=-1,e=-1,g=0,P=0,i=k,L=null;t:for(;;){for(var A;i!==oe||Pe!==0&&i.nodeType!==3||(H=W+Pe),i!==Ve||ge!==0&&i.nodeType!==3||(e=W+ge),i.nodeType===3&&(W+=i.nodeValue.length),(A=i.firstChild)!==null;)L=i,i=A;for(;;){if(i===k)break t;if(L===oe&&++g===Pe&&(H=W),L===Ve&&++P===ge&&(e=W),(A=i.nextSibling)!==null)break;i=L,L=i.parentNode}i=A}oe=H===-1||e===-1?null:{start:H,end:e}}else oe=null}oe=oe||{start:0,end:0}}else oe=null;for(i1={focusedElem:k,selectionRange:oe},I0=!1,Fa=G;Fa!==null;)if(G=Fa,k=G.child,(G.subtreeFlags&1028)!==0&&k!==null)k.return=G,Fa=k;else for(;Fa!==null;){G=Fa;try{var v=G.alternate;if(G.flags&1024)switch(G.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,t=v.memoizedState,r=G.stateNode,s=r.getSnapshotBeforeUpdate(G.elementType===G.type?p:Mu(G.type,p),t);r.__reactInternalSnapshotBeforeUpdate=s}break;case 3:var n=G.stateNode.containerInfo;n.nodeType===1?n.textContent="":n.nodeType===9&&n.documentElement&&n.removeChild(n.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(da(163))}}catch(l){go(G,G.return,l)}if(k=G.sibling,k!==null){k.return=G.return,Fa=k;break}Fa=G.return}return v=ib,ib=!1,v}function Zd(k,G,oe){var ge=G.updateQueue;if(ge=ge!==null?ge.lastEffect:null,ge!==null){var Pe=ge=ge.next;do{if((Pe.tag&k)===k){var Ve=Pe.destroy;Pe.destroy=void 0,Ve!==void 0&&w1(G,oe,Ve)}Pe=Pe.next}while(Pe!==ge)}}function vg(k,G){if(G=G.updateQueue,G=G!==null?G.lastEffect:null,G!==null){var oe=G=G.next;do{if((oe.tag&k)===k){var ge=oe.create;oe.destroy=ge()}oe=oe.next}while(oe!==G)}}function T1(k){var G=k.ref;if(G!==null){var oe=k.stateNode;switch(k.tag){case 5:k=oe;break;default:k=oe}typeof G=="function"?G(k):G.current=k}}function Ow(k){var G=k.alternate;G!==null&&(k.alternate=null,Ow(G)),k.child=null,k.deletions=null,k.sibling=null,k.tag===5&&(G=k.stateNode,G!==null&&(delete G[rf],delete G[op],delete G[l1],delete G[m6],delete G[x6])),k.stateNode=null,k.return=null,k.dependencies=null,k.memoizedProps=null,k.memoizedState=null,k.pendingProps=null,k.stateNode=null,k.updateQueue=null}function Nw(k){return k.tag===5||k.tag===3||k.tag===4}function ob(k){e:for(;;){for(;k.sibling===null;){if(k.return===null||Nw(k.return))return null;k=k.return}for(k.sibling.return=k.return,k=k.sibling;k.tag!==5&&k.tag!==6&&k.tag!==18;){if(k.flags&2||k.child===null||k.tag===4)continue e;k.child.return=k,k=k.child}if(!(k.flags&2))return k.stateNode}}function A1(k,G,oe){var ge=k.tag;if(ge===5||ge===6)k=k.stateNode,G?oe.nodeType===8?oe.parentNode.insertBefore(k,G):oe.insertBefore(k,G):(oe.nodeType===8?(G=oe.parentNode,G.insertBefore(k,oe)):(G=oe,G.appendChild(k)),oe=oe._reactRootContainer,oe!=null||G.onclick!==null||(G.onclick=_0));else if(ge!==4&&(k=k.child,k!==null))for(A1(k,G,oe),k=k.sibling;k!==null;)A1(k,G,oe),k=k.sibling}function M1(k,G,oe){var ge=k.tag;if(ge===5||ge===6)k=k.stateNode,G?oe.insertBefore(k,G):oe.appendChild(k);else if(ge!==4&&(k=k.child,k!==null))for(M1(k,G,oe),k=k.sibling;k!==null;)M1(k,G,oe),k=k.sibling}var is=null,Su=!1;function Pc(k,G,oe){for(oe=oe.child;oe!==null;)Bw(k,G,oe),oe=oe.sibling}function Bw(k,G,oe){if(nf&&typeof nf.onCommitFiberUnmount=="function")try{nf.onCommitFiberUnmount(ig,oe)}catch{}switch(oe.tag){case 5:As||kv(oe,G);case 6:var ge=is,Pe=Su;is=null,Pc(k,G,oe),is=ge,Su=Pe,is!==null&&(Su?(k=is,oe=oe.stateNode,k.nodeType===8?k.parentNode.removeChild(oe):k.removeChild(oe)):is.removeChild(oe.stateNode));break;case 18:is!==null&&(Su?(k=is,oe=oe.stateNode,k.nodeType===8?by(k.parentNode,oe):k.nodeType===1&&by(k,oe),tp(k)):by(is,oe.stateNode));break;case 4:ge=is,Pe=Su,is=oe.stateNode.containerInfo,Su=!0,Pc(k,G,oe),is=ge,Su=Pe;break;case 0:case 11:case 14:case 15:if(!As&&(ge=oe.updateQueue,ge!==null&&(ge=ge.lastEffect,ge!==null))){Pe=ge=ge.next;do{var Ve=Pe,W=Ve.destroy;Ve=Ve.tag,W!==void 0&&(Ve&2||Ve&4)&&w1(oe,G,W),Pe=Pe.next}while(Pe!==ge)}Pc(k,G,oe);break;case 1:if(!As&&(kv(oe,G),ge=oe.stateNode,typeof ge.componentWillUnmount=="function"))try{ge.props=oe.memoizedProps,ge.state=oe.memoizedState,ge.componentWillUnmount()}catch(H){go(oe,G,H)}Pc(k,G,oe);break;case 21:Pc(k,G,oe);break;case 22:oe.mode&1?(As=(ge=As)||oe.memoizedState!==null,Pc(k,G,oe),As=ge):Pc(k,G,oe);break;default:Pc(k,G,oe)}}function sb(k){var G=k.updateQueue;if(G!==null){k.updateQueue=null;var oe=k.stateNode;oe===null&&(oe=k.stateNode=new _6),G.forEach(function(ge){var Pe=Y6.bind(null,k,ge);oe.has(ge)||(oe.add(ge),ge.then(Pe,Pe))})}}function Au(k,G){var oe=G.deletions;if(oe!==null)for(var ge=0;ge<oe.length;ge++){var Pe=oe[ge];try{var Ve=k,W=G,H=W;e:for(;H!==null;){switch(H.tag){case 5:is=H.stateNode,Su=!1;break e;case 3:is=H.stateNode.containerInfo,Su=!0;break e;case 4:is=H.stateNode.containerInfo,Su=!0;break e}H=H.return}if(is===null)throw Error(da(160));Bw(Ve,W,Pe),is=null,Su=!1;var e=Pe.alternate;e!==null&&(e.return=null),Pe.return=null}catch(g){go(Pe,G,g)}}if(G.subtreeFlags&12854)for(G=G.child;G!==null;)Uw(G,k),G=G.sibling}function Uw(k,G){var oe=k.alternate,ge=k.flags;switch(k.tag){case 0:case 11:case 14:case 15:if(Au(G,k),ef(k),ge&4){try{Zd(3,k,k.return),vg(3,k)}catch(p){go(k,k.return,p)}try{Zd(5,k,k.return)}catch(p){go(k,k.return,p)}}break;case 1:Au(G,k),ef(k),ge&512&&oe!==null&&kv(oe,oe.return);break;case 5:if(Au(G,k),ef(k),ge&512&&oe!==null&&kv(oe,oe.return),k.flags&32){var Pe=k.stateNode;try{Qd(Pe,"")}catch(p){go(k,k.return,p)}}if(ge&4&&(Pe=k.stateNode,Pe!=null)){var Ve=k.memoizedProps,W=oe!==null?oe.memoizedProps:Ve,H=k.type,e=k.updateQueue;if(k.updateQueue=null,e!==null)try{H==="input"&&Ve.type==="radio"&&Ve.name!=null&&s3(Pe,Ve),Xy(H,W);var g=Xy(H,Ve);for(W=0;W<e.length;W+=2){var P=e[W],i=e[W+1];P==="style"?h3(Pe,i):P==="dangerouslySetInnerHTML"?f3(Pe,i):P==="children"?Qd(Pe,i):X1(Pe,P,i,g)}switch(H){case"input":Gy(Pe,Ve);break;case"textarea":l3(Pe,Ve);break;case"select":var L=Pe._wrapperState.wasMultiple;Pe._wrapperState.wasMultiple=!!Ve.multiple;var A=Ve.value;A!=null?Ov(Pe,!!Ve.multiple,A,!1):L!==!!Ve.multiple&&(Ve.defaultValue!=null?Ov(Pe,!!Ve.multiple,Ve.defaultValue,!0):Ov(Pe,!!Ve.multiple,Ve.multiple?[]:"",!1))}Pe[op]=Ve}catch(p){go(k,k.return,p)}}break;case 6:if(Au(G,k),ef(k),ge&4){if(k.stateNode===null)throw Error(da(162));Pe=k.stateNode,Ve=k.memoizedProps;try{Pe.nodeValue=Ve}catch(p){go(k,k.return,p)}}break;case 3:if(Au(G,k),ef(k),ge&4&&oe!==null&&oe.memoizedState.isDehydrated)try{tp(G.containerInfo)}catch(p){go(k,k.return,p)}break;case 4:Au(G,k),ef(k);break;case 13:Au(G,k),ef(k),Pe=k.child,Pe.flags&8192&&(Ve=Pe.memoizedState!==null,Pe.stateNode.isHidden=Ve,!Ve||Pe.alternate!==null&&Pe.alternate.memoizedState!==null||(Cm=Ao())),ge&4&&sb(k);break;case 22:if(P=oe!==null&&oe.memoizedState!==null,k.mode&1?(As=(g=As)||P,Au(G,k),As=g):Au(G,k),ef(k),ge&8192){if(g=k.memoizedState!==null,(k.stateNode.isHidden=g)&&!P&&k.mode&1)for(Fa=k,P=k.child;P!==null;){for(i=Fa=P;Fa!==null;){switch(L=Fa,A=L.child,L.tag){case 0:case 11:case 14:case 15:Zd(4,L,L.return);break;case 1:kv(L,L.return);var v=L.stateNode;if(typeof v.componentWillUnmount=="function"){ge=L,oe=L.return;try{G=ge,v.props=G.memoizedProps,v.state=G.memoizedState,v.componentWillUnmount()}catch(p){go(ge,oe,p)}}break;case 5:kv(L,L.return);break;case 22:if(L.memoizedState!==null){ub(i);continue}}A!==null?(A.return=L,Fa=A):ub(i)}P=P.sibling}e:for(P=null,i=k;;){if(i.tag===5){if(P===null){P=i;try{Pe=i.stateNode,g?(Ve=Pe.style,typeof Ve.setProperty=="function"?Ve.setProperty("display","none","important"):Ve.display="none"):(H=i.stateNode,e=i.memoizedProps.style,W=e!=null&&e.hasOwnProperty("display")?e.display:null,H.style.display=c3("display",W))}catch(p){go(k,k.return,p)}}}else if(i.tag===6){if(P===null)try{i.stateNode.nodeValue=g?"":i.memoizedProps}catch(p){go(k,k.return,p)}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===k)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===k)break e;for(;i.sibling===null;){if(i.return===null||i.return===k)break e;P===i&&(P=null),i=i.return}P===i&&(P=null),i.sibling.return=i.return,i=i.sibling}}break;case 19:Au(G,k),ef(k),ge&4&&sb(k);break;case 21:break;default:Au(G,k),ef(k)}}function ef(k){var G=k.flags;if(G&2){try{e:{for(var oe=k.return;oe!==null;){if(Nw(oe)){var ge=oe;break e}oe=oe.return}throw Error(da(160))}switch(ge.tag){case 5:var Pe=ge.stateNode;ge.flags&32&&(Qd(Pe,""),ge.flags&=-33);var Ve=ob(k);M1(k,Ve,Pe);break;case 3:case 4:var W=ge.stateNode.containerInfo,H=ob(k);A1(k,H,W);break;default:throw Error(da(161))}}catch(e){go(k,k.return,e)}k.flags&=-3}G&4096&&(k.flags&=-4097)}function O6(k,G,oe){Fa=k,Hw(k)}function Hw(k,G,oe){for(var ge=(k.mode&1)!==0;Fa!==null;){var Pe=Fa,Ve=Pe.child;if(Pe.tag===22&&ge){var W=Pe.memoizedState!==null||u0;if(!W){var H=Pe.alternate,e=H!==null&&H.memoizedState!==null||As;H=u0;var g=As;if(u0=W,(As=e)&&!g)for(Fa=Pe;Fa!==null;)W=Fa,e=W.child,W.tag===22&&W.memoizedState!==null?fb(Pe):e!==null?(e.return=W,Fa=e):fb(Pe);for(;Ve!==null;)Fa=Ve,Hw(Ve),Ve=Ve.sibling;Fa=Pe,u0=H,As=g}lb(k)}else Pe.subtreeFlags&8772&&Ve!==null?(Ve.return=Pe,Fa=Ve):lb(k)}}function lb(k){for(;Fa!==null;){var G=Fa;if(G.flags&8772){var oe=G.alternate;try{if(G.flags&8772)switch(G.tag){case 0:case 11:case 15:As||vg(5,G);break;case 1:var ge=G.stateNode;if(G.flags&4&&!As)if(oe===null)ge.componentDidMount();else{var Pe=G.elementType===G.type?oe.memoizedProps:Mu(G.type,oe.memoizedProps);ge.componentDidUpdate(Pe,oe.memoizedState,ge.__reactInternalSnapshotBeforeUpdate)}var Ve=G.updateQueue;Ve!==null&&Y2(G,Ve,ge);break;case 3:var W=G.updateQueue;if(W!==null){if(oe=null,G.child!==null)switch(G.child.tag){case 5:oe=G.child.stateNode;break;case 1:oe=G.child.stateNode}Y2(G,W,oe)}break;case 5:var H=G.stateNode;if(oe===null&&G.flags&4){oe=H;var e=G.memoizedProps;switch(G.type){case"button":case"input":case"select":case"textarea":e.autoFocus&&oe.focus();break;case"img":e.src&&(oe.src=e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(G.memoizedState===null){var g=G.alternate;if(g!==null){var P=g.memoizedState;if(P!==null){var i=P.dehydrated;i!==null&&tp(i)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(da(163))}As||G.flags&512&&T1(G)}catch(L){go(G,G.return,L)}}if(G===k){Fa=null;break}if(oe=G.sibling,oe!==null){oe.return=G.return,Fa=oe;break}Fa=G.return}}function ub(k){for(;Fa!==null;){var G=Fa;if(G===k){Fa=null;break}var oe=G.sibling;if(oe!==null){oe.return=G.return,Fa=oe;break}Fa=G.return}}function fb(k){for(;Fa!==null;){var G=Fa;try{switch(G.tag){case 0:case 11:case 15:var oe=G.return;try{vg(4,G)}catch(e){go(G,oe,e)}break;case 1:var ge=G.stateNode;if(typeof ge.componentDidMount=="function"){var Pe=G.return;try{ge.componentDidMount()}catch(e){go(G,Pe,e)}}var Ve=G.return;try{T1(G)}catch(e){go(G,Ve,e)}break;case 5:var W=G.return;try{T1(G)}catch(e){go(G,W,e)}}}catch(e){go(G,G.return,e)}if(G===k){Fa=null;break}var H=G.sibling;if(H!==null){H.return=G.return,Fa=H;break}Fa=G.return}}var N6=Math.ceil,j0=Jf.ReactCurrentDispatcher,Sm=Jf.ReactCurrentOwner,Ql=Jf.ReactCurrentBatchConfig,Mi=0,Ko=null,Do=null,os=0,Al=0,Fv=Qc(0),No=0,hp=null,Vh=0,dg=0,Em=0,Xd=null,rl=null,Cm=0,Jv=1/0,Of=null,Z0=!1,S1=null,Wc=null,f0=!1,Oc=null,X0=0,Kd=0,E1=null,M0=-1,S0=0;function Bs(){return Mi&6?Ao():M0!==-1?M0:M0=Ao()}function Yc(k){return k.mode&1?Mi&2&&os!==0?os&-os:w6.transition!==null?(S0===0&&(S0=M3()),S0):(k=Fi,k!==0||(k=window.event,k=k===void 0?16:D3(k.type)),k):1}function Pu(k,G,oe,ge){if(50<Kd)throw Kd=0,E1=null,Error(da(185));gp(k,oe,ge),(!(Mi&2)||k!==Ko)&&(k===Ko&&(!(Mi&2)&&(dg|=oe),No===4&&_c(k,os)),ol(k,ge),oe===1&&Mi===0&&!(G.mode&1)&&(Jv=Ao()+500,fg&&$c()))}function ol(k,G){var oe=k.callbackNode;wS(k,G);var ge=D0(k,k===Ko?os:0);if(ge===0)oe!==null&&x2(oe),k.callbackNode=null,k.callbackPriority=0;else if(G=ge&-ge,k.callbackPriority!==G){if(oe!=null&&x2(oe),G===1)k.tag===0?b6(cb.bind(null,k)):J3(cb.bind(null,k)),g6(function(){!(Mi&6)&&$c()}),oe=null;else{switch(S3(ge)){case 1:oe=q1;break;case 4:oe=T3;break;case 16:oe=R0;break;case 536870912:oe=A3;break;default:oe=R0}oe=Kw(oe,Vw.bind(null,k))}k.callbackPriority=G,k.callbackNode=oe}}function Vw(k,G){if(M0=-1,S0=0,Mi&6)throw Error(da(327));var oe=k.callbackNode;if(Vv()&&k.callbackNode!==oe)return null;var ge=D0(k,k===Ko?os:0);if(ge===0)return null;if(ge&30||ge&k.expiredLanes||G)G=K0(k,ge);else{G=ge;var Pe=Mi;Mi|=2;var Ve=Ww();(Ko!==k||os!==G)&&(Of=null,Jv=Ao()+500,Oh(k,G));do try{H6();break}catch(H){Gw(k,H)}while(1);hm(),j0.current=Ve,Mi=Pe,Do!==null?G=0:(Ko=null,os=0,G=No)}if(G!==0){if(G===2&&(Pe=qy(k),Pe!==0&&(ge=Pe,G=C1(k,Pe))),G===1)throw oe=hp,Oh(k,0),_c(k,ge),ol(k,Ao()),oe;if(G===6)_c(k,ge);else{if(Pe=k.current.alternate,!(ge&30)&&!B6(Pe)&&(G=K0(k,ge),G===2&&(Ve=qy(k),Ve!==0&&(ge=Ve,G=C1(k,Ve))),G===1))throw oe=hp,Oh(k,0),_c(k,ge),ol(k,Ao()),oe;switch(k.finishedWork=Pe,k.finishedLanes=ge,G){case 0:case 1:throw Error(da(345));case 2:Rh(k,rl,Of);break;case 3:if(_c(k,ge),(ge&130023424)===ge&&(G=Cm+500-Ao(),10<G)){if(D0(k,0)!==0)break;if(Pe=k.suspendedLanes,(Pe&ge)!==ge){Bs(),k.pingedLanes|=k.suspendedLanes&Pe;break}k.timeoutHandle=s1(Rh.bind(null,k,rl,Of),G);break}Rh(k,rl,Of);break;case 4:if(_c(k,ge),(ge&4194240)===ge)break;for(G=k.eventTimes,Pe=-1;0<ge;){var W=31-Lu(ge);Ve=1<<W,W=G[W],W>Pe&&(Pe=W),ge&=~Ve}if(ge=Pe,ge=Ao()-ge,ge=(120>ge?120:480>ge?480:1080>ge?1080:1920>ge?1920:3e3>ge?3e3:4320>ge?4320:1960*N6(ge/1960))-ge,10<ge){k.timeoutHandle=s1(Rh.bind(null,k,rl,Of),ge);break}Rh(k,rl,Of);break;case 5:Rh(k,rl,Of);break;default:throw Error(da(329))}}}return ol(k,Ao()),k.callbackNode===oe?Vw.bind(null,k):null}function C1(k,G){var oe=Xd;return k.current.memoizedState.isDehydrated&&(Oh(k,G).flags|=256),k=K0(k,G),k!==2&&(G=rl,rl=oe,G!==null&&L1(G)),k}function L1(k){rl===null?rl=k:rl.push.apply(rl,k)}function B6(k){for(var G=k;;){if(G.flags&16384){var oe=G.updateQueue;if(oe!==null&&(oe=oe.stores,oe!==null))for(var ge=0;ge<oe.length;ge++){var Pe=oe[ge],Ve=Pe.getSnapshot;Pe=Pe.value;try{if(!Ru(Ve(),Pe))return!1}catch{return!1}}}if(oe=G.child,G.subtreeFlags&16384&&oe!==null)oe.return=G,G=oe;else{if(G===k)break;for(;G.sibling===null;){if(G.return===null||G.return===k)return!0;G=G.return}G.sibling.return=G.return,G=G.sibling}}return!0}function _c(k,G){for(G&=~Em,G&=~dg,k.suspendedLanes|=G,k.pingedLanes&=~G,k=k.expirationTimes;0<G;){var oe=31-Lu(G),ge=1<<oe;k[oe]=-1,G&=~ge}}function cb(k){if(Mi&6)throw Error(da(327));Vv();var G=D0(k,0);if(!(G&1))return ol(k,Ao()),null;var oe=K0(k,G);if(k.tag!==0&&oe===2){var ge=qy(k);ge!==0&&(G=ge,oe=C1(k,ge))}if(oe===1)throw oe=hp,Oh(k,0),_c(k,G),ol(k,Ao()),oe;if(oe===6)throw Error(da(345));return k.finishedWork=k.current.alternate,k.finishedLanes=G,Rh(k,rl,Of),ol(k,Ao()),null}function Lm(k,G){var oe=Mi;Mi|=1;try{return k(G)}finally{Mi=oe,Mi===0&&(Jv=Ao()+500,fg&&$c())}}function Gh(k){Oc!==null&&Oc.tag===0&&!(Mi&6)&&Vv();var G=Mi;Mi|=1;var oe=Ql.transition,ge=Fi;try{if(Ql.transition=null,Fi=1,k)return k()}finally{Fi=ge,Ql.transition=oe,Mi=G,!(Mi&6)&&$c()}}function Pm(){Al=Fv.current,Xi(Fv)}function Oh(k,G){k.finishedWork=null,k.finishedLanes=0;var oe=k.timeoutHandle;if(oe!==-1&&(k.timeoutHandle=-1,p6(oe)),Do!==null)for(oe=Do.return;oe!==null;){var ge=oe;switch(um(ge),ge.tag){case 1:ge=ge.type.childContextTypes,ge!=null&&z0();break;case 3:Xv(),Xi(al),Xi(Ms),mm();break;case 5:ym(ge);break;case 4:Xv();break;case 13:Xi(lo);break;case 19:Xi(lo);break;case 10:vm(ge.type._context);break;case 22:case 23:Pm()}oe=oe.return}if(Ko=k,Do=k=jc(k.current,null),os=Al=G,No=0,hp=null,Em=dg=Vh=0,rl=Xd=null,Fh!==null){for(G=0;G<Fh.length;G++)if(oe=Fh[G],ge=oe.interleaved,ge!==null){oe.interleaved=null;var Pe=ge.next,Ve=oe.pending;if(Ve!==null){var W=Ve.next;Ve.next=Pe,ge.next=W}oe.pending=ge}Fh=null}return k}function Gw(k,G){do{var oe=Do;try{if(hm(),w0.current=Y0,W0){for(var ge=uo.memoizedState;ge!==null;){var Pe=ge.queue;Pe!==null&&(Pe.pending=null),ge=ge.next}W0=!1}if(Hh=0,Zo=Oo=uo=null,jd=!1,up=0,Sm.current=null,oe===null||oe.return===null){No=1,hp=G,Do=null;break}e:{var Ve=k,W=oe.return,H=oe,e=G;if(G=os,H.flags|=32768,e!==null&&typeof e=="object"&&typeof e.then=="function"){var g=e,P=H,i=P.tag;if(!(P.mode&1)&&(i===0||i===11||i===15)){var L=P.alternate;L?(P.updateQueue=L.updateQueue,P.memoizedState=L.memoizedState,P.lanes=L.lanes):(P.updateQueue=null,P.memoizedState=null)}var A=$2(W);if(A!==null){A.flags&=-257,q2(A,W,H,Ve,G),A.mode&1&&Q2(Ve,g,G),G=A,e=g;var v=G.updateQueue;if(v===null){var p=new Set;p.add(e),G.updateQueue=p}else v.add(e);break e}else{if(!(G&1)){Q2(Ve,g,G),Rm();break e}e=Error(da(426))}}else if(qi&&H.mode&1){var t=$2(W);if(t!==null){!(t.flags&65536)&&(t.flags|=256),q2(t,W,H,Ve,G),fm(Kv(e,H));break e}}Ve=e=Kv(e,H),No!==4&&(No=2),Xd===null?Xd=[Ve]:Xd.push(Ve),Ve=W;do{switch(Ve.tag){case 3:Ve.flags|=65536,G&=-G,Ve.lanes|=G;var r=Ew(Ve,e,G);W2(Ve,r);break e;case 1:H=e;var s=Ve.type,n=Ve.stateNode;if(!(Ve.flags&128)&&(typeof s.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(Wc===null||!Wc.has(n)))){Ve.flags|=65536,G&=-G,Ve.lanes|=G;var l=Cw(Ve,H,G);W2(Ve,l);break e}}Ve=Ve.return}while(Ve!==null)}jw(oe)}catch(f){G=f,Do===oe&&oe!==null&&(Do=oe=oe.return);continue}break}while(1)}function Ww(){var k=j0.current;return j0.current=Y0,k===null?Y0:k}function Rm(){(No===0||No===3||No===2)&&(No=4),Ko===null||!(Vh&268435455)&&!(dg&268435455)||_c(Ko,os)}function K0(k,G){var oe=Mi;Mi|=2;var ge=Ww();(Ko!==k||os!==G)&&(Of=null,Oh(k,G));do try{U6();break}catch(Pe){Gw(k,Pe)}while(1);if(hm(),Mi=oe,j0.current=ge,Do!==null)throw Error(da(261));return Ko=null,os=0,No}function U6(){for(;Do!==null;)Yw(Do)}function H6(){for(;Do!==null&&!hS();)Yw(Do)}function Yw(k){var G=Xw(k.alternate,k,Al);k.memoizedProps=k.pendingProps,G===null?jw(k):Do=G,Sm.current=null}function jw(k){var G=k;do{var oe=G.alternate;if(k=G.return,G.flags&32768){if(oe=F6(oe,G),oe!==null){oe.flags&=32767,Do=oe;return}if(k!==null)k.flags|=32768,k.subtreeFlags=0,k.deletions=null;else{No=6,Do=null;return}}else if(oe=k6(oe,G,Al),oe!==null){Do=oe;return}if(G=G.sibling,G!==null){Do=G;return}Do=G=k}while(G!==null);No===0&&(No=5)}function Rh(k,G,oe){var ge=Fi,Pe=Ql.transition;try{Ql.transition=null,Fi=1,V6(k,G,oe,ge)}finally{Ql.transition=Pe,Fi=ge}return null}function V6(k,G,oe,ge){do Vv();while(Oc!==null);if(Mi&6)throw Error(da(327));oe=k.finishedWork;var Pe=k.finishedLanes;if(oe===null)return null;if(k.finishedWork=null,k.finishedLanes=0,oe===k.current)throw Error(da(177));k.callbackNode=null,k.callbackPriority=0;var Ve=oe.lanes|oe.childLanes;if(TS(k,Ve),k===Ko&&(Do=Ko=null,os=0),!(oe.subtreeFlags&2064)&&!(oe.flags&2064)||f0||(f0=!0,Kw(R0,function(){return Vv(),null})),Ve=(oe.flags&15990)!==0,oe.subtreeFlags&15990||Ve){Ve=Ql.transition,Ql.transition=null;var W=Fi;Fi=1;var H=Mi;Mi|=4,Sm.current=null,z6(k,oe),Uw(oe,k),l6(i1),I0=!!a1,i1=a1=null,k.current=oe,O6(oe),vS(),Mi=H,Fi=W,Ql.transition=Ve}else k.current=oe;if(f0&&(f0=!1,Oc=k,X0=Pe),Ve=k.pendingLanes,Ve===0&&(Wc=null),gS(oe.stateNode),ol(k,Ao()),G!==null)for(ge=k.onRecoverableError,oe=0;oe<G.length;oe++)Pe=G[oe],ge(Pe.value,{componentStack:Pe.stack,digest:Pe.digest});if(Z0)throw Z0=!1,k=S1,S1=null,k;return X0&1&&k.tag!==0&&Vv(),Ve=k.pendingLanes,Ve&1?k===E1?Kd++:(Kd=0,E1=k):Kd=0,$c(),null}function Vv(){if(Oc!==null){var k=S3(X0),G=Ql.transition,oe=Fi;try{if(Ql.transition=null,Fi=16>k?16:k,Oc===null)var ge=!1;else{if(k=Oc,Oc=null,X0=0,Mi&6)throw Error(da(331));var Pe=Mi;for(Mi|=4,Fa=k.current;Fa!==null;){var Ve=Fa,W=Ve.child;if(Fa.flags&16){var H=Ve.deletions;if(H!==null){for(var e=0;e<H.length;e++){var g=H[e];for(Fa=g;Fa!==null;){var P=Fa;switch(P.tag){case 0:case 11:case 15:Zd(8,P,Ve)}var i=P.child;if(i!==null)i.return=P,Fa=i;else for(;Fa!==null;){P=Fa;var L=P.sibling,A=P.return;if(Ow(P),P===g){Fa=null;break}if(L!==null){L.return=A,Fa=L;break}Fa=A}}}var v=Ve.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var t=p.sibling;p.sibling=null,p=t}while(p!==null)}}Fa=Ve}}if(Ve.subtreeFlags&2064&&W!==null)W.return=Ve,Fa=W;else e:for(;Fa!==null;){if(Ve=Fa,Ve.flags&2048)switch(Ve.tag){case 0:case 11:case 15:Zd(9,Ve,Ve.return)}var r=Ve.sibling;if(r!==null){r.return=Ve.return,Fa=r;break e}Fa=Ve.return}}var s=k.current;for(Fa=s;Fa!==null;){W=Fa;var n=W.child;if(W.subtreeFlags&2064&&n!==null)n.return=W,Fa=n;else e:for(W=s;Fa!==null;){if(H=Fa,H.flags&2048)try{switch(H.tag){case 0:case 11:case 15:vg(9,H)}}catch(f){go(H,H.return,f)}if(H===W){Fa=null;break e}var l=H.sibling;if(l!==null){l.return=H.return,Fa=l;break e}Fa=H.return}}if(Mi=Pe,$c(),nf&&typeof nf.onPostCommitFiberRoot=="function")try{nf.onPostCommitFiberRoot(ig,k)}catch{}ge=!0}return ge}finally{Fi=oe,Ql.transition=G}}return!1}function hb(k,G,oe){G=Kv(oe,G),G=Ew(k,G,1),k=Gc(k,G,1),G=Bs(),k!==null&&(gp(k,1,G),ol(k,G))}function go(k,G,oe){if(k.tag===3)hb(k,k,oe);else for(;G!==null;){if(G.tag===3){hb(G,k,oe);break}else if(G.tag===1){var ge=G.stateNode;if(typeof G.type.getDerivedStateFromError=="function"||typeof ge.componentDidCatch=="function"&&(Wc===null||!Wc.has(ge))){k=Kv(oe,k),k=Cw(G,k,1),G=Gc(G,k,1),k=Bs(),G!==null&&(gp(G,1,k),ol(G,k));break}}G=G.return}}function G6(k,G,oe){var ge=k.pingCache;ge!==null&&ge.delete(G),G=Bs(),k.pingedLanes|=k.suspendedLanes&oe,Ko===k&&(os&oe)===oe&&(No===4||No===3&&(os&130023424)===os&&500>Ao()-Cm?Oh(k,0):Em|=oe),ol(k,G)}function Zw(k,G){G===0&&(k.mode&1?(G=e0,e0<<=1,!(e0&130023424)&&(e0=4194304)):G=1);var oe=Bs();k=Zf(k,G),k!==null&&(gp(k,G,oe),ol(k,oe))}function W6(k){var G=k.memoizedState,oe=0;G!==null&&(oe=G.retryLane),Zw(k,oe)}function Y6(k,G){var oe=0;switch(k.tag){case 13:var ge=k.stateNode,Pe=k.memoizedState;Pe!==null&&(oe=Pe.retryLane);break;case 19:ge=k.stateNode;break;default:throw Error(da(314))}ge!==null&&ge.delete(G),Zw(k,oe)}var Xw;Xw=function(k,G,oe){if(k!==null)if(k.memoizedProps!==G.pendingProps||al.current)nl=!0;else{if(!(k.lanes&oe)&&!(G.flags&128))return nl=!1,I6(k,G,oe);nl=!!(k.flags&131072)}else nl=!1,qi&&G.flags&1048576&&Q3(G,B0,G.index);switch(G.lanes=0,G.tag){case 2:var ge=G.type;A0(k,G),k=G.pendingProps;var Pe=Yv(G,Ms.current);Hv(G,oe),Pe=bm(null,G,ge,k,Pe,oe);var Ve=wm();return G.flags|=1,typeof Pe=="object"&&Pe!==null&&typeof Pe.render=="function"&&Pe.$$typeof===void 0?(G.tag=1,G.memoizedState=null,G.updateQueue=null,il(ge)?(Ve=!0,O0(G)):Ve=!1,G.memoizedState=Pe.state!==null&&Pe.state!==void 0?Pe.state:null,pm(G),Pe.updater=cg,G.stateNode=Pe,Pe._reactInternals=G,d1(G,ge,k,oe),G=y1(null,G,ge,!0,Ve,oe)):(G.tag=0,qi&&Ve&&lm(G),Ns(null,G,Pe,oe),G=G.child),G;case 16:ge=G.elementType;e:{switch(A0(k,G),k=G.pendingProps,Pe=ge._init,ge=Pe(ge._payload),G.type=ge,Pe=G.tag=Z6(ge),k=Mu(ge,k),Pe){case 0:G=g1(null,G,ge,k,oe);break e;case 1:G=rb(null,G,ge,k,oe);break e;case 11:G=eb(null,G,ge,k,oe);break e;case 14:G=tb(null,G,ge,Mu(ge.type,k),oe);break e}throw Error(da(306,ge,""))}return G;case 0:return ge=G.type,Pe=G.pendingProps,Pe=G.elementType===ge?Pe:Mu(ge,Pe),g1(k,G,ge,Pe,oe);case 1:return ge=G.type,Pe=G.pendingProps,Pe=G.elementType===ge?Pe:Mu(ge,Pe),rb(k,G,ge,Pe,oe);case 3:e:{if(Dw(G),k===null)throw Error(da(387));ge=G.pendingProps,Ve=G.memoizedState,Pe=Ve.element,tw(k,G),V0(G,ge,null,oe);var W=G.memoizedState;if(ge=W.element,Ve.isDehydrated)if(Ve={element:ge,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},G.updateQueue.baseState=Ve,G.memoizedState=Ve,G.flags&256){Pe=Kv(Error(da(423)),G),G=nb(k,G,ge,oe,Pe);break e}else if(ge!==Pe){Pe=Kv(Error(da(424)),G),G=nb(k,G,ge,oe,Pe);break e}else for(Ml=Vc(G.stateNode.containerInfo.firstChild),Sl=G,qi=!0,Eu=null,oe=iw(G,null,ge,oe),G.child=oe;oe;)oe.flags=oe.flags&-3|4096,oe=oe.sibling;else{if(jv(),ge===Pe){G=Xf(k,G,oe);break e}Ns(k,G,ge,oe)}G=G.child}return G;case 5:return ow(G),k===null&&c1(G),ge=G.type,Pe=G.pendingProps,Ve=k!==null?k.memoizedProps:null,W=Pe.children,o1(ge,Pe)?W=null:Ve!==null&&o1(ge,Ve)&&(G.flags|=32),Rw(k,G),Ns(k,G,W,oe),G.child;case 6:return k===null&&c1(G),null;case 13:return Iw(k,G,oe);case 4:return gm(G,G.stateNode.containerInfo),ge=G.pendingProps,k===null?G.child=Zv(G,null,ge,oe):Ns(k,G,ge,oe),G.child;case 11:return ge=G.type,Pe=G.pendingProps,Pe=G.elementType===ge?Pe:Mu(ge,Pe),eb(k,G,ge,Pe,oe);case 7:return Ns(k,G,G.pendingProps,oe),G.child;case 8:return Ns(k,G,G.pendingProps.children,oe),G.child;case 12:return Ns(k,G,G.pendingProps.children,oe),G.child;case 10:e:{if(ge=G.type._context,Pe=G.pendingProps,Ve=G.memoizedProps,W=Pe.value,Gi(U0,ge._currentValue),ge._currentValue=W,Ve!==null)if(Ru(Ve.value,W)){if(Ve.children===Pe.children&&!al.current){G=Xf(k,G,oe);break e}}else for(Ve=G.child,Ve!==null&&(Ve.return=G);Ve!==null;){var H=Ve.dependencies;if(H!==null){W=Ve.child;for(var e=H.firstContext;e!==null;){if(e.context===ge){if(Ve.tag===1){e=Vf(-1,oe&-oe),e.tag=2;var g=Ve.updateQueue;if(g!==null){g=g.shared;var P=g.pending;P===null?e.next=e:(e.next=P.next,P.next=e),g.pending=e}}Ve.lanes|=oe,e=Ve.alternate,e!==null&&(e.lanes|=oe),h1(Ve.return,oe,G),H.lanes|=oe;break}e=e.next}}else if(Ve.tag===10)W=Ve.type===G.type?null:Ve.child;else if(Ve.tag===18){if(W=Ve.return,W===null)throw Error(da(341));W.lanes|=oe,H=W.alternate,H!==null&&(H.lanes|=oe),h1(W,oe,G),W=Ve.sibling}else W=Ve.child;if(W!==null)W.return=Ve;else for(W=Ve;W!==null;){if(W===G){W=null;break}if(Ve=W.sibling,Ve!==null){Ve.return=W.return,W=Ve;break}W=W.return}Ve=W}Ns(k,G,Pe.children,oe),G=G.child}return G;case 9:return Pe=G.type,ge=G.pendingProps.children,Hv(G,oe),Pe=$l(Pe),ge=ge(Pe),G.flags|=1,Ns(k,G,ge,oe),G.child;case 14:return ge=G.type,Pe=Mu(ge,G.pendingProps),Pe=Mu(ge.type,Pe),tb(k,G,ge,Pe,oe);case 15:return Lw(k,G,G.type,G.pendingProps,oe);case 17:return ge=G.type,Pe=G.pendingProps,Pe=G.elementType===ge?Pe:Mu(ge,Pe),A0(k,G),G.tag=1,il(ge)?(k=!0,O0(G)):k=!1,Hv(G,oe),nw(G,ge,Pe),d1(G,ge,Pe,oe),y1(null,G,ge,!0,k,oe);case 19:return kw(k,G,oe);case 22:return Pw(k,G,oe)}throw Error(da(156,G.tag))};function Kw(k,G){return w3(k,G)}function j6(k,G,oe,ge){this.tag=k,this.key=oe,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=G,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=ge,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jl(k,G,oe,ge){return new j6(k,G,oe,ge)}function Dm(k){return k=k.prototype,!(!k||!k.isReactComponent)}function Z6(k){if(typeof k=="function")return Dm(k)?1:0;if(k!=null){if(k=k.$$typeof,k===J1)return 11;if(k===Q1)return 14}return 2}function jc(k,G){var oe=k.alternate;return oe===null?(oe=Jl(k.tag,G,k.key,k.mode),oe.elementType=k.elementType,oe.type=k.type,oe.stateNode=k.stateNode,oe.alternate=k,k.alternate=oe):(oe.pendingProps=G,oe.type=k.type,oe.flags=0,oe.subtreeFlags=0,oe.deletions=null),oe.flags=k.flags&14680064,oe.childLanes=k.childLanes,oe.lanes=k.lanes,oe.child=k.child,oe.memoizedProps=k.memoizedProps,oe.memoizedState=k.memoizedState,oe.updateQueue=k.updateQueue,G=k.dependencies,oe.dependencies=G===null?null:{lanes:G.lanes,firstContext:G.firstContext},oe.sibling=k.sibling,oe.index=k.index,oe.ref=k.ref,oe}function E0(k,G,oe,ge,Pe,Ve){var W=2;if(ge=k,typeof k=="function")Dm(k)&&(W=1);else if(typeof k=="string")W=5;else e:switch(k){case Mv:return Nh(oe.children,Pe,Ve,G);case K1:W=8,Pe|=8;break;case Ny:return k=Jl(12,oe,G,Pe|2),k.elementType=Ny,k.lanes=Ve,k;case By:return k=Jl(13,oe,G,Pe),k.elementType=By,k.lanes=Ve,k;case Uy:return k=Jl(19,oe,G,Pe),k.elementType=Uy,k.lanes=Ve,k;case a3:return pg(oe,Pe,Ve,G);default:if(typeof k=="object"&&k!==null)switch(k.$$typeof){case r3:W=10;break e;case n3:W=9;break e;case J1:W=11;break e;case Q1:W=14;break e;case Dc:W=16,ge=null;break e}throw Error(da(130,k==null?k:typeof k,""))}return G=Jl(W,oe,G,Pe),G.elementType=k,G.type=ge,G.lanes=Ve,G}function Nh(k,G,oe,ge){return k=Jl(7,k,ge,G),k.lanes=oe,k}function pg(k,G,oe,ge){return k=Jl(22,k,ge,G),k.elementType=a3,k.lanes=oe,k.stateNode={isHidden:!1},k}function Ly(k,G,oe){return k=Jl(6,k,null,G),k.lanes=oe,k}function Py(k,G,oe){return G=Jl(4,k.children!==null?k.children:[],k.key,G),G.lanes=oe,G.stateNode={containerInfo:k.containerInfo,pendingChildren:null,implementation:k.implementation},G}function X6(k,G,oe,ge,Pe){this.tag=G,this.containerInfo=k,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uy(0),this.expirationTimes=uy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uy(0),this.identifierPrefix=ge,this.onRecoverableError=Pe,this.mutableSourceEagerHydrationData=null}function Im(k,G,oe,ge,Pe,Ve,W,H,e){return k=new X6(k,G,oe,H,e),G===1?(G=1,Ve===!0&&(G|=8)):G=0,Ve=Jl(3,null,null,G),k.current=Ve,Ve.stateNode=k,Ve.memoizedState={element:ge,isDehydrated:oe,cache:null,transitions:null,pendingSuspenseBoundaries:null},pm(Ve),k}function K6(k,G,oe){var ge=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Av,key:ge==null?null:""+ge,children:k,containerInfo:G,implementation:oe}}function Jw(k){if(!k)return Kc;k=k._reactInternals;e:{if(jh(k)!==k||k.tag!==1)throw Error(da(170));var G=k;do{switch(G.tag){case 3:G=G.stateNode.context;break e;case 1:if(il(G.type)){G=G.stateNode.__reactInternalMemoizedMergedChildContext;break e}}G=G.return}while(G!==null);throw Error(da(171))}if(k.tag===1){var oe=k.type;if(il(oe))return K3(k,oe,G)}return G}function Qw(k,G,oe,ge,Pe,Ve,W,H,e){return k=Im(oe,ge,!0,k,Pe,Ve,W,H,e),k.context=Jw(null),oe=k.current,ge=Bs(),Pe=Yc(oe),Ve=Vf(ge,Pe),Ve.callback=G??null,Gc(oe,Ve,Pe),k.current.lanes=Pe,gp(k,Pe,ge),ol(k,ge),k}function gg(k,G,oe,ge){var Pe=G.current,Ve=Bs(),W=Yc(Pe);return oe=Jw(oe),G.context===null?G.context=oe:G.pendingContext=oe,G=Vf(Ve,W),G.payload={element:k},ge=ge===void 0?null:ge,ge!==null&&(G.callback=ge),k=Gc(Pe,G,W),k!==null&&(Pu(k,Pe,W,Ve),b0(k,Pe,W)),W}function J0(k){if(k=k.current,!k.child)return null;switch(k.child.tag){case 5:return k.child.stateNode;default:return k.child.stateNode}}function vb(k,G){if(k=k.memoizedState,k!==null&&k.dehydrated!==null){var oe=k.retryLane;k.retryLane=oe!==0&&oe<G?oe:G}}function km(k,G){vb(k,G),(k=k.alternate)&&vb(k,G)}function J6(){return null}var $w=typeof reportError=="function"?reportError:function(k){console.error(k)};function Fm(k){this._internalRoot=k}yg.prototype.render=Fm.prototype.render=function(k){var G=this._internalRoot;if(G===null)throw Error(da(409));gg(k,G,null,null)};yg.prototype.unmount=Fm.prototype.unmount=function(){var k=this._internalRoot;if(k!==null){this._internalRoot=null;var G=k.containerInfo;Gh(function(){gg(null,k,null,null)}),G[jf]=null}};function yg(k){this._internalRoot=k}yg.prototype.unstable_scheduleHydration=function(k){if(k){var G=L3();k={blockedOn:null,target:k,priority:G};for(var oe=0;oe<Fc.length&&G!==0&&G<Fc[oe].priority;oe++);Fc.splice(oe,0,k),oe===0&&R3(k)}};function _m(k){return!(!k||k.nodeType!==1&&k.nodeType!==9&&k.nodeType!==11)}function mg(k){return!(!k||k.nodeType!==1&&k.nodeType!==9&&k.nodeType!==11&&(k.nodeType!==8||k.nodeValue!==" react-mount-point-unstable "))}function db(){}function Q6(k,G,oe,ge,Pe){if(Pe){if(typeof ge=="function"){var Ve=ge;ge=function(){var g=J0(W);Ve.call(g)}}var W=Qw(G,ge,k,0,null,!1,!1,"",db);return k._reactRootContainer=W,k[jf]=W.current,ap(k.nodeType===8?k.parentNode:k),Gh(),W}for(;Pe=k.lastChild;)k.removeChild(Pe);if(typeof ge=="function"){var H=ge;ge=function(){var g=J0(e);H.call(g)}}var e=Im(k,0,!1,null,null,!1,!1,"",db);return k._reactRootContainer=e,k[jf]=e.current,ap(k.nodeType===8?k.parentNode:k),Gh(function(){gg(G,e,oe,ge)}),e}function xg(k,G,oe,ge,Pe){var Ve=oe._reactRootContainer;if(Ve){var W=Ve;if(typeof Pe=="function"){var H=Pe;Pe=function(){var e=J0(W);H.call(e)}}gg(G,W,k,Pe)}else W=Q6(oe,G,k,Pe,ge);return J0(W)}E3=function(k){switch(k.tag){case 3:var G=k.stateNode;if(G.current.memoizedState.isDehydrated){var oe=Od(G.pendingLanes);oe!==0&&(em(G,oe|1),ol(G,Ao()),!(Mi&6)&&(Jv=Ao()+500,$c()))}break;case 13:Gh(function(){var ge=Zf(k,1);if(ge!==null){var Pe=Bs();Pu(ge,k,1,Pe)}}),km(k,1)}};tm=function(k){if(k.tag===13){var G=Zf(k,134217728);if(G!==null){var oe=Bs();Pu(G,k,134217728,oe)}km(k,134217728)}};C3=function(k){if(k.tag===13){var G=Yc(k),oe=Zf(k,G);if(oe!==null){var ge=Bs();Pu(oe,k,G,ge)}km(k,G)}};L3=function(){return Fi};P3=function(k,G){var oe=Fi;try{return Fi=k,G()}finally{Fi=oe}};Jy=function(k,G,oe){switch(G){case"input":if(Gy(k,oe),G=oe.name,oe.type==="radio"&&G!=null){for(oe=k;oe.parentNode;)oe=oe.parentNode;for(oe=oe.querySelectorAll("input[name="+JSON.stringify(""+G)+'][type="radio"]'),G=0;G<oe.length;G++){var ge=oe[G];if(ge!==k&&ge.form===k.form){var Pe=ug(ge);if(!Pe)throw Error(da(90));o3(ge),Gy(ge,Pe)}}}break;case"textarea":l3(k,oe);break;case"select":G=oe.value,G!=null&&Ov(k,!!oe.multiple,G,!1)}};p3=Lm;g3=Gh;var $6={usingClientEntryPoint:!1,Events:[mp,Lv,ug,v3,d3,Lm]},Rd={findFiberByHostInstance:kh,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},q6={bundleType:Rd.bundleType,version:Rd.version,rendererPackageName:Rd.rendererPackageName,rendererConfig:Rd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jf.ReactCurrentDispatcher,findHostInstanceByFiber:function(k){return k=x3(k),k===null?null:k.stateNode},findFiberByHostInstance:Rd.findFiberByHostInstance||J6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var c0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!c0.isDisabled&&c0.supportsFiber)try{ig=c0.inject(q6),nf=c0}catch{}}Cl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$6;Cl.createPortal=function(k,G){var oe=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_m(G))throw Error(da(200));return K6(k,G,null,oe)};Cl.createRoot=function(k,G){if(!_m(k))throw Error(da(299));var oe=!1,ge="",Pe=$w;return G!=null&&(G.unstable_strictMode===!0&&(oe=!0),G.identifierPrefix!==void 0&&(ge=G.identifierPrefix),G.onRecoverableError!==void 0&&(Pe=G.onRecoverableError)),G=Im(k,1,!1,null,null,oe,!1,ge,Pe),k[jf]=G.current,ap(k.nodeType===8?k.parentNode:k),new Fm(G)};Cl.findDOMNode=function(k){if(k==null)return null;if(k.nodeType===1)return k;var G=k._reactInternals;if(G===void 0)throw typeof k.render=="function"?Error(da(188)):(k=Object.keys(k).join(","),Error(da(268,k)));return k=x3(G),k=k===null?null:k.stateNode,k};Cl.flushSync=function(k){return Gh(k)};Cl.hydrate=function(k,G,oe){if(!mg(G))throw Error(da(200));return xg(null,k,G,!0,oe)};Cl.hydrateRoot=function(k,G,oe){if(!_m(k))throw Error(da(405));var ge=oe!=null&&oe.hydratedSources||null,Pe=!1,Ve="",W=$w;if(oe!=null&&(oe.unstable_strictMode===!0&&(Pe=!0),oe.identifierPrefix!==void 0&&(Ve=oe.identifierPrefix),oe.onRecoverableError!==void 0&&(W=oe.onRecoverableError)),G=Qw(G,null,k,1,oe??null,Pe,!1,Ve,W),k[jf]=G.current,ap(k),ge)for(k=0;k<ge.length;k++)oe=ge[k],Pe=oe._getVersion,Pe=Pe(oe._source),G.mutableSourceEagerHydrationData==null?G.mutableSourceEagerHydrationData=[oe,Pe]:G.mutableSourceEagerHydrationData.push(oe,Pe);return new yg(G)};Cl.render=function(k,G,oe){if(!mg(G))throw Error(da(200));return xg(null,k,G,!1,oe)};Cl.unmountComponentAtNode=function(k){if(!mg(k))throw Error(da(40));return k._reactRootContainer?(Gh(function(){xg(null,null,k,!1,function(){k._reactRootContainer=null,k[jf]=null})}),!0):!1};Cl.unstable_batchedUpdates=Lm;Cl.unstable_renderSubtreeIntoContainer=function(k,G,oe,ge){if(!mg(oe))throw Error(da(200));if(k==null||k._reactInternals===void 0)throw Error(da(38));return xg(k,G,oe,!1,ge)};Cl.version="18.2.0-next-9e3b772b8-20220608";function qw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qw)}catch(k){console.error(k)}}qw(),Qb.exports=Cl;var eT=Qb.exports;const _v=dp(eT);var pb=eT;zy.createRoot=pb.createRoot,zy.hydrateRoot=pb.hydrateRoot;/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Q0(){return Q0=Object.assign?Object.assign.bind():function(k){for(var G=1;G<arguments.length;G++){var oe=arguments[G];for(var ge in oe)Object.prototype.hasOwnProperty.call(oe,ge)&&(k[ge]=oe[ge])}return k},Q0.apply(this,arguments)}var Nc;(function(k){k.Pop="POP",k.Push="PUSH",k.Replace="REPLACE"})(Nc||(Nc={}));const gb="popstate";function e8(k){k===void 0&&(k={});function G(ge,Pe){let{pathname:Ve,search:W,hash:H}=ge.location;return P1("",{pathname:Ve,search:W,hash:H},Pe.state&&Pe.state.usr||null,Pe.state&&Pe.state.key||"default")}function oe(ge,Pe){return typeof Pe=="string"?Pe:tT(Pe)}return r8(G,oe,null,k)}function sl(k,G){if(k===!1||k===null||typeof k>"u")throw new Error(G)}function zm(k,G){if(!k){typeof console<"u"&&console.warn(G);try{throw new Error(G)}catch{}}}function t8(){return Math.random().toString(36).substr(2,8)}function yb(k,G){return{usr:k.state,key:k.key,idx:G}}function P1(k,G,oe,ge){return oe===void 0&&(oe=null),Q0({pathname:typeof k=="string"?k:k.pathname,search:"",hash:""},typeof G=="string"?bg(G):G,{state:oe,key:G&&G.key||ge||t8()})}function tT(k){let{pathname:G="/",search:oe="",hash:ge=""}=k;return oe&&oe!=="?"&&(G+=oe.charAt(0)==="?"?oe:"?"+oe),ge&&ge!=="#"&&(G+=ge.charAt(0)==="#"?ge:"#"+ge),G}function bg(k){let G={};if(k){let oe=k.indexOf("#");oe>=0&&(G.hash=k.substr(oe),k=k.substr(0,oe));let ge=k.indexOf("?");ge>=0&&(G.search=k.substr(ge),k=k.substr(0,ge)),k&&(G.pathname=k)}return G}function r8(k,G,oe,ge){ge===void 0&&(ge={});let{window:Pe=document.defaultView,v5Compat:Ve=!1}=ge,W=Pe.history,H=Nc.Pop,e=null,g=P();g==null&&(g=0,W.replaceState(Q0({},W.state,{idx:g}),""));function P(){return(W.state||{idx:null}).idx}function i(){H=Nc.Pop;let t=P(),r=t==null?null:t-g;g=t,e&&e({action:H,location:p.location,delta:r})}function L(t,r){H=Nc.Push;let s=P1(p.location,t,r);oe&&oe(s,t),g=P()+1;let n=yb(s,g),l=p.createHref(s);try{W.pushState(n,"",l)}catch(f){if(f instanceof DOMException&&f.name==="DataCloneError")throw f;Pe.location.assign(l)}Ve&&e&&e({action:H,location:p.location,delta:1})}function A(t,r){H=Nc.Replace;let s=P1(p.location,t,r);oe&&oe(s,t),g=P();let n=yb(s,g),l=p.createHref(s);W.replaceState(n,"",l),Ve&&e&&e({action:H,location:p.location,delta:0})}function v(t){let r=Pe.location.origin!=="null"?Pe.location.origin:Pe.location.href,s=typeof t=="string"?t:tT(t);return sl(r,"No window.location.(origin|href) available to create URL for href: "+s),new URL(s,r)}let p={get action(){return H},get location(){return k(Pe,W)},listen(t){if(e)throw new Error("A history only accepts one active listener");return Pe.addEventListener(gb,i),e=t,()=>{Pe.removeEventListener(gb,i),e=null}},createHref(t){return G(Pe,t)},createURL:v,encodeLocation(t){let r=v(t);return{pathname:r.pathname,search:r.search,hash:r.hash}},push:L,replace:A,go(t){return W.go(t)}};return p}var mb;(function(k){k.data="data",k.deferred="deferred",k.redirect="redirect",k.error="error"})(mb||(mb={}));function n8(k,G,oe){oe===void 0&&(oe="/");let ge=typeof G=="string"?bg(G):G,Pe=aT(ge.pathname||"/",oe);if(Pe==null)return null;let Ve=rT(k);a8(Ve);let W=null;for(let H=0;W==null&&H<Ve.length;++H)W=v8(Ve[H],g8(Pe));return W}function rT(k,G,oe,ge){G===void 0&&(G=[]),oe===void 0&&(oe=[]),ge===void 0&&(ge="");let Pe=(Ve,W,H)=>{let e={relativePath:H===void 0?Ve.path||"":H,caseSensitive:Ve.caseSensitive===!0,childrenIndex:W,route:Ve};e.relativePath.startsWith("/")&&(sl(e.relativePath.startsWith(ge),'Absolute route path "'+e.relativePath+'" nested under path '+('"'+ge+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),e.relativePath=e.relativePath.slice(ge.length));let g=Gv([ge,e.relativePath]),P=oe.concat(e);Ve.children&&Ve.children.length>0&&(sl(Ve.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),rT(Ve.children,G,P,g)),!(Ve.path==null&&!Ve.index)&&G.push({path:g,score:c8(g,Ve.index),routesMeta:P})};return k.forEach((Ve,W)=>{var H;if(Ve.path===""||!((H=Ve.path)!=null&&H.includes("?")))Pe(Ve,W);else for(let e of nT(Ve.path))Pe(Ve,W,e)}),G}function nT(k){let G=k.split("/");if(G.length===0)return[];let[oe,...ge]=G,Pe=oe.endsWith("?"),Ve=oe.replace(/\?$/,"");if(ge.length===0)return Pe?[Ve,""]:[Ve];let W=nT(ge.join("/")),H=[];return H.push(...W.map(e=>e===""?Ve:[Ve,e].join("/"))),Pe&&H.push(...W),H.map(e=>k.startsWith("/")&&e===""?"/":e)}function a8(k){k.sort((G,oe)=>G.score!==oe.score?oe.score-G.score:h8(G.routesMeta.map(ge=>ge.childrenIndex),oe.routesMeta.map(ge=>ge.childrenIndex)))}const i8=/^:\w+$/,o8=3,s8=2,l8=1,u8=10,f8=-2,xb=k=>k==="*";function c8(k,G){let oe=k.split("/"),ge=oe.length;return oe.some(xb)&&(ge+=f8),G&&(ge+=s8),oe.filter(Pe=>!xb(Pe)).reduce((Pe,Ve)=>Pe+(i8.test(Ve)?o8:Ve===""?l8:u8),ge)}function h8(k,G){return k.length===G.length&&k.slice(0,-1).every((ge,Pe)=>ge===G[Pe])?k[k.length-1]-G[G.length-1]:0}function v8(k,G){let{routesMeta:oe}=k,ge={},Pe="/",Ve=[];for(let W=0;W<oe.length;++W){let H=oe[W],e=W===oe.length-1,g=Pe==="/"?G:G.slice(Pe.length)||"/",P=d8({path:H.relativePath,caseSensitive:H.caseSensitive,end:e},g);if(!P)return null;Object.assign(ge,P.params);let i=H.route;Ve.push({params:ge,pathname:Gv([Pe,P.pathname]),pathnameBase:m8(Gv([Pe,P.pathnameBase])),route:i}),P.pathnameBase!=="/"&&(Pe=Gv([Pe,P.pathnameBase]))}return Ve}function d8(k,G){typeof k=="string"&&(k={path:k,caseSensitive:!1,end:!0});let[oe,ge]=p8(k.path,k.caseSensitive,k.end),Pe=G.match(oe);if(!Pe)return null;let Ve=Pe[0],W=Ve.replace(/(.)\/+$/,"$1"),H=Pe.slice(1);return{params:ge.reduce((g,P,i)=>{let{paramName:L,isOptional:A}=P;if(L==="*"){let p=H[i]||"";W=Ve.slice(0,Ve.length-p.length).replace(/(.)\/+$/,"$1")}const v=H[i];return A&&!v?g[L]=void 0:g[L]=y8(v||"",L),g},{}),pathname:Ve,pathnameBase:W,pattern:k}}function p8(k,G,oe){G===void 0&&(G=!1),oe===void 0&&(oe=!0),zm(k==="*"||!k.endsWith("*")||k.endsWith("/*"),'Route path "'+k+'" will be treated as if it were '+('"'+k.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+k.replace(/\*$/,"/*")+'".'));let ge=[],Pe="^"+k.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(W,H,e)=>(ge.push({paramName:H,isOptional:e!=null}),e?"/?([^\\/]+)?":"/([^\\/]+)"));return k.endsWith("*")?(ge.push({paramName:"*"}),Pe+=k==="*"||k==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):oe?Pe+="\\/*$":k!==""&&k!=="/"&&(Pe+="(?:(?=\\/|$))"),[new RegExp(Pe,G?void 0:"i"),ge]}function g8(k){try{return decodeURI(k)}catch(G){return zm(!1,'The URL path "'+k+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+G+").")),k}}function y8(k,G){try{return decodeURIComponent(k)}catch(oe){return zm(!1,'The value for the URL param "'+G+'" will not be decoded because'+(' the string "'+k+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+oe+").")),k}}function aT(k,G){if(G==="/")return k;if(!k.toLowerCase().startsWith(G.toLowerCase()))return null;let oe=G.endsWith("/")?G.length-1:G.length,ge=k.charAt(oe);return ge&&ge!=="/"?null:k.slice(oe)||"/"}const Gv=k=>k.join("/").replace(/\/\/+/g,"/"),m8=k=>k.replace(/\/+$/,"").replace(/^\/*/,"/");function x8(k){return k!=null&&typeof k.status=="number"&&typeof k.statusText=="string"&&typeof k.internal=="boolean"&&"data"in k}const iT=["post","put","patch","delete"];new Set(iT);const b8=["get",...iT];new Set(b8);/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function R1(){return R1=Object.assign?Object.assign.bind():function(k){for(var G=1;G<arguments.length;G++){var oe=arguments[G];for(var ge in oe)Object.prototype.hasOwnProperty.call(oe,ge)&&(k[ge]=oe[ge])}return k},R1.apply(this,arguments)}const w8=Kr.createContext(null),T8=Kr.createContext(null),oT=Kr.createContext(null),wg=Kr.createContext(null),Tg=Kr.createContext({outlet:null,matches:[],isDataRoute:!1}),sT=Kr.createContext(null);function Om(){return Kr.useContext(wg)!=null}function A8(){return Om()||sl(!1),Kr.useContext(wg).location}function M8(k,G){return S8(k,G)}function S8(k,G,oe){Om()||sl(!1);let{navigator:ge}=Kr.useContext(oT),{matches:Pe}=Kr.useContext(Tg),Ve=Pe[Pe.length-1],W=Ve?Ve.params:{};Ve&&Ve.pathname;let H=Ve?Ve.pathnameBase:"/";Ve&&Ve.route;let e=A8(),g;if(G){var P;let p=typeof G=="string"?bg(G):G;H==="/"||(P=p.pathname)!=null&&P.startsWith(H)||sl(!1),g=p}else g=e;let i=g.pathname||"/",L=H==="/"?i:i.slice(H.length)||"/",A=n8(k,{pathname:L}),v=R8(A&&A.map(p=>Object.assign({},p,{params:Object.assign({},W,p.params),pathname:Gv([H,ge.encodeLocation?ge.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?H:Gv([H,ge.encodeLocation?ge.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),Pe,oe);return G&&v?Kr.createElement(wg.Provider,{value:{location:R1({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Nc.Pop}},v):v}function E8(){let k=F8(),G=x8(k)?k.status+" "+k.statusText:k instanceof Error?k.message:JSON.stringify(k),oe=k instanceof Error?k.stack:null,Pe={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},Ve=null;return Kr.createElement(Kr.Fragment,null,Kr.createElement("h2",null,"Unexpected Application Error!"),Kr.createElement("h3",{style:{fontStyle:"italic"}},G),oe?Kr.createElement("pre",{style:Pe},oe):null,Ve)}const C8=Kr.createElement(E8,null);class L8 extends Kr.Component{constructor(G){super(G),this.state={location:G.location,revalidation:G.revalidation,error:G.error}}static getDerivedStateFromError(G){return{error:G}}static getDerivedStateFromProps(G,oe){return oe.location!==G.location||oe.revalidation!=="idle"&&G.revalidation==="idle"?{error:G.error,location:G.location,revalidation:G.revalidation}:{error:G.error||oe.error,location:oe.location,revalidation:G.revalidation||oe.revalidation}}componentDidCatch(G,oe){console.error("React Router caught the following error during render",G,oe)}render(){return this.state.error?Kr.createElement(Tg.Provider,{value:this.props.routeContext},Kr.createElement(sT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function P8(k){let{routeContext:G,match:oe,children:ge}=k,Pe=Kr.useContext(w8);return Pe&&Pe.static&&Pe.staticContext&&(oe.route.errorElement||oe.route.ErrorBoundary)&&(Pe.staticContext._deepestRenderedBoundaryId=oe.route.id),Kr.createElement(Tg.Provider,{value:G},ge)}function R8(k,G,oe){var ge;if(G===void 0&&(G=[]),oe===void 0&&(oe=null),k==null){var Pe;if((Pe=oe)!=null&&Pe.errors)k=oe.matches;else return null}let Ve=k,W=(ge=oe)==null?void 0:ge.errors;if(W!=null){let H=Ve.findIndex(e=>e.route.id&&(W==null?void 0:W[e.route.id]));H>=0||sl(!1),Ve=Ve.slice(0,Math.min(Ve.length,H+1))}return Ve.reduceRight((H,e,g)=>{let P=e.route.id?W==null?void 0:W[e.route.id]:null,i=null;oe&&(i=e.route.errorElement||C8);let L=G.concat(Ve.slice(0,g+1)),A=()=>{let v;return P?v=i:e.route.Component?v=Kr.createElement(e.route.Component,null):e.route.element?v=e.route.element:v=H,Kr.createElement(P8,{match:e,routeContext:{outlet:H,matches:L,isDataRoute:oe!=null},children:v})};return oe&&(e.route.ErrorBoundary||e.route.errorElement||g===0)?Kr.createElement(L8,{location:oe.location,revalidation:oe.revalidation,component:i,error:P,children:A(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):A()},null)}var D1=function(k){return k.UseBlocker="useBlocker",k.UseLoaderData="useLoaderData",k.UseActionData="useActionData",k.UseRouteError="useRouteError",k.UseNavigation="useNavigation",k.UseRouteLoaderData="useRouteLoaderData",k.UseMatches="useMatches",k.UseRevalidator="useRevalidator",k.UseNavigateStable="useNavigate",k.UseRouteId="useRouteId",k}(D1||{});function D8(k){let G=Kr.useContext(T8);return G||sl(!1),G}function I8(k){let G=Kr.useContext(Tg);return G||sl(!1),G}function k8(k){let G=I8(),oe=G.matches[G.matches.length-1];return oe.route.id||sl(!1),oe.route.id}function F8(){var k;let G=Kr.useContext(sT),oe=D8(D1.UseRouteError),ge=k8(D1.UseRouteError);return G||((k=oe.errors)==null?void 0:k[ge])}function Bd(k){sl(!1)}function _8(k){let{basename:G="/",children:oe=null,location:ge,navigationType:Pe=Nc.Pop,navigator:Ve,static:W=!1}=k;Om()&&sl(!1);let H=G.replace(/^\/*/,"/"),e=Kr.useMemo(()=>({basename:H,navigator:Ve,static:W}),[H,Ve,W]);typeof ge=="string"&&(ge=bg(ge));let{pathname:g="/",search:P="",hash:i="",state:L=null,key:A="default"}=ge,v=Kr.useMemo(()=>{let p=aT(g,H);return p==null?null:{location:{pathname:p,search:P,hash:i,state:L,key:A},navigationType:Pe}},[H,g,P,i,L,A,Pe]);return v==null?null:Kr.createElement(oT.Provider,{value:e},Kr.createElement(wg.Provider,{children:oe,value:v}))}function z8(k){let{children:G,location:oe}=k;return M8(I1(G),oe)}new Promise(()=>{});function I1(k,G){G===void 0&&(G=[]);let oe=[];return Kr.Children.forEach(k,(ge,Pe)=>{if(!Kr.isValidElement(ge))return;let Ve=[...G,Pe];if(ge.type===Kr.Fragment){oe.push.apply(oe,I1(ge.props.children,Ve));return}ge.type!==Bd&&sl(!1),!ge.props.index||!ge.props.children||sl(!1);let W={id:ge.props.id||Ve.join("-"),caseSensitive:ge.props.caseSensitive,element:ge.props.element,Component:ge.props.Component,index:ge.props.index,path:ge.props.path,loader:ge.props.loader,action:ge.props.action,errorElement:ge.props.errorElement,ErrorBoundary:ge.props.ErrorBoundary,hasErrorBoundary:ge.props.ErrorBoundary!=null||ge.props.errorElement!=null,shouldRevalidate:ge.props.shouldRevalidate,handle:ge.props.handle,lazy:ge.props.lazy};ge.props.children&&(W.children=I1(ge.props.children,Ve)),oe.push(W)}),oe}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const O8="startTransition",bb=WM[O8];function N8(k){let{basename:G,children:oe,future:ge,window:Pe}=k,Ve=Kr.useRef();Ve.current==null&&(Ve.current=e8({window:Pe,v5Compat:!0}));let W=Ve.current,[H,e]=Kr.useState({action:W.action,location:W.location}),{v7_startTransition:g}=ge||{},P=Kr.useCallback(i=>{g&&bb?bb(()=>e(i)):e(i)},[e,g]);return Kr.useLayoutEffect(()=>W.listen(P),[W,P]),Kr.createElement(_8,{basename:G,children:oe,location:H.location,navigationType:H.action,navigator:W})}var wb;(function(k){k.UseScrollRestoration="useScrollRestoration",k.UseSubmit="useSubmit",k.UseSubmitFetcher="useSubmitFetcher",k.UseFetcher="useFetcher",k.useViewTransitionState="useViewTransitionState"})(wb||(wb={}));var Tb;(function(k){k.UseFetcher="useFetcher",k.UseFetchers="useFetchers",k.UseScrollRestoration="useScrollRestoration"})(Tb||(Tb={}));var lT={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(k){(function(){var G={}.hasOwnProperty;function oe(){for(var ge=[],Pe=0;Pe<arguments.length;Pe++){var Ve=arguments[Pe];if(Ve){var W=typeof Ve;if(W==="string"||W==="number")ge.push(Ve);else if(Array.isArray(Ve)){if(Ve.length){var H=oe.apply(null,Ve);H&&ge.push(H)}}else if(W==="object"){if(Ve.toString!==Object.prototype.toString&&!Ve.toString.toString().includes("[native code]")){ge.push(Ve.toString());continue}for(var e in Ve)G.call(Ve,e)&&Ve[e]&&ge.push(e)}}}return ge.join(" ")}k.exports?(oe.default=oe,k.exports=oe):window.classNames=oe})()})(lT);var B8=lT.exports;const Ka=dp(B8),U8=["xxl","xl","lg","md","sm","xs"],H8="xs",Nm=Kr.createContext({prefixes:{},breakpoints:U8,minBreakpoint:H8});function li(k,G){const{prefixes:oe}=Kr.useContext(Nm);return k||oe[G]||G}function uT(){const{breakpoints:k}=Kr.useContext(Nm);return k}function fT(){const{minBreakpoint:k}=Kr.useContext(Nm);return k}const cT=Kr.forwardRef(({bsPrefix:k,fluid:G=!1,as:oe="div",className:ge,...Pe},Ve)=>{const W=li(k,"container"),H=typeof G=="string"?`-${G}`:"-fluid";return on.jsx(oe,{ref:Ve,...Pe,className:Ka(ge,G?`${W}${H}`:W)})});cT.displayName="Container";const V8=cT;var Ab={exports:{}},k1={exports:{}};(function(k,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default=oe;function oe(ge){function Pe(W,H,e,g,P,i){var L=g||"<<anonymous>>",A=i||e;if(H[e]==null)return W?new Error("Required "+P+" `"+A+"` was not specified "+("in `"+L+"`.")):null;for(var v=arguments.length,p=Array(v>6?v-6:0),t=6;t<v;t++)p[t-6]=arguments[t];return ge.apply(void 0,[H,e,L,P,A].concat(p))}var Ve=Pe.bind(null,!1);return Ve.isRequired=Pe.bind(null,!0),Ve}k.exports=G.default})(k1,k1.exports);var G8=k1.exports;(function(k,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default=Ve;var oe=G8,ge=Pe(oe);function Pe(W){return W&&W.__esModule?W:{default:W}}function Ve(){for(var W=arguments.length,H=Array(W),e=0;e<W;e++)H[e]=arguments[e];function g(){for(var P=arguments.length,i=Array(P),L=0;L<P;L++)i[L]=arguments[L];var A=null;return H.forEach(function(v){if(A==null){var p=v.apply(void 0,i);p!=null&&(A=p)}}),A}return(0,ge.default)(g)}k.exports=G.default})(Ab,Ab.exports);function F1(){return F1=Object.assign?Object.assign.bind():function(k){for(var G=1;G<arguments.length;G++){var oe=arguments[G];for(var ge in oe)Object.prototype.hasOwnProperty.call(oe,ge)&&(k[ge]=oe[ge])}return k},F1.apply(this,arguments)}function hT(k,G){if(k==null)return{};var oe={},ge=Object.keys(k),Pe,Ve;for(Ve=0;Ve<ge.length;Ve++)Pe=ge[Ve],!(G.indexOf(Pe)>=0)&&(oe[Pe]=k[Pe]);return oe}function Mb(k){return"default"+k.charAt(0).toUpperCase()+k.substr(1)}function W8(k){var G=Y8(k,"string");return typeof G=="symbol"?G:String(G)}function Y8(k,G){if(typeof k!="object"||k===null)return k;var oe=k[Symbol.toPrimitive];if(oe!==void 0){var ge=oe.call(k,G||"default");if(typeof ge!="object")return ge;throw new TypeError("@@toPrimitive must return a primitive value.")}return(G==="string"?String:Number)(k)}function j8(k,G,oe){var ge=Kr.useRef(k!==void 0),Pe=Kr.useState(G),Ve=Pe[0],W=Pe[1],H=k!==void 0,e=ge.current;return ge.current=H,!H&&e&&Ve!==G&&W(G),[H?k:Ve,Kr.useCallback(function(g){for(var P=arguments.length,i=new Array(P>1?P-1:0),L=1;L<P;L++)i[L-1]=arguments[L];oe&&oe.apply(void 0,[g].concat(i)),W(g)},[oe])]}function vT(k,G){return Object.keys(G).reduce(function(oe,ge){var Pe,Ve=oe,W=Ve[Mb(ge)],H=Ve[ge],e=hT(Ve,[Mb(ge),ge].map(W8)),g=G[ge],P=j8(H,W,k[g]),i=P[0],L=P[1];return F1({},e,(Pe={},Pe[ge]=i,Pe[g]=L,Pe))},k)}function _1(k,G){return _1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ge,Pe){return ge.__proto__=Pe,ge},_1(k,G)}function Z8(k,G){k.prototype=Object.create(G.prototype),k.prototype.constructor=k,_1(k,G)}var X8=Function.prototype.bind.call(Function.prototype.call,[].slice);function Dh(k,G){return X8(k.querySelectorAll(G))}function K8(){const[,k]=Kr.useReducer(G=>!G,!1);return k}const Sb=k=>!k||typeof k=="function"?k:G=>{k.current=G};function J8(k,G){const oe=Sb(k),ge=Sb(G);return Pe=>{oe&&oe(Pe),ge&&ge(Pe)}}function Ag(k,G){return Kr.useMemo(()=>J8(k,G),[k,G])}const dT=Kr.createContext(null);dT.displayName="NavContext";const pT=dT,Q8=Kr.createContext(null),Bm=(k,G=null)=>k!=null?String(k):G||null,$0=Q8,$8=Kr.createContext(null),gT=$8,q8="data-rr-ui-",eE="rrUi";function Mg(k){return`${q8}${k}`}function tE(k){return`${eE}${k}`}function rE(k){const G=Kr.useRef(k);return Kr.useEffect(()=>{G.current=k},[k]),G}function Kl(k){const G=rE(k);return Kr.useCallback(function(...oe){return G.current&&G.current(...oe)},[G])}const nE=["as","disabled"];function aE(k,G){if(k==null)return{};var oe={},ge=Object.keys(k),Pe,Ve;for(Ve=0;Ve<ge.length;Ve++)Pe=ge[Ve],!(G.indexOf(Pe)>=0)&&(oe[Pe]=k[Pe]);return oe}function iE(k){return!k||k.trim()==="#"}function yT({tagName:k,disabled:G,href:oe,target:ge,rel:Pe,role:Ve,onClick:W,tabIndex:H=0,type:e}){k||(oe!=null||ge!=null||Pe!=null?k="a":k="button");const g={tagName:k};if(k==="button")return[{type:e||"button",disabled:G},g];const P=L=>{if((G||k==="a"&&iE(oe))&&L.preventDefault(),G){L.stopPropagation();return}W==null||W(L)},i=L=>{L.key===" "&&(L.preventDefault(),P(L))};return k==="a"&&(oe||(oe="#"),G&&(oe=void 0)),[{role:Ve??"button",disabled:void 0,tabIndex:G?void 0:H,href:oe,target:k==="a"?ge:void 0,"aria-disabled":G||void 0,rel:k==="a"?Pe:void 0,onClick:P,onKeyDown:i},g]}const mT=Kr.forwardRef((k,G)=>{let{as:oe,disabled:ge}=k,Pe=aE(k,nE);const[Ve,{tagName:W}]=yT(Object.assign({tagName:oe,disabled:ge},Pe));return on.jsx(W,Object.assign({},Pe,Ve,{ref:G}))});mT.displayName="Button";const oE=["as","active","eventKey"];function sE(k,G){if(k==null)return{};var oe={},ge=Object.keys(k),Pe,Ve;for(Ve=0;Ve<ge.length;Ve++)Pe=ge[Ve],!(G.indexOf(Pe)>=0)&&(oe[Pe]=k[Pe]);return oe}function xT({key:k,onClick:G,active:oe,id:ge,role:Pe,disabled:Ve}){const W=Kr.useContext($0),H=Kr.useContext(pT),e=Kr.useContext(gT);let g=oe;const P={role:Pe};if(H){!Pe&&H.role==="tablist"&&(P.role="tab");const i=H.getControllerId(k??null),L=H.getControlledId(k??null);P[Mg("event-key")]=k,P.id=i||ge,g=oe==null&&k!=null?H.activeKey===k:oe,(g||!(e!=null&&e.unmountOnExit)&&!(e!=null&&e.mountOnEnter))&&(P["aria-controls"]=L)}return P.role==="tab"&&(P["aria-selected"]=g,g||(P.tabIndex=-1),Ve&&(P.tabIndex=-1,P["aria-disabled"]=!0)),P.onClick=Kl(i=>{Ve||(G==null||G(i),k!=null&&W&&!i.isPropagationStopped()&&W(k,i))}),[P,{isActive:g}]}const bT=Kr.forwardRef((k,G)=>{let{as:oe=mT,active:ge,eventKey:Pe}=k,Ve=sE(k,oE);const[W,H]=xT(Object.assign({key:Bm(Pe,Ve.href),active:ge},Ve));return W[Mg("active")]=H.isActive,on.jsx(oe,Object.assign({},Ve,W,{ref:G}))});bT.displayName="NavItem";const lE=bT,uE=["as","onSelect","activeKey","role","onKeyDown"];function fE(k,G){if(k==null)return{};var oe={},ge=Object.keys(k),Pe,Ve;for(Ve=0;Ve<ge.length;Ve++)Pe=ge[Ve],!(G.indexOf(Pe)>=0)&&(oe[Pe]=k[Pe]);return oe}const Eb=()=>{},Cb=Mg("event-key"),wT=Kr.forwardRef((k,G)=>{let{as:oe="div",onSelect:ge,activeKey:Pe,role:Ve,onKeyDown:W}=k,H=fE(k,uE);const e=K8(),g=Kr.useRef(!1),P=Kr.useContext($0),i=Kr.useContext(gT);let L,A;i&&(Ve=Ve||"tablist",Pe=i.activeKey,L=i.getControlledId,A=i.getControllerId);const v=Kr.useRef(null),p=n=>{const l=v.current;if(!l)return null;const f=Dh(l,`[${Cb}]:not([aria-disabled=true])`),u=l.querySelector("[aria-selected=true]");if(!u||u!==document.activeElement)return null;const m=f.indexOf(u);if(m===-1)return null;let c=m+n;return c>=f.length&&(c=0),c<0&&(c=f.length-1),f[c]},t=(n,l)=>{n!=null&&(ge==null||ge(n,l),P==null||P(n,l))},r=n=>{if(W==null||W(n),!i)return;let l;switch(n.key){case"ArrowLeft":case"ArrowUp":l=p(-1);break;case"ArrowRight":case"ArrowDown":l=p(1);break;default:return}l&&(n.preventDefault(),t(l.dataset[tE("EventKey")]||null,n),g.current=!0,e())};Kr.useEffect(()=>{if(v.current&&g.current){const n=v.current.querySelector(`[${Cb}][aria-selected=true]`);n==null||n.focus()}g.current=!1});const s=Ag(G,v);return on.jsx($0.Provider,{value:t,children:on.jsx(pT.Provider,{value:{role:Ve,activeKey:Bm(Pe),getControlledId:L||Eb,getControllerId:A||Eb},children:on.jsx(oe,Object.assign({},H,{onKeyDown:r,ref:s,role:Ve}))})})});wT.displayName="Nav";const cE=Object.assign(wT,{Item:lE}),TT=Kr.createContext(null);TT.displayName="NavbarContext";const ed=TT,AT=Kr.createContext(null);AT.displayName="CardHeaderContext";const MT=AT,ST=Kr.forwardRef(({className:k,bsPrefix:G,as:oe="div",...ge},Pe)=>(G=li(G,"nav-item"),on.jsx(oe,{ref:Pe,className:Ka(k,G),...ge})));ST.displayName="NavItem";const hE=ST;function vE(){const k=Kr.useRef(!0),G=Kr.useRef(()=>k.current);return Kr.useEffect(()=>(k.current=!0,()=>{k.current=!1}),[]),G.current}function dE(k){const G=Kr.useRef(null);return Kr.useEffect(()=>{G.current=k}),G.current}const pE=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",gE=typeof document<"u",z1=gE||pE?Kr.useLayoutEffect:Kr.useEffect,yE=["onKeyDown"];function mE(k,G){if(k==null)return{};var oe={},ge=Object.keys(k),Pe,Ve;for(Ve=0;Ve<ge.length;Ve++)Pe=ge[Ve],!(G.indexOf(Pe)>=0)&&(oe[Pe]=k[Pe]);return oe}function xE(k){return!k||k.trim()==="#"}const ET=Kr.forwardRef((k,G)=>{let{onKeyDown:oe}=k,ge=mE(k,yE);const[Pe]=yT(Object.assign({tagName:"a"},ge)),Ve=Kl(W=>{Pe.onKeyDown(W),oe==null||oe(W)});return xE(ge.href)||ge.role==="button"?on.jsx("a",Object.assign({ref:G},ge,Pe,{onKeyDown:Ve})):on.jsx("a",Object.assign({ref:G},ge,{onKeyDown:oe}))});ET.displayName="Anchor";const bE=ET,CT=Kr.forwardRef(({bsPrefix:k,className:G,as:oe=bE,active:ge,eventKey:Pe,disabled:Ve=!1,...W},H)=>{k=li(k,"nav-link");const[e,g]=xT({key:Bm(Pe,W.href),active:ge,disabled:Ve,...W});return on.jsx(oe,{...W,...e,ref:H,disabled:Ve,className:Ka(G,k,Ve&&"disabled",g.isActive&&"active")})});CT.displayName="NavLink";const wE=CT,LT=Kr.forwardRef((k,G)=>{const{as:oe="div",bsPrefix:ge,variant:Pe,fill:Ve=!1,justify:W=!1,navbar:H,navbarScroll:e,className:g,activeKey:P,...i}=vT(k,{activeKey:"onSelect"}),L=li(ge,"nav");let A,v,p=!1;const t=Kr.useContext(ed),r=Kr.useContext(MT);return t?(A=t.bsPrefix,p=H??!0):r&&({cardHeaderBsPrefix:v}=r),on.jsx(cE,{as:oe,ref:G,activeKey:P,className:Ka(g,{[L]:!p,[`${A}-nav`]:p,[`${A}-nav-scroll`]:p&&e,[`${v}-${Pe}`]:!!v,[`${L}-${Pe}`]:!!Pe,[`${L}-fill`]:Ve,[`${L}-justified`]:W}),...i})});LT.displayName="Nav";const h0=Object.assign(LT,{Item:hE,Link:wE}),PT=Kr.forwardRef(({bsPrefix:k,className:G,as:oe,...ge},Pe)=>{k=li(k,"navbar-brand");const Ve=oe||(ge.href?"a":"span");return on.jsx(Ve,{...ge,ref:Pe,className:Ka(G,k)})});PT.displayName="NavbarBrand";const TE=PT;function Um(k){return k&&k.ownerDocument||document}function AE(k){var G=Um(k);return G&&G.defaultView||window}function ME(k,G){return AE(k).getComputedStyle(k,G)}var SE=/([A-Z])/g;function EE(k){return k.replace(SE,"-$1").toLowerCase()}var CE=/^ms-/;function v0(k){return EE(k).replace(CE,"-ms-")}var LE=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function PE(k){return!!(k&&LE.test(k))}function Gf(k,G){var oe="",ge="";if(typeof G=="string")return k.style.getPropertyValue(v0(G))||ME(k).getPropertyValue(v0(G));Object.keys(G).forEach(function(Pe){var Ve=G[Pe];!Ve&&Ve!==0?k.style.removeProperty(v0(Pe)):PE(Pe)?ge+=Pe+"("+Ve+") ":oe+=v0(Pe)+": "+Ve+";"}),ge&&(oe+="transform: "+ge+";"),k.style.cssText+=";"+oe}var RT={exports:{}},RE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",DE=RE,IE=DE;function DT(){}function IT(){}IT.resetWarningCache=DT;var kE=function(){function k(ge,Pe,Ve,W,H,e){if(e!==IE){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}k.isRequired=k;function G(){return k}var oe={array:k,bigint:k,bool:k,func:k,number:k,object:k,string:k,symbol:k,any:k,arrayOf:G,element:k,elementType:k,instanceOf:G,node:k,objectOf:G,oneOf:G,oneOfType:G,shape:G,exact:G,checkPropTypes:IT,resetWarningCache:DT};return oe.PropTypes=oe,oe};RT.exports=kE();var kT=RT.exports;const Wf=dp(kT),Lb={disabled:!1},FT=Xo.createContext(null);var FE=function(G){return G.scrollTop},Ud="unmounted",kc="exited",Cu="entering",Bf="entered",vp="exiting",Qf=function(k){Z8(G,k);function G(ge,Pe){var Ve;Ve=k.call(this,ge,Pe)||this;var W=Pe,H=W&&!W.isMounting?ge.enter:ge.appear,e;return Ve.appearStatus=null,ge.in?H?(e=kc,Ve.appearStatus=Cu):e=Bf:ge.unmountOnExit||ge.mountOnEnter?e=Ud:e=kc,Ve.state={status:e},Ve.nextCallback=null,Ve}G.getDerivedStateFromProps=function(Pe,Ve){var W=Pe.in;return W&&Ve.status===Ud?{status:kc}:null};var oe=G.prototype;return oe.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},oe.componentDidUpdate=function(Pe){var Ve=null;if(Pe!==this.props){var W=this.state.status;this.props.in?W!==Cu&&W!==Bf&&(Ve=Cu):(W===Cu||W===Bf)&&(Ve=vp)}this.updateStatus(!1,Ve)},oe.componentWillUnmount=function(){this.cancelNextCallback()},oe.getTimeouts=function(){var Pe=this.props.timeout,Ve,W,H;return Ve=W=H=Pe,Pe!=null&&typeof Pe!="number"&&(Ve=Pe.exit,W=Pe.enter,H=Pe.appear!==void 0?Pe.appear:W),{exit:Ve,enter:W,appear:H}},oe.updateStatus=function(Pe,Ve){if(Pe===void 0&&(Pe=!1),Ve!==null)if(this.cancelNextCallback(),Ve===Cu){if(this.props.unmountOnExit||this.props.mountOnEnter){var W=this.props.nodeRef?this.props.nodeRef.current:_v.findDOMNode(this);W&&FE(W)}this.performEnter(Pe)}else this.performExit();else this.props.unmountOnExit&&this.state.status===kc&&this.setState({status:Ud})},oe.performEnter=function(Pe){var Ve=this,W=this.props.enter,H=this.context?this.context.isMounting:Pe,e=this.props.nodeRef?[H]:[_v.findDOMNode(this),H],g=e[0],P=e[1],i=this.getTimeouts(),L=H?i.appear:i.enter;if(!Pe&&!W||Lb.disabled){this.safeSetState({status:Bf},function(){Ve.props.onEntered(g)});return}this.props.onEnter(g,P),this.safeSetState({status:Cu},function(){Ve.props.onEntering(g,P),Ve.onTransitionEnd(L,function(){Ve.safeSetState({status:Bf},function(){Ve.props.onEntered(g,P)})})})},oe.performExit=function(){var Pe=this,Ve=this.props.exit,W=this.getTimeouts(),H=this.props.nodeRef?void 0:_v.findDOMNode(this);if(!Ve||Lb.disabled){this.safeSetState({status:kc},function(){Pe.props.onExited(H)});return}this.props.onExit(H),this.safeSetState({status:vp},function(){Pe.props.onExiting(H),Pe.onTransitionEnd(W.exit,function(){Pe.safeSetState({status:kc},function(){Pe.props.onExited(H)})})})},oe.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},oe.safeSetState=function(Pe,Ve){Ve=this.setNextCallback(Ve),this.setState(Pe,Ve)},oe.setNextCallback=function(Pe){var Ve=this,W=!0;return this.nextCallback=function(H){W&&(W=!1,Ve.nextCallback=null,Pe(H))},this.nextCallback.cancel=function(){W=!1},this.nextCallback},oe.onTransitionEnd=function(Pe,Ve){this.setNextCallback(Ve);var W=this.props.nodeRef?this.props.nodeRef.current:_v.findDOMNode(this),H=Pe==null&&!this.props.addEndListener;if(!W||H){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var e=this.props.nodeRef?[this.nextCallback]:[W,this.nextCallback],g=e[0],P=e[1];this.props.addEndListener(g,P)}Pe!=null&&setTimeout(this.nextCallback,Pe)},oe.render=function(){var Pe=this.state.status;if(Pe===Ud)return null;var Ve=this.props,W=Ve.children;Ve.in,Ve.mountOnEnter,Ve.unmountOnExit,Ve.appear,Ve.enter,Ve.exit,Ve.timeout,Ve.addEndListener,Ve.onEnter,Ve.onEntering,Ve.onEntered,Ve.onExit,Ve.onExiting,Ve.onExited,Ve.nodeRef;var H=hT(Ve,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Xo.createElement(FT.Provider,{value:null},typeof W=="function"?W(Pe,H):Xo.cloneElement(Xo.Children.only(W),H))},G}(Xo.Component);Qf.contextType=FT;Qf.propTypes={};function bv(){}Qf.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:bv,onEntering:bv,onEntered:bv,onExit:bv,onExiting:bv,onExited:bv};Qf.UNMOUNTED=Ud;Qf.EXITED=kc;Qf.ENTERING=Cu;Qf.ENTERED=Bf;Qf.EXITING=vp;const _E=Qf,Sg=!!(typeof window<"u"&&window.document&&window.document.createElement);var O1=!1,N1=!1;try{var Ry={get passive(){return O1=!0},get once(){return N1=O1=!0}};Sg&&(window.addEventListener("test",Ry,Ry),window.removeEventListener("test",Ry,!0))}catch{}function zE(k,G,oe,ge){if(ge&&typeof ge!="boolean"&&!N1){var Pe=ge.once,Ve=ge.capture,W=oe;!N1&&Pe&&(W=oe.__once||function H(e){this.removeEventListener(G,H,Ve),oe.call(this,e)},oe.__once=W),k.addEventListener(G,W,O1?ge:Ve)}k.addEventListener(G,oe,ge)}function OE(k,G,oe,ge){var Pe=ge&&typeof ge!="boolean"?ge.capture:ge;k.removeEventListener(G,oe,Pe),oe.__once&&k.removeEventListener(G,oe.__once,Pe)}function q0(k,G,oe,ge){return zE(k,G,oe,ge),function(){OE(k,G,oe,ge)}}function NE(k,G,oe,ge){if(oe===void 0&&(oe=!1),ge===void 0&&(ge=!0),k){var Pe=document.createEvent("HTMLEvents");Pe.initEvent(G,oe,ge),k.dispatchEvent(Pe)}}function BE(k){var G=Gf(k,"transitionDuration")||"",oe=G.indexOf("ms")===-1?1e3:1;return parseFloat(G)*oe}function UE(k,G,oe){oe===void 0&&(oe=5);var ge=!1,Pe=setTimeout(function(){ge||NE(k,"transitionend",!0)},G+oe),Ve=q0(k,"transitionend",function(){ge=!0},{once:!0});return function(){clearTimeout(Pe),Ve()}}function HE(k,G,oe,ge){oe==null&&(oe=BE(k)||0);var Pe=UE(k,oe,ge),Ve=q0(k,"transitionend",G);return function(){Pe(),Ve()}}function Pb(k,G){const oe=Gf(k,G)||"",ge=oe.indexOf("ms")===-1?1e3:1;return parseFloat(oe)*ge}function Hm(k,G){const oe=Pb(k,"transitionDuration"),ge=Pb(k,"transitionDelay"),Pe=HE(k,Ve=>{Ve.target===k&&(Pe(),G(Ve))},oe+ge)}function Dd(...k){return k.filter(G=>G!=null).reduce((G,oe)=>{if(typeof oe!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return G===null?oe:function(...Pe){G.apply(this,Pe),oe.apply(this,Pe)}},null)}function _T(k){k.offsetHeight}function VE(k){return k&&"setState"in k?_v.findDOMNode(k):k??null}const GE=Xo.forwardRef(({onEnter:k,onEntering:G,onEntered:oe,onExit:ge,onExiting:Pe,onExited:Ve,addEndListener:W,children:H,childRef:e,...g},P)=>{const i=Kr.useRef(null),L=Ag(i,e),A=u=>{L(VE(u))},v=u=>m=>{u&&i.current&&u(i.current,m)},p=Kr.useCallback(v(k),[k]),t=Kr.useCallback(v(G),[G]),r=Kr.useCallback(v(oe),[oe]),s=Kr.useCallback(v(ge),[ge]),n=Kr.useCallback(v(Pe),[Pe]),l=Kr.useCallback(v(Ve),[Ve]),f=Kr.useCallback(v(W),[W]);return on.jsx(_E,{ref:P,...g,onEnter:p,onEntered:r,onEntering:t,onExit:s,onExited:l,onExiting:n,addEndListener:f,nodeRef:i,children:typeof H=="function"?(u,m)=>H(u,{...m,ref:A}):Xo.cloneElement(H,{ref:A})})}),Vm=GE,WE={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function YE(k,G){const oe=`offset${k[0].toUpperCase()}${k.slice(1)}`,ge=G[oe],Pe=WE[k];return ge+parseInt(Gf(G,Pe[0]),10)+parseInt(Gf(G,Pe[1]),10)}const jE={[kc]:"collapse",[vp]:"collapsing",[Cu]:"collapsing",[Bf]:"collapse show"},ZE=Xo.forwardRef(({onEnter:k,onEntering:G,onEntered:oe,onExit:ge,onExiting:Pe,className:Ve,children:W,dimension:H="height",in:e=!1,timeout:g=300,mountOnEnter:P=!1,unmountOnExit:i=!1,appear:L=!1,getDimensionValue:A=YE,...v},p)=>{const t=typeof H=="function"?H():H,r=Kr.useMemo(()=>Dd(u=>{u.style[t]="0"},k),[t,k]),s=Kr.useMemo(()=>Dd(u=>{const m=`scroll${t[0].toUpperCase()}${t.slice(1)}`;u.style[t]=`${u[m]}px`},G),[t,G]),n=Kr.useMemo(()=>Dd(u=>{u.style[t]=null},oe),[t,oe]),l=Kr.useMemo(()=>Dd(u=>{u.style[t]=`${A(t,u)}px`,_T(u)},ge),[ge,A,t]),f=Kr.useMemo(()=>Dd(u=>{u.style[t]=null},Pe),[t,Pe]);return on.jsx(Vm,{ref:p,addEndListener:Hm,...v,"aria-expanded":v.role?e:null,onEnter:r,onEntering:s,onEntered:n,onExit:l,onExiting:f,childRef:W.ref,in:e,timeout:g,mountOnEnter:P,unmountOnExit:i,appear:L,children:(u,m)=>Xo.cloneElement(W,{...m,className:Ka(Ve,W.props.className,jE[u],t==="width"&&"collapse-horizontal")})})}),XE=ZE,zT=Kr.forwardRef(({children:k,bsPrefix:G,...oe},ge)=>{G=li(G,"navbar-collapse");const Pe=Kr.useContext(ed);return on.jsx(XE,{in:!!(Pe&&Pe.expanded),...oe,children:on.jsx("div",{ref:ge,className:G,children:k})})});zT.displayName="NavbarCollapse";const KE=zT,OT=Kr.forwardRef(({bsPrefix:k,className:G,children:oe,label:ge="Toggle navigation",as:Pe="button",onClick:Ve,...W},H)=>{k=li(k,"navbar-toggler");const{onToggle:e,expanded:g}=Kr.useContext(ed)||{},P=Kl(i=>{Ve&&Ve(i),e&&e()});return Pe==="button"&&(W.type="button"),on.jsx(Pe,{...W,ref:H,onClick:P,"aria-label":ge,className:Ka(G,k,!g&&"collapsed"),children:oe||on.jsx("span",{className:`${k}-icon`})})});OT.displayName="NavbarToggle";const JE=OT,B1=new WeakMap,Rb=(k,G)=>{if(!k||!G)return;const oe=B1.get(G)||new Map;B1.set(G,oe);let ge=oe.get(k);return ge||(ge=G.matchMedia(k),ge.refCount=0,oe.set(ge.media,ge)),ge};function QE(k,G=typeof window>"u"?void 0:window){const oe=Rb(k,G),[ge,Pe]=Kr.useState(()=>oe?oe.matches:!1);return z1(()=>{let Ve=Rb(k,G);if(!Ve)return Pe(!1);let W=B1.get(G);const H=()=>{Pe(Ve.matches)};return Ve.refCount++,Ve.addListener(H),H(),()=>{Ve.removeListener(H),Ve.refCount--,Ve.refCount<=0&&(W==null||W.delete(Ve.media)),Ve=void 0}},[k]),ge}function $E(k){const G=Object.keys(k);function oe(H,e){return H===e?e:H?`${H} and ${e}`:e}function ge(H){return G[Math.min(G.indexOf(H)+1,G.length-1)]}function Pe(H){const e=ge(H);let g=k[e];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function Ve(H){let e=k[H];return typeof e=="number"&&(e=`${e}px`),`(min-width: ${e})`}function W(H,e,g){let P;typeof H=="object"?(P=H,g=e,e=!0):(e=e||!0,P={[H]:e});let i=Kr.useMemo(()=>Object.entries(P).reduce((L,[A,v])=>((v==="up"||v===!0)&&(L=oe(L,Ve(A))),(v==="down"||v===!0)&&(L=oe(L,Pe(A))),L),""),[JSON.stringify(P)]);return QE(i,g)}return W}const qE=$E({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function Dy(k){k===void 0&&(k=Um());try{var G=k.activeElement;return!G||!G.nodeName?null:G}catch{return k.body}}function Db(k,G){if(k.contains)return k.contains(G);if(k.compareDocumentPosition)return k===G||!!(k.compareDocumentPosition(G)&16)}function eC(k){const G=Kr.useRef(k);return G.current=k,G}function tC(k){const G=eC(k);Kr.useEffect(()=>()=>G.current(),[])}function rC(k=document){const G=k.defaultView;return Math.abs(G.innerWidth-k.documentElement.clientWidth)}const Ib=Mg("modal-open");class nC{constructor({ownerDocument:G,handleContainerOverflow:oe=!0,isRTL:ge=!1}={}){this.handleContainerOverflow=oe,this.isRTL=ge,this.modals=[],this.ownerDocument=G}getScrollbarWidth(){return rC(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(G){}removeModalAttributes(G){}setContainerStyle(G){const oe={overflow:"hidden"},ge=this.isRTL?"paddingLeft":"paddingRight",Pe=this.getElement();G.style={overflow:Pe.style.overflow,[ge]:Pe.style[ge]},G.scrollBarWidth&&(oe[ge]=`${parseInt(Gf(Pe,ge)||"0",10)+G.scrollBarWidth}px`),Pe.setAttribute(Ib,""),Gf(Pe,oe)}reset(){[...this.modals].forEach(G=>this.remove(G))}removeContainerStyle(G){const oe=this.getElement();oe.removeAttribute(Ib),Object.assign(oe.style,G.style)}add(G){let oe=this.modals.indexOf(G);return oe!==-1||(oe=this.modals.length,this.modals.push(G),this.setModalAttributes(G),oe!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),oe}remove(G){const oe=this.modals.indexOf(G);oe!==-1&&(this.modals.splice(oe,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(G))}isTopModal(G){return!!this.modals.length&&this.modals[this.modals.length-1]===G}}const Gm=nC,NT=Kr.createContext(Sg?window:void 0);NT.Provider;function Wm(){return Kr.useContext(NT)}const Iy=(k,G)=>Sg?k==null?(G||Um()).body:(typeof k=="function"&&(k=k()),k&&"current"in k&&(k=k.current),k&&("nodeType"in k||k.getBoundingClientRect)?k:null):null;function aC(k,G){const oe=Wm(),[ge,Pe]=Kr.useState(()=>Iy(k,oe==null?void 0:oe.document));if(!ge){const Ve=Iy(k);Ve&&Pe(Ve)}return Kr.useEffect(()=>{G&&ge&&G(ge)},[G,ge]),Kr.useEffect(()=>{const Ve=Iy(k);Ve!==ge&&Pe(Ve)},[k,ge]),ge}function iC({children:k,in:G,onExited:oe,mountOnEnter:ge,unmountOnExit:Pe}){const Ve=Kr.useRef(null),W=Kr.useRef(G),H=Kl(oe);Kr.useEffect(()=>{G?W.current=!0:H(Ve.current)},[G,H]);const e=Ag(Ve,k.ref),g=Kr.cloneElement(k,{ref:e});return G?g:Pe||!W.current&&ge?null:g}function oC({in:k,onTransition:G}){const oe=Kr.useRef(null),ge=Kr.useRef(!0),Pe=Kl(G);return z1(()=>{if(!oe.current)return;let Ve=!1;return Pe({in:k,element:oe.current,initial:ge.current,isStale:()=>Ve}),()=>{Ve=!0}},[k,Pe]),z1(()=>(ge.current=!1,()=>{ge.current=!0}),[]),oe}function sC({children:k,in:G,onExited:oe,onEntered:ge,transition:Pe}){const[Ve,W]=Kr.useState(!G);G&&Ve&&W(!1);const H=oC({in:!!G,onTransition:g=>{const P=()=>{g.isStale()||(g.in?ge==null||ge(g.element,g.initial):(W(!0),oe==null||oe(g.element)))};Promise.resolve(Pe(g)).then(P,i=>{throw g.in||W(!0),i})}}),e=Ag(H,k.ref);return Ve&&!G?null:Kr.cloneElement(k,{ref:e})}function kb(k,G,oe){return k?on.jsx(k,Object.assign({},oe)):G?on.jsx(sC,Object.assign({},oe,{transition:G})):on.jsx(iC,Object.assign({},oe))}function lC(k){return k.code==="Escape"||k.keyCode===27}const uC=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function fC(k,G){if(k==null)return{};var oe={},ge=Object.keys(k),Pe,Ve;for(Ve=0;Ve<ge.length;Ve++)Pe=ge[Ve],!(G.indexOf(Pe)>=0)&&(oe[Pe]=k[Pe]);return oe}let ky;function cC(k){return ky||(ky=new Gm({ownerDocument:k==null?void 0:k.document})),ky}function hC(k){const G=Wm(),oe=k||cC(G),ge=Kr.useRef({dialog:null,backdrop:null});return Object.assign(ge.current,{add:()=>oe.add(ge.current),remove:()=>oe.remove(ge.current),isTopModal:()=>oe.isTopModal(ge.current),setDialogRef:Kr.useCallback(Pe=>{ge.current.dialog=Pe},[]),setBackdropRef:Kr.useCallback(Pe=>{ge.current.backdrop=Pe},[])})}const BT=Kr.forwardRef((k,G)=>{let{show:oe=!1,role:ge="dialog",className:Pe,style:Ve,children:W,backdrop:H=!0,keyboard:e=!0,onBackdropClick:g,onEscapeKeyDown:P,transition:i,runTransition:L,backdropTransition:A,runBackdropTransition:v,autoFocus:p=!0,enforceFocus:t=!0,restoreFocus:r=!0,restoreFocusOptions:s,renderDialog:n,renderBackdrop:l=Q=>on.jsx("div",Object.assign({},Q)),manager:f,container:u,onShow:m,onHide:c=()=>{},onExit:w,onExited:h,onExiting:o,onEnter:d,onEntering:M,onEntered:T}=k,E=fC(k,uC);const x=Wm(),S=aC(u),b=hC(f),a=vE(),C=dE(oe),[y,z]=Kr.useState(!oe),I=Kr.useRef(null);Kr.useImperativeHandle(G,()=>b,[b]),Sg&&!C&&oe&&(I.current=Dy(x==null?void 0:x.document)),oe&&y&&z(!1);const B=Kl(()=>{if(b.add(),Y.current=q0(document,"keydown",_),U.current=q0(document,"focus",()=>setTimeout(O),!0),m&&m(),p){var Q,j;const X=Dy((Q=(j=b.dialog)==null?void 0:j.ownerDocument)!=null?Q:x==null?void 0:x.document);b.dialog&&X&&!Db(b.dialog,X)&&(I.current=X,b.dialog.focus())}}),F=Kl(()=>{if(b.remove(),Y.current==null||Y.current(),U.current==null||U.current(),r){var Q;(Q=I.current)==null||Q.focus==null||Q.focus(s),I.current=null}});Kr.useEffect(()=>{!oe||!S||B()},[oe,S,B]),Kr.useEffect(()=>{y&&F()},[y,F]),tC(()=>{F()});const O=Kl(()=>{if(!t||!a()||!b.isTopModal())return;const Q=Dy(x==null?void 0:x.document);b.dialog&&Q&&!Db(b.dialog,Q)&&b.dialog.focus()}),N=Kl(Q=>{Q.target===Q.currentTarget&&(g==null||g(Q),H===!0&&c())}),_=Kl(Q=>{e&&lC(Q)&&b.isTopModal()&&(P==null||P(Q),Q.defaultPrevented||c())}),U=Kr.useRef(),Y=Kr.useRef(),K=(...Q)=>{z(!0),h==null||h(...Q)};if(!S)return null;const re=Object.assign({role:ge,ref:b.setDialogRef,"aria-modal":ge==="dialog"?!0:void 0},E,{style:Ve,className:Pe,tabIndex:-1});let ae=n?n(re):on.jsx("div",Object.assign({},re,{children:Kr.cloneElement(W,{role:"document"})}));ae=kb(i,L,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!oe,onExit:w,onExiting:o,onExited:K,onEnter:d,onEntering:M,onEntered:T,children:ae});let fe=null;return H&&(fe=l({ref:b.setBackdropRef,onClick:N}),fe=kb(A,v,{in:!!oe,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:fe})),on.jsx(on.Fragment,{children:_v.createPortal(on.jsxs(on.Fragment,{children:[fe,ae]}),S)})});BT.displayName="Modal";const vC=Object.assign(BT,{Manager:Gm}),dC={[Cu]:"show",[Bf]:"show"},UT=Kr.forwardRef(({className:k,children:G,transitionClasses:oe={},onEnter:ge,...Pe},Ve)=>{const W={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...Pe},H=Kr.useCallback((e,g)=>{_T(e),ge==null||ge(e,g)},[ge]);return on.jsx(Vm,{ref:Ve,addEndListener:Hm,...W,onEnter:H,childRef:G.ref,children:(e,g)=>Kr.cloneElement(G,{...g,className:Ka("fade",k,G.props.className,dC[e],oe[e])})})});UT.displayName="Fade";const pC=UT,HT=Kr.forwardRef(({className:k,bsPrefix:G,as:oe="div",...ge},Pe)=>(G=li(G,"offcanvas-body"),on.jsx(oe,{ref:Pe,className:Ka(k,G),...ge})));HT.displayName="OffcanvasBody";const gC=HT,yC={[Cu]:"show",[Bf]:"show"},VT=Kr.forwardRef(({bsPrefix:k,className:G,children:oe,in:ge=!1,mountOnEnter:Pe=!1,unmountOnExit:Ve=!1,appear:W=!1,...H},e)=>(k=li(k,"offcanvas"),on.jsx(Vm,{ref:e,addEndListener:Hm,in:ge,mountOnEnter:Pe,unmountOnExit:Ve,appear:W,...H,childRef:oe.ref,children:(g,P)=>Kr.cloneElement(oe,{...P,className:Ka(G,oe.props.className,(g===Cu||g===vp)&&`${k}-toggling`,yC[g])})})));VT.displayName="OffcanvasToggling";const mC=VT,xC=Kr.createContext({onHide(){}}),GT=xC,bC={"aria-label":Wf.string,onClick:Wf.func,variant:Wf.oneOf(["white"])},Ym=Kr.forwardRef(({className:k,variant:G,"aria-label":oe="Close",...ge},Pe)=>on.jsx("button",{ref:Pe,type:"button",className:Ka("btn-close",G&&`btn-close-${G}`,k),"aria-label":oe,...ge}));Ym.displayName="CloseButton";Ym.propTypes=bC;const wC=Ym,TC=Kr.forwardRef(({closeLabel:k="Close",closeVariant:G,closeButton:oe=!1,onHide:ge,children:Pe,...Ve},W)=>{const H=Kr.useContext(GT),e=Kl(()=>{H==null||H.onHide(),ge==null||ge()});return on.jsxs("div",{ref:W,...Ve,children:[Pe,oe&&on.jsx(wC,{"aria-label":k,variant:G,onClick:e})]})}),AC=TC,WT=Kr.forwardRef(({bsPrefix:k,className:G,closeLabel:oe="Close",closeButton:ge=!1,...Pe},Ve)=>(k=li(k,"offcanvas-header"),on.jsx(AC,{ref:Ve,...Pe,className:Ka(G,k),closeLabel:oe,closeButton:ge})));WT.displayName="OffcanvasHeader";const MC=WT,jm=k=>Kr.forwardRef((G,oe)=>on.jsx("div",{...G,ref:oe,className:Ka(G.className,k)})),SC=jm("h5"),YT=Kr.forwardRef(({className:k,bsPrefix:G,as:oe=SC,...ge},Pe)=>(G=li(G,"offcanvas-title"),on.jsx(oe,{ref:Pe,className:Ka(k,G),...ge})));YT.displayName="OffcanvasTitle";const EC=YT;function CC(k,G){return k.classList?!!G&&k.classList.contains(G):(" "+(k.className.baseVal||k.className)+" ").indexOf(" "+G+" ")!==-1}function LC(k,G){k.classList?k.classList.add(G):CC(k,G)||(typeof k.className=="string"?k.className=k.className+" "+G:k.setAttribute("class",(k.className&&k.className.baseVal||"")+" "+G))}function Fb(k,G){return k.replace(new RegExp("(^|\\s)"+G+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function PC(k,G){k.classList?k.classList.remove(G):typeof k.className=="string"?k.className=Fb(k.className,G):k.setAttribute("class",Fb(k.className&&k.className.baseVal||"",G))}const wv={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class jT extends Gm{adjustAndStore(G,oe,ge){const Pe=oe.style[G];oe.dataset[G]=Pe,Gf(oe,{[G]:`${parseFloat(Gf(oe,G))+ge}px`})}restore(G,oe){const ge=oe.dataset[G];ge!==void 0&&(delete oe.dataset[G],Gf(oe,{[G]:ge}))}setContainerStyle(G){super.setContainerStyle(G);const oe=this.getElement();if(LC(oe,"modal-open"),!G.scrollBarWidth)return;const ge=this.isRTL?"paddingLeft":"paddingRight",Pe=this.isRTL?"marginLeft":"marginRight";Dh(oe,wv.FIXED_CONTENT).forEach(Ve=>this.adjustAndStore(ge,Ve,G.scrollBarWidth)),Dh(oe,wv.STICKY_CONTENT).forEach(Ve=>this.adjustAndStore(Pe,Ve,-G.scrollBarWidth)),Dh(oe,wv.NAVBAR_TOGGLER).forEach(Ve=>this.adjustAndStore(Pe,Ve,G.scrollBarWidth))}removeContainerStyle(G){super.removeContainerStyle(G);const oe=this.getElement();PC(oe,"modal-open");const ge=this.isRTL?"paddingLeft":"paddingRight",Pe=this.isRTL?"marginLeft":"marginRight";Dh(oe,wv.FIXED_CONTENT).forEach(Ve=>this.restore(ge,Ve)),Dh(oe,wv.STICKY_CONTENT).forEach(Ve=>this.restore(Pe,Ve)),Dh(oe,wv.NAVBAR_TOGGLER).forEach(Ve=>this.restore(Pe,Ve))}}let Fy;function RC(k){return Fy||(Fy=new jT(k)),Fy}const DC=jT;function IC(k){return on.jsx(mC,{...k})}function kC(k){return on.jsx(pC,{...k})}const ZT=Kr.forwardRef(({bsPrefix:k,className:G,children:oe,"aria-labelledby":ge,placement:Pe="start",responsive:Ve,show:W=!1,backdrop:H=!0,keyboard:e=!0,scroll:g=!1,onEscapeKeyDown:P,onShow:i,onHide:L,container:A,autoFocus:v=!0,enforceFocus:p=!0,restoreFocus:t=!0,restoreFocusOptions:r,onEntered:s,onExit:n,onExiting:l,onEnter:f,onEntering:u,onExited:m,backdropClassName:c,manager:w,renderStaticNode:h=!1,...o},d)=>{const M=Kr.useRef();k=li(k,"offcanvas");const{onToggle:T}=Kr.useContext(ed)||{},[E,x]=Kr.useState(!1),S=qE(Ve||"xs","up");Kr.useEffect(()=>{x(Ve?W&&!S:W)},[W,Ve,S]);const b=Kl(()=>{T==null||T(),L==null||L()}),a=Kr.useMemo(()=>({onHide:b}),[b]);function C(){return w||(g?(M.current||(M.current=new DC({handleContainerOverflow:!1})),M.current):RC())}const y=(F,...O)=>{F&&(F.style.visibility="visible"),f==null||f(F,...O)},z=(F,...O)=>{F&&(F.style.visibility=""),m==null||m(...O)},I=Kr.useCallback(F=>on.jsx("div",{...F,className:Ka(`${k}-backdrop`,c)}),[c,k]),B=F=>on.jsx("div",{...F,...o,className:Ka(G,Ve?`${k}-${Ve}`:k,`${k}-${Pe}`),"aria-labelledby":ge,children:oe});return on.jsxs(on.Fragment,{children:[!E&&(Ve||h)&&B({}),on.jsx(GT.Provider,{value:a,children:on.jsx(vC,{show:E,ref:d,backdrop:H,container:A,keyboard:e,autoFocus:v,enforceFocus:p&&!g,restoreFocus:t,restoreFocusOptions:r,onEscapeKeyDown:P,onShow:i,onHide:b,onEnter:y,onEntering:u,onEntered:s,onExit:n,onExiting:l,onExited:z,manager:C(),transition:IC,backdropTransition:kC,renderBackdrop:I,renderDialog:B})})]})});ZT.displayName="Offcanvas";const FC=Object.assign(ZT,{Body:gC,Header:MC,Title:EC}),XT=Kr.forwardRef((k,G)=>{const oe=Kr.useContext(ed);return on.jsx(FC,{ref:G,show:!!(oe!=null&&oe.expanded),...k,renderStaticNode:!0})});XT.displayName="NavbarOffcanvas";const _C=XT,KT=Kr.forwardRef(({className:k,bsPrefix:G,as:oe="span",...ge},Pe)=>(G=li(G,"navbar-text"),on.jsx(oe,{ref:Pe,className:Ka(k,G),...ge})));KT.displayName="NavbarText";const zC=KT,JT=Kr.forwardRef((k,G)=>{const{bsPrefix:oe,expand:ge=!0,variant:Pe="light",bg:Ve,fixed:W,sticky:H,className:e,as:g="nav",expanded:P,onToggle:i,onSelect:L,collapseOnSelect:A=!1,...v}=vT(k,{expanded:"onToggle"}),p=li(oe,"navbar"),t=Kr.useCallback((...n)=>{L==null||L(...n),A&&P&&(i==null||i(!1))},[L,A,P,i]);v.role===void 0&&g!=="nav"&&(v.role="navigation");let r=`${p}-expand`;typeof ge=="string"&&(r=`${r}-${ge}`);const s=Kr.useMemo(()=>({onToggle:()=>i==null?void 0:i(!P),bsPrefix:p,expanded:!!P,expand:ge}),[p,P,ge,i]);return on.jsx(ed.Provider,{value:s,children:on.jsx($0.Provider,{value:t,children:on.jsx(g,{ref:G,...v,className:Ka(e,p,ge&&r,Pe&&`${p}-${Pe}`,Ve&&`bg-${Ve}`,H&&`sticky-${H}`,W&&`fixed-${W}`)})})})});JT.displayName="Navbar";const d0=Object.assign(JT,{Brand:TE,Collapse:KE,Offcanvas:_C,Text:zC,Toggle:JE}),OC="/assets/logo-3e1e28e0.png";const NC=()=>on.jsx(d0,{expand:"lg",className:"barra-navegacion bg-body-tertiary",style:{fontSize:"18px"},children:on.jsxs(V8,{children:[on.jsx(d0.Brand,{href:"/",children:on.jsx("img",{src:OC,id:"header-logo",className:"img-fluid rounded-start logo-image",alt:"Imagen del logo",width:"40px",height:"40px"})}),on.jsx(d0.Toggle,{"aria-controls":"basic-navbar-nav"}),on.jsx(d0.Collapse,{id:"basic-navbar-nav",children:on.jsxs(h0,{className:"me-auto",children:[on.jsx(h0.Link,{href:"/",children:"Mercados"}),on.jsx(h0.Link,{href:"/grafica_velas",children:"Graficas"}),on.jsx(h0.Link,{href:"/trading_bot",children:"Trading Bot"})]})})]})});var QT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_b=Xo.createContext&&Xo.createContext(QT),Zc=globalThis&&globalThis.__assign||function(){return Zc=Object.assign||function(k){for(var G,oe=1,ge=arguments.length;oe<ge;oe++){G=arguments[oe];for(var Pe in G)Object.prototype.hasOwnProperty.call(G,Pe)&&(k[Pe]=G[Pe])}return k},Zc.apply(this,arguments)},BC=globalThis&&globalThis.__rest||function(k,G){var oe={};for(var ge in k)Object.prototype.hasOwnProperty.call(k,ge)&&G.indexOf(ge)<0&&(oe[ge]=k[ge]);if(k!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Pe=0,ge=Object.getOwnPropertySymbols(k);Pe<ge.length;Pe++)G.indexOf(ge[Pe])<0&&Object.prototype.propertyIsEnumerable.call(k,ge[Pe])&&(oe[ge[Pe]]=k[ge[Pe]]);return oe};function $T(k){return k&&k.map(function(G,oe){return Xo.createElement(G.tag,Zc({key:oe},G.attr),$T(G.child))})}function bp(k){return function(G){return Xo.createElement(UC,Zc({attr:Zc({},k.attr)},G),$T(k.child))}}function UC(k){var G=function(oe){var ge=k.attr,Pe=k.size,Ve=k.title,W=BC(k,["attr","size","title"]),H=Pe||oe.size||"1em",e;return oe.className&&(e=oe.className),k.className&&(e=(e?e+" ":"")+k.className),Xo.createElement("svg",Zc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},oe.attr,ge,W,{className:e,style:Zc(Zc({color:k.color||oe.color},oe.style),k.style),height:H,width:H,xmlns:"http://www.w3.org/2000/svg"}),Ve&&Xo.createElement("title",null,Ve),k.children)};return _b!==void 0?Xo.createElement(_b.Consumer,null,function(oe){return G(oe)}):G(QT)}function HC(k){return bp({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(k)}function VC(k){return bp({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(k)}function GC(k){return bp({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(k)}function WC(k){return bp({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(k)}function YC(k){return bp({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"}}]})(k)}const jC=()=>{const k=new Date().getFullYear();return on.jsxs("div",{className:"footer-container bg-body-tertiary",children:[on.jsx("p",{children:on.jsx("b",{children:"Contacto:"})}),on.jsxs("footer",{className:"footer",children:[on.jsxs("div",{className:"footer-item",children:[on.jsx(WC,{className:"footer-icon"}),on.jsx("div",{className:"footer-data",children:on.jsx("p",{children:on.jsx("b",{children:"Francesc Macia 08402 Barcelona"})})})]}),on.jsxs("div",{className:"footer-item",children:[on.jsx(GC,{className:"footer-icon"}),on.jsx("div",{className:"footer-data",children:on.jsx("p",{children:on.jsx("b",{children:"pirolsaens@yahoo.es"})})})]}),on.jsxs("div",{className:"footer-item",children:[on.jsx(YC,{className:"footer-icon"}),on.jsx("div",{className:"footer-data",children:on.jsx("p",{children:on.jsx("b",{children:"+34 698 245 390"})})})]})]}),on.jsxs("div",{className:"follow-us",children:[on.jsx("p",{children:on.jsx("b",{children:"Sgueme:"})}),on.jsxs("div",{className:"social-icons",children:[on.jsx("a",{href:"https://github.com/Chonny8701",target:"_blank",rel:"noopener noreferrer",children:on.jsx(HC,{className:"footer-icon"})}),on.jsx("a",{href:"https://www.linkedin.com/in/jos%C3%A9-daniel-rodr%C3%ADguez-chong-077485161/",target:"_blank",rel:"noopener noreferrer",children:on.jsx(VC,{className:"footer-icon"})})]})]}),on.jsx("div",{className:"copyrights",children:on.jsx("p",{children:on.jsxs("b",{children:[" ",k," Todos los derechos reservados."]})})})]})};var qT={},e5={};(function(k){function G(f){"@babel/helpers - typeof";return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},G(f)}Object.defineProperty(k,"__esModule",{value:!0}),k.default=l;var oe=W(Kr),ge=Pe(kT);function Pe(f){return f&&f.__esModule?f:{default:f}}function Ve(f){if(typeof WeakMap!="function")return null;var u=new WeakMap,m=new WeakMap;return(Ve=function(w){return w?m:u})(f)}function W(f,u){if(!u&&f&&f.__esModule)return f;if(f===null||G(f)!=="object"&&typeof f!="function")return{default:f};var m=Ve(u);if(m&&m.has(f))return m.get(f);var c={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in f)if(h!=="default"&&Object.prototype.hasOwnProperty.call(f,h)){var o=w?Object.getOwnPropertyDescriptor(f,h):null;o&&(o.get||o.set)?Object.defineProperty(c,h,o):c[h]=f[h]}return c.default=f,m&&m.set(f,c),c}function H(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function e(f,u){for(var m=0;m<u.length;m++){var c=u[m];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function g(f,u,m){return u&&e(f.prototype,u),m&&e(f,m),Object.defineProperty(f,"prototype",{writable:!1}),f}function P(f,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),u&&i(f,u)}function i(f,u){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,w){return c.__proto__=w,c},i(f,u)}function L(f){var u=p();return function(){var c=t(f),w;if(u){var h=t(this).constructor;w=Reflect.construct(c,arguments,h)}else w=c.apply(this,arguments);return A(this,w)}}function A(f,u){if(u&&(G(u)==="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(f)}function v(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function t(f){return t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},t(f)}var r=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],s=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],n=typeof window<"u";function l(f){var u=function(m){P(w,m);var c=L(w);function w(h){var o;return H(this,w),o=c.call(this,h),o.p=Promise.resolve(),o.resizeHandler=null,o.handlers={},o.syncWindowResize=o.syncWindowResize.bind(v(o)),o.syncEventHandlers=o.syncEventHandlers.bind(v(o)),o.attachUpdateEvents=o.attachUpdateEvents.bind(v(o)),o.getRef=o.getRef.bind(v(o)),o.handleUpdate=o.handleUpdate.bind(v(o)),o.figureCallback=o.figureCallback.bind(v(o)),o.updatePlotly=o.updatePlotly.bind(v(o)),o}return g(w,[{key:"updatePlotly",value:function(o,d,M){var T=this;this.p=this.p.then(function(){if(!T.unmounting){if(!T.el)throw new Error("Missing element reference");return f.react(T.el,{data:T.props.data,layout:T.props.layout,config:T.props.config,frames:T.props.frames})}}).then(function(){T.unmounting||(T.syncWindowResize(o),T.syncEventHandlers(),T.figureCallback(d),M&&T.attachUpdateEvents())}).catch(function(E){T.props.onError&&T.props.onError(E)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(o){this.unmounting=!1;var d=o.frames&&o.frames.length?o.frames.length:0,M=this.props.frames&&this.props.frames.length?this.props.frames.length:0,T=!(o.layout===this.props.layout&&o.data===this.props.data&&o.config===this.props.config&&M===d),E=o.revision!==void 0,x=o.revision!==this.props.revision;!T&&(!E||E&&!x)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&n&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),f.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var o=this;!this.el||!this.el.removeListener||s.forEach(function(d){o.el.on(d,o.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var o=this;!this.el||!this.el.removeListener||s.forEach(function(d){o.el.removeListener(d,o.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(o){if(typeof o=="function"){var d=this.el,M=d.data,T=d.layout,E=this.el._transitionData?this.el._transitionData._frames:null,x={data:M,layout:T,frames:E};o(x,this.el)}}},{key:"syncWindowResize",value:function(o){var d=this;n&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return f.Plots.resize(d.el)},window.addEventListener("resize",this.resizeHandler),o&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(o){this.el=o,this.props.debug&&n&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var o=this;r.forEach(function(d){var M=o.props["on"+d],T=o.handlers[d],E=!!T;M&&!E?o.addEventHandler(d,M):!M&&E?o.removeEventHandler(d):M&&E&&M!==T&&(o.removeEventHandler(d),o.addEventHandler(d,M))})}},{key:"addEventHandler",value:function(o,d){this.handlers[o]=d,this.el.on(this.getPlotlyEventName(o),this.handlers[o])}},{key:"removeEventHandler",value:function(o){this.el.removeListener(this.getPlotlyEventName(o),this.handlers[o]),delete this.handlers[o]}},{key:"getPlotlyEventName",value:function(o){return"plotly_"+o.toLowerCase()}},{key:"render",value:function(){return oe.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),w}(oe.Component);return u.propTypes={data:ge.default.arrayOf(ge.default.object),config:ge.default.object,layout:ge.default.object,frames:ge.default.arrayOf(ge.default.object),revision:ge.default.number,onInitialized:ge.default.func,onPurge:ge.default.func,onError:ge.default.func,onUpdate:ge.default.func,debug:ge.default.bool,style:ge.default.object,className:ge.default.string,useResizeHandler:ge.default.bool,divId:ge.default.string},r.forEach(function(m){u.propTypes["on"+m]=ge.default.func}),u.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},u}})(e5);var t5={exports:{}};(function(k,G){(function(ge,Pe){k.exports=Pe()})(self,function(){return function(){var oe={98847:function(W,H,e){var g=e(71828),P={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var i in P){var L=i.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");g.addStyleRule(L,P[i])}},98222:function(W,H,e){W.exports=e(82887)},27206:function(W,H,e){W.exports=e(60822)},59893:function(W,H,e){W.exports=e(23381)},5224:function(W,H,e){W.exports=e(83832)},59509:function(W,H,e){W.exports=e(72201)},75557:function(W,H,e){W.exports=e(91815)},40338:function(W,H,e){W.exports=e(21462)},35080:function(W,H,e){W.exports=e(51319)},61396:function(W,H,e){W.exports=e(57516)},40549:function(W,H,e){W.exports=e(98128)},49866:function(W,H,e){W.exports=e(99442)},36089:function(W,H,e){W.exports=e(93740)},19548:function(W,H,e){W.exports=e(8729)},35831:function(W,H,e){W.exports=e(93814)},61039:function(W,H,e){W.exports=e(14382)},97040:function(W,H,e){W.exports=e(51759)},77986:function(W,H,e){W.exports=e(10421)},24296:function(W,H,e){W.exports=e(43102)},58872:function(W,H,e){W.exports=e(92165)},29626:function(W,H,e){W.exports=e(3325)},65591:function(W,H,e){W.exports=e(36071)},69738:function(W,H,e){W.exports=e(43905)},92650:function(W,H,e){W.exports=e(35902)},35630:function(W,H,e){W.exports=e(69816)},73434:function(W,H,e){W.exports=e(94507)},27909:function(W,H,e){var g=e(19548);g.register([e(27206),e(5224),e(58872),e(65591),e(69738),e(92650),e(49866),e(25743),e(6197),e(97040),e(85461),e(73434),e(54201),e(81299),e(47645),e(35630),e(77986),e(83043),e(93005),e(96881),e(4534),e(50581),e(40549),e(77900),e(47582),e(35080),e(21641),e(17280),e(5861),e(29626),e(10021),e(65317),e(96268),e(61396),e(35831),e(16122),e(46163),e(40344),e(40338),e(48131),e(36089),e(55334),e(75557),e(19440),e(99488),e(59893),e(97393),e(98222),e(61039),e(24296),e(66398),e(59509)]),W.exports=g},46163:function(W,H,e){W.exports=e(15154)},96881:function(W,H,e){W.exports=e(64943)},50581:function(W,H,e){W.exports=e(21164)},55334:function(W,H,e){W.exports=e(54186)},65317:function(W,H,e){W.exports=e(94873)},10021:function(W,H,e){W.exports=e(67618)},54201:function(W,H,e){W.exports=e(58810)},5861:function(W,H,e){W.exports=e(20593)},16122:function(W,H,e){W.exports=e(29396)},83043:function(W,H,e){W.exports=e(13551)},48131:function(W,H,e){W.exports=e(46858)},47582:function(W,H,e){W.exports=e(17988)},21641:function(W,H,e){W.exports=e(68868)},96268:function(W,H,e){W.exports=e(20467)},19440:function(W,H,e){W.exports=e(91271)},99488:function(W,H,e){W.exports=e(21461)},97393:function(W,H,e){W.exports=e(85956)},25743:function(W,H,e){W.exports=e(52979)},66398:function(W,H,e){W.exports=e(32275)},17280:function(W,H,e){W.exports=e(6419)},77900:function(W,H,e){W.exports=e(61510)},81299:function(W,H,e){W.exports=e(87619)},93005:function(W,H,e){W.exports=e(93601)},40344:function(W,H,e){W.exports=e(96595)},47645:function(W,H,e){W.exports=e(70954)},6197:function(W,H,e){W.exports=e(47462)},4534:function(W,H,e){W.exports=e(17659)},85461:function(W,H,e){W.exports=e(19990)},82884:function(W){W.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(W,H,e){var g=e(82884),P=e(41940),i=e(85555),L=e(44467).templatedArray;e(24695),W.exports=L("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:P({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(W,H,e){var g=e(71828),P=e(89298),i=e(92605).draw;W.exports=function(p){var t=p._fullLayout,r=g.filterVisible(t.annotations);if(r.length&&p._fullData.length)return g.syncOrAsync([i,L],p)};function L(v){var p=v._fullLayout;g.filterVisible(p.annotations).forEach(function(t){var r=P.getFromId(v,t.xref),s=P.getFromId(v,t.yref),n=P.getRefType(t.xref),l=P.getRefType(t.yref);t._extremes={},n==="range"&&A(t,r),l==="range"&&A(t,s)})}function A(v,p){var t=p._id,r=t.charAt(0),s=v[r],n=v["a"+r],l=v[r+"ref"],f=v["a"+r+"ref"],u=v["_"+r+"padplus"],m=v["_"+r+"padminus"],c={x:1,y:-1}[r]*v[r+"shift"],w=3*v.arrowsize*v.arrowwidth||0,h=w+c,o=w-c,d=3*v.startarrowsize*v.arrowwidth||0,M=d+c,T=d-c,E;if(f===l){var x=P.findExtremes(p,[p.r2c(s)],{ppadplus:h,ppadminus:o}),S=P.findExtremes(p,[p.r2c(n)],{ppadplus:Math.max(u,M),ppadminus:Math.max(m,T)});E={min:[x.min[0],S.min[0]],max:[x.max[0],S.max[0]]}}else M=n?M+n:M,T=n?T-n:T,E=P.findExtremes(p,[p.r2c(s)],{ppadplus:Math.max(u,h,M),ppadminus:Math.max(m,o,T)});v._extremes[t]=E}},44317:function(W,H,e){var g=e(71828),P=e(73972),i=e(44467).arrayEditor;W.exports={hasClickToShow:L,onClick:A};function L(t,r){var s=v(t,r);return s.on.length>0||s.explicitOff.length>0}function A(t,r){var s=v(t,r),n=s.on,l=s.off.concat(s.explicitOff),f={},u=t._fullLayout.annotations,m,c;if(n.length||l.length){for(m=0;m<n.length;m++)c=i(t.layout,"annotations",u[n[m]]),c.modifyItem("visible",!0),g.extendFlat(f,c.getUpdateObj());for(m=0;m<l.length;m++)c=i(t.layout,"annotations",u[l[m]]),c.modifyItem("visible",!1),g.extendFlat(f,c.getUpdateObj());return P.call("update",t,{},f)}}function v(t,r){var s=t._fullLayout.annotations,n=[],l=[],f=[],u=(r||[]).length,m,c,w,h,o,d,M,T;for(m=0;m<s.length;m++)if(w=s[m],h=w.clicktoshow,h){for(c=0;c<u;c++)if(o=r[c],d=o.xaxis,M=o.yaxis,d._id===w.xref&&M._id===w.yref&&d.d2r(o.x)===p(w._xclick,d)&&M.d2r(o.y)===p(w._yclick,M)){w.visible?h==="onout"?T=l:T=f:T=n,T.push(m);break}c===u&&w.visible&&h==="onout"&&l.push(m)}return{on:n,off:l,explicitOff:f}}function p(t,r){return r.type==="log"?r.l2r(t):r.d2r(t)}},25625:function(W,H,e){var g=e(71828),P=e(7901);W.exports=function(L,A,v,p){p("opacity");var t=p("bgcolor"),r=p("bordercolor"),s=P.opacity(r);p("borderpad");var n=p("borderwidth"),l=p("showarrow");p("text",l?" ":v._dfltTitle.annotation),p("textangle"),g.coerceFont(p,"font",v.font),p("width"),p("align");var f=p("height");if(f&&p("valign"),l){var u=p("arrowside"),m,c;u.indexOf("end")!==-1&&(m=p("arrowhead"),c=p("arrowsize")),u.indexOf("start")!==-1&&(p("startarrowhead",m),p("startarrowsize",c)),p("arrowcolor",s?A.bordercolor:P.defaultLine),p("arrowwidth",(s&&n||1)*2),p("standoff"),p("startstandoff")}var w=p("hovertext"),h=v.hoverlabel||{};if(w){var o=p("hoverlabel.bgcolor",h.bgcolor||(P.opacity(t)?P.rgb(t):P.defaultLine)),d=p("hoverlabel.bordercolor",h.bordercolor||P.contrast(o));g.coerceFont(p,"hoverlabel.font",{family:h.font.family,size:h.font.size,color:h.font.color||d})}p("captureevents",!!w)}},94128:function(W,H,e){var g=e(92770),P=e(58163);W.exports=function(L,A,v,p){A=A||{};var t=v==="log"&&A.type==="linear",r=v==="linear"&&A.type==="log";if(!(t||r))return;var s=L._fullLayout.annotations,n=A._id.charAt(0),l,f;function u(c){var w=l[c],h=null;t?h=P(w,A.range):h=Math.pow(10,w),g(h)||(h=null),p(f+c,h)}for(var m=0;m<s.length;m++)l=s[m],f="annotations["+m+"].",l[n+"ref"]===A._id&&u(n),l["a"+n+"ref"]===A._id&&u("a"+n)}},84046:function(W,H,e){var g=e(71828),P=e(89298),i=e(85501),L=e(25625),A=e(50215);W.exports=function(t,r){i(t,r,{name:"annotations",handleItemDefaults:v})};function v(p,t,r){function s(b,a){return g.coerce(p,t,A,b,a)}var n=s("visible"),l=s("clicktoshow");if(n||l){L(p,t,r,s);for(var f=t.showarrow,u=["x","y"],m=[-10,-30],c={_fullLayout:r},w=0;w<2;w++){var h=u[w],o=P.coerceRef(p,t,c,h,"","paper");if(o!=="paper"){var d=P.getFromId(c,o);d._annIndices.push(t._index)}if(P.coercePosition(t,c,s,o,h,.5),f){var M="a"+h,T=P.coerceRef(p,t,c,M,"pixel",["pixel","paper"]);T!=="pixel"&&T!==o&&(T=t[M]="pixel");var E=T==="pixel"?m[w]:.4;P.coercePosition(t,c,s,T,M,E)}s(h+"anchor"),s(h+"shift")}if(g.noneOrAll(p,t,["x","y"]),f&&g.noneOrAll(p,t,["ax","ay"]),l){var x=s("xclick"),S=s("yclick");t._xclick=x===void 0?t.x:P.cleanPosition(x,c,t.xref),t._yclick=S===void 0?t.y:P.cleanPosition(S,c,t.yref)}}}},92605:function(W,H,e){var g=e(39898),P=e(73972),i=e(74875),L=e(71828),A=L.strTranslate,v=e(89298),p=e(7901),t=e(91424),r=e(30211),s=e(63893),n=e(6964),l=e(28569),f=e(44467).arrayEditor,u=e(13011);W.exports={draw:m,drawOne:c,drawRaw:h};function m(o){var d=o._fullLayout;d._infolayer.selectAll(".annotation").remove();for(var M=0;M<d.annotations.length;M++)d.annotations[M].visible&&c(o,M);return i.previousPromises(o)}function c(o,d){var M=o._fullLayout,T=M.annotations[d]||{},E=v.getFromId(o,T.xref),x=v.getFromId(o,T.yref);E&&E.setScale(),x&&x.setScale(),h(o,T,d,!1,E,x)}function w(o,d,M,T,E){var x=E[M],S=E[M+"ref"],b=M.indexOf("y")!==-1,a=v.getRefType(S)==="domain",C=b?T.h:T.w;return o?a?x+(b?-d:d)/o._length:o.p2r(o.r2p(x)+d):x+(b?-d:d)/C}function h(o,d,M,T,E,x){var S=o._fullLayout,b=o._fullLayout._size,a=o._context.edits,C,y;T?(C="annotation-"+T,y=T+".annotations"):(C="annotation",y="annotations");var z=f(o.layout,y,d),I=z.modifyBase,B=z.modifyItem,F=z.getUpdateObj;S._infolayer.selectAll("."+C+'[data-index="'+M+'"]').remove();var O="clip"+S._uid+"_ann"+M;if(!d._input||d.visible===!1){g.selectAll("#"+O).remove();return}var N={x:{},y:{}},_=+d.textangle||0,U=S._infolayer.append("g").classed(C,!0).attr("data-index",String(M)).style("opacity",d.opacity),Y=U.append("g").classed("annotation-text-g",!0),K=a[d.showarrow?"annotationTail":"annotationPosition"],re=d.captureevents||a.annotationText||K;function ae(me){var Me={index:M,annotation:d._input,fullAnnotation:d,event:me};return T&&(Me.subplotId=T),Me}var fe=Y.append("g").style("pointer-events",re?"all":null).call(n,"pointer").on("click",function(){o._dragging=!1,o.emit("plotly_clickannotation",ae(g.event))});d.hovertext&&fe.on("mouseover",function(){var me=d.hoverlabel,Me=me.font,we=this.getBoundingClientRect(),Oe=o.getBoundingClientRect();r.loneHover({x0:we.left-Oe.left,x1:we.right-Oe.left,y:(we.top+we.bottom)/2-Oe.top,text:d.hovertext,color:me.bgcolor,borderColor:me.bordercolor,fontFamily:Me.family,fontSize:Me.size,fontColor:Me.color},{container:S._hoverlayer.node(),outerContainer:S._paper.node(),gd:o})}).on("mouseout",function(){r.loneUnhover(S._hoverlayer.node())});var Q=d.borderwidth,j=d.borderpad,X=Q+j,J=fe.append("rect").attr("class","bg").style("stroke-width",Q+"px").call(p.stroke,d.bordercolor).call(p.fill,d.bgcolor),ee=d.width||d.height,se=S._topclips.selectAll("#"+O).data(ee?[0]:[]);se.enter().append("clipPath").classed("annclip",!0).attr("id",O).append("rect"),se.exit().remove();var q=d.font,$=S._meta?L.templateString(d.text,S._meta):d.text,le=fe.append("text").classed("annotation-text",!0).text($);function ie(me){return me.call(t.font,q).attr({"text-anchor":{left:"start",right:"end"}[d.align]||"middle"}),s.convertToTspans(me,o,ce),me}function ce(){var me=le.selectAll("a");if(me.size()===1&&me.text()===le.text()){var Me=fe.insert("a",":first-child").attr({"xlink:xlink:href":me.attr("xlink:href"),"xlink:xlink:show":me.attr("xlink:show")}).style({cursor:"pointer"});Me.node().appendChild(J.node())}var we=fe.select(".annotation-text-math-group"),Oe=!we.empty(),Be=t.bBox((Oe?we:le).node()),Ce=Be.width,xe=Be.height,Se=d.width||Ce,He=d.height||xe,Ge=Math.round(Se+2*X),ke=Math.round(He+2*X);function We(mr,ur){return ur==="auto"&&(mr<.3333333333333333?ur="left":mr>.6666666666666666?ur="right":ur="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[ur]}for(var it=!1,et=["x","y"],tt=0;tt<et.length;tt++){var at=et[tt],ht=d[at+"ref"]||at,yt=d["a"+at+"ref"],gt={x:E,y:x}[at],Et=(_+(at==="x"?0:-90))*Math.PI/180,Ct=Ge*Math.cos(Et),Vt=ke*Math.sin(Et),Qe=Math.abs(Ct)+Math.abs(Vt),Fe=d[at+"anchor"],Ie=d[at+"shift"]*(at==="x"?1:-1),ze=N[at],Re,be,ye,Ae,Ee,Ne=v.getRefType(ht);if(gt&&Ne!=="domain"){var Je=gt.r2fraction(d[at]);(Je<0||Je>1)&&(yt===ht?(Je=gt.r2fraction(d["a"+at]),(Je<0||Je>1)&&(it=!0)):it=!0),Re=gt._offset+gt.r2p(d[at]),Ae=.5}else{var qe=Ne==="domain";at==="x"?(ye=d[at],Re=qe?gt._offset+gt._length*ye:Re=b.l+b.w*ye):(ye=1-d[at],Re=qe?gt._offset+gt._length*ye:Re=b.t+b.h*ye),Ae=d.showarrow?.5:ye}if(d.showarrow){ze.head=Re;var vt=d["a"+at];if(Ee=Ct*We(.5,d.xanchor)-Vt*We(.5,d.yanchor),yt===ht){var bt=v.getRefType(yt);bt==="domain"?(at==="y"&&(vt=1-vt),ze.tail=gt._offset+gt._length*vt):bt==="paper"?at==="y"?(vt=1-vt,ze.tail=b.t+b.h*vt):ze.tail=b.l+b.w*vt:ze.tail=gt._offset+gt.r2p(vt),be=Ee}else ze.tail=Re+vt,be=Ee+vt;ze.text=ze.tail+Ee;var Wt=S[at==="x"?"width":"height"];if(ht==="paper"&&(ze.head=L.constrain(ze.head,1,Wt-1)),yt==="pixel"){var qt=-Math.max(ze.tail-3,ze.text),At=Math.min(ze.tail+3,ze.text)-Wt;qt>0?(ze.tail+=qt,ze.text+=qt):At>0&&(ze.tail-=At,ze.text-=At)}ze.tail+=Ie,ze.head+=Ie}else Ee=Qe*We(Ae,Fe),be=Ee,ze.text=Re+Ee;ze.text+=Ie,Ee+=Ie,be+=Ie,d["_"+at+"padplus"]=Qe/2+be,d["_"+at+"padminus"]=Qe/2-be,d["_"+at+"size"]=Qe,d["_"+at+"shift"]=Ee}if(it){fe.remove();return}var zt=0,Jt=0;if(d.align!=="left"&&(zt=(Se-Ce)*(d.align==="center"?.5:1)),d.valign!=="top"&&(Jt=(He-xe)*(d.valign==="middle"?.5:1)),Oe)we.select("svg").attr({x:X+zt-1,y:X+Jt}).call(t.setClipUrl,ee?O:null,o);else{var Mr=X+Jt-Be.top,pt=X+zt-Be.left;le.call(s.positionText,pt,Mr).call(t.setClipUrl,ee?O:null,o)}se.select("rect").call(t.setRect,X,X,Se,He),J.call(t.setRect,Q/2,Q/2,Ge-Q,ke-Q),fe.call(t.setTranslate,Math.round(N.x.text-Ge/2),Math.round(N.y.text-ke/2)),Y.attr({transform:"rotate("+_+","+N.x.text+","+N.y.text+")"});var Zt=function(mr,ur){U.selectAll(".annotation-arrow-g").remove();var dt=N.x.head,st=N.y.head,xt=N.x.tail+mr,Mt=N.y.tail+ur,Dt=N.x.text+mr,Rt=N.y.text+ur,Nt=L.rotationXYMatrix(_,Dt,Rt),Bt=L.apply2DTransform(Nt),Xt=L.apply2DTransform2(Nt),lr=+J.attr("width"),sr=+J.attr("height"),dr=Dt-.5*lr,je=dr+lr,Ye=Rt-.5*sr,It=Ye+sr,kt=[[dr,Ye,dr,It],[dr,It,je,It],[je,It,je,Ye],[je,Ye,dr,Ye]].map(Xt);if(!kt.reduce(function(Fr,pn){return Fr^!!L.segmentsIntersect(dt,st,dt+1e6,st+1e6,pn[0],pn[1],pn[2],pn[3])},!1)){kt.forEach(function(Fr){var pn=L.segmentsIntersect(xt,Mt,dt,st,Fr[0],Fr[1],Fr[2],Fr[3]);pn&&(xt=pn.x,Mt=pn.y)});var Yt=d.arrowwidth,tr=d.arrowcolor,or=d.arrowside,rr=U.append("g").style({opacity:p.opacity(tr)}).classed("annotation-arrow-g",!0),_t=rr.append("path").attr("d","M"+xt+","+Mt+"L"+dt+","+st).style("stroke-width",Yt+"px").call(p.stroke,p.rgb(tr));if(u(_t,or,d),a.annotationPosition&&_t.node().parentNode&&!T){var hr=dt,gr=st;if(d.standoff){var pr=Math.sqrt(Math.pow(dt-xt,2)+Math.pow(st-Mt,2));hr+=d.standoff*(xt-dt)/pr,gr+=d.standoff*(Mt-st)/pr}var vr=rr.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(xt-hr)+","+(Mt-gr),transform:A(hr,gr)}).style("stroke-width",Yt+6+"px").call(p.stroke,"rgba(0,0,0,0)").call(p.fill,"rgba(0,0,0,0)"),Hr,kr;l.init({element:vr.node(),gd:o,prepFn:function(){var Fr=t.getTranslate(fe);Hr=Fr.x,kr=Fr.y,E&&E.autorange&&I(E._name+".autorange",!0),x&&x.autorange&&I(x._name+".autorange",!0)},moveFn:function(Fr,pn){var qr=Bt(Hr,kr),On=qr[0]+Fr,Tn=qr[1]+pn;fe.call(t.setTranslate,On,Tn),B("x",w(E,Fr,"x",b,d)),B("y",w(x,pn,"y",b,d)),d.axref===d.xref&&B("ax",w(E,Fr,"ax",b,d)),d.ayref===d.yref&&B("ay",w(x,pn,"ay",b,d)),rr.attr("transform",A(Fr,pn)),Y.attr({transform:"rotate("+_+","+On+","+Tn+")"})},doneFn:function(){P.call("_guiRelayout",o,F());var Fr=document.querySelector(".js-notes-box-panel");Fr&&Fr.redraw(Fr.selectedObj)}})}}};if(d.showarrow&&Zt(0,0),K){var Kt;l.init({element:fe.node(),gd:o,prepFn:function(){Kt=Y.attr("transform")},moveFn:function(mr,ur){var dt="pointer";if(d.showarrow)d.axref===d.xref?B("ax",w(E,mr,"ax",b,d)):B("ax",d.ax+mr),d.ayref===d.yref?B("ay",w(x,ur,"ay",b.w,d)):B("ay",d.ay+ur),Zt(mr,ur);else{if(T)return;var st,xt;if(E)st=w(E,mr,"x",b,d);else{var Mt=d._xsize/b.w,Dt=d.x+(d._xshift-d.xshift)/b.w-Mt/2;st=l.align(Dt+mr/b.w,Mt,0,1,d.xanchor)}if(x)xt=w(x,ur,"y",b,d);else{var Rt=d._ysize/b.h,Nt=d.y-(d._yshift+d.yshift)/b.h-Rt/2;xt=l.align(Nt-ur/b.h,Rt,0,1,d.yanchor)}B("x",st),B("y",xt),(!E||!x)&&(dt=l.getCursor(E?.5:st,x?.5:xt,d.xanchor,d.yanchor))}Y.attr({transform:A(mr,ur)+Kt}),n(fe,dt)},clickFn:function(mr,ur){d.captureevents&&o.emit("plotly_clickannotation",ae(ur))},doneFn:function(){n(fe),P.call("_guiRelayout",o,F());var mr=document.querySelector(".js-notes-box-panel");mr&&mr.redraw(mr.selectedObj)}})}}a.annotationText?le.call(s.makeEditable,{delegate:fe,gd:o}).call(ie).on("edit",function(me){d.text=me,this.call(ie),B("text",me),E&&E.autorange&&I(E._name+".autorange",!0),x&&x.autorange&&I(x._name+".autorange",!0),P.call("_guiRelayout",o,F())}):le.call(ie)}},13011:function(W,H,e){var g=e(39898),P=e(7901),i=e(82884),L=e(71828),A=L.strScale,v=L.strRotate,p=L.strTranslate;W.exports=function(r,s,n){var l=r.node(),f=i[n.arrowhead||0],u=i[n.startarrowhead||0],m=(n.arrowwidth||1)*(n.arrowsize||1),c=(n.arrowwidth||1)*(n.startarrowsize||1),w=s.indexOf("start")>=0,h=s.indexOf("end")>=0,o=f.backoff*m+n.standoff,d=u.backoff*c+n.startstandoff,M,T,E,x;if(l.nodeName==="line"){M={x:+r.attr("x1"),y:+r.attr("y1")},T={x:+r.attr("x2"),y:+r.attr("y2")};var S=M.x-T.x,b=M.y-T.y;if(E=Math.atan2(b,S),x=E+Math.PI,o&&d&&o+d>Math.sqrt(S*S+b*b)){Y();return}if(o){if(o*o>S*S+b*b){Y();return}var a=o*Math.cos(E),C=o*Math.sin(E);T.x+=a,T.y+=C,r.attr({x2:T.x,y2:T.y})}if(d){if(d*d>S*S+b*b){Y();return}var y=d*Math.cos(E),z=d*Math.sin(E);M.x-=y,M.y-=z,r.attr({x1:M.x,y1:M.y})}}else if(l.nodeName==="path"){var I=l.getTotalLength(),B="";if(I<o+d){Y();return}var F=l.getPointAtLength(0),O=l.getPointAtLength(.1);E=Math.atan2(F.y-O.y,F.x-O.x),M=l.getPointAtLength(Math.min(d,I)),B="0px,"+d+"px,";var N=l.getPointAtLength(I),_=l.getPointAtLength(I-.1);x=Math.atan2(N.y-_.y,N.x-_.x),T=l.getPointAtLength(Math.max(0,I-o));var U=B?d+o:o;B+=I-U+"px,"+I+"px",r.style("stroke-dasharray",B)}function Y(){r.style("stroke-dasharray","0px,100px")}function K(re,ae,fe,Q){re.path&&(re.noRotate&&(fe=0),g.select(l.parentNode).append("path").attr({class:r.attr("class"),d:re.path,transform:p(ae.x,ae.y)+v(fe*180/Math.PI)+A(Q)}).style({fill:P.rgb(n.arrowcolor),"stroke-width":0}))}w&&K(u,M,E,c),h&&K(f,T,x,m)}},32745:function(W,H,e){var g=e(92605),P=e(44317);W.exports={moduleType:"component",name:"annotations",layoutAttributes:e(50215),supplyLayoutDefaults:e(84046),includeBasePlot:e(76325)("annotations"),calcAutorange:e(3749),draw:g.draw,drawOne:g.drawOne,drawRaw:g.drawRaw,hasClickToShow:P.hasClickToShow,onClick:P.onClick,convertCoords:e(94128)}},26997:function(W,H,e){var g=e(50215),P=e(30962).overrideAll,i=e(44467).templatedArray;W.exports=P(i("annotation",{visible:g.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:g.xanchor,xshift:g.xshift,yanchor:g.yanchor,yshift:g.yshift,text:g.text,textangle:g.textangle,font:g.font,width:g.width,height:g.height,opacity:g.opacity,align:g.align,valign:g.valign,bgcolor:g.bgcolor,bordercolor:g.bordercolor,borderpad:g.borderpad,borderwidth:g.borderwidth,showarrow:g.showarrow,arrowcolor:g.arrowcolor,arrowhead:g.arrowhead,startarrowhead:g.startarrowhead,arrowside:g.arrowside,arrowsize:g.arrowsize,startarrowsize:g.startarrowsize,arrowwidth:g.arrowwidth,standoff:g.standoff,startstandoff:g.startstandoff,hovertext:g.hovertext,hoverlabel:g.hoverlabel,captureevents:g.captureevents}),"calc","from-root")},5485:function(W,H,e){var g=e(71828),P=e(89298);W.exports=function(A){for(var v=A.fullSceneLayout,p=v.annotations,t=0;t<p.length;t++)i(p[t],A);A.fullLayout._infolayer.selectAll(".annotation-"+A.id).remove()};function i(L,A){var v=A.fullSceneLayout,p=v.domain,t=A.fullLayout._size,r={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};L._xa={},g.extendFlat(L._xa,r),P.setConvert(L._xa),L._xa._offset=t.l+p.x[0]*t.w,L._xa.l2p=function(){return .5*(1+L._pdata[0]/L._pdata[3])*t.w*(p.x[1]-p.x[0])},L._ya={},g.extendFlat(L._ya,r),P.setConvert(L._ya),L._ya._offset=t.t+(1-p.y[1])*t.h,L._ya.l2p=function(){return .5*(1-L._pdata[1]/L._pdata[3])*t.h*(p.y[1]-p.y[0])}}},20226:function(W,H,e){var g=e(71828),P=e(89298),i=e(85501),L=e(25625),A=e(26997);W.exports=function(t,r,s){i(t,r,{name:"annotations",handleItemDefaults:v,fullLayout:s.fullLayout})};function v(p,t,r,s){function n(u,m){return g.coerce(p,t,A,u,m)}function l(u){var m=u+"axis",c={_fullLayout:{}};return c._fullLayout[m]=r[m],P.coercePosition(t,c,n,u,u,.5)}var f=n("visible");f&&(L(p,t,s.fullLayout,n),l("x"),l("y"),l("z"),g.noneOrAll(p,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",n("ax",-10),n("ay",-30),g.noneOrAll(p,t,["ax","ay"])))}},82188:function(W,H,e){var g=e(92605).drawRaw,P=e(63538),i=["x","y","z"];W.exports=function(A){for(var v=A.fullSceneLayout,p=A.dataScale,t=v.annotations,r=0;r<t.length;r++){for(var s=t[r],n=!1,l=0;l<3;l++){var f=i[l],u=s[f],m=v[f+"axis"],c=m.r2fraction(u);if(c<0||c>1){n=!0;break}}n?A.fullLayout._infolayer.select(".annotation-"+A.id+'[data-index="'+r+'"]').remove():(s._pdata=P(A.glplot.cameraParams,[v.xaxis.r2l(s.x)*p[0],v.yaxis.r2l(s.y)*p[1],v.zaxis.r2l(s.z)*p[2]]),g(A.graphDiv,s,r,A.id,s._xa,s._ya))}}},2468:function(W,H,e){var g=e(73972),P=e(71828);W.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(26997)}}},layoutAttributes:e(26997),handleDefaults:e(20226),includeBasePlot:i,convert:e(5485),draw:e(82188)};function i(L,A){var v=g.subplotsRegistry.gl3d;if(v)for(var p=v.attrRegex,t=Object.keys(L),r=0;r<t.length;r++){var s=t[r];p.test(s)&&(L[s].annotations||[]).length&&(P.pushUnique(A._basePlotModules,v),P.pushUnique(A._subplots.gl3d,s))}}},7561:function(W,H,e){W.exports=e(63489),e(94338),e(3961),e(38751),e(86825),e(37715),e(99384),e(43805),e(88874),e(83290),e(29108),e(55422),e(94320),e(31320),e(51367),e(21457)},72201:function(W,H,e){var g=e(7561),P=e(71828),i=e(50606),L=i.EPOCHJD,A=i.ONEDAY,v={valType:"enumerated",values:P.sortObjectKeys(g.calendars),editType:"calc",dflt:"gregorian"},p=function(E,x,S,b){var a={};return a[S]=v,P.coerce(E,x,a,S,b)},t=function(E,x,S,b){for(var a=0;a<S.length;a++)p(E,x,S[a]+"calendar",b.calendar)},r={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},s={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},n={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},l="##",f={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:l,w:l,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function u(E,x,S){for(var b=Math.floor((x+.05)/A)+L,a=c(S).fromJD(b),C=0,y,z,I,B,F;(C=E.indexOf("%",C))!==-1;)y=E.charAt(C+1),y==="0"||y==="-"||y==="_"?(I=3,z=E.charAt(C+2),y==="_"&&(y="-")):(z=y,y="0",I=2),B=f[z],B?(B===l?F=l:F=a.formatDate(B[y]),E=E.substr(0,C)+F+E.substr(C+I),C+=F.length):C+=I;return E}var m={};function c(E){var x=m[E];return x||(x=m[E]=g.instance(E),x)}function w(E){return P.extendFlat({},v,{description:E})}function h(E){return"Sets the calendar system to use with `"+E+"` date data."}var o={xcalendar:w(h("x"))},d=P.extendFlat({},o,{ycalendar:w(h("y"))}),M=P.extendFlat({},d,{zcalendar:w(h("z"))}),T=w(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));W.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:d,bar:d,box:d,heatmap:d,contour:d,histogram:d,histogram2d:d,histogram2dcontour:d,scatter3d:M,surface:M,mesh3d:M,scattergl:d,ohlc:o,candlestick:o},layout:{calendar:w(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:T},yaxis:{calendar:T},scene:{xaxis:{calendar:T},yaxis:{calendar:T},zaxis:{calendar:T}},polar:{radialaxis:{calendar:T}}},transforms:{filter:{valuecalendar:w(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:w(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:p,handleTraceDefaults:t,CANONICAL_SUNDAY:s,CANONICAL_TICK:r,DFLTRANGE:n,getCal:c,worldCalFmt:u}},22399:function(W,H){H.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],H.defaultLine="#444",H.lightLine="#eee",H.background="#fff",H.borderLine="#BEC8D9",H.lightFraction=90.9090909090909},7901:function(W,H,e){var g=e(84267),P=e(92770),i=e(73627).isTypedArray,L=W.exports={},A=e(22399);L.defaults=A.defaults;var v=L.defaultLine=A.defaultLine;L.lightLine=A.lightLine;var p=L.background=A.background;L.tinyRGB=function(r){var s=r.toRgb();return"rgb("+Math.round(s.r)+", "+Math.round(s.g)+", "+Math.round(s.b)+")"},L.rgb=function(r){return L.tinyRGB(g(r))},L.opacity=function(r){return r?g(r).getAlpha():0},L.addOpacity=function(r,s){var n=g(r).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+s+")"},L.combine=function(r,s){var n=g(r).toRgb();if(n.a===1)return g(r).toRgbString();var l=g(s||p).toRgb(),f=l.a===1?l:{r:255*(1-l.a)+l.r*l.a,g:255*(1-l.a)+l.g*l.a,b:255*(1-l.a)+l.b*l.a},u={r:f.r*(1-n.a)+n.r*n.a,g:f.g*(1-n.a)+n.g*n.a,b:f.b*(1-n.a)+n.b*n.a};return g(u).toRgbString()},L.contrast=function(r,s,n){var l=g(r);l.getAlpha()!==1&&(l=g(L.combine(r,p)));var f=l.isDark()?s?l.lighten(s):p:n?l.darken(n):v;return f.toString()},L.stroke=function(r,s){var n=g(s);r.style({stroke:L.tinyRGB(n),"stroke-opacity":n.getAlpha()})},L.fill=function(r,s){var n=g(s);r.style({fill:L.tinyRGB(n),"fill-opacity":n.getAlpha()})},L.clean=function(r){if(!(!r||typeof r!="object")){var s=Object.keys(r),n,l,f,u;for(n=0;n<s.length;n++)if(f=s[n],u=r[f],f.substr(f.length-5)==="color")if(Array.isArray(u))for(l=0;l<u.length;l++)u[l]=t(u[l]);else r[f]=t(u);else if(f.substr(f.length-10)==="colorscale"&&Array.isArray(u))for(l=0;l<u.length;l++)Array.isArray(u[l])&&(u[l][1]=t(u[l][1]));else if(Array.isArray(u)){var m=u[0];if(!Array.isArray(m)&&m&&typeof m=="object")for(l=0;l<u.length;l++)L.clean(u[l])}else u&&typeof u=="object"&&!i(u)&&L.clean(u)}};function t(r){if(P(r)||typeof r!="string")return r;var s=r.trim();if(s.substr(0,3)!=="rgb")return r;var n=s.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return r;var l=n[1].trim().split(/\s*[\s,]\s*/),f=s.charAt(3)==="a"&&l.length===4;if(!f&&l.length!==3)return r;for(var u=0;u<l.length;u++){if(!l[u].length||(l[u]=Number(l[u]),!(l[u]>=0)))return r;if(u===3)l[u]>1&&(l[u]=1);else if(l[u]>=1)return r}var m=Math.round(l[0]*255)+", "+Math.round(l[1]*255)+", "+Math.round(l[2]*255);return f?"rgba("+m+", "+l[3]+")":"rgb("+m+")"}},63583:function(W,H,e){var g=e(13838),P=e(41940),i=e(1426).extendFlat,L=e(30962).overrideAll;W.exports=L({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:g.linecolor,outlinewidth:g.linewidth,bordercolor:g.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:g.minor.tickmode,nticks:g.nticks,tick0:g.tick0,dtick:g.dtick,tickvals:g.tickvals,ticktext:g.ticktext,ticks:i({},g.ticks,{dflt:""}),ticklabeloverflow:i({},g.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:g.ticklen,tickwidth:g.tickwidth,tickcolor:g.tickcolor,ticklabelstep:g.ticklabelstep,showticklabels:g.showticklabels,labelalias:g.labelalias,tickfont:P({}),tickangle:g.tickangle,tickformat:g.tickformat,tickformatstops:g.tickformatstops,tickprefix:g.tickprefix,showtickprefix:g.showtickprefix,ticksuffix:g.ticksuffix,showticksuffix:g.showticksuffix,separatethousands:g.separatethousands,exponentformat:g.exponentformat,minexponent:g.minexponent,showexponent:g.showexponent,title:{text:{valType:"string"},font:P({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:P({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(W){W.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(W,H,e){var g=e(71828),P=e(44467),i=e(26218),L=e(38701),A=e(96115),v=e(89426),p=e(63583);W.exports=function(r,s,n){var l=P.newContainer(s,"colorbar"),f=r.colorbar||{};function u(N,_){return g.coerce(f,l,p,N,_)}var m=n.margin||{t:0,b:0,l:0,r:0},c=n.width-m.l-m.r,w=n.height-m.t-m.b,h=u("orientation"),o=h==="v",d=u("thicknessmode");u("thickness",d==="fraction"?30/(o?c:w):30);var M=u("lenmode");u("len",M==="fraction"?1:o?w:c);var T=u("yref"),E=u("xref"),x=T==="paper",S=E==="paper",b,a,C,y="left";o?(C="middle",y=S?"left":"right",b=S?1.02:1,a=.5):(C=x?"bottom":"top",y="center",b=.5,a=x?1.02:1),g.coerce(f,l,{x:{valType:"number",min:S?-2:0,max:S?3:1,dflt:b}},"x"),g.coerce(f,l,{y:{valType:"number",min:x?-2:0,max:x?3:1,dflt:a}},"y"),u("xanchor",y),u("xpad"),u("yanchor",C),u("ypad"),g.noneOrAll(f,l,["x","y"]),u("outlinecolor"),u("outlinewidth"),u("bordercolor"),u("borderwidth"),u("bgcolor");var z=g.coerce(f,l,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:o?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");u("ticklabeloverflow",z.indexOf("inside")!==-1?"hide past domain":"hide past div"),i(f,l,u,"linear");var I=n.font,B={outerTicks:!1,font:I};z.indexOf("inside")!==-1&&(B.bgColor="black"),v(f,l,u,"linear",B),A(f,l,u,"linear",B),L(f,l,u,"linear",B),u("title.text",n._dfltTitle.colorbar);var F=l.showticklabels?l.tickfont:I,O=g.extendFlat({},F,{color:I.color,size:g.bigFont(F.size)});g.coerceFont(u,"title.font",O),u("title.side",o?"top":"right")}},98981:function(W,H,e){var g=e(39898),P=e(84267),i=e(74875),L=e(73972),A=e(89298),v=e(28569),p=e(71828),t=p.strTranslate,r=e(1426).extendFlat,s=e(6964),n=e(91424),l=e(7901),f=e(92998),u=e(63893),m=e(52075).flipScale,c=e(71453),w=e(52830),h=e(13838),o=e(18783),d=o.LINE_SPACING,M=o.FROM_TL,T=o.FROM_BR,E=e(30939).cn;function x(z){var I=z._fullLayout,B=I._infolayer.selectAll("g."+E.colorbar).data(S(z),function(F){return F._id});B.enter().append("g").attr("class",function(F){return F._id}).classed(E.colorbar,!0),B.each(function(F){var O=g.select(this);p.ensureSingle(O,"rect",E.cbbg),p.ensureSingle(O,"g",E.cbfills),p.ensureSingle(O,"g",E.cblines),p.ensureSingle(O,"g",E.cbaxis,function(_){_.classed(E.crisp,!0)}),p.ensureSingle(O,"g",E.cbtitleunshift,function(_){_.append("g").classed(E.cbtitle,!0)}),p.ensureSingle(O,"rect",E.cboutline);var N=b(O,F,z);N&&N.then&&(z._promises||[]).push(N),z._context.edits.colorbarPosition&&a(O,F,z)}),B.exit().each(function(F){i.autoMargin(z,F._id)}).remove(),B.order()}function S(z){var I=z._fullLayout,B=z.calcdata,F=[],O,N,_,U;function Y(q){return r(q,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function K(){typeof U.calc=="function"?U.calc(z,_,O):(O._fillgradient=N.reversescale?m(N.colorscale):N.colorscale,O._zrange=[N[U.min],N[U.max]])}for(var re=0;re<B.length;re++){var ae=B[re];if(_=ae[0].trace,!!_._module){var fe=_._module.colorbar;if(_.visible===!0&&fe)for(var Q=Array.isArray(fe),j=Q?fe:[fe],X=0;X<j.length;X++){U=j[X];var J=U.container;N=J?_[J]:_,N&&N.showscale&&(O=Y(N.colorbar),O._id="cb"+_.uid+(Q&&J?"-"+J:""),O._traceIndex=_.index,O._propPrefix=(J?J+".":"")+"colorbar.",O._meta=_._meta,K(),F.push(O))}}}for(var ee in I._colorAxes)if(N=I[ee],N.showscale){var se=I._colorAxes[ee];O=Y(N.colorbar),O._id="cb"+ee,O._propPrefix=ee+".colorbar.",O._meta=I._meta,U={min:"cmin",max:"cmax"},se[0]!=="heatmap"&&(_=se[1],U.calc=_._module.colorbar.calc),K(),F.push(O)}return F}function b(z,I,B){var F=I.orientation==="v",O=I.len,N=I.lenmode,_=I.thickness,U=I.thicknessmode,Y=I.outlinewidth,K=I.borderwidth,re=I.bgcolor,ae=I.xanchor,fe=I.yanchor,Q=I.xpad,j=I.ypad,X=I.x,J=F?I.y:1-I.y,ee=I.yref==="paper",se=I.xref==="paper",q=B._fullLayout,$=q._size,le=I._fillcolor,ie=I._line,ce=I.title,me=ce.side,Me=I._zrange||g.extent((typeof le=="function"?le:ie.color).domain()),we=typeof ie.color=="function"?ie.color:function(){return ie.color},Oe=typeof le=="function"?le:function(){return le},Be=I._levels,Ce=C(B,I,Me),xe=Ce.fill,Se=Ce.line,He=Math.round(_*(U==="fraction"?F?$.w:$.h:1)),Ge=He/(F?$.w:$.h),ke=Math.round(O*(N==="fraction"?F?$.h:$.w:1)),We=ke/(F?$.h:$.w),it=se?$.w:B._fullLayout.width,et=ee?$.h:B._fullLayout.height,tt=Math.round(F?X*it+Q:J*et+j),at={center:.5,right:1}[ae]||0,ht={top:1,middle:.5}[fe]||0,yt=F?X-at*Ge:J-ht*Ge,gt=F?J-ht*We:X-at*We,Et=Math.round(F?et*(1-gt):it*gt);I._lenFrac=We,I._thickFrac=Ge,I._uFrac=yt,I._vFrac=gt;var Ct=I._axis=y(B,I,Me);Ct.position=Ge+(F?X+Q/$.w:J+j/$.h);var Vt=["top","bottom"].indexOf(me)!==-1;if(F&&Vt&&(Ct.title.side=me,Ct.titlex=X+Q/$.w,Ct.titley=gt+(ce.side==="top"?We-j/$.h:j/$.h)),!F&&!Vt&&(Ct.title.side=me,Ct.titley=J+j/$.h,Ct.titlex=gt+Q/$.w),ie.color&&I.tickmode==="auto"){Ct.tickmode="linear",Ct.tick0=Be.start;var Qe=Be.size,Fe=p.constrain(ke/50,4,15)+1,Ie=(Me[1]-Me[0])/((I.nticks||Fe)*Qe);if(Ie>1){var ze=Math.pow(10,Math.floor(Math.log(Ie)/Math.LN10));Qe*=ze*p.roundUp(Ie/ze,[2,5,10]),(Math.abs(Be.start)/Be.size+1e-6)%1<2e-6&&(Ct.tick0=0)}Ct.dtick=Qe}Ct.domain=F?[gt+j/$.h,gt+We-j/$.h]:[gt+Q/$.w,gt+We-Q/$.w],Ct.setScale(),z.attr("transform",t(Math.round($.l),Math.round($.t)));var Re=z.select("."+E.cbtitleunshift).attr("transform",t(-Math.round($.l),-Math.round($.t))),be=Ct.ticklabelposition,ye=Ct.title.font.size,Ae=z.select("."+E.cbaxis),Ee,Ne=0,Je=0;function qe(At,zt){var Jt={propContainer:Ct,propName:I._propPrefix+"title",traceIndex:I._traceIndex,_meta:I._meta,placeholder:q._dfltTitle.colorbar,containerGroup:z.select("."+E.cbtitle)},Mr=At.charAt(0)==="h"?At.substr(1):"h"+At;z.selectAll("."+Mr+",."+Mr+"-math-group").remove(),f.draw(B,At,r(Jt,zt||{}))}function vt(){if(F&&Vt||!F&&!Vt){var At,zt;me==="top"&&(At=Q+$.l+it*X,zt=j+$.t+et*(1-gt-We)+3+ye*.75),me==="bottom"&&(At=Q+$.l+it*X,zt=j+$.t+et*(1-gt)-3-ye*.25),me==="right"&&(zt=j+$.t+et*J+3+ye*.75,At=Q+$.l+it*gt),qe(Ct._id+"title",{attributes:{x:At,y:zt,"text-anchor":F?"start":"middle"}})}}function bt(){if(F&&!Vt||!F&&Vt){var At=Ct.position||0,zt=Ct._offset+Ct._length/2,Jt,Mr;if(me==="right")Mr=zt,Jt=$.l+it*At+10+ye*(Ct.showticklabels?1:.5);else if(Jt=zt,me==="bottom"&&(Mr=$.t+et*At+10+(be.indexOf("inside")===-1?Ct.tickfont.size:0)+(Ct.ticks!=="intside"&&I.ticklen||0)),me==="top"){var pt=ce.text.split("<br>").length;Mr=$.t+et*At+10-He-d*ye*pt}qe((F?"h":"v")+Ct._id+"title",{avoid:{selection:g.select(B).selectAll("g."+Ct._id+"tick"),side:me,offsetTop:F?0:$.t,offsetLeft:F?$.l:0,maxShift:F?q.width:q.height},attributes:{x:Jt,y:Mr,"text-anchor":"middle"},transform:{rotate:F?-90:0,offset:0}})}}function Wt(){if(!F&&!Vt||F&&Vt){var At=z.select("."+E.cbtitle),zt=At.select("text"),Jt=[-Y/2,Y/2],Mr=At.select(".h"+Ct._id+"title-math-group").node(),pt=15.6;zt.node()&&(pt=parseInt(zt.node().style.fontSize,10)*d);var Zt;if(Mr?(Zt=n.bBox(Mr),Je=Zt.width,Ne=Zt.height,Ne>pt&&(Jt[1]-=(Ne-pt)/2)):zt.node()&&!zt.classed(E.jsPlaceholder)&&(Zt=n.bBox(zt.node()),Je=Zt.width,Ne=Zt.height),F){if(Ne){if(Ne+=5,me==="top")Ct.domain[1]-=Ne/$.h,Jt[1]*=-1;else{Ct.domain[0]+=Ne/$.h;var Kt=u.lineCount(zt);Jt[1]+=(1-Kt)*pt}At.attr("transform",t(Jt[0],Jt[1])),Ct.setScale()}}else Je&&(me==="right"&&(Ct.domain[0]+=(Je+ye/2)/$.w),At.attr("transform",t(Jt[0],Jt[1])),Ct.setScale())}z.selectAll("."+E.cbfills+",."+E.cblines).attr("transform",F?t(0,Math.round($.h*(1-Ct.domain[1]))):t(Math.round($.w*Ct.domain[0]),0)),Ae.attr("transform",F?t(0,Math.round(-$.t)):t(Math.round(-$.l),0));var mr=z.select("."+E.cbfills).selectAll("rect."+E.cbfill).attr("style","").data(xe);mr.enter().append("rect").classed(E.cbfill,!0).attr("style",""),mr.exit().remove();var ur=Me.map(Ct.c2p).map(Math.round).sort(function(Dt,Rt){return Dt-Rt});mr.each(function(Dt,Rt){var Nt=[Rt===0?Me[0]:(xe[Rt]+xe[Rt-1])/2,Rt===xe.length-1?Me[1]:(xe[Rt]+xe[Rt+1])/2].map(Ct.c2p).map(Math.round);F&&(Nt[1]=p.constrain(Nt[1]+(Nt[1]>Nt[0])?1:-1,ur[0],ur[1]));var Bt=g.select(this).attr(F?"x":"y",tt).attr(F?"y":"x",g.min(Nt)).attr(F?"width":"height",Math.max(He,2)).attr(F?"height":"width",Math.max(g.max(Nt)-g.min(Nt),2));if(I._fillgradient)n.gradient(Bt,B,I._id,F?"vertical":"horizontalreversed",I._fillgradient,"fill");else{var Xt=Oe(Dt).replace("e-","");Bt.attr("fill",P(Xt).toHexString())}});var dt=z.select("."+E.cblines).selectAll("path."+E.cbline).data(ie.color&&ie.width?Se:[]);dt.enter().append("path").classed(E.cbline,!0),dt.exit().remove(),dt.each(function(Dt){var Rt=tt,Nt=Math.round(Ct.c2p(Dt))+ie.width/2%1;g.select(this).attr("d","M"+(F?Rt+","+Nt:Nt+","+Rt)+(F?"h":"v")+He).call(n.lineGroupStyle,ie.width,we(Dt),ie.dash)}),Ae.selectAll("g."+Ct._id+"tick,path").remove();var st=tt+He+(Y||0)/2-(I.ticks==="outside"?1:0),xt=A.calcTicks(Ct),Mt=A.getTickSigns(Ct)[2];return A.drawTicks(B,Ct,{vals:Ct.ticks==="inside"?A.clipEnds(Ct,xt):xt,layer:Ae,path:A.makeTickPath(Ct,st,Mt),transFn:A.makeTransTickFn(Ct)}),A.drawLabels(B,Ct,{vals:xt,layer:Ae,transFn:A.makeTransTickLabelFn(Ct),labelFns:A.makeLabelFns(Ct,st)})}function qt(){var At,zt=He+Y/2;be.indexOf("inside")===-1&&(At=n.bBox(Ae.node()),zt+=F?At.width:At.height),Ee=Re.select("text");var Jt=0,Mr=F&&me==="top",pt=!F&&me==="right",Zt=0;if(Ee.node()&&!Ee.classed(E.jsPlaceholder)){var Kt,mr=Re.select(".h"+Ct._id+"title-math-group").node();mr&&(F&&Vt||!F&&!Vt)?(At=n.bBox(mr),Jt=At.width,Kt=At.height):(At=n.bBox(Re.node()),Jt=At.right-$.l-(F?tt:Et),Kt=At.bottom-$.t-(F?Et:tt),!F&&me==="top"&&(zt+=At.height,Zt=At.height)),pt&&(Ee.attr("transform",t(Jt/2+ye/2,0)),Jt*=2),zt=Math.max(zt,F?Jt:Kt)}var ur=(F?Q:j)*2+zt+K+Y/2,dt=0;!F&&ce.text&&fe==="bottom"&&J<=0&&(dt=ur/2,ur+=dt,Zt+=dt),q._hColorbarMoveTitle=dt,q._hColorbarMoveCBTitle=Zt;var st=K+Y,xt=(F?tt:Et)-st/2-(F?Q:0),Mt=(F?Et:tt)-(F?ke:j+Zt-dt);z.select("."+E.cbbg).attr("x",xt).attr("y",Mt).attr(F?"width":"height",Math.max(ur-dt,2)).attr(F?"height":"width",Math.max(ke+st,2)).call(l.fill,re).call(l.stroke,I.bordercolor).style("stroke-width",K);var Dt=pt?Math.max(Jt-10,0):0;z.selectAll("."+E.cboutline).attr("x",(F?tt:Et+Q)+Dt).attr("y",(F?Et+j-ke:tt)+(Mr?Ne:0)).attr(F?"width":"height",Math.max(He,2)).attr(F?"height":"width",Math.max(ke-(F?2*j+Ne:2*Q+Dt),2)).call(l.stroke,I.outlinecolor).style({fill:"none","stroke-width":Y});var Rt=F?at*ur:0,Nt=F?0:(1-ht)*ur-Zt;if(Rt=se?$.l-Rt:-Rt,Nt=ee?$.t-Nt:-Nt,z.attr("transform",t(Rt,Nt)),!F&&(K||P(re).getAlpha()&&!P.equals(q.paper_bgcolor,re))){var Bt=Ae.selectAll("text"),Xt=Bt[0].length,lr=z.select("."+E.cbbg).node(),sr=n.bBox(lr),dr=n.getTranslate(z),je=2;Bt.each(function(gr,pr){var vr=0,Hr=Xt-1;if(pr===vr||pr===Hr){var kr=n.bBox(this),Fr=n.getTranslate(this),pn;if(pr===Hr){var qr=kr.right+Fr.x,On=sr.right+dr.x+Et-K-je+X;pn=On-qr,pn>0&&(pn=0)}else if(pr===vr){var Tn=kr.left+Fr.x,Sr=sr.left+dr.x+Et+K+je;pn=Sr-Tn,pn<0&&(pn=0)}pn&&(Xt<3?this.setAttribute("transform","translate("+pn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ye={},It=M[ae],kt=T[ae],Yt=M[fe],tr=T[fe],or=ur-He;F?(N==="pixels"?(Ye.y=J,Ye.t=ke*Yt,Ye.b=ke*tr):(Ye.t=Ye.b=0,Ye.yt=J+O*Yt,Ye.yb=J-O*tr),U==="pixels"?(Ye.x=X,Ye.l=ur*It,Ye.r=ur*kt):(Ye.l=or*It,Ye.r=or*kt,Ye.xl=X-_*It,Ye.xr=X+_*kt)):(N==="pixels"?(Ye.x=X,Ye.l=ke*It,Ye.r=ke*kt):(Ye.l=Ye.r=0,Ye.xl=X+O*It,Ye.xr=X-O*kt),U==="pixels"?(Ye.y=1-J,Ye.t=ur*Yt,Ye.b=ur*tr):(Ye.t=or*Yt,Ye.b=or*tr,Ye.yt=J-_*Yt,Ye.yb=J+_*tr));var rr=I.y<.5?"b":"t",_t=I.x<.5?"l":"r";B._fullLayout._reservedMargin[I._id]={};var hr={r:q.width-xt-Rt,l:xt+Ye.r,b:q.height-Mt-Nt,t:Mt+Ye.b};se&&ee?i.autoMargin(B,I._id,Ye):se?B._fullLayout._reservedMargin[I._id][rr]=hr[rr]:ee||F?B._fullLayout._reservedMargin[I._id][_t]=hr[_t]:B._fullLayout._reservedMargin[I._id][rr]=hr[rr]}return p.syncOrAsync([i.previousPromises,vt,Wt,bt,i.previousPromises,qt],B)}function a(z,I,B){var F=I.orientation==="v",O=B._fullLayout,N=O._size,_,U,Y;v.init({element:z.node(),gd:B,prepFn:function(){_=z.attr("transform"),s(z)},moveFn:function(K,re){z.attr("transform",_+t(K,re)),U=v.align((F?I._uFrac:I._vFrac)+K/N.w,F?I._thickFrac:I._lenFrac,0,1,I.xanchor),Y=v.align((F?I._vFrac:1-I._uFrac)-re/N.h,F?I._lenFrac:I._thickFrac,0,1,I.yanchor);var ae=v.getCursor(U,Y,I.xanchor,I.yanchor);s(z,ae)},doneFn:function(){if(s(z),U!==void 0&&Y!==void 0){var K={};K[I._propPrefix+"x"]=U,K[I._propPrefix+"y"]=Y,I._traceIndex!==void 0?L.call("_guiRestyle",B,K,I._traceIndex):L.call("_guiRelayout",B,K)}}})}function C(z,I,B){var F=I._levels,O=[],N=[],_,U,Y=F.end+F.size/100,K=F.size,re=1.001*B[0]-.001*B[1],ae=1.001*B[1]-.001*B[0];for(U=0;U<1e5&&(_=F.start+U*K,!(K>0?_>=Y:_<=Y));U++)_>re&&_<ae&&O.push(_);if(I._fillgradient)N=[0];else if(typeof I._fillcolor=="function"){var fe=I._filllevels;if(fe)for(Y=fe.end+fe.size/100,K=fe.size,U=0;U<1e5&&(_=fe.start+U*K,!(K>0?_>=Y:_<=Y));U++)_>B[0]&&_<B[1]&&N.push(_);else N=O.map(function(Q){return Q-F.size/2}),N.push(N[N.length-1]+F.size)}else I._fillcolor&&typeof I._fillcolor=="string"&&(N=[0]);return F.size<0&&(O.reverse(),N.reverse()),{line:O,fill:N}}function y(z,I,B){var F=z._fullLayout,O=I.orientation==="v",N={type:"linear",range:B,tickmode:I.tickmode,nticks:I.nticks,tick0:I.tick0,dtick:I.dtick,tickvals:I.tickvals,ticktext:I.ticktext,ticks:I.ticks,ticklen:I.ticklen,tickwidth:I.tickwidth,tickcolor:I.tickcolor,showticklabels:I.showticklabels,labelalias:I.labelalias,ticklabelposition:I.ticklabelposition,ticklabeloverflow:I.ticklabeloverflow,ticklabelstep:I.ticklabelstep,tickfont:I.tickfont,tickangle:I.tickangle,tickformat:I.tickformat,exponentformat:I.exponentformat,minexponent:I.minexponent,separatethousands:I.separatethousands,showexponent:I.showexponent,showtickprefix:I.showtickprefix,tickprefix:I.tickprefix,showticksuffix:I.showticksuffix,ticksuffix:I.ticksuffix,title:I.title,showline:!0,anchor:"free",side:O?"right":"bottom",position:1},_=O?"y":"x",U={type:"linear",_id:_+I._id},Y={letter:_,font:F.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:F.calendar};function K(re,ae){return p.coerce(N,U,h,re,ae)}return c(N,U,K,Y,F),w(N,U,K,Y),U}W.exports={draw:x}},76228:function(W,H,e){var g=e(71828);W.exports=function(i){return g.isPlainObject(i.colorbar)}},12311:function(W,H,e){W.exports={moduleType:"component",name:"colorbar",attributes:e(63583),supplyDefaults:e(62499),draw:e(98981).draw,hasColorbar:e(76228)}},50693:function(W,H,e){var g=e(63583),P=e(30587).counter,i=e(78607),L=e(63282).scales;i(L),W.exports=function(v,p){v=v||"",p=p||{};var t=p.cLetter||"c";"onlyIfNumerical"in p&&p.onlyIfNumerical;var r="noScale"in p?p.noScale:v==="marker.line",s="showScaleDflt"in p?p.showScaleDflt:t==="z",n=typeof p.colorscaleDflt=="string"?L[p.colorscaleDflt]:null,l=p.editTypeOverride||"",f;"colorAttr"in p?(f=p.colorAttr,p.colorAttr):f={z:"z",c:"color"}[t];var u=t+"auto",m=t+"min",c=t+"max",w=t+"mid",h={};h[m]=h[c]=void 0;var o={};o[u]=!1;var d={};return f==="color"&&(d.color={valType:"color",arrayOk:!0,editType:l||"style"},p.anim&&(d.color.anim=!0)),d[u]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:h},d[m]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:o},d[c]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:o},d[w]={valType:"number",dflt:null,editType:"calc",impliedEdits:h},d.colorscale={valType:"colorscale",editType:"calc",dflt:n,impliedEdits:{autocolorscale:!1}},d.autocolorscale={valType:"boolean",dflt:p.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},d.reversescale={valType:"boolean",dflt:!1,editType:"plot"},r||(d.showscale={valType:"boolean",dflt:s,editType:"calc"},d.colorbar=g),p.noColorAxis||(d.coloraxis={valType:"subplotid",regex:P("coloraxis"),dflt:null,editType:"calc"}),d}},78803:function(W,H,e){var g=e(92770),P=e(71828),i=e(52075).extractOpts;W.exports=function(A,v,p){var t=A._fullLayout,r=p.vals,s=p.containerStr,n=s?P.nestedProperty(v,s).get():v,l=i(n),f=l.auto!==!1,u=l.min,m=l.max,c=l.mid,w=function(){return P.aggNums(Math.min,null,r)},h=function(){return P.aggNums(Math.max,null,r)};if(u===void 0?u=w():f&&(n._colorAx&&g(u)?u=Math.min(u,w()):u=w()),m===void 0?m=h():f&&(n._colorAx&&g(m)?m=Math.max(m,h()):m=h()),f&&c!==void 0&&(m-c>c-u?u=c-(m-c):m-c<c-u&&(m=c+(c-u))),u===m&&(u-=.5,m+=.5),l._sync("min",u),l._sync("max",m),l.autocolorscale){var o;u*m<0?o=t.colorscale.diverging:u>=0?o=t.colorscale.sequential:o=t.colorscale.sequentialminus,l._sync("colorscale",o)}}},33046:function(W,H,e){var g=e(71828),P=e(52075).hasColorscale,i=e(52075).extractOpts;W.exports=function(A,v){function p(u,m){var c=u["_"+m];c!==void 0&&(u[m]=c)}function t(u,m){var c=m.container?g.nestedProperty(u,m.container).get():u;if(c)if(c.coloraxis)c._colorAx=v[c.coloraxis];else{var w=i(c),h=w.auto;(h||w.min===void 0)&&p(c,m.min),(h||w.max===void 0)&&p(c,m.max),w.autocolorscale&&p(c,"colorscale")}}for(var r=0;r<A.length;r++){var s=A[r],n=s._module.colorbar;if(n)if(Array.isArray(n))for(var l=0;l<n.length;l++)t(s,n[l]);else t(s,n);P(s,"marker.line")&&t(s,{container:"marker.line",min:"cmin",max:"cmax"})}for(var f in v._colorAxes)t(v[f],{min:"cmin",max:"cmax"})}},1586:function(W,H,e){var g=e(92770),P=e(71828),i=e(76228),L=e(62499),A=e(63282).isValid,v=e(73972).traceIs;function p(t,r){var s=r.slice(0,r.length-1);return r?P.nestedProperty(t,s).get()||{}:t}W.exports=function t(r,s,n,l,f){var u=f.prefix,m=f.cLetter,c="_module"in s,w=p(r,u),h=p(s,u),o=p(s._template||{},u)||{},d=function(){return delete r.coloraxis,delete s.coloraxis,t(r,s,n,l,f)};if(c){var M=n._colorAxes||{},T=l(u+"coloraxis");if(T){var E=v(s,"contour")&&P.nestedProperty(s,"contours.coloring").get()||"heatmap",x=M[T];x?(x[2].push(d),x[0]!==E&&(x[0]=!1,P.warn(["Ignoring coloraxis:",T,"setting","as it is linked to incompatible colorscales."].join(" ")))):M[T]=[E,s,[d]];return}}var S=w[m+"min"],b=w[m+"max"],a=g(S)&&g(b)&&S<b,C=l(u+m+"auto",!a);C?l(u+m+"mid"):(l(u+m+"min"),l(u+m+"max"));var y=w.colorscale,z=o.colorscale,I;if(y!==void 0&&(I=!A(y)),z!==void 0&&(I=!A(z)),l(u+"autocolorscale",I),l(u+"colorscale"),l(u+"reversescale"),u!=="marker.line."){var B;u&&c&&(B=i(w));var F=l(u+"showscale",B);F&&(u&&o&&(h._template=o),L(w,h,n))}}},52075:function(W,H,e){var g=e(39898),P=e(84267),i=e(92770),L=e(71828),A=e(7901),v=e(63282).isValid;function p(c,w,h){var o=w?L.nestedProperty(c,w).get()||{}:c,d=o[h||"color"],M=!1;if(L.isArrayOrTypedArray(d)){for(var T=0;T<d.length;T++)if(i(d[T])){M=!0;break}}return L.isPlainObject(o)&&(M||o.showscale===!0||i(o.cmin)&&i(o.cmax)||v(o.colorscale)||L.isPlainObject(o.colorbar))}var t=["showscale","autocolorscale","colorscale","reversescale","colorbar"],r=["min","max","mid","auto"];function s(c){var w=c._colorAx,h=w||c,o={},d,M,T;for(M=0;M<t.length;M++)T=t[M],o[T]=h[T];if(w)for(d="c",M=0;M<r.length;M++)T=r[M],o[T]=h["c"+T];else{var E;for(M=0;M<r.length;M++){if(T=r[M],E="c"+T,E in h){o[T]=h[E];continue}E="z"+T,E in h&&(o[T]=h[E])}d=E.charAt(0)}return o._sync=function(x,S){var b=r.indexOf(x)!==-1?d+x:x;h[b]=h["_"+b]=S},o}function n(c){for(var w=s(c),h=w.min,o=w.max,d=w.reversescale?l(w.colorscale):w.colorscale,M=d.length,T=new Array(M),E=new Array(M),x=0;x<M;x++){var S=d[x];T[x]=h+S[0]*(o-h),E[x]=S[1]}return{domain:T,range:E}}function l(c){for(var w=c.length,h=new Array(w),o=w-1,d=0;o>=0;o--,d++){var M=c[o];h[d]=[1-M[0],M[1]]}return h}function f(c,w){w=w||{};for(var h=c.domain,o=c.range,d=o.length,M=new Array(d),T=0;T<d;T++){var E=P(o[T]).toRgb();M[T]=[E.r,E.g,E.b,E.a]}var x=g.scale.linear().domain(h).range(M).clamp(!0),S=w.noNumericCheck,b=w.returnArray,a;return S&&b?a=x:S?a=function(C){return m(x(C))}:b?a=function(C){return i(C)?x(C):P(C).isValid()?C:A.defaultLine}:a=function(C){return i(C)?m(x(C)):P(C).isValid()?C:A.defaultLine},a.domain=x.domain,a.range=function(){return o},a}function u(c,w){return f(n(c),w)}function m(c){var w={r:c[0],g:c[1],b:c[2],a:c[3]};return P(w).toRgbString()}W.exports={hasColorscale:p,extractOpts:s,extractScale:n,flipScale:l,makeColorScaleFunc:f,makeColorScaleFuncFromTrace:u}},21081:function(W,H,e){var g=e(63282),P=e(52075);W.exports={moduleType:"component",name:"colorscale",attributes:e(50693),layoutAttributes:e(72673),supplyLayoutDefaults:e(30959),handleDefaults:e(1586),crossTraceDefaults:e(33046),calc:e(78803),scales:g.scales,defaultScale:g.defaultScale,getScale:g.get,isValidScale:g.isValid,hasColorscale:P.hasColorscale,extractOpts:P.extractOpts,extractScale:P.extractScale,flipScale:P.flipScale,makeColorScaleFunc:P.makeColorScaleFunc,makeColorScaleFuncFromTrace:P.makeColorScaleFuncFromTrace}},72673:function(W,H,e){var g=e(1426).extendFlat,P=e(50693),i=e(63282).scales;W.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:i.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:i.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:i.RdBu,editType:"calc"}},coloraxis:g({_isSubplotObj:!0,editType:"calc"},P("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(W,H,e){var g=e(71828),P=e(44467),i=e(72673),L=e(1586);W.exports=function(v,p){function t(c,w){return g.coerce(v,p,i,c,w)}t("colorscale.sequential"),t("colorscale.sequentialminus"),t("colorscale.diverging");var r=p._colorAxes,s,n;function l(c,w){return g.coerce(s,n,i.coloraxis,c,w)}for(var f in r){var u=r[f];if(u[0])s=v[f]||{},n=P.newContainer(p,f,"coloraxis"),n._name=f,L(s,n,p,l,{prefix:"",cLetter:"c"});else{for(var m=0;m<u[2].length;m++)u[2][m]();delete p._colorAxes[f]}}}},63282:function(W,H,e){var g=e(84267),P={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},i=P.RdBu;function L(p,t){if(t||(t=i),!p)return t;function r(){try{p=P[p]||JSON.parse(p)}catch{p=t}}return typeof p=="string"&&(r(),typeof p=="string"&&r()),A(p)?p:t}function A(p){var t=0;if(!Array.isArray(p)||p.length<2||!p[0]||!p[p.length-1]||+p[0][0]!=0||+p[p.length-1][0]!=1)return!1;for(var r=0;r<p.length;r++){var s=p[r];if(s.length!==2||+s[0]<t||!g(s[1]).isValid())return!1;t=+s[0]}return!0}function v(p){return P[p]!==void 0?!0:A(p)}W.exports={scales:P,defaultScale:i,get:L,isValid:v}},92807:function(W){W.exports=function(e,g,P,i,L){var A=(e-P)/(i-P),v=A+g/(i-P),p=(A+v)/2;return L==="left"||L==="bottom"?A:L==="center"||L==="middle"?p:L==="right"||L==="top"?v:A<.6666666666666666-p?A:v>1.3333333333333333-p?v:p}},70461:function(W,H,e){var g=e(71828),P=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];W.exports=function(L,A,v,p){return v==="left"?L=0:v==="center"?L=1:v==="right"?L=2:L=g.constrain(Math.floor(L*3),0,2),p==="bottom"?A=0:p==="middle"?A=1:p==="top"?A=2:A=g.constrain(Math.floor(A*3),0,2),P[A][L]}},64505:function(W,H){H.selectMode=function(e){return e==="lasso"||e==="select"},H.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},H.openMode=function(e){return e==="drawline"||e==="drawopenpath"},H.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},H.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},H.selectingOrDrawing=function(e){return H.freeMode(e)||H.rectMode(e)}},28569:function(W,H,e){var g=e(48956),P=e(57035),i=e(38520),L=e(71828).removeElement,A=e(85555),v=W.exports={};v.align=e(92807),v.getCursor=e(70461);var p=e(26041);v.unhover=p.wrapped,v.unhoverRaw=p.raw,v.init=function(n){var l=n.gd,f=1,u=l._context.doubleClickDelay,m=n.element,c,w,h,o,d,M,T,E;l._mouseDownTime||(l._mouseDownTime=0),m.style.pointerEvents="all",m.onmousedown=b,i?(m._ontouchstart&&m.removeEventListener("touchstart",m._ontouchstart),m._ontouchstart=b,m.addEventListener("touchstart",b,{passive:!1})):m.ontouchstart=b;function x(y,z,I){return Math.abs(y)<I&&(y=0),Math.abs(z)<I&&(z=0),[y,z]}var S=n.clampFn||x;function b(y){l._dragged=!1,l._dragging=!0;var z=r(y);c=z[0],w=z[1],T=y.target,M=y,E=y.buttons===2||y.ctrlKey,typeof y.clientX>"u"&&typeof y.clientY>"u"&&(y.clientX=c,y.clientY=w),h=new Date().getTime(),h-l._mouseDownTime<u?f+=1:(f=1,l._mouseDownTime=h),n.prepFn&&n.prepFn(y,c,w),P&&!E?(d=t(),d.style.cursor=window.getComputedStyle(m).cursor):P||(d=document,o=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(m).cursor),document.addEventListener("mouseup",C),document.addEventListener("touchend",C),n.dragmode!==!1&&(y.preventDefault(),document.addEventListener("mousemove",a),document.addEventListener("touchmove",a,{passive:!1}))}function a(y){y.preventDefault();var z=r(y),I=n.minDrag||A.MINDRAG,B=S(z[0]-c,z[1]-w,I),F=B[0],O=B[1];(F||O)&&(l._dragged=!0,v.unhover(l,y)),l._dragged&&n.moveFn&&!E&&(l._dragdata={element:m,dx:F,dy:O},n.moveFn(F,O))}function C(y){if(delete l._dragdata,n.dragmode!==!1&&(y.preventDefault(),document.removeEventListener("mousemove",a),document.removeEventListener("touchmove",a)),document.removeEventListener("mouseup",C),document.removeEventListener("touchend",C),P?L(d):o&&(d.documentElement.style.cursor=o,o=null),!l._dragging){l._dragged=!1;return}if(l._dragging=!1,new Date().getTime()-l._mouseDownTime>u&&(f=Math.max(f-1,1)),l._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(f,M),!E){var z;try{z=new MouseEvent("click",y)}catch{var I=r(y);z=document.createEvent("MouseEvents"),z.initMouseEvent("click",y.bubbles,y.cancelable,y.view,y.detail,y.screenX,y.screenY,I[0],I[1],y.ctrlKey,y.altKey,y.shiftKey,y.metaKey,y.button,y.relatedTarget)}T.dispatchEvent(z)}l._dragging=!1,l._dragged=!1}};function t(){var s=document.createElement("div");s.className="dragcover";var n=s.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(s),s}v.coverSlip=t;function r(s){return g(s.changedTouches?s.changedTouches[0]:s,document.body)}},26041:function(W,H,e){var g=e(11086),P=e(79990),i=e(24401).getGraphDiv,L=e(26675),A=W.exports={};A.wrapped=function(v,p,t){v=i(v),v._fullLayout&&P.clear(v._fullLayout._uid+L.HOVERID),A.raw(v,p,t)},A.raw=function(p,t){var r=p._fullLayout,s=p._hoverdata;t||(t={}),!(t.target&&!p._dragged&&g.triggerHandler(p,"plotly_beforehover",t)===!1)&&(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),p._hoverdata=void 0,t.target&&s&&p.emit("plotly_unhover",{event:t,points:s}))}},79952:function(W,H){H.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},H.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(W,H,e){var g=e(39898),P=e(71828),i=P.numberFormat,L=e(92770),A=e(84267),v=e(73972),p=e(7901),t=e(21081),r=P.strTranslate,s=e(63893),n=e(77922),l=e(18783),f=l.LINE_SPACING,u=e(37822).DESELECTDIM,m=e(34098),c=e(39984),w=e(23469).appendArrayPointValue,h=W.exports={};h.font=function(Ce,xe,Se,He){P.isPlainObject(xe)&&(He=xe.color,Se=xe.size,xe=xe.family),xe&&Ce.style("font-family",xe),Se+1&&Ce.style("font-size",Se+"px"),He&&Ce.call(p.fill,He)},h.setPosition=function(Ce,xe,Se){Ce.attr("x",xe).attr("y",Se)},h.setSize=function(Ce,xe,Se){Ce.attr("width",xe).attr("height",Se)},h.setRect=function(Ce,xe,Se,He,Ge){Ce.call(h.setPosition,xe,Se).call(h.setSize,He,Ge)},h.translatePoint=function(Ce,xe,Se,He){var Ge=Se.c2p(Ce.x),ke=He.c2p(Ce.y);if(L(Ge)&&L(ke)&&xe.node())xe.node().nodeName==="text"?xe.attr("x",Ge).attr("y",ke):xe.attr("transform",r(Ge,ke));else return!1;return!0},h.translatePoints=function(Ce,xe,Se){Ce.each(function(He){var Ge=g.select(this);h.translatePoint(He,Ge,xe,Se)})},h.hideOutsideRangePoint=function(Ce,xe,Se,He,Ge,ke){xe.attr("display",Se.isPtWithinRange(Ce,Ge)&&He.isPtWithinRange(Ce,ke)?null:"none")},h.hideOutsideRangePoints=function(Ce,xe){if(xe._hasClipOnAxisFalse){var Se=xe.xaxis,He=xe.yaxis;Ce.each(function(Ge){var ke=Ge[0].trace,We=ke.xcalendar,it=ke.ycalendar,et=v.traceIs(ke,"bar-like")?".bartext":".point,.textpoint";Ce.selectAll(et).each(function(tt){h.hideOutsideRangePoint(tt,g.select(this),Se,He,We,it)})})}},h.crispRound=function(Ce,xe,Se){return!xe||!L(xe)?Se||0:Ce._context.staticPlot?xe:xe<1?1:Math.round(xe)},h.singleLineStyle=function(Ce,xe,Se,He,Ge){xe.style("fill","none");var ke=(((Ce||[])[0]||{}).trace||{}).line||{},We=Se||ke.width||0,it=Ge||ke.dash||"";p.stroke(xe,He||ke.color),h.dashLine(xe,it,We)},h.lineGroupStyle=function(Ce,xe,Se,He){Ce.style("fill","none").each(function(Ge){var ke=(((Ge||[])[0]||{}).trace||{}).line||{},We=xe||ke.width||0,it=He||ke.dash||"";g.select(this).call(p.stroke,Se||ke.color).call(h.dashLine,it,We)})},h.dashLine=function(Ce,xe,Se){Se=+Se||0,xe=h.dashStyle(xe,Se),Ce.style({"stroke-dasharray":xe,"stroke-width":Se+"px"})},h.dashStyle=function(Ce,xe){xe=+xe||1;var Se=Math.max(xe,3);return Ce==="solid"?Ce="":Ce==="dot"?Ce=Se+"px,"+Se+"px":Ce==="dash"?Ce=3*Se+"px,"+3*Se+"px":Ce==="longdash"?Ce=5*Se+"px,"+5*Se+"px":Ce==="dashdot"?Ce=3*Se+"px,"+Se+"px,"+Se+"px,"+Se+"px":Ce==="longdashdot"&&(Ce=5*Se+"px,"+2*Se+"px,"+Se+"px,"+2*Se+"px"),Ce};function o(Ce,xe,Se){var He=xe.fillpattern,Ge=He&&h.getPatternAttr(He.shape,0,"");if(Ge){var ke=h.getPatternAttr(He.bgcolor,0,null),We=h.getPatternAttr(He.fgcolor,0,null),it=He.fgopacity,et=h.getPatternAttr(He.size,0,8),tt=h.getPatternAttr(He.solidity,0,.3),at=xe.uid;h.pattern(Ce,"point",Se,at,Ge,et,tt,void 0,He.fillmode,ke,We,it)}else xe.fillcolor&&Ce.call(p.fill,xe.fillcolor)}h.singleFillStyle=function(Ce,xe){var Se=g.select(Ce.node()),He=Se.data(),Ge=((He[0]||[])[0]||{}).trace||{};o(Ce,Ge,xe)},h.fillGroupStyle=function(Ce,xe){Ce.style("stroke-width",0).each(function(Se){var He=g.select(this);Se[0].trace&&o(He,Se[0].trace,xe)})};var d=e(90998);h.symbolNames=[],h.symbolFuncs=[],h.symbolBackOffs=[],h.symbolNeedLines={},h.symbolNoDot={},h.symbolNoFill={},h.symbolList=[],Object.keys(d).forEach(function(Ce){var xe=d[Ce],Se=xe.n;h.symbolList.push(Se,String(Se),Ce,Se+100,String(Se+100),Ce+"-open"),h.symbolNames[Se]=Ce,h.symbolFuncs[Se]=xe.f,h.symbolBackOffs[Se]=xe.backoff||0,xe.needLine&&(h.symbolNeedLines[Se]=!0),xe.noDot?h.symbolNoDot[Se]=!0:h.symbolList.push(Se+200,String(Se+200),Ce+"-dot",Se+300,String(Se+300),Ce+"-open-dot"),xe.noFill&&(h.symbolNoFill[Se]=!0)});var M=h.symbolNames.length,T="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";h.symbolNumber=function(Ce){if(L(Ce))Ce=+Ce;else if(typeof Ce=="string"){var xe=0;Ce.indexOf("-open")>0&&(xe=100,Ce=Ce.replace("-open","")),Ce.indexOf("-dot")>0&&(xe+=200,Ce=Ce.replace("-dot","")),Ce=h.symbolNames.indexOf(Ce),Ce>=0&&(Ce+=xe)}return Ce%100>=M||Ce>=400?0:Math.floor(Math.max(Ce,0))};function E(Ce,xe,Se,He){var Ge=Ce%100;return h.symbolFuncs[Ge](xe,Se,He)+(Ce>=200?T:"")}var x={x1:1,x2:0,y1:0,y2:0},S={x1:0,x2:0,y1:1,y2:0},b=i("~f"),a={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:x},horizontalreversed:{node:"linearGradient",attrs:x,reversed:!0},vertical:{node:"linearGradient",attrs:S},verticalreversed:{node:"linearGradient",attrs:S,reversed:!0}};h.gradient=function(Ce,xe,Se,He,Ge,ke){for(var We=Ge.length,it=a[He],et=new Array(We),tt=0;tt<We;tt++)it.reversed?et[We-1-tt]=[b((1-Ge[tt][0])*100),Ge[tt][1]]:et[tt]=[b(Ge[tt][0]*100),Ge[tt][1]];var at=xe._fullLayout,ht="g"+at._uid+"-"+Se,yt=at._defs.select(".gradients").selectAll("#"+ht).data([He+et.join(";")],P.identity);yt.exit().remove(),yt.enter().append(it.node).each(function(){var gt=g.select(this);it.attrs&&gt.attr(it.attrs),gt.attr("id",ht);var Et=gt.selectAll("stop").data(et);Et.exit().remove(),Et.enter().append("stop"),Et.each(function(Ct){var Vt=A(Ct[1]);g.select(this).attr({offset:Ct[0]+"%","stop-color":p.tinyRGB(Vt),"stop-opacity":Vt.getAlpha()})})}),Ce.style(ke,j(ht,xe)).style(ke+"-opacity",null),Ce.classed("gradient_filled",!0)},h.pattern=function(Ce,xe,Se,He,Ge,ke,We,it,et,tt,at,ht){var yt=xe==="legend";it&&(et==="overlay"?(tt=it,at=p.contrast(tt)):(tt=void 0,at=it));var gt=Se._fullLayout,Et="p"+gt._uid+"-"+He,Ct,Vt,Qe=function(vt,bt,Wt,qt,At){return qt+(At-qt)*(vt-bt)/(Wt-bt)},Fe,Ie,ze,Re,be={},ye=A(at),Ae=p.tinyRGB(ye),Ee=ye.getAlpha(),Ne=ht*Ee;switch(Ge){case"/":Ct=ke*Math.sqrt(2),Vt=ke*Math.sqrt(2),Fe="M-"+Ct/4+","+Vt/4+"l"+Ct/2+",-"+Vt/2+"M0,"+Vt+"L"+Ct+",0M"+Ct/4*3+","+Vt/4*5+"l"+Ct/2+",-"+Vt/2,Ie=We*ke,Re="path",be={d:Fe,opacity:Ne,stroke:Ae,"stroke-width":Ie+"px"};break;case"\\":Ct=ke*Math.sqrt(2),Vt=ke*Math.sqrt(2),Fe="M"+Ct/4*3+",-"+Vt/4+"l"+Ct/2+","+Vt/2+"M0,0L"+Ct+","+Vt+"M-"+Ct/4+","+Vt/4*3+"l"+Ct/2+","+Vt/2,Ie=We*ke,Re="path",be={d:Fe,opacity:Ne,stroke:Ae,"stroke-width":Ie+"px"};break;case"x":Ct=ke*Math.sqrt(2),Vt=ke*Math.sqrt(2),Fe="M-"+Ct/4+","+Vt/4+"l"+Ct/2+",-"+Vt/2+"M0,"+Vt+"L"+Ct+",0M"+Ct/4*3+","+Vt/4*5+"l"+Ct/2+",-"+Vt/2+"M"+Ct/4*3+",-"+Vt/4+"l"+Ct/2+","+Vt/2+"M0,0L"+Ct+","+Vt+"M-"+Ct/4+","+Vt/4*3+"l"+Ct/2+","+Vt/2,Ie=ke-ke*Math.sqrt(1-We),Re="path",be={d:Fe,opacity:Ne,stroke:Ae,"stroke-width":Ie+"px"};break;case"|":Ct=ke,Vt=ke,Re="path",Fe="M"+Ct/2+",0L"+Ct/2+","+Vt,Ie=We*ke,Re="path",be={d:Fe,opacity:Ne,stroke:Ae,"stroke-width":Ie+"px"};break;case"-":Ct=ke,Vt=ke,Re="path",Fe="M0,"+Vt/2+"L"+Ct+","+Vt/2,Ie=We*ke,Re="path",be={d:Fe,opacity:Ne,stroke:Ae,"stroke-width":Ie+"px"};break;case"+":Ct=ke,Vt=ke,Re="path",Fe="M"+Ct/2+",0L"+Ct/2+","+Vt+"M0,"+Vt/2+"L"+Ct+","+Vt/2,Ie=ke-ke*Math.sqrt(1-We),Re="path",be={d:Fe,opacity:Ne,stroke:Ae,"stroke-width":Ie+"px"};break;case".":Ct=ke,Vt=ke,We<Math.PI/4?ze=Math.sqrt(We*ke*ke/Math.PI):ze=Qe(We,Math.PI/4,1,ke/2,ke/Math.sqrt(2)),Re="circle",be={cx:Ct/2,cy:Vt/2,r:ze,opacity:Ne,fill:Ae};break}var Je=[Ge||"noSh",tt||"noBg",at||"noFg",ke,We].join(";"),qe=gt._defs.select(".patterns").selectAll("#"+Et).data([Je],P.identity);qe.exit().remove(),qe.enter().append("pattern").each(function(){var vt=g.select(this);if(vt.attr({id:Et,width:Ct+"px",height:Vt+"px",patternUnits:"userSpaceOnUse",patternTransform:yt?"scale(0.8)":""}),tt){var bt=A(tt),Wt=p.tinyRGB(bt),qt=bt.getAlpha(),At=vt.selectAll("rect").data([0]);At.exit().remove(),At.enter().append("rect").attr({width:Ct+"px",height:Vt+"px",fill:Wt,"fill-opacity":qt})}var zt=vt.selectAll(Re).data([0]);zt.exit().remove(),zt.enter().append(Re).attr(be)}),Ce.style("fill",j(Et,Se)).style("fill-opacity",null),Ce.classed("pattern_filled",!0)},h.initGradients=function(Ce){var xe=Ce._fullLayout,Se=P.ensureSingle(xe._defs,"g","gradients");Se.selectAll("linearGradient,radialGradient").remove(),g.select(Ce).selectAll(".gradient_filled").classed("gradient_filled",!1)},h.initPatterns=function(Ce){var xe=Ce._fullLayout,Se=P.ensureSingle(xe._defs,"g","patterns");Se.selectAll("pattern").remove(),g.select(Ce).selectAll(".pattern_filled").classed("pattern_filled",!1)},h.getPatternAttr=function(Ce,xe,Se){return Ce&&P.isArrayOrTypedArray(Ce)?xe<Ce.length?Ce[xe]:Se:Ce},h.pointStyle=function(Ce,xe,Se,He){if(Ce.size()){var Ge=h.makePointStyleFns(xe);Ce.each(function(ke){h.singlePointStyle(ke,g.select(this),xe,Ge,Se,He)})}},h.singlePointStyle=function(Ce,xe,Se,He,Ge,ke){var We=Se.marker,it=We.line;if(ke&&ke.i>=0&&Ce.i===void 0&&(Ce.i=ke.i),xe.style("opacity",He.selectedOpacityFn?He.selectedOpacityFn(Ce):Ce.mo===void 0?We.opacity:Ce.mo),He.ms2mrc){var et;Ce.ms==="various"||We.size==="various"?et=3:et=He.ms2mrc(Ce.ms),Ce.mrc=et,He.selectedSizeFn&&(et=Ce.mrc=He.selectedSizeFn(Ce));var tt=h.symbolNumber(Ce.mx||We.symbol)||0;Ce.om=tt%200>=100;var at=Be(Ce,Se),ht=ee(Ce,Se);xe.attr("d",E(tt,et,at,ht))}var yt=!1,gt,Et,Ct;if(Ce.so)Ct=it.outlierwidth,Et=it.outliercolor,gt=We.outliercolor;else{var Vt=(it||{}).width;Ct=(Ce.mlw+1||Vt+1||(Ce.trace?(Ce.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Ce?Et=Ce.mlcc=He.lineScale(Ce.mlc):P.isArrayOrTypedArray(it.color)?Et=p.defaultLine:Et=it.color,P.isArrayOrTypedArray(We.color)&&(gt=p.defaultLine,yt=!0),"mc"in Ce?gt=Ce.mcc=He.markerScale(Ce.mc):gt=We.color||We.colors||"rgba(0,0,0,0)",He.selectedColorFn&&(gt=He.selectedColorFn(Ce))}if(Ce.om)xe.call(p.stroke,gt).style({"stroke-width":(Ct||1)+"px",fill:"none"});else{xe.style("stroke-width",(Ce.isBlank?0:Ct)+"px");var Qe=We.gradient,Fe=Ce.mgt;Fe?yt=!0:Fe=Qe&&Qe.type,P.isArrayOrTypedArray(Fe)&&(Fe=Fe[0],a[Fe]||(Fe=0));var Ie=We.pattern,ze=Ie&&h.getPatternAttr(Ie.shape,Ce.i,"");if(Fe&&Fe!=="none"){var Re=Ce.mgc;Re?yt=!0:Re=Qe.color;var be=Se.uid;yt&&(be+="-"+Ce.i),h.gradient(xe,Ge,be,Fe,[[0,Re],[1,gt]],"fill")}else if(ze){var ye=!1,Ae=Ie.fgcolor;!Ae&&ke&&ke.color&&(Ae=ke.color,ye=!0);var Ee=h.getPatternAttr(Ae,Ce.i,ke&&ke.color||null),Ne=h.getPatternAttr(Ie.bgcolor,Ce.i,null),Je=Ie.fgopacity,qe=h.getPatternAttr(Ie.size,Ce.i,8),vt=h.getPatternAttr(Ie.solidity,Ce.i,.3);ye=ye||Ce.mcc||P.isArrayOrTypedArray(Ie.shape)||P.isArrayOrTypedArray(Ie.bgcolor)||P.isArrayOrTypedArray(Ie.fgcolor)||P.isArrayOrTypedArray(Ie.size)||P.isArrayOrTypedArray(Ie.solidity);var bt=Se.uid;ye&&(bt+="-"+Ce.i),h.pattern(xe,"point",Ge,bt,ze,qe,vt,Ce.mcc,Ie.fillmode,Ne,Ee,Je)}else P.isArrayOrTypedArray(gt)?p.fill(xe,gt[Ce.i]):p.fill(xe,gt);Ct&&p.stroke(xe,Et)}},h.makePointStyleFns=function(Ce){var xe={},Se=Ce.marker;return xe.markerScale=h.tryColorscale(Se,""),xe.lineScale=h.tryColorscale(Se,"line"),v.traceIs(Ce,"symbols")&&(xe.ms2mrc=m.isBubble(Ce)?c(Ce):function(){return(Se.size||6)/2}),Ce.selectedpoints&&P.extendFlat(xe,h.makeSelectedPointStyleFns(Ce)),xe},h.makeSelectedPointStyleFns=function(Ce){var xe={},Se=Ce.selected||{},He=Ce.unselected||{},Ge=Ce.marker||{},ke=Se.marker||{},We=He.marker||{},it=Ge.opacity,et=ke.opacity,tt=We.opacity,at=et!==void 0,ht=tt!==void 0;(P.isArrayOrTypedArray(it)||at||ht)&&(xe.selectedOpacityFn=function(ze){var Re=ze.mo===void 0?Ge.opacity:ze.mo;return ze.selected?at?et:Re:ht?tt:u*Re});var yt=Ge.color,gt=ke.color,Et=We.color;(gt||Et)&&(xe.selectedColorFn=function(ze){var Re=ze.mcc||yt;return ze.selected?gt||Re:Et||Re});var Ct=Ge.size,Vt=ke.size,Qe=We.size,Fe=Vt!==void 0,Ie=Qe!==void 0;return v.traceIs(Ce,"symbols")&&(Fe||Ie)&&(xe.selectedSizeFn=function(ze){var Re=ze.mrc||Ct/2;return ze.selected?Fe?Vt/2:Re:Ie?Qe/2:Re}),xe},h.makeSelectedTextStyleFns=function(Ce){var xe={},Se=Ce.selected||{},He=Ce.unselected||{},Ge=Ce.textfont||{},ke=Se.textfont||{},We=He.textfont||{},it=Ge.color,et=ke.color,tt=We.color;return xe.selectedTextColorFn=function(at){var ht=at.tc||it;return at.selected?et||ht:tt||(et?ht:p.addOpacity(ht,u))},xe},h.selectedPointStyle=function(Ce,xe){if(!(!Ce.size()||!xe.selectedpoints)){var Se=h.makeSelectedPointStyleFns(xe),He=xe.marker||{},Ge=[];Se.selectedOpacityFn&&Ge.push(function(ke,We){ke.style("opacity",Se.selectedOpacityFn(We))}),Se.selectedColorFn&&Ge.push(function(ke,We){p.fill(ke,Se.selectedColorFn(We))}),Se.selectedSizeFn&&Ge.push(function(ke,We){var it=We.mx||He.symbol||0,et=Se.selectedSizeFn(We);ke.attr("d",E(h.symbolNumber(it),et,Be(We,xe),ee(We,xe))),We.mrc2=et}),Ge.length&&Ce.each(function(ke){for(var We=g.select(this),it=0;it<Ge.length;it++)Ge[it](We,ke)})}},h.tryColorscale=function(Ce,xe){var Se=xe?P.nestedProperty(Ce,xe).get():Ce;if(Se){var He=Se.color;if((Se.colorscale||Se._colorAx)&&P.isArrayOrTypedArray(He))return t.makeColorScaleFuncFromTrace(Se)}return P.identity};var C={start:1,end:-1,middle:0,bottom:1,top:-1};function y(Ce,xe,Se,He,Ge){var ke=g.select(Ce.node().parentNode),We=xe.indexOf("top")!==-1?"top":xe.indexOf("bottom")!==-1?"bottom":"middle",it=xe.indexOf("left")!==-1?"end":xe.indexOf("right")!==-1?"start":"middle",et=He?He/.8+1:0,tt=(s.lineCount(Ce)-1)*f+1,at=C[it]*et,ht=Se*.75+C[We]*et+(C[We]-1)*tt*Se/2;Ce.attr("text-anchor",it),Ge||ke.attr("transform",r(at,ht))}function z(Ce,xe){var Se=Ce.ts||xe.textfont.size;return L(Se)&&Se>0?Se:0}h.textPointStyle=function(Ce,xe,Se){if(Ce.size()){var He;if(xe.selectedpoints){var Ge=h.makeSelectedTextStyleFns(xe);He=Ge.selectedTextColorFn}var ke=xe.texttemplate,We=Se._fullLayout;Ce.each(function(it){var et=g.select(this),tt=ke?P.extractOption(it,xe,"txt","texttemplate"):P.extractOption(it,xe,"tx","text");if(!tt&&tt!==0){et.remove();return}if(ke){var at=xe._module.formatLabels,ht=at?at(it,xe,We):{},yt={};w(yt,xe,it.i);var gt=xe._meta||{};tt=P.texttemplateString(tt,ht,We._d3locale,yt,it,gt)}var Et=it.tp||xe.textposition,Ct=z(it,xe),Vt=He?He(it):it.tc||xe.textfont.color;et.call(h.font,it.tf||xe.textfont.family,Ct,Vt).text(tt).call(s.convertToTspans,Se).call(y,Et,Ct,it.mrc)})}},h.selectedTextStyle=function(Ce,xe){if(!(!Ce.size()||!xe.selectedpoints)){var Se=h.makeSelectedTextStyleFns(xe);Ce.each(function(He){var Ge=g.select(this),ke=Se.selectedTextColorFn(He),We=He.tp||xe.textposition,it=z(He,xe);p.fill(Ge,ke);var et=v.traceIs(xe,"bar-like");y(Ge,We,it,He.mrc2||He.mrc,et)})}};var I=.5;h.smoothopen=function(Ce,xe){if(Ce.length<3)return"M"+Ce.join("L");var Se="M"+Ce[0],He=[],Ge;for(Ge=1;Ge<Ce.length-1;Ge++)He.push(U(Ce[Ge-1],Ce[Ge],Ce[Ge+1],xe));for(Se+="Q"+He[0][0]+" "+Ce[1],Ge=2;Ge<Ce.length-1;Ge++)Se+="C"+He[Ge-2][1]+" "+He[Ge-1][0]+" "+Ce[Ge];return Se+="Q"+He[Ce.length-3][1]+" "+Ce[Ce.length-1],Se},h.smoothclosed=function(Ce,xe){if(Ce.length<3)return"M"+Ce.join("L")+"Z";var Se="M"+Ce[0],He=Ce.length-1,Ge=[U(Ce[He],Ce[0],Ce[1],xe)],ke;for(ke=1;ke<He;ke++)Ge.push(U(Ce[ke-1],Ce[ke],Ce[ke+1],xe));for(Ge.push(U(Ce[He-1],Ce[He],Ce[0],xe)),ke=1;ke<=He;ke++)Se+="C"+Ge[ke-1][1]+" "+Ge[ke][0]+" "+Ce[ke];return Se+="C"+Ge[He][1]+" "+Ge[0][0]+" "+Ce[0]+"Z",Se};var B,F;function O(Ce,xe,Se){return Se&&(Ce=re(Ce)),xe?_(Ce[1]):N(Ce[0])}function N(Ce){var xe=g.round(Ce,2);return B=xe,xe}function _(Ce){var xe=g.round(Ce,2);return F=xe,xe}function U(Ce,xe,Se,He){var Ge=Ce[0]-xe[0],ke=Ce[1]-xe[1],We=Se[0]-xe[0],it=Se[1]-xe[1],et=Math.pow(Ge*Ge+ke*ke,I/2),tt=Math.pow(We*We+it*it,I/2),at=(tt*tt*Ge-et*et*We)*He,ht=(tt*tt*ke-et*et*it)*He,yt=3*tt*(et+tt),gt=3*et*(et+tt);return[[N(xe[0]+(yt&&at/yt)),_(xe[1]+(yt&&ht/yt))],[N(xe[0]-(gt&&at/gt)),_(xe[1]-(gt&&ht/gt))]]}var Y={hv:function(Ce,xe,Se){return"H"+N(xe[0])+"V"+O(xe,1,Se)},vh:function(Ce,xe,Se){return"V"+_(xe[1])+"H"+O(xe,0,Se)},hvh:function(Ce,xe,Se){return"H"+N((Ce[0]+xe[0])/2)+"V"+_(xe[1])+"H"+O(xe,0,Se)},vhv:function(Ce,xe,Se){return"V"+_((Ce[1]+xe[1])/2)+"H"+N(xe[0])+"V"+O(xe,1,Se)}},K=function(Ce,xe,Se){return"L"+O(xe,0,Se)+","+O(xe,1,Se)};h.steps=function(Ce){var xe=Y[Ce]||K;return function(Se){for(var He="M"+N(Se[0][0])+","+_(Se[0][1]),Ge=Se.length,ke=1;ke<Ge;ke++)He+=xe(Se[ke-1],Se[ke],ke===Ge-1);return He}};function re(Ce,xe){var Se=Ce.backoff,He=Ce.trace,Ge=Ce.d,ke=Ce.i;if(Se&&He&&He.marker&&He.marker.angle%360===0&&He.line&&He.line.shape!=="spline"){var We=P.isArrayOrTypedArray(Se),it=Ce,et=xe?xe[0]:B||0,tt=xe?xe[1]:F||0,at=it[0],ht=it[1],yt=at-et,gt=ht-tt,Et=Math.atan2(gt,yt),Ct=We?Se[ke]:Se;if(Ct==="auto"){var Vt=it.i;He.type==="scatter"&&Vt--;var Qe=it.marker,Fe=Qe.symbol;P.isArrayOrTypedArray(Fe)&&(Fe=Fe[Vt]);var Ie=Qe.size;P.isArrayOrTypedArray(Ie)&&(Ie=Ie[Vt]),Ct=Qe?h.symbolBackOffs[h.symbolNumber(Fe)]*Ie:0,Ct+=h.getMarkerStandoff(Ge[Vt],He)||0}var ze=at-Ct*Math.cos(Et),Re=ht-Ct*Math.sin(Et);(ze<=at&&ze>=et||ze>=at&&ze<=et)&&(Re<=ht&&Re>=tt||Re>=ht&&Re<=tt)&&(Ce=[ze,Re])}return Ce}h.applyBackoff=re,h.makeTester=function(){var Ce=P.ensureSingleById(g.select("body"),"svg","js-plotly-tester",function(Se){Se.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),xe=P.ensureSingle(Ce,"path","js-reference-point",function(Se){Se.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});h.tester=Ce,h.testref=xe},h.savedBBoxes={};var ae=0,fe=1e4;h.bBox=function(Ce,xe,Se){Se||(Se=Q(Ce));var He;if(Se){if(He=h.savedBBoxes[Se],He)return P.extendFlat({},He)}else if(Ce.childNodes.length===1){var Ge=Ce.childNodes[0];if(Se=Q(Ge),Se){var ke=+Ge.getAttribute("x")||0,We=+Ge.getAttribute("y")||0,it=Ge.getAttribute("transform");if(!it){var et=h.bBox(Ge,!1,Se);return ke&&(et.left+=ke,et.right+=ke),We&&(et.top+=We,et.bottom+=We),et}if(Se+="~"+ke+"~"+We+"~"+it,He=h.savedBBoxes[Se],He)return P.extendFlat({},He)}}var tt,at;xe?tt=Ce:(at=h.tester.node(),tt=Ce.cloneNode(!0),at.appendChild(tt)),g.select(tt).attr("transform",null).call(s.positionText,0,0);var ht=tt.getBoundingClientRect(),yt=h.testref.node().getBoundingClientRect();xe||at.removeChild(tt);var gt={height:ht.height,width:ht.width,left:ht.left-yt.left,top:ht.top-yt.top,right:ht.right-yt.left,bottom:ht.bottom-yt.top};return ae>=fe&&(h.savedBBoxes={},ae=0),Se&&(h.savedBBoxes[Se]=gt),ae++,P.extendFlat({},gt)};function Q(Ce){var xe=Ce.getAttribute("data-unformatted");if(xe!==null)return xe+Ce.getAttribute("data-math")+Ce.getAttribute("text-anchor")+Ce.getAttribute("style")}h.setClipUrl=function(Ce,xe,Se){Ce.attr("clip-path",j(xe,Se))};function j(Ce,xe){if(!Ce)return null;var Se=xe._context,He=Se._exportedPlot?"":Se._baseUrl||"";return He?"url('"+He+"#"+Ce+"')":"url(#"+Ce+")"}h.getTranslate=function(Ce){var xe=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,Se=Ce.attr?"attr":"getAttribute",He=Ce[Se]("transform")||"",Ge=He.replace(xe,function(ke,We,it){return[We,it].join(" ")}).split(" ");return{x:+Ge[0]||0,y:+Ge[1]||0}},h.setTranslate=function(Ce,xe,Se){var He=/(\btranslate\(.*?\);?)/,Ge=Ce.attr?"attr":"getAttribute",ke=Ce.attr?"attr":"setAttribute",We=Ce[Ge]("transform")||"";return xe=xe||0,Se=Se||0,We=We.replace(He,"").trim(),We+=r(xe,Se),We=We.trim(),Ce[ke]("transform",We),We},h.getScale=function(Ce){var xe=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,Se=Ce.attr?"attr":"getAttribute",He=Ce[Se]("transform")||"",Ge=He.replace(xe,function(ke,We,it){return[We,it].join(" ")}).split(" ");return{x:+Ge[0]||1,y:+Ge[1]||1}},h.setScale=function(Ce,xe,Se){var He=/(\bscale\(.*?\);?)/,Ge=Ce.attr?"attr":"getAttribute",ke=Ce.attr?"attr":"setAttribute",We=Ce[Ge]("transform")||"";return xe=xe||1,Se=Se||1,We=We.replace(He,"").trim(),We+="scale("+xe+","+Se+")",We=We.trim(),Ce[ke]("transform",We),We};var X=/\s*sc.*/;h.setPointGroupScale=function(Ce,xe,Se){if(xe=xe||1,Se=Se||1,!!Ce){var He=xe===1&&Se===1?"":"scale("+xe+","+Se+")";Ce.each(function(){var Ge=(this.getAttribute("transform")||"").replace(X,"");Ge+=He,Ge=Ge.trim(),this.setAttribute("transform",Ge)})}};var J=/translate\([^)]*\)\s*$/;h.setTextPointsScale=function(Ce,xe,Se){Ce&&Ce.each(function(){var He,Ge=g.select(this),ke=Ge.select("text");if(ke.node()){var We=parseFloat(ke.attr("x")||0),it=parseFloat(ke.attr("y")||0),et=(Ge.attr("transform")||"").match(J);xe===1&&Se===1?He=[]:He=[r(We,it),"scale("+xe+","+Se+")",r(-We,-it)],et&&He.push(et),Ge.attr("transform",He.join(""))}})};function ee(Ce,xe){var Se;return Ce&&(Se=Ce.mf),Se===void 0&&(Se=xe.marker&&xe.marker.standoff||0),!xe._geo&&!xe._xA?-Se:Se}h.getMarkerStandoff=ee;var se=Math.atan2,q=Math.cos,$=Math.sin;function le(Ce,xe){var Se=xe[0],He=xe[1];return[Se*q(Ce)-He*$(Ce),Se*$(Ce)+He*q(Ce)]}var ie,ce,me,Me,we,Oe;function Be(Ce,xe){var Se=Ce.ma;Se===void 0&&(Se=xe.marker.angle||0);var He,Ge,ke=xe.marker.angleref;if(ke==="previous"||ke==="north"){if(xe._geo){var We=xe._geo.project(Ce.lonlat);He=We[0],Ge=We[1]}else{var it=xe._xA,et=xe._yA;if(it&&et)He=it.c2p(Ce.x),Ge=et.c2p(Ce.y);else return 90}if(xe._geo){var tt=Ce.lonlat[0],at=Ce.lonlat[1],ht=xe._geo.project([tt,at+1e-5]),yt=xe._geo.project([tt+1e-5,at]),gt=se(yt[1]-Ge,yt[0]-He),Et=se(ht[1]-Ge,ht[0]-He),Ct;if(ke==="north")Ct=Se/180*Math.PI;else if(ke==="previous"){var Vt=tt/180*Math.PI,Qe=at/180*Math.PI,Fe=ie/180*Math.PI,Ie=ce/180*Math.PI,ze=Fe-Vt,Re=q(Ie)*$(ze),be=$(Ie)*q(Qe)-q(Ie)*$(Qe)*q(ze);Ct=-se(Re,be)-Math.PI,ie=tt,ce=at}var ye=le(gt,[q(Ct),0]),Ae=le(Et,[$(Ct),0]);Se=se(ye[1]+Ae[1],ye[0]+Ae[0])/Math.PI*180,ke==="previous"&&!(Oe===xe.uid&&Ce.i===we+1)&&(Se=null)}if(ke==="previous"&&!xe._geo)if(Oe===xe.uid&&Ce.i===we+1&&L(He)&&L(Ge)){var Ee=He-me,Ne=Ge-Me,Je=xe.line&&xe.line.shape||"",qe=Je.slice(Je.length-1);qe==="h"&&(Ne=0),qe==="v"&&(Ee=0),Se+=se(Ne,Ee)/Math.PI*180+90}else Se=null}return me=He,Me=Ge,we=Ce.i,Oe=xe.uid,Se}h.getMarkerAngle=Be},90998:function(W,H,e){var g=e(95616),P=e(39898).round,i="M0,0Z",L=Math.sqrt(2),A=Math.sqrt(3),v=Math.PI,p=Math.cos,t=Math.sin;W.exports={circle:{n:0,f:function(m,c,w){if(r(c))return i;var h=P(m,2),o="M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z";return w?u(c,w,o):o}},square:{n:1,f:function(m,c,w){if(r(c))return i;var h=P(m,2);return u(c,w,"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")}},diamond:{n:2,f:function(m,c,w){if(r(c))return i;var h=P(m*1.3,2);return u(c,w,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"Z")}},cross:{n:3,f:function(m,c,w){if(r(c))return i;var h=P(m*.4,2),o=P(m*1.2,2);return u(c,w,"M"+o+","+h+"H"+h+"V"+o+"H-"+h+"V"+h+"H-"+o+"V-"+h+"H-"+h+"V-"+o+"H"+h+"V-"+h+"H"+o+"Z")}},x:{n:4,f:function(m,c,w){if(r(c))return i;var h=P(m*.8/L,2),o="l"+h+","+h,d="l"+h+",-"+h,M="l-"+h+",-"+h,T="l-"+h+","+h;return u(c,w,"M0,"+h+o+d+M+d+M+T+M+T+o+T+o+"Z")}},"triangle-up":{n:5,f:function(m,c,w){if(r(c))return i;var h=P(m*2/A,2),o=P(m/2,2),d=P(m,2);return u(c,w,"M-"+h+","+o+"H"+h+"L0,-"+d+"Z")}},"triangle-down":{n:6,f:function(m,c,w){if(r(c))return i;var h=P(m*2/A,2),o=P(m/2,2),d=P(m,2);return u(c,w,"M-"+h+",-"+o+"H"+h+"L0,"+d+"Z")}},"triangle-left":{n:7,f:function(m,c,w){if(r(c))return i;var h=P(m*2/A,2),o=P(m/2,2),d=P(m,2);return u(c,w,"M"+o+",-"+h+"V"+h+"L-"+d+",0Z")}},"triangle-right":{n:8,f:function(m,c,w){if(r(c))return i;var h=P(m*2/A,2),o=P(m/2,2),d=P(m,2);return u(c,w,"M-"+o+",-"+h+"V"+h+"L"+d+",0Z")}},"triangle-ne":{n:9,f:function(m,c,w){if(r(c))return i;var h=P(m*.6,2),o=P(m*1.2,2);return u(c,w,"M-"+o+",-"+h+"H"+h+"V"+o+"Z")}},"triangle-se":{n:10,f:function(m,c,w){if(r(c))return i;var h=P(m*.6,2),o=P(m*1.2,2);return u(c,w,"M"+h+",-"+o+"V"+h+"H-"+o+"Z")}},"triangle-sw":{n:11,f:function(m,c,w){if(r(c))return i;var h=P(m*.6,2),o=P(m*1.2,2);return u(c,w,"M"+o+","+h+"H-"+h+"V-"+o+"Z")}},"triangle-nw":{n:12,f:function(m,c,w){if(r(c))return i;var h=P(m*.6,2),o=P(m*1.2,2);return u(c,w,"M-"+h+","+o+"V-"+h+"H"+o+"Z")}},pentagon:{n:13,f:function(m,c,w){if(r(c))return i;var h=P(m*.951,2),o=P(m*.588,2),d=P(-m,2),M=P(m*-.309,2),T=P(m*.809,2);return u(c,w,"M"+h+","+M+"L"+o+","+T+"H-"+o+"L-"+h+","+M+"L0,"+d+"Z")}},hexagon:{n:14,f:function(m,c,w){if(r(c))return i;var h=P(m,2),o=P(m/2,2),d=P(m*A/2,2);return u(c,w,"M"+d+",-"+o+"V"+o+"L0,"+h+"L-"+d+","+o+"V-"+o+"L0,-"+h+"Z")}},hexagon2:{n:15,f:function(m,c,w){if(r(c))return i;var h=P(m,2),o=P(m/2,2),d=P(m*A/2,2);return u(c,w,"M-"+o+","+d+"H"+o+"L"+h+",0L"+o+",-"+d+"H-"+o+"L-"+h+",0Z")}},octagon:{n:16,f:function(m,c,w){if(r(c))return i;var h=P(m*.924,2),o=P(m*.383,2);return u(c,w,"M-"+o+",-"+h+"H"+o+"L"+h+",-"+o+"V"+o+"L"+o+","+h+"H-"+o+"L-"+h+","+o+"V-"+o+"Z")}},star:{n:17,f:function(m,c,w){if(r(c))return i;var h=m*1.4,o=P(h*.225,2),d=P(h*.951,2),M=P(h*.363,2),T=P(h*.588,2),E=P(-h,2),x=P(h*-.309,2),S=P(h*.118,2),b=P(h*.809,2),a=P(h*.382,2);return u(c,w,"M"+o+","+x+"H"+d+"L"+M+","+S+"L"+T+","+b+"L0,"+a+"L-"+T+","+b+"L-"+M+","+S+"L-"+d+","+x+"H-"+o+"L0,"+E+"Z")}},hexagram:{n:18,f:function(m,c,w){if(r(c))return i;var h=P(m*.66,2),o=P(m*.38,2),d=P(m*.76,2);return u(c,w,"M-"+d+",0l-"+o+",-"+h+"h"+d+"l"+o+",-"+h+"l"+o+","+h+"h"+d+"l-"+o+","+h+"l"+o+","+h+"h-"+d+"l-"+o+","+h+"l-"+o+",-"+h+"h-"+d+"Z")}},"star-triangle-up":{n:19,f:function(m,c,w){if(r(c))return i;var h=P(m*A*.8,2),o=P(m*.8,2),d=P(m*1.6,2),M=P(m*4,2),T="A "+M+","+M+" 0 0 1 ";return u(c,w,"M-"+h+","+o+T+h+","+o+T+"0,-"+d+T+"-"+h+","+o+"Z")}},"star-triangle-down":{n:20,f:function(m,c,w){if(r(c))return i;var h=P(m*A*.8,2),o=P(m*.8,2),d=P(m*1.6,2),M=P(m*4,2),T="A "+M+","+M+" 0 0 1 ";return u(c,w,"M"+h+",-"+o+T+"-"+h+",-"+o+T+"0,"+d+T+h+",-"+o+"Z")}},"star-square":{n:21,f:function(m,c,w){if(r(c))return i;var h=P(m*1.1,2),o=P(m*2,2),d="A "+o+","+o+" 0 0 1 ";return u(c,w,"M-"+h+",-"+h+d+"-"+h+","+h+d+h+","+h+d+h+",-"+h+d+"-"+h+",-"+h+"Z")}},"star-diamond":{n:22,f:function(m,c,w){if(r(c))return i;var h=P(m*1.4,2),o=P(m*1.9,2),d="A "+o+","+o+" 0 0 1 ";return u(c,w,"M-"+h+",0"+d+"0,"+h+d+h+",0"+d+"0,-"+h+d+"-"+h+",0Z")}},"diamond-tall":{n:23,f:function(m,c,w){if(r(c))return i;var h=P(m*.7,2),o=P(m*1.4,2);return u(c,w,"M0,"+o+"L"+h+",0L0,-"+o+"L-"+h+",0Z")}},"diamond-wide":{n:24,f:function(m,c,w){if(r(c))return i;var h=P(m*1.4,2),o=P(m*.7,2);return u(c,w,"M0,"+o+"L"+h+",0L0,-"+o+"L-"+h+",0Z")}},hourglass:{n:25,f:function(m,c,w){if(r(c))return i;var h=P(m,2);return u(c,w,"M"+h+","+h+"H-"+h+"L"+h+",-"+h+"H-"+h+"Z")},noDot:!0},bowtie:{n:26,f:function(m,c,w){if(r(c))return i;var h=P(m,2);return u(c,w,"M"+h+","+h+"V-"+h+"L-"+h+","+h+"V-"+h+"Z")},noDot:!0},"circle-cross":{n:27,f:function(m,c,w){if(r(c))return i;var h=P(m,2);return u(c,w,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(m,c,w){if(r(c))return i;var h=P(m,2),o=P(m/L,2);return u(c,w,"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o+"M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(m,c,w){if(r(c))return i;var h=P(m,2);return u(c,w,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(m,c,w){if(r(c))return i;var h=P(m,2);return u(c,w,"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h+"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(m,c,w){if(r(c))return i;var h=P(m*1.3,2);return u(c,w,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"ZM0,-"+h+"V"+h+"M-"+h+",0H"+h)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(m,c,w){if(r(c))return i;var h=P(m*1.3,2),o=P(m*.65,2);return u(c,w,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"ZM-"+o+",-"+o+"L"+o+","+o+"M-"+o+","+o+"L"+o+",-"+o)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(m,c,w){if(r(c))return i;var h=P(m*1.4,2);return u(c,w,"M0,"+h+"V-"+h+"M"+h+",0H-"+h)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(m,c,w){if(r(c))return i;var h=P(m,2);return u(c,w,"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(m,c,w){if(r(c))return i;var h=P(m*1.2,2),o=P(m*.85,2);return u(c,w,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(m,c,w){if(r(c))return i;var h=P(m/2,2),o=P(m,2);return u(c,w,"M"+h+","+o+"V-"+o+"M"+(h-o)+",-"+o+"V"+o+"M"+o+","+h+"H-"+o+"M-"+o+","+(h-o)+"H"+o)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(m,c,w){if(r(c))return i;var h=P(m*1.2,2),o=P(m*1.6,2),d=P(m*.8,2);return u(c,w,"M-"+h+","+d+"L0,0M"+h+","+d+"L0,0M0,-"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(m,c,w){if(r(c))return i;var h=P(m*1.2,2),o=P(m*1.6,2),d=P(m*.8,2);return u(c,w,"M-"+h+",-"+d+"L0,0M"+h+",-"+d+"L0,0M0,"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(m,c,w){if(r(c))return i;var h=P(m*1.2,2),o=P(m*1.6,2),d=P(m*.8,2);return u(c,w,"M"+d+","+h+"L0,0M"+d+",-"+h+"L0,0M-"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(m,c,w){if(r(c))return i;var h=P(m*1.2,2),o=P(m*1.6,2),d=P(m*.8,2);return u(c,w,"M-"+d+","+h+"L0,0M-"+d+",-"+h+"L0,0M"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(m,c,w){if(r(c))return i;var h=P(m*1.4,2);return u(c,w,"M"+h+",0H-"+h)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(m,c,w){if(r(c))return i;var h=P(m*1.4,2);return u(c,w,"M0,"+h+"V-"+h)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(m,c,w){if(r(c))return i;var h=P(m,2);return u(c,w,"M"+h+",-"+h+"L-"+h+","+h)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(m,c,w){if(r(c))return i;var h=P(m,2);return u(c,w,"M"+h+","+h+"L-"+h+",-"+h)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(m,c,w){if(r(c))return i;var h=P(m,2),o=P(m*2,2);return u(c,w,"M0,0L-"+h+","+o+"H"+h+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(m,c,w){if(r(c))return i;var h=P(m,2),o=P(m*2,2);return u(c,w,"M0,0L-"+h+",-"+o+"H"+h+"Z")},noDot:!0},"arrow-left":{n:47,f:function(m,c,w){if(r(c))return i;var h=P(m*2,2),o=P(m,2);return u(c,w,"M0,0L"+h+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-right":{n:48,f:function(m,c,w){if(r(c))return i;var h=P(m*2,2),o=P(m,2);return u(c,w,"M0,0L-"+h+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(m,c,w){if(r(c))return i;var h=P(m,2),o=P(m*2,2);return u(c,w,"M-"+h+",0H"+h+"M0,0L-"+h+","+o+"H"+h+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(m,c,w){if(r(c))return i;var h=P(m,2),o=P(m*2,2);return u(c,w,"M-"+h+",0H"+h+"M0,0L-"+h+",-"+o+"H"+h+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(m,c,w){if(r(c))return i;var h=P(m*2,2),o=P(m,2);return u(c,w,"M0,-"+o+"V"+o+"M0,0L"+h+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(m,c,w){if(r(c))return i;var h=P(m*2,2),o=P(m,2);return u(c,w,"M0,-"+o+"V"+o+"M0,0L-"+h+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(m,c,w){if(r(c))return i;var h=v/2.5,o=2*m*p(h),d=2*m*t(h);return u(c,w,"M0,0L"+-o+","+d+"L"+o+","+d+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(m,c,w){if(r(c))return i;var h=v/4,o=2*m*p(h),d=2*m*t(h);return u(c,w,"M0,0L"+-o+","+d+"A "+2*m+","+2*m+" 0 0 1 "+o+","+d+"Z")},backoff:.4,noDot:!0}};function r(m){return m===null}var s,n,l,f;function u(m,c,w){if((!m||m%360===0)&&!c)return w;if(l===m&&f===c&&s===w)return n;l=m,f=c,s=w;function h(I,B){var F=p(I),O=t(I),N=B[0],_=B[1]+(c||0);return[N*F-_*O,N*O+_*F]}for(var o=m/180*v,d=0,M=0,T=g(w),E="",x=0;x<T.length;x++){var S=T[x],b=S[0],a=d,C=M;if(b==="M"||b==="L")d=+S[1],M=+S[2];else if(b==="m"||b==="l")d+=+S[1],M+=+S[2];else if(b==="H")d=+S[1];else if(b==="h")d+=+S[1];else if(b==="V")M=+S[1];else if(b==="v")M+=+S[1];else if(b==="A"){d=+S[1],M=+S[2];var y=h(o,[+S[6],+S[7]]);S[6]=y[0],S[7]=y[1],S[3]=+S[3]+m}(b==="H"||b==="V")&&(b="L"),(b==="h"||b==="v")&&(b="l"),(b==="m"||b==="l")&&(d-=a,M-=C);var z=h(o,[d,M]);(b==="H"||b==="V")&&(b="L"),(b==="M"||b==="L"||b==="m"||b==="l")&&(S[1]=z[0],S[2]=z[1]),S[0]=b,E+=S[0]+S.slice(1).join(",")}return n=E,E}},25673:function(W){W.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(W,H,e){var g=e(92770),P=e(73972),i=e(89298),L=e(71828),A=e(45827);W.exports=function(t){for(var r=t.calcdata,s=0;s<r.length;s++){var n=r[s],l=n[0].trace;if(l.visible===!0&&P.traceIs(l,"errorBarsOK")){var f=i.getFromId(t,l.xaxis),u=i.getFromId(t,l.yaxis);v(n,l,f,"x"),v(n,l,u,"y")}}};function v(p,t,r,s){var n=t["error_"+s]||{},l=n.visible&&["linear","log"].indexOf(r.type)!==-1,f=[];if(l){for(var u=A(n),m=0;m<p.length;m++){var c=p[m],w=c.i;if(w===void 0)w=m;else if(w===null)continue;var h=c[s];if(g(r.c2l(h))){var o=u(h,w);if(g(o[0])&&g(o[1])){var d=c[s+"s"]=h-o[0],M=c[s+"h"]=h+o[1];f.push(d,M)}}}var T=r._id,E=t._extremes[T],x=i.findExtremes(r,f,L.extendFlat({tozero:E.opts.tozero},{padded:!0}));E.min=E.min.concat(x.min),E.max=E.max.concat(x.max)}}},45827:function(W){W.exports=function(g){var P=g.type,i=g.symmetric;if(P==="data"){var L=g.array||[];if(i)return function(r,s){var n=+L[s];return[n,n]};var A=g.arrayminus||[];return function(r,s){var n=+L[s],l=+A[s];return!isNaN(n)||!isNaN(l)?[l||0,n||0]:[NaN,NaN]}}else{var v=H(P,g.value),p=H(P,g.valueminus);return i||g.valueminus===void 0?function(r){var s=v(r);return[s,s]}:function(r){return[p(r),v(r)]}}};function H(e,g){if(e==="percent")return function(P){return Math.abs(P*g/100)};if(e==="constant")return function(){return Math.abs(g)};if(e==="sqrt")return function(P){return Math.sqrt(Math.abs(P))}}},97587:function(W,H,e){var g=e(92770),P=e(73972),i=e(71828),L=e(44467),A=e(25673);W.exports=function(v,p,t,r){var s="error_"+r.axis,n=L.newContainer(p,s),l=v[s]||{};function f(d,M){return i.coerce(l,n,A,d,M)}var u=l.array!==void 0||l.value!==void 0||l.type==="sqrt",m=f("visible",u);if(m!==!1){var c=f("type","array"in l?"data":"percent"),w=!0;c!=="sqrt"&&(w=f("symmetric",!((c==="data"?"arrayminus":"valueminus")in l))),c==="data"?(f("array"),f("traceref"),w||(f("arrayminus"),f("tracerefminus"))):(c==="percent"||c==="constant")&&(f("value"),w||f("valueminus"));var h="copy_"+r.inherit+"style";if(r.inherit){var o=p["error_"+r.inherit];(o||{}).visible&&f(h,!(l.color||g(l.thickness)||g(l.width)))}(!r.inherit||!n[h])&&(f("color",t),f("thickness"),f("width",P.traceIs(p,"gl3d")?0:4))}}},37369:function(W,H,e){var g=e(71828),P=e(30962).overrideAll,i=e(25673),L={error_x:g.extendFlat({},i),error_y:g.extendFlat({},i)};delete L.error_x.copy_zstyle,delete L.error_y.copy_zstyle,delete L.error_y.copy_ystyle;var A={error_x:g.extendFlat({},i),error_y:g.extendFlat({},i),error_z:g.extendFlat({},i)};delete A.error_x.copy_ystyle,delete A.error_y.copy_ystyle,delete A.error_z.copy_ystyle,delete A.error_z.copy_zstyle,W.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:L,bar:L,histogram:L,scatter3d:P(A,"calc","nested"),scattergl:P(L,"calc","nested")}},supplyDefaults:e(97587),calc:e(84532),makeComputeError:e(45827),plot:e(19398),style:e(62662),hoverInfo:v};function v(p,t,r){(t.error_y||{}).visible&&(r.yerr=p.yh-p.y,t.error_y.symmetric||(r.yerrneg=p.y-p.ys)),(t.error_x||{}).visible&&(r.xerr=p.xh-p.x,t.error_x.symmetric||(r.xerrneg=p.x-p.xs))}},19398:function(W,H,e){var g=e(39898),P=e(92770),i=e(91424),L=e(34098);W.exports=function(p,t,r,s){var n,l=r.xaxis,f=r.yaxis,u=s&&s.duration>0,m=p._context.staticPlot;t.each(function(c){var w=c[0].trace,h=w.error_x||{},o=w.error_y||{},d;w.ids&&(d=function(x){return x.id});var M=L.hasMarkers(w)&&w.marker.maxdisplayed>0;!o.visible&&!h.visible&&(c=[]);var T=g.select(this).selectAll("g.errorbar").data(c,d);if(T.exit().remove(),!!c.length){h.visible||T.selectAll("path.xerror").remove(),o.visible||T.selectAll("path.yerror").remove(),T.style("opacity",1);var E=T.enter().append("g").classed("errorbar",!0);u&&E.style("opacity",0).transition().duration(s.duration).style("opacity",1),i.setClipUrl(T,r.layerClipId,p),T.each(function(x){var S=g.select(this),b=A(x,l,f);if(!(M&&!x.vis)){var a,C=S.select("path.yerror");if(o.visible&&P(b.x)&&P(b.yh)&&P(b.ys)){var y=o.width;a="M"+(b.x-y)+","+b.yh+"h"+2*y+"m-"+y+",0V"+b.ys,b.noYS||(a+="m-"+y+",0h"+2*y),n=!C.size(),n?C=S.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("yerror",!0):u&&(C=C.transition().duration(s.duration).ease(s.easing)),C.attr("d",a)}else C.remove();var z=S.select("path.xerror");if(h.visible&&P(b.y)&&P(b.xh)&&P(b.xs)){var I=(h.copy_ystyle?o:h).width;a="M"+b.xh+","+(b.y-I)+"v"+2*I+"m0,-"+I+"H"+b.xs,b.noXS||(a+="m0,-"+I+"v"+2*I),n=!z.size(),n?z=S.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("xerror",!0):u&&(z=z.transition().duration(s.duration).ease(s.easing)),z.attr("d",a)}else z.remove()}})}})};function A(v,p,t){var r={x:p.c2p(v.x),y:t.c2p(v.y)};return v.yh!==void 0&&(r.yh=t.c2p(v.yh),r.ys=t.c2p(v.ys),P(r.ys)||(r.noYS=!0,r.ys=t.c2p(v.ys,!0))),v.xh!==void 0&&(r.xh=p.c2p(v.xh),r.xs=p.c2p(v.xs),P(r.xs)||(r.noXS=!0,r.xs=p.c2p(v.xs,!0))),r}},62662:function(W,H,e){var g=e(39898),P=e(7901);W.exports=function(L){L.each(function(A){var v=A[0].trace,p=v.error_y||{},t=v.error_x||{},r=g.select(this);r.selectAll("path.yerror").style("stroke-width",p.thickness+"px").call(P.stroke,p.color),t.copy_ystyle&&(t=p),r.selectAll("path.xerror").style("stroke-width",t.thickness+"px").call(P.stroke,t.color)})}},77914:function(W,H,e){var g=e(41940),P=e(528).hoverlabel,i=e(1426).extendFlat;W.exports={hoverlabel:{bgcolor:i({},P.bgcolor,{arrayOk:!0}),bordercolor:i({},P.bordercolor,{arrayOk:!0}),font:g({arrayOk:!0,editType:"none"}),align:i({},P.align,{arrayOk:!0}),namelength:i({},P.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(W,H,e){var g=e(71828),P=e(73972);W.exports=function(A){var v=A.calcdata,p=A._fullLayout;function t(f){return function(u){return g.coerceHoverinfo({hoverinfo:u},{_module:f._module},p)}}for(var r=0;r<v.length;r++){var s=v[r],n=s[0].trace;if(!P.traceIs(n,"pie-like")){var l=P.traceIs(n,"2dMap")?i:g.fillArray;l(n.hoverinfo,s,"hi",t(n)),n.hovertemplate&&l(n.hovertemplate,s,"ht"),n.hoverlabel&&(l(n.hoverlabel.bgcolor,s,"hbg"),l(n.hoverlabel.bordercolor,s,"hbc"),l(n.hoverlabel.font.size,s,"hts"),l(n.hoverlabel.font.color,s,"htc"),l(n.hoverlabel.font.family,s,"htf"),l(n.hoverlabel.namelength,s,"hnl"),l(n.hoverlabel.align,s,"hta"))}}};function i(L,A,v,p){p=p||g.identity,Array.isArray(L)&&(A[0][v]=p(L))}},75914:function(W,H,e){var g=e(73972),P=e(88335).hover;W.exports=function(L,A,v){var p=g.getComponentMethod("annotations","onClick")(L,L._hoverdata);v!==void 0&&P(L,A,v,!0);function t(){L.emit("plotly_click",{points:L._hoverdata,event:A})}L._hoverdata&&A&&A.target&&(p&&p.then?p.then(t):t(),A.stopImmediatePropagation&&A.stopImmediatePropagation())}},26675:function(W){W.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(W,H,e){var g=e(71828),P=e(77914),i=e(38048);W.exports=function(A,v,p,t){function r(n,l){return g.coerce(A,v,P,n,l)}var s=g.extendFlat({},t.hoverlabel);v.hovertemplate&&(s.namelength=-1),i(A,v,r,s)}},23469:function(W,H,e){var g=e(71828);H.getSubplot=function(p){return p.subplot||p.xaxis+p.yaxis||p.geo},H.isTraceInSubplots=function(p,t){if(p.type==="splom"){for(var r=p.xaxes||[],s=p.yaxes||[],n=0;n<r.length;n++)for(var l=0;l<s.length;l++)if(t.indexOf(r[n]+s[l])!==-1)return!0;return!1}return t.indexOf(H.getSubplot(p))!==-1},H.flat=function(p,t){for(var r=new Array(p.length),s=0;s<p.length;s++)r[s]=t;return r},H.p2c=function(p,t){for(var r=new Array(p.length),s=0;s<p.length;s++)r[s]=p[s].p2c(t);return r},H.getDistanceFunction=function(p,t,r,s){return p==="closest"?s||H.quadrature(t,r):p.charAt(0)==="x"?t:r},H.getClosest=function(p,t,r){if(r.index!==!1)r.index>=0&&r.index<p.length?r.distance=0:r.index=!1;else for(var s=0;s<p.length;s++){var n=t(p[s]);n<=r.distance&&(r.index=s,r.distance=n)}return r},H.inbox=function(p,t,r){return p*t<0||p===0?r:1/0},H.quadrature=function(p,t){return function(r){var s=p(r),n=t(r);return Math.sqrt(s*s+n*n)}},H.makeEventData=function(p,t,r){var s="index"in p?p.index:p.pointNumber,n={data:t._input,fullData:t,curveNumber:t.index,pointNumber:s};if(t._indexToPoints){var l=t._indexToPoints[s];l.length===1?n.pointIndex=l[0]:n.pointIndices=l}else n.pointIndex=s;return t._module.eventData?n=t._module.eventData(n,p,t,r,s):("xVal"in p?n.x=p.xVal:"x"in p&&(n.x=p.x),"yVal"in p?n.y=p.yVal:"y"in p&&(n.y=p.y),p.xa&&(n.xaxis=p.xa),p.ya&&(n.yaxis=p.ya),p.zLabelVal!==void 0&&(n.z=p.zLabelVal)),H.appendArrayPointValue(n,t,s),n},H.appendArrayPointValue=function(p,t,r){var s=t._arrayAttrs;if(s)for(var n=0;n<s.length;n++){var l=s[n],f=i(l);if(p[f]===void 0){var u=g.nestedProperty(t,l).get(),m=L(u,r);m!==void 0&&(p[f]=m)}}},H.appendArrayMultiPointValues=function(p,t,r){var s=t._arrayAttrs;if(s)for(var n=0;n<s.length;n++){var l=s[n],f=i(l);if(p[f]===void 0){for(var u=g.nestedProperty(t,l).get(),m=new Array(r.length),c=0;c<r.length;c++)m[c]=L(u,r[c]);p[f]=m}}};var P={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function i(p){return P[p]||p}function L(p,t){if(Array.isArray(t)){if(Array.isArray(p)&&Array.isArray(p[t[0]]))return p[t[0]][t[1]]}else return p[t]}var A={x:!0,y:!0},v={"x unified":!0,"y unified":!0};H.isUnifiedHover=function(p){return typeof p!="string"?!1:!!v[p]},H.isXYhover=function(p){return typeof p!="string"?!1:!!A[p]}},88335:function(W,H,e){var g=e(39898),P=e(92770),i=e(84267),L=e(71828),A=L.strTranslate,v=L.strRotate,p=e(11086),t=e(63893),r=e(39918),s=e(91424),n=e(7901),l=e(28569),f=e(89298),u=e(73972),m=e(23469),c=e(26675),w=e(99017),h=e(43969),o=c.YANGLE,d=Math.PI*o/180,M=1/Math.sin(d),T=Math.cos(d),E=Math.sin(d),x=c.HOVERARROWSIZE,S=c.HOVERTEXTPAD,b={box:!0,ohlc:!0,violin:!0,candlestick:!0},a={scatter:!0,scattergl:!0,splom:!0};H.hover=function(se,q,$,le){se=L.getGraphDiv(se);var ie=q.target;L.throttle(se._fullLayout._uid+c.HOVERID,c.HOVERMINTIME,function(){C(se,q,$,le,ie)})},H.loneHover=function(se,q){var $=!0;Array.isArray(se)||($=!1,se=[se]);var le=q.gd,ie=j(le),ce=X(le),me=se.map(function(Ge){var ke=Ge._x0||Ge.x0||Ge.x||0,We=Ge._x1||Ge.x1||Ge.x||0,it=Ge._y0||Ge.y0||Ge.y||0,et=Ge._y1||Ge.y1||Ge.y||0,tt=Ge.eventData;if(tt){var at=Math.min(ke,We),ht=Math.max(ke,We),yt=Math.min(it,et),gt=Math.max(it,et),Et=Ge.trace;if(u.traceIs(Et,"gl3d")){var Ct=le._fullLayout[Et.scene]._scene.container,Vt=Ct.offsetLeft,Qe=Ct.offsetTop;at+=Vt,ht+=Vt,yt+=Qe,gt+=Qe}tt.bbox={x0:at+ce,x1:ht+ce,y0:yt+ie,y1:gt+ie},q.inOut_bbox&&q.inOut_bbox.push(tt.bbox)}else tt=!1;return{color:Ge.color||n.defaultLine,x0:Ge.x0||Ge.x||0,x1:Ge.x1||Ge.x||0,y0:Ge.y0||Ge.y||0,y1:Ge.y1||Ge.y||0,xLabel:Ge.xLabel,yLabel:Ge.yLabel,zLabel:Ge.zLabel,text:Ge.text,name:Ge.name,idealAlign:Ge.idealAlign,borderColor:Ge.borderColor,fontFamily:Ge.fontFamily,fontSize:Ge.fontSize,fontColor:Ge.fontColor,nameLength:Ge.nameLength,textAlign:Ge.textAlign,trace:Ge.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Ge.hovertemplate||!1,hovertemplateLabels:Ge.hovertemplateLabels||!1,eventData:tt}}),Me=!1,we=I(me,{gd:le,hovermode:"closest",rotateLabels:Me,bgColor:q.bgColor||n.background,container:g.select(q.container),outerContainer:q.outerContainer||q.container}),Oe=we.hoverLabels,Be=5,Ce=0,xe=0;Oe.sort(function(Ge,ke){return Ge.y0-ke.y0}).each(function(Ge,ke){var We=Ge.y0-Ge.by/2;We-Be<Ce?Ge.offset=Ce-We+Be:Ge.offset=0,Ce=We+Ge.by+Ge.offset,ke===q.anchorIndex&&(xe=Ge.offset)}).each(function(Ge){Ge.offset-=xe});var Se=le._fullLayout._invScaleX,He=le._fullLayout._invScaleY;return _(Oe,Me,Se,He),$?Oe:Oe.node()};function C(ee,se,q,$,le){q||(q="xy");var ie=Array.isArray(q)?q:[q],ce=ee._fullLayout,me=ce._plots||[],Me=me[q],we=ce._has("cartesian");if(Me){var Oe=Me.overlays.map(function(Er){return Er.id});ie=ie.concat(Oe)}for(var Be=ie.length,Ce=new Array(Be),xe=new Array(Be),Se=!1,He=0;He<Be;He++){var Ge=ie[He];if(me[Ge])Se=!0,Ce[He]=me[Ge].xaxis,xe[He]=me[Ge].yaxis;else if(ce[Ge]&&ce[Ge]._subplot){var ke=ce[Ge]._subplot;Ce[He]=ke.xaxis,xe[He]=ke.yaxis}else{L.warn("Unrecognized subplot: "+Ge);return}}var We=se.hovermode||ce.hovermode;if(We&&!Se&&(We="closest"),["x","y","closest","x unified","y unified"].indexOf(We)===-1||!ee.calcdata||ee.querySelector(".zoombox")||ee._dragging)return l.unhoverRaw(ee,se);var it=ce.hoverdistance;it===-1&&(it=1/0);var et=ce.spikedistance;et===-1&&(et=1/0);var tt=[],at=[],ht,yt,gt,Et,Ct,Vt,Qe,Fe,Ie,ze,Re,be,ye,Ae={hLinePoint:null,vLinePoint:null},Ee=!1;if(Array.isArray(se))for(We="array",gt=0;gt<se.length;gt++)Ct=ee.calcdata[se[gt].curveNumber||0],Ct&&(Vt=Ct[0].trace,Ct[0].trace.hoverinfo!=="skip"&&(at.push(Ct),Vt.orientation==="h"&&(Ee=!0)));else{for(Et=0;Et<ee.calcdata.length;Et++)Ct=ee.calcdata[Et],Vt=Ct[0].trace,Vt.hoverinfo!=="skip"&&m.isTraceInSubplots(Vt,ie)&&(at.push(Ct),Vt.orientation==="h"&&(Ee=!0));var Ne=!le,Je,qe;if(Ne)"xpx"in se?Je=se.xpx:Je=Ce[0]._length/2,"ypx"in se?qe=se.ypx:qe=xe[0]._length/2;else{if(p.triggerHandler(ee,"plotly_beforehover",se)===!1)return;var vt=le.getBoundingClientRect();Je=se.clientX-vt.left,qe=se.clientY-vt.top,ce._calcInverseTransform(ee);var bt=L.apply3DTransform(ce._invTransform)(Je,qe);if(Je=bt[0],qe=bt[1],Je<0||Je>Ce[0]._length||qe<0||qe>xe[0]._length)return l.unhoverRaw(ee,se)}if(se.pointerX=Je+Ce[0]._offset,se.pointerY=qe+xe[0]._offset,"xval"in se?ht=m.flat(ie,se.xval):ht=m.p2c(Ce,Je),"yval"in se?yt=m.flat(ie,se.yval):yt=m.p2c(xe,qe),!P(ht[0])||!P(yt[0]))return L.warn("Fx.hover failed",se,ee),l.unhoverRaw(ee,se)}var Wt=1/0;function qt(Er,Gr){for(Et=0;Et<at.length;Et++)if(Ct=at[Et],!(!Ct||!Ct[0]||!Ct[0].trace)&&(Vt=Ct[0].trace,!(Vt.visible!==!0||Vt._length===0)&&["carpet","contourcarpet"].indexOf(Vt._module.name)===-1)){if(Vt.type==="splom"?(Fe=0,Qe=ie[Fe]):(Qe=m.getSubplot(Vt),Fe=ie.indexOf(Qe)),Ie=We,m.isUnifiedHover(Ie)&&(Ie=Ie.charAt(0)),be={cd:Ct,trace:Vt,xa:Ce[Fe],ya:xe[Fe],maxHoverDistance:it,maxSpikeDistance:et,index:!1,distance:Math.min(Wt,it),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:n.defaultLine,name:Vt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},ce[Qe]&&(be.subplot=ce[Qe]._subplot),ce._splomScenes&&ce._splomScenes[Vt.uid]&&(be.scene=ce._splomScenes[Vt.uid]),ye=tt.length,Ie==="array"){var Br=se[Et];"pointNumber"in Br?(be.index=Br.pointNumber,Ie="closest"):(Ie="","xval"in Br&&(ze=Br.xval,Ie="x"),"yval"in Br&&(Re=Br.yval,Ie=Ie?"closest":"y"))}else Er!==void 0&&Gr!==void 0?(ze=Er,Re=Gr):(ze=ht[Fe],Re=yt[Fe]);if(it!==0)if(Vt._module&&Vt._module.hoverPoints){var nn=Vt._module.hoverPoints(be,ze,Re,Ie,{finiteRange:!0,hoverLayer:ce._hoverlayer});if(nn)for(var gn,mn=0;mn<nn.length;mn++)gn=nn[mn],P(gn.x0)&&P(gn.y0)&&tt.push(U(gn,We))}else L.log("Unrecognized trace type in hover:",Vt);if(We==="closest"&&tt.length>ye&&(tt.splice(0,ye),Wt=tt[0].distance),we&&et!==0&&tt.length===0){be.distance=et,be.index=!1;var Pn=Vt._module.hoverPoints(be,ze,Re,"closest",{hoverLayer:ce._hoverlayer});if(Pn&&(Pn=Pn.filter(function(Qn){return Qn.spikeDistance<=et})),Pn&&Pn.length){var Fn,ia=Pn.filter(function(Qn){return Qn.xa.showspikes&&Qn.xa.spikesnap!=="hovered data"});if(ia.length){var jn=ia[0];P(jn.x0)&&P(jn.y0)&&(Fn=zt(jn),(!Ae.vLinePoint||Ae.vLinePoint.spikeDistance>Fn.spikeDistance)&&(Ae.vLinePoint=Fn))}var $n=Pn.filter(function(Qn){return Qn.ya.showspikes&&Qn.ya.spikesnap!=="hovered data"});if($n.length){var Wn=$n[0];P(Wn.x0)&&P(Wn.y0)&&(Fn=zt(Wn),(!Ae.hLinePoint||Ae.hLinePoint.spikeDistance>Fn.spikeDistance)&&(Ae.hLinePoint=Fn))}}}}}qt();function At(Er,Gr,Br){for(var nn=null,gn=1/0,mn,Pn=0;Pn<Er.length;Pn++)mn=Er[Pn].spikeDistance,Br&&Pn===0&&(mn=-1/0),mn<=gn&&mn<=Gr&&(nn=Er[Pn],gn=mn);return nn}function zt(Er){return Er?{xa:Er.xa,ya:Er.ya,x:Er.xSpike!==void 0?Er.xSpike:(Er.x0+Er.x1)/2,y:Er.ySpike!==void 0?Er.ySpike:(Er.y0+Er.y1)/2,distance:Er.distance,spikeDistance:Er.spikeDistance,curveNumber:Er.trace.index,color:Er.color,pointNumber:Er.index}:null}var Jt={fullLayout:ce,container:ce._hoverlayer,event:se},Mr=ee._spikepoints,pt={vLinePoint:Ae.vLinePoint,hLinePoint:Ae.hLinePoint};ee._spikepoints=pt;var Zt=function(){tt.sort(function(Er,Gr){return Er.distance-Gr.distance}),tt=fe(tt,We)};Zt();var Kt=We.charAt(0),mr=(Kt==="x"||Kt==="y")&&tt[0]&&a[tt[0].trace.type];if(we&&et!==0&&tt.length!==0){var ur=tt.filter(function(Er){return Er.ya.showspikes}),dt=At(ur,et,mr);Ae.hLinePoint=zt(dt);var st=tt.filter(function(Er){return Er.xa.showspikes}),xt=At(st,et,mr);Ae.vLinePoint=zt(xt)}if(tt.length===0){var Mt=l.unhoverRaw(ee,se);return we&&(Ae.hLinePoint!==null||Ae.vLinePoint!==null)&&re(Mr)&&Y(ee,Ae,Jt),Mt}if(we&&re(Mr)&&Y(ee,Ae,Jt),m.isXYhover(Ie)&&tt[0].length!==0&&tt[0].trace.type!=="splom"){var Dt=tt[0];b[Dt.trace.type]?tt=tt.filter(function(Er){return Er.trace.index===Dt.trace.index}):tt=[Dt];var Rt=tt.length,Nt=Q("x",Dt,ce),Bt=Q("y",Dt,ce);qt(Nt,Bt);var Xt=[],lr={},sr=0,dr=function(Er){var Gr=b[Er.trace.type]?y(Er):Er.trace.index;if(!lr[Gr])sr++,lr[Gr]=sr,Xt.push(Er);else{var Br=lr[Gr]-1,nn=Xt[Br];Br>0&&Math.abs(Er.distance)<Math.abs(nn.distance)&&(Xt[Br]=Er)}},je;for(je=0;je<Rt;je++)dr(tt[je]);for(je=tt.length-1;je>Rt-1;je--)dr(tt[je]);tt=Xt,Zt()}var Ye=ee._hoverdata,It=[],kt=j(ee),Yt=X(ee);for(gt=0;gt<tt.length;gt++){var tr=tt[gt],or=m.makeEventData(tr,tr.trace,tr.cd);if(tr.hovertemplate!==!1){var rr=!1;tr.cd[tr.index]&&tr.cd[tr.index].ht&&(rr=tr.cd[tr.index].ht),tr.hovertemplate=rr||tr.trace.hovertemplate||!1}if(tr.xa&&tr.ya){var _t=tr.x0+tr.xa._offset,hr=tr.x1+tr.xa._offset,gr=tr.y0+tr.ya._offset,pr=tr.y1+tr.ya._offset,vr=Math.min(_t,hr),Hr=Math.max(_t,hr),kr=Math.min(gr,pr),Fr=Math.max(gr,pr);or.bbox={x0:vr+Yt,x1:Hr+Yt,y0:kr+kt,y1:Fr+kt}}tr.eventData=[or],It.push(or)}ee._hoverdata=It;var pn=We==="y"&&(at.length>1||tt.length>1)||We==="closest"&&Ee&&tt.length>1,qr=n.combine(ce.plot_bgcolor||n.background,ce.paper_bgcolor),On=I(tt,{gd:ee,hovermode:We,rotateLabels:pn,bgColor:qr,container:ce._hoverlayer,outerContainer:ce._paper.node(),commonLabelOpts:ce.hoverlabel,hoverdistance:ce.hoverdistance}),Tn=On.hoverLabels;if(m.isUnifiedHover(We)||(F(Tn,pn,ce,On.commonLabelBoundingBox),_(Tn,pn,ce._invScaleX,ce._invScaleY)),le&&le.tagName){var Sr=u.getComponentMethod("annotations","hasClickToShow")(ee,It);r(g.select(le),Sr?"pointer":"")}!le||$||!K(ee,se,Ye)||(Ye&&ee.emit("plotly_unhover",{event:se,points:Ye}),ee.emit("plotly_hover",{event:se,points:ee._hoverdata,xaxes:Ce,yaxes:xe,xvals:ht,yvals:yt}))}function y(ee){return[ee.trace.index,ee.index,ee.x0,ee.y0,ee.name,ee.attr,ee.xa?ee.xa._id:"",ee.ya?ee.ya._id:""].join(",")}var z=/<extra>([\s\S]*)<\/extra>/;function I(ee,se){var q=se.gd,$=q._fullLayout,le=se.hovermode,ie=se.rotateLabels,ce=se.bgColor,me=se.container,Me=se.outerContainer,we=se.commonLabelOpts||{};if(ee.length===0)return[[]];var Oe=se.fontFamily||c.HOVERFONT,Be=se.fontSize||c.HOVERFONTSIZE,Ce=ee[0],xe=Ce.xa,Se=Ce.ya,He=le.charAt(0),Ge=He+"Label",ke=Ce[Ge];if(ke===void 0&&xe.type==="multicategory")for(var We=0;We<ee.length&&(ke=ee[We][Ge],ke===void 0);We++);var it=J(q,Me),et=it.top,tt=it.width,at=it.height,ht=ke!==void 0&&Ce.distance<=se.hoverdistance&&(le==="x"||le==="y");if(ht){var yt=!0,gt,Et;for(gt=0;gt<ee.length;gt++)if(yt&&ee[gt].zLabel===void 0&&(yt=!1),Et=ee[gt].hoverinfo||ee[gt].trace.hoverinfo,Et){var Ct=Array.isArray(Et)?Et:Et.split("+");if(Ct.indexOf("all")===-1&&Ct.indexOf(le)===-1){ht=!1;break}}yt&&(ht=!1)}var Vt=me.selectAll("g.axistext").data(ht?[0]:[]);Vt.enter().append("g").classed("axistext",!0),Vt.exit().remove();var Qe={minX:0,maxX:0,minY:0,maxY:0};if(Vt.each(function(){var Rt=g.select(this),Nt=L.ensureSingle(Rt,"path","",function(kr){kr.style({"stroke-width":"1px"})}),Bt=L.ensureSingle(Rt,"text","",function(kr){kr.attr("data-notex",1)}),Xt=we.bgcolor||n.defaultLine,lr=we.bordercolor||n.contrast(Xt),sr=n.contrast(Xt),dr={family:we.font.family||Oe,size:we.font.size||Be,color:we.font.color||sr};Nt.style({fill:Xt,stroke:lr}),Bt.text(ke).call(s.font,dr).call(t.positionText,0,0).call(t.convertToTspans,q),Rt.attr("transform","");var je=J(q,Bt.node()),Ye,It;if(le==="x"){var kt=xe.side==="top"?"-":"";Bt.attr("text-anchor","middle").call(t.positionText,0,xe.side==="top"?et-je.bottom-x-S:et-je.top+x+S),Ye=xe._offset+(Ce.x0+Ce.x1)/2,It=Se._offset+(xe.side==="top"?0:Se._length);var Yt=je.width/2+S;Ye<Yt?(Ye=Yt,Nt.attr("d","M-"+(Yt-x)+",0L-"+(Yt-x*2)+","+kt+x+"H"+Yt+"v"+kt+(S*2+je.height)+"H-"+Yt+"V"+kt+x+"Z")):Ye>$.width-Yt?(Ye=$.width-Yt,Nt.attr("d","M"+(Yt-x)+",0L"+Yt+","+kt+x+"v"+kt+(S*2+je.height)+"H-"+Yt+"V"+kt+x+"H"+(Yt-x*2)+"Z")):Nt.attr("d","M0,0L"+x+","+kt+x+"H"+Yt+"v"+kt+(S*2+je.height)+"H-"+Yt+"V"+kt+x+"H-"+x+"Z"),Qe.minX=Ye-Yt,Qe.maxX=Ye+Yt,xe.side==="top"?(Qe.minY=It-(S*2+je.height),Qe.maxY=It-S):(Qe.minY=It+S,Qe.maxY=It+(S*2+je.height))}else{var tr,or,rr;Se.side==="right"?(tr="start",or=1,rr="",Ye=xe._offset+xe._length):(tr="end",or=-1,rr="-",Ye=xe._offset),It=Se._offset+(Ce.y0+Ce.y1)/2,Bt.attr("text-anchor",tr),Nt.attr("d","M0,0L"+rr+x+","+x+"V"+(S+je.height/2)+"h"+rr+(S*2+je.width)+"V-"+(S+je.height/2)+"H"+rr+x+"V-"+x+"Z"),Qe.minY=It-(S+je.height/2),Qe.maxY=It+(S+je.height/2),Se.side==="right"?(Qe.minX=Ye+x,Qe.maxX=Ye+x+(S*2+je.width)):(Qe.minX=Ye-x-(S*2+je.width),Qe.maxX=Ye-x);var _t=je.height/2,hr=et-je.top-_t,gr="clip"+$._uid+"commonlabel"+Se._id,pr;if(Ye<je.width+2*S+x){pr="M-"+(x+S)+"-"+_t+"h-"+(je.width-S)+"V"+_t+"h"+(je.width-S)+"Z";var vr=je.width-Ye+S;t.positionText(Bt,vr,hr),tr==="end"&&Bt.selectAll("tspan").each(function(){var kr=g.select(this),Fr=s.tester.append("text").text(kr.text()).call(s.font,dr),pn=J(q,Fr.node());Math.round(pn.width)<Math.round(je.width)&&kr.attr("x",vr-pn.width),Fr.remove()})}else t.positionText(Bt,or*(S+x),hr),pr=null;var Hr=$._topclips.selectAll("#"+gr).data(pr?[0]:[]);Hr.enter().append("clipPath").attr("id",gr).append("path"),Hr.exit().remove(),Hr.select("path").attr("d",pr),s.setClipUrl(Bt,pr?gr:null,q)}Rt.attr("transform",A(Ye,It))}),m.isUnifiedHover(le)){me.selectAll("g.hovertext").remove();var Fe=ee.filter(function(Rt){return Rt.hoverinfo!=="none"});if(Fe.length===0)return[];var Ie=$.hoverlabel,ze=Ie.font,Re={showlegend:!0,legend:{title:{text:ke,font:ze},font:ze,bgcolor:Ie.bgcolor,bordercolor:Ie.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:$.legend?$.legend.traceorder:void 0,orientation:"v"}},be={font:ze};w(Re,be,q._fullData);var ye=be.legend;ye.entries=[];for(var Ae=0;Ae<Fe.length;Ae++){var Ee=Fe[Ae];if(Ee.hoverinfo!=="none"){var Ne=B(Ee,!0,le,$,ke),Je=Ne[0],qe=Ne[1];Ee.name=qe,qe!==""?Ee.text=qe+" : "+Je:Ee.text=Je;var vt=Ee.cd[Ee.index];vt&&(vt.mc&&(Ee.mc=vt.mc),vt.mcc&&(Ee.mc=vt.mcc),vt.mlc&&(Ee.mlc=vt.mlc),vt.mlcc&&(Ee.mlc=vt.mlcc),vt.mlw&&(Ee.mlw=vt.mlw),vt.mrc&&(Ee.mrc=vt.mrc),vt.dir&&(Ee.dir=vt.dir)),Ee._distinct=!0,ye.entries.push([Ee])}}ye.entries.sort(function(Rt,Nt){return Rt[0].trace.index-Nt[0].trace.index}),ye.layer=me,ye._inHover=!0,ye._groupTitleFont=Ie.grouptitlefont,h(q,ye);var bt=me.select("g.legend"),Wt=J(q,bt.node()),qt=Wt.width+2*S,At=Wt.height+2*S,zt=Fe[0],Jt=(zt.x0+zt.x1)/2,Mr=(zt.y0+zt.y1)/2,pt=!(u.traceIs(zt.trace,"bar-like")||u.traceIs(zt.trace,"box-violin")),Zt,Kt;He==="y"?pt?(Kt=Mr-S,Zt=Mr+S):(Kt=Math.min.apply(null,Fe.map(function(Rt){return Math.min(Rt.y0,Rt.y1)})),Zt=Math.max.apply(null,Fe.map(function(Rt){return Math.max(Rt.y0,Rt.y1)}))):Kt=Zt=L.mean(Fe.map(function(Rt){return(Rt.y0+Rt.y1)/2}))-At/2;var mr,ur;He==="x"?pt?(mr=Jt+S,ur=Jt-S):(mr=Math.max.apply(null,Fe.map(function(Rt){return Math.max(Rt.x0,Rt.x1)})),ur=Math.min.apply(null,Fe.map(function(Rt){return Math.min(Rt.x0,Rt.x1)}))):mr=ur=L.mean(Fe.map(function(Rt){return(Rt.x0+Rt.x1)/2}))-qt/2;var dt=xe._offset,st=Se._offset;Zt+=st,mr+=dt,ur+=dt-qt,Kt+=st-At;var xt,Mt;return mr+qt<tt&&mr>=0?xt=mr:ur+qt<tt&&ur>=0?xt=ur:dt+qt<tt?xt=dt:mr-Jt<Jt-ur+qt?xt=tt-qt:xt=0,xt+=S,Zt+At<at&&Zt>=0?Mt=Zt:Kt+At<at&&Kt>=0?Mt=Kt:st+At<at?Mt=st:Zt-Mr<Mr-Kt+At?Mt=at-At:Mt=0,Mt+=S,bt.attr("transform",A(xt-1,Mt-1)),bt}var Dt=me.selectAll("g.hovertext").data(ee,function(Rt){return y(Rt)});return Dt.enter().append("g").classed("hovertext",!0).each(function(){var Rt=g.select(this);Rt.append("rect").call(n.fill,n.addOpacity(ce,.8)),Rt.append("text").classed("name",!0),Rt.append("path").style("stroke-width","1px"),Rt.append("text").classed("nums",!0).call(s.font,Oe,Be)}),Dt.exit().remove(),Dt.each(function(Rt){var Nt=g.select(this).attr("transform",""),Bt=Rt.color;Array.isArray(Bt)&&(Bt=Bt[Rt.eventData[0].pointNumber]);var Xt=Rt.bgcolor||Bt,lr=n.combine(n.opacity(Xt)?Xt:n.defaultLine,ce),sr=n.combine(n.opacity(Bt)?Bt:n.defaultLine,ce),dr=Rt.borderColor||n.contrast(lr),je=B(Rt,ht,le,$,ke,Nt),Ye=je[0],It=je[1],kt=Nt.select("text.nums").call(s.font,Rt.fontFamily||Oe,Rt.fontSize||Be,Rt.fontColor||dr).text(Ye).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,q),Yt=Nt.select("text.name"),tr=0,or=0;if(It&&It!==Ye){Yt.call(s.font,Rt.fontFamily||Oe,Rt.fontSize||Be,sr).text(It).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,q);var rr=J(q,Yt.node());tr=rr.width+2*S,or=rr.height+2*S}else Yt.remove(),Nt.select("rect").remove();Nt.select("path").style({fill:lr,stroke:dr});var _t=Rt.xa._offset+(Rt.x0+Rt.x1)/2,hr=Rt.ya._offset+(Rt.y0+Rt.y1)/2,gr=Math.abs(Rt.x1-Rt.x0),pr=Math.abs(Rt.y1-Rt.y0),vr=J(q,kt.node()),Hr=vr.width/$._invScaleX,kr=vr.height/$._invScaleY;Rt.ty0=(et-vr.top)/$._invScaleY,Rt.bx=Hr+2*S,Rt.by=Math.max(kr+2*S,or),Rt.anchor="start",Rt.txwidth=Hr,Rt.tx2width=tr,Rt.offset=0;var Fr=(Hr+x+S+tr)*$._invScaleX,pn,qr;if(ie)Rt.pos=_t,pn=hr+pr/2+Fr<=at,qr=hr-pr/2-Fr>=0,(Rt.idealAlign==="top"||!pn)&&qr?(hr-=pr/2,Rt.anchor="end"):pn?(hr+=pr/2,Rt.anchor="start"):Rt.anchor="middle",Rt.crossPos=hr;else{if(Rt.pos=hr,pn=_t+gr/2+Fr<=tt,qr=_t-gr/2-Fr>=0,(Rt.idealAlign==="left"||!pn)&&qr)_t-=gr/2,Rt.anchor="end";else if(pn)_t+=gr/2,Rt.anchor="start";else{Rt.anchor="middle";var On=Fr/2,Tn=_t+On-tt,Sr=_t-On;Tn>0&&(_t-=Tn),Sr<0&&(_t+=-Sr)}Rt.crossPos=_t}kt.attr("text-anchor",Rt.anchor),tr&&Yt.attr("text-anchor",Rt.anchor),Nt.attr("transform",A(_t,hr)+(ie?v(o):""))}),{hoverLabels:Dt,commonLabelBoundingBox:Qe}}function B(ee,se,q,$,le,ie){var ce="",me="";ee.nameOverride!==void 0&&(ee.name=ee.nameOverride),ee.name&&(ee.trace._meta&&(ee.name=L.templateString(ee.name,ee.trace._meta)),ce=ae(ee.name,ee.nameLength));var Me=q.charAt(0),we=Me==="x"?"y":"x";ee.zLabel!==void 0?(ee.xLabel!==void 0&&(me+="x: "+ee.xLabel+"<br>"),ee.yLabel!==void 0&&(me+="y: "+ee.yLabel+"<br>"),ee.trace.type!=="choropleth"&&ee.trace.type!=="choroplethmapbox"&&(me+=(me?"z: ":"")+ee.zLabel)):se&&ee[Me+"Label"]===le?me=ee[we+"Label"]||"":ee.xLabel===void 0?ee.yLabel!==void 0&&ee.trace.type!=="scattercarpet"&&(me=ee.yLabel):ee.yLabel===void 0?me=ee.xLabel:me="("+ee.xLabel+", "+ee.yLabel+")",(ee.text||ee.text===0)&&!Array.isArray(ee.text)&&(me+=(me?"<br>":"")+ee.text),ee.extraText!==void 0&&(me+=(me?"<br>":"")+ee.extraText),ie&&me===""&&!ee.hovertemplate&&(ce===""&&ie.remove(),me=ce);var Oe=ee.hovertemplate||!1;if(Oe){var Be=ee.hovertemplateLabels||ee;ee[Me+"Label"]!==le&&(Be[Me+"other"]=Be[Me+"Val"],Be[Me+"otherLabel"]=Be[Me+"Label"]),me=L.hovertemplateString(Oe,Be,$._d3locale,ee.eventData[0]||{},ee.trace._meta),me=me.replace(z,function(Ce,xe){return ce=ae(xe,ee.nameLength),""})}return[me,ce]}function F(ee,se,q,$){var le=se?"xa":"ya",ie=se?"ya":"xa",ce=0,me=1,Me=ee.size(),we=new Array(Me),Oe=0,Be=$.minX,Ce=$.maxX,xe=$.minY,Se=$.maxY,He=function(ze){return ze*q._invScaleX},Ge=function(ze){return ze*q._invScaleY};ee.each(function(ze){var Re=ze[le],be=ze[ie],ye=Re._id.charAt(0)==="x",Ae=Re.range;Oe===0&&Ae&&Ae[0]>Ae[1]!==ye&&(me=-1);var Ee=0,Ne=ye?q.width:q.height;if(q.hovermode==="x"||q.hovermode==="y"){var Je=O(ze,se),qe=ze.anchor,vt=qe==="end"?-1:1,bt,Wt;if(qe==="middle")bt=ze.crossPos+(ye?Ge(Je.y-ze.by/2):He(ze.bx/2+ze.tx2width/2)),Wt=bt+(ye?Ge(ze.by):He(ze.bx));else if(ye)bt=ze.crossPos+Ge(x+Je.y)-Ge(ze.by/2-x),Wt=bt+Ge(ze.by);else{var qt=He(vt*x+Je.x),At=qt+He(vt*ze.bx);bt=ze.crossPos+Math.min(qt,At),Wt=ze.crossPos+Math.max(qt,At)}ye?xe!==void 0&&Se!==void 0&&Math.min(Wt,Se)-Math.max(bt,xe)>1&&(be.side==="left"?(Ee=be._mainLinePosition,Ne=q.width):Ne=be._mainLinePosition):Be!==void 0&&Ce!==void 0&&Math.min(Wt,Ce)-Math.max(bt,Be)>1&&(be.side==="top"?(Ee=be._mainLinePosition,Ne=q.height):Ne=be._mainLinePosition)}we[Oe++]=[{datum:ze,traceIndex:ze.trace.index,dp:0,pos:ze.pos,posref:ze.posref,size:ze.by*(ye?M:1)/2,pmin:Ee,pmax:Ne}]}),we.sort(function(ze,Re){return ze[0].posref-Re[0].posref||me*(Re[0].traceIndex-ze[0].traceIndex)});var ke,We,it,et,tt,at,ht;function yt(ze){var Re=ze[0],be=ze[ze.length-1];if(We=Re.pmin-Re.pos-Re.dp+Re.size,it=be.pos+be.dp+be.size-Re.pmax,We>.01){for(tt=ze.length-1;tt>=0;tt--)ze[tt].dp+=We;ke=!1}if(!(it<.01)){if(We<-.01){for(tt=ze.length-1;tt>=0;tt--)ze[tt].dp-=it;ke=!1}if(ke){var ye=0;for(et=0;et<ze.length;et++)at=ze[et],at.pos+at.dp+at.size>Re.pmax&&ye++;for(et=ze.length-1;et>=0&&!(ye<=0);et--)at=ze[et],at.pos>Re.pmax-1&&(at.del=!0,ye--);for(et=0;et<ze.length&&!(ye<=0);et++)if(at=ze[et],at.pos<Re.pmin+1)for(at.del=!0,ye--,it=at.size*2,tt=ze.length-1;tt>=0;tt--)ze[tt].dp-=it;for(et=ze.length-1;et>=0&&!(ye<=0);et--)at=ze[et],at.pos+at.dp+at.size>Re.pmax&&(at.del=!0,ye--)}}}for(;!ke&&ce<=Me;){for(ce++,ke=!0,et=0;et<we.length-1;){var gt=we[et],Et=we[et+1],Ct=gt[gt.length-1],Vt=Et[0];if(We=Ct.pos+Ct.dp+Ct.size-Vt.pos-Vt.dp+Vt.size,We>.01&&Ct.pmin===Vt.pmin&&Ct.pmax===Vt.pmax){for(tt=Et.length-1;tt>=0;tt--)Et[tt].dp+=We;for(gt.push.apply(gt,Et),we.splice(et+1,1),ht=0,tt=gt.length-1;tt>=0;tt--)ht+=gt[tt].dp;for(it=ht/gt.length,tt=gt.length-1;tt>=0;tt--)gt[tt].dp-=it;ke=!1}else et++}we.forEach(yt)}for(et=we.length-1;et>=0;et--){var Qe=we[et];for(tt=Qe.length-1;tt>=0;tt--){var Fe=Qe[tt],Ie=Fe.datum;Ie.offset=Fe.dp,Ie.del=Fe.del}}}function O(ee,se){var q=0,$=ee.offset;return se&&($*=-E,q=ee.offset*T),{x:q,y:$}}function N(ee){var se={start:1,end:-1,middle:0}[ee.anchor],q=se*(x+S),$=q+se*(ee.txwidth+S),le=ee.anchor==="middle";return le&&(q-=ee.tx2width/2,$+=ee.txwidth/2+S),{alignShift:se,textShiftX:q,text2ShiftX:$}}function _(ee,se,q,$){var le=function(ce){return ce*q},ie=function(ce){return ce*$};ee.each(function(ce){var me=g.select(this);if(ce.del)return me.remove();var Me=me.select("text.nums"),we=ce.anchor,Oe=we==="end"?-1:1,Be=N(ce),Ce=O(ce,se),xe=Ce.x,Se=Ce.y,He=we==="middle";me.select("path").attr("d",He?"M-"+le(ce.bx/2+ce.tx2width/2)+","+ie(Se-ce.by/2)+"h"+le(ce.bx)+"v"+ie(ce.by)+"h-"+le(ce.bx)+"Z":"M0,0L"+le(Oe*x+xe)+","+ie(x+Se)+"v"+ie(ce.by/2-x)+"h"+le(Oe*ce.bx)+"v-"+ie(ce.by)+"H"+le(Oe*x+xe)+"V"+ie(Se-x)+"Z");var Ge=xe+Be.textShiftX,ke=Se+ce.ty0-ce.by/2+S,We=ce.textAlign||"auto";We!=="auto"&&(We==="left"&&we!=="start"?(Me.attr("text-anchor","start"),Ge=He?-ce.bx/2-ce.tx2width/2+S:-ce.bx-S):We==="right"&&we!=="end"&&(Me.attr("text-anchor","end"),Ge=He?ce.bx/2-ce.tx2width/2-S:ce.bx+S)),Me.call(t.positionText,le(Ge),ie(ke)),ce.tx2width&&(me.select("text.name").call(t.positionText,le(Be.text2ShiftX+Be.alignShift*S+xe),ie(Se+ce.ty0-ce.by/2+S)),me.select("rect").call(s.setRect,le(Be.text2ShiftX+(Be.alignShift-1)*ce.tx2width/2+xe),ie(Se-ce.by/2-1),le(ce.tx2width),ie(ce.by+2)))})}function U(ee,se){var q=ee.index,$=ee.trace||{},le=ee.cd[0],ie=ee.cd[q]||{};function ce(Ce){return Ce||P(Ce)&&Ce===0}var me=Array.isArray(q)?function(Ce,xe){var Se=L.castOption(le,q,Ce);return ce(Se)?Se:L.extractOption({},$,"",xe)}:function(Ce,xe){return L.extractOption(ie,$,Ce,xe)};function Me(Ce,xe,Se){var He=me(xe,Se);ce(He)&&(ee[Ce]=He)}if(Me("hoverinfo","hi","hoverinfo"),Me("bgcolor","hbg","hoverlabel.bgcolor"),Me("borderColor","hbc","hoverlabel.bordercolor"),Me("fontFamily","htf","hoverlabel.font.family"),Me("fontSize","hts","hoverlabel.font.size"),Me("fontColor","htc","hoverlabel.font.color"),Me("nameLength","hnl","hoverlabel.namelength"),Me("textAlign","hta","hoverlabel.align"),ee.posref=se==="y"||se==="closest"&&$.orientation==="h"?ee.xa._offset+(ee.x0+ee.x1)/2:ee.ya._offset+(ee.y0+ee.y1)/2,ee.x0=L.constrain(ee.x0,0,ee.xa._length),ee.x1=L.constrain(ee.x1,0,ee.xa._length),ee.y0=L.constrain(ee.y0,0,ee.ya._length),ee.y1=L.constrain(ee.y1,0,ee.ya._length),ee.xLabelVal!==void 0&&(ee.xLabel="xLabel"in ee?ee.xLabel:f.hoverLabelText(ee.xa,ee.xLabelVal,$.xhoverformat),ee.xVal=ee.xa.c2d(ee.xLabelVal)),ee.yLabelVal!==void 0&&(ee.yLabel="yLabel"in ee?ee.yLabel:f.hoverLabelText(ee.ya,ee.yLabelVal,$.yhoverformat),ee.yVal=ee.ya.c2d(ee.yLabelVal)),ee.zLabelVal!==void 0&&ee.zLabel===void 0&&(ee.zLabel=String(ee.zLabelVal)),!isNaN(ee.xerr)&&!(ee.xa.type==="log"&&ee.xerr<=0)){var we=f.tickText(ee.xa,ee.xa.c2l(ee.xerr),"hover").text;ee.xerrneg!==void 0?ee.xLabel+=" +"+we+" / -"+f.tickText(ee.xa,ee.xa.c2l(ee.xerrneg),"hover").text:ee.xLabel+="  "+we,se==="x"&&(ee.distance+=1)}if(!isNaN(ee.yerr)&&!(ee.ya.type==="log"&&ee.yerr<=0)){var Oe=f.tickText(ee.ya,ee.ya.c2l(ee.yerr),"hover").text;ee.yerrneg!==void 0?ee.yLabel+=" +"+Oe+" / -"+f.tickText(ee.ya,ee.ya.c2l(ee.yerrneg),"hover").text:ee.yLabel+="  "+Oe,se==="y"&&(ee.distance+=1)}var Be=ee.hoverinfo||ee.trace.hoverinfo;return Be&&Be!=="all"&&(Be=Array.isArray(Be)?Be:Be.split("+"),Be.indexOf("x")===-1&&(ee.xLabel=void 0),Be.indexOf("y")===-1&&(ee.yLabel=void 0),Be.indexOf("z")===-1&&(ee.zLabel=void 0),Be.indexOf("text")===-1&&(ee.text=void 0),Be.indexOf("name")===-1&&(ee.name=void 0)),ee}function Y(ee,se,q){var $=q.container,le=q.fullLayout,ie=le._size,ce=q.event,me=!!se.hLinePoint,Me=!!se.vLinePoint,we,Oe;if($.selectAll(".spikeline").remove(),!!(Me||me)){var Be=n.combine(le.plot_bgcolor,le.paper_bgcolor);if(me){var Ce=se.hLinePoint,xe,Se;we=Ce&&Ce.xa,Oe=Ce&&Ce.ya;var He=Oe.spikesnap;He==="cursor"?(xe=ce.pointerX,Se=ce.pointerY):(xe=we._offset+Ce.x,Se=Oe._offset+Ce.y);var Ge=i.readability(Ce.color,Be)<1.5?n.contrast(Be):Ce.color,ke=Oe.spikemode,We=Oe.spikethickness,it=Oe.spikecolor||Ge,et=f.getPxPosition(ee,Oe),tt,at;if(ke.indexOf("toaxis")!==-1||ke.indexOf("across")!==-1){if(ke.indexOf("toaxis")!==-1&&(tt=et,at=xe),ke.indexOf("across")!==-1){var ht=Oe._counterDomainMin,yt=Oe._counterDomainMax;Oe.anchor==="free"&&(ht=Math.min(ht,Oe.position),yt=Math.max(yt,Oe.position)),tt=ie.l+ht*ie.w,at=ie.l+yt*ie.w}$.insert("line",":first-child").attr({x1:tt,x2:at,y1:Se,y2:Se,"stroke-width":We,stroke:it,"stroke-dasharray":s.dashStyle(Oe.spikedash,We)}).classed("spikeline",!0).classed("crisp",!0),$.insert("line",":first-child").attr({x1:tt,x2:at,y1:Se,y2:Se,"stroke-width":We+2,stroke:Be}).classed("spikeline",!0).classed("crisp",!0)}ke.indexOf("marker")!==-1&&$.insert("circle",":first-child").attr({cx:et+(Oe.side!=="right"?We:-We),cy:Se,r:We,fill:it}).classed("spikeline",!0)}if(Me){var gt=se.vLinePoint,Et,Ct;we=gt&&gt.xa,Oe=gt&&gt.ya;var Vt=we.spikesnap;Vt==="cursor"?(Et=ce.pointerX,Ct=ce.pointerY):(Et=we._offset+gt.x,Ct=Oe._offset+gt.y);var Qe=i.readability(gt.color,Be)<1.5?n.contrast(Be):gt.color,Fe=we.spikemode,Ie=we.spikethickness,ze=we.spikecolor||Qe,Re=f.getPxPosition(ee,we),be,ye;if(Fe.indexOf("toaxis")!==-1||Fe.indexOf("across")!==-1){if(Fe.indexOf("toaxis")!==-1&&(be=Re,ye=Ct),Fe.indexOf("across")!==-1){var Ae=we._counterDomainMin,Ee=we._counterDomainMax;we.anchor==="free"&&(Ae=Math.min(Ae,we.position),Ee=Math.max(Ee,we.position)),be=ie.t+(1-Ee)*ie.h,ye=ie.t+(1-Ae)*ie.h}$.insert("line",":first-child").attr({x1:Et,x2:Et,y1:be,y2:ye,"stroke-width":Ie,stroke:ze,"stroke-dasharray":s.dashStyle(we.spikedash,Ie)}).classed("spikeline",!0).classed("crisp",!0),$.insert("line",":first-child").attr({x1:Et,x2:Et,y1:be,y2:ye,"stroke-width":Ie+2,stroke:Be}).classed("spikeline",!0).classed("crisp",!0)}Fe.indexOf("marker")!==-1&&$.insert("circle",":first-child").attr({cx:Et,cy:Re-(we.side!=="top"?Ie:-Ie),r:Ie,fill:ze}).classed("spikeline",!0)}}}function K(ee,se,q){if(!q||q.length!==ee._hoverdata.length)return!0;for(var $=q.length-1;$>=0;$--){var le=q[$],ie=ee._hoverdata[$];if(le.curveNumber!==ie.curveNumber||String(le.pointNumber)!==String(ie.pointNumber)||String(le.pointNumbers)!==String(ie.pointNumbers))return!0}return!1}function re(ee,se){return!se||se.vLinePoint!==ee._spikepoints.vLinePoint||se.hLinePoint!==ee._spikepoints.hLinePoint}function ae(ee,se){return t.plainText(ee||"",{len:se,allowedTags:["br","sub","sup","b","i","em"]})}function fe(ee,se){for(var q=se.charAt(0),$=[],le=[],ie=[],ce=0;ce<ee.length;ce++){var me=ee[ce];u.traceIs(me.trace,"bar-like")||u.traceIs(me.trace,"box-violin")?ie.push(me):me.trace[q+"period"]?le.push(me):$.push(me)}return $.concat(le).concat(ie)}function Q(ee,se,q){var $=se[ee+"a"],le=se[ee+"Val"],ie=se.cd[0];if($.type==="category"||$.type==="multicategory")le=$._categoriesMap[le];else if($.type==="date"){var ce=se.trace[ee+"periodalignment"];if(ce){var me=se.cd[se.index],Me=me[ee+"Start"];Me===void 0&&(Me=me[ee]);var we=me[ee+"End"];we===void 0&&(we=me[ee]);var Oe=we-Me;ce==="end"?le+=Oe:ce==="middle"&&(le+=Oe/2)}le=$.d2c(le)}return ie&&ie.t&&ie.t.posLetter===$._id&&(q.boxmode==="group"||q.violinmode==="group")&&(le+=ie.t.dPos),le}function j(ee){return ee.offsetTop+ee.clientTop}function X(ee){return ee.offsetLeft+ee.clientLeft}function J(ee,se){var q=ee._fullLayout,$=se.getBoundingClientRect(),le=$.left,ie=$.top,ce=le+$.width,me=ie+$.height,Me=L.apply3DTransform(q._invTransform)(le,ie),we=L.apply3DTransform(q._invTransform)(ce,me),Oe=Me[0],Be=Me[1],Ce=we[0],xe=we[1];return{x:Oe,y:Be,width:Ce-Oe,height:xe-Be,top:Math.min(Be,xe),left:Math.min(Oe,Ce),right:Math.max(Oe,Ce),bottom:Math.max(Be,xe)}}},38048:function(W,H,e){var g=e(71828),P=e(7901),i=e(23469).isUnifiedHover;W.exports=function(A,v,p,t){t=t||{};var r=v.legend;function s(n){t.font[n]||(t.font[n]=r?v.legend.font[n]:v.font[n])}v&&i(v.hovermode)&&(t.font||(t.font={}),s("size"),s("family"),s("color"),r?(t.bgcolor||(t.bgcolor=P.combine(v.legend.bgcolor,v.paper_bgcolor)),t.bordercolor||(t.bordercolor=v.legend.bordercolor)):t.bgcolor||(t.bgcolor=v.paper_bgcolor)),p("hoverlabel.bgcolor",t.bgcolor),p("hoverlabel.bordercolor",t.bordercolor),p("hoverlabel.namelength",t.namelength),g.coerceFont(p,"hoverlabel.font",t.font),p("hoverlabel.align",t.align)}},98212:function(W,H,e){var g=e(71828),P=e(528);W.exports=function(L,A){function v(p,t){return A[p]!==void 0?A[p]:g.coerce(L,A,P,p,t)}return v("clickmode"),v("hovermode")}},30211:function(W,H,e){var g=e(39898),P=e(71828),i=e(28569),L=e(23469),A=e(528),v=e(88335);W.exports={moduleType:"component",name:"fx",constants:e(26675),schema:{layout:A},attributes:e(77914),layoutAttributes:A,supplyLayoutGlobalDefaults:e(22774),supplyDefaults:e(54268),supplyLayoutDefaults:e(34938),calc:e(30732),getDistanceFunction:L.getDistanceFunction,getClosest:L.getClosest,inbox:L.inbox,quadrature:L.quadrature,appendArrayPointValue:L.appendArrayPointValue,castHoverOption:t,castHoverinfo:r,hover:v.hover,unhover:i.unhover,loneHover:v.loneHover,loneUnhover:p,click:e(75914)};function p(s){var n=P.isD3Selection(s)?s:g.select(s);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()}function t(s,n,l){return P.castOption(s,n,"hoverlabel."+l)}function r(s,n,l){function f(u){return P.coerceHoverinfo({hoverinfo:u},{_module:s._module},n)}return P.castOption(s,l,"hoverinfo",f)}},528:function(W,H,e){var g=e(26675),P=e(41940),i=P({editType:"none"});i.family.dflt=g.HOVERFONT,i.size.dflt=g.HOVERFONTSIZE,W.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:i,grouptitlefont:P({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(W,H,e){var g=e(71828),P=e(528),i=e(98212),L=e(38048);W.exports=function(v,p){function t(u,m){return g.coerce(v,p,P,u,m)}var r=i(v,p);r&&(t("hoverdistance"),t("spikedistance"));var s=t("dragmode");s==="select"&&t("selectdirection");var n=p._has("mapbox"),l=p._has("geo"),f=p._basePlotModules.length;p.dragmode==="zoom"&&((n||l)&&f===1||n&&l&&f===2)&&(p.dragmode="pan"),L(v,p,t),g.coerceFont(t,"hoverlabel.grouptitlefont",p.hoverlabel.font)}},22774:function(W,H,e){var g=e(71828),P=e(38048),i=e(528);W.exports=function(A,v){function p(t,r){return g.coerce(A,v,i,t,r)}P(A,v,p)}},83312:function(W,H,e){var g=e(71828),P=e(30587).counter,i=e(27670).Y,L=e(85555).idRegex,A=e(44467),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[P("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:i({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function p(l,f,u){var m=f[u+"axes"],c=Object.keys((l._splomAxes||{})[u]||{});if(Array.isArray(m))return m;if(c.length)return c}function t(l,f){var u=l.grid||{},m=p(f,u,"x"),c=p(f,u,"y");if(!l.grid&&!m&&!c)return;var w=Array.isArray(u.subplots)&&Array.isArray(u.subplots[0]),h=Array.isArray(m),o=Array.isArray(c),d=h&&m!==u.xaxes&&o&&c!==u.yaxes,M,T;w?(M=u.subplots.length,T=u.subplots[0].length):(o&&(M=c.length),h&&(T=m.length));var E=A.newContainer(f,"grid");function x(O,N){return g.coerce(u,E,v,O,N)}var S=x("rows",M),b=x("columns",T);if(!(S*b>1)){delete f.grid;return}if(!w&&!h&&!o){var a=x("pattern")==="independent";a&&(w=!0)}E._hasSubplotGrid=w;var C=x("roworder"),y=C==="top to bottom",z=w?.2:.1,I=w?.3:.1,B,F;d&&f._splomGridDflt&&(B=f._splomGridDflt.xside,F=f._splomGridDflt.yside),E._domains={x:r("x",x,z,B,b),y:r("y",x,I,F,S,y)}}function r(l,f,u,m,c,w){var h=f(l+"gap",u),o=f("domain."+l);f(l+"side",m);for(var d=new Array(c),M=o[0],T=(o[1]-M)/(c-h),E=T*(1-h),x=0;x<c;x++){var S=M+T*x;d[w?c-1-x:x]=[S,S+E]}return d}function s(l,f){var u=f.grid;if(!(!u||!u._domains)){var m=l.grid||{},c=f._subplots,w=u._hasSubplotGrid,h=u.rows,o=u.columns,d=u.pattern==="independent",M,T,E,x,S,b,a,C=u._axisMap={};if(w){var y=m.subplots||[];b=u.subplots=new Array(h);var z=1;for(M=0;M<h;M++){var I=b[M]=new Array(o),B=y[M]||[];for(T=0;T<o;T++)if(d?(S=z===1?"xy":"x"+z+"y"+z,z++):S=B[T],I[T]="",c.cartesian.indexOf(S)!==-1){if(a=S.indexOf("y"),E=S.slice(0,a),x=S.slice(a),C[E]!==void 0&&C[E]!==T||C[x]!==void 0&&C[x]!==M)continue;I[T]=S,C[E]=T,C[x]=M}}}else{var F=p(f,m,"x"),O=p(f,m,"y");u.xaxes=n(F,c.xaxis,o,C,"x"),u.yaxes=n(O,c.yaxis,h,C,"y")}var N=u._anchors={},_=u.roworder==="top to bottom";for(var U in C){var Y=U.charAt(0),K=u[Y+"side"],re,ae,fe;if(K.length<8)N[U]="free";else if(Y==="x"){if(K.charAt(0)==="t"===_?(re=0,ae=1,fe=h):(re=h-1,ae=-1,fe=-1),w){var Q=C[U];for(M=re;M!==fe;M+=ae)if(S=b[M][Q],!!S&&(a=S.indexOf("y"),S.slice(0,a)===U)){N[U]=S.slice(a);break}}else for(M=re;M!==fe;M+=ae)if(x=u.yaxes[M],c.cartesian.indexOf(U+x)!==-1){N[U]=x;break}}else if(K.charAt(0)==="l"?(re=0,ae=1,fe=o):(re=o-1,ae=-1,fe=-1),w){var j=C[U];for(M=re;M!==fe;M+=ae)if(S=b[j][M],!!S&&(a=S.indexOf("y"),S.slice(a)===U)){N[U]=S.slice(0,a);break}}else for(M=re;M!==fe;M+=ae)if(E=u.xaxes[M],c.cartesian.indexOf(E+U)!==-1){N[U]=E;break}}}}function n(l,f,u,m,c){var w=new Array(u),h;function o(d,M){f.indexOf(M)!==-1&&m[M]===void 0?(w[d]=M,m[M]=d):w[d]=""}if(Array.isArray(l))for(h=0;h<u;h++)o(h,l[h]);else for(o(0,c),h=1;h<u;h++)o(h,c+(h+1));return w}W.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:t,contentDefaults:s}},69819:function(W,H,e){var g=e(85555),P=e(44467).templatedArray;e(24695),W.exports=P("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",g.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",g.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(W,H,e){var g=e(92770),P=e(58163);W.exports=function(L,A,v,p){A=A||{};var t=v==="log"&&A.type==="linear",r=v==="linear"&&A.type==="log";if(t||r){for(var s=L._fullLayout.images,n=A._id.charAt(0),l,f,u=0;u<s.length;u++)if(l=s[u],f="images["+u+"].",l[n+"ref"]===A._id){var m=l[n],c=l["size"+n],w=null,h=null;if(t){w=P(m,A.range);var o=c/Math.pow(10,w)/2;h=2*Math.log(o+Math.sqrt(1+o*o))/Math.LN10}else w=Math.pow(10,m),h=w*(Math.pow(10,c/2)-Math.pow(10,-c/2));g(w)?g(h)||(h=null):(w=null,h=null),p(f+n,w),p(f+"size"+n,h)}}}},81603:function(W,H,e){var g=e(71828),P=e(89298),i=e(85501),L=e(69819),A="images";W.exports=function(t,r){var s={name:A,handleItemDefaults:v};i(t,r,s)};function v(p,t,r){function s(o,d){return g.coerce(p,t,L,o,d)}var n=s("source"),l=s("visible",!!n);if(!l)return t;s("layer"),s("xanchor"),s("yanchor"),s("sizex"),s("sizey"),s("sizing"),s("opacity");for(var f={_fullLayout:r},u=["x","y"],m=0;m<2;m++){var c=u[m],w=P.coerceRef(p,t,f,c,"paper",void 0);if(w!=="paper"){var h=P.getFromId(f,w);h._imgIndices.push(t._index)}P.coercePosition(t,f,s,w,c,0)}return t}},80750:function(W,H,e){var g=e(39898),P=e(91424),i=e(89298),L=e(41675),A=e(77922);W.exports=function(p){var t=p._fullLayout,r=[],s={},n=[],l,f;for(f=0;f<t.images.length;f++){var u=t.images[f];if(u.visible)if(u.layer==="below"&&u.xref!=="paper"&&u.yref!=="paper"){l=L.ref2id(u.xref)+L.ref2id(u.yref);var m=t._plots[l];if(!m){n.push(u);continue}m.mainplot&&(l=m.mainplot.id),s[l]||(s[l]=[]),s[l].push(u)}else u.layer==="above"?r.push(u):n.push(u)}var c={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function w(x){var S=g.select(this);if(this._imgSrc!==x.source)if(S.attr("xmlns",A.svg),x.source&&x.source.slice(0,5)==="data:")S.attr("xlink:href",x.source),this._imgSrc=x.source;else{var b=new Promise((function(a){var C=new Image;this.img=C,C.setAttribute("crossOrigin","anonymous"),C.onerror=y,C.onload=function(){var z=document.createElement("canvas");z.width=this.width,z.height=this.height;var I=z.getContext("2d",{willReadFrequently:!0});I.drawImage(this,0,0);var B=z.toDataURL("image/png");S.attr("xlink:href",B),a()},S.on("error",y),C.src=x.source,this._imgSrc=x.source;function y(){S.remove(),a()}}).bind(this));p._promises.push(b)}}function h(x){var S=g.select(this),b=i.getFromId(p,x.xref),a=i.getFromId(p,x.yref),C=i.getRefType(x.xref)==="domain",y=i.getRefType(x.yref)==="domain",z=t._size,I,B;b!==void 0?I=typeof x.xref=="string"&&C?b._length*x.sizex:Math.abs(b.l2p(x.sizex)-b.l2p(0)):I=x.sizex*z.w,a!==void 0?B=typeof x.yref=="string"&&y?a._length*x.sizey:Math.abs(a.l2p(x.sizey)-a.l2p(0)):B=x.sizey*z.h;var F=I*c.x[x.xanchor].offset,O=B*c.y[x.yanchor].offset,N=c.x[x.xanchor].sizing+c.y[x.yanchor].sizing,_,U;switch(b!==void 0?_=typeof x.xref=="string"&&C?b._length*x.x+b._offset:b.r2p(x.x)+b._offset:_=x.x*z.w+z.l,_+=F,a!==void 0?U=typeof x.yref=="string"&&y?a._length*(1-x.y)+a._offset:a.r2p(x.y)+a._offset:U=z.h-x.y*z.h+z.t,U+=O,x.sizing){case"fill":N+=" slice";break;case"stretch":N="none";break}S.attr({x:_,y:U,width:I,height:B,preserveAspectRatio:N,opacity:x.opacity});var Y=b&&i.getRefType(x.xref)!=="domain"?b._id:"",K=a&&i.getRefType(x.yref)!=="domain"?a._id:"",re=Y+K;P.setClipUrl(S,re?"clip"+t._uid+re:null,p)}var o=t._imageLowerLayer.selectAll("image").data(n),d=t._imageUpperLayer.selectAll("image").data(r);o.enter().append("image"),d.enter().append("image"),o.exit().remove(),d.exit().remove(),o.each(function(x){w.bind(this)(x),h.bind(this)(x)}),d.each(function(x){w.bind(this)(x),h.bind(this)(x)});var M=Object.keys(t._plots);for(f=0;f<M.length;f++){l=M[f];var T=t._plots[l];if(T.imagelayer){var E=T.imagelayer.selectAll("image").data(s[l]||[]);E.enter().append("image"),E.exit().remove(),E.each(function(x){w.bind(this)(x),h.bind(this)(x)})}}}},68804:function(W,H,e){W.exports={moduleType:"component",name:"images",layoutAttributes:e(69819),supplyLayoutDefaults:e(81603),includeBasePlot:e(76325)("images"),draw:e(80750),convertCoords:e(75378)}},33030:function(W,H,e){var g=e(41940),P=e(22399);W.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:g({editType:"legend"}),grouptitlefont:g({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:g({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(W){W.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(W,H,e){var g=e(73972),P=e(71828),i=e(44467),L=e(9012),A=e(33030),v=e(10820),p=e(10130);function t(r,s,n,l){var f=s[r]||{},u=i.newContainer(n,r);function m(fe,Q){return P.coerce(f,u,A,fe,Q)}var c=P.coerceFont(m,"font",n.font);m("bgcolor",n.paper_bgcolor),m("bordercolor");var w=m("visible");if(w){for(var h,o=function(fe,Q){var j=h._input,X=h;return P.coerce(j,X,L,fe,Q)},d=n.font||{},M=P.coerceFont(m,"grouptitlefont",P.extendFlat({},d,{size:Math.round(d.size*1.1)})),T=0,E=!1,x="normal",S=(n.shapes||[]).filter(function(fe){return fe.showlegend}),b=l.concat(S).filter(function(fe){return r===(fe.legend||"legend")}),a=0;a<b.length;a++)if(h=b[a],!!h.visible){var C=h._isShape;(h.showlegend||h._dfltShowLegend&&!(h._module&&h._module.attributes&&h._module.attributes.showlegend&&h._module.attributes.showlegend.dflt===!1))&&(T++,h.showlegend&&(E=!0,(!C&&g.traceIs(h,"pie-like")||h._input.showlegend===!0)&&T++),P.coerceFont(o,"legendgrouptitle.font",M)),(!C&&g.traceIs(h,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(h.fill)!==-1)&&(x=p.isGrouped({traceorder:x})?"grouped+reversed":"reversed"),h.legendgroup!==void 0&&h.legendgroup!==""&&(x=p.isReversed({traceorder:x})?"reversed+grouped":"grouped")}var y=P.coerce(s,n,v,"showlegend",E&&T>(r==="legend"?1:0));if(y===!1&&(n[r]=void 0),!(y===!1&&!f.uirevision)&&(m("uirevision",n.uirevision),y!==!1)){m("borderwidth");var z=m("orientation"),I=m("yref"),B=m("xref"),F=z==="h",O=I==="paper",N=B==="paper",_,U,Y,K="left";F?(_=0,g.getComponentMethod("rangeslider","isVisible")(s.xaxis)?O?(U=1.1,Y="bottom"):(U=1,Y="top"):O?(U=-.1,Y="top"):(U=0,Y="bottom")):(U=1,Y="auto",N?_=1.02:(_=1,K="right")),P.coerce(f,u,{x:{valType:"number",editType:"legend",min:N?-2:0,max:N?3:1,dflt:_}},"x"),P.coerce(f,u,{y:{valType:"number",editType:"legend",min:O?-2:0,max:O?3:1,dflt:U}},"y"),m("traceorder",x),p.isGrouped(n[r])&&m("tracegroupgap"),m("entrywidth"),m("entrywidthmode"),m("itemsizing"),m("itemwidth"),m("itemclick"),m("itemdoubleclick"),m("groupclick"),m("xanchor",K),m("yanchor",Y),m("valign"),P.noneOrAll(f,u,["x","y"]);var re=m("title.text");if(re){m("title.side",F?"left":"top");var ae=P.extendFlat({},c,{size:P.bigFont(c.size)});P.coerceFont(m,"title.font",ae)}}}}W.exports=function(s,n,l){var f,u=l.slice(),m=n.shapes;if(m)for(f=0;f<m.length;f++){var c=m[f];if(c.showlegend){var w={_input:c._input,visible:c.visible,showlegend:c.showlegend,legend:c.legend};u.push(w)}}var h=["legend"];for(f=0;f<u.length;f++)P.pushUnique(h,u[f].legend);for(n._legends=[],f=0;f<h.length;f++){var o=h[f];t(o,s,n,u),n[o]&&n[o].visible&&(n[o]._id=o),n._legends.push(o)}}},43969:function(W,H,e){var g=e(39898),P=e(71828),i=e(74875),L=e(73972),A=e(11086),v=e(28569),p=e(91424),t=e(7901),r=e(63893),s=e(85167),n=e(14928),l=e(18783),f=l.LINE_SPACING,u=l.FROM_TL,m=l.FROM_BR,c=e(82424),w=e(53630),h=e(10130),o=1,d=/^legend[0-9]*$/;W.exports=function(U,Y){if(Y)T(U,Y);else{var K=U._fullLayout,re=K._legends,ae=K._infolayer.selectAll('[class^="legend"]');ae.each(function(){var X=g.select(this),J=X.attr("class"),ee=J.split(" ")[0];ee.match(d)&&re.indexOf(ee)===-1&&X.remove()});for(var fe=0;fe<re.length;fe++){var Q=re[fe],j=U._fullLayout[Q];T(U,j)}}};function M(_,U,Y){if(!(U.title.side!=="top center"&&U.title.side!=="top right")){var K=U.title.font,re=K.size*f,ae=0,fe=_.node(),Q=p.bBox(fe).width;U.title.side==="top center"?ae=.5*(U._width-2*Y-2*n.titlePad-Q):U.title.side==="top right"&&(ae=U._width-2*Y-2*n.titlePad-Q),r.positionText(_,Y+n.titlePad+ae,Y+re)}}function T(_,U){var Y=U||{},K=_._fullLayout,re=N(Y),ae,fe,Q=Y._inHover;if(Q?(fe=Y.layer,ae="hover"):(fe=K._infolayer,ae=re),!!fe){ae+=K._uid,_._legendMouseDownTime||(_._legendMouseDownTime=0);var j;if(Q){if(!Y.entries)return;j=c(Y.entries,Y)}else{for(var X=(_.calcdata||[]).slice(),J=K.shapes,ee=0;ee<J.length;ee++){var se=J[ee];if(se.showlegend){var q={_isShape:!0,_fullInput:se,index:se._index,name:se.name||se.label.text||"shape "+se._index,legend:se.legend,legendgroup:se.legendgroup,legendgrouptitle:se.legendgrouptitle,legendrank:se.legendrank,legendwidth:se.legendwidth,showlegend:se.showlegend,visible:se.visible,opacity:se.opacity,mode:se.type==="line"?"lines":"markers",line:se.line,marker:{line:se.line,color:se.fillcolor,size:12,symbol:se.type==="rect"?"square":se.type==="circle"?"circle":"hexagon2"}};X.push([{trace:q}])}}j=K.showlegend&&c(X,Y,K._legends.length>1)}var $=K.hiddenlabels||[];if(!Q&&(!K.showlegend||!j.length))return fe.selectAll("."+re).remove(),K._topdefs.select("#"+ae).remove(),i.autoMargin(_,re);var le=P.ensureSingle(fe,"g",re,function(xe){Q||xe.attr("pointer-events","all")}),ie=P.ensureSingleById(K._topdefs,"clipPath",ae,function(xe){xe.append("rect")}),ce=P.ensureSingle(le,"rect","bg",function(xe){xe.attr("shape-rendering","crispEdges")});ce.call(t.stroke,Y.bordercolor).call(t.fill,Y.bgcolor).style("stroke-width",Y.borderwidth+"px");var me=P.ensureSingle(le,"g","scrollbox"),Me=Y.title;Y._titleWidth=0,Y._titleHeight=0;var we;Me.text?(we=P.ensureSingle(me,"text",re+"titletext"),we.attr("text-anchor","start").call(p.font,Me.font).text(Me.text),C(we,me,_,Y,o)):me.selectAll("."+re+"titletext").remove();var Oe=P.ensureSingle(le,"rect","scrollbar",function(xe){xe.attr(n.scrollBarEnterAttrs).call(t.fill,n.scrollBarColor)}),Be=me.selectAll("g.groups").data(j);Be.enter().append("g").attr("class","groups"),Be.exit().remove();var Ce=Be.selectAll("g.traces").data(P.identity);Ce.enter().append("g").attr("class","traces"),Ce.exit().remove(),Ce.style("opacity",function(xe){var Se=xe[0].trace;return L.traceIs(Se,"pie-like")?$.indexOf(xe[0].label)!==-1?.5:1:Se.visible==="legendonly"?.5:1}).each(function(){g.select(this).call(S,_,Y)}).call(w,_,Y).each(function(){Q||g.select(this).call(a,_,re)}),P.syncOrAsync([i.previousPromises,function(){return I(_,Be,Ce,Y)},function(){var xe=K._size,Se=Y.borderwidth,He=Y.xref==="paper",Ge=Y.yref==="paper";if(Me.text&&M(we,Y,Se),!Q){var ke,We;He?ke=xe.l+xe.w*Y.x-u[F(Y)]*Y._width:ke=K.width*Y.x-u[F(Y)]*Y._width,Ge?We=xe.t+xe.h*(1-Y.y)-u[O(Y)]*Y._effHeight:We=K.height*(1-Y.y)-u[O(Y)]*Y._effHeight;var it=B(_,re,ke,We);if(it)return;if(K.margin.autoexpand){var et=ke,tt=We;ke=He?P.constrain(ke,0,K.width-Y._width):et,We=Ge?P.constrain(We,0,K.height-Y._effHeight):tt,ke!==et&&P.log("Constrain "+re+".x to make legend fit inside graph"),We!==tt&&P.log("Constrain "+re+".y to make legend fit inside graph")}p.setTranslate(le,ke,We)}if(Oe.on(".drag",null),le.on("wheel",null),Q||Y._height<=Y._maxHeight||_._context.staticPlot){var at=Y._effHeight;Q&&(at=Y._height),ce.attr({width:Y._width-Se,height:at-Se,x:Se/2,y:Se/2}),p.setTranslate(me,0,0),ie.select("rect").attr({width:Y._width-2*Se,height:at-2*Se,x:Se,y:Se}),p.setClipUrl(me,ae,_),p.setRect(Oe,0,0,0,0),delete Y._scrollY}else{var ht=Math.max(n.scrollBarMinHeight,Y._effHeight*Y._effHeight/Y._height),yt=Y._effHeight-ht-2*n.scrollBarMargin,gt=Y._height-Y._effHeight,Et=yt/gt,Ct=Math.min(Y._scrollY||0,gt);ce.attr({width:Y._width-2*Se+n.scrollBarWidth+n.scrollBarMargin,height:Y._effHeight-Se,x:Se/2,y:Se/2}),ie.select("rect").attr({width:Y._width-2*Se+n.scrollBarWidth+n.scrollBarMargin,height:Y._effHeight-2*Se,x:Se,y:Se+Ct}),p.setClipUrl(me,ae,_),ye(Ct,ht,Et),le.on("wheel",function(){Ct=P.constrain(Y._scrollY+g.event.deltaY/yt*gt,0,gt),ye(Ct,ht,Et),Ct!==0&&Ct!==gt&&g.event.preventDefault()});var Vt,Qe,Fe,Ie=function(qe,vt,bt){var Wt=(bt-vt)/Et+qe;return P.constrain(Wt,0,gt)},ze=function(qe,vt,bt){var Wt=(vt-bt)/Et+qe;return P.constrain(Wt,0,gt)},Re=g.behavior.drag().on("dragstart",function(){var qe=g.event.sourceEvent;qe.type==="touchstart"?Vt=qe.changedTouches[0].clientY:Vt=qe.clientY,Fe=Ct}).on("drag",function(){var qe=g.event.sourceEvent;qe.buttons===2||qe.ctrlKey||(qe.type==="touchmove"?Qe=qe.changedTouches[0].clientY:Qe=qe.clientY,Ct=Ie(Fe,Vt,Qe),ye(Ct,ht,Et))});Oe.call(Re);var be=g.behavior.drag().on("dragstart",function(){var qe=g.event.sourceEvent;qe.type==="touchstart"&&(Vt=qe.changedTouches[0].clientY,Fe=Ct)}).on("drag",function(){var qe=g.event.sourceEvent;qe.type==="touchmove"&&(Qe=qe.changedTouches[0].clientY,Ct=ze(Fe,Vt,Qe),ye(Ct,ht,Et))});me.call(be)}function ye(qe,vt,bt){Y._scrollY=_._fullLayout[re]._scrollY=qe,p.setTranslate(me,0,-qe),p.setRect(Oe,Y._width,n.scrollBarMargin+qe*bt,n.scrollBarWidth,vt),ie.select("rect").attr("y",Se+qe)}if(_._context.edits.legendPosition){var Ae,Ee,Ne,Je;le.classed("cursor-move",!0),v.init({element:le.node(),gd:_,prepFn:function(){var qe=p.getTranslate(le);Ne=qe.x,Je=qe.y},moveFn:function(qe,vt){var bt=Ne+qe,Wt=Je+vt;p.setTranslate(le,bt,Wt),Ae=v.align(bt,Y._width,xe.l,xe.l+xe.w,Y.xanchor),Ee=v.align(Wt+Y._height,-Y._height,xe.t+xe.h,xe.t,Y.yanchor)},doneFn:function(){if(Ae!==void 0&&Ee!==void 0){var qe={};qe[re+".x"]=Ae,qe[re+".y"]=Ee,L.call("_guiRelayout",_,qe)}},clickFn:function(qe,vt){var bt=fe.selectAll("g.traces").filter(function(){var Wt=this.getBoundingClientRect();return vt.clientX>=Wt.left&&vt.clientX<=Wt.right&&vt.clientY>=Wt.top&&vt.clientY<=Wt.bottom});bt.size()>0&&x(_,le,bt,qe,vt)}})}}],_)}}function E(_,U,Y){var K=_[0],re=K.width,ae=U.entrywidthmode,fe=K.trace.legendwidth||U.entrywidth;return ae==="fraction"?U._maxWidth*fe:Y+(fe||re)}function x(_,U,Y,K,re){var ae=Y.data()[0][0].trace,fe={event:re,node:Y.node(),curveNumber:ae.index,expandedIndex:ae._expandedIndex,data:_.data,layout:_.layout,frames:_._transitionData._frames,config:_._context,fullData:_._fullData,fullLayout:_._fullLayout};ae._group&&(fe.group=ae._group),L.traceIs(ae,"pie-like")&&(fe.label=Y.datum()[0].label);var Q=A.triggerHandler(_,"plotly_legendclick",fe);if(K===1){if(Q===!1)return;U._clickTimeout=setTimeout(function(){_._fullLayout&&s(Y,_,K)},_._context.doubleClickDelay)}else if(K===2){U._clickTimeout&&clearTimeout(U._clickTimeout),_._legendMouseDownTime=0;var j=A.triggerHandler(_,"plotly_legenddoubleclick",fe);j!==!1&&Q!==!1&&s(Y,_,K)}}function S(_,U,Y){var K=N(Y),re=_.data()[0][0],ae=re.trace,fe=L.traceIs(ae,"pie-like"),Q=!Y._inHover&&U._context.edits.legendText&&!fe,j=Y._maxNameLength,X,J;re.groupTitle?(X=re.groupTitle.text,J=re.groupTitle.font):(J=Y.font,Y.entries?X=re.text:(X=fe?re.label:ae.name,ae._meta&&(X=P.templateString(X,ae._meta))));var ee=P.ensureSingle(_,"text",K+"text");ee.attr("text-anchor","start").call(p.font,J).text(Q?b(X,j):X);var se=Y.itemwidth+n.itemGap*2;r.positionText(ee,se,0),Q?ee.call(r.makeEditable,{gd:U,text:X}).call(C,_,U,Y).on("edit",function(q){this.text(b(q,j)).call(C,_,U,Y);var $=re.trace._fullInput||{},le={};if(L.hasTransform($,"groupby")){var ie=L.getTransformIndices($,"groupby"),ce=ie[ie.length-1],me=P.keyedContainer($,"transforms["+ce+"].styles","target","value.name");me.set(re.trace._group,q),le=me.constructUpdate()}else le.name=q;return $._isShape?L.call("_guiRelayout",U,"shapes["+ae.index+"].name",le.name):L.call("_guiRestyle",U,le,ae.index)}):C(ee,_,U,Y)}function b(_,U){var Y=Math.max(4,U);if(_&&_.trim().length>=Y/2)return _;_=_||"";for(var K=Y-_.length;K>0;K--)_+=" ";return _}function a(_,U,Y){var K=U._context.doubleClickDelay,re,ae=1,fe=P.ensureSingle(_,"rect",Y+"toggle",function(Q){U._context.staticPlot||Q.style("cursor","pointer").attr("pointer-events","all"),Q.call(t.fill,"rgba(0,0,0,0)")});U._context.staticPlot||(fe.on("mousedown",function(){re=new Date().getTime(),re-U._legendMouseDownTime<K?ae+=1:(ae=1,U._legendMouseDownTime=re)}),fe.on("mouseup",function(){if(!(U._dragged||U._editing)){var Q=U._fullLayout[Y];new Date().getTime()-U._legendMouseDownTime>K&&(ae=Math.max(ae-1,1)),x(U,Q,_,ae,g.event)}}))}function C(_,U,Y,K,re){K._inHover&&_.attr("data-notex",!0),r.convertToTspans(_,Y,function(){y(U,Y,K,re)})}function y(_,U,Y,K){var re=_.data()[0][0];if(!Y._inHover&&re&&!re.trace.showlegend){_.remove();return}var ae=_.select("g[class*=math-group]"),fe=ae.node(),Q=N(Y);Y||(Y=U._fullLayout[Q]);var j=Y.borderwidth,X;K===o?X=Y.title.font:re.groupTitle?X=re.groupTitle.font:X=Y.font;var J=X.size*f,ee,se;if(fe){var q=p.bBox(fe);ee=q.height,se=q.width,K===o?p.setTranslate(ae,j,j+ee*.75):p.setTranslate(ae,0,ee*.25)}else{var $="."+Q+(K===o?"title":"")+"text",le=_.select($),ie=r.lineCount(le),ce=le.node();if(ee=J*ie,se=ce?p.bBox(ce).width:0,K===o)Y.title.side==="left"&&(se+=n.itemGap*2),r.positionText(le,j+n.titlePad,j+J);else{var me=n.itemGap*2+Y.itemwidth;re.groupTitle&&(me=n.itemGap,se-=Y.itemwidth),r.positionText(le,me,-J*((ie-1)/2-.3))}}K===o?(Y._titleWidth=se,Y._titleHeight=ee):(re.lineHeight=J,re.height=Math.max(ee,16)+3,re.width=se)}function z(_){var U=0,Y=0,K=_.title.side;return K&&(K.indexOf("left")!==-1&&(U=_._titleWidth),K.indexOf("top")!==-1&&(Y=_._titleHeight)),[U,Y]}function I(_,U,Y,K){var re=_._fullLayout,ae=N(K);K||(K=re[ae]);var fe=re._size,Q=h.isVertical(K),j=h.isGrouped(K),X=K.entrywidthmode==="fraction",J=K.borderwidth,ee=2*J,se=n.itemGap,q=K.itemwidth+se*2,$=2*(J+se),le=O(K),ie=K.y<0||K.y===0&&le==="top",ce=K.y>1||K.y===1&&le==="bottom",me=K.tracegroupgap,Me={};K._maxHeight=Math.max(ie||ce?re.height/2:fe.h,30);var we=0;K._width=0,K._height=0;var Oe=z(K);if(Q)Y.each(function(Fe){var Ie=Fe[0].height;p.setTranslate(this,J+Oe[0],J+Oe[1]+K._height+Ie/2+se),K._height+=Ie,K._width=Math.max(K._width,Fe[0].width)}),we=q+K._width,K._width+=se+q+ee,K._height+=$,j&&(U.each(function(Fe,Ie){p.setTranslate(this,0,Ie*K.tracegroupgap)}),K._height+=(K._lgroupsLength-1)*K.tracegroupgap);else{var Be=F(K),Ce=K.x<0||K.x===0&&Be==="right",xe=K.x>1||K.x===1&&Be==="left",Se=ce||ie,He=re.width/2;K._maxWidth=Math.max(Ce?Se&&Be==="left"?fe.l+fe.w:He:xe?Se&&Be==="right"?fe.r+fe.w:He:fe.w,2*q);var Ge=0,ke=0;Y.each(function(Fe){var Ie=E(Fe,K,q);Ge=Math.max(Ge,Ie),ke+=Ie}),we=null;var We=0;if(j){var it=0,et=0,tt=0;U.each(function(){var Fe=0,Ie=0;g.select(this).selectAll("g.traces").each(function(Re){var be=E(Re,K,q),ye=Re[0].height;p.setTranslate(this,Oe[0],Oe[1]+J+se+ye/2+Ie),Ie+=ye,Fe=Math.max(Fe,be),Me[Re[0].trace.legendgroup]=Fe});var ze=Fe+se;et>0&&ze+J+et>K._maxWidth?(We=Math.max(We,et),et=0,tt+=it+me,it=Ie):it=Math.max(it,Ie),p.setTranslate(this,et,tt),et+=ze}),K._width=Math.max(We,et)+J,K._height=tt+it+$}else{var at=Y.size(),ht=ke+ee+(at-1)*se<K._maxWidth,yt=0,gt=0,Et=0,Ct=0;Y.each(function(Fe){var Ie=Fe[0].height,ze=E(Fe,K,q),Re=ht?ze:Ge;X||(Re+=se),Re+J+gt-se>=K._maxWidth&&(We=Math.max(We,Ct),gt=0,Et+=yt,K._height+=yt,yt=0),p.setTranslate(this,Oe[0]+J+gt,Oe[1]+J+Et+Ie/2+se),Ct=gt+ze+se,gt+=Re,yt=Math.max(yt,Ie)}),ht?(K._width=gt+ee,K._height=yt+$):(K._width=Math.max(We,Ct)+ee,K._height+=yt+$)}}K._width=Math.ceil(Math.max(K._width+Oe[0],K._titleWidth+2*(J+n.titlePad))),K._height=Math.ceil(Math.max(K._height+Oe[1],K._titleHeight+2*(J+n.itemGap))),K._effHeight=Math.min(K._height,K._maxHeight);var Vt=_._context.edits,Qe=Vt.legendText||Vt.legendPosition;Y.each(function(Fe){var Ie=g.select(this).select("."+ae+"toggle"),ze=Fe[0].height,Re=Fe[0].trace.legendgroup,be=E(Fe,K,q);j&&Re!==""&&(be=Me[Re]);var ye=Qe?q:we||be;!Q&&!X&&(ye+=se/2),p.setRect(Ie,0,-ze/2,ye,ze)})}function B(_,U,Y,K){var re=_._fullLayout,ae=re[U],fe=F(ae),Q=O(ae),j=ae.xref==="paper",X=ae.yref==="paper";_._fullLayout._reservedMargin[U]={};var J=ae.y<.5?"b":"t",ee=ae.x<.5?"l":"r",se={r:re.width-Y,l:Y+ae._width,b:re.height-K,t:K+ae._effHeight};if(j&&X)return i.autoMargin(_,U,{x:ae.x,y:ae.y,l:ae._width*u[fe],r:ae._width*m[fe],b:ae._effHeight*m[Q],t:ae._effHeight*u[Q]});j?_._fullLayout._reservedMargin[U][J]=se[J]:X||ae.orientation==="v"?_._fullLayout._reservedMargin[U][ee]=se[ee]:_._fullLayout._reservedMargin[U][J]=se[J]}function F(_){return P.isRightAnchor(_)?"right":P.isCenterAnchor(_)?"center":"left"}function O(_){return P.isBottomAnchor(_)?"bottom":P.isMiddleAnchor(_)?"middle":"top"}function N(_){return _._id||"legend"}},82424:function(W,H,e){var g=e(73972),P=e(10130);W.exports=function(L,A,v){var p=A._inHover,t=P.isGrouped(A),r=P.isReversed(A),s={},n=[],l=!1,f={},u=0,m=0,c,w;function h(_,U,Y){if(A.visible!==!1&&!(v&&_!==A._id))if(U===""||!P.isGrouped(A)){var K="~~i"+u;n.push(K),s[K]=[Y],u++}else n.indexOf(U)===-1?(n.push(U),l=!0,s[U]=[Y]):s[U].push(Y)}for(c=0;c<L.length;c++){var o=L[c],d=o[0],M=d.trace,T=M.legend,E=M.legendgroup;if(!(!p&&(!M.visible||!M.showlegend)))if(g.traceIs(M,"pie-like"))for(f[E]||(f[E]={}),w=0;w<o.length;w++){var x=o[w].label;f[E][x]||(h(T,E,{label:x,color:o[w].color,i:o[w].i,trace:M,pts:o[w].pts}),f[E][x]=!0,m=Math.max(m,(x||"").length))}else h(T,E,d),m=Math.max(m,(M.name||"").length)}if(!n.length)return[];var S=!l||!t,b=[];for(c=0;c<n.length;c++){var a=s[n[c]];S?b.push(a[0]):b.push(a)}for(S&&(b=[b]),c=0;c<b.length;c++){var C=1/0;for(w=0;w<b[c].length;w++){var y=b[c][w].trace.legendrank;C>y&&(C=y)}b[c][0]._groupMinRank=C,b[c][0]._preGroupSort=c}var z=function(_,U){return _[0]._groupMinRank-U[0]._groupMinRank||_[0]._preGroupSort-U[0]._preGroupSort},I=function(_,U){return _.trace.legendrank-U.trace.legendrank||_._preSort-U._preSort};for(b.forEach(function(_,U){_[0]._preGroupSort=U}),b.sort(z),c=0;c<b.length;c++){b[c].forEach(function(_,U){_._preSort=U}),b[c].sort(I);var B=b[c][0].trace,F=null;for(w=0;w<b[c].length;w++){var O=b[c][w].trace.legendgrouptitle;if(O&&O.text){F=O,p&&(O.font=A._groupTitleFont);break}}if(r&&b[c].reverse(),F){var N=!1;for(w=0;w<b[c].length;w++)if(g.traceIs(b[c][w].trace,"pie-like")){N=!0;break}b[c].unshift({i:-1,groupTitle:F,noClick:N,trace:{showlegend:B.showlegend,legendgroup:B.legendgroup,visible:A.groupclick==="toggleitem"?!0:B.visible}})}for(w=0;w<b[c].length;w++)b[c][w]=[b[c][w]]}return A._lgroupsLength=b.length,A._maxNameLength=m,b}},85167:function(W,H,e){var g=e(73972),P=e(71828),i=P.pushUnique,L=!0;W.exports=function(v,p,t){var r=p._fullLayout;if(p._dragged||p._editing)return;var s=r.legend.itemclick,n=r.legend.itemdoubleclick,l=r.legend.groupclick;t===1&&s==="toggle"&&n==="toggleothers"&&L&&p.data&&p._context.showTips&&P.notifier(P._(p,"Double-click on legend to isolate one trace"),"long"),L=!1;var f;if(t===1?f=s:t===2&&(f=n),!f)return;var u=l==="togglegroup",m=r.hiddenlabels?r.hiddenlabels.slice():[],c=v.data()[0][0];if(c.groupTitle&&c.noClick)return;var w=p._fullData,h=(r.shapes||[]).filter(function(He){return He.showlegend}),o=w.concat(h),d=c.trace;d._isShape&&(d=d._fullInput);var M=d.legendgroup,T,E,x,S,b,a,C={},y=[],z=[],I=[];function B(He,Ge){var ke=y.indexOf(He),We=C.visible;return We||(We=C.visible=[]),y.indexOf(He)===-1&&(y.push(He),ke=y.length-1),We[ke]=Ge,ke}var F=(r.shapes||[]).map(function(He){return He._input}),O=!1;function N(He,Ge){F[He].visible=Ge,O=!0}function _(He,Ge){if(!(c.groupTitle&&!u)){var ke=He._fullInput||He,We=ke._isShape,it=ke.index;if(it===void 0&&(it=ke._index),g.hasTransform(ke,"groupby")){var et=z[it];if(!et){var tt=g.getTransformIndices(ke,"groupby"),at=tt[tt.length-1];et=P.keyedContainer(ke,"transforms["+at+"].styles","target","value.visible"),z[it]=et}var ht=et.get(He._group);ht===void 0&&(ht=!0),ht!==!1&&et.set(He._group,Ge),I[it]=B(it,ke.visible!==!1)}else{var yt=ke.visible===!1?!1:Ge;We?N(it,yt):B(it,yt)}}}var U=d.legend,Y=d._fullInput,K=Y&&Y._isShape;if(!K&&g.traceIs(d,"pie-like")){var re=c.label,ae=m.indexOf(re);if(f==="toggle")ae===-1?m.push(re):m.splice(ae,1);else if(f==="toggleothers"){var fe=ae!==-1,Q=[];for(T=0;T<p.calcdata.length;T++){var j=p.calcdata[T];for(E=0;E<j.length;E++){var X=j[E],J=X.label;U===j[0].trace.legend&&re!==J&&(m.indexOf(J)===-1&&(fe=!0),i(m,J),Q.push(J))}}if(!fe)for(var ee=0;ee<Q.length;ee++){var se=m.indexOf(Q[ee]);se!==-1&&m.splice(se,1)}}g.call("_guiRelayout",p,"hiddenlabels",m)}else{var q=M&&M.length,$=[],le;if(q)for(T=0;T<o.length;T++)le=o[T],le.visible&&le.legendgroup===M&&$.push(T);if(f==="toggle"){var ie;switch(d.visible){case!0:ie="legendonly";break;case!1:ie=!1;break;case"legendonly":ie=!0;break}if(q)if(u)for(T=0;T<o.length;T++){var ce=o[T];ce.visible!==!1&&ce.legendgroup===M&&_(ce,ie)}else _(d,ie);else _(d,ie)}else if(f==="toggleothers"){var me,Me,we,Oe,Be,Ce=!0;for(T=0;T<o.length;T++)if(Be=o[T],me=Be===d,we=Be.showlegend!==!0,!(me||we)&&(Me=q&&Be.legendgroup===M,!Me&&Be.legend===U&&Be.visible===!0&&!g.traceIs(Be,"notLegendIsolatable"))){Ce=!1;break}for(T=0;T<o.length;T++)if(Be=o[T],!(Be.visible===!1||Be.legend!==U)&&!g.traceIs(Be,"notLegendIsolatable"))switch(d.visible){case"legendonly":_(Be,!0);break;case!0:Oe=Ce?!0:"legendonly",me=Be===d,we=Be.showlegend!==!0&&!Be.legendgroup,Me=me||q&&Be.legendgroup===M,_(Be,Me||we?!0:Oe);break}}for(T=0;T<z.length;T++)if(x=z[T],!!x){var xe=x.constructUpdate(),Se=Object.keys(xe);for(E=0;E<Se.length;E++)S=Se[E],a=C[S]=C[S]||[],a[I[T]]=xe[S]}for(b=Object.keys(C),T=0;T<b.length;T++)for(S=b[T],E=0;E<y.length;E++)C[S].hasOwnProperty(E)||(C[S][E]=void 0);O?g.call("_guiUpdate",p,C,{shapes:F},y):g.call("_guiRestyle",p,C,y)}}},10130:function(W,H){H.isGrouped=function(g){return(g.traceorder||"").indexOf("grouped")!==-1},H.isVertical=function(g){return g.orientation!=="h"},H.isReversed=function(g){return(g.traceorder||"").indexOf("reversed")!==-1}},2199:function(W,H,e){W.exports={moduleType:"component",name:"legend",layoutAttributes:e(33030),supplyLayoutDefaults:e(99017),draw:e(43969),style:e(53630)}},53630:function(W,H,e){var g=e(39898),P=e(73972),i=e(71828),L=i.strTranslate,A=e(91424),v=e(7901),p=e(52075).extractOpts,t=e(34098),r=e(63463),s=e(53581).castOption,n=e(14928),l=12,f=5,u=2,m=10,c=5;W.exports=function(M,T,E){var x=T._fullLayout;E||(E=x.legend);var S=E.itemsizing==="constant",b=E.itemwidth,a=(b+n.itemGap*2)/2,C=L(a,0),y=function(Q,j,X,J){var ee;if(Q+1)ee=Q;else if(j&&j.width>0)ee=j.width;else return 0;return S?J:Math.min(ee,X)};M.each(function(Q){var j=g.select(this),X=i.ensureSingle(j,"g","layers");X.style("opacity",Q[0].trace.opacity);var J=E.valign,ee=Q[0].lineHeight,se=Q[0].height;if(J==="middle"||!ee||!se)X.attr("transform",null);else{var q={top:1,bottom:-1}[J],$=q*(.5*(ee-se+3));X.attr("transform",L(0,$))}var le=X.selectAll("g.legendfill").data([Q]);le.enter().append("g").classed("legendfill",!0);var ie=X.selectAll("g.legendlines").data([Q]);ie.enter().append("g").classed("legendlines",!0);var ce=X.selectAll("g.legendsymbols").data([Q]);ce.enter().append("g").classed("legendsymbols",!0),ce.selectAll("g.legendpoints").data([Q]).enter().append("g").classed("legendpoints",!0)}).each(fe).each(B).each(O).each(F).each(_).each(re).each(K).each(z).each(I).each(U).each(Y);function z(Q){var j=h(Q),X=j.showFill,J=j.showLine,ee=j.showGradientLine,se=j.showGradientFill,q=j.anyFill,$=j.anyLine,le=Q[0],ie=le.trace,ce,me,Me=p(ie),we=Me.colorscale,Oe=Me.reversescale,Be=function(We){if(We.size())if(X)A.fillGroupStyle(We,T);else{var it="legendfill-"+ie.uid;A.gradient(We,T,it,w(Oe),we,"fill")}},Ce=function(We){if(We.size()){var it="legendline-"+ie.uid;A.lineGroupStyle(We),A.gradient(We,T,it,w(Oe),we,"stroke")}},xe=t.hasMarkers(ie)||!q?"M5,0":$?"M5,-2":"M5,-3",Se=g.select(this),He=Se.select(".legendfill").selectAll("path").data(X||se?[Q]:[]);if(He.enter().append("path").classed("js-fill",!0),He.exit().remove(),He.attr("d",xe+"h"+b+"v6h-"+b+"z").call(Be),J||ee){var Ge=y(void 0,ie.line,m,f);me=i.minExtend(ie,{line:{width:Ge}}),ce=[i.minExtend(le,{trace:me})]}var ke=Se.select(".legendlines").selectAll("path").data(J||ee?[ce]:[]);ke.enter().append("path").classed("js-line",!0),ke.exit().remove(),ke.attr("d",xe+(ee?"l"+b+",0.0001":"h"+b)).call(J?A.lineGroupStyle:Ce)}function I(Q){var j=h(Q),X=j.anyFill,J=j.anyLine,ee=j.showLine,se=j.showMarker,q=Q[0],$=q.trace,le=!se&&!J&&!X&&t.hasText($),ie,ce;function me(He,Ge,ke,We){var it=i.nestedProperty($,He).get(),et=i.isArrayOrTypedArray(it)&&Ge?Ge(it):it;if(S&&et&&We!==void 0&&(et=We),ke){if(et<ke[0])return ke[0];if(et>ke[1])return ke[1]}return et}function Me(He){return q._distinct&&q.index&&He[q.index]?He[q.index]:He[0]}if(se||le||ee){var we={},Oe={};if(se){we.mc=me("marker.color",Me),we.mx=me("marker.symbol",Me),we.mo=me("marker.opacity",i.mean,[.2,1]),we.mlc=me("marker.line.color",Me),we.mlw=me("marker.line.width",i.mean,[0,5],u),Oe.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Be=me("marker.size",i.mean,[2,16],l);we.ms=Be,Oe.marker.size=Be}ee&&(Oe.line={width:me("line.width",Me,[0,10],f)}),le&&(we.tx="Aa",we.tp=me("textposition",Me),we.ts=10,we.tc=me("textfont.color",Me),we.tf=me("textfont.family",Me)),ie=[i.minExtend(q,we)],ce=i.minExtend($,Oe),ce.selectedpoints=null,ce.texttemplate=null}var Ce=g.select(this).select("g.legendpoints"),xe=Ce.selectAll("path.scatterpts").data(se?ie:[]);xe.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",C),xe.exit().remove(),xe.call(A.pointStyle,ce,T),se&&(ie[0].mrc=3);var Se=Ce.selectAll("g.pointtext").data(le?ie:[]);Se.enter().append("g").classed("pointtext",!0).append("text").attr("transform",C),Se.exit().remove(),Se.selectAll("text").call(A.textPointStyle,ce,T)}function B(Q){var j=Q[0].trace,X=j.type==="waterfall";if(Q[0]._distinct&&X){var J=Q[0].trace[Q[0].dir].marker;return Q[0].mc=J.color,Q[0].mlw=J.line.width,Q[0].mlc=J.line.color,N(Q,this,"waterfall")}var ee=[];j.visible&&X&&(ee=Q[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var se=g.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(ee);se.enter().append("path").classed("legendwaterfall",!0).attr("transform",C).style("stroke-miterlimit",1),se.exit().remove(),se.each(function(q){var $=g.select(this),le=j[q[0]].marker,ie=y(void 0,le.line,c,u);$.attr("d",q[1]).style("stroke-width",ie+"px").call(v.fill,le.color),ie&&$.call(v.stroke,le.line.color)})}function F(Q){N(Q,this)}function O(Q){N(Q,this,"funnel")}function N(Q,j,X){var J=Q[0].trace,ee=J.marker||{},se=ee.line||{},q=X?J.visible&&J.type===X:P.traceIs(J,"bar"),$=g.select(j).select("g.legendpoints").selectAll("path.legend"+X).data(q?[Q]:[]);$.enter().append("path").classed("legend"+X,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",C),$.exit().remove(),$.each(function(le){var ie=g.select(this),ce=le[0],me=y(ce.mlw,ee.line,c,u);ie.style("stroke-width",me+"px");var Me=ce.mcc;if(!E._inHover&&"mc"in ce){var we=p(ee),Oe=we.mid;Oe===void 0&&(Oe=(we.max+we.min)/2),Me=A.tryColorscale(ee,"")(Oe)}var Be=Me||ce.mc||ee.color,Ce=ee.pattern,xe=Ce&&A.getPatternAttr(Ce.shape,0,"");if(xe){var Se=A.getPatternAttr(Ce.bgcolor,0,null),He=A.getPatternAttr(Ce.fgcolor,0,null),Ge=Ce.fgopacity,ke=o(Ce.size,8,10),We=o(Ce.solidity,.5,1),it="legend-"+J.uid;ie.call(A.pattern,"legend",T,it,xe,ke,We,Me,Ce.fillmode,Se,He,Ge)}else ie.call(v.fill,Be);me&&v.stroke(ie,ce.mlc||se.color)})}function _(Q){var j=Q[0].trace,X=g.select(this).select("g.legendpoints").selectAll("path.legendbox").data(j.visible&&P.traceIs(j,"box-violin")?[Q]:[]);X.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",C),X.exit().remove(),X.each(function(){var J=g.select(this);if((j.boxpoints==="all"||j.points==="all")&&v.opacity(j.fillcolor)===0&&v.opacity((j.line||{}).color)===0){var ee=i.minExtend(j,{marker:{size:S?l:i.constrain(j.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});X.call(A.pointStyle,ee,T)}else{var se=y(void 0,j.line,c,u);J.style("stroke-width",se+"px").call(v.fill,j.fillcolor),se&&v.stroke(J,j.line.color)}})}function U(Q){var j=Q[0].trace,X=g.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(j.visible&&j.type==="candlestick"?[Q,Q]:[]);X.enter().append("path").classed("legendcandle",!0).attr("d",function(J,ee){return ee?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",C).style("stroke-miterlimit",1),X.exit().remove(),X.each(function(J,ee){var se=g.select(this),q=j[ee?"increasing":"decreasing"],$=y(void 0,q.line,c,u);se.style("stroke-width",$+"px").call(v.fill,q.fillcolor),$&&v.stroke(se,q.line.color)})}function Y(Q){var j=Q[0].trace,X=g.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(j.visible&&j.type==="ohlc"?[Q,Q]:[]);X.enter().append("path").classed("legendohlc",!0).attr("d",function(J,ee){return ee?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",C).style("stroke-miterlimit",1),X.exit().remove(),X.each(function(J,ee){var se=g.select(this),q=j[ee?"increasing":"decreasing"],$=y(void 0,q.line,c,u);se.style("fill","none").call(A.dashLine,q.line.dash,$),$&&v.stroke(se,q.line.color)})}function K(Q){ae(Q,this,"pie")}function re(Q){ae(Q,this,"funnelarea")}function ae(Q,j,X){var J=Q[0],ee=J.trace,se=X?ee.visible&&ee.type===X:P.traceIs(ee,X),q=g.select(j).select("g.legendpoints").selectAll("path.legend"+X).data(se?[Q]:[]);if(q.enter().append("path").classed("legend"+X,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",C),q.exit().remove(),q.size()){var $=ee.marker||{},le=y(s($.line.width,J.pts),$.line,c,u),ie="pieLike",ce=i.minExtend(ee,{marker:{line:{width:le}}},ie),me=i.minExtend(J,{trace:ce},ie);r(q,me,ce,T)}}function fe(Q){var j=Q[0].trace,X,J=[];if(j.visible)switch(j.type){case"histogram2d":case"heatmap":J=[["M-15,-2V4H15V-2Z"]],X=!0;break;case"choropleth":case"choroplethmapbox":J=[["M-6,-6V6H6V-6Z"]],X=!0;break;case"densitymapbox":J=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],X="radial";break;case"cone":J=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],X=!1;break;case"streamtube":J=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],X=!1;break;case"surface":J=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],X=!0;break;case"mesh3d":J=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],X=!1;break;case"volume":J=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],X=!0;break;case"isosurface":J=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],X=!1;break}var ee=g.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(J);ee.enter().append("path").classed("legend3dandfriends",!0).attr("transform",C).style("stroke-miterlimit",1),ee.exit().remove(),ee.each(function(se,q){var $=g.select(this),le=p(j),ie=le.colorscale,ce=le.reversescale,me=function(Be){if(Be.size()){var Ce="legendfill-"+j.uid;A.gradient(Be,T,Ce,w(ce,X==="radial"),ie,"fill")}},Me;if(ie){if(!X){var Oe=ie.length;Me=q===0?ie[ce?Oe-1:0][1]:q===1?ie[ce?0:Oe-1][1]:ie[Math.floor((Oe-1)/2)][1]}}else{var we=j.vertexcolor||j.facecolor||j.color;Me=i.isArrayOrTypedArray(we)?we[q]||we[0]:we}$.attr("d",se[0]),Me?$.call(v.fill,Me):$.call(me)})}};function w(d,M){var T=M?"radial":"horizontal";return T+(d?"":"reversed")}function h(d){var M=d[0].trace,T=M.contours,E=t.hasLines(M),x=t.hasMarkers(M),S=M.visible&&M.fill&&M.fill!=="none",b=!1,a=!1;if(T){var C=T.coloring;C==="lines"?b=!0:E=C==="none"||C==="heatmap"||T.showlines,T.type==="constraint"?S=T._operation!=="=":(C==="fill"||C==="heatmap")&&(a=!0)}return{showMarker:x,showLine:E,showFill:S,showGradientLine:b,showGradientFill:a,anyLine:E||b,anyFill:S||a}}function o(d,M,T){return d&&i.isArrayOrTypedArray(d)?M:d>T?T:d}},42068:function(W,H,e){e(93348),W.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(W,H,e){var g=e(73972),P=e(74875),i=e(41675),L=e(24255),A=e(34031).eraseActiveShape,v=e(71828),p=v._,t=W.exports={};t.toImage={name:"toImage",title:function(d){var M=d._context.toImageButtonOptions||{},T=M.format||"png";return T==="png"?p(d,"Download plot as a png"):p(d,"Download plot")},icon:L.camera,click:function(d){var M=d._context.toImageButtonOptions,T={format:M.format||"png"};v.notifier(p(d,"Taking snapshot - this may take a few seconds"),"long"),T.format!=="svg"&&v.isIE()&&(v.notifier(p(d,"IE only supports svg.  Changing format to svg."),"long"),T.format="svg"),["filename","width","height","scale"].forEach(function(E){E in M&&(T[E]=M[E])}),g.call("downloadImage",d,T).then(function(E){v.notifier(p(d,"Snapshot succeeded")+" - "+E,"long")}).catch(function(){v.notifier(p(d,"Sorry, there was a problem downloading your snapshot!"),"long")})}},t.sendDataToCloud={name:"sendDataToCloud",title:function(d){return p(d,"Edit in Chart Studio")},icon:L.disk,click:function(d){P.sendDataToCloud(d)}},t.editInChartStudio={name:"editInChartStudio",title:function(d){return p(d,"Edit in Chart Studio")},icon:L.pencil,click:function(d){P.sendDataToCloud(d)}},t.zoom2d={name:"zoom2d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"dragmode",val:"zoom",icon:L.zoombox,click:r},t.pan2d={name:"pan2d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"dragmode",val:"pan",icon:L.pan,click:r},t.select2d={name:"select2d",_cat:"select",title:function(d){return p(d,"Box Select")},attr:"dragmode",val:"select",icon:L.selectbox,click:r},t.lasso2d={name:"lasso2d",_cat:"lasso",title:function(d){return p(d,"Lasso Select")},attr:"dragmode",val:"lasso",icon:L.lasso,click:r},t.drawclosedpath={name:"drawclosedpath",title:function(d){return p(d,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:L.drawclosedpath,click:r},t.drawopenpath={name:"drawopenpath",title:function(d){return p(d,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:L.drawopenpath,click:r},t.drawline={name:"drawline",title:function(d){return p(d,"Draw line")},attr:"dragmode",val:"drawline",icon:L.drawline,click:r},t.drawrect={name:"drawrect",title:function(d){return p(d,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:L.drawrect,click:r},t.drawcircle={name:"drawcircle",title:function(d){return p(d,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:L.drawcircle,click:r},t.eraseshape={name:"eraseshape",title:function(d){return p(d,"Erase active shape")},icon:L.eraseshape,click:A},t.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:r},t.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:r},t.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(d){return p(d,"Autoscale")},attr:"zoom",val:"auto",icon:L.autoscale,click:r},t.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(d){return p(d,"Reset axes")},attr:"zoom",val:"reset",icon:L.home,click:r},t.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(d){return p(d,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:r},t.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(d){return p(d,"Compare data on hover")},attr:"hovermode",val:function(d){return d._fullLayout._isHoriz?"y":"x"},icon:L.tooltip_compare,gravity:"ne",click:r};function r(d,M){var T=M.currentTarget,E=T.getAttribute("data-attr"),x=T.getAttribute("data-val")||!0,S=d._fullLayout,b={},a=i.list(d,null,!0),C=S._cartesianSpikesEnabled,y,z;if(E==="zoom"){var I=x==="in"?.5:2,B=(1+I)/2,F=(1-I)/2,O;for(z=0;z<a.length;z++)if(y=a[z],!y.fixedrange)if(O=y._name,x==="auto")b[O+".autorange"]=!0;else if(x==="reset")y._rangeInitial0===void 0&&y._rangeInitial1===void 0?b[O+".autorange"]=!0:y._rangeInitial0===void 0?(b[O+".autorange"]=y._autorangeInitial,b[O+".range"]=[null,y._rangeInitial1]):y._rangeInitial1===void 0?(b[O+".range"]=[y._rangeInitial0,null],b[O+".autorange"]=y._autorangeInitial):b[O+".range"]=[y._rangeInitial0,y._rangeInitial1],y._showSpikeInitial!==void 0&&(b[O+".showspikes"]=y._showSpikeInitial,C==="on"&&!y._showSpikeInitial&&(C="off"));else{var N=[y.r2l(y.range[0]),y.r2l(y.range[1])],_=[B*N[0]+F*N[1],B*N[1]+F*N[0]];b[O+".range[0]"]=y.l2r(_[0]),b[O+".range[1]"]=y.l2r(_[1])}}else E==="hovermode"&&(x==="x"||x==="y")&&(x=S._isHoriz?"y":"x",T.setAttribute("data-val",x)),b[E]=x;S._cartesianSpikesEnabled=C,g.call("_guiRelayout",d,b)}t.zoom3d={name:"zoom3d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:L.zoombox,click:s},t.pan3d={name:"pan3d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"scene.dragmode",val:"pan",icon:L.pan,click:s},t.orbitRotation={name:"orbitRotation",title:function(d){return p(d,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:L["3d_rotate"],click:s},t.tableRotation={name:"tableRotation",title:function(d){return p(d,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:L["z-axis"],click:s};function s(d,M){for(var T=M.currentTarget,E=T.getAttribute("data-attr"),x=T.getAttribute("data-val")||!0,S=d._fullLayout._subplots.gl3d||[],b={},a=E.split("."),C=0;C<S.length;C++)b[S[C]+"."+a[1]]=x;var y=x==="pan"?x:"zoom";b.dragmode=y,g.call("_guiRelayout",d,b)}t.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(d){return p(d,"Reset camera to default")},attr:"resetDefault",icon:L.home,click:n},t.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(d){return p(d,"Reset camera to last save")},attr:"resetLastSave",icon:L.movie,click:n};function n(d,M){for(var T=M.currentTarget,E=T.getAttribute("data-attr"),x=E==="resetLastSave",S=E==="resetDefault",b=d._fullLayout,a=b._subplots.gl3d||[],C={},y=0;y<a.length;y++){var z=a[y],I=z+".camera",B=z+".aspectratio",F=z+".aspectmode",O=b[z]._scene,N;x?(C[I+".up"]=O.viewInitial.up,C[I+".eye"]=O.viewInitial.eye,C[I+".center"]=O.viewInitial.center,N=!0):S&&(C[I+".up"]=null,C[I+".eye"]=null,C[I+".center"]=null,N=!0),N&&(C[B+".x"]=O.viewInitial.aspectratio.x,C[B+".y"]=O.viewInitial.aspectratio.y,C[B+".z"]=O.viewInitial.aspectratio.z,C[F]=O.viewInitial.aspectmode)}g.call("_guiRelayout",d,C)}t.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:f};function l(d,M){var T=M.currentTarget,E=T._previousVal,x=d._fullLayout,S=x._subplots.gl3d||[],b=["xaxis","yaxis","zaxis"],a={},C={};if(E)C=E,T._previousVal=null;else{for(var y=0;y<S.length;y++){var z=S[y],I=x[z],B=z+".hovermode";a[B]=I.hovermode,C[B]=!1;for(var F=0;F<3;F++){var O=b[F],N=z+"."+O+".showspikes";C[N]=!1,a[N]=I[O].showspikes}}T._previousVal=a}return C}function f(d,M){var T=l(d,M);g.call("_guiRelayout",d,T)}t.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:u},t.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:u},t.resetGeo={name:"resetGeo",_cat:"reset",title:function(d){return p(d,"Reset")},attr:"reset",val:null,icon:L.autoscale,click:u},t.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:c};function u(d,M){for(var T=M.currentTarget,E=T.getAttribute("data-attr"),x=T.getAttribute("data-val")||!0,S=d._fullLayout,b=S._subplots.geo||[],a=0;a<b.length;a++){var C=b[a],y=S[C];if(E==="zoom"){var z=y.projection.scale,I=x==="in"?2*z:.5*z;g.call("_guiRelayout",d,C+".projection.scale",I)}}E==="reset"&&o(d,"geo")}t.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:c},t.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:c};function m(d){var M=d._fullLayout;return M.hovermode?!1:M._has("cartesian")?M._isHoriz?"y":"x":"closest"}function c(d){var M=m(d);g.call("_guiRelayout",d,"hovermode",M)}t.resetViewSankey={name:"resetSankeyGroup",title:function(d){return p(d,"Reset view")},icon:L.home,click:function(d){for(var M={"node.groups":[],"node.x":[],"node.y":[]},T=0;T<d._fullData.length;T++){var E=d._fullData[T]._viewInitial;M["node.groups"].push(E.node.groups.slice()),M["node.x"].push(E.node.x.slice()),M["node.y"].push(E.node.y.slice())}g.call("restyle",d,M)}},t.toggleHover={name:"toggleHover",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:function(d,M){var T=l(d,M);T.hovermode=m(d),g.call("_guiRelayout",d,T)}},t.resetViews={name:"resetViews",title:function(d){return p(d,"Reset views")},icon:L.home,click:function(d,M){var T=M.currentTarget;T.setAttribute("data-attr","zoom"),T.setAttribute("data-val","reset"),r(d,M),T.setAttribute("data-attr","resetLastSave"),n(d,M),o(d,"geo"),o(d,"mapbox")}},t.toggleSpikelines={name:"toggleSpikelines",title:function(d){return p(d,"Toggle Spike Lines")},icon:L.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(d){var M=d._fullLayout,T=M._cartesianSpikesEnabled;M._cartesianSpikesEnabled=T==="on"?"off":"on",g.call("_guiRelayout",d,w(d))}};function w(d){for(var M=d._fullLayout,T=M._cartesianSpikesEnabled==="on",E=i.list(d,null,!0),x={},S=0;S<E.length;S++){var b=E[S];x[b._name+".showspikes"]=T?!0:b._showSpikeInitial}return x}t.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(d){return p(d,"Reset view")},attr:"reset",icon:L.home,click:function(d){o(d,"mapbox")}},t.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:h},t.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:h};function h(d,M){for(var T=M.currentTarget,E=T.getAttribute("data-val"),x=d._fullLayout,S=x._subplots.mapbox||[],b=1.05,a={},C=0;C<S.length;C++){var y=S[C],z=x[y].zoom,I=E==="in"?b*z:z/b;a[y+".zoom"]=I}g.call("_guiRelayout",d,a)}function o(d,M){for(var T=d._fullLayout,E=T._subplots[M]||[],x={},S=0;S<E.length;S++)for(var b=E[S],a=T[b]._subplot,C=a.viewInitial,y=Object.keys(C),z=0;z<y.length;z++){var I=y[z];x[b+"."+I]=C[I]}g.call("_guiRelayout",d,x)}},93348:function(W,H,e){var g=e(26023),P=Object.keys(g),i=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],L=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(i),A=[],v=function(p){if(L.indexOf(p._cat||p.name)===-1){var t=p.name,r=(p._cat||p.name).toLowerCase();A.indexOf(t)===-1&&A.push(t),A.indexOf(r)===-1&&A.push(r)}};P.forEach(function(p){v(g[p])}),A.sort(),W.exports={DRAW_MODES:i,backButtons:L,foreButtons:A}},35750:function(W,H,e){var g=e(71828),P=e(7901),i=e(44467),L=e(42068);W.exports=function(v,p){var t=v.modebar||{},r=i.newContainer(p,"modebar");function s(l,f){return g.coerce(t,r,L,l,f)}s("orientation"),s("bgcolor",P.addOpacity(p.paper_bgcolor,.5));var n=P.contrast(P.rgb(p.modebar.bgcolor));s("color",P.addOpacity(n,.3)),s("activecolor",P.addOpacity(n,.7)),s("uirevision",p.uirevision),s("add"),s("remove")}},64168:function(W,H,e){W.exports={moduleType:"component",name:"modebar",layoutAttributes:e(42068),supplyLayoutDefaults:e(35750),manage:e(14192)}},14192:function(W,H,e){var g=e(41675),P=e(34098),i=e(73972),L=e(23469).isUnifiedHover,A=e(37676),v=e(26023),p=e(93348).DRAW_MODES,t=e(71828).extendDeep;W.exports=function(c){var w=c._fullLayout,h=c._context,o=w._modeBar;if(!h.displayModeBar&&!h.watermark){o&&(o.destroy(),delete w._modeBar);return}if(!Array.isArray(h.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(h.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d=h.modeBarButtons,M;Array.isArray(d)&&d.length?M=u(d):!h.displayModeBar&&h.watermark?M=[]:M=r(c),o?o.update(c,M):w._modeBar=A(c,M)};function r(m){var c=m._fullLayout,w=m._fullData,h=m._context;function o(q,$){if(typeof $=="string"){if($.toLowerCase()===q.toLowerCase())return!0}else{var le=$.name,ie=$._cat||$.name;if(le===q||ie===q.toLowerCase())return!0}return!1}var d=c.modebar.add;typeof d=="string"&&(d=[d]);var M=c.modebar.remove;typeof M=="string"&&(M=[M]);var T=h.modeBarButtonsToAdd.concat(d.filter(function(q){for(var $=0;$<h.modeBarButtonsToRemove.length;$++)if(o(q,h.modeBarButtonsToRemove[$]))return!1;return!0})),E=h.modeBarButtonsToRemove.concat(M.filter(function(q){for(var $=0;$<h.modeBarButtonsToAdd.length;$++)if(o(q,h.modeBarButtonsToAdd[$]))return!1;return!0})),x=c._has("cartesian"),S=c._has("gl3d"),b=c._has("geo"),a=c._has("pie"),C=c._has("funnelarea"),y=c._has("gl2d"),z=c._has("ternary"),I=c._has("mapbox"),B=c._has("polar"),F=c._has("smith"),O=c._has("sankey"),N=s(c),_=L(c.hovermode),U=[];function Y(q){if(q.length){for(var $=[],le=0;le<q.length;le++){for(var ie=q[le],ce=v[ie],me=ce.name.toLowerCase(),Me=(ce._cat||ce.name).toLowerCase(),we=!1,Oe=0;Oe<E.length;Oe++){var Be=E[Oe].toLowerCase();if(Be===me||Be===Me){we=!0;break}}we||$.push(v[ie])}U.push($)}}var K=["toImage"];h.showEditInChartStudio?K.push("editInChartStudio"):h.showSendToCloud&&K.push("sendDataToCloud"),Y(K);var re=[],ae=[],fe=[],Q=[];(x||y||a||C||z)+b+S+I+B+F>1?(ae=["toggleHover"],fe=["resetViews"]):b?(re=["zoomInGeo","zoomOutGeo"],ae=["hoverClosestGeo"],fe=["resetGeo"]):S?(ae=["hoverClosest3d"],fe=["resetCameraDefault3d","resetCameraLastSave3d"]):I?(re=["zoomInMapbox","zoomOutMapbox"],ae=["toggleHover"],fe=["resetViewMapbox"]):y?ae=["hoverClosestGl2d"]:a?ae=["hoverClosestPie"]:O?(ae=["hoverClosestCartesian","hoverCompareCartesian"],fe=["resetViewSankey"]):ae=["toggleHover"],x&&(ae=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(l(w)||_)&&(ae=[]),(x||y)&&!N&&(re=["zoomIn2d","zoomOut2d","autoScale2d"],fe[0]!=="resetViews"&&(fe=["resetScale2d"])),S?Q=["zoom3d","pan3d","orbitRotation","tableRotation"]:(x||y)&&!N||z?Q=["zoom2d","pan2d"]:I||b?Q=["pan2d"]:B&&(Q=["zoom2d"]),n(w)&&Q.push("select2d","lasso2d");var j=[],X=function(q){j.indexOf(q)===-1&&ae.indexOf(q)!==-1&&j.push(q)};if(Array.isArray(T)){for(var J=[],ee=0;ee<T.length;ee++){var se=T[ee];typeof se=="string"?(se=se.toLowerCase(),p.indexOf(se)!==-1?(c._has("mapbox")||c._has("cartesian"))&&Q.push(se):se==="togglespikelines"?X("toggleSpikelines"):se==="togglehover"?X("toggleHover"):se==="hovercompare"?X("hoverCompareCartesian"):se==="hoverclosest"?(X("hoverClosestCartesian"),X("hoverClosestGeo"),X("hoverClosest3d"),X("hoverClosestGl2d"),X("hoverClosestPie")):se==="v1hovermode"&&(X("toggleHover"),X("hoverClosestCartesian"),X("hoverCompareCartesian"),X("hoverClosestGeo"),X("hoverClosest3d"),X("hoverClosestGl2d"),X("hoverClosestPie"))):J.push(se)}T=J}return Y(Q),Y(re.concat(fe)),Y(j),f(U,T)}function s(m){for(var c=g.list({_fullLayout:m},null,!0),w=0;w<c.length;w++)if(!c[w].fixedrange)return!1;return!0}function n(m){for(var c=!1,w=0;w<m.length&&!c;w++){var h=m[w];!h._module||!h._module.selectPoints||(i.traceIs(h,"scatter-like")?(P.hasMarkers(h)||P.hasText(h))&&(c=!0):i.traceIs(h,"box-violin")?(h.boxpoints==="all"||h.points==="all")&&(c=!0):c=!0)}return c}function l(m){for(var c=0;c<m.length;c++)if(!i.traceIs(m[c],"noHover"))return!1;return!0}function f(m,c){if(c.length)if(Array.isArray(c[0]))for(var w=0;w<c.length;w++)m.push(c[w]);else m.push(c);return m}function u(m){for(var c=t([],m),w=0;w<c.length;w++)for(var h=c[w],o=0;o<h.length;o++){var d=h[o];if(typeof d=="string")if(v[d]!==void 0)c[w][o]=v[d];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return c}},37676:function(W,H,e){var g=e(39898),P=e(92770),i=e(71828),L=e(24255),A=e(11506).version,v=new DOMParser;function p(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var t=p.prototype;t.update=function(n,l){this.graphInfo=n;var f=this.graphInfo._context,u=this.graphInfo._fullLayout,m="modebar-"+u._uid;this.element.setAttribute("id",m),this._uid=m,this.element.className="modebar",f.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),u.modebar.orientation==="v"&&(this.element.className+=" vertical",l=l.reverse());var c=u.modebar,w=f.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";i.deleteRelatedStyleRule(m),i.addRelatedStyleRule(m,w+"#"+m+" .modebar-group","background-color: "+c.bgcolor),i.addRelatedStyleRule(m,"#"+m+" .modebar-btn .icon path","fill: "+c.color),i.addRelatedStyleRule(m,"#"+m+" .modebar-btn:hover .icon path","fill: "+c.activecolor),i.addRelatedStyleRule(m,"#"+m+" .modebar-btn.active .icon path","fill: "+c.activecolor);var h=!this.hasButtons(l),o=this.hasLogo!==f.displaylogo,d=this.locale!==f.locale;if(this.locale=f.locale,(h||o||d)&&(this.removeAllButtons(),this.updateButtons(l),f.watermark||f.displaylogo)){var M=this.getLogo();f.watermark&&(M.className=M.className+" watermark"),u.modebar.orientation==="v"?this.element.insertBefore(M,this.element.childNodes[0]):this.element.appendChild(M),this.hasLogo=!0}this.updateActiveButton()},t.updateButtons=function(n){var l=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(f){var u=l.createGroup();f.forEach(function(m){var c=m.name;if(!c)throw new Error("must provide button 'name' in button config");if(l.buttonsNames.indexOf(c)!==-1)throw new Error("button name '"+c+"' is taken");l.buttonsNames.push(c);var w=l.createButton(m);l.buttonElements.push(w),u.appendChild(w)}),l.element.appendChild(u)})},t.createGroup=function(){var n=document.createElement("div");return n.className="modebar-group",n},t.createButton=function(n){var l=this,f=document.createElement("a");f.setAttribute("rel","tooltip"),f.className="modebar-btn";var u=n.title;u===void 0?u=n.name:typeof u=="function"&&(u=u(this.graphInfo)),(u||u===0)&&f.setAttribute("data-title",u),n.attr!==void 0&&f.setAttribute("data-attr",n.attr);var m=n.val;m!==void 0&&(typeof m=="function"&&(m=m(this.graphInfo)),f.setAttribute("data-val",m));var c=n.click;if(typeof c!="function")throw new Error("must provide button 'click' function in button config");f.addEventListener("click",function(h){n.click(l.graphInfo,h),l.updateActiveButton(h.currentTarget)}),f.setAttribute("data-toggle",n.toggle||!1),n.toggle&&g.select(f).classed("active",!0);var w=n.icon;return typeof w=="function"?f.appendChild(w()):f.appendChild(this.createIcon(w||L.question)),f.setAttribute("data-gravity",n.gravity||"n"),f},t.createIcon=function(n){var l=P(n.height)?Number(n.height):n.ascent-n.descent,f="http://www.w3.org/2000/svg",u;if(n.path){u=document.createElementNS(f,"svg"),u.setAttribute("viewBox",[0,0,n.width,l].join(" ")),u.setAttribute("class","icon");var m=document.createElementNS(f,"path");m.setAttribute("d",n.path),n.transform?m.setAttribute("transform",n.transform):n.ascent!==void 0&&m.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),u.appendChild(m)}if(n.svg){var c=v.parseFromString(n.svg,"application/xml");u=c.childNodes[0]}return u.setAttribute("height","1em"),u.setAttribute("width","1em"),u},t.updateActiveButton=function(n){var l=this.graphInfo._fullLayout,f=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(u){var m=u.getAttribute("data-val")||!0,c=u.getAttribute("data-attr"),w=u.getAttribute("data-toggle")==="true",h=g.select(u);if(w)c===f&&h.classed("active",!h.classed("active"));else{var o=c===null?c:i.nestedProperty(l,c).get();h.classed("active",o===m)}})},t.hasButtons=function(n){var l=this.buttons;if(!l||n.length!==l.length)return!1;for(var f=0;f<n.length;++f){if(n[f].length!==l[f].length)return!1;for(var u=0;u<n[f].length;u++)if(n[f][u].name!==l[f][u].name)return!1}return!0};function r(n){return n+" (v"+A+")"}t.getLogo=function(){var n=this.createGroup(),l=document.createElement("a");return l.href="https://plotly.com/",l.target="_blank",l.setAttribute("data-title",r(i._(this.graphInfo,"Produced with Plotly.js"))),l.className="modebar-btn plotlyjsicon modebar-btn--logo",l.appendChild(this.createIcon(L.newplotlylogo)),n.appendChild(l),n},t.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},t.destroy=function(){i.removeElement(this.container.querySelector(".modebar")),i.deleteRelatedStyleRule(this._uid)};function s(n,l){var f=n._fullLayout,u=new p({graphInfo:n,container:f._modebardiv.node(),buttons:l});return f._privateplot&&g.select(u.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),u}W.exports=s},37113:function(W,H,e){var g=e(41940),P=e(22399),i=e(44467).templatedArray,L=i("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});W.exports={visible:{valType:"boolean",editType:"plot"},buttons:L,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:g({editType:"plot"}),bgcolor:{valType:"color",dflt:P.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(W){W.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(W,H,e){var g=e(71828),P=e(7901),i=e(44467),L=e(85501),A=e(37113),v=e(89573);W.exports=function(s,n,l,f,u){var m=s.rangeselector||{},c=i.newContainer(n,"rangeselector");function w(T,E){return g.coerce(m,c,A,T,E)}var h=L(m,c,{name:"buttons",handleItemDefaults:p,calendar:u}),o=w("visible",h.length>0);if(o){var d=t(n,l,f);w("x",d[0]),w("y",d[1]),g.noneOrAll(s,n,["x","y"]),w("xanchor"),w("yanchor"),g.coerceFont(w,"font",l.font);var M=w("bgcolor");w("activecolor",P.contrast(M,v.lightAmount,v.darkAmount)),w("bordercolor"),w("borderwidth")}};function p(r,s,n,l){var f=l.calendar;function u(w,h){return g.coerce(r,s,A.buttons,w,h)}var m=u("visible");if(m){var c=u("step");c!=="all"&&(f&&f!=="gregorian"&&(c==="month"||c==="year")?s.stepmode="backward":u("stepmode"),u("count")),u("label")}}function t(r,s,n){for(var l=n.filter(function(c){return s[c].anchor===r._id}),f=0,u=0;u<l.length;u++){var m=s[l[u]].domain;m&&(f=Math.max(m[1],f))}return[r.domain[0],f+v.yPad]}},21598:function(W,H,e){var g=e(39898),P=e(73972),i=e(74875),L=e(7901),A=e(91424),v=e(71828),p=v.strTranslate,t=e(63893),r=e(41675),s=e(18783),n=s.LINE_SPACING,l=s.FROM_TL,f=s.FROM_BR,u=e(89573),m=e(70565);W.exports=function(S){var b=S._fullLayout,a=b._infolayer.selectAll(".rangeselector").data(c(S),w);a.enter().append("g").classed("rangeselector",!0),a.exit().remove(),a.style({cursor:"pointer","pointer-events":"all"}),a.each(function(C){var y=g.select(this),z=C,I=z.rangeselector,B=y.selectAll("g.button").data(v.filterVisible(I.buttons));B.enter().append("g").classed("button",!0),B.exit().remove(),B.each(function(F){var O=g.select(this),N=m(z,F);F._isActive=h(z,F,N),O.call(o,I,F),O.call(M,I,F,S),O.on("click",function(){S._dragged||P.call("_guiRelayout",S,N)}),O.on("mouseover",function(){F._isHovered=!0,O.call(o,I,F)}),O.on("mouseout",function(){F._isHovered=!1,O.call(o,I,F)})}),E(S,B,I,z._name,y)})};function c(x){for(var S=r.list(x,"x",!0),b=[],a=0;a<S.length;a++){var C=S[a];C.rangeselector&&C.rangeselector.visible&&b.push(C)}return b}function w(x){return x._id}function h(x,S,b){if(S.step==="all")return x.autorange===!0;var a=Object.keys(b);return x.range[0]===b[a[0]]&&x.range[1]===b[a[1]]}function o(x,S,b){var a=v.ensureSingle(x,"rect","selector-rect",function(C){C.attr("shape-rendering","crispEdges")});a.attr({rx:u.rx,ry:u.ry}),a.call(L.stroke,S.bordercolor).call(L.fill,d(S,b)).style("stroke-width",S.borderwidth+"px")}function d(x,S){return S._isActive||S._isHovered?x.activecolor:x.bgcolor}function M(x,S,b,a){function C(z){t.convertToTspans(z,a)}var y=v.ensureSingle(x,"text","selector-text",function(z){z.attr("text-anchor","middle")});y.call(A.font,S.font).text(T(b,a._fullLayout._meta)).call(C)}function T(x,S){return x.label?S?v.templateString(x.label,S):x.label:x.step==="all"?"all":x.count+x.step.charAt(0)}function E(x,S,b,a,C){var y=0,z=0,I=b.borderwidth;S.each(function(){var U=g.select(this),Y=U.select(".selector-text"),K=b.font.size*n,re=Math.max(K*t.lineCount(Y),16)+3;z=Math.max(z,re)}),S.each(function(){var U=g.select(this),Y=U.select(".selector-rect"),K=U.select(".selector-text"),re=K.node()&&A.bBox(K.node()).width,ae=b.font.size*n,fe=t.lineCount(K),Q=Math.max(re+10,u.minButtonWidth);U.attr("transform",p(I+y,I)),Y.attr({x:0,y:0,width:Q,height:z}),t.positionText(K,Q/2,z/2-(fe-1)*ae/2+3),y+=Q+5});var B=x._fullLayout._size,F=B.l+B.w*b.x,O=B.t+B.h*(1-b.y),N="left";v.isRightAnchor(b)&&(F-=y,N="right"),v.isCenterAnchor(b)&&(F-=y/2,N="center");var _="top";v.isBottomAnchor(b)&&(O-=z,_="bottom"),v.isMiddleAnchor(b)&&(O-=z/2,_="middle"),y=Math.ceil(y),z=Math.ceil(z),F=Math.round(F),O=Math.round(O),i.autoMargin(x,a+"-range-selector",{x:b.x,y:b.y,l:y*l[N],r:y*f[N],b:z*f[_],t:z*l[_]}),C.attr("transform",p(F,O))}},70565:function(W,H,e){var g=e(81041),P=e(71828).titleCase;W.exports=function(A,v){var p=A._name,t={};if(v.step==="all")t[p+".autorange"]=!0;else{var r=i(A,v);t[p+".range[0]"]=r[0],t[p+".range[1]"]=r[1]}return t};function i(L,A){var v=L.range,p=new Date(L.r2l(v[1])),t=A.step,r=g["utc"+P(t)],s=A.count,n;switch(A.stepmode){case"backward":n=L.l2r(+r.offset(p,-s));break;case"todate":var l=r.offset(p,-s);n=L.l2r(+r.ceil(l));break}var f=v[1];return[n,f]}},97218:function(W,H,e){W.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(37113)}}},layoutAttributes:e(37113),handleDefaults:e(28674),draw:e(21598)}},75148:function(W,H,e){var g=e(22399);W.exports={bgcolor:{valType:"color",dflt:g.background,editType:"plot"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(W,H,e){var g=e(41675).list,P=e(71739).getAutoRange,i=e(73251);W.exports=function(A){for(var v=g(A,"x",!0),p=0;p<v.length;p++){var t=v[p],r=t[i.name];r&&r.visible&&r.autorange&&(r._input.autorange=!0,r._input.range=r.range=P(A,t))}}},73251:function(W){W.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(W,H,e){var g=e(71828),P=e(44467),i=e(41675),L=e(75148),A=e(47850);W.exports=function(p,t,r){var s=p[r],n=t[r];if(!(s.rangeslider||t._requestRangeslider[n._id]))return;g.isPlainObject(s.rangeslider)||(s.rangeslider={});var l=s.rangeslider,f=P.newContainer(n,"rangeslider");function u(a,C){return g.coerce(l,f,L,a,C)}var m,c;function w(a,C){return g.coerce(m,c,A,a,C)}var h=u("visible");if(h){u("bgcolor",t.plot_bgcolor),u("bordercolor"),u("borderwidth"),u("thickness"),u("autorange",!n.isValidRange(l.range)),u("range");var o=t._subplots;if(o)for(var d=o.cartesian.filter(function(a){return a.substr(0,a.indexOf("y"))===i.name2id(r)}).map(function(a){return a.substr(a.indexOf("y"),a.length)}),M=g.simpleMap(d,i.id2name),T=0;T<M.length;T++){var E=M[T];m=l[E]||{},c=P.newContainer(f,E,"yaxis");var x=t[E],S;m.range&&x.isValidRange(m.range)&&(S="fixed");var b=w("rangemode",S);b!=="match"&&w("range",x.range.slice())}f._input=l}}},72413:function(W,H,e){var g=e(39898),P=e(73972),i=e(74875),L=e(71828),A=L.strTranslate,v=e(91424),p=e(7901),t=e(92998),r=e(93612),s=e(41675),n=e(28569),l=e(6964),f=e(73251);W.exports=function(x){for(var S=x._fullLayout,b=S._rangeSliderData,a=0;a<b.length;a++){var C=b[a][f.name];C._clipId=C._id+"-"+S._uid}function y(I){return I._name}var z=S._infolayer.selectAll("g."+f.containerClassName).data(b,y);z.exit().each(function(I){var B=I[f.name];S._topdefs.select("#"+B._clipId).remove()}).remove(),b.length!==0&&(z.enter().append("g").classed(f.containerClassName,!0).attr("pointer-events","all"),z.each(function(I){var B=g.select(this),F=I[f.name],O=S[s.id2name(I.anchor)],N=F[s.id2name(I.anchor)];if(F.range){var _=L.simpleMap(F.range,I.r2l),U=L.simpleMap(I.range,I.r2l),Y;U[0]<U[1]?Y=[Math.min(_[0],U[0]),Math.max(_[1],U[1])]:Y=[Math.max(_[0],U[0]),Math.min(_[1],U[1])],F.range=F._input.range=L.simpleMap(Y,I.l2r)}I.cleanRange("rangeslider.range");var K=S._size,re=I.domain;F._width=K.w*(re[1]-re[0]);var ae=Math.round(K.l+K.w*re[0]),fe=Math.round(K.t+K.h*(1-I._counterDomainMin)+(I.side==="bottom"?I._depth:0)+F._offsetShift+f.extraPad);B.attr("transform",A(ae,fe)),F._rl=L.simpleMap(F.range,I.r2l);var Q=F._rl[0],j=F._rl[1],X=j-Q;if(F.p2d=function(Me){return Me/F._width*X+Q},F.d2p=function(Me){return(Me-Q)/X*F._width},I.rangebreaks){var J=I.locateBreaks(Q,j);if(J.length){var ee,se,q=0;for(ee=0;ee<J.length;ee++)se=J[ee],q+=se.max-se.min;var $=F._width/(j-Q-q),le=[-$*Q];for(ee=0;ee<J.length;ee++)se=J[ee],le.push(le[le.length-1]-$*(se.max-se.min));for(F.d2p=function(Me){for(var we=le[0],Oe=0;Oe<J.length;Oe++){var Be=J[Oe];if(Me>=Be.max)we=le[Oe+1];else if(Me<Be.min)break}return we+$*Me},ee=0;ee<J.length;ee++)se=J[ee],se.pmin=F.d2p(se.min),se.pmax=F.d2p(se.max);F.p2d=function(Me){for(var we=le[0],Oe=0;Oe<J.length;Oe++){var Be=J[Oe];if(Me>=Be.pmax)we=le[Oe+1];else if(Me<Be.pmin)break}return(Me-we)/$}}}if(N.rangemode!=="match"){var ie=O.r2l(N.range[0]),ce=O.r2l(N.range[1]),me=ce-ie;F.d2pOppAxis=function(Me){return(Me-ie)/me*F._height}}B.call(w,x,I,F).call(h,x,I,F).call(o,x,I,F).call(M,x,I,F,N).call(T,x,I,F).call(E,x,I,F),u(B,x,I,F),c(B,x,I,F,O,N),I.side==="bottom"&&t.draw(x,I._id+"title",{propContainer:I,propName:I._name+".title",placeholder:S._dfltTitle.x,attributes:{x:I._offset+I._length/2,y:fe+F._height+F._offsetShift+10+1.5*I.title.font.size,"text-anchor":"middle"}})}))};function u(x,S,b,a){if(S._context.staticPlot)return;var C=x.select("rect."+f.slideBoxClassName).node(),y=x.select("rect."+f.grabAreaMinClassName).node(),z=x.select("rect."+f.grabAreaMaxClassName).node();function I(){var B=g.event,F=B.target,O=B.clientX||B.touches[0].clientX,N=O-x.node().getBoundingClientRect().left,_=a.d2p(b._rl[0]),U=a.d2p(b._rl[1]),Y=n.coverSlip();this.addEventListener("touchmove",K),this.addEventListener("touchend",re),Y.addEventListener("mousemove",K),Y.addEventListener("mouseup",re);function K(ae){var fe=ae.clientX||ae.touches[0].clientX,Q=+fe-O,j,X,J;switch(F){case C:if(J="ew-resize",_+Q>b._length||U+Q<0)return;j=_+Q,X=U+Q;break;case y:if(J="col-resize",_+Q>b._length)return;j=_+Q,X=U;break;case z:if(J="col-resize",U+Q<0)return;j=_,X=U+Q;break;default:J="ew-resize",j=N,X=N+Q;break}if(X<j){var ee=X;X=j,j=ee}a._pixelMin=j,a._pixelMax=X,l(g.select(Y),J),m(x,S,b,a)}function re(){Y.removeEventListener("mousemove",K),Y.removeEventListener("mouseup",re),this.removeEventListener("touchmove",K),this.removeEventListener("touchend",re),L.removeElement(Y)}}x.on("mousedown",I),x.on("touchstart",I)}function m(x,S,b,a){function C(I){return b.l2r(L.constrain(I,a._rl[0],a._rl[1]))}var y=C(a.p2d(a._pixelMin)),z=C(a.p2d(a._pixelMax));window.requestAnimationFrame(function(){P.call("_guiRelayout",S,b._name+".range",[y,z])})}function c(x,S,b,a,C,y){var z=f.handleWidth/2;function I(ae){return L.constrain(ae,0,a._width)}function B(ae){return L.constrain(ae,0,a._height)}function F(ae){return L.constrain(ae,-z,a._width+z)}var O=I(a.d2p(b._rl[0])),N=I(a.d2p(b._rl[1]));if(x.select("rect."+f.slideBoxClassName).attr("x",O).attr("width",N-O),x.select("rect."+f.maskMinClassName).attr("width",O),x.select("rect."+f.maskMaxClassName).attr("x",N).attr("width",a._width-N),y.rangemode!=="match"){var _=a._height-B(a.d2pOppAxis(C._rl[1])),U=a._height-B(a.d2pOppAxis(C._rl[0]));x.select("rect."+f.maskMinOppAxisClassName).attr("x",O).attr("height",_).attr("width",N-O),x.select("rect."+f.maskMaxOppAxisClassName).attr("x",O).attr("y",U).attr("height",a._height-U).attr("width",N-O),x.select("rect."+f.slideBoxClassName).attr("y",_).attr("height",U-_)}var Y=.5,K=Math.round(F(O-z))-Y,re=Math.round(F(N-z))+Y;x.select("g."+f.grabberMinClassName).attr("transform",A(K,Y)),x.select("g."+f.grabberMaxClassName).attr("transform",A(re,Y))}function w(x,S,b,a){var C=L.ensureSingle(x,"rect",f.bgClassName,function(B){B.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),y=a.borderwidth%2===0?a.borderwidth:a.borderwidth-1,z=-a._offsetShift,I=v.crispRound(S,a.borderwidth);C.attr({width:a._width+y,height:a._height+y,transform:A(z,z),"stroke-width":I}).call(p.stroke,a.bordercolor).call(p.fill,a.bgcolor)}function h(x,S,b,a){var C=S._fullLayout,y=L.ensureSingleById(C._topdefs,"clipPath",a._clipId,function(z){z.append("rect").attr({x:0,y:0})});y.select("rect").attr({width:a._width,height:a._height})}function o(x,S,b,a){var C=S.calcdata,y=x.selectAll("g."+f.rangePlotClassName).data(b._subplotsWith,L.identity);y.enter().append("g").attr("class",function(I){return f.rangePlotClassName+" "+I}).call(v.setClipUrl,a._clipId,S),y.order(),y.exit().remove();var z;y.each(function(I,B){var F=g.select(this),O=B===0,N=s.getFromId(S,I,"y"),_=N._name,U=a[_],Y={data:[],layout:{xaxis:{type:b.type,domain:[0,1],range:a.range.slice(),calendar:b.calendar},width:a._width,height:a._height,margin:{t:0,b:0,l:0,r:0}},_context:S._context};b.rangebreaks&&(Y.layout.xaxis.rangebreaks=b.rangebreaks),Y.layout[_]={type:N.type,domain:[0,1],range:U.rangemode!=="match"?U.range.slice():N.range.slice(),calendar:N.calendar},N.rangebreaks&&(Y.layout[_].rangebreaks=N.rangebreaks),i.supplyDefaults(Y);var K=Y._fullLayout.xaxis,re=Y._fullLayout[_];K.clearCalc(),K.setScale(),re.clearCalc(),re.setScale();var ae={id:I,plotgroup:F,xaxis:K,yaxis:re,isRangePlot:!0};O?z=ae:(ae.mainplot="xy",ae.mainplotinfo=z),r.rangePlot(S,ae,d(C,I))})}function d(x,S){for(var b=[],a=0;a<x.length;a++){var C=x[a],y=C[0].trace;y.xaxis+y.yaxis===S&&b.push(C)}return b}function M(x,S,b,a,C){var y=L.ensureSingle(x,"rect",f.maskMinClassName,function(F){F.attr({x:0,y:0,"shape-rendering":"crispEdges"})});y.attr("height",a._height).call(p.fill,f.maskColor);var z=L.ensureSingle(x,"rect",f.maskMaxClassName,function(F){F.attr({y:0,"shape-rendering":"crispEdges"})});if(z.attr("height",a._height).call(p.fill,f.maskColor),C.rangemode!=="match"){var I=L.ensureSingle(x,"rect",f.maskMinOppAxisClassName,function(F){F.attr({y:0,"shape-rendering":"crispEdges"})});I.attr("width",a._width).call(p.fill,f.maskOppAxisColor);var B=L.ensureSingle(x,"rect",f.maskMaxOppAxisClassName,function(F){F.attr({y:0,"shape-rendering":"crispEdges"})});B.attr("width",a._width).style("border-top",f.maskOppBorder).call(p.fill,f.maskOppAxisColor)}}function T(x,S,b,a){if(!S._context.staticPlot){var C=L.ensureSingle(x,"rect",f.slideBoxClassName,function(y){y.attr({y:0,cursor:f.slideBoxCursor,"shape-rendering":"crispEdges"})});C.attr({height:a._height,fill:f.slideBoxFill})}}function E(x,S,b,a){var C=L.ensureSingle(x,"g",f.grabberMinClassName),y=L.ensureSingle(x,"g",f.grabberMaxClassName),z={x:0,width:f.handleWidth,rx:f.handleRadius,fill:p.background,stroke:p.defaultLine,"stroke-width":f.handleStrokeWidth,"shape-rendering":"crispEdges"},I={y:Math.round(a._height/4),height:Math.round(a._height/2)},B=L.ensureSingle(C,"rect",f.handleMinClassName,function(U){U.attr(z)});B.attr(I);var F=L.ensureSingle(y,"rect",f.handleMaxClassName,function(U){U.attr(z)});F.attr(I);var O={width:f.grabAreaWidth,x:0,y:0,fill:f.grabAreaFill,cursor:S._context.staticPlot?void 0:f.grabAreaCursor},N=L.ensureSingle(C,"rect",f.grabAreaMinClassName,function(U){U.attr(O)});N.attr("height",a._height);var _=L.ensureSingle(y,"rect",f.grabAreaMaxClassName,function(U){U.attr(O)});_.attr("height",a._height)}},549:function(W,H,e){var g=e(41675),P=e(63893),i=e(73251),L=e(18783).LINE_SPACING,A=i.name;function v(p){var t=p&&p[A];return t&&t.visible}H.isVisible=v,H.makeData=function(p){var t=g.list({_fullLayout:p},"x",!0),r=p.margin,s=[];if(!p._has("gl2d"))for(var n=0;n<t.length;n++){var l=t[n];if(v(l)){s.push(l);var f=l[A];f._id=A+l._id,f._height=(p.height-r.b-r.t)*f.thickness,f._offsetShift=Math.floor(f.borderwidth/2)}}p._rangeSliderData=s},H.autoMarginOpts=function(p,t){var r=p._fullLayout,s=t[A],n=t._id.charAt(0),l=0,f=0;if(t.side==="bottom"&&(l=t._depth,t.title.text!==r._dfltTitle[n])){f=1.5*t.title.font.size+10+s._offsetShift;var u=(t.title.text.match(P.BR_TAG_ALL)||[]).length;f+=u*t.title.font.size*L}return{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:s._height+l+Math.max(r.margin.b,f),pad:i.extraPad+s._offsetShift*2}}},13137:function(W,H,e){var g=e(71828),P=e(75148),i=e(47850),L=e(549);W.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:g.extendFlat({},P,{yaxis:i})}}},layoutAttributes:e(75148),handleDefaults:e(26377),calcAutorange:e(88443),draw:e(72413),isVisible:L.isVisible,makeData:L.makeData,autoMarginOpts:L.autoMarginOpts}},47850:function(W){W.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(W,H,e){var g=e(50215),P=e(82196).line,i=e(79952).P,L=e(1426).extendFlat,A=e(30962).overrideAll,v=e(44467).templatedArray;e(24695),W.exports=A(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:L({},g.xref,{}),yref:L({},g.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:P.color,width:L({},P.width,{min:1,dflt:1}),dash:L({},i,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(W){W.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(W,H,e){var g=e(71828),P=e(89298),i=e(85501),L=e(8389),A=e(30477);W.exports=function(t,r){i(t,r,{name:"selections",handleItemDefaults:v});for(var s=r.selections,n=0;n<s.length;n++){var l=s[n];l&&l.path===void 0&&(l.x0===void 0||l.x1===void 0||l.y0===void 0||l.y1===void 0)&&(r.selections[n]=null)}};function v(p,t,r){function s(y,z){return g.coerce(p,t,L,y,z)}var n=s("path"),l=n?"path":"rect",f=s("type",l),u=f!=="path";u&&delete t.path,s("opacity"),s("line.color"),s("line.width"),s("line.dash");for(var m=["x","y"],c=0;c<2;c++){var w=m[c],h={_fullLayout:r},o,d,M,T=P.coerceRef(p,t,h,w);if(o=P.getFromId(h,T),o._selectionIndices.push(t._index),M=A.rangeToShapePosition(o),d=A.shapePositionToRange(o),u){var E=w+"0",x=w+"1",S=p[E],b=p[x];p[E]=d(p[E],!0),p[x]=d(p[x],!0),P.coercePosition(t,h,s,T,E),P.coercePosition(t,h,s,T,x);var a=t[E],C=t[x];a!==void 0&&C!==void 0&&(t[E]=M(a),t[x]=M(C),p[E]=S,p[x]=b)}}u&&g.noneOrAll(p,t,["x0","x1","y0","y1"])}},32485:function(W,H,e){var g=e(60165).readPaths,P=e(42359),i=e(51873).clearOutlineControllers,L=e(7901),A=e(91424),v=e(44467).arrayEditor,p=e(30477),t=p.getPathString;W.exports={draw:r,drawOne:n,activateLastSelection:u};function r(c){var w=c._fullLayout;i(c),w._selectionLayer.selectAll("path").remove();for(var h in w._plots){var o=w._plots[h].selectionLayer;o&&o.selectAll("path").remove()}for(var d=0;d<w.selections.length;d++)n(c,d)}function s(c){return c._context.editSelection}function n(c,w){c._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+w+'"]').remove();var h=p.makeSelectionsOptionsAndPlotinfo(c,w),o=h.options,d=h.plotinfo;if(!o._input)return;M(c._fullLayout._selectionLayer);function M(T){var E=t(c,o),x={"data-index":w,"fill-rule":"evenodd",d:E},S=o.opacity,b="rgba(0,0,0,0)",a=o.line.color||L.contrast(c._fullLayout.plot_bgcolor),C=o.line.width,y=o.line.dash;C||(C=5,y="solid");var z=s(c)&&c._fullLayout._activeSelectionIndex===w;z&&(b=c._fullLayout.activeselection.fillcolor,S=c._fullLayout.activeselection.opacity);for(var I=[],B=1;B>=0;B--){var F=T.append("path").attr(x).style("opacity",B?.1:S).call(L.stroke,a).call(L.fill,b).call(A.dashLine,B?"solid":y,B?4+C:C);if(l(F,c,o),z){var O=v(c.layout,"selections",o);F.style({cursor:"move"});var N={element:F.node(),plotinfo:d,gd:c,editHelpers:O,isActiveSelection:!0},_=g(E,c);P(_,F,N)}else F.style("pointer-events",B?"all":"none");I[B]=F}var U=I[0],Y=I[1];Y.node().addEventListener("click",function(){return f(c,U)})}}function l(c,w,h){var o=h.xref+h.yref;A.setClipUrl(c,"clip"+w._fullLayout._uid+o,w)}function f(c,w){if(s(c)){var h=w.node(),o=+h.getAttribute("data-index");if(o>=0){if(o===c._fullLayout._activeSelectionIndex){m(c);return}c._fullLayout._activeSelectionIndex=o,c._fullLayout._deactivateSelection=m,r(c)}}}function u(c){if(s(c)){var w=c._fullLayout.selections.length-1;c._fullLayout._activeSelectionIndex=w,c._fullLayout._deactivateSelection=m,r(c)}}function m(c){if(s(c)){var w=c._fullLayout._activeSelectionIndex;w>=0&&(i(c),delete c._fullLayout._activeSelectionIndex,r(c))}}},53777:function(W,H,e){var g=e(79952).P,P=e(1426).extendFlat;W.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:P({},g,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(W){W.exports=function(e,g,P){P("newselection.mode");var i=P("newselection.line.width");i&&(P("newselection.line.color"),P("newselection.line.dash")),P("activeselection.fillcolor"),P("activeselection.opacity")}},35855:function(W,H,e){var g=e(64505),P=g.selectMode,i=e(51873),L=i.clearOutline,A=e(60165),v=A.readPaths,p=A.writePaths,t=A.fixDatesForPaths;W.exports=function(s,n){if(s.length){var l=s[0][0];if(l){var f=l.getAttribute("d"),u=n.gd,m=u._fullLayout.newselection,c=n.plotinfo,w=c.xaxis,h=c.yaxis,o=n.isActiveSelection,d=n.dragmode,M=(u.layout||{}).selections||[];if(!P(d)&&o!==void 0){var T=u._fullLayout._activeSelectionIndex;if(T<M.length)switch(u._fullLayout.selections[T].type){case"rect":d="select";break;case"path":d="lasso";break}}var E=v(f,u,c,o),x={xref:w._id,yref:h._id,opacity:m.opacity,line:{color:m.line.color,width:m.line.width,dash:m.line.dash}},S;E.length===1&&(S=E[0]),S&&S.length===5&&d==="select"?(x.type="rect",x.x0=S[0][1],x.y0=S[0][2],x.x1=S[2][1],x.y1=S[2][2]):(x.type="path",w&&h&&t(E,w,h),x.path=p(E),S=null),L(u);for(var b=n.editHelpers,a=(b||{}).modifyItem,C=[],y=0;y<M.length;y++){var z=u._fullLayout.selections[y];if(!z){C[y]=z;continue}if(C[y]=z._input,o!==void 0&&y===u._fullLayout._activeSelectionIndex){var I=x;switch(z.type){case"rect":a("x0",I.x0),a("x1",I.x1),a("y0",I.y0),a("y1",I.y1);break;case"path":a("path",I.path);break}}}return o===void 0?(C.push(x),C):b?b.getUpdateObj():{}}}}},75549:function(W,H,e){var g=e(71828).strTranslate;function P(v,p){switch(v.type){case"log":return v.p2d(p);case"date":return v.p2r(p,0,v.calendar);default:return v.p2r(p)}}function i(v,p){switch(v.type){case"log":return v.d2p(p);case"date":return v.r2p(p,0,v.calendar);default:return v.r2p(p)}}function L(v){var p=v._id.charAt(0)==="y"?1:0;return function(t){return P(v,t[p])}}function A(v){return g(v.xaxis._offset,v.yaxis._offset)}W.exports={p2r:P,r2p:i,axValue:L,getTransform:A}},47322:function(W,H,e){var g=e(32485),P=e(3937);W.exports={moduleType:"component",name:"selections",layoutAttributes:e(8389),supplyLayoutDefaults:e(59402),supplyDrawNewSelectionDefaults:e(90849),includeBasePlot:e(76325)("selections"),draw:g.draw,drawOne:g.drawOne,reselect:P.reselect,prepSelect:P.prepSelect,clearOutline:P.clearOutline,clearSelectionsCache:P.clearSelectionsCache,selectOnClick:P.selectOnClick}},3937:function(W,H,e){var g=e(52142),P=e(38258),i=e(73972),L=e(91424).dashStyle,A=e(7901),v=e(30211),p=e(23469).makeEventData,t=e(64505),r=t.freeMode,s=t.rectMode,n=t.drawMode,l=t.openMode,f=t.selectMode,u=e(30477),m=e(21459),c=e(42359),w=e(51873).clearOutline,h=e(60165),o=h.handleEllipse,d=h.readPaths,M=e(90551).newShapes,T=e(35855),E=e(32485).activateLastSelection,x=e(71828),S=x.sorterAsc,b=e(61082),a=e(79990),C=e(41675).getFromId,y=e(33306),z=e(61549).redrawReglTraces,I=e(34122),B=I.MINSELECT,F=b.filter,O=b.tester,N=e(75549),_=N.p2r,U=N.axValue,Y=N.getTransform;function K(ze){return ze.subplot!==void 0}function re(ze,Re,be,ye,Ae){var Ee=!K(ye),Ne=r(Ae),Je=s(Ae),qe=l(Ae),vt=n(Ae),bt=f(Ae),Wt=Ae==="drawline",qt=Ae==="drawcircle",At=Wt||qt,zt=ye.gd,Jt=zt._fullLayout,Mr=bt&&Jt.newselection.mode==="immediate"&&Ee,pt=Jt._zoomlayer,Zt=ye.element.getBoundingClientRect(),Kt=ye.plotinfo,mr=Y(Kt),ur=Re-Zt.left,dt=be-Zt.top;Jt._calcInverseTransform(zt);var st=x.apply3DTransform(Jt._invTransform)(ur,dt);ur=st[0],dt=st[1];var xt=Jt._invScaleX,Mt=Jt._invScaleY,Dt=ur,Rt=dt,Nt="M"+ur+","+dt,Bt=ye.xaxes[0],Xt=ye.yaxes[0],lr=Bt._length,sr=Xt._length,dr=ze.altKey&&!(n(Ae)&&qe),je,Ye,It,kt,Yt,tr,or;J(ze,zt,ye),Ne&&(je=F([[ur,dt]],I.BENDPX));var rr=pt.selectAll("path.select-outline-"+Kt.id).data([1]),_t=vt?Jt.newshape:Jt.newselection;vt&&(ye.hasText=_t.label.text||_t.label.texttemplate);var hr=vt&&!qe?_t.fillcolor:"rgba(0,0,0,0)",gr=_t.line.color||(Ee?A.contrast(zt._fullLayout.plot_bgcolor):"#7f7f7f");rr.enter().append("path").attr("class","select-outline select-outline-"+Kt.id).style({opacity:vt?_t.opacity/2:1,"stroke-dasharray":L(_t.line.dash,_t.line.width),"stroke-width":_t.line.width+"px","shape-rendering":"crispEdges"}).call(A.stroke,gr).call(A.fill,hr).attr("fill-rule","evenodd").classed("cursor-move",!!vt).attr("transform",mr).attr("d",Nt+"Z");var pr=pt.append("path").attr("class","zoombox-corners").style({fill:A.background,stroke:A.defaultLine,"stroke-width":1}).attr("transform",mr).attr("d","M0,0Z");if(vt&&ye.hasText){var vr=pt.select(".label-temp");vr.empty()&&(vr=pt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Hr=Jt._uid+I.SELECTID,kr=[],Fr=le(zt,ye.xaxes,ye.yaxes,ye.subplot);Mr&&!ze.shiftKey&&(ye._clearSubplotSelections=function(){if(Ee){var qr=Bt._id,On=Xt._id;et(zt,qr,On,Fr);for(var Tn=(zt.layout||{}).selections||[],Sr=[],Er=!1,Gr=0;Gr<Tn.length;Gr++){var Br=Jt.selections[Gr];Br.xref!==qr||Br.yref!==On?Sr.push(Tn[Gr]):Er=!0}Er&&(zt._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",zt,{selections:Sr}))}});var pn=Vt(ye);ye.moveFn=function(qr,On){ye._clearSubplotSelections&&(ye._clearSubplotSelections(),ye._clearSubplotSelections=void 0),Dt=Math.max(0,Math.min(lr,xt*qr+ur)),Rt=Math.max(0,Math.min(sr,Mt*On+dt));var Tn=Math.abs(Dt-ur),Sr=Math.abs(Rt-dt);if(Je){var Er,Gr,Br;if(bt){var nn=Jt.selectdirection;switch(nn==="any"?Sr<Math.min(Tn*.6,B)?Er="h":Tn<Math.min(Sr*.6,B)?Er="v":Er="d":Er=nn,Er){case"h":Gr=qt?sr/2:0,Br=sr;break;case"v":Gr=qt?lr/2:0,Br=lr;break}}if(vt)switch(Jt.newshape.drawdirection){case"vertical":Er="h",Gr=qt?sr/2:0,Br=sr;break;case"horizontal":Er="v",Gr=qt?lr/2:0,Br=lr;break;case"ortho":Tn<Sr?(Er="h",Gr=dt,Br=Rt):(Er="v",Gr=ur,Br=Dt);break;default:Er="d"}Er==="h"?(kt=At?o(qt,[Dt,Gr],[Dt,Br]):[[ur,Gr],[ur,Br],[Dt,Br],[Dt,Gr]],kt.xmin=At?Dt:Math.min(ur,Dt),kt.xmax=At?Dt:Math.max(ur,Dt),kt.ymin=Math.min(Gr,Br),kt.ymax=Math.max(Gr,Br),pr.attr("d","M"+kt.xmin+","+(dt-B)+"h-4v"+2*B+"h4ZM"+(kt.xmax-1)+","+(dt-B)+"h4v"+2*B+"h-4Z")):Er==="v"?(kt=At?o(qt,[Gr,Rt],[Br,Rt]):[[Gr,dt],[Gr,Rt],[Br,Rt],[Br,dt]],kt.xmin=Math.min(Gr,Br),kt.xmax=Math.max(Gr,Br),kt.ymin=At?Rt:Math.min(dt,Rt),kt.ymax=At?Rt:Math.max(dt,Rt),pr.attr("d","M"+(ur-B)+","+kt.ymin+"v-4h"+2*B+"v4ZM"+(ur-B)+","+(kt.ymax-1)+"v4h"+2*B+"v-4Z")):Er==="d"&&(kt=At?o(qt,[ur,dt],[Dt,Rt]):[[ur,dt],[ur,Rt],[Dt,Rt],[Dt,dt]],kt.xmin=Math.min(ur,Dt),kt.xmax=Math.max(ur,Dt),kt.ymin=Math.min(dt,Rt),kt.ymax=Math.max(dt,Rt),pr.attr("d","M0,0Z"))}else Ne&&(je.addPt([Dt,Rt]),kt=je.filtered);if(ye.selectionDefs&&ye.selectionDefs.length?(It=xe(ye.mergedPolygons,kt,dr),kt.subtract=dr,Ye=X(ye.selectionDefs.concat([kt]))):(It=[kt],Ye=O(kt)),c(He(It,qe),rr,ye),bt){var gn=ke(zt,!1),mn=gn.eventData?gn.eventData.points.slice():[];gn=ke(zt,!1,Ye,Fr,ye),Ye=gn.selectionTesters,or=gn.eventData;var Pn;je?Pn=je.filtered:Pn=gt(It),a.throttle(Hr,I.SELECTDELAY,function(){kr=Ge(Ye,Fr);for(var Fn=kr.slice(),ia=0;ia<mn.length;ia++){for(var jn=mn[ia],$n=!1,Wn=0;Wn<Fn.length;Wn++)if(Fn[Wn].curveNumber===jn.curveNumber&&Fn[Wn].pointNumber===jn.pointNumber){$n=!0;break}$n||Fn.push(jn)}Fn.length&&(or||(or={}),or.points=Fn),pn(or,Pn),Qe(zt,or)})}},ye.clickFn=function(qr,On){if(pr.remove(),zt._fullLayout._activeShapeIndex>=0){zt._fullLayout._deactivateShape(zt);return}if(!vt){var Tn=Jt.clickmode;a.done(Hr).then(function(){if(a.clear(Hr),qr===2){for(rr.remove(),Yt=0;Yt<Fr.length;Yt++)tr=Fr[Yt],tr._module.selectPoints(tr,!1);if(Be(zt,Fr),q(ye),Ie(zt),Fr.length){var Sr=Fr[0].xaxis,Er=Fr[0].yaxis;if(Sr&&Er){for(var Gr=[],Br=zt._fullLayout.selections,nn=0;nn<Br.length;nn++){var gn=Br[nn];gn&&(gn.xref!==Sr._id||gn.yref!==Er._id)&&Gr.push(gn)}Gr.length<Br.length&&(zt._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",zt,{selections:Gr}))}}}else Tn.indexOf("select")>-1&&ae(On,zt,ye.xaxes,ye.yaxes,ye.subplot,ye,rr),Tn==="event"&&Fe(zt,void 0);v.click(zt,On,Kt.id)}).catch(x.error)}},ye.doneFn=function(){pr.remove(),a.done(Hr).then(function(){a.clear(Hr),!Mr&&kt&&ye.selectionDefs&&(kt.subtract=dr,ye.selectionDefs.push(kt),ye.mergedPolygons.length=0,[].push.apply(ye.mergedPolygons,It)),(Mr||vt)&&q(ye,Mr),ye.doneFnCompleted&&ye.doneFnCompleted(kr),bt&&Fe(zt,or)}).catch(x.error)}}function ae(ze,Re,be,ye,Ae,Ee,Ne){var Je=Re._hoverdata,qe=Re._fullLayout,vt=qe.clickmode,bt=vt.indexOf("event")>-1,Wt=[],qt,At,zt,Jt,Mr,pt,Zt,Kt,mr,ur;if(ce(Je)){J(ze,Re,Ee),qt=le(Re,be,ye,Ae);var dt=me(Je,qt),st=dt.pointNumbers.length>0;if(st?we(qt,dt):Oe(qt)&&(Zt=Me(dt))){for(Ne&&Ne.remove(),ur=0;ur<qt.length;ur++)At=qt[ur],At._module.selectPoints(At,!1);Be(Re,qt),q(Ee),bt&&Ie(Re)}else{Kt=ze.shiftKey&&(Zt!==void 0?Zt:Me(dt)),zt=fe(dt.pointNumber,dt.searchInfo,Kt);var xt=Ee.selectionDefs.concat([zt]);for(Jt=X(xt),ur=0;ur<qt.length;ur++)if(Mr=qt[ur]._module.selectPoints(qt[ur],Jt),pt=Se(Mr,qt[ur]),Wt.length)for(var Mt=0;Mt<pt.length;Mt++)Wt.push(pt[Mt]);else Wt=pt;if(mr={points:Wt},Be(Re,qt,mr),zt&&Ee&&Ee.selectionDefs.push(zt),Ne){var Dt=Ee.mergedPolygons,Rt=l(Ee.dragmode);c(He(Dt,Rt),Ne,Ee)}bt&&Fe(Re,mr)}}}function fe(ze,Re,be){return{pointNumber:ze,searchInfo:Re,subtract:!!be}}function Q(ze){return"pointNumber"in ze&&"searchInfo"in ze}function j(ze){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Re,be,ye,Ae){var Ee=ze.searchInfo.cd[0].trace._expandedIndex,Ne=Ae.cd[0].trace._expandedIndex;return Ne===Ee&&ye===ze.pointNumber},isRect:!1,degenerate:!1,subtract:!!ze.subtract}}function X(ze){if(!ze.length)return;for(var Re=[],be=Q(ze[0])?0:ze[0][0][0],ye=be,Ae=Q(ze[0])?0:ze[0][0][1],Ee=Ae,Ne=0;Ne<ze.length;Ne++)if(Q(ze[Ne]))Re.push(j(ze[Ne]));else{var Je=O(ze[Ne]);Je.subtract=!!ze[Ne].subtract,Re.push(Je),be=Math.min(be,Je.xmin),ye=Math.max(ye,Je.xmax),Ae=Math.min(Ae,Je.ymin),Ee=Math.max(Ee,Je.ymax)}function qe(vt,bt,Wt,qt){for(var At=!1,zt=0;zt<Re.length;zt++)Re[zt].contains(vt,bt,Wt,qt)&&(At=!Re[zt].subtract);return At}return{xmin:be,xmax:ye,ymin:Ae,ymax:Ee,pts:[],contains:qe,isRect:!1,degenerate:!1}}function J(ze,Re,be){var ye=Re._fullLayout,Ae=be.plotinfo,Ee=be.dragmode,Ne=ye._lastSelectedSubplot&&ye._lastSelectedSubplot===Ae.id,Je=(ze.shiftKey||ze.altKey)&&!(n(Ee)&&l(Ee));Ne&&Je&&Ae.selection&&Ae.selection.selectionDefs&&!be.selectionDefs?(be.selectionDefs=Ae.selection.selectionDefs,be.mergedPolygons=Ae.selection.mergedPolygons):(!Je||!Ae.selection)&&q(be),Ne||(w(Re),ye._lastSelectedSubplot=Ae.id)}function ee(ze){return ze._fullLayout._activeShapeIndex>=0}function se(ze){return ze._fullLayout._activeSelectionIndex>=0}function q(ze,Re){var be=ze.dragmode,ye=ze.plotinfo,Ae=ze.gd;ee(Ae)&&Ae._fullLayout._deactivateShape(Ae),se(Ae)&&Ae._fullLayout._deactivateSelection(Ae);var Ee=Ae._fullLayout,Ne=Ee._zoomlayer,Je=n(be),qe=f(be);if(Je||qe){var vt=Ne.selectAll(".select-outline-"+ye.id);if(vt&&Ae._fullLayout._outlining){var bt;Je&&(bt=M(vt,ze)),bt&&i.call("_guiRelayout",Ae,{shapes:bt});var Wt;qe&&!K(ze)&&(Wt=T(vt,ze)),Wt&&(Ae._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",Ae,{selections:Wt}).then(function(){Re&&E(Ae)})),Ae._fullLayout._outlining=!1}}ye.selection={},ye.selection.selectionDefs=ze.selectionDefs=[],ye.selection.mergedPolygons=ze.mergedPolygons=[]}function $(ze){return ze._id}function le(ze,Re,be,ye){if(!ze.calcdata)return[];var Ae=[],Ee=Re.map($),Ne=be.map($),Je,qe,vt;for(vt=0;vt<ze.calcdata.length;vt++)if(Je=ze.calcdata[vt],qe=Je[0].trace,!(qe.visible!==!0||!qe._module||!qe._module.selectPoints))if(K({subplot:ye})&&(qe.subplot===ye||qe.geo===ye))Ae.push(ie(qe._module,Je,Re[0],be[0]));else if(qe.type==="splom"){if(qe._xaxes[Ee[0]]&&qe._yaxes[Ne[0]]){var bt=ie(qe._module,Je,Re[0],be[0]);bt.scene=ze._fullLayout._splomScenes[qe.uid],Ae.push(bt)}}else if(qe.type==="sankey"){var Wt=ie(qe._module,Je,Re[0],be[0]);Ae.push(Wt)}else{if(Ee.indexOf(qe.xaxis)===-1||Ne.indexOf(qe.yaxis)===-1)continue;Ae.push(ie(qe._module,Je,C(ze,qe.xaxis),C(ze,qe.yaxis)))}return Ae}function ie(ze,Re,be,ye){return{_module:ze,cd:Re,xaxis:be,yaxis:ye}}function ce(ze){return ze&&Array.isArray(ze)&&ze[0].hoverOnBox!==!0}function me(ze,Re){var be=ze[0],ye=-1,Ae=[],Ee,Ne;for(Ne=0;Ne<Re.length;Ne++)if(Ee=Re[Ne],be.fullData._expandedIndex===Ee.cd[0].trace._expandedIndex){if(be.hoverOnBox===!0)break;be.pointNumber!==void 0?ye=be.pointNumber:be.binNumber!==void 0&&(ye=be.binNumber,Ae=be.pointNumbers);break}return{pointNumber:ye,pointNumbers:Ae,searchInfo:Ee}}function Me(ze){var Re=ze.searchInfo.cd[0].trace,be=ze.pointNumber,ye=ze.pointNumbers,Ae=ye.length>0,Ee=Ae?ye[0]:be;return Re.selectedpoints?Re.selectedpoints.indexOf(Ee)>-1:!1}function we(ze,Re){var be=[],ye,Ae,Ee,Ne;for(Ne=0;Ne<ze.length;Ne++)ye=ze[Ne],ye.cd[0].trace.selectedpoints&&ye.cd[0].trace.selectedpoints.length>0&&be.push(ye);if(be.length===1&&(Ee=be[0]===Re.searchInfo,Ee&&(Ae=Re.searchInfo.cd[0].trace,Ae.selectedpoints.length===Re.pointNumbers.length))){for(Ne=0;Ne<Re.pointNumbers.length;Ne++)if(Ae.selectedpoints.indexOf(Re.pointNumbers[Ne])<0)return!1;return!0}return!1}function Oe(ze){var Re=0,be,ye,Ae;for(Ae=0;Ae<ze.length;Ae++)if(be=ze[Ae],ye=be.cd[0].trace,ye.selectedpoints&&(ye.selectedpoints.length>1||(Re+=ye.selectedpoints.length,Re>1)))return!1;return Re===1}function Be(ze,Re,be){var ye;for(ye=0;ye<Re.length;ye++){var Ae=Re[ye].cd[0].trace._fullInput,Ee=ze._fullLayout._tracePreGUI[Ae.uid]||{};Ee.selectedpoints===void 0&&(Ee.selectedpoints=Ae._input.selectedpoints||null)}var Ne;if(be){var Je=be.points||[];for(ye=0;ye<Re.length;ye++)Ne=Re[ye].cd[0].trace,Ne._input.selectedpoints=Ne._fullInput.selectedpoints=[],Ne._fullInput!==Ne&&(Ne.selectedpoints=[]);for(var qe=0;qe<Je.length;qe++){var vt=Je[qe],bt=vt.data,Wt=vt.fullData,qt=vt.pointIndex,At=vt.pointIndices;At?([].push.apply(bt.selectedpoints,At),Ne._fullInput!==Ne&&[].push.apply(Wt.selectedpoints,At)):(bt.selectedpoints.push(qt),Ne._fullInput!==Ne&&Wt.selectedpoints.push(qt))}}else for(ye=0;ye<Re.length;ye++)Ne=Re[ye].cd[0].trace,delete Ne.selectedpoints,delete Ne._input.selectedpoints,Ne._fullInput!==Ne&&delete Ne._fullInput.selectedpoints;Ce(ze,Re)}function Ce(ze,Re){for(var be=!1,ye=0;ye<Re.length;ye++){var Ae=Re[ye],Ee=Ae.cd;i.traceIs(Ee[0].trace,"regl")&&(be=!0);var Ne=Ae._module,Je=Ne.styleOnSelect||Ne.style;Je&&(Je(ze,Ee,Ee[0].node3),Ee[0].nodeRangePlot3&&Je(ze,Ee,Ee[0].nodeRangePlot3))}be&&(y(ze),z(ze))}function xe(ze,Re,be){for(var ye=be?g.difference:g.union,Ae=ye({regions:ze},{regions:[Re]}),Ee=Ae.regions.reverse(),Ne=0;Ne<Ee.length;Ne++){var Je=Ee[Ne];Je.subtract=ht(Je,Ee.slice(0,Ne))}return Ee}function Se(ze,Re){if(Array.isArray(ze))for(var be=Re.cd,ye=Re.cd[0].trace,Ae=0;Ae<ze.length;Ae++)ze[Ae]=p(ze[Ae],ye,be);return ze}function He(ze,Re){for(var be=[],ye=0;ye<ze.length;ye++){be[ye]=[];for(var Ae=0;Ae<ze[ye].length;Ae++){be[ye][Ae]=[],be[ye][Ae][0]=Ae?"L":"M";for(var Ee=0;Ee<ze[ye][Ae].length;Ee++)be[ye][Ae].push(ze[ye][Ae][Ee])}Re||be[ye].push(["Z",be[ye][0][1],be[ye][0][2]])}return be}function Ge(ze,Re){for(var be=[],ye,Ae,Ee=0;Ee<Re.length;Ee++){var Ne=Re[Ee];Ae=Ne._module.selectPoints(Ne,ze),ye=Se(Ae,Ne),be=be.concat(ye)}return be}function ke(ze,Re,be,ye,Ae){var Ee=!!ye,Ne,Je,qe;Ae&&(Ne=Ae.plotinfo,Je=Ae.xaxes[0]._id,qe=Ae.yaxes[0]._id);var vt=[],bt=[],Wt=at(ze),qt=ze._fullLayout;if(Ne){var At=qt._zoomlayer,zt=qt.dragmode,Jt=n(zt),Mr=f(zt);if(Jt||Mr){var pt=C(ze,Je,"x"),Zt=C(ze,qe,"y");if(pt&&Zt){var Kt=At.selectAll(".select-outline-"+Ne.id);if(Kt&&ze._fullLayout._outlining&&Kt.length){for(var mr=Kt[0][0],ur=mr.getAttribute("d"),dt=d(ur,ze,Ne),st=[],xt=0;xt<dt.length;xt++){for(var Mt=dt[xt],Dt=[],Rt=0;Rt<Mt.length;Rt++)Dt.push([yt(pt,Mt[Rt][1]),yt(Zt,Mt[Rt][2])]);Dt.xref=Je,Dt.yref=qe,Dt.subtract=ht(Dt,st),st.push(Dt)}Wt=Wt.concat(st)}}}}var Nt=Je&&qe?[Je+qe]:qt._subplots.cartesian;We(ze);for(var Bt={},Xt=0;Xt<Nt.length;Xt++){var lr=Nt[Xt],sr=lr.indexOf("y"),dr=lr.slice(0,sr),je=lr.slice(sr),Ye=Je&&qe?be:void 0;if(Ye=tt(Wt,dr,je,Ye),Ye){var It=ye;if(!Ee){var kt=C(ze,dr,"x"),Yt=C(ze,je,"y");It=le(ze,[kt],[Yt],lr);for(var tr=0;tr<It.length;tr++){var or=It[tr],rr=or.cd[0],_t=rr.trace;if(or._module.name==="scattergl"&&!rr.t.xpx){var hr=_t.x,gr=_t.y,pr=_t._length;rr.t.xpx=[],rr.t.ypx=[];for(var vr=0;vr<pr;vr++)rr.t.xpx[vr]=kt.c2p(hr[vr]),rr.t.ypx[vr]=Yt.c2p(gr[vr])}or._module.name==="splom"&&(Bt[_t.uid]||(Bt[_t.uid]=!0))}}var Hr=Ge(Ye,It);vt=vt.concat(Hr),bt=bt.concat(It)}}var kr={points:vt};Be(ze,bt,kr);var Fr=qt.clickmode,pn=Fr.indexOf("event")>-1&&Re;if(!Ne&&Re){var qr=at(ze,!0);if(qr.length){var On=qr[0].xref,Tn=qr[0].yref;if(On&&Tn){var Sr=gt(qr),Er=Ct([C(ze,On,"x"),C(ze,Tn,"y")]);Er(kr,Sr)}}ze._fullLayout._noEmitSelectedAtStart?ze._fullLayout._noEmitSelectedAtStart=!1:pn&&Fe(ze,kr),qt._reselect=!1}if(!Ne&&qt._deselect){var Gr=qt._deselect;Je=Gr.xref,qe=Gr.yref,it(Je,qe,bt)||et(ze,Je,qe,ye),pn&&(kr.points.length?Fe(ze,kr):Ie(ze)),qt._deselect=!1}return{eventData:kr,selectionTesters:be}}function We(ze){var Re=ze.calcdata;if(Re)for(var be=0;be<Re.length;be++){var ye=Re[be][0],Ae=ye.trace,Ee=ze._fullLayout._splomScenes;if(Ee){var Ne=Ee[Ae.uid];Ne&&(Ne.selectBatch=[])}}}function it(ze,Re,be){for(var ye=0;ye<be.length;ye++){var Ae=be[ye];if(Ae.xaxis&&Ae.xaxis._id===ze&&Ae.yaxis&&Ae.yaxis._id===Re)return!0}return!1}function et(ze,Re,be,ye){ye=le(ze,[C(ze,Re,"x")],[C(ze,be,"y")],Re+be);for(var Ae=0;Ae<ye.length;Ae++){var Ee=ye[Ae];Ee._module.selectPoints(Ee,!1)}Be(ze,ye)}function tt(ze,Re,be,ye){for(var Ae,Ee=0;Ee<ze.length;Ee++){var Ne=ze[Ee];if(!(Re!==Ne.xref||be!==Ne.yref))if(Ae){var Je=!!Ne.subtract;Ae=xe(Ae,Ne,Je),ye=X(Ae)}else Ae=[Ne],ye=O(Ne)}return ye}function at(ze,Re){for(var be=[],ye=ze._fullLayout,Ae=ye.selections,Ee=Ae.length,Ne=0;Ne<Ee;Ne++)if(!(Re&&Ne!==ye._activeSelectionIndex)){var Je=Ae[Ne];if(Je){var qe=Je.xref,vt=Je.yref,bt=C(ze,qe,"x"),Wt=C(ze,vt,"y"),qt,At,zt,Jt,Mr;if(Je.type==="rect"){Mr=[];var pt=yt(bt,Je.x0),Zt=yt(bt,Je.x1),Kt=yt(Wt,Je.y0),mr=yt(Wt,Je.y1);Mr=[[pt,Kt],[pt,mr],[Zt,mr],[Zt,Kt]],qt=Math.min(pt,Zt),At=Math.max(pt,Zt),zt=Math.min(Kt,mr),Jt=Math.max(Kt,mr),Mr.xmin=qt,Mr.xmax=At,Mr.ymin=zt,Mr.ymax=Jt,Mr.xref=qe,Mr.yref=vt,Mr.subtract=!1,Mr.isRect=!0,be.push(Mr)}else if(Je.type==="path")for(var ur=Je.path.split("Z"),dt=[],st=0;st<ur.length;st++){var xt=ur[st];if(xt){xt+="Z";var Mt=u.extractPathCoords(xt,m.paramIsX,"raw"),Dt=u.extractPathCoords(xt,m.paramIsY,"raw");qt=1/0,At=-1/0,zt=1/0,Jt=-1/0,Mr=[];for(var Rt=0;Rt<Mt.length;Rt++){var Nt=yt(bt,Mt[Rt]),Bt=yt(Wt,Dt[Rt]);Mr.push([Nt,Bt]),qt=Math.min(Nt,qt),At=Math.max(Nt,At),zt=Math.min(Bt,zt),Jt=Math.max(Bt,Jt)}Mr.xmin=qt,Mr.xmax=At,Mr.ymin=zt,Mr.ymax=Jt,Mr.xref=qe,Mr.yref=vt,Mr.subtract=ht(Mr,dt),dt.push(Mr),be.push(Mr)}}}}return be}function ht(ze,Re){for(var be=!1,ye=0;ye<Re.length;ye++)for(var Ae=Re[ye],Ee=0;Ee<ze.length;Ee++)if(P(ze[Ee],Ae)){be=!be;break}return be}function yt(ze,Re){return ze.type==="date"&&(Re=Re.replace("_"," ")),ze.type==="log"?ze.c2p(Re):ze.r2p(Re,null,ze.calendar)}function gt(ze){for(var Re=ze.length,be=[],ye=0;ye<Re;ye++){var Ae=ze[ye];be=be.concat(Ae),be=be.concat([Ae[0]])}return Et(be)}function Et(ze){return ze.isRect=ze.length===5&&ze[0][0]===ze[4][0]&&ze[0][1]===ze[4][1]&&ze[0][0]===ze[1][0]&&ze[2][0]===ze[3][0]&&ze[0][1]===ze[3][1]&&ze[1][1]===ze[2][1]||ze[0][1]===ze[1][1]&&ze[2][1]===ze[3][1]&&ze[0][0]===ze[3][0]&&ze[1][0]===ze[2][0],ze.isRect&&(ze.xmin=Math.min(ze[0][0],ze[2][0]),ze.xmax=Math.max(ze[0][0],ze[2][0]),ze.ymin=Math.min(ze[0][1],ze[2][1]),ze.ymax=Math.max(ze[0][1],ze[2][1])),ze}function Ct(ze){return function(Re,be){for(var ye,Ae,Ee=0;Ee<ze.length;Ee++){var Ne=ze[Ee],Je=Ne._id,qe=Je.charAt(0);if(be.isRect){ye||(ye={});var vt=be[qe+"min"],bt=be[qe+"max"];vt!==void 0&&bt!==void 0&&(ye[Je]=[_(Ne,vt),_(Ne,bt)].sort(S))}else Ae||(Ae={}),Ae[Je]=be.map(U(Ne))}ye&&(Re.range=ye),Ae&&(Re.lassoPoints=Ae)}}function Vt(ze){var Re=ze.plotinfo;return Re.fillRangeItems||Ct(ze.xaxes.concat(ze.yaxes))}function Qe(ze,Re){ze.emit("plotly_selecting",Re)}function Fe(ze,Re){Re&&(Re.selections=(ze.layout||{}).selections||[]),ze.emit("plotly_selected",Re)}function Ie(ze){ze.emit("plotly_deselect",null)}W.exports={reselect:ke,prepSelect:re,clearOutline:w,clearSelectionsCache:q,selectOnClick:ae}},89827:function(W,H,e){var g=e(50215),P=e(41940),i=e(82196).line,L=e(79952).P,A=e(1426).extendFlat,v=e(44467).templatedArray;e(24695);var p=e(9012),t=e(5386).R,r=e(37281);W.exports=v("shape",{visible:A({},p.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:A({},p.legend,{editType:"calc+arraydraw"}),legendgroup:A({},p.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:A({},p.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:P({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:A({},p.legendrank,{editType:"calc+arraydraw"}),legendwidth:A({},p.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:A({},g.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:A({},g.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:A({},i.color,{editType:"arraydraw"}),width:A({},i.width,{editType:"calc+arraydraw"}),dash:A({},L,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:t({},{keys:Object.keys(r)}),font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(W,H,e){var g=e(71828),P=e(89298),i=e(21459),L=e(30477);W.exports=function(s){var n=s._fullLayout,l=g.filterVisible(n.shapes);if(!(!l.length||!s._fullData.length))for(var f=0;f<l.length;f++){var u=l[f];u._extremes={};var m,c,w=P.getRefType(u.xref),h=P.getRefType(u.yref);if(u.xref!=="paper"&&w!=="domain"){var o=u.xsizemode==="pixel"?u.xanchor:u.x0,d=u.xsizemode==="pixel"?u.xanchor:u.x1;m=P.getFromId(s,u.xref),c=t(m,o,d,u.path,i.paramIsX),c&&(u._extremes[m._id]=P.findExtremes(m,c,A(u)))}if(u.yref!=="paper"&&h!=="domain"){var M=u.ysizemode==="pixel"?u.yanchor:u.y0,T=u.ysizemode==="pixel"?u.yanchor:u.y1;m=P.getFromId(s,u.yref),c=t(m,M,T,u.path,i.paramIsY),c&&(u._extremes[m._id]=P.findExtremes(m,c,v(u)))}}};function A(r){return p(r.line.width,r.xsizemode,r.x0,r.x1,r.path,!1)}function v(r){return p(r.line.width,r.ysizemode,r.y0,r.y1,r.path,!0)}function p(r,s,n,l,f,u){var m=r/2,c=u;if(s==="pixel"){var w=f?L.extractPathCoords(f,u?i.paramIsY:i.paramIsX):[n,l],h=g.aggNums(Math.max,null,w),o=g.aggNums(Math.min,null,w),d=o<0?Math.abs(o)+m:m,M=h>0?h+m:m;return{ppad:m,ppadplus:c?d:M,ppadminus:c?M:d}}else return{ppad:m}}function t(r,s,n,l,f){var u=r.type==="category"||r.type==="multicategory"?r.r2c:r.d2c;if(s!==void 0)return[u(s),u(n)];if(l){var m=1/0,c=-1/0,w=l.match(i.segmentRE),h,o,d,M,T;for(r.type==="date"&&(u=L.decodeDate(u)),h=0;h<w.length;h++)o=w[h],d=f[o.charAt(0)].drawn,d!==void 0&&(M=w[h].substr(1).match(i.paramRE),!(!M||M.length<d)&&(T=u(M[d]),T<m&&(m=T),T>c&&(c=T)));if(c>=m)return[m,c]}}},21459:function(W){W.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(W,H,e){var g=e(71828),P=e(89298),i=e(85501),L=e(89827),A=e(30477);W.exports=function(r,s){i(r,s,{name:"shapes",handleItemDefaults:p})};function v(t,r){return t?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}function p(t,r,s){function n(Q,j){return g.coerce(t,r,L,Q,j)}r._isShape=!0;var l=n("visible");if(l){var f=n("showlegend");f&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),g.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var u=n("path"),m=u?"path":"rect",c=n("type",m),w=c!=="path";w&&delete r.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var h=n("line.width");h&&(n("line.color"),n("line.dash"));for(var o=n("xsizemode"),d=n("ysizemode"),M=["x","y"],T=0;T<2;T++){var E=M[T],x=E+"anchor",S=E==="x"?o:d,b={_fullLayout:s},a,C,y,z=P.coerceRef(t,r,b,E,void 0,"paper"),I=P.getRefType(z);if(I==="range"?(a=P.getFromId(b,z),a._shapeIndices.push(r._index),y=A.rangeToShapePosition(a),C=A.shapePositionToRange(a)):C=y=g.identity,w){var B=.25,F=.75,O=E+"0",N=E+"1",_=t[O],U=t[N];t[O]=C(t[O],!0),t[N]=C(t[N],!0),S==="pixel"?(n(O,0),n(N,10)):(P.coercePosition(r,b,n,z,O,B),P.coercePosition(r,b,n,z,N,F)),r[O]=y(r[O]),r[N]=y(r[N]),t[O]=_,t[N]=U}if(S==="pixel"){var Y=t[x];t[x]=C(t[x],!0),P.coercePosition(r,b,n,z,x,.25),r[x]=y(r[x]),t[x]=Y}}w&&g.noneOrAll(t,r,["x0","x1","y0","y1"]);var K=c==="line",re,ae;if(w&&(re=n("label.texttemplate")),re||(ae=n("label.text")),ae||re){n("label.textangle");var fe=n("label.textposition",K?"middle":"middle center");n("label.xanchor"),n("label.yanchor",v(K,fe)),n("label.padding"),g.coerceFont(n,"label.font",s.font)}}}},48100:function(W,H,e){var g=e(71828),P=e(89298),i=e(63893),L=e(91424),A=e(60165).readPaths,v=e(30477),p=v.getPathString,t=e(37281),r=e(18783).FROM_TL;W.exports=function(f,u,m,c){if(c.selectAll(".shape-label").remove(),!!(m.label.text||m.label.texttemplate)){var w;if(m.label.texttemplate){var h={};if(m.type!=="path"){var o=P.getFromId(f,m.xref),d=P.getFromId(f,m.yref);for(var M in t){var T=t[M](m,o,d);T!==void 0&&(h[M]=T)}}w=g.texttemplateStringForShapes(m.label.texttemplate,{},f._fullLayout._d3locale,h)}else w=m.label.text;var E={"data-index":u},x=m.label.font,S={"data-notex":1},b=c.append("g").attr(E).classed("shape-label",!0),a=b.append("text").attr(S).classed("shape-label-text",!0).text(w),C,y,z,I;if(m.path){var B=p(f,m),F=A(B,f);C=1/0,z=1/0,y=-1/0,I=-1/0;for(var O=0;O<F.length;O++)for(var N=0;N<F[O].length;N++)for(var _=F[O][N],U=1;U<_.length;U+=2){var Y=_[U],K=_[U+1];C=Math.min(C,Y),y=Math.max(y,Y),z=Math.min(z,K),I=Math.max(I,K)}}else{var re=P.getFromId(f,m.xref),ae=P.getRefType(m.xref),fe=P.getFromId(f,m.yref),Q=P.getRefType(m.yref),j=v.getDataToPixel(f,re,!1,ae),X=v.getDataToPixel(f,fe,!0,Q);C=j(m.x0),y=j(m.x1),z=X(m.y0),I=X(m.y1)}var J=m.label.textangle;J==="auto"&&(m.type==="line"?J=s(C,z,y,I):J=0),a.call(function(ie){return ie.call(L.font,x).attr({}),i.convertToTspans(ie,f),ie});var ee=L.bBox(a.node()),se=n(C,z,y,I,m,J,ee),q=se.textx,$=se.texty,le=se.xanchor;a.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[le],y:$,x:q,transform:"rotate("+J+","+q+","+$+")"}).call(i.positionText,q,$)}};function s(l,f,u,m){var c,w;return w=Math.abs(u-l),u>=l?c=f-m:c=m-f,-180/Math.PI*Math.atan2(c,w)}function n(l,f,u,m,c,w,h){var o=c.label.textposition,d=c.label.textangle,M=c.label.padding,T=c.type,E=Math.PI/180*w,x=Math.sin(E),S=Math.cos(E),b=c.label.xanchor,a=c.label.yanchor,C,y,z,I;if(T==="line"){o==="start"?(C=l,y=f):o==="end"?(C=u,y=m):(C=(l+u)/2,y=(f+m)/2),b==="auto"&&(o==="start"?d==="auto"?u>l?b="left":u<l?b="right":b="center":u>l?b="right":u<l?b="left":b="center":o==="end"?d==="auto"?u>l?b="right":u<l?b="left":b="center":u>l?b="left":u<l?b="right":b="center":b="center");var B={left:1,center:0,right:-1},F={bottom:-1,middle:0,top:1};if(d==="auto"){var O=F[a];z=-M*x*O,I=M*S*O}else{var N=B[b],_=F[a];z=M*N,I=M*_}C=C+z,y=y+I}else z=M+3,o.indexOf("right")!==-1?(C=Math.max(l,u)-z,b==="auto"&&(b="right")):o.indexOf("left")!==-1?(C=Math.min(l,u)+z,b==="auto"&&(b="left")):(C=(l+u)/2,b==="auto"&&(b="center")),o.indexOf("top")!==-1?y=Math.min(f,m):o.indexOf("bottom")!==-1?y=Math.max(f,m):y=(f+m)/2,I=M,a==="bottom"?y=y-I:a==="top"&&(y=y+I);var U=r[a],Y=c.label.font.size,K=h.height,re=(K*U-Y)*x,ae=-(K*U-Y)*S;return{textx:C+re,texty:y+ae,xanchor:b}}},42359:function(W,H,e){var g=e(71828),P=g.strTranslate,i=e(28569),L=e(64505),A=L.drawMode,v=L.selectMode,p=e(73972),t=e(7901),r=e(89995),s=r.i000,n=r.i090,l=r.i180,f=r.i270,u=e(51873),m=u.clearOutlineControllers,c=e(60165),w=c.pointsOnRectangle,h=c.pointsOnEllipse,o=c.writePaths,d=e(90551).newShapes,M=e(90551).createShapeObj,T=e(35855),E=e(48100);W.exports=function a(C,y,z,I){I||(I=0);var B=z.gd;function F(){a(C,y,z,I++),(h(C[0])||z.hasText)&&O({redrawing:!0})}function O(xe){var Se={};z.isActiveShape!==void 0&&(z.isActiveShape=!1,Se=d(y,z)),z.isActiveSelection!==void 0&&(z.isActiveSelection=!1,Se=T(y,z),B._fullLayout._reselect=!0),Object.keys(Se).length&&p.call((xe||{}).redrawing?"relayout":"_guiRelayout",B,Se)}var N=B._fullLayout,_=N._zoomlayer,U=z.dragmode,Y=A(U),K=v(U);(Y||K)&&(B._fullLayout._outlining=!0),m(B),y.attr("d",o(C));var re,ae,fe,Q,j;if(!I&&(z.isActiveShape||z.isActiveSelection)){j=x([],C);var X=_.append("g").attr("class","outline-controllers");ce(X),Ce()}if(Y&&z.hasText){var J=_.select(".label-temp"),ee=M(y,z,z.dragmode);E(B,"label-temp",ee,J)}function se(xe){fe=+xe.srcElement.getAttribute("data-i"),Q=+xe.srcElement.getAttribute("data-j"),re[fe][Q].moveFn=q}function q(xe,Se){if(C.length){var He=j[fe][Q][1],Ge=j[fe][Q][2],ke=C[fe],We=ke.length;if(w(ke)){var it=xe,et=Se;if(z.isActiveSelection){var tt=S(ke,Q);tt[1]===ke[Q][1]?et=0:it=0}for(var at=0;at<We;at++)if(at!==Q){var ht=ke[at];ht[1]===ke[Q][1]&&(ht[1]=He+it),ht[2]===ke[Q][2]&&(ht[2]=Ge+et)}if(ke[Q][1]=He+it,ke[Q][2]=Ge+et,!w(ke))for(var yt=0;yt<We;yt++)for(var gt=0;gt<ke[yt].length;gt++)ke[yt][gt]=j[fe][yt][gt]}else ke[Q][1]=He+xe,ke[Q][2]=Ge+Se;F()}}function $(){O()}function le(){if(C.length&&C[fe]&&C[fe].length){for(var xe=[],Se=0;Se<C[fe].length;Se++)Se!==Q&&xe.push(C[fe][Se]);xe.length>1&&!(xe.length===2&&xe[1][0]==="Z")&&(Q===0&&(xe[0][0]="M"),C[fe]=xe,F(),O())}}function ie(xe,Se){if(xe===2){fe=+Se.srcElement.getAttribute("data-i"),Q=+Se.srcElement.getAttribute("data-j");var He=C[fe];!w(He)&&!h(He)&&le()}}function ce(xe){re=[];for(var Se=0;Se<C.length;Se++){var He=C[Se],Ge=w(He),ke=!Ge&&h(He);re[Se]=[];for(var We=He.length,it=0;it<We;it++)if(He[it][0]!=="Z"&&!(ke&&it!==s&&it!==n&&it!==l&&it!==f)){var et=Ge&&z.isActiveSelection,tt;et&&(tt=S(He,it));var at=He[it][1],ht=He[it][2],yt=xe.append(et?"rect":"circle").attr("data-i",Se).attr("data-j",it).style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(et){var gt=tt[1]-at,Et=tt[2]-ht,Ct=Et?5:Math.max(Math.min(25,Math.abs(gt)-5),5),Vt=gt?5:Math.max(Math.min(25,Math.abs(Et)-5),5);yt.classed(Et?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Ct).attr("height",Vt).attr("x",at-Ct/2).attr("y",ht-Vt/2).attr("transform",P(gt/2,Et/2))}else yt.classed("cursor-grab",!0).attr("r",5).attr("cx",at).attr("cy",ht);re[Se][it]={element:yt.node(),gd:B,prepFn:se,doneFn:$,clickFn:ie},i.init(re[Se][it])}}}function me(xe,Se){if(C.length)for(var He=0;He<C.length;He++)for(var Ge=0;Ge<C[He].length;Ge++)for(var ke=0;ke+2<C[He][Ge].length;ke+=2)C[He][Ge][ke+1]=j[He][Ge][ke+1]+xe,C[He][Ge][ke+2]=j[He][Ge][ke+2]+Se}function Me(xe,Se){me(xe,Se),F()}function we(xe){fe=+xe.srcElement.getAttribute("data-i"),fe||(fe=0),ae[fe].moveFn=Me}function Oe(){O()}function Be(xe){xe===2&&b(B)}function Ce(){if(ae=[],!!C.length){var xe=0;ae[xe]={element:y[0][0],gd:B,prepFn:we,doneFn:Oe,clickFn:Be},i.init(ae[xe])}}};function x(a,C){for(var y=0;y<C.length;y++){var z=C[y];a[y]=[];for(var I=0;I<z.length;I++){a[y][I]=[];for(var B=0;B<z[I].length;B++)a[y][I][B]=z[I][B]}}return a}function S(a,C){var y=a[C][1],z=a[C][2],I=a.length,B,F,O;return B=(C+1)%I,F=a[B][1],O=a[B][2],F===y&&O===z&&(B=(C+2)%I,F=a[B][1],O=a[B][2]),[B,F,O]}function b(a){if(v(a._fullLayout.dragmode)){m(a);var C=a._fullLayout._activeSelectionIndex,y=(a.layout||{}).selections||[];if(C<y.length){for(var z=[],I=0;I<y.length;I++)I!==C&&z.push(y[I]);delete a._fullLayout._activeSelectionIndex;var B=a._fullLayout.selections[C];a._fullLayout._deselect={xref:B.xref,yref:B.yref},p.call("_guiRelayout",a,{selections:z})}}}},34031:function(W,H,e){var g=e(39898),P=e(73972),i=e(71828),L=e(89298),A=e(60165).readPaths,v=e(42359),p=e(48100),t=e(51873).clearOutlineControllers,r=e(7901),s=e(91424),n=e(44467).arrayEditor,l=e(28569),f=e(6964),u=e(21459),m=e(30477),c=m.getPathString;W.exports={draw:w,drawOne:d,eraseActiveShape:b,drawLabel:p};function w(a){var C=a._fullLayout;C._shapeUpperLayer.selectAll("path").remove(),C._shapeLowerLayer.selectAll("path").remove(),C._shapeUpperLayer.selectAll("text").remove(),C._shapeLowerLayer.selectAll("text").remove();for(var y in C._plots){var z=C._plots[y].shapelayer;z&&(z.selectAll("path").remove(),z.selectAll("text").remove())}for(var I=0;I<C.shapes.length;I++)C.shapes[I].visible===!0&&d(a,I)}function h(a){return!!a._fullLayout._outlining}function o(a){return!a._context.edits.shapePosition}function d(a,C){a._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+C+'"]').remove();var y=m.makeShapesOptionsAndPlotinfo(a,C),z=y.options,I=y.plotinfo;if(!z._input||z.visible!==!0)return;if(z.layer!=="below")F(a._fullLayout._shapeUpperLayer);else if(z.xref==="paper"||z.yref==="paper")F(a._fullLayout._shapeLowerLayer);else if(I._hadPlotinfo){var B=I.mainplotinfo||I;F(B.shapelayer)}else F(a._fullLayout._shapeLowerLayer);function F(O){var N=c(a,z),_={"data-index":C,"fill-rule":z.fillrule,d:N},U=z.opacity,Y=z.fillcolor,K=z.line.width?z.line.color:"rgba(0,0,0,0)",re=z.line.width,ae=z.line.dash;!re&&z.editable===!0&&(re=5,ae="solid");var fe=N[N.length-1]!=="Z",Q=o(a)&&z.editable&&a._fullLayout._activeShapeIndex===C;Q&&(Y=fe?"rgba(0,0,0,0)":a._fullLayout.activeshape.fillcolor,U=a._fullLayout.activeshape.opacity);var j=O.append("g").classed("shape-group",!0).attr({"data-index":C}),X=j.append("path").attr(_).style("opacity",U).call(r.stroke,K).call(r.fill,Y).call(s.dashLine,ae,re);M(j,a,z),p(a,C,z,j);var J;if((Q||a._context.edits.shapePosition)&&(J=n(a.layout,"shapes",z)),Q){X.style({cursor:"move"});var ee={element:X.node(),plotinfo:I,gd:a,editHelpers:J,hasText:z.label.text||z.label.texttemplate,isActiveShape:!0},se=A(N,a);v(se,X,ee)}else a._context.edits.shapePosition?T(a,X,z,C,O,J):z.editable===!0&&X.style("pointer-events",fe||r.opacity(Y)*U<=.5?"stroke":"all");X.node().addEventListener("click",function(){return x(a,X)})}}function M(a,C,y){var z=(y.xref+y.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");s.setClipUrl(a,z?"clip"+C._fullLayout._uid+z:null,C)}function T(a,C,y,z,I,B){var F=10,O=10,N=y.xsizemode==="pixel",_=y.ysizemode==="pixel",U=y.type==="line",Y=y.type==="path",K=B.modifyItem,re,ae,fe,Q,j,X,J,ee,se,q,$,le,ie,ce,me,Me=g.select(C.node().parentNode),we=L.getFromId(a,y.xref),Oe=L.getRefType(y.xref),Be=L.getFromId(a,y.yref),Ce=L.getRefType(y.yref),xe=m.getDataToPixel(a,we,!1,Oe),Se=m.getDataToPixel(a,Be,!0,Ce),He=m.getPixelToData(a,we,!1,Oe),Ge=m.getPixelToData(a,Be,!0,Ce),ke=et(),We={element:ke.node(),gd:a,prepFn:ht,doneFn:yt,clickFn:gt},it;l.init(We),ke.node().onmousemove=at;function et(){return U?tt():C}function tt(){var Ie=10,ze=Math.max(y.line.width,Ie),Re=I.append("g").attr("data-index",z).attr("drag-helper",!0);Re.append("path").attr("d",C.attr("d")).style({cursor:"move","stroke-width":ze,"stroke-opacity":"0"});var be={"fill-opacity":"0"},ye=Math.max(ze/2,Ie);return Re.append("circle").attr({"data-line-point":"start-point",cx:N?xe(y.xanchor)+y.x0:xe(y.x0),cy:_?Se(y.yanchor)-y.y0:Se(y.y0),r:ye}).style(be).classed("cursor-grab",!0),Re.append("circle").attr({"data-line-point":"end-point",cx:N?xe(y.xanchor)+y.x1:xe(y.x1),cy:_?Se(y.yanchor)-y.y1:Se(y.y1),r:ye}).style(be).classed("cursor-grab",!0),Re}function at(Ie){if(h(a)){it=null;return}if(U)Ie.target.tagName==="path"?it="move":it=Ie.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var ze=We.element.getBoundingClientRect(),Re=ze.right-ze.left,be=ze.bottom-ze.top,ye=Ie.clientX-ze.left,Ae=Ie.clientY-ze.top,Ee=!Y&&Re>F&&be>O&&!Ie.shiftKey?l.getCursor(ye/Re,1-Ae/be):"move";f(C,Ee),it=Ee.split("-")[0]}}function ht(Ie){h(a)||(N&&(j=xe(y.xanchor)),_&&(X=Se(y.yanchor)),y.type==="path"?me=y.path:(re=N?y.x0:xe(y.x0),ae=_?y.y0:Se(y.y0),fe=N?y.x1:xe(y.x1),Q=_?y.y1:Se(y.y1)),re<fe?(se=re,ie="x0",q=fe,ce="x1"):(se=fe,ie="x1",q=re,ce="x0"),!_&&ae<Q||_&&ae>Q?(J=ae,$="y0",ee=Q,le="y1"):(J=Q,$="y1",ee=ae,le="y0"),at(Ie),Vt(I,y),Fe(C,y,a),We.moveFn=it==="move"?Et:Ct,We.altKey=Ie.altKey)}function yt(){h(a)||(f(C),Qe(I),M(C,a,y),P.call("_guiRelayout",a,B.getUpdateObj()))}function gt(){h(a)||Qe(I)}function Et(Ie,ze){if(y.type==="path"){var Re=function(Ae){return Ae},be=Re,ye=Re;N?K("xanchor",y.xanchor=He(j+Ie)):(be=function(Ee){return He(xe(Ee)+Ie)},we&&we.type==="date"&&(be=m.encodeDate(be))),_?K("yanchor",y.yanchor=Ge(X+ze)):(ye=function(Ee){return Ge(Se(Ee)+ze)},Be&&Be.type==="date"&&(ye=m.encodeDate(ye))),K("path",y.path=E(me,be,ye))}else N?K("xanchor",y.xanchor=He(j+Ie)):(K("x0",y.x0=He(re+Ie)),K("x1",y.x1=He(fe+Ie))),_?K("yanchor",y.yanchor=Ge(X+ze)):(K("y0",y.y0=Ge(ae+ze)),K("y1",y.y1=Ge(Q+ze)));C.attr("d",c(a,y)),Vt(I,y),p(a,z,y,Me)}function Ct(Ie,ze){if(Y){var Re=function(pt){return pt},be=Re,ye=Re;N?K("xanchor",y.xanchor=He(j+Ie)):(be=function(Zt){return He(xe(Zt)+Ie)},we&&we.type==="date"&&(be=m.encodeDate(be))),_?K("yanchor",y.yanchor=Ge(X+ze)):(ye=function(Zt){return Ge(Se(Zt)+ze)},Be&&Be.type==="date"&&(ye=m.encodeDate(ye))),K("path",y.path=E(me,be,ye))}else if(U){if(it==="resize-over-start-point"){var Ae=re+Ie,Ee=_?ae-ze:ae+ze;K("x0",y.x0=N?Ae:He(Ae)),K("y0",y.y0=_?Ee:Ge(Ee))}else if(it==="resize-over-end-point"){var Ne=fe+Ie,Je=_?Q-ze:Q+ze;K("x1",y.x1=N?Ne:He(Ne)),K("y1",y.y1=_?Je:Ge(Je))}}else{var qe=function(pt){return it.indexOf(pt)!==-1},vt=qe("n"),bt=qe("s"),Wt=qe("w"),qt=qe("e"),At=vt?J+ze:J,zt=bt?ee+ze:ee,Jt=Wt?se+Ie:se,Mr=qt?q+Ie:q;_&&(vt&&(At=J-ze),bt&&(zt=ee-ze)),(!_&&zt-At>O||_&&At-zt>O)&&(K($,y[$]=_?At:Ge(At)),K(le,y[le]=_?zt:Ge(zt))),Mr-Jt>F&&(K(ie,y[ie]=N?Jt:He(Jt)),K(ce,y[ce]=N?Mr:He(Mr)))}C.attr("d",c(a,y)),Vt(I,y),p(a,z,y,Me)}function Vt(Ie,ze){(N||_)&&Re();function Re(){var be=ze.type!=="path",ye=Ie.selectAll(".visual-cue").data([0]),Ae=1;ye.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Ae}).classed("visual-cue",!0);var Ee=xe(N?ze.xanchor:i.midRange(be?[ze.x0,ze.x1]:m.extractPathCoords(ze.path,u.paramIsX))),Ne=Se(_?ze.yanchor:i.midRange(be?[ze.y0,ze.y1]:m.extractPathCoords(ze.path,u.paramIsY)));if(Ee=m.roundPositionForSharpStrokeRendering(Ee,Ae),Ne=m.roundPositionForSharpStrokeRendering(Ne,Ae),N&&_){var Je="M"+(Ee-1-Ae)+","+(Ne-1-Ae)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";ye.attr("d",Je)}else if(N){var qe="M"+(Ee-1-Ae)+","+(Ne-9-Ae)+"v18 h2 v-18 Z";ye.attr("d",qe)}else{var vt="M"+(Ee-9-Ae)+","+(Ne-1-Ae)+"h18 v2 h-18 Z";ye.attr("d",vt)}}}function Qe(Ie){Ie.selectAll(".visual-cue").remove()}function Fe(Ie,ze,Re){var be=ze.xref,ye=ze.yref,Ae=L.getFromId(Re,be),Ee=L.getFromId(Re,ye),Ne="";be!=="paper"&&!Ae.autorange&&(Ne+=be),ye!=="paper"&&!Ee.autorange&&(Ne+=ye),s.setClipUrl(Ie,Ne?"clip"+Re._fullLayout._uid+Ne:null,Re)}}function E(a,C,y){return a.replace(u.segmentRE,function(z){var I=0,B=z.charAt(0),F=u.paramIsX[B],O=u.paramIsY[B],N=u.numParams[B],_=z.substr(1).replace(u.paramRE,function(U){return I>=N||(F[I]?U=C(U):O[I]&&(U=y(U)),I++),U});return B+_})}function x(a,C){if(o(a)){var y=C.node(),z=+y.getAttribute("data-index");if(z>=0){if(z===a._fullLayout._activeShapeIndex){S(a);return}a._fullLayout._activeShapeIndex=z,a._fullLayout._deactivateShape=S,w(a)}}}function S(a){if(o(a)){var C=a._fullLayout._activeShapeIndex;C>=0&&(t(a),delete a._fullLayout._activeShapeIndex,w(a))}}function b(a){if(o(a)){t(a);var C=a._fullLayout._activeShapeIndex,y=(a.layout||{}).shapes||[];if(C<y.length){for(var z=[],I=0;I<y.length;I++)I!==C&&z.push(y[I]);return delete a._fullLayout._activeShapeIndex,P.call("_guiRelayout",a,{shapes:z})}}}},29241:function(W,H,e){var g=e(30962).overrideAll,P=e(9012),i=e(41940),L=e(79952).P,A=e(1426).extendFlat,v=e(5386).R,p=e(37281);W.exports=g({newshape:{visible:A({},P.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:A({},P.legend,{}),legendgroup:A({},P.legendgroup,{}),legendgrouptitle:{text:A({},P.legendgrouptitle.text,{}),font:i({})},legendrank:A({},P.legendrank,{}),legendwidth:A({},P.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:A({},L,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:A({},P.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:v({newshape:!0},{keys:Object.keys(p)}),font:i({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},89995:function(W){var H=32;W.exports={CIRCLE_SIDES:H,i000:0,i090:H/4,i180:H/2,i270:H/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(W,H,e){var g=e(7901),P=e(71828);function i(L,A){return L?"bottom":A.indexOf("top")!==-1?"top":A.indexOf("bottom")!==-1?"bottom":"middle"}W.exports=function(A,v,p){p("newshape.visible"),p("newshape.name"),p("newshape.showlegend"),p("newshape.legend"),p("newshape.legendwidth"),p("newshape.legendgroup"),p("newshape.legendgrouptitle.text"),P.coerceFont(p,"newshape.legendgrouptitle.font"),p("newshape.legendrank"),p("newshape.drawdirection"),p("newshape.layer"),p("newshape.fillcolor"),p("newshape.fillrule"),p("newshape.opacity");var t=p("newshape.line.width");if(t){var r=(A||{}).plot_bgcolor||"#FFF";p("newshape.line.color",g.contrast(r)),p("newshape.line.dash")}var s=A.dragmode==="drawline",n=p("newshape.label.text"),l=p("newshape.label.texttemplate");if(n||l){p("newshape.label.textangle");var f=p("newshape.label.textposition",s?"middle":"middle center");p("newshape.label.xanchor"),p("newshape.label.yanchor",i(s,f)),p("newshape.label.padding"),P.coerceFont(p,"newshape.label.font",v.font)}p("activeshape.fillcolor"),p("activeshape.opacity")}},60165:function(W,H,e){var g=e(95616),P=e(89995),i=P.CIRCLE_SIDES,L=P.SQRT2,A=e(75549),v=A.p2r,p=A.r2p,t=[0,3,4,5,6,1,2],r=[0,3,4,1,2];H.writePaths=function(l){var f=l.length;if(!f)return"M0,0Z";for(var u="",m=0;m<f;m++)for(var c=l[m].length,w=0;w<c;w++){var h=l[m][w][0];if(h==="Z")u+="Z";else for(var o=l[m][w].length,d=0;d<o;d++){var M=d;h==="Q"||h==="S"?M=r[d]:h==="C"&&(M=t[d]),u+=l[m][w][M],d>0&&d<o-1&&(u+=",")}}return u},H.readPaths=function(l,f,u,m){var c=g(l),w=[],h=-1,o=function(){h++,w[h]=[]},d,M=0,T=0,E,x,S=function(){E=M,x=T};S();for(var b=0;b<c.length;b++){var a=[],C,y,z,I,B=c[b][0],F=B;switch(B){case"M":o(),M=+c[b][1],T=+c[b][2],a.push([F,M,T]),S();break;case"Q":case"S":C=+c[b][1],z=+c[b][2],M=+c[b][3],T=+c[b][4],a.push([F,M,T,C,z]);break;case"C":C=+c[b][1],z=+c[b][2],y=+c[b][3],I=+c[b][4],M=+c[b][5],T=+c[b][6],a.push([F,M,T,C,z,y,I]);break;case"T":case"L":M=+c[b][1],T=+c[b][2],a.push([F,M,T]);break;case"H":F="L",M=+c[b][1],a.push([F,M,T]);break;case"V":F="L",T=+c[b][1],a.push([F,M,T]);break;case"A":F="L";var O=+c[b][1],N=+c[b][2];+c[b][4]||(O=-O,N=-N);var _=M-O,U=T;for(d=1;d<=i/2;d++){var Y=2*Math.PI*d/i;a.push([F,_+O*Math.cos(Y),U+N*Math.sin(Y)])}break;case"Z":(M!==E||T!==x)&&(M=E,T=x,a.push([F,M,T]));break}for(var K=(u||{}).domain,re=f._fullLayout._size,ae=u&&u.xsizemode==="pixel",fe=u&&u.ysizemode==="pixel",Q=m===!1,j=0;j<a.length;j++){for(d=0;d+2<7;d+=2){var X=a[j][d+1],J=a[j][d+2];X===void 0||J===void 0||(M=X,T=J,u&&(u.xaxis&&u.xaxis.p2r?(Q&&(X-=u.xaxis._offset),ae?X=p(u.xaxis,u.xanchor)+X:X=v(u.xaxis,X)):(Q&&(X-=re.l),K?X=K.x[0]+X/re.w:X=X/re.w),u.yaxis&&u.yaxis.p2r?(Q&&(J-=u.yaxis._offset),fe?J=p(u.yaxis,u.yanchor)-J:J=v(u.yaxis,J)):(Q&&(J-=re.t),K?J=K.y[1]-J/re.h:J=1-J/re.h)),a[j][d+1]=X,a[j][d+2]=J)}w[h].push(a[j].slice())}}return w};function s(l,f){return Math.abs(l-f)<=1e-6}function n(l,f){var u=f[1]-l[1],m=f[2]-l[2];return Math.sqrt(u*u+m*m)}H.pointsOnRectangle=function(l){var f=l.length;if(f!==5)return!1;for(var u=1;u<3;u++){var m=l[0][u]-l[1][u],c=l[3][u]-l[2][u];if(!s(m,c))return!1;var w=l[0][u]-l[3][u],h=l[1][u]-l[2][u];if(!s(w,h))return!1}return!s(l[0][1],l[1][1])&&!s(l[0][1],l[3][1])?!1:!!(n(l[0],l[1])*n(l[0],l[3]))},H.pointsOnEllipse=function(l){var f=l.length;if(f!==i+1)return!1;f=i;for(var u=0;u<f;u++){var m=(f*2-u)%f,c=(f/2+m)%f,w=(f/2+u)%f;if(!s(n(l[u],l[w]),n(l[m],l[c])))return!1}return!0},H.handleEllipse=function(l,f,u){if(!l)return[f,u];var m=H.ellipseOver({x0:f[0],y0:f[1],x1:u[0],y1:u[1]}),c=(m.x1+m.x0)/2,w=(m.y1+m.y0)/2,h=(m.x1-m.x0)/2,o=(m.y1-m.y0)/2;h||(h=o=o/L),o||(o=h=h/L);for(var d=[],M=0;M<i;M++){var T=M*2*Math.PI/i;d.push([c+h*Math.cos(T),w+o*Math.sin(T)])}return d},H.ellipseOver=function(l){var f=l.x0,u=l.y0,m=l.x1,c=l.y1,w=m-f,h=c-u;f-=w,u-=h;var o=(f+m)/2,d=(u+c)/2,M=L;return w*=M,h*=M,{x0:o-w,y0:d-h,x1:o+w,y1:d+h}},H.fixDatesForPaths=function(l,f,u){var m=f.type==="date",c=u.type==="date";if(!m&&!c)return l;for(var w=0;w<l.length;w++)for(var h=0;h<l[w].length;h++)for(var o=0;o+2<l[w][h].length;o+=2)m&&(l[w][h][o+1]=l[w][h][o+1].replace(" ","_")),c&&(l[w][h][o+2]=l[w][h][o+2].replace(" ","_"));return l}},90551:function(W,H,e){var g=e(64505),P=g.drawMode,i=g.openMode,L=e(89995),A=L.i000,v=L.i090,p=L.i180,t=L.i270,r=L.cos45,s=L.sin45,n=e(75549),l=n.p2r,f=n.r2p,u=e(51873),m=u.clearOutline,c=e(60165),w=c.readPaths,h=c.writePaths,o=c.ellipseOver,d=c.fixDatesForPaths;function M(E,x){if(E.length){var S=E[0][0];if(S){var b=x.gd,a=x.isActiveShape,C=x.dragmode,y=(b.layout||{}).shapes||[];if(!P(C)&&a!==void 0){var z=b._fullLayout._activeShapeIndex;if(z<y.length)switch(b._fullLayout.shapes[z].type){case"rect":C="drawrect";break;case"circle":C="drawcircle";break;case"line":C="drawline";break;case"path":var I=y[z].path||"";I[I.length-1]==="Z"?C="drawclosedpath":C="drawopenpath";break}}var B=T(E,x,C);m(b);for(var F=x.editHelpers,O=(F||{}).modifyItem,N=[],_=0;_<y.length;_++){var U=b._fullLayout.shapes[_];if(N[_]=U._input,a!==void 0&&_===b._fullLayout._activeShapeIndex){var Y=B;switch(U.type){case"line":case"rect":case"circle":O("x0",Y.x0),O("x1",Y.x1),O("y0",Y.y0),O("y1",Y.y1);break;case"path":O("path",Y.path);break}}}return a===void 0?(N.push(B),N):F?F.getUpdateObj():{}}}}function T(E,x,S){var b=E[0][0],a=x.gd,C=b.getAttribute("d"),y=a._fullLayout.newshape,z=x.plotinfo,I=x.isActiveShape,B=z.xaxis,F=z.yaxis,O=!!z.domain||!z.xaxis,N=!!z.domain||!z.yaxis,_=i(S),U=w(C,a,z,I),Y={editable:!0,visible:y.visible,name:y.name,showlegend:y.showlegend,legend:y.legend,legendwidth:y.legendwidth,legendgroup:y.legendgroup,legendgrouptitle:{text:y.legendgrouptitle.text,font:y.legendgrouptitle.font},legendrank:y.legendrank,label:y.label,xref:O?"paper":B._id,yref:N?"paper":F._id,layer:y.layer,opacity:y.opacity,line:{color:y.line.color,width:y.line.width,dash:y.line.dash}};_||(Y.fillcolor=y.fillcolor,Y.fillrule=y.fillrule);var K;if(U.length===1&&(K=U[0]),K&&K.length===5&&S==="drawrect")Y.type="rect",Y.x0=K[0][1],Y.y0=K[0][2],Y.x1=K[2][1],Y.y1=K[2][2];else if(K&&S==="drawline")Y.type="line",Y.x0=K[0][1],Y.y0=K[0][2],Y.x1=K[1][1],Y.y1=K[1][2];else if(K&&S==="drawcircle"){Y.type="circle";var re=K[A][1],ae=K[v][1],fe=K[p][1],Q=K[t][1],j=K[A][2],X=K[v][2],J=K[p][2],ee=K[t][2],se=z.xaxis&&(z.xaxis.type==="date"||z.xaxis.type==="log"),q=z.yaxis&&(z.yaxis.type==="date"||z.yaxis.type==="log");se&&(re=f(z.xaxis,re),ae=f(z.xaxis,ae),fe=f(z.xaxis,fe),Q=f(z.xaxis,Q)),q&&(j=f(z.yaxis,j),X=f(z.yaxis,X),J=f(z.yaxis,J),ee=f(z.yaxis,ee));var $=(ae+Q)/2,le=(j+J)/2,ie=(Q-ae+fe-re)/2,ce=(ee-X+J-j)/2,me=o({x0:$,y0:le,x1:$+ie*r,y1:le+ce*s});se&&(me.x0=l(z.xaxis,me.x0),me.x1=l(z.xaxis,me.x1)),q&&(me.y0=l(z.yaxis,me.y0),me.y1=l(z.yaxis,me.y1)),Y.x0=me.x0,Y.y0=me.y0,Y.x1=me.x1,Y.y1=me.y1}else Y.type="path",B&&F&&d(U,B,F),Y.path=h(U),K=null;return Y}W.exports={newShapes:M,createShapeObj:T}},51873:function(W){function H(g){var P=g._fullLayout._zoomlayer;P&&P.selectAll(".outline-controllers").remove()}function e(g){var P=g._fullLayout._zoomlayer;P&&P.selectAll(".select-outline").remove(),g._fullLayout._outlining=!1}W.exports={clearOutlineControllers:H,clearOutline:e}},30477:function(W,H,e){var g=e(21459),P=e(71828),i=e(89298);H.rangeToShapePosition=function(A){return A.type==="log"?A.r2d:function(v){return v}},H.shapePositionToRange=function(A){return A.type==="log"?A.d2r:function(v){return v}},H.decodeDate=function(A){return function(v){return v.replace&&(v=v.replace("_"," ")),A(v)}},H.encodeDate=function(A){return function(v){return A(v).replace(" ","_")}},H.extractPathCoords=function(A,v,p){var t=[],r=A.match(g.segmentRE);return r.forEach(function(s){var n=v[s.charAt(0)].drawn;if(n!==void 0){var l=s.substr(1).match(g.paramRE);if(!(!l||l.length<n)){var f=l[n],u=p?f:P.cleanNumber(f);t.push(u)}}}),t},H.getDataToPixel=function(A,v,p,t){var r=A._fullLayout._size,s;if(v)if(t==="domain")s=function(l){return v._length*(p?1-l:l)+v._offset};else{var n=H.shapePositionToRange(v);s=function(l){return v._offset+v.r2p(n(l,!0))},v.type==="date"&&(s=H.decodeDate(s))}else p?s=function(l){return r.t+r.h*(1-l)}:s=function(l){return r.l+r.w*l};return s},H.getPixelToData=function(A,v,p,t){var r=A._fullLayout._size,s;if(v)if(t==="domain")s=function(l){var f=(l-v._offset)/v._length;return p?1-f:f};else{var n=H.rangeToShapePosition(v);s=function(l){return n(v.p2r(l-v._offset))}}else p?s=function(l){return 1-(l-r.t)/r.h}:s=function(l){return(l-r.l)/r.w};return s},H.roundPositionForSharpStrokeRendering=function(A,v){var p=Math.round(v%2)===1,t=Math.round(A);return p?t+.5:t},H.makeShapesOptionsAndPlotinfo=function(A,v){var p=A._fullLayout.shapes[v]||{},t=A._fullLayout._plots[p.xref+p.yref],r=!!t;return r?t._hadPlotinfo=!0:(t={},p.xref&&p.xref!=="paper"&&(t.xaxis=A._fullLayout[p.xref+"axis"]),p.yref&&p.yref!=="paper"&&(t.yaxis=A._fullLayout[p.yref+"axis"])),t.xsizemode=p.xsizemode,t.ysizemode=p.ysizemode,t.xanchor=p.xanchor,t.yanchor=p.yanchor,{options:p,plotinfo:t}},H.makeSelectionsOptionsAndPlotinfo=function(A,v){var p=A._fullLayout.selections[v]||{},t=A._fullLayout._plots[p.xref+p.yref],r=!!t;return r?t._hadPlotinfo=!0:(t={},p.xref&&(t.xaxis=A._fullLayout[p.xref+"axis"]),p.yref&&(t.yaxis=A._fullLayout[p.yref+"axis"])),{options:p,plotinfo:t}},H.getPathString=function(A,v){var p=v.type,t=i.getRefType(v.xref),r=i.getRefType(v.yref),s=i.getFromId(A,v.xref),n=i.getFromId(A,v.yref),l=A._fullLayout._size,f,u,m,c,w,h,o,d;if(s?t==="domain"?u=function(z){return s._offset+s._length*z}:(f=H.shapePositionToRange(s),u=function(z){return s._offset+s.r2p(f(z,!0))}):u=function(z){return l.l+l.w*z},n?r==="domain"?c=function(z){return n._offset+n._length*(1-z)}:(m=H.shapePositionToRange(n),c=function(z){return n._offset+n.r2p(m(z,!0))}):c=function(z){return l.t+l.h*(1-z)},p==="path")return s&&s.type==="date"&&(u=H.decodeDate(u)),n&&n.type==="date"&&(c=H.decodeDate(c)),L(v,u,c);if(v.xsizemode==="pixel"){var M=u(v.xanchor);w=M+v.x0,h=M+v.x1}else w=u(v.x0),h=u(v.x1);if(v.ysizemode==="pixel"){var T=c(v.yanchor);o=T-v.y0,d=T-v.y1}else o=c(v.y0),d=c(v.y1);if(p==="line")return"M"+w+","+o+"L"+h+","+d;if(p==="rect")return"M"+w+","+o+"H"+h+"V"+d+"H"+w+"Z";var E=(w+h)/2,x=(o+d)/2,S=Math.abs(E-w),b=Math.abs(x-o),a="A"+S+","+b,C=E+S+","+x,y=E+","+(x-b);return"M"+C+a+" 0 1,1 "+y+a+" 0 0,1 "+C+"Z"};function L(A,v,p){var t=A.path,r=A.xsizemode,s=A.ysizemode,n=A.xanchor,l=A.yanchor;return t.replace(g.segmentRE,function(f){var u=0,m=f.charAt(0),c=g.paramIsX[m],w=g.paramIsY[m],h=g.numParams[m],o=f.substr(1).replace(g.paramRE,function(d){return c[u]?r==="pixel"?d=v(n)+Number(d):d=v(d):w[u]&&(s==="pixel"?d=p(l)-Number(d):d=p(d)),u++,u>h&&(d="X"),d});return u>h&&(o=o.replace(/[\s,]*X.*/,""),P.log("Ignoring extra params in segment "+f)),m+o})}},89853:function(W,H,e){var g=e(34031);W.exports={moduleType:"component",name:"shapes",layoutAttributes:e(89827),supplyLayoutDefaults:e(84726),supplyDrawNewShapeDefaults:e(45547),includeBasePlot:e(76325)("shapes"),calcAutorange:e(5627),draw:g.draw,drawOne:g.drawOne}},37281:function(W){function H(f,u){return u?u.d2l(f):f}function e(f,u){return u?u.l2d(f):f}function g(f){return f.x0}function P(f){return f.x1}function i(f){return f.y0}function L(f){return f.y1}function A(f,u){return H(f.x1,u)-H(f.x0,u)}function v(f,u,m){return H(f.y1,m)-H(f.y0,m)}function p(f,u){return Math.abs(A(f,u))}function t(f,u,m){return Math.abs(v(f,u,m))}function r(f,u,m){return f.type!=="line"?void 0:Math.sqrt(Math.pow(A(f,u),2)+Math.pow(v(f,u,m),2))}function s(f,u){return e((H(f.x1,u)+H(f.x0,u))/2,u)}function n(f,u,m){return e((H(f.y1,m)+H(f.y0,m))/2,m)}function l(f,u,m){return f.type!=="line"?void 0:v(f,u,m)/A(f,u)}W.exports={x0:g,x1:P,y0:i,y1:L,slope:l,dx:A,dy:v,width:p,height:t,length:r,xcenter:s,ycenter:n}},75067:function(W,H,e){var g=e(41940),P=e(35025),i=e(1426).extendDeepAll,L=e(30962).overrideAll,A=e(85594),v=e(44467).templatedArray,p=e(98292),t=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});W.exports=L(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:t,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:i(P({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:A.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:g({})},font:g({}),activebgcolor:{valType:"color",dflt:p.gripBgActiveColor},bgcolor:{valType:"color",dflt:p.railBgColor},bordercolor:{valType:"color",dflt:p.railBorderColor},borderwidth:{valType:"number",min:0,dflt:p.railBorderWidth},ticklen:{valType:"number",min:0,dflt:p.tickLength},tickcolor:{valType:"color",dflt:p.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:p.minorTickLength}}),"arraydraw","from-root")},98292:function(W){W.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(W,H,e){var g=e(71828),P=e(85501),i=e(75067),L=e(98292),A=L.name,v=i.steps;W.exports=function(s,n){P(s,n,{name:A,handleItemDefaults:p})};function p(r,s,n){function l(d,M){return g.coerce(r,s,i,d,M)}for(var f=P(r,s,{name:"steps",handleItemDefaults:t}),u=0,m=0;m<f.length;m++)f[m].visible&&u++;var c;if(u<2?c=s.visible=!1:c=l("visible"),!!c){s._stepCount=u;var w=s._visibleSteps=g.filterVisible(f),h=l("active");(f[h]||{}).visible||(s.active=w[0]._index),l("x"),l("y"),g.noneOrAll(r,s,["x","y"]),l("xanchor"),l("yanchor"),l("len"),l("lenmode"),l("pad.t"),l("pad.r"),l("pad.b"),l("pad.l"),g.coerceFont(l,"font",n.font);var o=l("currentvalue.visible");o&&(l("currentvalue.xanchor"),l("currentvalue.prefix"),l("currentvalue.suffix"),l("currentvalue.offset"),g.coerceFont(l,"currentvalue.font",s.font)),l("transition.duration"),l("transition.easing"),l("bgcolor"),l("activebgcolor"),l("bordercolor"),l("borderwidth"),l("ticklen"),l("tickwidth"),l("tickcolor"),l("minorticklen")}}function t(r,s){function n(u,m){return g.coerce(r,s,v,u,m)}var l;if(r.method!=="skip"&&!Array.isArray(r.args)?l=s.visible=!1:l=n("visible"),l){n("method"),n("args");var f=n("label","step-"+s._index);n("value",f),n("execute")}}},44504:function(W,H,e){var g=e(39898),P=e(74875),i=e(7901),L=e(91424),A=e(71828),v=A.strTranslate,p=e(63893),t=e(44467).arrayEditor,r=e(98292),s=e(18783),n=s.LINE_SPACING,l=s.FROM_TL,f=s.FROM_BR;W.exports=function(O){var N=O._context.staticPlot,_=O._fullLayout,U=m(_,O),Y=_._infolayer.selectAll("g."+r.containerClassName).data(U.length>0?[0]:[]);Y.enter().append("g").classed(r.containerClassName,!0).style("cursor",N?null:"ew-resize");function K(Q){Q._commandObserver&&(Q._commandObserver.remove(),delete Q._commandObserver),P.autoMargin(O,u(Q))}if(Y.exit().each(function(){g.select(this).selectAll("g."+r.groupClassName).each(K)}).remove(),U.length!==0){var re=Y.selectAll("g."+r.groupClassName).data(U,c);re.enter().append("g").classed(r.groupClassName,!0),re.exit().each(K).remove();for(var ae=0;ae<U.length;ae++){var fe=U[ae];w(O,fe)}re.each(function(Q){var j=g.select(this);a(Q),P.manageCommandObserver(O,Q,Q._visibleSteps,function(X){var J=j.data()[0];J.active!==X.index&&(J._dragging||x(O,j,J,X.index,!1,!0))}),h(O,g.select(this),Q)})}};function u(F){return r.autoMarginIdRoot+F._index}function m(F,O){for(var N=F[r.name],_=[],U=0;U<N.length;U++){var Y=N[U];Y.visible&&(Y._gd=O,_.push(Y))}return _}function c(F){return F._index}function w(F,O){var N=L.tester.selectAll("g."+r.labelGroupClass).data(O._visibleSteps);N.enter().append("g").classed(r.labelGroupClass,!0);var _=0,U=0;N.each(function(ee){var se=g.select(this),q=M(se,{step:ee},O),$=q.node();if($){var le=L.bBox($);U=Math.max(U,le.height),_=Math.max(_,le.width)}}),N.remove();var Y=O._dims={};Y.inputAreaWidth=Math.max(r.railWidth,r.gripHeight);var K=F._fullLayout._size;Y.lx=K.l+K.w*O.x,Y.ly=K.t+K.h*(1-O.y),O.lenmode==="fraction"?Y.outerLength=Math.round(K.w*O.len):Y.outerLength=O.len,Y.inputAreaStart=0,Y.inputAreaLength=Math.round(Y.outerLength-O.pad.l-O.pad.r);var re=Y.inputAreaLength-2*r.stepInset,ae=re/(O._stepCount-1),fe=_+r.labelPadding;if(Y.labelStride=Math.max(1,Math.ceil(fe/ae)),Y.labelHeight=U,Y.currentValueMaxWidth=0,Y.currentValueHeight=0,Y.currentValueTotalHeight=0,Y.currentValueMaxLines=1,O.currentvalue.visible){var Q=L.tester.append("g");N.each(function(ee){var se=o(Q,O,ee.label),q=se.node()&&L.bBox(se.node())||{width:0,height:0},$=p.lineCount(se);Y.currentValueMaxWidth=Math.max(Y.currentValueMaxWidth,Math.ceil(q.width)),Y.currentValueHeight=Math.max(Y.currentValueHeight,Math.ceil(q.height)),Y.currentValueMaxLines=Math.max(Y.currentValueMaxLines,$)}),Y.currentValueTotalHeight=Y.currentValueHeight+O.currentvalue.offset,Q.remove()}Y.height=Y.currentValueTotalHeight+r.tickOffset+O.ticklen+r.labelOffset+Y.labelHeight+O.pad.t+O.pad.b;var j="left";A.isRightAnchor(O)&&(Y.lx-=Y.outerLength,j="right"),A.isCenterAnchor(O)&&(Y.lx-=Y.outerLength/2,j="center");var X="top";A.isBottomAnchor(O)&&(Y.ly-=Y.height,X="bottom"),A.isMiddleAnchor(O)&&(Y.ly-=Y.height/2,X="middle"),Y.outerLength=Math.ceil(Y.outerLength),Y.height=Math.ceil(Y.height),Y.lx=Math.round(Y.lx),Y.ly=Math.round(Y.ly);var J={y:O.y,b:Y.height*f[X],t:Y.height*l[X]};O.lenmode==="fraction"?(J.l=0,J.xl=O.x-O.len*l[j],J.r=0,J.xr=O.x+O.len*f[j]):(J.x=O.x,J.l=Y.outerLength*l[j],J.r=Y.outerLength*f[j]),P.autoMargin(F,u(O),J)}function h(F,O,N){(N.steps[N.active]||{}).visible||(N.active=N._visibleSteps[0]._index),O.call(o,N).call(B,N).call(T,N).call(b,N).call(I,F,N).call(d,F,N);var _=N._dims;L.setTranslate(O,_.lx+N.pad.l,_.ly+N.pad.t),O.call(C,N,!1),O.call(o,N)}function o(F,O,N){if(O.currentvalue.visible){var _=O._dims,U,Y;switch(O.currentvalue.xanchor){case"right":U=_.inputAreaLength-r.currentValueInset-_.currentValueMaxWidth,Y="left";break;case"center":U=_.inputAreaLength*.5,Y="middle";break;default:U=r.currentValueInset,Y="left"}var K=A.ensureSingle(F,"text",r.labelClass,function(X){X.attr({"text-anchor":Y,"data-notex":1})}),re=O.currentvalue.prefix?O.currentvalue.prefix:"";if(typeof N=="string")re+=N;else{var ae=O.steps[O.active].label,fe=O._gd._fullLayout._meta;fe&&(ae=A.templateString(ae,fe)),re+=ae}O.currentvalue.suffix&&(re+=O.currentvalue.suffix),K.call(L.font,O.currentvalue.font).text(re).call(p.convertToTspans,O._gd);var Q=p.lineCount(K),j=(_.currentValueMaxLines+1-Q)*O.currentvalue.font.size*n;return p.positionText(K,U,j),K}}function d(F,O,N){var _=A.ensureSingle(F,"rect",r.gripRectClass,function(U){U.call(S,O,F,N).style("pointer-events","all")});_.attr({width:r.gripWidth,height:r.gripHeight,rx:r.gripRadius,ry:r.gripRadius}).call(i.stroke,N.bordercolor).call(i.fill,N.bgcolor).style("stroke-width",N.borderwidth+"px")}function M(F,O,N){var _=A.ensureSingle(F,"text",r.labelClass,function(K){K.attr({"text-anchor":"middle","data-notex":1})}),U=O.step.label,Y=N._gd._fullLayout._meta;return Y&&(U=A.templateString(U,Y)),_.call(L.font,N.font).text(U).call(p.convertToTspans,N._gd),_}function T(F,O){var N=A.ensureSingle(F,"g",r.labelsClass),_=O._dims,U=N.selectAll("g."+r.labelGroupClass).data(_.labelSteps);U.enter().append("g").classed(r.labelGroupClass,!0),U.exit().remove(),U.each(function(Y){var K=g.select(this);K.call(M,Y,O),L.setTranslate(K,y(O,Y.fraction),r.tickOffset+O.ticklen+O.font.size*n+r.labelOffset+_.currentValueTotalHeight)})}function E(F,O,N,_,U){var Y=Math.round(_*(N._stepCount-1)),K=N._visibleSteps[Y]._index;K!==N.active&&x(F,O,N,K,!0,U)}function x(F,O,N,_,U,Y){var K=N.active;N.active=_,t(F.layout,r.name,N).applyUpdate("active",_);var re=N.steps[N.active];O.call(C,N,Y),O.call(o,N),F.emit("plotly_sliderchange",{slider:N,step:N.steps[N.active],interaction:U,previousActive:K}),re&&re.method&&U&&(O._nextMethod?(O._nextMethod.step=re,O._nextMethod.doCallback=U,O._nextMethod.doTransition=Y):(O._nextMethod={step:re,doCallback:U,doTransition:Y},O._nextMethodRaf=window.requestAnimationFrame(function(){var ae=O._nextMethod.step;ae.method&&(ae.execute&&P.executeAPICommand(F,ae.method,ae.args),O._nextMethod=null,O._nextMethodRaf=null)})))}function S(F,O,N){if(O._context.staticPlot)return;var _=N.node(),U=g.select(O);function Y(){return N.data()[0]}function K(){var re=Y();O.emit("plotly_sliderstart",{slider:re});var ae=N.select("."+r.gripRectClass);g.event.stopPropagation(),g.event.preventDefault(),ae.call(i.fill,re.activebgcolor);var fe=z(re,g.mouse(_)[0]);E(O,N,re,fe,!0),re._dragging=!0;function Q(){var X=Y(),J=z(X,g.mouse(_)[0]);E(O,N,X,J,!1)}U.on("mousemove",Q),U.on("touchmove",Q);function j(){var X=Y();X._dragging=!1,ae.call(i.fill,X.bgcolor),U.on("mouseup",null),U.on("mousemove",null),U.on("touchend",null),U.on("touchmove",null),O.emit("plotly_sliderend",{slider:X,step:X.steps[X.active]})}U.on("mouseup",j),U.on("touchend",j)}F.on("mousedown",K),F.on("touchstart",K)}function b(F,O){var N=F.selectAll("rect."+r.tickRectClass).data(O._visibleSteps),_=O._dims;N.enter().append("rect").classed(r.tickRectClass,!0),N.exit().remove(),N.attr({width:O.tickwidth+"px","shape-rendering":"crispEdges"}),N.each(function(U,Y){var K=Y%_.labelStride===0,re=g.select(this);re.attr({height:K?O.ticklen:O.minorticklen}).call(i.fill,O.tickcolor),L.setTranslate(re,y(O,Y/(O._stepCount-1))-.5*O.tickwidth,(K?r.tickOffset:r.minorTickOffset)+_.currentValueTotalHeight)})}function a(F){var O=F._dims;O.labelSteps=[];for(var N=F._stepCount,_=0;_<N;_+=O.labelStride)O.labelSteps.push({fraction:_/(N-1),step:F._visibleSteps[_]})}function C(F,O,N){for(var _=F.select("rect."+r.gripRectClass),U=0,Y=0;Y<O._stepCount;Y++)if(O._visibleSteps[Y]._index===O.active){U=Y;break}var K=y(O,U/(O._stepCount-1));if(!O._invokingCommand){var re=_;N&&O.transition.duration>0&&(re=re.transition().duration(O.transition.duration).ease(O.transition.easing)),re.attr("transform",v(K-r.gripWidth*.5,O._dims.currentValueTotalHeight))}}function y(F,O){var N=F._dims;return N.inputAreaStart+r.stepInset+(N.inputAreaLength-2*r.stepInset)*Math.min(1,Math.max(0,O))}function z(F,O){var N=F._dims;return Math.min(1,Math.max(0,(O-r.stepInset-N.inputAreaStart)/(N.inputAreaLength-2*r.stepInset-2*N.inputAreaStart)))}function I(F,O,N){var _=N._dims,U=A.ensureSingle(F,"rect",r.railTouchRectClass,function(Y){Y.call(S,O,F,N).style("pointer-events","all")});U.attr({width:_.inputAreaLength,height:Math.max(_.inputAreaWidth,r.tickOffset+N.ticklen+_.labelHeight)}).call(i.fill,N.bgcolor).attr("opacity",0),L.setTranslate(U,0,_.currentValueTotalHeight)}function B(F,O){var N=O._dims,_=N.inputAreaLength-r.railInset*2,U=A.ensureSingle(F,"rect",r.railRectClass);U.attr({width:_,height:r.railWidth,rx:r.railRadius,ry:r.railRadius,"shape-rendering":"crispEdges"}).call(i.stroke,O.bordercolor).call(i.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px"),L.setTranslate(U,r.railInset,(N.inputAreaWidth-r.railWidth)*.5+N.currentValueTotalHeight)}},23243:function(W,H,e){var g=e(98292);W.exports={moduleType:"component",name:g.name,layoutAttributes:e(75067),supplyLayoutDefaults:e(12343),draw:e(44504)}},92998:function(W,H,e){var g=e(39898),P=e(92770),i=e(74875),L=e(73972),A=e(71828),v=A.strTranslate,p=e(91424),t=e(7901),r=e(63893),s=e(37822),n=e(18783).OPPOSITE_SIDE,l=/ [XY][0-9]* /;function f(u,m,c){var w=c.propContainer,h=c.propName,o=c.placeholder,d=c.traceIndex,M=c.avoid||{},T=c.attributes,E=c.transform,x=c.containerGroup,S=u._fullLayout,b=1,a=!1,C=w.title,y=(C&&C.text?C.text:"").trim(),z=C&&C.font?C.font:{},I=z.family,B=z.size,F=z.color,O;h==="title.text"?O="titleText":h.indexOf("axis")!==-1?O="axisTitleText":h.indexOf("colorbar"!==-1)&&(O="colorbarTitleText");var N=u._context.edits[O];y===""?b=0:y.replace(l," % ")===o.replace(l," % ")&&(b=.2,a=!0,N||(y="")),c._meta?y=A.templateString(y,c._meta):S._meta&&(y=A.templateString(y,S._meta));var _=y||N,U;x||(x=A.ensureSingle(S._infolayer,"g","g-"+m),U=S._hColorbarMoveTitle);var Y=x.selectAll("text").data(_?[0]:[]);if(Y.enter().append("text"),Y.text(y).attr("class",m),Y.exit().remove(),!_)return x;function K(Q){A.syncOrAsync([re,ae],Q)}function re(Q){var j;return!E&&U&&(E={}),E?(j="",E.rotate&&(j+="rotate("+[E.rotate,T.x,T.y]+")"),(E.offset||U)&&(j+=v(0,(E.offset||0)-(U||0)))):j=null,Q.attr("transform",j),Q.style({"font-family":I,"font-size":g.round(B,2)+"px",fill:t.rgb(F),opacity:b*t.opacity(F),"font-weight":i.fontWeight}).attr(T).call(r.convertToTspans,u),i.previousPromises(u)}function ae(Q){var j=g.select(Q.node().parentNode);if(M&&M.selection&&M.side&&y){j.attr("transform",null);var X=n[M.side],J=M.side==="left"||M.side==="top"?-1:1,ee=P(M.pad)?M.pad:2,se=p.bBox(j.node()),q={t:0,b:0,l:0,r:0},$=u._fullLayout._reservedMargin;for(var le in $)for(var ie in $[le]){var ce=$[le][ie];q[ie]=Math.max(q[ie],ce)}var me={left:q.l,top:q.t,right:S.width-q.r,bottom:S.height-q.b},Me=M.maxShift||J*(me[M.side]-se[M.side]),we=0;if(Me<0)we=Me;else{var Oe=M.offsetLeft||0,Be=M.offsetTop||0;se.left-=Oe,se.right-=Oe,se.top-=Be,se.bottom-=Be,M.selection.each(function(){var xe=p.bBox(this);A.bBoxIntersect(se,xe,ee)&&(we=Math.max(we,J*(xe[M.side]-se[X])+ee))}),we=Math.min(Me,we),w._titleScoot=Math.abs(we)}if(we>0||Me<0){var Ce={left:[-we,0],right:[we,0],top:[0,-we],bottom:[0,we]}[M.side];j.attr("transform",v(Ce[0],Ce[1]))}}}Y.call(K);function fe(){b=0,a=!0,Y.text(o).on("mouseover.opacity",function(){g.select(this).transition().duration(s.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){g.select(this).transition().duration(s.HIDE_PLACEHOLDER).style("opacity",0)})}return N&&(y?Y.on(".opacity",null):fe(),Y.call(r.makeEditable,{gd:u}).on("edit",function(Q){d!==void 0?L.call("_guiRestyle",u,h,Q,d):L.call("_guiRelayout",u,h,Q)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(K)}).on("input",function(Q){this.text(Q||" ").call(r.positionText,T.x,T.y)})),Y.classed("js-placeholder",a),x}W.exports={draw:f}},7163:function(W,H,e){var g=e(41940),P=e(22399),i=e(1426).extendFlat,L=e(30962).overrideAll,A=e(35025),v=e(44467).templatedArray,p=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});W.exports=L(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:p,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:i(A({editType:"arraydraw"}),{}),font:g({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:P.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(W){W.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},64897:function(W,H,e){var g=e(71828),P=e(85501),i=e(7163),L=e(75909),A=L.name,v=i.buttons;W.exports=function(s,n){var l={name:A,handleItemDefaults:p};P(s,n,l)};function p(r,s,n){function l(m,c){return g.coerce(r,s,i,m,c)}var f=P(r,s,{name:"buttons",handleItemDefaults:t}),u=l("visible",f.length>0);u&&(l("active"),l("direction"),l("type"),l("showactive"),l("x"),l("y"),g.noneOrAll(r,s,["x","y"]),l("xanchor"),l("yanchor"),l("pad.t"),l("pad.r"),l("pad.b"),l("pad.l"),g.coerceFont(l,"font",n.font),l("bgcolor",n.paper_bgcolor),l("bordercolor"),l("borderwidth"))}function t(r,s){function n(f,u){return g.coerce(r,s,v,f,u)}var l=n("visible",r.method==="skip"||Array.isArray(r.args));l&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}},13689:function(W,H,e){var g=e(39898),P=e(74875),i=e(7901),L=e(91424),A=e(71828),v=e(63893),p=e(44467).arrayEditor,t=e(18783).LINE_SPACING,r=e(75909),s=e(25849);W.exports=function(z){var I=z._fullLayout,B=A.filterVisible(I[r.name]);function F(ae){P.autoMargin(z,b(ae))}var O=I._menulayer.selectAll("g."+r.containerClassName).data(B.length>0?[0]:[]);if(O.enter().append("g").classed(r.containerClassName,!0).style("cursor","pointer"),O.exit().each(function(){g.select(this).selectAll("g."+r.headerGroupClassName).each(F)}).remove(),B.length!==0){var N=O.selectAll("g."+r.headerGroupClassName).data(B,n);N.enter().append("g").classed(r.headerGroupClassName,!0);for(var _=A.ensureSingle(O,"g",r.dropdownButtonGroupClassName,function(ae){ae.style("pointer-events","all")}),U=0;U<B.length;U++){var Y=B[U];S(z,Y)}var K="updatemenus"+I._uid,re=new s(z,_,K);N.enter().size()&&(_.node().parentNode.appendChild(_.node()),_.call(C)),N.exit().each(function(ae){_.call(C),F(ae)}).remove(),N.each(function(ae){var fe=g.select(this),Q=ae.type==="dropdown"?_:null;P.manageCommandObserver(z,ae,ae.buttons,function(j){u(z,ae,ae.buttons[j.index],fe,Q,re,j.index,!0)}),ae.type==="dropdown"?(m(z,fe,_,re,ae),f(_,ae)&&c(z,fe,_,re,ae)):c(z,fe,null,null,ae)})}};function n(y){return y._index}function l(y){return+y.attr(r.menuIndexAttrName)==-1}function f(y,z){return+y.attr(r.menuIndexAttrName)===z._index}function u(y,z,I,B,F,O,N,_){z.active=N,p(y.layout,r.name,z).applyUpdate("active",N),z.type==="buttons"?c(y,B,null,null,z):z.type==="dropdown"&&(F.attr(r.menuIndexAttrName,"-1"),m(y,B,F,O,z),_||c(y,B,F,O,z))}function m(y,z,I,B,F){var O=A.ensureSingle(z,"g",r.headerClassName,function(ae){ae.style("pointer-events","all")}),N=F._dims,_=F.active,U=F.buttons[_]||r.blankHeaderOpts,Y={y:F.pad.t,yPad:0,x:F.pad.l,xPad:0,index:0},K={width:N.headerWidth,height:N.headerHeight};O.call(o,F,U,y).call(a,F,Y,K);var re=A.ensureSingle(z,"text",r.headerArrowClassName,function(ae){ae.attr("text-anchor","end").call(L.font,F.font).text(r.arrowSymbol[F.direction])});re.attr({x:N.headerWidth-r.arrowOffsetX+F.pad.l,y:N.headerHeight/2+r.textOffsetY+F.pad.t}),O.on("click",function(){I.call(C,String(f(I,F)?-1:F._index)),c(y,z,I,B,F)}),O.on("mouseover",function(){O.call(E)}),O.on("mouseout",function(){O.call(x,F)}),L.setTranslate(z,N.lx,N.ly)}function c(y,z,I,B,F){I||(I=z,I.attr("pointer-events","all"));var O=!l(I)||F.type==="buttons"?F.buttons:[],N=F.type==="dropdown"?r.dropdownButtonClassName:r.buttonClassName,_=I.selectAll("g."+N).data(A.filterVisible(O)),U=_.enter().append("g").classed(N,!0),Y=_.exit();F.type==="dropdown"?(U.attr("opacity","0").transition().attr("opacity","1"),Y.transition().attr("opacity","0").remove()):Y.remove();var K=0,re=0,ae=F._dims,fe=["up","down"].indexOf(F.direction)!==-1;F.type==="dropdown"&&(fe?re=ae.headerHeight+r.gapButtonHeader:K=ae.headerWidth+r.gapButtonHeader),F.type==="dropdown"&&F.direction==="up"&&(re=-r.gapButtonHeader+r.gapButton-ae.openHeight),F.type==="dropdown"&&F.direction==="left"&&(K=-r.gapButtonHeader+r.gapButton-ae.openWidth);var Q={x:ae.lx+K+F.pad.l,y:ae.ly+re+F.pad.t,yPad:r.gapButton,xPad:r.gapButton,index:0},j={l:Q.x+F.borderwidth,t:Q.y+F.borderwidth};_.each(function(X,J){var ee=g.select(this);ee.call(o,F,X,y).call(a,F,Q),ee.on("click",function(){g.event.defaultPrevented||(X.execute&&(X.args2&&F.active===J?(u(y,F,X,z,I,B,-1),P.executeAPICommand(y,X.method,X.args2)):(u(y,F,X,z,I,B,J),P.executeAPICommand(y,X.method,X.args))),y.emit("plotly_buttonclicked",{menu:F,button:X,active:F.active}))}),ee.on("mouseover",function(){ee.call(E)}),ee.on("mouseout",function(){ee.call(x,F),_.call(T,F)})}),_.call(T,F),fe?(j.w=Math.max(ae.openWidth,ae.headerWidth),j.h=Q.y-j.t):(j.w=Q.x-j.l,j.h=Math.max(ae.openHeight,ae.headerHeight)),j.direction=F.direction,B&&(_.size()?w(y,z,I,B,F,j):h(B))}function w(y,z,I,B,F,O){var N=F.direction,_=N==="up"||N==="down",U=F._dims,Y=F.active,K,re,ae;if(_)for(re=0,ae=0;ae<Y;ae++)re+=U.heights[ae]+r.gapButton;else for(K=0,ae=0;ae<Y;ae++)K+=U.widths[ae]+r.gapButton;B.enable(O,K,re),B.hbar&&B.hbar.attr("opacity","0").transition().attr("opacity","1"),B.vbar&&B.vbar.attr("opacity","0").transition().attr("opacity","1")}function h(y){var z=!!y.hbar,I=!!y.vbar;z&&y.hbar.transition().attr("opacity","0").each("end",function(){z=!1,I||y.disable()}),I&&y.vbar.transition().attr("opacity","0").each("end",function(){I=!1,z||y.disable()})}function o(y,z,I,B){y.call(d,z).call(M,z,I,B)}function d(y,z){var I=A.ensureSingle(y,"rect",r.itemRectClassName,function(B){B.attr({rx:r.rx,ry:r.ry,"shape-rendering":"crispEdges"})});I.call(i.stroke,z.bordercolor).call(i.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px")}function M(y,z,I,B){var F=A.ensureSingle(y,"text",r.itemTextClassName,function(_){_.attr({"text-anchor":"start","data-notex":1})}),O=I.label,N=B._fullLayout._meta;N&&(O=A.templateString(O,N)),F.call(L.font,z.font).text(O).call(v.convertToTspans,B)}function T(y,z){var I=z.active;y.each(function(B,F){var O=g.select(this);F===I&&z.showactive&&O.select("rect."+r.itemRectClassName).call(i.fill,r.activeColor)})}function E(y){y.select("rect."+r.itemRectClassName).call(i.fill,r.hoverColor)}function x(y,z){y.select("rect."+r.itemRectClassName).call(i.fill,z.bgcolor)}function S(y,z){var I=z._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},B=L.tester.selectAll("g."+r.dropdownButtonClassName).data(A.filterVisible(z.buttons));B.enter().append("g").classed(r.dropdownButtonClassName,!0);var F=["up","down"].indexOf(z.direction)!==-1;B.each(function(K,re){var ae=g.select(this);ae.call(o,z,K,y);var fe=ae.select("."+r.itemTextClassName),Q=fe.node()&&L.bBox(fe.node()).width,j=Math.max(Q+r.textPadX,r.minWidth),X=z.font.size*t,J=v.lineCount(fe),ee=Math.max(X*J,r.minHeight)+r.textOffsetY;ee=Math.ceil(ee),j=Math.ceil(j),I.widths[re]=j,I.heights[re]=ee,I.height1=Math.max(I.height1,ee),I.width1=Math.max(I.width1,j),F?(I.totalWidth=Math.max(I.totalWidth,j),I.openWidth=I.totalWidth,I.totalHeight+=ee+r.gapButton,I.openHeight+=ee+r.gapButton):(I.totalWidth+=j+r.gapButton,I.openWidth+=j+r.gapButton,I.totalHeight=Math.max(I.totalHeight,ee),I.openHeight=I.totalHeight)}),F?I.totalHeight-=r.gapButton:I.totalWidth-=r.gapButton,I.headerWidth=I.width1+r.arrowPadX,I.headerHeight=I.height1,z.type==="dropdown"&&(F?(I.width1+=r.arrowPadX,I.totalHeight=I.height1):I.totalWidth=I.width1,I.totalWidth+=r.arrowPadX),B.remove();var O=I.totalWidth+z.pad.l+z.pad.r,N=I.totalHeight+z.pad.t+z.pad.b,_=y._fullLayout._size;I.lx=_.l+_.w*z.x,I.ly=_.t+_.h*(1-z.y);var U="left";A.isRightAnchor(z)&&(I.lx-=O,U="right"),A.isCenterAnchor(z)&&(I.lx-=O/2,U="center");var Y="top";A.isBottomAnchor(z)&&(I.ly-=N,Y="bottom"),A.isMiddleAnchor(z)&&(I.ly-=N/2,Y="middle"),I.totalWidth=Math.ceil(I.totalWidth),I.totalHeight=Math.ceil(I.totalHeight),I.lx=Math.round(I.lx),I.ly=Math.round(I.ly),P.autoMargin(y,b(z),{x:z.x,y:z.y,l:O*({right:1,center:.5}[U]||0),r:O*({left:1,center:.5}[U]||0),b:N*({top:1,middle:.5}[Y]||0),t:N*({bottom:1,middle:.5}[Y]||0)})}function b(y){return r.autoMarginIdRoot+y._index}function a(y,z,I,B){B=B||{};var F=y.select("."+r.itemRectClassName),O=y.select("."+r.itemTextClassName),N=z.borderwidth,_=I.index,U=z._dims;L.setTranslate(y,N+I.x,N+I.y);var Y=["up","down"].indexOf(z.direction)!==-1,K=B.height||(Y?U.heights[_]:U.height1);F.attr({x:0,y:0,width:B.width||(Y?U.width1:U.widths[_]),height:K});var re=z.font.size*t,ae=v.lineCount(O),fe=(ae-1)*re/2;v.positionText(O,r.textOffsetX,K/2-fe+r.textOffsetY),Y?I.y+=U.heights[_]+I.yPad:I.x+=U.widths[_]+I.xPad,I.index++}function C(y,z){y.attr(r.menuIndexAttrName,z||"-1").selectAll("g."+r.dropdownButtonClassName).remove()}},20763:function(W,H,e){var g=e(75909);W.exports={moduleType:"component",name:g.name,layoutAttributes:e(7163),supplyLayoutDefaults:e(64897),draw:e(13689)}},25849:function(W,H,e){W.exports=A;var g=e(39898),P=e(7901),i=e(91424),L=e(71828);function A(v,p,t){this.gd=v,this.container=p,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}A.barWidth=2,A.barLength=20,A.barRadius=2,A.barPad=1,A.barColor="#808BA4",A.prototype.enable=function(p,t,r){var s=this.gd._fullLayout,n=s.width,l=s.height;this.position=p;var f=this.position.l,u=this.position.w,m=this.position.t,c=this.position.h,w=this.position.direction,h=w==="down",o=w==="left",d=w==="right",M=w==="up",T=u,E=c,x,S,b,a;!h&&!o&&!d&&!M&&(this.position.direction="down",h=!0);var C=h||M;C?(x=f,S=x+T,h?(b=m,a=Math.min(b+E,l),E=a-b):(a=m+E,b=Math.max(a-E,0),E=a-b)):(b=m,a=b+E,o?(S=f+T,x=Math.max(S-T,0),T=S-x):(x=f,S=Math.min(x+T,n),T=S-x)),this._box={l:x,t:b,w:T,h:E};var y=u>T,z=A.barLength+2*A.barPad,I=A.barWidth+2*A.barPad,B=f,F=m+c;F+I>l&&(F=l-I);var O=this.container.selectAll("rect.scrollbar-horizontal").data(y?[0]:[]);O.exit().on(".drag",null).remove(),O.enter().append("rect").classed("scrollbar-horizontal",!0).call(P.fill,A.barColor),y?(this.hbar=O.attr({rx:A.barRadius,ry:A.barRadius,x:B,y:F,width:z,height:I}),this._hbarXMin=B+z/2,this._hbarTranslateMax=T-z):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var N=c>E,_=A.barWidth+2*A.barPad,U=A.barLength+2*A.barPad,Y=f+u,K=m;Y+_>n&&(Y=n-_);var re=this.container.selectAll("rect.scrollbar-vertical").data(N?[0]:[]);re.exit().on(".drag",null).remove(),re.enter().append("rect").classed("scrollbar-vertical",!0).call(P.fill,A.barColor),N?(this.vbar=re.attr({rx:A.barRadius,ry:A.barRadius,x:Y,y:K,width:_,height:U}),this._vbarYMin=K+U/2,this._vbarTranslateMax=E-U):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ae=this.id,fe=x-.5,Q=N?S+_+.5:S+.5,j=b-.5,X=y?a+I+.5:a+.5,J=s._topdefs.selectAll("#"+ae).data(y||N?[0]:[]);if(J.exit().remove(),J.enter().append("clipPath").attr("id",ae).append("rect"),y||N?(this._clipRect=J.select("rect").attr({x:Math.floor(fe),y:Math.floor(j),width:Math.ceil(Q)-Math.floor(fe),height:Math.ceil(X)-Math.floor(j)}),this.container.call(i.setClipUrl,ae,this.gd),this.bg.attr({x:f,y:m,width:u,height:c})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),y||N){var ee=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(ee);var se=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault(),g.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));y&&this.hbar.on(".drag",null).call(se),N&&this.vbar.on(".drag",null).call(se)}this.setTranslate(t,r)},A.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},A.prototype._onBoxDrag=function(){var p=this.translateX,t=this.translateY;this.hbar&&(p-=g.event.dx),this.vbar&&(t-=g.event.dy),this.setTranslate(p,t)},A.prototype._onBoxWheel=function(){var p=this.translateX,t=this.translateY;this.hbar&&(p+=g.event.deltaY),this.vbar&&(t+=g.event.deltaY),this.setTranslate(p,t)},A.prototype._onBarDrag=function(){var p=this.translateX,t=this.translateY;if(this.hbar){var r=p+this._hbarXMin,s=r+this._hbarTranslateMax,n=L.constrain(g.event.x,r,s),l=(n-r)/(s-r),f=this.position.w-this._box.w;p=l*f}if(this.vbar){var u=t+this._vbarYMin,m=u+this._vbarTranslateMax,c=L.constrain(g.event.y,u,m),w=(c-u)/(m-u),h=this.position.h-this._box.h;t=w*h}this.setTranslate(p,t)},A.prototype.setTranslate=function(p,t){var r=this.position.w-this._box.w,s=this.position.h-this._box.h;if(p=L.constrain(p||0,0,r),t=L.constrain(t||0,0,s),this.translateX=p,this.translateY=t,this.container.call(i.setTranslate,this._box.l-this.position.l-p,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+p-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var n=p/r;this.hbar.call(i.setTranslate,p+n*this._hbarTranslateMax,t)}if(this.vbar){var l=t/s;this.vbar.call(i.setTranslate,p,t+l*this._vbarTranslateMax)}}},18783:function(W){W.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(W){W.exports={axisRefDescription:function(H,e,g){return["If set to a",H,"axis id (e.g. *"+H+"* or","*"+H+"2*), the `"+H+"` position refers to a",H,"coordinate. If set to *paper*, the `"+H+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+g+"). If set to a",H,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+H+"2 domain* refers to the domain of the second",H," axis and a",H,"position of 0.5 refers to the","point between the",e,"and the",g,"of the domain of the","second",H,"axis."].join(" ")}}},22372:function(W){W.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:""},DECREASING:{COLOR:"#FF4136",SYMBOL:""}}},31562:function(W){W.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(W){W.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(W){W.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(W){W.exports={circle:"","circle-open":"",square:"","square-open":"",diamond:"","diamond-open":"",cross:"+",x:""}},37822:function(W){W.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(W){W.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},32396:function(W,H){H.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],H.STYLE=H.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},77922:function(W,H){H.xmlns="http://www.w3.org/2000/xmlns/",H.svg="http://www.w3.org/2000/svg",H.xlink="http://www.w3.org/1999/xlink",H.svgAttrs={xmlns:H.svg,"xmlns:xlink":H.xlink}},8729:function(W,H,e){H.version=e(11506).version,e(7417),e(98847);for(var g=e(73972),P=H.register=g.register,i=e(10641),L=Object.keys(i),A=0;A<L.length;A++){var v=L[A];v.charAt(0)!=="_"&&(H[v]=i[v]),P({moduleType:"apiMethod",name:v,fn:i[v]})}P(e(67368)),P([e(32745),e(2468),e(47322),e(89853),e(68804),e(20763),e(23243),e(13137),e(97218),e(83312),e(37369),e(21081),e(12311),e(2199),e(30211),e(64168)]),P([e(92177),e(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(P(window.PlotlyLocales),delete window.PlotlyLocales),H.Icons=e(24255);var p=e(30211),t=e(74875);H.Plots={resize:t.resize,graphJson:t.graphJson,sendDataToCloud:t.sendDataToCloud},H.Fx={hover:p.hover,unhover:p.unhover,loneHover:p.loneHover,loneUnhover:p.loneUnhover},H.Snapshot=e(44511),H.PlotSchema=e(86281)},24255:function(W){W.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(W,H){H.isLeftAnchor=function(g){return g.xanchor==="left"||g.xanchor==="auto"&&g.x<=.3333333333333333},H.isCenterAnchor=function(g){return g.xanchor==="center"||g.xanchor==="auto"&&g.x>.3333333333333333&&g.x<.6666666666666666},H.isRightAnchor=function(g){return g.xanchor==="right"||g.xanchor==="auto"&&g.x>=.6666666666666666},H.isTopAnchor=function(g){return g.yanchor==="top"||g.yanchor==="auto"&&g.y>=.6666666666666666},H.isMiddleAnchor=function(g){return g.yanchor==="middle"||g.yanchor==="auto"&&g.y>.3333333333333333&&g.y<.6666666666666666},H.isBottomAnchor=function(g){return g.yanchor==="bottom"||g.yanchor==="auto"&&g.y<=.3333333333333333}},26348:function(W,H,e){var g=e(64872),P=g.mod,i=g.modHalf,L=Math.PI,A=2*L;function v(w){return w/180*L}function p(w){return w/L*180}function t(w){return Math.abs(w[1]-w[0])>A-1e-14}function r(w,h){return i(h-w,A)}function s(w,h){return Math.abs(r(w,h))}function n(w,h){if(t(h))return!0;var o,d;h[0]<h[1]?(o=h[0],d=h[1]):(o=h[1],d=h[0]),o=P(o,A),d=P(d,A),o>d&&(d+=A);var M=P(w,A),T=M+A;return M>=o&&M<=d||T>=o&&T<=d}function l(w,h,o,d){if(!n(h,d))return!1;var M,T;return o[0]<o[1]?(M=o[0],T=o[1]):(M=o[1],T=o[0]),w>=M&&w<=T}function f(w,h,o,d,M,T,E){M=M||0,T=T||0;var x=t([o,d]),S,b,a,C,y;x?(S=0,b=L,a=A):o<d?(S=o,a=d):(S=d,a=o),w<h?(C=w,y=h):(C=h,y=w);function z(O,N){return[O*Math.cos(N)+M,T-O*Math.sin(N)]}var I=Math.abs(a-S)<=L?0:1;function B(O,N,_){return"A"+[O,O]+" "+[0,I,_]+" "+z(O,N)}var F;return x?C===null?F="M"+z(y,S)+B(y,b,0)+B(y,a,0)+"Z":F="M"+z(C,S)+B(C,b,0)+B(C,a,0)+"ZM"+z(y,S)+B(y,b,1)+B(y,a,1)+"Z":C===null?(F="M"+z(y,S)+B(y,a,0),E&&(F+="L0,0Z")):F="M"+z(C,S)+"L"+z(y,S)+B(y,a,0)+"L"+z(C,a)+B(C,S,1)+"Z",F}function u(w,h,o,d,M){return f(null,w,h,o,d,M,0)}function m(w,h,o,d,M){return f(null,w,h,o,d,M,1)}function c(w,h,o,d,M,T){return f(w,h,o,d,M,T,1)}W.exports={deg2rad:v,rad2deg:p,angleDelta:r,angleDist:s,isFullCircle:t,isAngleInsideSector:n,isPtInsideSector:l,pathArc:u,pathSector:m,pathAnnulus:c}},73627:function(W,H){var e=Array.isArray,g=ArrayBuffer,P=DataView;function i(p){return g.isView(p)&&!(p instanceof P)}H.isTypedArray=i;function L(p){return e(p)||i(p)}H.isArrayOrTypedArray=L;function A(p){return!L(p[0])}H.isArray1D=A,H.ensureArray=function(p,t){return e(p)||(p=[]),p.length=t,p},H.concat=function(){var p=[],t=!0,r=0,s,n,l,f,u,m,c,w;for(l=0;l<arguments.length;l++)f=arguments[l],m=f.length,m&&(n?p.push(f):(n=f,u=m),e(f)?s=!1:(t=!1,r?s!==f.constructor&&(s=!1):s=f.constructor),r+=m);if(!r)return[];if(!p.length)return n;if(t)return n.concat.apply(n,p);if(s){for(c=new s(r),c.set(n),l=0;l<p.length;l++)f=p[l],c.set(f,u),u+=f.length;return c}for(c=new Array(r),w=0;w<n.length;w++)c[w]=n[w];for(l=0;l<p.length;l++){for(f=p[l],w=0;w<f.length;w++)c[u+w]=f[w];u+=w}return c},H.maxRowLength=function(p){return v(p,Math.max,0)},H.minRowLength=function(p){return v(p,Math.min,1/0)};function v(p,t,r){if(L(p))if(L(p[0])){for(var s=r,n=0;n<p.length;n++)s=t(s,p[n].length);return s}else return p.length;return 0}},95218:function(W,H,e){var g=e(92770),P=e(50606).BADNUM,i=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;W.exports=function(A){return typeof A=="string"&&(A=A.replace(i,"")),g(A)?Number(A):P}},33306:function(W){W.exports=function(e){var g=e._fullLayout;g._glcanvas&&g._glcanvas.size()&&g._glcanvas.each(function(P){P.regl&&P.regl.clear({color:!0,depth:!0})})}},86367:function(W){W.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},96554:function(W,H,e){var g=e(92770),P=e(84267),i=e(9012),L=e(63282),A=e(7901),v=e(37822).DESELECTDIM,p=e(65487),t=e(30587).counter,r=e(64872).modHalf,s=e(73627).isArrayOrTypedArray;H.valObjectMeta={data_array:{coerceFunction:function(l,f,u){s(l)?f.set(l):u!==void 0&&f.set(u)}},enumerated:{coerceFunction:function(l,f,u,m){m.coerceNumber&&(l=+l),m.values.indexOf(l)===-1?f.set(u):f.set(l)},validateFunction:function(l,f){f.coerceNumber&&(l=+l);for(var u=f.values,m=0;m<u.length;m++){var c=String(u[m]);if(c.charAt(0)==="/"&&c.charAt(c.length-1)==="/"){var w=new RegExp(c.substr(1,c.length-2));if(w.test(l))return!0}else if(l===u[m])return!0}return!1}},boolean:{coerceFunction:function(l,f,u){l===!0||l===!1?f.set(l):f.set(u)}},number:{coerceFunction:function(l,f,u,m){!g(l)||m.min!==void 0&&l<m.min||m.max!==void 0&&l>m.max?f.set(u):f.set(+l)}},integer:{coerceFunction:function(l,f,u,m){l%1||!g(l)||m.min!==void 0&&l<m.min||m.max!==void 0&&l>m.max?f.set(u):f.set(+l)}},string:{coerceFunction:function(l,f,u,m){if(typeof l!="string"){var c=typeof l=="number";m.strict===!0||!c?f.set(u):f.set(String(l))}else m.noBlank&&!l?f.set(u):f.set(l)}},color:{coerceFunction:function(l,f,u){P(l).isValid()?f.set(l):f.set(u)}},colorlist:{coerceFunction:function(l,f,u){function m(c){return P(c).isValid()}!Array.isArray(l)||!l.length?f.set(u):l.every(m)?f.set(l):f.set(u)}},colorscale:{coerceFunction:function(l,f,u){f.set(L.get(l,u))}},angle:{coerceFunction:function(l,f,u){l==="auto"?f.set("auto"):g(l)?f.set(r(+l,360)):f.set(u)}},subplotid:{coerceFunction:function(l,f,u,m){var c=m.regex||t(u);if(typeof l=="string"&&c.test(l)){f.set(l);return}f.set(u)},validateFunction:function(l,f){var u=f.dflt;return l===u?!0:typeof l!="string"?!1:!!t(u).test(l)}},flaglist:{coerceFunction:function(l,f,u,m){if((m.extras||[]).indexOf(l)!==-1){f.set(l);return}if(typeof l!="string"){f.set(u);return}for(var c=l.split("+"),w=0;w<c.length;){var h=c[w];m.flags.indexOf(h)===-1||c.indexOf(h)<w?c.splice(w,1):w++}c.length?f.set(c.join("+")):f.set(u)}},any:{coerceFunction:function(l,f,u){l===void 0?f.set(u):f.set(l)}},info_array:{coerceFunction:function(l,f,u,m){function c(z,I,B){var F,O={set:function(N){F=N}};return B===void 0&&(B=I.dflt),H.valObjectMeta[I.valType].coerceFunction(z,O,B,I),F}var w=m.dimensions===2||m.dimensions==="1-2"&&Array.isArray(l)&&Array.isArray(l[0]);if(!Array.isArray(l)){f.set(u);return}var h=m.items,o=[],d=Array.isArray(h),M=d&&w&&Array.isArray(h[0]),T=w&&d&&!M,E=d&&!T?h.length:l.length,x,S,b,a,C,y;if(u=Array.isArray(u)?u:[],w)for(x=0;x<E;x++)for(o[x]=[],b=Array.isArray(l[x])?l[x]:[],T?C=h.length:d?C=h[x].length:C=b.length,S=0;S<C;S++)T?a=h[S]:d?a=h[x][S]:a=h,y=c(b[S],a,(u[x]||[])[S]),y!==void 0&&(o[x][S]=y);else for(x=0;x<E;x++)y=c(l[x],d?h[x]:h,u[x]),y!==void 0&&(o[x]=y);f.set(o)},validateFunction:function(l,f){if(!Array.isArray(l))return!1;var u=f.items,m=Array.isArray(u),c=f.dimensions===2;if(!f.freeLength&&l.length!==u.length)return!1;for(var w=0;w<l.length;w++)if(c){if(!Array.isArray(l[w])||!f.freeLength&&l[w].length!==u[w].length)return!1;for(var h=0;h<l[w].length;h++)if(!n(l[w][h],m?u[w][h]:u))return!1}else if(!n(l[w],m?u[w]:u))return!1;return!0}}},H.coerce=function(l,f,u,m,c){var w=p(u,m).get(),h=p(l,m),o=p(f,m),d=h.get(),M=f._template;if(d===void 0&&M&&(d=p(M,m).get(),M=0),c===void 0&&(c=w.dflt),w.arrayOk&&s(d))return o.set(d),d;var T=H.valObjectMeta[w.valType].coerceFunction;T(d,o,c,w);var E=o.get();return M&&E===c&&!n(d,w)&&(d=p(M,m).get(),T(d,o,c,w),E=o.get()),E},H.coerce2=function(l,f,u,m,c){var w=p(l,m),h=H.coerce(l,f,u,m,c),o=w.get();return o!=null?h:!1},H.coerceFont=function(l,f,u){var m={};return u=u||{},m.family=l(f+".family",u.family),m.size=l(f+".size",u.size),m.color=l(f+".color",u.color),m},H.coercePattern=function(l,f,u,m){var c=l(f+".shape");if(c){l(f+".solidity"),l(f+".size");var w=l(f+".fillmode"),h=w==="overlay";if(!m){var o=l(f+".bgcolor",h?u:void 0);l(f+".fgcolor",h?A.contrast(o):u)}l(f+".fgopacity",h?.5:1)}},H.coerceHoverinfo=function(l,f,u){var m=f._module.attributes,c=m.hoverinfo?m:i,w=c.hoverinfo,h;if(u._dataLength===1){var o=w.dflt==="all"?w.flags.slice():w.dflt.split("+");o.splice(o.indexOf("name"),1),h=o.join("+")}return H.coerce(l,f,c,"hoverinfo",h)},H.coerceSelectionMarkerOpacity=function(l,f){if(l.marker){var u=l.marker.opacity;if(u!==void 0){var m,c;!s(u)&&!l.selected&&!l.unselected&&(m=u,c=v*u),f("selected.marker.opacity",m),f("unselected.marker.opacity",c)}}};function n(l,f){var u=H.valObjectMeta[f.valType];if(f.arrayOk&&s(l))return!0;if(u.validateFunction)return u.validateFunction(l,f);var m={},c=m,w={set:function(h){c=h}};return u.coerceFunction(l,w,m,f),c!==m}H.validate=n},41631:function(W,H,e){var g=e(84096).i$,P=e(92770),i=e(47769),L=e(64872).mod,A=e(50606),v=A.BADNUM,p=A.ONEDAY,t=A.ONEHOUR,r=A.ONEMIN,s=A.ONESEC,n=A.EPOCHJD,l=e(73972),f=e(84096).g0,u=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,c=new Date().getFullYear()-70;function w(F){return F&&l.componentsRegistry.calendars&&typeof F=="string"&&F!=="gregorian"}H.dateTick0=function(F,O){var N=h(F,!!O);if(O<2)return N;var _=H.dateTime2ms(N,F);return _+=p*(O-1),H.ms2DateTime(_,0,F)};function h(F,O){return w(F)?O?l.getComponentMethod("calendars","CANONICAL_SUNDAY")[F]:l.getComponentMethod("calendars","CANONICAL_TICK")[F]:O?"2000-01-02":"2000-01-01"}H.dfltRange=function(F){return w(F)?l.getComponentMethod("calendars","DFLTRANGE")[F]:["2000-01-01","2001-01-01"]},H.isJSDate=function(F){return typeof F=="object"&&F!==null&&typeof F.getTime=="function"};var o,d;H.dateTime2ms=function(F,O){if(H.isJSDate(F)){var N=F.getTimezoneOffset()*r,_=(F.getUTCMinutes()-F.getMinutes())*r+(F.getUTCSeconds()-F.getSeconds())*s+(F.getUTCMilliseconds()-F.getMilliseconds());if(_){var U=3*r;N=N-U/2+L(_-N+U/2,U)}return F=Number(F)-N,F>=o&&F<=d?F:v}if(typeof F!="string"&&typeof F!="number")return v;F=String(F);var Y=w(O),K=F.charAt(0);Y&&(K==="G"||K==="g")&&(F=F.substr(1),O="");var re=Y&&O.substr(0,7)==="chinese",ae=F.match(re?m:u);if(!ae)return v;var fe=ae[1],Q=ae[3]||"1",j=Number(ae[5]||1),X=Number(ae[7]||0),J=Number(ae[9]||0),ee=Number(ae[11]||0);if(Y){if(fe.length===2)return v;fe=Number(fe);var se;try{var q=l.getComponentMethod("calendars","getCal")(O);if(re){var $=Q.charAt(Q.length-1)==="i";Q=parseInt(Q,10),se=q.newDate(fe,q.toMonthIndex(fe,Q,$),j)}else se=q.newDate(fe,Number(Q),j)}catch{return v}return se?(se.toJD()-n)*p+X*t+J*r+ee*s:v}fe.length===2?fe=(Number(fe)+2e3-c)%100+c:fe=Number(fe),Q-=1;var le=new Date(Date.UTC(2e3,Q,j,X,J));return le.setUTCFullYear(fe),le.getUTCMonth()!==Q||le.getUTCDate()!==j?v:le.getTime()+ee*s},o=H.MIN_MS=H.dateTime2ms("-9999"),d=H.MAX_MS=H.dateTime2ms("9999-12-31 23:59:59.9999"),H.isDateTime=function(F,O){return H.dateTime2ms(F,O)!==v};function M(F,O){return String(F+Math.pow(10,O)).substr(1)}var T=90*p,E=3*t,x=5*r;H.ms2DateTime=function(F,O,N){if(typeof F!="number"||!(F>=o&&F<=d))return v;O||(O=0);var _=Math.floor(L(F+.05,1)*10),U=Math.round(F-_/10),Y,K,re,ae,fe,Q;if(w(N)){var j=Math.floor(U/p)+n,X=Math.floor(L(F,p));try{Y=l.getComponentMethod("calendars","getCal")(N).fromJD(j).formatDate("yyyy-mm-dd")}catch{Y=f("G%Y-%m-%d")(new Date(U))}if(Y.charAt(0)==="-")for(;Y.length<11;)Y="-0"+Y.substr(1);else for(;Y.length<10;)Y="0"+Y;K=O<T?Math.floor(X/t):0,re=O<T?Math.floor(X%t/r):0,ae=O<E?Math.floor(X%r/s):0,fe=O<x?X%s*10+_:0}else Q=new Date(U),Y=f("%Y-%m-%d")(Q),K=O<T?Q.getUTCHours():0,re=O<T?Q.getUTCMinutes():0,ae=O<E?Q.getUTCSeconds():0,fe=O<x?Q.getUTCMilliseconds()*10+_:0;return S(Y,K,re,ae,fe)},H.ms2DateTimeLocal=function(F){if(!(F>=o+p&&F<=d-p))return v;var O=Math.floor(L(F+.05,1)*10),N=new Date(Math.round(F-O/10)),_=g("%Y-%m-%d")(N),U=N.getHours(),Y=N.getMinutes(),K=N.getSeconds(),re=N.getUTCMilliseconds()*10+O;return S(_,U,Y,K,re)};function S(F,O,N,_,U){if((O||N||_||U)&&(F+=" "+M(O,2)+":"+M(N,2),(_||U)&&(F+=":"+M(_,2),U))){for(var Y=4;U%10===0;)Y-=1,U/=10;F+="."+M(U,Y)}return F}H.cleanDate=function(F,O,N){if(F===v)return O;if(H.isJSDate(F)||typeof F=="number"&&isFinite(F)){if(w(N))return i.error("JS Dates and milliseconds are incompatible with world calendars",F),O;if(F=H.ms2DateTimeLocal(+F),!F&&O!==void 0)return O}else if(!H.isDateTime(F,N))return i.error("unrecognized date",F),O;return F};var b=/%\d?f/g,a=/%h/g,C={1:"1",2:"1",3:"2",4:"2"};function y(F,O,N,_){F=F.replace(b,function(Y){var K=Math.min(+Y.charAt(1)||6,6),re=(O/1e3%1+2).toFixed(K).substr(2).replace(/0+$/,"")||"0";return re});var U=new Date(Math.floor(O+.05));if(F=F.replace(a,function(){return C[N("%q")(U)]}),w(_))try{F=l.getComponentMethod("calendars","worldCalFmt")(F,O,_)}catch{return"Invalid"}return N(F)(U)}var z=[59,59.9,59.99,59.999,59.9999];function I(F,O){var N=L(F+.05,p),_=M(Math.floor(N/t),2)+":"+M(L(Math.floor(N/r),60),2);if(O!=="M"){P(O)||(O=0);var U=Math.min(L(F/s,60),z[O]),Y=(100+U).toFixed(O).substr(1);O>0&&(Y=Y.replace(/0+$/,"").replace(/[\.]$/,"")),_+=":"+Y}return _}H.formatDate=function(F,O,N,_,U,Y){if(U=w(U)&&U,!O)if(N==="y")O=Y.year;else if(N==="m")O=Y.month;else if(N==="d")O=Y.dayMonth+`
`+Y.year;else return I(F,N)+`
`+y(Y.dayMonthYear,F,_,U);return y(O,F,_,U)};var B=3*p;H.incrementMonth=function(F,O,N){N=w(N)&&N;var _=L(F,p);if(F=Math.round(F-_),N)try{var U=Math.round(F/p)+n,Y=l.getComponentMethod("calendars","getCal")(N),K=Y.fromJD(U);return O%12?Y.add(K,O,"m"):Y.add(K,O/12,"y"),(K.toJD()-n)*p+_}catch{i.error("invalid ms "+F+" in calendar "+N)}var re=new Date(F+B);return re.setUTCMonth(re.getUTCMonth()+O)+_-B},H.findExactDates=function(F,O){for(var N=0,_=0,U=0,Y=0,K,re,ae=w(O)&&l.getComponentMethod("calendars","getCal")(O),fe=0;fe<F.length;fe++){if(re=F[fe],!P(re)){Y++;continue}if(!(re%p))if(ae)try{K=ae.fromJD(re/p+n),K.day()===1?K.month()===1?N++:_++:U++}catch{}else K=new Date(re),K.getUTCDate()===1?K.getUTCMonth()===0?N++:_++:U++}_+=N,U+=_;var Q=F.length-Y;return{exactYears:N/Q,exactMonths:_/Q,exactDays:U/Q}}},24401:function(W,H,e){var g=e(39898),P=e(47769),i=e(35657),L=e(79576);function A(c){var w;if(typeof c=="string"){if(w=document.getElementById(c),w===null)throw new Error("No DOM element with id '"+c+"' exists on the page.");return w}else if(c==null)throw new Error("DOM element provided is null or undefined");return c}function v(c){var w=g.select(c);return w.node()instanceof HTMLElement&&w.size()&&w.classed("js-plotly-plot")}function p(c){var w=c&&c.parentNode;w&&w.removeChild(c)}function t(c,w){r("global",c,w)}function r(c,w,h){var o="plotly.js-style-"+c,d=document.getElementById(o);d||(d=document.createElement("style"),d.setAttribute("id",o),d.appendChild(document.createTextNode("")),document.head.appendChild(d));var M=d.sheet;M.insertRule?M.insertRule(w+"{"+h+"}",0):M.addRule?M.addRule(w,h,0):P.warn("addStyleRule failed")}function s(c){var w="plotly.js-style-"+c,h=document.getElementById(w);h&&p(h)}function n(c){var w=f(c),h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return w.forEach(function(o){var d=l(o);if(d){var M=i.convertCssMatrix(d);h=L.multiply(h,h,M)}}),h}function l(c){var w=window.getComputedStyle(c,null),h=w.getPropertyValue("-webkit-transform")||w.getPropertyValue("-moz-transform")||w.getPropertyValue("-ms-transform")||w.getPropertyValue("-o-transform")||w.getPropertyValue("transform");return h==="none"?null:h.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(o){return+o})}function f(c){for(var w=[];u(c);)w.push(c),c=c.parentNode;return w}function u(c){return c&&(c instanceof Element||c instanceof HTMLElement)}function m(c,w){return c&&w&&c.top===w.top&&c.left===w.left&&c.right===w.right&&c.bottom===w.bottom}W.exports={getGraphDiv:A,isPlotDiv:v,removeElement:p,addStyleRule:t,addRelatedStyleRule:r,deleteRelatedStyleRule:s,getFullTransformMatrix:n,getElementTransformMatrix:l,getElementAndAncestors:f,equalDomRects:m}},11086:function(W,H,e){var g=e(15398).EventEmitter,P={init:function(i){if(i._ev instanceof g)return i;var L=new g,A=new g;return i._ev=L,i._internalEv=A,i.on=L.on.bind(L),i.once=L.once.bind(L),i.removeListener=L.removeListener.bind(L),i.removeAllListeners=L.removeAllListeners.bind(L),i._internalOn=A.on.bind(A),i._internalOnce=A.once.bind(A),i._removeInternalListener=A.removeListener.bind(A),i._removeAllInternalListeners=A.removeAllListeners.bind(A),i.emit=function(v,p){typeof jQuery<"u"&&jQuery(i).trigger(v,p),L.emit(v,p),A.emit(v,p)},i},triggerHandler:function(i,L,A){var v,p;typeof jQuery<"u"&&(v=jQuery(i).triggerHandler(L,A));var t=i._ev;if(!t)return v;var r=t._events[L];if(!r)return v;function s(l){if(l.listener){if(t.removeListener(L,l.listener),!l.fired)return l.fired=!0,l.listener.apply(t,[A])}else return l.apply(t,[A])}r=Array.isArray(r)?r:[r];var n;for(n=0;n<r.length-1;n++)s(r[n]);return p=s(r[n]),v!==void 0?v:p},purge:function(i){return delete i._ev,delete i.on,delete i.once,delete i.removeListener,delete i.removeAllListeners,delete i.emit,delete i._ev,delete i._internalEv,delete i._internalOn,delete i._internalOnce,delete i._removeInternalListener,delete i._removeAllInternalListeners,i}};W.exports=P},1426:function(W,H,e){var g=e(41965),P=Array.isArray;function i(A,v){var p,t;for(p=0;p<A.length;p++){if(t=A[p],t!==null&&typeof t=="object")return!1;t!==void 0&&(v[p]=t)}return!0}H.extendFlat=function(){return L(arguments,!1,!1,!1)},H.extendDeep=function(){return L(arguments,!0,!1,!1)},H.extendDeepAll=function(){return L(arguments,!0,!0,!1)},H.extendDeepNoArrays=function(){return L(arguments,!0,!1,!0)};function L(A,v,p,t){var r=A[0],s=A.length,n,l,f,u,m,c,w;if(s===2&&P(r)&&P(A[1])&&r.length===0){if(w=i(A[1],r),w)return r;r.splice(0,r.length)}for(var h=1;h<s;h++){n=A[h];for(l in n)f=r[l],u=n[l],t&&P(u)?r[l]=u:v&&u&&(g(u)||(m=P(u)))?(m?(m=!1,c=f&&P(f)?f:[]):c=f&&g(f)?f:{},r[l]=L([c,u],v,p,t)):(typeof u<"u"||p)&&(r[l]=u)}return r}},75744:function(W){W.exports=function(e){for(var g={},P=[],i=0,L=0;L<e.length;L++){var A=e[L];g[A]!==1&&(g[A]=1,P[i++]=A)}return P}},76756:function(W){W.exports=function(i){for(var L=g(i)?e:H,A=[],v=0;v<i.length;v++){var p=i[v];L(p)&&A.push(p)}return A};function H(P){return P.visible===!0}function e(P){var i=P[0].trace;return i.visible===!0&&i._length!==0}function g(P){return Array.isArray(P)&&Array.isArray(P[0])&&P[0][0]&&P[0][0].trace}},41327:function(W,H,e){var g=e(39898),P=e(24138),i=e(30774),L=e(29261),A=e(85268),v=e(23389),p=e(47769),t=e(41965),r=e(65487),s=e(61082),n=Object.keys(P),l={"ISO-3":v,"USA-states":v,"country names":f};function f(M){for(var T=0;T<n.length;T++){var E=n[T],x=new RegExp(P[E]);if(x.test(M.trim().toLowerCase()))return E}return p.log("Unrecognized country name: "+M+"."),!1}function u(M,T,E){if(!T||typeof T!="string")return!1;var x=l[M](T),S,b,a;if(x){if(M==="USA-states")for(S=[],a=0;a<E.length;a++)b=E[a],b.properties&&b.properties.gu&&b.properties.gu==="USA"&&S.push(b);else S=E;for(a=0;a<S.length;a++)if(b=S[a],b.id===x)return b;p.log(["Location with id",x,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function m(M){var T=M.geometry,E=T.coordinates,x=M.id,S=[],b,a,C,y;function z(I){for(var B=0;B<I.length-1;B++)if(I[B][0]>0&&I[B+1][0]<0)return B;return null}switch(x==="RUS"||x==="FJI"?b=function(I){var B;if(z(I)===null)B=I;else for(B=new Array(I.length),y=0;y<I.length;y++)B[y]=[I[y][0]<0?I[y][0]+360:I[y][0],I[y][1]];S.push(s.tester(B))}:x==="ATA"?b=function(I){var B=z(I);if(B===null)return S.push(s.tester(I));var F=new Array(I.length+1),O=0;for(y=0;y<I.length;y++)y>B?F[O++]=[I[y][0]+360,I[y][1]]:y===B?(F[O++]=I[y],F[O++]=[I[y][0],-90]):F[O++]=I[y];var N=s.tester(F);N.pts.pop(),S.push(N)}:b=function(I){S.push(s.tester(I))},T.type){case"MultiPolygon":for(a=0;a<E.length;a++)for(C=0;C<E[a].length;C++)b(E[a][C]);break;case"Polygon":for(a=0;a<E.length;a++)b(E[a]);break}return S}function c(M){var T=M.geojson,E=window.PlotlyGeoAssets||{},x=typeof T=="string"?E[T]:T;return t(x)?x:(p.error("Oops ... something went wrong when fetching "+T),!1)}function w(M){var T=M[0].trace,E=c(T);if(!E)return!1;var x={},S=[],b;for(b=0;b<T._length;b++){var a=M[b];(a.loc||a.loc===0)&&(x[a.loc]=a)}function C(I){var B=r(I,T.featureidkey||"id").get(),F=x[B];if(F){var O=I.geometry;if(O.type==="Polygon"||O.type==="MultiPolygon"){var N={type:"Feature",id:B,geometry:O,properties:{}};N.properties.ct=h(N),F.fIn=I,F.fOut=N,S.push(N)}else p.log(["Location",F.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete x[B]}switch(E.type){case"FeatureCollection":var y=E.features;for(b=0;b<y.length;b++)C(y[b]);break;case"Feature":C(E);break;default:return p.warn(["Invalid GeoJSON type",(E.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var z in x)p.log(["Location *"+z+"*","does not have a matching feature with id-key","*"+T.featureidkey+"*."].join(" "));return S}function h(M){var T=M.geometry,E;if(T.type==="MultiPolygon")for(var x=T.coordinates,S=0,b=0;b<x.length;b++){var a={type:"Polygon",coordinates:x[b]},C=i.default(a);C>S&&(S=C,E=a)}else E=T;return L.default(E).geometry.coordinates}function o(M){var T=window.PlotlyGeoAssets||{},E=[];function x(y){return new Promise(function(z,I){g.json(y,function(B,F){if(B){delete T[y];var O=B.status===404?'GeoJSON at URL "'+y+'" does not exist.':"Unexpected error while fetching from "+y;return I(new Error(O))}return T[y]=F,z(F)})})}function S(y){return new Promise(function(z,I){var B=0,F=setInterval(function(){if(T[y]&&T[y]!=="pending")return clearInterval(F),z(T[y]);if(B>100)return clearInterval(F),I("Unexpected error while fetching from "+y);B++},50)})}for(var b=0;b<M.length;b++){var a=M[b][0].trace,C=a.geojson;typeof C=="string"&&(T[C]?T[C]==="pending"&&E.push(S(C)):(T[C]="pending",E.push(x(C))))}return E}function d(M){return A.default(M)}W.exports={locationToFeature:u,feature2polygons:m,getTraceGeojson:c,extractTraceFeature:w,fetchTraceGeoData:o,computeBbox:d}},18214:function(W,H,e){var g=e(50606).BADNUM;H.calcTraceToLineCoords=function(P){for(var i=P[0].trace,L=i.connectgaps,A=[],v=[],p=0;p<P.length;p++){var t=P[p],r=t.lonlat;r[0]!==g?v.push(r):!L&&v.length>0&&(A.push(v),v=[])}return v.length>0&&A.push(v),A},H.makeLine=function(P){return P.length===1?{type:"LineString",coordinates:P[0]}:{type:"MultiLineString",coordinates:P}},H.makePolygon=function(P){if(P.length===1)return{type:"Polygon",coordinates:P};for(var i=new Array(P.length),L=0;L<P.length;L++)i[L]=[P[L]];return{type:"MultiPolygon",coordinates:i}},H.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(W,H,e){var g=e(64872).mod;H.segmentsIntersect=P;function P(p,t,r,s,n,l,f,u){var m=r-p,c=n-p,w=f-n,h=s-t,o=l-t,d=u-l,M=m*d-w*h;if(M===0)return null;var T=(c*d-w*o)/M,E=(c*h-m*o)/M;return E<0||E>1||T<0||T>1?null:{x:p+m*T,y:t+h*T}}H.segmentDistance=function(t,r,s,n,l,f,u,m){if(P(t,r,s,n,l,f,u,m))return 0;var c=s-t,w=n-r,h=u-l,o=m-f,d=c*c+w*w,M=h*h+o*o,T=Math.min(i(c,w,d,l-t,f-r),i(c,w,d,u-t,m-r),i(h,o,M,t-l,r-f),i(h,o,M,s-l,n-f));return Math.sqrt(T)};function i(p,t,r,s,n){var l=s*p+n*t;if(l<0)return s*s+n*n;if(l>r){var f=s-p,u=n-t;return f*f+u*u}else{var m=s*t-n*p;return m*m/r}}var L,A,v;H.getTextLocation=function(t,r,s,n){if((t!==A||n!==v)&&(L={},A=t,v=n),L[s])return L[s];var l=t.getPointAtLength(g(s-n/2,r)),f=t.getPointAtLength(g(s+n/2,r)),u=Math.atan((f.y-l.y)/(f.x-l.x)),m=t.getPointAtLength(g(s,r)),c=(m.x*4+l.x+f.x)/6,w=(m.y*4+l.y+f.y)/6,h={x:c,y:w,theta:u};return L[s]=h,h},H.clearLocationCache=function(){A=null},H.getVisibleSegment=function(t,r,s){var n=r.left,l=r.right,f=r.top,u=r.bottom,m=0,c=t.getTotalLength(),w=c,h,o;function d(T){var E=t.getPointAtLength(T);T===0?h=E:T===c&&(o=E);var x=E.x<n?n-E.x:E.x>l?E.x-l:0,S=E.y<f?f-E.y:E.y>u?E.y-u:0;return Math.sqrt(x*x+S*S)}for(var M=d(m);M;){if(m+=M+s,m>w)return;M=d(m)}for(M=d(w);M;){if(w-=M+s,m>w)return;M=d(w)}return{min:m,max:w,len:w-m,total:c,isClosed:m===0&&w===c&&Math.abs(h.x-o.x)<.1&&Math.abs(h.y-o.y)<.1}},H.findPointOnPath=function(t,r,s,n){n=n||{};for(var l=n.pathLength||t.getTotalLength(),f=n.tolerance||.001,u=n.iterationLimit||30,m=t.getPointAtLength(0)[s]>t.getPointAtLength(l)[s]?-1:1,c=0,w=0,h=l,o,d,M;c<u;){if(o=(w+h)/2,d=t.getPointAtLength(o),M=d[s]-r,Math.abs(M)<f)return d;m*M>0?h=o:w=o,c++}return d}},81697:function(W,H,e){var g=e(92770),P=e(84267),i=e(25075),L=e(21081),A=e(22399).defaultLine,v=e(73627).isArrayOrTypedArray,p=i(A),t=1;function r(u,m){var c=u;return c[3]*=m,c}function s(u){if(g(u))return p;var m=i(u);return m.length?m:p}function n(u){return g(u)?u:t}function l(u,m,c){var w=u.color,h=v(w),o=v(m),d=L.extractOpts(u),M=[],T,E,x,S,b;if(d.colorscale!==void 0?T=L.makeColorScaleFuncFromTrace(u):T=s,h?E=function(C,y){return C[y]===void 0?p:i(T(C[y]))}:E=s,o?x=function(C,y){return C[y]===void 0?t:n(C[y])}:x=n,h||o)for(var a=0;a<c;a++)S=E(w,a),b=x(m,a),M[a]=r(S,b);else M=r(i(w),m);return M}function f(u){var m=L.extractOpts(u),c=m.colorscale;return m.reversescale&&(c=L.flipScale(m.colorscale)),c.map(function(w){var h=w[0],o=P(w[1]),d=o.toRgb();return{index:h,rgb:[d.r,d.g,d.b,d.a]}})}W.exports={formatColor:l,parseColorScale:f}},28984:function(W,H,e){var g=e(23389);function P(i){return[i]}W.exports={keyFun:function(i){return i.key},repeat:P,descend:g,wrap:P,unwrap:function(i){return i[0]}}},23389:function(W){W.exports=function(e){return e}},39240:function(W){W.exports=function(e,g){if(!g)return e;var P=1/Math.abs(g),i=P>1?(P*e+P*g)/P:e+g,L=String(i).length;if(L>16){var A=String(g).length,v=String(e).length;if(L>=v+A){var p=parseFloat(i).toPrecision(12);p.indexOf("e+")===-1&&(i=+p)}}return i}},71828:function(W,H,e){var g=e(39898),P=e(84096).g0,i=e(60721).WU,L=e(92770),A=e(50606),v=A.FP_SAFE,p=-v,t=A.BADNUM,r=W.exports={};r.adjustFormat=function(se){return!se||/^\d[.]\df/.test(se)||/[.]\d%/.test(se)?se:se==="0.f"?"~f":/^\d%/.test(se)?"~%":/^\ds/.test(se)?"~s":!/^[~,.0$]/.test(se)&&/[&fps]/.test(se)?"~"+se:se};var s={};r.warnBadFormat=function(ee){var se=String(ee);s[se]||(s[se]=1,r.warn('encountered bad format: "'+se+'"'))},r.noFormat=function(ee){return String(ee)},r.numberFormat=function(ee){var se;try{se=i(r.adjustFormat(ee))}catch{return r.warnBadFormat(ee),r.noFormat}return se},r.nestedProperty=e(65487),r.keyedContainer=e(66636),r.relativeAttr=e(6962),r.isPlainObject=e(41965),r.toLogRange=e(58163),r.relinkPrivateKeys=e(51332);var n=e(73627);r.isTypedArray=n.isTypedArray,r.isArrayOrTypedArray=n.isArrayOrTypedArray,r.isArray1D=n.isArray1D,r.ensureArray=n.ensureArray,r.concat=n.concat,r.maxRowLength=n.maxRowLength,r.minRowLength=n.minRowLength;var l=e(64872);r.mod=l.mod,r.modHalf=l.modHalf;var f=e(96554);r.valObjectMeta=f.valObjectMeta,r.coerce=f.coerce,r.coerce2=f.coerce2,r.coerceFont=f.coerceFont,r.coercePattern=f.coercePattern,r.coerceHoverinfo=f.coerceHoverinfo,r.coerceSelectionMarkerOpacity=f.coerceSelectionMarkerOpacity,r.validate=f.validate;var u=e(41631);r.dateTime2ms=u.dateTime2ms,r.isDateTime=u.isDateTime,r.ms2DateTime=u.ms2DateTime,r.ms2DateTimeLocal=u.ms2DateTimeLocal,r.cleanDate=u.cleanDate,r.isJSDate=u.isJSDate,r.formatDate=u.formatDate,r.incrementMonth=u.incrementMonth,r.dateTick0=u.dateTick0,r.dfltRange=u.dfltRange,r.findExactDates=u.findExactDates,r.MIN_MS=u.MIN_MS,r.MAX_MS=u.MAX_MS;var m=e(65888);r.findBin=m.findBin,r.sorterAsc=m.sorterAsc,r.sorterDes=m.sorterDes,r.distinctVals=m.distinctVals,r.roundUp=m.roundUp,r.sort=m.sort,r.findIndexOfMin=m.findIndexOfMin,r.sortObjectKeys=e(78607);var c=e(80038);r.aggNums=c.aggNums,r.len=c.len,r.mean=c.mean,r.median=c.median,r.midRange=c.midRange,r.variance=c.variance,r.stdev=c.stdev,r.interp=c.interp;var w=e(35657);r.init2dArray=w.init2dArray,r.transposeRagged=w.transposeRagged,r.dot=w.dot,r.translationMatrix=w.translationMatrix,r.rotationMatrix=w.rotationMatrix,r.rotationXYMatrix=w.rotationXYMatrix,r.apply3DTransform=w.apply3DTransform,r.apply2DTransform=w.apply2DTransform,r.apply2DTransform2=w.apply2DTransform2,r.convertCssMatrix=w.convertCssMatrix,r.inverseTransformMatrix=w.inverseTransformMatrix;var h=e(26348);r.deg2rad=h.deg2rad,r.rad2deg=h.rad2deg,r.angleDelta=h.angleDelta,r.angleDist=h.angleDist,r.isFullCircle=h.isFullCircle,r.isAngleInsideSector=h.isAngleInsideSector,r.isPtInsideSector=h.isPtInsideSector,r.pathArc=h.pathArc,r.pathSector=h.pathSector,r.pathAnnulus=h.pathAnnulus;var o=e(99863);r.isLeftAnchor=o.isLeftAnchor,r.isCenterAnchor=o.isCenterAnchor,r.isRightAnchor=o.isRightAnchor,r.isTopAnchor=o.isTopAnchor,r.isMiddleAnchor=o.isMiddleAnchor,r.isBottomAnchor=o.isBottomAnchor;var d=e(87642);r.segmentsIntersect=d.segmentsIntersect,r.segmentDistance=d.segmentDistance,r.getTextLocation=d.getTextLocation,r.clearLocationCache=d.clearLocationCache,r.getVisibleSegment=d.getVisibleSegment,r.findPointOnPath=d.findPointOnPath;var M=e(1426);r.extendFlat=M.extendFlat,r.extendDeep=M.extendDeep,r.extendDeepAll=M.extendDeepAll,r.extendDeepNoArrays=M.extendDeepNoArrays;var T=e(47769);r.log=T.log,r.warn=T.warn,r.error=T.error;var E=e(30587);r.counterRegex=E.counter;var x=e(79990);r.throttle=x.throttle,r.throttleDone=x.done,r.clearThrottle=x.clear;var S=e(24401);r.getGraphDiv=S.getGraphDiv,r.isPlotDiv=S.isPlotDiv,r.removeElement=S.removeElement,r.addStyleRule=S.addStyleRule,r.addRelatedStyleRule=S.addRelatedStyleRule,r.deleteRelatedStyleRule=S.deleteRelatedStyleRule,r.getFullTransformMatrix=S.getFullTransformMatrix,r.getElementTransformMatrix=S.getElementTransformMatrix,r.getElementAndAncestors=S.getElementAndAncestors,r.equalDomRects=S.equalDomRects,r.clearResponsive=e(86367),r.preserveDrawingBuffer=e(45142),r.makeTraceGroups=e(77310),r._=e(15867),r.notifier=e(75046),r.filterUnique=e(75744),r.filterVisible=e(76756),r.pushUnique=e(75138),r.increment=e(39240),r.cleanNumber=e(95218),r.ensureNumber=function(se){return L(se)?(se=Number(se),se>v||se<p?t:se):t},r.isIndex=function(ee,se){return se!==void 0&&ee>=se?!1:L(ee)&&ee>=0&&ee%1===0},r.noop=e(64213),r.identity=e(23389),r.repeat=function(ee,se){for(var q=new Array(se),$=0;$<se;$++)q[$]=ee;return q},r.swapAttrs=function(ee,se,q,$){q||(q="x"),$||($="y");for(var le=0;le<se.length;le++){var ie=se[le],ce=r.nestedProperty(ee,ie.replace("?",q)),me=r.nestedProperty(ee,ie.replace("?",$)),Me=ce.get();ce.set(me.get()),me.set(Me)}},r.raiseToTop=function(se){se.parentNode.appendChild(se)},r.cancelTransition=function(ee){return ee.transition().duration(0)},r.constrain=function(ee,se,q){return se>q?Math.max(q,Math.min(se,ee)):Math.max(se,Math.min(q,ee))},r.bBoxIntersect=function(ee,se,q){return q=q||0,ee.left<=se.right+q&&se.left<=ee.right+q&&ee.top<=se.bottom+q&&se.top<=ee.bottom+q},r.simpleMap=function(ee,se,q,$,le){for(var ie=ee.length,ce=new Array(ie),me=0;me<ie;me++)ce[me]=se(ee[me],q,$,le);return ce},r.randstr=function ee(se,q,$,le){if($||($=16),q===void 0&&(q=24),q<=0)return"0";var ie=Math.log(Math.pow(2,q))/Math.log($),ce="",me,Me,we;for(me=2;ie===1/0;me*=2)ie=Math.log(Math.pow(2,q/me))/Math.log($)*me;var Oe=ie-Math.floor(ie);for(me=0;me<Math.floor(ie);me++)we=Math.floor(Math.random()*$).toString($),ce=we+ce;Oe&&(Me=Math.pow($,Oe),we=Math.floor(Math.random()*Me).toString($),ce=we+ce);var Be=parseInt(ce,$);return se&&se[ce]||Be!==1/0&&Be>=Math.pow(2,q)?le>10?(r.warn("randstr failed uniqueness"),ce):ee(se,q,$,(le||0)+1):ce},r.OptionControl=function(ee,se){ee||(ee={}),se||(se="opt");var q={};return q.optionList=[],q._newoption=function($){$[se]=ee,q[$.name]=$,q.optionList.push($)},q["_"+se]=ee,q},r.smooth=function(ee,se){if(se=Math.round(se)||0,se<2)return ee;var q=ee.length,$=2*q,le=2*se-1,ie=new Array(le),ce=new Array(q),me,Me,we,Oe;for(me=0;me<le;me++)ie[me]=(1-Math.cos(Math.PI*(me+1)/se))/(2*se);for(me=0;me<q;me++){for(Oe=0,Me=0;Me<le;Me++)we=me+Me+1-se,we<-q?we-=$*Math.round(we/$):we>=$&&(we-=$*Math.floor(we/$)),we<0?we=-1-we:we>=q&&(we=$-1-we),Oe+=ee[we]*ie[Me];ce[me]=Oe}return ce},r.syncOrAsync=function(ee,se,q){var $,le;function ie(){return r.syncOrAsync(ee,se,q)}for(;ee.length;)if(le=ee.splice(0,1)[0],$=le(se),$&&$.then)return $.then(ie);return q&&q(se)},r.stripTrailingSlash=function(ee){return ee.substr(-1)==="/"?ee.substr(0,ee.length-1):ee},r.noneOrAll=function(ee,se,q){if(ee){var $=!1,le=!0,ie,ce;for(ie=0;ie<q.length;ie++)ce=ee[q[ie]],ce!=null?$=!0:le=!1;if($&&!le)for(ie=0;ie<q.length;ie++)ee[q[ie]]=se[q[ie]]}},r.mergeArray=function(ee,se,q,$){var le=typeof $=="function";if(r.isArrayOrTypedArray(ee))for(var ie=Math.min(ee.length,se.length),ce=0;ce<ie;ce++){var me=ee[ce];se[ce][q]=le?$(me):me}},r.mergeArrayCastPositive=function(ee,se,q){return r.mergeArray(ee,se,q,function($){var le=+$;return isFinite(le)&&le>0?le:0})},r.fillArray=function(ee,se,q,$){if($=$||r.identity,r.isArrayOrTypedArray(ee))for(var le=0;le<se.length;le++)se[le][q]=$(ee[le])},r.castOption=function(ee,se,q,$){$=$||r.identity;var le=r.nestedProperty(ee,q).get();return r.isArrayOrTypedArray(le)?Array.isArray(se)&&r.isArrayOrTypedArray(le[se[0]])?$(le[se[0]][se[1]]):$(le[se]):le},r.extractOption=function(ee,se,q,$){if(q in ee)return ee[q];var le=r.nestedProperty(se,$).get();if(!Array.isArray(le))return le};function b(ee){var se={};for(var q in ee)for(var $=ee[q],le=0;le<$.length;le++)se[$[le]]=+q;return se}r.tagSelected=function(ee,se,q){var $=se.selectedpoints,le=se._indexToPoints,ie;le&&(ie=b(le));function ce(Be){return Be!==void 0&&Be<ee.length}for(var me=0;me<$.length;me++){var Me=$[me];if(r.isIndex(Me)||r.isArrayOrTypedArray(Me)&&r.isIndex(Me[0])&&r.isIndex(Me[1])){var we=ie?ie[Me]:Me,Oe=q?q[we]:we;ce(Oe)&&(ee[Oe].selected=1)}}},r.selIndices2selPoints=function(ee){var se=ee.selectedpoints,q=ee._indexToPoints;if(q){for(var $=b(q),le=[],ie=0;ie<se.length;ie++){var ce=se[ie];if(r.isIndex(ce)){var me=$[ce];r.isIndex(me)&&le.push(me)}}return le}else return se},r.getTargetArray=function(ee,se){var q=se.target;if(typeof q=="string"&&q){var $=r.nestedProperty(ee,q).get();return Array.isArray($)?$:!1}else if(Array.isArray(q))return q;return!1};function a(ee,se,q){var $={};typeof se!="object"&&(se={});var le=q==="pieLike"?-1:3,ie=Object.keys(ee),ce,me,Me;for(ce=0;ce<ie.length;ce++)me=ie[ce],Me=ee[me],!(me.charAt(0)==="_"||typeof Me=="function")&&(me==="module"?$[me]=Me:Array.isArray(Me)?me==="colorscale"||le===-1?$[me]=Me.slice():$[me]=Me.slice(0,le):r.isTypedArray(Me)?le===-1?$[me]=Me.subarray():$[me]=Me.subarray(0,le):Me&&typeof Me=="object"?$[me]=a(ee[me],se[me],q):$[me]=Me);for(ie=Object.keys(se),ce=0;ce<ie.length;ce++)me=ie[ce],Me=se[me],(typeof Me!="object"||!(me in $)||typeof $[me]!="object")&&($[me]=Me);return $}r.minExtend=a,r.titleCase=function(ee){return ee.charAt(0).toUpperCase()+ee.substr(1)},r.containsAny=function(ee,se){for(var q=0;q<se.length;q++)if(ee.indexOf(se[q])!==-1)return!0;return!1},r.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var C=/Version\/[\d\.]+.*Safari/;r.isSafari=function(){return C.test(window.navigator.userAgent)};var y=/iPad|iPhone|iPod/;r.isIOS=function(){return y.test(window.navigator.userAgent)};var z=/Firefox\/(\d+)\.\d+/;r.getFirefoxVersion=function(){var ee=z.exec(window.navigator.userAgent);if(ee&&ee.length===2){var se=parseInt(ee[1]);if(!isNaN(se))return se}return null},r.isD3Selection=function(ee){return ee instanceof g.selection},r.ensureSingle=function(ee,se,q,$){var le=ee.select(se+(q?"."+q:""));if(le.size())return le;var ie=ee.append(se);return q&&ie.classed(q,!0),$&&ie.call($),ie},r.ensureSingleById=function(ee,se,q,$){var le=ee.select(se+"#"+q);if(le.size())return le;var ie=ee.append(se).attr("id",q);return $&&ie.call($),ie},r.objectFromPath=function(ee,se){for(var q=ee.split("."),$,le=$={},ie=0;ie<q.length;ie++){var ce=q[ie],me=null,Me=q[ie].match(/(.*)\[([0-9]+)\]/);Me?(ce=Me[1],me=Me[2],$=$[ce]=[],ie===q.length-1?$[me]=se:$[me]={},$=$[me]):(ie===q.length-1?$[ce]=se:$[ce]={},$=$[ce])}return le};var I=/^([^\[\.]+)\.(.+)?/,B=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function F(ee){return ee.slice(0,2)==="__"}r.expandObjectPaths=function(ee){var se,q,$,le,ie,ce,me;if(typeof ee=="object"&&!Array.isArray(ee)){for(q in ee)if(ee.hasOwnProperty(q))if(se=q.match(I)){if(le=ee[q],$=se[1],F($))continue;delete ee[q],ee[$]=r.extendDeepNoArrays(ee[$]||{},r.objectFromPath(q,r.expandObjectPaths(le))[$])}else if(se=q.match(B)){if(le=ee[q],$=se[1],F($))continue;if(ie=parseInt(se[2]),delete ee[q],ee[$]=ee[$]||[],se[3]===".")me=se[4],ce=ee[$][ie]=ee[$][ie]||{},r.extendDeepNoArrays(ce,r.objectFromPath(me,r.expandObjectPaths(le)));else{if(F($))continue;ee[$][ie]=r.expandObjectPaths(le)}}else{if(F(q))continue;ee[q]=r.expandObjectPaths(ee[q])}}return ee},r.numSeparate=function(ee,se,q){if(q||(q=!1),typeof se!="string"||se.length===0)throw new Error("Separator string required for formatting!");typeof ee=="number"&&(ee=String(ee));var $=/(\d+)(\d{3})/,le=se.charAt(0),ie=se.charAt(1),ce=ee.split("."),me=ce[0],Me=ce.length>1?le+ce[1]:"";if(ie&&(ce.length>1||me.length>4||q))for(;$.test(me);)me=me.replace($,"$1"+ie+"$2");return me+Me},r.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var O=/^\w*$/;r.templateString=function(ee,se){var q={};return ee.replace(r.TEMPLATE_STRING_REGEX,function($,le){var ie;return O.test(le)?ie=se[le]:(q[le]=q[le]||r.nestedProperty(se,le).get,ie=q[le]()),r.isValidTextValue(ie)?ie:""})};var N={max:10,count:0,name:"hovertemplate"};r.hovertemplateString=function(){return ae.apply(N,arguments)};var _={max:10,count:0,name:"texttemplate"};r.texttemplateString=function(){return ae.apply(_,arguments)};var U=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function Y(ee){var se=ee.match(U);return se?{key:se[1],op:se[2],number:Number(se[3])}:{key:ee,op:null,number:null}}var K={max:10,count:0,name:"texttemplate",parseMultDiv:!0};r.texttemplateStringForShapes=function(){return ae.apply(K,arguments)};var re=/^[:|\|]/;function ae(ee,se,q){var $=this,le=arguments;se||(se={});var ie={};return ee.replace(r.TEMPLATE_STRING_REGEX,function(ce,me,Me){var we=me==="xother"||me==="yother",Oe=me==="_xother"||me==="_yother",Be=me==="_xother_"||me==="_yother_",Ce=me==="xother_"||me==="yother_",xe=we||Oe||Ce||Be,Se=me;(Oe||Be)&&(Se=Se.substring(1)),(Ce||Be)&&(Se=Se.substring(0,Se.length-1));var He=null,Ge=null;if($.parseMultDiv){var ke=Y(Se);Se=ke.key,He=ke.op,Ge=ke.number}var We;if(xe){if(We=se[Se],We===void 0)return""}else{var it,et;for(et=3;et<le.length;et++)if(it=le[et],!!it){if(it.hasOwnProperty(Se)){We=it[Se];break}if(O.test(Se)||(We=r.nestedProperty(it,Se).get(),We=ie[Se]||r.nestedProperty(it,Se).get(),We&&(ie[Se]=We)),We!==void 0)break}}if(We!==void 0&&(He==="*"&&(We*=Ge),He==="/"&&(We/=Ge)),We===void 0&&$)return $.count<$.max&&(r.warn("Variable '"+Se+"' in "+$.name+" could not be found!"),We=ce),$.count===$.max&&r.warn("Too many "+$.name+" warnings - additional warnings will be suppressed"),$.count++,ce;if(Me){var tt;if(Me[0]===":"&&(tt=q?q.numberFormat:r.numberFormat,We=tt(Me.replace(re,""))(We)),Me[0]==="|"){tt=q?q.timeFormat:P;var at=r.dateTime2ms(We);We=r.formatDate(at,Me.replace(re,""),!1,tt)}}else{var ht=Se+"Label";se.hasOwnProperty(ht)&&(We=se[ht])}return xe&&(We="("+We+")",(Oe||Be)&&(We=" "+We),(Ce||Be)&&(We=We+" ")),We})}var fe=48,Q=57;r.subplotSort=function(ee,se){for(var q=Math.min(ee.length,se.length)+1,$=0,le=0,ie=0;ie<q;ie++){var ce=ee.charCodeAt(ie)||0,me=se.charCodeAt(ie)||0,Me=ce>=fe&&ce<=Q,we=me>=fe&&me<=Q;if(Me&&($=10*$+ce-fe),we&&(le=10*le+me-fe),!Me||!we){if($!==le)return $-le;if(ce!==me)return ce-me}}return le-$};var j=2e9;r.seedPseudoRandom=function(){j=2e9},r.pseudoRandom=function(){var ee=j;return j=(69069*j+1)%4294967296,Math.abs(j-ee)<429496729?r.pseudoRandom():j/4294967296},r.fillText=function(ee,se,q){var $=Array.isArray(q)?function(ce){q.push(ce)}:function(ce){q.text=ce},le=r.extractOption(ee,se,"htx","hovertext");if(r.isValidTextValue(le))return $(le);var ie=r.extractOption(ee,se,"tx","text");if(r.isValidTextValue(ie))return $(ie)},r.isValidTextValue=function(ee){return ee||ee===0},r.formatPercent=function(ee,se){se=se||0;for(var q=(Math.round(100*ee*Math.pow(10,se))*Math.pow(.1,se)).toFixed(se)+"%",$=0;$<se;$++)q.indexOf(".")!==-1&&(q=q.replace("0%","%"),q=q.replace(".%","%"));return q},r.isHidden=function(ee){var se=window.getComputedStyle(ee).display;return!se||se==="none"},r.strTranslate=function(ee,se){return ee||se?"translate("+ee+","+se+")":""},r.strRotate=function(ee){return ee?"rotate("+ee+")":""},r.strScale=function(ee){return ee!==1?"scale("+ee+")":""},r.getTextTransform=function(ee){var se=ee.noCenter,q=ee.textX,$=ee.textY,le=ee.targetX,ie=ee.targetY,ce=ee.anchorX||0,me=ee.anchorY||0,Me=ee.rotate,we=ee.scale;return we?we>1&&(we=1):we=0,r.strTranslate(le-we*(q+ce),ie-we*($+me))+r.strScale(we)+(Me?"rotate("+Me+(se?"":" "+q+" "+$)+")":"")},r.setTransormAndDisplay=function(ee,se){ee.attr("transform",r.getTextTransform(se)),ee.style("display",se.scale?null:"none")},r.ensureUniformFontSize=function(ee,se){var q=r.extendFlat({},se);return q.size=Math.max(se.size,ee._fullLayout.uniformtext.minsize||0),q},r.join2=function(ee,se,q){var $=ee.length;return $>1?ee.slice(0,-1).join(se)+q+ee[$-1]:ee.join(se)},r.bigFont=function(ee){return Math.round(1.2*ee)};var X=r.getFirefoxVersion(),J=X!==null&&X<86;r.getPositionFromD3Event=function(){return J?[g.event.layerX,g.event.layerY]:[g.event.offsetX,g.event.offsetY]}},41965:function(W){W.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},66636:function(W,H,e){var g=e(65487),P=/^\w*$/,i=0,L=1,A=2,v=3,p=4;W.exports=function(r,s,n,l){n=n||"name",l=l||"value";var f,u,m,c={};s&&s.length?(m=g(r,s),u=m.get()):u=r,s=s||"";var w={};if(u)for(f=0;f<u.length;f++)w[u[f][n]]=f;var h=P.test(l),o={set:function(d,M){var T=M===null?p:i;if(!u){if(!m||T===p)return;u=[],m.set(u)}var E=w[d];if(E===void 0){if(T===p)return;T=T|v,E=u.length,w[d]=E}else M!==(h?u[E][l]:g(u[E],l).get())&&(T=T|A);var x=u[E]=u[E]||{};return x[n]=d,h?x[l]=M:g(x,l).set(M),M!==null&&(T=T&~p),c[E]=c[E]|T,o},get:function(d){if(u){var M=w[d];if(M!==void 0)return h?u[M][l]:g(u[M],l).get()}},rename:function(d,M){var T=w[d];return T===void 0||(c[T]=c[T]|L,w[M]=T,delete w[d],u[T][n]=M),o},remove:function(d){var M=w[d];if(M===void 0)return o;var T=u[M];if(Object.keys(T).length>2)return c[M]=c[M]|A,o.set(d,null);if(h){for(f=M;f<u.length;f++)c[f]=c[f]|v;for(f=M;f<u.length;f++)w[u[f][n]]--;u.splice(M,1),delete w[d]}else g(T,l).set(null),c[M]=c[M]|A|p;return o},constructUpdate:function(){for(var d,M,T={},E=Object.keys(c),x=0;x<E.length;x++)M=E[x],d=s+"["+M+"]",u[M]?(c[M]&L&&(T[d+"."+n]=u[M][n]),c[M]&A&&(h?T[d+"."+l]=c[M]&p?null:u[M][l]:T[d+"."+l]=c[M]&p?null:g(u[M],l).get())):T[d]=null;return T}};return o}},15867:function(W,H,e){var g=e(73972);W.exports=function(i,L){for(var A=i._context.locale,v=0;v<2;v++){for(var p=i._context.locales,t=0;t<2;t++){var r=(p[A]||{}).dictionary;if(r){var s=r[L];if(s)return s}p=g.localeRegistry}var n=A.split("-")[0];if(n===A)break;A=n}return L}},47769:function(W,H,e){var g=e(72075).dfltConfig,P=e(75046),i=W.exports={};i.log=function(){var L;if(g.logging>1){var A=["LOG:"];for(L=0;L<arguments.length;L++)A.push(arguments[L]);console.trace.apply(console,A)}if(g.notifyOnLogging>1){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);P(v.join("<br>"),"long")}},i.warn=function(){var L;if(g.logging>0){var A=["WARN:"];for(L=0;L<arguments.length;L++)A.push(arguments[L]);console.trace.apply(console,A)}if(g.notifyOnLogging>0){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);P(v.join("<br>"),"stick")}},i.error=function(){var L;if(g.logging>0){var A=["ERROR:"];for(L=0;L<arguments.length;L++)A.push(arguments[L]);console.error.apply(console,A)}if(g.notifyOnLogging>0){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);P(v.join("<br>"),"stick")}}},77310:function(W,H,e){var g=e(39898);W.exports=function(i,L,A){var v=i.selectAll("g."+A.replace(/\s/g,".")).data(L,function(t){return t[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",A),v.order();var p=i.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(t){t[0][p]=g.select(this)}),v}},35657:function(W,H,e){var g=e(79576);H.init2dArray=function(P,i){for(var L=new Array(P),A=0;A<P;A++)L[A]=new Array(i);return L},H.transposeRagged=function(P){var i=0,L=P.length,A,v;for(A=0;A<L;A++)i=Math.max(i,P[A].length);var p=new Array(i);for(A=0;A<i;A++)for(p[A]=new Array(L),v=0;v<L;v++)p[A][v]=P[v][A];return p},H.dot=function(P,i){if(!(P.length&&i.length)||P.length!==i.length)return null;var L=P.length,A,v;if(P[0].length)for(A=new Array(L),v=0;v<L;v++)A[v]=H.dot(P[v],i);else if(i[0].length){var p=H.transposeRagged(i);for(A=new Array(p.length),v=0;v<p.length;v++)A[v]=H.dot(P,p[v])}else for(A=0,v=0;v<L;v++)A+=P[v]*i[v];return A},H.translationMatrix=function(P,i){return[[1,0,P],[0,1,i],[0,0,1]]},H.rotationMatrix=function(P){var i=P*Math.PI/180;return[[Math.cos(i),-Math.sin(i),0],[Math.sin(i),Math.cos(i),0],[0,0,1]]},H.rotationXYMatrix=function(P,i,L){return H.dot(H.dot(H.translationMatrix(i,L),H.rotationMatrix(P)),H.translationMatrix(-i,-L))},H.apply3DTransform=function(P){return function(){var i=arguments,L=arguments.length===1?i[0]:[i[0],i[1],i[2]||0];return H.dot(P,[L[0],L[1],L[2],1]).slice(0,3)}},H.apply2DTransform=function(P){return function(){var i=arguments;i.length===3&&(i=i[0]);var L=arguments.length===1?i[0]:[i[0],i[1]];return H.dot(P,[L[0],L[1],1]).slice(0,2)}},H.apply2DTransform2=function(P){var i=H.apply2DTransform(P);return function(L){return i(L.slice(0,2)).concat(i(L.slice(2,4)))}},H.convertCssMatrix=function(P){if(P){var i=P.length;if(i===16)return P;if(i===6)return[P[0],P[1],0,0,P[2],P[3],0,0,0,0,1,0,P[4],P[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},H.inverseTransformMatrix=function(P){var i=[];return g.invert(i,P),[[i[0],i[1],i[2],i[3]],[i[4],i[5],i[6],i[7]],[i[8],i[9],i[10],i[11]],[i[12],i[13],i[14],i[15]]]}},64872:function(W){function H(g,P){var i=g%P;return i<0?i+P:i}function e(g,P){return Math.abs(g)>P/2?g-Math.round(g/P)*P:g}W.exports={mod:H,modHalf:e}},65487:function(W,H,e){var g=e(92770),P=e(73627).isArrayOrTypedArray;W.exports=function(l,f){if(g(f))f=String(f);else if(typeof f!="string"||f.substr(f.length-4)==="[-1]")throw"bad property string";var u=f.split("."),m,c,w,h;for(h=0;h<u.length;h++)if(String(u[h]).slice(0,2)==="__")throw"bad property string";for(h=0;h<u.length;){if(m=String(u[h]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),m){if(m[1])u[h]=m[1];else if(h===0)u.splice(0,1);else throw"bad property string";for(c=m[2].substr(1,m[2].length-2).split("]["),w=0;w<c.length;w++)h++,u.splice(h,0,Number(c[w]))}h++}return typeof l!="object"?s(l,f,u):{set:v(l,u,f),get:i(l,u),astr:f,parts:u,obj:l}};function i(n,l){return function(){var f=n,u,m,c,w,h;for(w=0;w<l.length-1;w++){if(u=l[w],u===-1){for(m=!0,c=[],h=0;h<f.length;h++)c[h]=i(f[h],l.slice(w+1))(),c[h]!==c[0]&&(m=!1);return m?c[0]:c}if(typeof u=="number"&&!P(f)||(f=f[u],typeof f!="object"||f===null))return}if(!(typeof f!="object"||f===null)&&(c=f[l[w]],c!==null))return c}}var L=/(^|\.)args\[/;function A(n,l){return n===void 0||n===null&&!l.match(L)}function v(n,l,f){return function(u){var m=n,c="",w=A(u,f),h,o;for(o=0;o<l.length-1;o++){if(h=l[o],typeof h=="number"&&!P(m))throw"array index but container is not an array";if(h===-1){if(w=!t(m,l.slice(o+1),u,f),w)break;return}if(!r(m,h,l[o+1],w))break;if(m=m[h],typeof m!="object"||m===null)throw"container is not an object";c=p(c,h)}if(w){if(o===l.length-1&&(delete m[l[o]],Array.isArray(m)&&+l[o]===m.length-1))for(;m.length&&m[m.length-1]===void 0;)m.pop()}else m[l[o]]=u}}function p(n,l){var f=l;return g(l)?f="["+l+"]":n&&(f="."+l),n+f}function t(n,l,f,u){var m=P(f),c=!0,w=f,h=u.replace("-1",0),o=m?!1:A(f,h),d=l[0],M;for(M=0;M<n.length;M++)h=u.replace("-1",M),m&&(w=f[M%f.length],o=A(w,h)),o&&(c=!1),r(n,M,d,o)&&v(n[M],l,u.replace("-1",M))(w);return c}function r(n,l,f,u){if(n[l]===void 0){if(u)return!1;typeof f=="number"?n[l]=[]:n[l]={}}return!0}function s(n,l,f){return{set:function(){throw"bad container"},get:function(){},astr:l,parts:f,obj:n}}},64213:function(W){W.exports=function(){}},75046:function(W,H,e){var g=e(39898),P=e(92770),i=[];W.exports=function(L,A){if(i.indexOf(L)!==-1)return;i.push(L);var v=1e3;P(A)?v=A:A==="long"&&(v=3e3);var p=g.select("body").selectAll(".plotly-notifier").data([0]);p.enter().append("div").classed("plotly-notifier",!0);var t=p.selectAll(".notifier-note").data(i);function r(s){s.duration(700).style("opacity",0).each("end",function(n){var l=i.indexOf(n);l!==-1&&i.splice(l,1),g.select(this).remove()})}t.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(s){var n=g.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(r)});for(var l=n.append("p"),f=s.split(/<br\s*\/?>/g),u=0;u<f.length;u++)u&&l.append("br"),l.append("span").text(f[u]);A==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(v).call(r)})}},39918:function(W,H,e){var g=e(6964),P="data-savedcursor",i="!!";W.exports=function(A,v){var p=A.attr(P);if(v){if(!p){for(var t=(A.attr("class")||"").split(" "),r=0;r<t.length;r++){var s=t[r];s.indexOf("cursor-")===0&&A.attr(P,s.substr(7)).classed(s,!1)}A.attr(P)||A.attr(P,i)}g(A,v)}else p&&(A.attr(P,null),p===i?g(A):g(A,p))}},61082:function(W,H,e){var g=e(35657).dot,P=e(50606).BADNUM,i=W.exports={};i.tester=function(A){var v=A.slice(),p=v[0][0],t=p,r=v[0][1],s=r,n;for((v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1])&&v.push(v[0]),n=1;n<v.length;n++)p=Math.min(p,v[n][0]),t=Math.max(t,v[n][0]),r=Math.min(r,v[n][1]),s=Math.max(s,v[n][1]);var l=!1,f;v.length===5&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(l=!0,f=function(h){return h[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(l=!0,f=function(h){return h[1]===v[0][1]}));function u(h,o){var d=h[0],M=h[1];return!(d===P||d<p||d>t||M===P||M<r||M>s||o&&f(h))}function m(h,o){var d=h[0],M=h[1];if(d===P||d<p||d>t||M===P||M<r||M>s)return!1;var T=v.length,E=v[0][0],x=v[0][1],S=0,b,a,C,y,z;for(b=1;b<T;b++)if(a=E,C=x,E=v[b][0],x=v[b][1],y=Math.min(a,E),!(d<y||d>Math.max(a,E)||M>Math.max(C,x)))if(M<Math.min(C,x))d!==y&&S++;else{if(E===a?z=M:z=C+(d-a)*(x-C)/(E-a),M===z)return!(b===1&&o);M<=z&&d!==y&&S++}return S%2===1}var c=!0,w=v[0];for(n=1;n<v.length;n++)if(w[0]!==v[n][0]||w[1]!==v[n][1]){c=!1;break}return{xmin:p,xmax:t,ymin:r,ymax:s,pts:v,contains:l?u:m,isRect:l,degenerate:c}},i.isSegmentBent=function(A,v,p,t){var r=A[v],s=[A[p][0]-r[0],A[p][1]-r[1]],n=g(s,s),l=Math.sqrt(n),f=[-s[1]/l,s[0]/l],u,m,c;for(u=v+1;u<p;u++)if(m=[A[u][0]-r[0],A[u][1]-r[1]],c=g(m,s),c<0||c>n||Math.abs(g(m,f))>t)return!0;return!1},i.filter=function(A,v){var p=[A[0]],t=0,r=0;function s(l){A.push(l);var f=p.length,u=t;p.splice(r+1);for(var m=u+1;m<A.length;m++)(m===A.length-1||i.isSegmentBent(A,u,m+1,v))&&(p.push(A[m]),p.length<f-2&&(t=m,r=p.length-1),u=m)}if(A.length>1){var n=A.pop();s(n)}return{addPt:s,raw:A,filtered:p}}},79749:function(W,H,e){var g=e(58617),P=e(98580);W.exports=function(L,A,v){var p=L._fullLayout,t=!0;return p._glcanvas.each(function(r){if(r.regl){r.regl.preloadCachedCode(v);return}if(!(r.pick&&!p._has("parcoords"))){try{r.regl=P({canvas:this,attributes:{antialias:!r.pick,preserveDrawingBuffer:!0},pixelRatio:L._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:A||[],cachedCode:v||{}})}catch{t=!1}r.regl||(t=!1),t&&this.addEventListener("webglcontextlost",function(s){L&&L.emit&&L.emit("plotly_webglcontextlost",{event:s,layer:r.key})},!1)}}),t||g({container:p._glcontainer.node()}),t}},45142:function(W,H,e){var g=e(92770),P=e(35791);W.exports=function(A){var v;if(A&&A.hasOwnProperty("userAgent")?v=A.userAgent:v=i(),typeof v!="string")return!0;var p=P({ua:{headers:{"user-agent":v}},tablet:!0,featureDetect:!1});if(!p)for(var t=v.split(" "),r=1;r<t.length;r++){var s=t[r];if(s.indexOf("Safari")!==-1)for(var n=r-1;n>-1;n--){var l=t[n];if(l.substr(0,8)==="Version/"){var f=l.substr(8).split(".")[0];if(g(f)&&(f=+f),f>=13)return!0}}}return p};function i(){var L;return typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),L}},75138:function(W){W.exports=function(e,g){if(g instanceof RegExp){for(var P=g.toString(),i=0;i<e.length;i++)if(e[i]instanceof RegExp&&e[i].toString()===P)return e;e.push(g)}else(g||g===0)&&e.indexOf(g)===-1&&e.push(g);return e}},10847:function(W,H,e){var g=e(71828),P=e(72075).dfltConfig;function i(A,v){for(var p=[],t,r=0;r<v.length;r++)t=v[r],t===A?p[r]=t:typeof t=="object"?p[r]=Array.isArray(t)?g.extendDeep([],t):g.extendDeepAll({},t):p[r]=t;return p}var L={};L.add=function(A,v,p,t,r){var s,n;if(A.undoQueue=A.undoQueue||{index:0,queue:[],sequence:!1},n=A.undoQueue.index,A.autoplay){A.undoQueue.inSequence||(A.autoplay=!1);return}!A.undoQueue.sequence||A.undoQueue.beginSequence?(s={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},A.undoQueue.queue.splice(n,A.undoQueue.queue.length-n,s),A.undoQueue.index+=1):s=A.undoQueue.queue[n-1],A.undoQueue.beginSequence=!1,s&&(s.undo.calls.unshift(v),s.undo.args.unshift(p),s.redo.calls.push(t),s.redo.args.push(r)),A.undoQueue.queue.length>P.queueLength&&(A.undoQueue.queue.shift(),A.undoQueue.index--)},L.startSequence=function(A){A.undoQueue=A.undoQueue||{index:0,queue:[],sequence:!1},A.undoQueue.sequence=!0,A.undoQueue.beginSequence=!0},L.stopSequence=function(A){A.undoQueue=A.undoQueue||{index:0,queue:[],sequence:!1},A.undoQueue.sequence=!1,A.undoQueue.beginSequence=!1},L.undo=function(v){var p,t;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index<=0)){for(v.undoQueue.index--,p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,t=0;t<p.undo.calls.length;t++)L.plotDo(v,p.undo.calls[t],p.undo.args[t]);v.undoQueue.inSequence=!1,v.autoplay=!1}},L.redo=function(v){var p,t;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index>=v.undoQueue.queue.length)){for(p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,t=0;t<p.redo.calls.length;t++)L.plotDo(v,p.redo.calls[t],p.redo.args[t]);v.undoQueue.inSequence=!1,v.autoplay=!1,v.undoQueue.index++}},L.plotDo=function(A,v,p){A.autoplay=!0,p=i(A,p),v.apply(null,p)},W.exports=L},30587:function(W,H){H.counter=function(e,g,P,i){var L=(g||"")+(P?"":"$"),A=i===!1?"":"^";return e==="xy"?new RegExp(A+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+L):new RegExp(A+e+"([2-9]|[1-9][0-9]+)?"+L)}},6962:function(W){var H=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;W.exports=function(g,P){for(;P;){var i=g.match(H);if(i)g=i[1];else if(g.match(e))g="";else throw new Error("bad relativeAttr call:"+[g,P]);if(P.charAt(0)==="^")P=P.slice(1);else break}return g&&P.charAt(0)!=="["?g+"."+P:g+P}},51332:function(W,H,e){var g=e(73627).isArrayOrTypedArray,P=e(41965);W.exports=function i(L,A){for(var v in A){var p=A[v],t=L[v];if(t!==p)if(v.charAt(0)==="_"||typeof p=="function"){if(v in L)continue;L[v]=p}else if(g(p)&&g(t)&&P(p[0])){if(v==="customdata"||v==="ids")continue;for(var r=Math.min(p.length,t.length),s=0;s<r;s++)t[s]!==p[s]&&P(p[s])&&P(t[s])&&i(t[s],p[s])}else P(p)&&P(t)&&(i(t,p),Object.keys(t).length||delete L[v])}}},65888:function(W,H,e){var g=e(92770),P=e(47769),i=e(23389),L=e(50606).BADNUM,A=1e-9;H.findBin=function(s,n,l){if(g(n.start))return l?Math.ceil((s-n.start)/n.size-A)-1:Math.floor((s-n.start)/n.size+A);var f=0,u=n.length,m=0,c=u>1?(n[u-1]-n[0])/(u-1):1,w,h;for(c>=0?h=l?v:p:h=l?r:t,s+=c*A*(l?-1:1)*(c>=0?1:-1);f<u&&m++<100;)w=Math.floor((f+u)/2),h(n[w],s)?f=w+1:u=w;return m>90&&P.log("Long binary search..."),f-1};function v(s,n){return s<n}function p(s,n){return s<=n}function t(s,n){return s>n}function r(s,n){return s>=n}H.sorterAsc=function(s,n){return s-n},H.sorterDes=function(s,n){return n-s},H.distinctVals=function(s){var n=s.slice();n.sort(H.sorterAsc);var l;for(l=n.length-1;l>-1&&n[l]===L;l--);for(var f=n[l]-n[0]||1,u=f/(l||1)/1e4,m=[],c,w=0;w<=l;w++){var h=n[w],o=h-c;c===void 0?(m.push(h),c=h):o>u&&(f=Math.min(f,o),m.push(h),c=h)}return{vals:m,minDiff:f}},H.roundUp=function(s,n,l){for(var f=0,u=n.length-1,m,c=0,w=l?0:1,h=l?1:0,o=l?Math.ceil:Math.floor;f<u&&c++<100;)m=o((f+u)/2),n[m]<=s?f=m+w:u=m-h;return n[f]},H.sort=function(s,n){for(var l=0,f=0,u=1;u<s.length;u++){var m=n(s[u],s[u-1]);if(m<0?l=1:m>0&&(f=1),l&&f)return s.sort(n)}return f?s:s.reverse()},H.findIndexOfMin=function(s,n){n=n||i;for(var l=1/0,f,u=0;u<s.length;u++){var m=n(s[u]);m<l&&(l=m,f=u)}return f}},6964:function(W){W.exports=function(e,g){(e.attr("class")||"").split(" ").forEach(function(P){P.indexOf("cursor-")===0&&e.classed(P,!1)}),g&&e.classed("cursor-"+g,!0)}},58617:function(W,H,e){var g=e(7901),P=function(){};W.exports=function(L){for(var A in L)typeof L[A]=="function"&&(L[A]=P);L.destroy=function(){L.container.parentNode.removeChild(L.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=g.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=g.lightLine,v.style["z-index"]=30;var p=document.createElement("p");return p.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",p.style.position="relative",p.style.top="50%",p.style.left="50%",p.style.height="30%",p.style.width="50%",p.style.margin="-15% 0 0 -25%",v.appendChild(p),L.container.appendChild(v),L.container.style.background="#FFFFFF",L.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(W){W.exports=function(e){return Object.keys(e).sort()}},80038:function(W,H,e){var g=e(92770),P=e(73627).isArrayOrTypedArray;H.aggNums=function(i,L,A,v){var p,t;if((!v||v>A.length)&&(v=A.length),g(L)||(L=!1),P(A[0])){for(t=new Array(v),p=0;p<v;p++)t[p]=H.aggNums(i,L,A[p]);A=t}for(p=0;p<v;p++)g(L)?g(A[p])&&(L=i(+L,+A[p])):L=A[p];return L},H.len=function(i){return H.aggNums(function(L){return L+1},0,i)},H.mean=function(i,L){return L||(L=H.len(i)),H.aggNums(function(A,v){return A+v},0,i)/L},H.midRange=function(i){if(!(i===void 0||i.length===0))return(H.aggNums(Math.max,null,i)+H.aggNums(Math.min,null,i))/2},H.variance=function(i,L,A){return L||(L=H.len(i)),g(A)||(A=H.mean(i,L)),H.aggNums(function(v,p){return v+Math.pow(p-A,2)},0,i)/L},H.stdev=function(i,L,A){return Math.sqrt(H.variance(i,L,A))},H.median=function(i){var L=i.slice().sort();return H.interp(L,.5)},H.interp=function(i,L){if(!g(L))throw"n should be a finite number";if(L=L*i.length-.5,L<0)return i[0];if(L>i.length-1)return i[i.length-1];var A=L%1;return A*i[Math.ceil(L)]+(1-A)*i[Math.floor(L)]}},78614:function(W,H,e){var g=e(25075);function P(i){return i?g(i):[0,0,0,1]}W.exports=P},3883:function(W,H,e){var g=e(32396),P=e(91424),i=e(71828),L=null;function A(){if(L!==null)return L;L=!1;var v=i.isIE()||i.isSafari()||i.isIOS();if(window.navigator.userAgent&&!v){var p=Array.from(g.CSS_DECLARATIONS).reverse(),t=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof t=="function")L=p.some(function(l){return t.apply(null,l)});else{var r=P.tester.append("image").attr("style",g.STYLE),s=window.getComputedStyle(r.node()),n=s.imageRendering;L=p.some(function(l){var f=l[1];return n===f||n===f.toLowerCase()}),r.remove()}}return L}W.exports=A},63893:function(W,H,e){var g=e(39898),P=e(71828),i=P.strTranslate,L=e(77922),A=e(18783).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;H.convertToTspans=function(N,_,U){var Y=N.text(),K=!N.attr("data-notex")&&_&&_._context.typesetMath&&typeof MathJax<"u"&&Y.match(v),re=g.select(N.node().parentNode);if(re.empty())return;var ae=N.attr("class")?N.attr("class").split(" ")[0]:"text";ae+="-math",re.selectAll("svg."+ae).remove(),re.selectAll("g."+ae+"-group").remove(),N.style("display",null).attr({"data-unformatted":Y,"data-math":"N"});function fe(){re.empty()||(ae=N.attr("class")+"-math",re.select("svg."+ae).remove()),N.text("").style("white-space","pre");var Q=I(N.node(),Y);Q&&N.style("pointer-events","all"),H.positionText(N),U&&U.call(N)}return K?(_&&_._promises||[]).push(new Promise(function(Q){N.style("display","none");var j=parseInt(N.node().style.fontSize,10),X={fontSize:j};n(K[2],X,function(J,ee,se){re.selectAll("svg."+ae).remove(),re.selectAll("g."+ae+"-group").remove();var q=J&&J.select("svg");if(!q||!q.node()){fe(),Q();return}var $=re.append("g").classed(ae+"-group",!0).attr({"pointer-events":"none","data-unformatted":Y,"data-math":"Y"});$.node().appendChild(q.node()),ee&&ee.node()&&q.node().insertBefore(ee.node().cloneNode(!0),q.node().firstChild);var le=se.width,ie=se.height;q.attr({class:ae,height:ie,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var ce=N.node().style.fill||"black",me=q.select("g");me.attr({fill:ce,stroke:ce});var Me=me.node().getBoundingClientRect(),we=Me.width,Oe=Me.height;(we>le||Oe>ie)&&(q.style("overflow","hidden"),Me=q.node().getBoundingClientRect(),we=Me.width,Oe=Me.height);var Be=+N.attr("x"),Ce=+N.attr("y"),xe=j||N.node().getBoundingClientRect().height,Se=-xe/4;if(ae[0]==="y")$.attr({transform:"rotate("+[-90,Be,Ce]+")"+i(-we/2,Se-Oe/2)});else if(ae[0]==="l")Ce=Se-Oe/2;else if(ae[0]==="a"&&ae.indexOf("atitle")!==0)Be=0,Ce=Se;else{var He=N.attr("text-anchor");Be=Be-we*(He==="middle"?.5:He==="end"?1:0),Ce=Ce+Se-Oe/2}q.attr({x:Be,y:Ce}),U&&U.call(N,$),Q($)})})):fe(),N};var p=/(<|&lt;|&#60;)/g,t=/(>|&gt;|&#62;)/g;function r(N){return N.replace(p,"\\lt ").replace(t,"\\gt ")}var s=[["$","$"],["\\(","\\)"]];function n(N,_,U){var Y=parseInt((MathJax.version||"").split(".")[0]);if(Y!==2&&Y!==3){P.warn("No MathJax version:",MathJax.version);return}var K,re,ae,fe,Q=function(){return re=P.extendDeepAll({},MathJax.Hub.config),ae=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:s},displayAlign:"left"})},j=function(){re=P.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=s},X=function(){if(K=MathJax.Hub.config.menuSettings.renderer,K!=="SVG")return MathJax.Hub.setRenderer("SVG")},J=function(){K=MathJax.config.startup.output,K!=="svg"&&(MathJax.config.startup.output="svg")},ee=function(){var ce="math-output-"+P.randstr({},64);fe=g.select("body").append("div").attr({id:ce}).style({visibility:"hidden",position:"absolute","font-size":_.fontSize+"px"}).text(r(N));var me=fe.node();return Y===2?MathJax.Hub.Typeset(me):MathJax.typeset([me])},se=function(){var ce=fe.select(Y===2?".MathJax_SVG":".MathJax"),me=!ce.empty()&&fe.select("svg").node();if(!me)P.log("There was an error in the tex syntax.",N),U();else{var Me=me.getBoundingClientRect(),we;Y===2?we=g.select("body").select("#MathJax_SVG_glyphs"):we=ce.select("defs"),U(ce,we,Me)}fe.remove()},q=function(){if(K!=="SVG")return MathJax.Hub.setRenderer(K)},$=function(){K!=="svg"&&(MathJax.config.startup.output=K)},le=function(){return ae!==void 0&&(MathJax.Hub.processSectionDelay=ae),MathJax.Hub.Config(re)},ie=function(){MathJax.config=re};Y===2?MathJax.Hub.Queue(Q,X,ee,se,q,le):Y===3&&(j(),J(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){ee(),se(),$(),ie()}))}var l={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},f={sub:"0.3em",sup:"-0.6em"},u={sub:"-0.21em",sup:"0.42em"},m="",c=["http:","https:","mailto:","",void 0,":"],w=H.NEWLINES=/(\r\n?|\n)/g,h=/(<[^<>]*>)/,o=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;H.BR_TAG_ALL=/<br(\s+.*)?>/gi;var M=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,T=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,E=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,x=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function S(N,_){if(!N)return null;var U=N.match(_),Y=U&&(U[3]||U[4]);return Y&&y(Y)}var b=/(^|;)\s*color:/;H.plainText=function(N,_){_=_||{};for(var U=_.len!==void 0&&_.len!==-1?_.len:1/0,Y=_.allowedTags!==void 0?_.allowedTags:["br"],K="...",re=K.length,ae=N.split(h),fe=[],Q="",j=0,X=0;X<ae.length;X++){var J=ae[X],ee=J.match(o),se=ee&&ee[2].toLowerCase();if(se)Y.indexOf(se)!==-1&&(fe.push(J),Q=se);else{var q=J.length;if(j+q<U)fe.push(J),j+=q;else if(j<U){var $=U-j;Q&&(Q!=="br"||$<=re||q<=re)&&fe.pop(),U>re?fe.push(J.substr(0,$-re)+K):fe.push(J.substr(0,$));break}Q=""}}return fe.join("")};var a={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},C=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function y(N){return N.replace(C,function(_,U){var Y;return U.charAt(0)==="#"?Y=z(U.charAt(1)==="x"?parseInt(U.substr(2),16):parseInt(U.substr(1),10)):Y=a[U],Y||_})}H.convertEntities=y;function z(N){if(!(N>1114111)){var _=String.fromCodePoint;if(_)return _(N);var U=String.fromCharCode;return N<=65535?U(N):U((N>>10)+55232,N%1024+56320)}}function I(N,_){_=_.replace(w," ");var U=!1,Y=[],K,re=-1;function ae(){re++;var Oe=document.createElementNS(L.svg,"tspan");g.select(Oe).attr({class:"line",dy:re*A+"em"}),N.appendChild(Oe),K=Oe;var Be=Y;if(Y=[{node:Oe}],Be.length>1)for(var Ce=1;Ce<Be.length;Ce++)fe(Be[Ce])}function fe(Oe){var Be=Oe.type,Ce={},xe;if(Be==="a"){xe="a";var Se=Oe.target,He=Oe.href,Ge=Oe.popup;He&&(Ce={"xlink:xlink:show":Se==="_blank"||Se.charAt(0)!=="_"?"new":"replace",target:Se,"xlink:xlink:href":He},Ge&&(Ce.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ge+'");return false;'))}else xe="tspan";Oe.style&&(Ce.style=Oe.style);var ke=document.createElementNS(L.svg,xe);if(Be==="sup"||Be==="sub"){Q(K,m),K.appendChild(ke);var We=document.createElementNS(L.svg,"tspan");Q(We,m),g.select(We).attr("dy",u[Be]),Ce.dy=f[Be],K.appendChild(ke),K.appendChild(We)}else K.appendChild(ke);g.select(ke).attr(Ce),K=Oe.node=ke,Y.push(Oe)}function Q(Oe,Be){Oe.appendChild(document.createTextNode(Be))}function j(Oe){if(Y.length===1){P.log("Ignoring unexpected end tag </"+Oe+">.",_);return}var Be=Y.pop();Oe!==Be.type&&P.log("Start tag <"+Be.type+"> doesnt match end tag <"+Oe+">. Pretending it did match.",_),K=Y[Y.length-1].node}var X=d.test(_);X?ae():(K=N,Y=[{node:N}]);for(var J=_.split(h),ee=0;ee<J.length;ee++){var se=J[ee],q=se.match(o),$=q&&q[2].toLowerCase(),le=l[$];if($==="br")ae();else if(le===void 0)Q(K,y(se));else if(q[1])j($);else{var ie=q[4],ce={type:$},me=S(ie,M);if(me?(me=me.replace(b,"$1 fill:"),le&&(me+=";"+le)):le&&(me=le),me&&(ce.style=me),$==="a"){U=!0;var Me=S(ie,T);if(Me){var we=B(Me);we&&(ce.href=we,ce.target=S(ie,E)||"_blank",ce.popup=S(ie,x))}}fe(ce)}}return U}function B(N){var _=encodeURI(decodeURI(N)),U=document.createElement("a"),Y=document.createElement("a");U.href=N,Y.href=_;var K=U.protocol,re=Y.protocol;return c.indexOf(K)!==-1&&c.indexOf(re)!==-1?_:""}H.sanitizeHTML=function(_){_=_.replace(w," ");for(var U=document.createElement("p"),Y=U,K=[],re=_.split(h),ae=0;ae<re.length;ae++){var fe=re[ae],Q=fe.match(o),j=Q&&Q[2].toLowerCase();if(j in l)if(Q[1])K.length&&(Y=K.pop());else{var X=Q[4],J=S(X,M),ee=J?{style:J}:{};if(j==="a"){var se=S(X,T);if(se){var q=B(se);if(q){ee.href=q;var $=S(X,E);$&&(ee.target=$)}}}var le=document.createElement(j);Y.appendChild(le),g.select(le).attr(ee),Y=le,K.push(le)}else Y.appendChild(document.createTextNode(y(fe)))}var ie="innerHTML";return U[ie]},H.lineCount=function(_){return _.selectAll("tspan.line").size()||1},H.positionText=function(_,U,Y){return _.each(function(){var K=g.select(this);function re(Q,j){return j===void 0?(j=K.attr(Q),j===null&&(K.attr(Q,0),j=0)):K.attr(Q,j),j}var ae=re("x",U),fe=re("y",Y);this.nodeName==="text"&&K.selectAll("tspan.line").attr({x:ae,y:fe})})};function F(N,_,U){var Y=U.horizontalAlign,K=U.verticalAlign||"top",re=N.node().getBoundingClientRect(),ae=_.node().getBoundingClientRect(),fe,Q,j;return K==="bottom"?Q=function(){return re.bottom-fe.height}:K==="middle"?Q=function(){return re.top+(re.height-fe.height)/2}:Q=function(){return re.top},Y==="right"?j=function(){return re.right-fe.width}:Y==="center"?j=function(){return re.left+(re.width-fe.width)/2}:j=function(){return re.left},function(){fe=this.node().getBoundingClientRect();var X=j()-ae.left,J=Q()-ae.top,ee=U.gd||{};if(U.gd){ee._fullLayout._calcInverseTransform(ee);var se=P.apply3DTransform(ee._fullLayout._invTransform)(X,J);X=se[0],J=se[1]}return this.style({top:J+"px",left:X+"px","z-index":1e3}),this}}var O="1px ";H.makeTextShadow=function(N){var _=O,U=O,Y=O;return _+U+Y+N+", -"+_+"-"+U+Y+N+", "+_+"-"+U+Y+N+", -"+_+U+Y+N},H.makeEditable=function(N,_){var U=_.gd,Y=_.delegate,K=g.dispatch("edit","input","cancel"),re=Y||N;if(N.style({"pointer-events":Y?"none":"all"}),N.size()!==1)throw new Error("boo");function ae(){Q(),N.style({opacity:0});var j=re.attr("class"),X;j?X="."+j.split(" ")[0]+"-math-group":X="[class*=-math-group]",X&&g.select(N.node().parentNode).select(X).style({opacity:0})}function fe(j){var X=j.node(),J=document.createRange();J.selectNodeContents(X);var ee=window.getSelection();ee.removeAllRanges(),ee.addRange(J),X.focus()}function Q(){var j=g.select(U),X=j.select(".svg-container"),J=X.append("div"),ee=N.node().style,se=parseFloat(ee.fontSize||12),q=_.text;q===void 0&&(q=N.attr("data-unformatted")),J.classed("plugin-editable editable",!0).style({position:"absolute","font-family":ee.fontFamily||"Arial","font-size":se,color:_.fill||ee.fill||"black",opacity:1,"background-color":_.background||"transparent",outline:"#ffffff33 1px solid",margin:[-se/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(q).call(F(N,X,_)).on("blur",function(){U._editing=!1,N.text(this.textContent).style({opacity:1});var $=g.select(this).attr("class"),le;$?le="."+$.split(" ")[0]+"-math-group":le="[class*=-math-group]",le&&g.select(N.node().parentNode).select(le).style({opacity:0});var ie=this.textContent;g.select(this).transition().duration(0).remove(),g.select(document).on("mouseup",null),K.edit.call(N,ie)}).on("focus",function(){var $=this;U._editing=!0,g.select(document).on("mouseup",function(){if(g.event.target===$)return!1;document.activeElement===J.node()&&J.node().blur()})}).on("keyup",function(){g.event.which===27?(U._editing=!1,N.style({opacity:1}),g.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),K.cancel.call(N,this.textContent)):(K.input.call(N,this.textContent),g.select(this).call(F(N,X,_)))}).on("keydown",function(){g.event.which===13&&this.blur()}).call(fe)}return _.immediate?ae():re.on("click",ae),g.rebind(N,K,"on")}},79990:function(W,H){var e={};H.throttle=function(i,L,A){var v=e[i],p=Date.now();if(!v){for(var t in e)e[t].ts<p-6e4&&delete e[t];v=e[i]={ts:0,timer:null}}g(v);function r(){A(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}if(p>v.ts+L){r();return}v.timer=setTimeout(function(){r(),v.timer=null},L)},H.done=function(P){var i=e[P];return!i||!i.timer?Promise.resolve():new Promise(function(L){var A=i.onDone;i.onDone=function(){A&&A(),L(),i.onDone=null}})},H.clear=function(P){if(P)g(e[P]),delete e[P];else for(var i in e)H.clear(i)};function g(P){P&&P.timer!==null&&(clearTimeout(P.timer),P.timer=null)}},58163:function(W,H,e){var g=e(92770);W.exports=function(i,L){if(i>0)return Math.log(i)/Math.LN10;var A=Math.log(Math.min(L[0],L[1]))/Math.LN10;return g(A)||(A=Math.log(Math.max(L[0],L[1]))/Math.LN10-6),A}},90973:function(W,H,e){var g=W.exports={},P=e(78776).locationmodeToLayer,i=e(96892).zL;g.getTopojsonName=function(L){return[L.scope.replace(/ /g,"-"),"_",L.resolution.toString(),"m"].join("")},g.getTopojsonPath=function(L,A){return L+A+".json"},g.getTopojsonFeatures=function(L,A){var v=P[L.locationmode],p=A.objects[v];return i(A,p).features}},37815:function(W){W.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(W){W.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(W,H,e){var g=e(73972);W.exports=function(i){for(var L=g.layoutArrayContainers,A=g.layoutArrayRegexes,v=i.split("[")[0],p,t,r=0;r<A.length;r++)if(t=i.match(A[r]),t&&t.index===0){p=t[0];break}if(p||(p=L[L.indexOf(v)]),!p)return!1;var s=i.substr(p.length);return s?(t=s.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),t?{array:p,index:Number(t[1]),property:t[3]||""}:!1):{array:p,index:"",property:""}}},30962:function(W,H,e){var g=e(1426).extendFlat,P=e(41965),i={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},L={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},A=i.flags.slice().concat(["fullReplot"]),v=L.flags.slice().concat("layoutReplot");W.exports={traces:i,layout:L,traceFlags:function(){return p(A)},layoutFlags:function(){return p(v)},update:function(s,n){var l=n.editType;if(l&&l!=="none")for(var f=l.split("+"),u=0;u<f.length;u++)s[f[u]]=!0},overrideAll:t};function p(s){for(var n={},l=0;l<s.length;l++)n[s[l]]=!1;return n}function t(s,n,l){var f=g({},s);for(var u in f){var m=f[u];P(m)&&(f[u]=r(m,n,l,u))}return l==="from-root"&&(f.editType=n),f}function r(s,n,l,f){if(s.valType){var u=g({},s);if(u.editType=n,Array.isArray(s.items)){u.items=new Array(s.items.length);for(var m=0;m<s.items.length;m++)u.items[m]=r(s.items[m],n)}return u}else return t(s,n,f.charAt(0)==="_"?"nested":"from-root")}},58377:function(W,H,e){var g=e(92770),P=e(27812),i=e(73972),L=e(71828),A=e(74875),v=e(41675),p=e(7901),t=v.cleanId,r=v.getFromTrace,s=i.traceIs;H.clearPromiseQueue=function(d){Array.isArray(d._promises)&&d._promises.length>0&&L.log("Clearing previous rejected promises from queue."),d._promises=[]},H.cleanLayout=function(d){var M,T;d||(d={}),d.xaxis1&&(d.xaxis||(d.xaxis=d.xaxis1),delete d.xaxis1),d.yaxis1&&(d.yaxis||(d.yaxis=d.yaxis1),delete d.yaxis1),d.scene1&&(d.scene||(d.scene=d.scene1),delete d.scene1);var E=(A.subplotsRegistry.cartesian||{}).attrRegex,x=(A.subplotsRegistry.polar||{}).attrRegex,S=(A.subplotsRegistry.ternary||{}).attrRegex,b=(A.subplotsRegistry.gl3d||{}).attrRegex,a=Object.keys(d);for(M=0;M<a.length;M++){var C=a[M];if(E&&E.test(C)){var y=d[C];y.anchor&&y.anchor!=="free"&&(y.anchor=t(y.anchor)),y.overlaying&&(y.overlaying=t(y.overlaying)),y.type||(y.isdate?y.type="date":y.islog?y.type="log":y.isdate===!1&&y.islog===!1&&(y.type="linear")),(y.autorange==="withzero"||y.autorange==="tozero")&&(y.autorange=!0,y.rangemode="tozero"),y.insiderange&&delete y.range,delete y.islog,delete y.isdate,delete y.categories,c(y,"domain")&&delete y.domain,y.autotick!==void 0&&(y.tickmode===void 0&&(y.tickmode=y.autotick?"auto":"linear"),delete y.autotick),l(y)}else if(x&&x.test(C)){var z=d[C];l(z.radialaxis)}else if(S&&S.test(C)){var I=d[C];l(I.aaxis),l(I.baxis),l(I.caxis)}else if(b&&b.test(C)){var B=d[C],F=B.cameraposition;if(Array.isArray(F)&&F[0].length===4){var O=F[0],N=F[1],_=F[2],U=P([],O),Y=[];for(T=0;T<3;++T)Y[T]=N[T]+_*U[2+4*T];B.camera={eye:{x:Y[0],y:Y[1],z:Y[2]},center:{x:N[0],y:N[1],z:N[2]},up:{x:0,y:0,z:1}},delete B.cameraposition}l(B.xaxis),l(B.yaxis),l(B.zaxis)}}var K=Array.isArray(d.annotations)?d.annotations.length:0;for(M=0;M<K;M++){var re=d.annotations[M];L.isPlainObject(re)&&(re.ref&&(re.ref==="paper"?(re.xref="paper",re.yref="paper"):re.ref==="data"&&(re.xref="x",re.yref="y"),delete re.ref),n(re,"xref"),n(re,"yref"))}var ae=Array.isArray(d.shapes)?d.shapes.length:0;for(M=0;M<ae;M++){var fe=d.shapes[M];L.isPlainObject(fe)&&(n(fe,"xref"),n(fe,"yref"))}var Q=Array.isArray(d.images)?d.images.length:0;for(M=0;M<Q;M++){var j=d.images[M];L.isPlainObject(j)&&(n(j,"xref"),n(j,"yref"))}var X=d.legend;return X&&(X.x>3?(X.x=1.02,X.xanchor="left"):X.x<-2&&(X.x=-.02,X.xanchor="right"),X.y>3?(X.y=1.02,X.yanchor="bottom"):X.y<-2&&(X.y=-.02,X.yanchor="top")),l(d),d.dragmode==="rotate"&&(d.dragmode="orbit"),p.clean(d),d.template&&d.template.layout&&H.cleanLayout(d.template.layout),d};function n(d,M){var T=d[M],E=M.charAt(0);T&&T!=="paper"&&(d[M]=t(T,E,!0))}function l(d){d&&((typeof d.title=="string"||typeof d.title=="number")&&(d.title={text:d.title}),M("titlefont","font"),M("titleposition","position"),M("titleside","side"),M("titleoffset","offset"));function M(T,E){var x=d[T],S=d.title&&d.title[E];x&&!S&&(d.title||(d.title={}),d.title[E]=d[T],delete d[T])}}H.cleanData=function(d){for(var M=0;M<d.length;M++){var T=d[M],E;if(T.type==="histogramy"&&"xbins"in T&&!("ybins"in T)&&(T.ybins=T.xbins,delete T.xbins),T.error_y&&"opacity"in T.error_y){var x=p.defaults,S=T.error_y.color||(s(T,"bar")?p.defaultLine:x[M%x.length]);T.error_y.color=p.addOpacity(p.rgb(S),p.opacity(S)*T.error_y.opacity),delete T.error_y.opacity}if("bardir"in T&&(T.bardir==="h"&&(s(T,"bar")||T.type.substr(0,9)==="histogram")&&(T.orientation="h",H.swapXYData(T)),delete T.bardir),T.type==="histogramy"&&H.swapXYData(T),(T.type==="histogramx"||T.type==="histogramy")&&(T.type="histogram"),"scl"in T&&!("colorscale"in T)&&(T.colorscale=T.scl,delete T.scl),"reversescl"in T&&!("reversescale"in T)&&(T.reversescale=T.reversescl,delete T.reversescl),T.xaxis&&(T.xaxis=t(T.xaxis,"x")),T.yaxis&&(T.yaxis=t(T.yaxis,"y")),s(T,"gl3d")&&T.scene&&(T.scene=A.subplotsRegistry.gl3d.cleanId(T.scene)),!s(T,"pie-like")&&!s(T,"bar-like"))if(Array.isArray(T.textposition))for(E=0;E<T.textposition.length;E++)T.textposition[E]=m(T.textposition[E]);else T.textposition&&(T.textposition=m(T.textposition));var b=i.getModule(T);if(b&&b.colorbar){var a=b.colorbar.container,C=a?T[a]:T;C&&C.colorscale&&(C.colorscale==="YIGnBu"&&(C.colorscale="YlGnBu"),C.colorscale==="YIOrRd"&&(C.colorscale="YlOrRd"))}if(T.type==="surface"&&L.isPlainObject(T.contours)){var y=["x","y","z"];for(E=0;E<y.length;E++){var z=T.contours[y[E]];L.isPlainObject(z)&&(z.highlightColor&&(z.highlightcolor=z.highlightColor,delete z.highlightColor),z.highlightWidth&&(z.highlightwidth=z.highlightWidth,delete z.highlightWidth))}}if(T.type==="candlestick"||T.type==="ohlc"){var I=(T.increasing||{}).showlegend!==!1,B=(T.decreasing||{}).showlegend!==!1,F=f(T.increasing),O=f(T.decreasing);if(F!==!1&&O!==!1){var N=u(F,O,I,B);N&&(T.name=N)}else(F||O)&&!T.name&&(T.name=F||O)}if(Array.isArray(T.transforms)){var _=T.transforms;for(E=0;E<_.length;E++){var U=_[E];if(L.isPlainObject(U))switch(U.type){case"filter":U.filtersrc&&(U.target=U.filtersrc,delete U.filtersrc),U.calendar&&(U.valuecalendar||(U.valuecalendar=U.calendar),delete U.calendar);break;case"groupby":if(U.styles=U.styles||U.style,U.styles&&!Array.isArray(U.styles)){var Y=U.styles,K=Object.keys(Y);U.styles=[];for(var re=0;re<K.length;re++)U.styles.push({target:K[re],value:Y[K[re]]})}break}}}c(T,"line")&&delete T.line,"marker"in T&&(c(T.marker,"line")&&delete T.marker.line,c(T,"marker")&&delete T.marker),p.clean(T),T.autobinx&&(delete T.autobinx,delete T.xbins),T.autobiny&&(delete T.autobiny,delete T.ybins),l(T),T.colorbar&&l(T.colorbar),T.marker&&T.marker.colorbar&&l(T.marker.colorbar),T.line&&T.line.colorbar&&l(T.line.colorbar),T.aaxis&&l(T.aaxis),T.baxis&&l(T.baxis)}};function f(d){if(!L.isPlainObject(d))return!1;var M=d.name;return delete d.name,delete d.showlegend,(typeof M=="string"||typeof M=="number")&&String(M)}function u(d,M,T,E){if(T&&!E)return d;if(E&&!T||!d.trim())return M;if(!M.trim())return d;var x=Math.min(d.length,M.length),S;for(S=0;S<x&&d.charAt(S)===M.charAt(S);S++);var b=d.substr(0,S);return b.trim()}function m(d){var M="middle",T="center";return typeof d=="string"&&(d.indexOf("top")!==-1?M="top":d.indexOf("bottom")!==-1&&(M="bottom"),d.indexOf("left")!==-1?T="left":d.indexOf("right")!==-1&&(T="right")),M+" "+T}function c(d,M){return M in d&&typeof d[M]=="object"&&Object.keys(d[M]).length===0}H.swapXYData=function(d){var M;if(L.swapAttrs(d,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(d.z)&&Array.isArray(d.z[0])&&(d.transpose?delete d.transpose:d.transpose=!0),d.error_x&&d.error_y){var T=d.error_y,E="copy_ystyle"in T?T.copy_ystyle:!(T.color||T.thickness||T.width);L.swapAttrs(d,["error_?.copy_ystyle"]),E&&L.swapAttrs(d,["error_?.color","error_?.thickness","error_?.width"])}if(typeof d.hoverinfo=="string"){var x=d.hoverinfo.split("+");for(M=0;M<x.length;M++)x[M]==="x"?x[M]="y":x[M]==="y"&&(x[M]="x");d.hoverinfo=x.join("+")}},H.coerceTraceIndices=function(d,M){if(g(M))return[M];if(!Array.isArray(M)||!M.length)return d.data.map(function(x,S){return S});if(Array.isArray(M)){for(var T=[],E=0;E<M.length;E++)L.isIndex(M[E],d.data.length)?T.push(M[E]):L.warn("trace index (",M[E],") is not a number or is out of bounds");return T}return M},H.manageArrayContainers=function(d,M,T){var E=d.obj,x=d.parts,S=x.length,b=x[S-1],a=g(b);if(a&&M===null){var C=x.slice(0,S-1).join("."),y=L.nestedProperty(E,C).get();y.splice(b,1)}else a&&d.get()===void 0&&d.get()===void 0&&(T[d.astr]=null),d.set(M)};var w=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function h(d){var M=d.search(w);if(M>0)return d.substr(0,M)}H.hasParent=function(d,M){for(var T=h(M);T;){if(T in d)return!0;T=h(T)}return!1};var o=["x","y","z"];H.clearAxisTypes=function(d,M,T){for(var E=0;E<M.length;E++)for(var x=d._fullData[E],S=0;S<3;S++){var b=r(d,x,o[S]);if(b&&b.type!=="log"){var a=b._name,C=b._id.substr(1);if(C.substr(0,5)==="scene"){if(T[C]!==void 0)continue;a=C+"."+a}var y=a+".type";T[a]===void 0&&T[y]===void 0&&L.nestedProperty(d.layout,y).set(null)}}}},10641:function(W,H,e){var g=e(72391);H._doPlot=g._doPlot,H.newPlot=g.newPlot,H.restyle=g.restyle,H.relayout=g.relayout,H.redraw=g.redraw,H.update=g.update,H._guiRestyle=g._guiRestyle,H._guiRelayout=g._guiRelayout,H._guiUpdate=g._guiUpdate,H._storeDirectGUIEdit=g._storeDirectGUIEdit,H.react=g.react,H.extendTraces=g.extendTraces,H.prependTraces=g.prependTraces,H.addTraces=g.addTraces,H.deleteTraces=g.deleteTraces,H.moveTraces=g.moveTraces,H.purge=g.purge,H.addFrames=g.addFrames,H.deleteFrames=g.deleteFrames,H.animate=g.animate,H.setPlotConfig=g.setPlotConfig;var P=e(24401).getGraphDiv,i=e(34031).eraseActiveShape;H.deleteActiveShape=function(A){return i(P(A))},H.toImage=e(403),H.validate=e(84936),H.downloadImage=e(7239);var L=e(96318);H.makeTemplate=L.makeTemplate,H.validateTemplate=L.validateTemplate},6611:function(W,H,e){var g=e(41965),P=e(64213),i=e(47769),L=e(65888).sorterAsc,A=e(73972);H.containerArrayMatch=e(14458);var v=H.isAddVal=function(r){return r==="add"||g(r)},p=H.isRemoveVal=function(r){return r===null||r==="remove"};H.applyContainerArrayChanges=function(r,s,n,l,f){var u=s.astr,m=A.getComponentMethod(u,"supplyLayoutDefaults"),c=A.getComponentMethod(u,"draw"),w=A.getComponentMethod(u,"drawOne"),h=l.replot||l.recalc||m===P||c===P,o=r.layout,d=r._fullLayout;if(n[""]){Object.keys(n).length>1&&i.warn("Full array edits are incompatible with other edits",u);var M=n[""][""];if(p(M))s.set(null);else if(Array.isArray(M))s.set(M);else return i.warn("Unrecognized full array edit value",u,M),!0;return h?!1:(m(o,d),c(r),!0)}var T=Object.keys(n).map(Number).sort(L),E=s.get(),x=E||[],S=f(d,u).get(),b=[],a=-1,C=x.length,y,z,I,B,F,O,N,_;for(y=0;y<T.length;y++){if(I=T[y],B=n[I],F=Object.keys(B),O=B[""],N=v(O),I<0||I>x.length-(N?0:1)){i.warn("index out of range",u,I);continue}if(O!==void 0)F.length>1&&i.warn("Insertion & removal are incompatible with edits to the same index.",u,I),p(O)?b.push(I):N?(O==="add"&&(O={}),x.splice(I,0,O),S&&S.splice(I,0,{})):i.warn("Unrecognized full object edit value",u,I,O),a===-1&&(a=I);else for(z=0;z<F.length;z++)_=u+"["+I+"].",f(x[I],F[z],_).set(B[F[z]])}for(y=b.length-1;y>=0;y--)x.splice(b[y],1),S&&S.splice(b[y],1);if(x.length?E||s.set(x):s.set(null),h)return!1;if(m(o,d),w!==P){var U;if(a===-1)U=T;else{for(C=Math.max(x.length,C),U=[],y=0;y<T.length&&(I=T[y],!(I>=a));y++)U.push(I);for(y=a;y<C;y++)U.push(y)}for(y=0;y<U.length;y++)w(r,U[y])}else c(r);return!0}},72391:function(W,H,e){var g=e(39898),P=e(92770),i=e(57035),L=e(71828),A=L.nestedProperty,v=e(11086),p=e(10847),t=e(73972),r=e(86281),s=e(74875),n=e(89298),l=e(23608),f=e(13838),u=e(91424),m=e(7901),c=e(4305).initInteractions,w=e(77922),h=e(47322).clearOutline,o=e(72075).dfltConfig,d=e(6611),M=e(58377),T=e(61549),E=e(30962),x=e(85555).AX_NAME_PATTERN,S=0,b=5;function a(Ee,Ne,Je,qe){var vt;if(Ee=L.getGraphDiv(Ee),v.init(Ee),L.isPlainObject(Ne)){var bt=Ne;Ne=bt.data,Je=bt.layout,qe=bt.config,vt=bt.frames}var Wt=v.triggerHandler(Ee,"plotly_beforeplot",[Ne,Je,qe]);if(Wt===!1)return Promise.reject();!Ne&&!Je&&!L.isPlotDiv(Ee)&&L.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Ee);function qt(){if(vt)return H.addFrames(Ee,vt)}B(Ee,qe),Je||(Je={}),g.select(Ee).classed("js-plotly-plot",!0),u.makeTester(),Array.isArray(Ee._promises)||(Ee._promises=[]);var At=(Ee.data||[]).length===0&&Array.isArray(Ne);Array.isArray(Ne)&&(M.cleanData(Ne),At?Ee.data=Ne:Ee.data.push.apply(Ee.data,Ne),Ee.empty=!1),(!Ee.layout||At)&&(Ee.layout=M.cleanLayout(Je)),s.supplyDefaults(Ee);var zt=Ee._fullLayout,Jt=zt._has("cartesian");zt._replotting=!0,(At||zt._shouldCreateBgLayer)&&(Ae(Ee),zt._shouldCreateBgLayer&&delete zt._shouldCreateBgLayer),u.initGradients(Ee),u.initPatterns(Ee),At&&n.saveShowSpikeInitial(Ee);var Mr=!Ee.calcdata||Ee.calcdata.length!==(Ee._fullData||[]).length;Mr&&s.doCalcdata(Ee);for(var pt=0;pt<Ee.calcdata.length;pt++)Ee.calcdata[pt][0].trace=Ee._fullData[pt];Ee._context.responsive?Ee._responsiveChartHandler||(Ee._responsiveChartHandler=function(){L.isHidden(Ee)||s.resize(Ee)},window.addEventListener("resize",Ee._responsiveChartHandler)):L.clearResponsive(Ee);var Zt=L.extendFlat({},zt._size),Kt=0;function mr(){for(var Nt=zt._basePlotModules,Bt=0;Bt<Nt.length;Bt++)Nt[Bt].drawFramework&&Nt[Bt].drawFramework(Ee);!zt._glcanvas&&zt._has("gl")&&(zt._glcanvas=zt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(dr){return dr.key}),zt._glcanvas.enter().append("canvas").attr("class",function(dr){return"gl-canvas gl-canvas-"+dr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Xt=Ee._context.plotGlPixelRatio;if(zt._glcanvas){zt._glcanvas.attr("width",zt.width*Xt).attr("height",zt.height*Xt).style("width",zt.width+"px").style("height",zt.height+"px");var lr=zt._glcanvas.data()[0].regl;if(lr&&(Math.floor(zt.width*Xt)!==lr._gl.drawingBufferWidth||Math.floor(zt.height*Xt)!==lr._gl.drawingBufferHeight)){var sr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Kt)L.error(sr);else return L.log(sr+" Clearing graph and plotting again."),s.cleanPlot([],{},Ee._fullData,zt),s.supplyDefaults(Ee),zt=Ee._fullLayout,s.doCalcdata(Ee),Kt++,mr()}}return zt.modebar.orientation==="h"?zt._modebardiv.style("height",null).style("width","100%"):zt._modebardiv.style("width",null).style("height",zt.height+"px"),s.previousPromises(Ee)}function ur(){if(s.clearAutoMarginIds(Ee),T.drawMarginPushers(Ee),n.allowAutoMargin(Ee),Ee._fullLayout.title.text&&Ee._fullLayout.title.automargin&&s.allowAutoMargin(Ee,"title.automargin"),zt._has("pie"))for(var Nt=Ee._fullData,Bt=0;Bt<Nt.length;Bt++){var Xt=Nt[Bt];Xt.type==="pie"&&Xt.automargin&&s.allowAutoMargin(Ee,"pie."+Xt.uid+".automargin")}return s.doAutoMargin(Ee),s.previousPromises(Ee)}function dt(){if(s.didMarginChange(Zt,zt._size))return L.syncOrAsync([ur,T.layoutStyles],Ee)}function st(){if(!Mr){xt();return}return L.syncOrAsync([t.getComponentMethod("shapes","calcAutorange"),t.getComponentMethod("annotations","calcAutorange"),xt],Ee)}function xt(){Ee._transitioning||(T.doAutoRangeAndConstraints(Ee),At&&n.saveRangeInitial(Ee),t.getComponentMethod("rangeslider","calcAutorange")(Ee))}function Mt(){return n.draw(Ee,At?"":"redraw")}var Dt=[s.previousPromises,qt,mr,ur,dt];Jt&&Dt.push(st),Dt.push(T.layoutStyles),Jt&&Dt.push(Mt,function(Bt){var Xt=Bt._fullLayout._insideTickLabelsUpdaterange;if(Xt)return Bt._fullLayout._insideTickLabelsUpdaterange=void 0,Me(Bt,Xt).then(function(){n.saveRangeInitial(Bt,!0)})}),Dt.push(T.drawData,T.finalDraw,c,s.addLinks,s.rehover,s.redrag,s.reselect,s.doAutoMargin,s.previousPromises);var Rt=L.syncOrAsync(Dt,Ee);return(!Rt||!Rt.then)&&(Rt=Promise.resolve()),Rt.then(function(){return C(Ee),Ee})}function C(Ee){var Ne=Ee._fullLayout;Ne._redrawFromAutoMarginCount?Ne._redrawFromAutoMarginCount--:Ee.emit("plotly_afterplot")}function y(Ee){return L.extendFlat(o,Ee)}function z(Ee,Ne){try{Ee._fullLayout._paper.style("background",Ne)}catch(Je){L.error(Je)}}function I(Ee,Ne){var Je=m.combine(Ne,"white");z(Ee,Je)}function B(Ee,Ne){if(!Ee._context){Ee._context=L.extendDeep({},o);var Je=g.select("base");Ee._context._baseUrl=Je.size()&&Je.attr("href")?window.location.href.split("#")[0]:""}var qe=Ee._context,vt,bt,Wt;if(Ne){for(bt=Object.keys(Ne),vt=0;vt<bt.length;vt++)Wt=bt[vt],!(Wt==="editable"||Wt==="edits")&&Wt in qe&&(Wt==="setBackground"&&Ne[Wt]==="opaque"?qe[Wt]=I:qe[Wt]=Ne[Wt]);Ne.plot3dPixelRatio&&!qe.plotGlPixelRatio&&(qe.plotGlPixelRatio=qe.plot3dPixelRatio);var qt=Ne.editable;if(qt!==void 0)for(qe.editable=qt,bt=Object.keys(qe.edits),vt=0;vt<bt.length;vt++)qe.edits[bt[vt]]=qt;if(Ne.edits)for(bt=Object.keys(Ne.edits),vt=0;vt<bt.length;vt++)Wt=bt[vt],Wt in qe.edits&&(qe.edits[Wt]=Ne.edits[Wt]);qe._exportedPlot=Ne._exportedPlot}qe.staticPlot&&(qe.editable=!1,qe.edits={},qe.autosizable=!1,qe.scrollZoom=!1,qe.doubleClick=!1,qe.showTips=!1,qe.showLink=!1,qe.displayModeBar=!1),qe.displayModeBar==="hover"&&!i&&(qe.displayModeBar=!0),(qe.setBackground==="transparent"||typeof qe.setBackground!="function")&&(qe.setBackground=z),qe._hasZeroHeight=qe._hasZeroHeight||Ee.clientHeight===0,qe._hasZeroWidth=qe._hasZeroWidth||Ee.clientWidth===0;var At=qe.scrollZoom,zt=qe._scrollZoom={};if(At===!0)zt.cartesian=1,zt.gl3d=1,zt.geo=1,zt.mapbox=1;else if(typeof At=="string"){var Jt=At.split("+");for(vt=0;vt<Jt.length;vt++)zt[Jt[vt]]=1}else At!==!1&&(zt.gl3d=1,zt.geo=1,zt.mapbox=1)}function F(Ee){if(Ee=L.getGraphDiv(Ee),!L.isPlotDiv(Ee))throw new Error("This element is not a Plotly plot: "+Ee);return M.cleanData(Ee.data),M.cleanLayout(Ee.layout),Ee.calcdata=void 0,H._doPlot(Ee).then(function(){return Ee.emit("plotly_redraw"),Ee})}function O(Ee,Ne,Je,qe){return Ee=L.getGraphDiv(Ee),s.cleanPlot([],{},Ee._fullData||[],Ee._fullLayout||{}),s.purge(Ee),H._doPlot(Ee,Ne,Je,qe)}function N(Ee,Ne){var Je=Ne+1,qe=[],vt,bt;for(vt=0;vt<Ee.length;vt++)bt=Ee[vt],bt<0?qe.push(Je+bt):qe.push(bt);return qe}function _(Ee,Ne,Je){var qe,vt;for(qe=0;qe<Ne.length;qe++){if(vt=Ne[qe],vt!==parseInt(vt,10))throw new Error("all values in "+Je+" must be integers");if(vt>=Ee.data.length||vt<-Ee.data.length)throw new Error(Je+" must be valid indices for gd.data.");if(Ne.indexOf(vt,qe+1)>-1||vt>=0&&Ne.indexOf(-Ee.data.length+vt)>-1||vt<0&&Ne.indexOf(Ee.data.length+vt)>-1)throw new Error("each index in "+Je+" must be unique.")}}function U(Ee,Ne,Je){if(!Array.isArray(Ee.data))throw new Error("gd.data must be an array.");if(typeof Ne>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(Ne)||(Ne=[Ne]),_(Ee,Ne,"currentIndices"),typeof Je<"u"&&!Array.isArray(Je)&&(Je=[Je]),typeof Je<"u"&&_(Ee,Je,"newIndices"),typeof Je<"u"&&Ne.length!==Je.length)throw new Error("current and new indices must be of equal length.")}function Y(Ee,Ne,Je){var qe,vt;if(!Array.isArray(Ee.data))throw new Error("gd.data must be an array.");if(typeof Ne>"u")throw new Error("traces must be defined.");for(Array.isArray(Ne)||(Ne=[Ne]),qe=0;qe<Ne.length;qe++)if(vt=Ne[qe],typeof vt!="object"||Array.isArray(vt)||vt===null)throw new Error("all values in traces array must be non-array objects");if(typeof Je<"u"&&!Array.isArray(Je)&&(Je=[Je]),typeof Je<"u"&&Je.length!==Ne.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function K(Ee,Ne,Je,qe){var vt=L.isPlainObject(qe);if(!Array.isArray(Ee.data))throw new Error("gd.data must be an array");if(!L.isPlainObject(Ne))throw new Error("update must be a key:value object");if(typeof Je>"u")throw new Error("indices must be an integer or array of integers");_(Ee,Je,"indices");for(var bt in Ne){if(!Array.isArray(Ne[bt])||Ne[bt].length!==Je.length)throw new Error("attribute "+bt+" must be an array of length equal to indices array length");if(vt&&(!(bt in qe)||!Array.isArray(qe[bt])||qe[bt].length!==Ne[bt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function re(Ee,Ne,Je,qe){var vt=L.isPlainObject(qe),bt=[],Wt,qt,At,zt,Jt;Array.isArray(Je)||(Je=[Je]),Je=N(Je,Ee.data.length-1);for(var Mr in Ne)for(var pt=0;pt<Je.length;pt++){if(Wt=Ee.data[Je[pt]],At=A(Wt,Mr),qt=At.get(),zt=Ne[Mr][pt],!L.isArrayOrTypedArray(zt))throw new Error("attribute: "+Mr+" index: "+pt+" must be an array");if(!L.isArrayOrTypedArray(qt))throw new Error("cannot extend missing or non-array attribute: "+Mr);if(qt.constructor!==zt.constructor)throw new Error("cannot extend array with an array of a different type: "+Mr);Jt=vt?qe[Mr][pt]:qe,P(Jt)||(Jt=-1),bt.push({prop:At,target:qt,insert:zt,maxp:Math.floor(Jt)})}return bt}function ae(Ee,Ne,Je,qe,vt){K(Ee,Ne,Je,qe);for(var bt=re(Ee,Ne,Je,qe),Wt={},qt={},At=0;At<bt.length;At++){var zt=bt[At].prop,Jt=bt[At].maxp,Mr=vt(bt[At].target,bt[At].insert,Jt);zt.set(Mr[0]),Array.isArray(Wt[zt.astr])||(Wt[zt.astr]=[]),Wt[zt.astr].push(Mr[1]),Array.isArray(qt[zt.astr])||(qt[zt.astr]=[]),qt[zt.astr].push(bt[At].target.length)}return{update:Wt,maxPoints:qt}}function fe(Ee,Ne){var Je=new Ee.constructor(Ee.length+Ne.length);return Je.set(Ee),Je.set(Ne,Ee.length),Je}function Q(Ee,Ne,Je,qe){Ee=L.getGraphDiv(Ee);function vt(At,zt,Jt){var Mr,pt;if(L.isTypedArray(At))if(Jt<0){var Zt=new At.constructor(0),Kt=fe(At,zt);Jt<0?(Mr=Kt,pt=Zt):(Mr=Zt,pt=Kt)}else if(Mr=new At.constructor(Jt),pt=new At.constructor(At.length+zt.length-Jt),Jt===zt.length)Mr.set(zt),pt.set(At);else if(Jt<zt.length){var mr=zt.length-Jt;Mr.set(zt.subarray(mr)),pt.set(At),pt.set(zt.subarray(0,mr),At.length)}else{var ur=Jt-zt.length,dt=At.length-ur;Mr.set(At.subarray(dt)),Mr.set(zt,ur),pt.set(At.subarray(0,dt))}else Mr=At.concat(zt),pt=Jt>=0&&Jt<Mr.length?Mr.splice(0,Mr.length-Jt):[];return[Mr,pt]}var bt=ae(Ee,Ne,Je,qe,vt),Wt=H.redraw(Ee),qt=[Ee,bt.update,Je,bt.maxPoints];return p.add(Ee,H.prependTraces,qt,Q,arguments),Wt}function j(Ee,Ne,Je,qe){Ee=L.getGraphDiv(Ee);function vt(At,zt,Jt){var Mr,pt;if(L.isTypedArray(At))if(Jt<=0){var Zt=new At.constructor(0),Kt=fe(zt,At);Jt<0?(Mr=Kt,pt=Zt):(Mr=Zt,pt=Kt)}else if(Mr=new At.constructor(Jt),pt=new At.constructor(At.length+zt.length-Jt),Jt===zt.length)Mr.set(zt),pt.set(At);else if(Jt<zt.length){var mr=zt.length-Jt;Mr.set(zt.subarray(0,mr)),pt.set(zt.subarray(mr)),pt.set(At,mr)}else{var ur=Jt-zt.length;Mr.set(zt),Mr.set(At.subarray(0,ur),zt.length),pt.set(At.subarray(ur))}else Mr=zt.concat(At),pt=Jt>=0&&Jt<Mr.length?Mr.splice(Jt,Mr.length):[];return[Mr,pt]}var bt=ae(Ee,Ne,Je,qe,vt),Wt=H.redraw(Ee),qt=[Ee,bt.update,Je,bt.maxPoints];return p.add(Ee,H.extendTraces,qt,j,arguments),Wt}function X(Ee,Ne,Je){Ee=L.getGraphDiv(Ee);var qe=[],vt=H.deleteTraces,bt=X,Wt=[Ee,qe],qt=[Ee,Ne],At,zt;for(Y(Ee,Ne,Je),Array.isArray(Ne)||(Ne=[Ne]),Ne=Ne.map(function(Jt){return L.extendFlat({},Jt)}),M.cleanData(Ne),At=0;At<Ne.length;At++)Ee.data.push(Ne[At]);for(At=0;At<Ne.length;At++)qe.push(-Ne.length+At);if(typeof Je>"u")return zt=H.redraw(Ee),p.add(Ee,vt,Wt,bt,qt),zt;Array.isArray(Je)||(Je=[Je]);try{U(Ee,qe,Je)}catch(Jt){throw Ee.data.splice(Ee.data.length-Ne.length,Ne.length),Jt}return p.startSequence(Ee),p.add(Ee,vt,Wt,bt,qt),zt=H.moveTraces(Ee,qe,Je),p.stopSequence(Ee),zt}function J(Ee,Ne){Ee=L.getGraphDiv(Ee);var Je=[],qe=H.addTraces,vt=J,bt=[Ee,Je,Ne],Wt=[Ee,Ne],qt,At;if(typeof Ne>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Ne)||(Ne=[Ne]),_(Ee,Ne,"indices"),Ne=N(Ne,Ee.data.length-1),Ne.sort(L.sorterDes),qt=0;qt<Ne.length;qt+=1)At=Ee.data.splice(Ne[qt],1)[0],Je.push(At);var zt=H.redraw(Ee);return p.add(Ee,qe,bt,vt,Wt),zt}function ee(Ee,Ne,Je){Ee=L.getGraphDiv(Ee);var qe=[],vt=[],bt=ee,Wt=ee,qt=[Ee,Je,Ne],At=[Ee,Ne,Je],zt;if(U(Ee,Ne,Je),Ne=Array.isArray(Ne)?Ne:[Ne],typeof Je>"u")for(Je=[],zt=0;zt<Ne.length;zt++)Je.push(-Ne.length+zt);for(Je=Array.isArray(Je)?Je:[Je],Ne=N(Ne,Ee.data.length-1),Je=N(Je,Ee.data.length-1),zt=0;zt<Ee.data.length;zt++)Ne.indexOf(zt)===-1&&qe.push(Ee.data[zt]);for(zt=0;zt<Ne.length;zt++)vt.push({newIndex:Je[zt],trace:Ee.data[Ne[zt]]});for(vt.sort(function(Mr,pt){return Mr.newIndex-pt.newIndex}),zt=0;zt<vt.length;zt+=1)qe.splice(vt[zt].newIndex,0,vt[zt].trace);Ee.data=qe;var Jt=H.redraw(Ee);return p.add(Ee,bt,qt,Wt,At),Jt}function se(Ee,Ne,Je,qe){Ee=L.getGraphDiv(Ee),M.clearPromiseQueue(Ee);var vt={};if(typeof Ne=="string")vt[Ne]=Je;else if(L.isPlainObject(Ne))vt=L.extendFlat({},Ne),qe===void 0&&(qe=Je);else return L.warn("Restyle fail.",Ne,Je,qe),Promise.reject();Object.keys(vt).length&&(Ee.changed=!0);var bt=M.coerceTraceIndices(Ee,qe),Wt=ce(Ee,vt,bt),qt=Wt.flags;qt.calc&&(Ee.calcdata=void 0),qt.clearAxisTypes&&M.clearAxisTypes(Ee,bt,{});var At=[];qt.fullReplot?At.push(H._doPlot):(At.push(s.previousPromises),s.supplyDefaults(Ee),qt.markerSize&&(s.doCalcdata(Ee),Oe(At)),qt.style&&At.push(T.doTraceStyle),qt.colorbars&&At.push(T.doColorBars),At.push(C)),At.push(s.rehover,s.redrag,s.reselect),p.add(Ee,se,[Ee,Wt.undoit,Wt.traces],se,[Ee,Wt.redoit,Wt.traces]);var zt=L.syncOrAsync(At,Ee);return(!zt||!zt.then)&&(zt=Promise.resolve()),zt.then(function(){return Ee.emit("plotly_restyle",Wt.eventData),Ee})}function q(Ee){return Ee===void 0?null:Ee}function $(Ee,Ne){return Ne?function(Je,qe,vt){var bt=A(Je,qe),Wt=bt.set;return bt.set=function(qt){var At=(vt||"")+qe;le(At,bt.get(),qt,Ee),Wt(qt)},bt}:A}function le(Ee,Ne,Je,qe){if(Array.isArray(Ne)||Array.isArray(Je))for(var vt=Array.isArray(Ne)?Ne:[],bt=Array.isArray(Je)?Je:[],Wt=Math.max(vt.length,bt.length),qt=0;qt<Wt;qt++)le(Ee+"["+qt+"]",vt[qt],bt[qt],qe);else if(L.isPlainObject(Ne)||L.isPlainObject(Je)){var At=L.isPlainObject(Ne)?Ne:{},zt=L.isPlainObject(Je)?Je:{},Jt=L.extendFlat({},At,zt);for(var Mr in Jt)le(Ee+"."+Mr,At[Mr],zt[Mr],qe)}else qe[Ee]===void 0&&(qe[Ee]=q(Ne))}function ie(Ee,Ne,Je){for(var qe in Je){var vt=A(Ee,qe);le(qe,vt.get(),Je[qe],Ne)}}function ce(Ee,Ne,Je){var qe=Ee._fullLayout,vt=Ee._fullData,bt=Ee.data,Wt=qe._guiEditing,qt=$(qe._preGUI,Wt),At=L.extendDeepAll({},Ne),zt;me(Ne);var Jt=E.traceFlags(),Mr={},pt={},Zt;function Kt(){return Je.map(function(){})}function mr(Tn){var Sr=n.id2name(Tn);Zt.indexOf(Sr)===-1&&Zt.push(Sr)}function ur(Tn){return"LAYOUT"+Tn+".autorange"}function dt(Tn){return"LAYOUT"+Tn+".range"}function st(Tn){for(var Sr=Tn;Sr<vt.length;Sr++)if(vt[Sr]._input===bt[Tn])return vt[Sr]}function xt(Tn,Sr,Er){if(Array.isArray(Tn)){Tn.forEach(function(gn){xt(gn,Sr,Er)});return}if(!(Tn in Ne||M.hasParent(Ne,Tn))){var Gr;if(Tn.substr(0,6)==="LAYOUT")Gr=qt(Ee.layout,Tn.replace("LAYOUT",""));else{var Br=Je[Er],nn=qe._tracePreGUI[st(Br)._fullInput.uid];Gr=$(nn,Wt)(bt[Br],Tn)}Tn in pt||(pt[Tn]=Kt()),pt[Tn][Er]===void 0&&(pt[Tn][Er]=q(Gr.get())),Sr!==void 0&&Gr.set(Sr)}}function Mt(Tn){return function(Sr){return vt[Sr][Tn]}}function Dt(Tn){return function(Sr,Er){return Sr===!1?vt[Je[Er]][Tn]:null}}for(var Rt in Ne){if(M.hasParent(Ne,Rt))throw new Error("cannot set "+Rt+" and a parent attribute simultaneously");var Nt=Ne[Rt],Bt,Xt,lr,sr,dr,je;if((Rt==="autobinx"||Rt==="autobiny")&&(Rt=Rt.charAt(Rt.length-1)+"bins",Array.isArray(Nt)?Nt=Nt.map(Dt(Rt)):Nt===!1?Nt=Je.map(Mt(Rt)):Nt=null),Mr[Rt]=Nt,Rt.substr(0,6)==="LAYOUT"){lr=qt(Ee.layout,Rt.replace("LAYOUT","")),pt[Rt]=[q(lr.get())],lr.set(Array.isArray(Nt)?Nt[0]:Nt),Jt.calc=!0;continue}for(pt[Rt]=Kt(),zt=0;zt<Je.length;zt++){Bt=bt[Je[zt]],Xt=st(Je[zt]);var Ye=qe._tracePreGUI[Xt._fullInput.uid];if(lr=$(Ye,Wt)(Bt,Rt),sr=lr.get(),dr=Array.isArray(Nt)?Nt[zt%Nt.length]:Nt,dr!==void 0){var It=lr.parts[lr.parts.length-1],kt=Rt.substr(0,Rt.length-It.length-1),Yt=kt?kt+".":"",tr=kt?A(Xt,kt).get():Xt;if(je=r.getTraceValObject(Xt,lr.parts),je&&je.impliedEdits&&dr!==null)for(var or in je.impliedEdits)xt(L.relativeAttr(Rt,or),je.impliedEdits[or],zt);else if((It==="thicknessmode"||It==="lenmode")&&sr!==dr&&(dr==="fraction"||dr==="pixels")&&tr){var rr=qe._size,_t=tr.orient,hr=_t==="top"||_t==="bottom";if(It==="thicknessmode"){var gr=hr?rr.h:rr.w;xt(Yt+"thickness",tr.thickness*(dr==="fraction"?1/gr:gr),zt)}else{var pr=hr?rr.w:rr.h;xt(Yt+"len",tr.len*(dr==="fraction"?1/pr:pr),zt)}}else if(Rt==="type"&&(dr==="pie"!=(sr==="pie")||dr==="funnelarea"!=(sr==="funnelarea"))){var vr="x",Hr="y";(dr==="bar"||sr==="bar")&&Bt.orientation==="h"&&(vr="y",Hr="x"),L.swapAttrs(Bt,["?","?src"],"labels",vr),L.swapAttrs(Bt,["d?","?0"],"label",vr),L.swapAttrs(Bt,["?","?src"],"values",Hr),sr==="pie"||sr==="funnelarea"?(A(Bt,"marker.color").set(A(Bt,"marker.colors").get()),qe._pielayer.selectAll("g.trace").remove()):t.traceIs(Bt,"cartesian")&&A(Bt,"marker.colors").set(A(Bt,"marker.color").get())}pt[Rt][zt]=q(sr);var kr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(kr.indexOf(Rt)!==-1){if(Rt==="orientation"){lr.set(dr);var Fr=Bt.x&&!Bt.y?"h":"v";if((lr.get()||Fr)===Xt.orientation)continue}else Rt==="orientationaxes"&&(Bt.orientation={v:"h",h:"v"}[Xt.orientation]);M.swapXYData(Bt),Jt.calc=Jt.clearAxisTypes=!0}else s.dataArrayContainers.indexOf(lr.parts[0])!==-1?(M.manageArrayContainers(lr,dr,pt),Jt.calc=!0):(je?je.arrayOk&&!t.traceIs(Xt,"regl")&&(L.isArrayOrTypedArray(dr)||L.isArrayOrTypedArray(sr))?Jt.calc=!0:E.update(Jt,je):Jt.calc=!0,lr.set(dr))}}if(["swapxyaxes","orientationaxes"].indexOf(Rt)!==-1&&n.swap(Ee,Je),Rt==="orientationaxes"){var pn=A(Ee.layout,"hovermode"),qr=pn.get();qr==="x"?pn.set("y"):qr==="y"?pn.set("x"):qr==="x unified"?pn.set("y unified"):qr==="y unified"&&pn.set("x unified")}if(["orientation","type"].indexOf(Rt)!==-1){for(Zt=[],zt=0;zt<Je.length;zt++){var On=bt[Je[zt]];t.traceIs(On,"cartesian")&&(mr(On.xaxis||"x"),mr(On.yaxis||"y"))}xt(Zt.map(ur),!0,0),xt(Zt.map(dt),[0,1],0)}}return(Jt.calc||Jt.plot)&&(Jt.fullReplot=!0),{flags:Jt,undoit:pt,redoit:Mr,traces:Je,eventData:L.extendDeepNoArrays([],[At,Je])}}function me(Ee){var Ne=L.counterRegex("axis",".title",!1,!1),Je=/colorbar\.title$/,qe=Object.keys(Ee),vt,bt,Wt;for(vt=0;vt<qe.length;vt++)bt=qe[vt],Wt=Ee[bt],(bt==="title"||Ne.test(bt)||Je.test(bt))&&(typeof Wt=="string"||typeof Wt=="number")?qt(bt,bt.replace("title","title.text")):bt.indexOf("titlefont")>-1&&bt.indexOf("grouptitlefont")===-1?qt(bt,bt.replace("titlefont","title.font")):bt.indexOf("titleposition")>-1?qt(bt,bt.replace("titleposition","title.position")):bt.indexOf("titleside")>-1?qt(bt,bt.replace("titleside","title.side")):bt.indexOf("titleoffset")>-1&&qt(bt,bt.replace("titleoffset","title.offset"));function qt(At,zt){Ee[zt]=Ee[At],delete Ee[At]}}function Me(Ee,Ne,Je){Ee=L.getGraphDiv(Ee),M.clearPromiseQueue(Ee);var qe={};if(typeof Ne=="string")qe[Ne]=Je;else if(L.isPlainObject(Ne))qe=L.extendFlat({},Ne);else return L.warn("Relayout fail.",Ne,Je),Promise.reject();Object.keys(qe).length&&(Ee.changed=!0);var vt=Se(Ee,qe),bt=vt.flags;bt.calc&&(Ee.calcdata=void 0);var Wt=[s.previousPromises];bt.layoutReplot?Wt.push(T.layoutReplot):Object.keys(qe).length&&(we(Ee,bt,vt)||s.supplyDefaults(Ee),bt.legend&&Wt.push(T.doLegend),bt.layoutstyle&&Wt.push(T.layoutStyles),bt.axrange&&Oe(Wt,vt.rangesAltered),bt.ticks&&Wt.push(T.doTicksRelayout),bt.modebar&&Wt.push(T.doModeBar),bt.camera&&Wt.push(T.doCamera),bt.colorbars&&Wt.push(T.doColorBars),Wt.push(C)),Wt.push(s.rehover,s.redrag,s.reselect),p.add(Ee,Me,[Ee,vt.undoit],Me,[Ee,vt.redoit]);var qt=L.syncOrAsync(Wt,Ee);return(!qt||!qt.then)&&(qt=Promise.resolve(Ee)),qt.then(function(){return Ee.emit("plotly_relayout",vt.eventData),Ee})}function we(Ee,Ne,Je){var qe=Ee._fullLayout;if(!Ne.axrange)return!1;for(var vt in Ne)if(vt!=="axrange"&&Ne[vt])return!1;var bt,Wt,qt=function(Zt,Kt){return L.coerce(bt,Wt,f,Zt,Kt)},At={};for(var zt in Je.rangesAltered){var Jt=n.id2name(zt);if(bt=Ee.layout[Jt],Wt=qe[Jt],l(bt,Wt,qt,At),Wt._matchGroup){for(var Mr in Wt._matchGroup)if(Mr!==zt){var pt=qe[n.id2name(Mr)];pt.autorange=Wt.autorange,pt.range=Wt.range.slice(),pt._input.range=Wt.range.slice()}}}return!0}function Oe(Ee,Ne){var Je=Ne?function(qe){var vt=[],bt=!0;for(var Wt in Ne){var qt=n.getFromId(qe,Wt);if(vt.push(Wt),(qt.ticklabelposition||"").indexOf("inside")!==-1&&qt._anchorAxis&&vt.push(qt._anchorAxis._id),qt._matchGroup)for(var At in qt._matchGroup)Ne[At]||vt.push(At)}return n.draw(qe,vt,{skipTitle:bt})}:function(qe){return n.draw(qe,"redraw")};Ee.push(h,T.doAutoRangeAndConstraints,Je,T.drawData,T.finalDraw)}var Be=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Ce=/^[xyz]axis[0-9]*\.autorange$/,xe=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Se(Ee,Ne){var Je=Ee.layout,qe=Ee._fullLayout,vt=qe._guiEditing,bt=$(qe._preGUI,vt),Wt=Object.keys(Ne),qt=n.list(Ee),At=L.extendDeepAll({},Ne),zt={},Jt,Mr,pt;for(me(Ne),Wt=Object.keys(Ne),Mr=0;Mr<Wt.length;Mr++)if(Wt[Mr].indexOf("allaxes")===0){for(pt=0;pt<qt.length;pt++){var Zt=qt[pt]._id.substr(1),Kt=Zt.indexOf("scene")!==-1?Zt+".":"",mr=Wt[Mr].replace("allaxes",Kt+qt[pt]._name);Ne[mr]||(Ne[mr]=Ne[Wt[Mr]])}delete Ne[Wt[Mr]]}var ur=E.layoutFlags(),dt={},st={};function xt(nn,gn){if(Array.isArray(nn)){nn.forEach(function(Pn){xt(Pn,gn)});return}if(!(nn in Ne||M.hasParent(Ne,nn))){var mn=bt(Je,nn);nn in st||(st[nn]=q(mn.get())),gn!==void 0&&mn.set(gn)}}var Mt={},Dt;function Rt(nn){var gn=n.name2id(nn.split(".")[0]);return Mt[gn]=1,gn}for(var Nt in Ne){if(M.hasParent(Ne,Nt))throw new Error("cannot set "+Nt+" and a parent attribute simultaneously");for(var Bt=bt(Je,Nt),Xt=Ne[Nt],lr=Bt.parts.length,sr=lr-1;sr>0&&typeof Bt.parts[sr]!="string";)sr--;var dr=Bt.parts[sr],je=Bt.parts[sr-1]+"."+dr,Ye=Bt.parts.slice(0,sr).join("."),It=A(Ee.layout,Ye).get(),kt=A(qe,Ye).get(),Yt=Bt.get();if(Xt!==void 0){dt[Nt]=Xt,st[Nt]=dr==="reverse"?Xt:q(Yt);var tr=r.getLayoutValObject(qe,Bt.parts);if(tr&&tr.impliedEdits&&Xt!==null)for(var or in tr.impliedEdits)xt(L.relativeAttr(Nt,or),tr.impliedEdits[or]);if(["width","height"].indexOf(Nt)!==-1)if(Xt){xt("autosize",null);var rr=Nt==="height"?"width":"height";xt(rr,qe[rr])}else qe[Nt]=Ee._initialAutoSize[Nt];else if(Nt==="autosize")xt("width",Xt?null:qe.width),xt("height",Xt?null:qe.height);else if(je.match(Be))Rt(je),A(qe,Ye+"._inputRange").set(null);else if(je.match(Ce)){Rt(je),A(qe,Ye+"._inputRange").set(null);var _t=A(qe,Ye).get();_t._inputDomain&&(_t._input.domain=_t._inputDomain.slice())}else je.match(xe)&&A(qe,Ye+"._inputDomain").set(null);if(dr==="type"){Dt=It;var hr=kt.type==="linear"&&Xt==="log",gr=kt.type==="log"&&Xt==="linear";if(hr||gr){if(!Dt||!Dt.range)xt(Ye+".autorange",!0);else if(kt.autorange)hr&&(Dt.range=Dt.range[1]>Dt.range[0]?[1,2]:[2,1]);else{var pr=Dt.range[0],vr=Dt.range[1];hr?(pr<=0&&vr<=0&&xt(Ye+".autorange",!0),pr<=0?pr=vr/1e6:vr<=0&&(vr=pr/1e6),xt(Ye+".range[0]",Math.log(pr)/Math.LN10),xt(Ye+".range[1]",Math.log(vr)/Math.LN10)):(xt(Ye+".range[0]",Math.pow(10,pr)),xt(Ye+".range[1]",Math.pow(10,vr)))}Array.isArray(qe._subplots.polar)&&qe._subplots.polar.length&&qe[Bt.parts[0]]&&Bt.parts[1]==="radialaxis"&&delete qe[Bt.parts[0]]._subplot.viewInitial["radialaxis.range"],t.getComponentMethod("annotations","convertCoords")(Ee,kt,Xt,xt),t.getComponentMethod("images","convertCoords")(Ee,kt,Xt,xt)}else xt(Ye+".autorange",!0),xt(Ye+".range",null);A(qe,Ye+"._inputRange").set(null)}else if(dr.match(x)){var Hr=A(qe,Nt).get(),kr=(Xt||{}).type;(!kr||kr==="-")&&(kr="linear"),t.getComponentMethod("annotations","convertCoords")(Ee,Hr,kr,xt),t.getComponentMethod("images","convertCoords")(Ee,Hr,kr,xt)}var Fr=d.containerArrayMatch(Nt);if(Fr){Jt=Fr.array,Mr=Fr.index;var pn=Fr.property,qr=tr||{editType:"calc"};Mr!==""&&pn===""&&(d.isAddVal(Xt)?st[Nt]=null:d.isRemoveVal(Xt)?st[Nt]=(A(Je,Jt).get()||[])[Mr]:L.warn("unrecognized full object value",Ne)),E.update(ur,qr),zt[Jt]||(zt[Jt]={});var On=zt[Jt][Mr];On||(On=zt[Jt][Mr]={}),On[pn]=Xt,delete Ne[Nt]}else dr==="reverse"?(It.range?It.range.reverse():(xt(Ye+".autorange",!0),It.range=[1,0]),kt.autorange?ur.calc=!0:ur.plot=!0):(Nt==="dragmode"&&(Xt===!1&&Yt!==!1||Xt!==!1&&Yt===!1)||qe._has("scatter-like")&&qe._has("regl")&&Nt==="dragmode"&&(Xt==="lasso"||Xt==="select")&&!(Yt==="lasso"||Yt==="select")||qe._has("gl2d")?ur.plot=!0:tr?E.update(ur,tr):ur.calc=!0,Bt.set(Xt))}}for(Jt in zt){var Tn=d.applyContainerArrayChanges(Ee,bt(Je,Jt),zt[Jt],ur,bt);Tn||(ur.plot=!0)}for(var Sr in Mt){Dt=n.getFromId(Ee,Sr);var Er=Dt&&Dt._constraintGroup;if(Er){ur.calc=!0;for(var Gr in Er)Mt[Gr]||(n.getFromId(Ee,Gr)._constraintShrinkable=!0)}}(He(Ee)||Ne.height||Ne.width)&&(ur.plot=!0);var Br=qe.shapes;for(Mr=0;Mr<Br.length;Mr++)if(Br[Mr].showlegend){ur.calc=!0;break}return(ur.plot||ur.calc)&&(ur.layoutReplot=!0),{flags:ur,rangesAltered:Mt,undoit:st,redoit:dt,eventData:At}}function He(Ee){var Ne=Ee._fullLayout,Je=Ne.width,qe=Ne.height;return Ee.layout.autosize&&s.plotAutoSize(Ee,Ee.layout,Ne),Ne.width!==Je||Ne.height!==qe}function Ge(Ee,Ne,Je,qe){Ee=L.getGraphDiv(Ee),M.clearPromiseQueue(Ee),L.isPlainObject(Ne)||(Ne={}),L.isPlainObject(Je)||(Je={}),Object.keys(Ne).length&&(Ee.changed=!0),Object.keys(Je).length&&(Ee.changed=!0);var vt=M.coerceTraceIndices(Ee,qe),bt=ce(Ee,L.extendFlat({},Ne),vt),Wt=bt.flags,qt=Se(Ee,L.extendFlat({},Je)),At=qt.flags;(Wt.calc||At.calc)&&(Ee.calcdata=void 0),Wt.clearAxisTypes&&M.clearAxisTypes(Ee,vt,Je);var zt=[];At.layoutReplot?zt.push(T.layoutReplot):Wt.fullReplot?zt.push(H._doPlot):(zt.push(s.previousPromises),we(Ee,At,qt)||s.supplyDefaults(Ee),Wt.style&&zt.push(T.doTraceStyle),(Wt.colorbars||At.colorbars)&&zt.push(T.doColorBars),At.legend&&zt.push(T.doLegend),At.layoutstyle&&zt.push(T.layoutStyles),At.axrange&&Oe(zt,qt.rangesAltered),At.ticks&&zt.push(T.doTicksRelayout),At.modebar&&zt.push(T.doModeBar),At.camera&&zt.push(T.doCamera),zt.push(C)),zt.push(s.rehover,s.redrag,s.reselect),p.add(Ee,Ge,[Ee,bt.undoit,qt.undoit,bt.traces],Ge,[Ee,bt.redoit,qt.redoit,bt.traces]);var Jt=L.syncOrAsync(zt,Ee);return(!Jt||!Jt.then)&&(Jt=Promise.resolve(Ee)),Jt.then(function(){return Ee.emit("plotly_update",{data:bt.eventData,layout:qt.eventData}),Ee})}function ke(Ee){return function(Je){Je._fullLayout._guiEditing=!0;var qe=Ee.apply(null,arguments);return Je._fullLayout._guiEditing=!1,qe}}var We=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],it=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function et(Ee,Ne){for(var Je=0;Je<Ne.length;Je++){var qe=Ne[Je],vt=Ee.match(qe.pattern);if(vt){var bt=vt[1]||"";return{head:bt,tail:Ee.substr(bt.length+1),attr:qe.attr}}}}function tt(Ee,Ne){var Je=A(Ne,Ee).get();if(Je!==void 0)return Je;var qe=Ee.split(".");for(qe.pop();qe.length>1;)if(qe.pop(),Je=A(Ne,qe.join(".")+".uirevision").get(),Je!==void 0)return Je;return Ne.uirevision}function at(Ee,Ne){for(var Je=0;Je<Ne.length;Je++)if(Ne[Je]._fullInput.uid===Ee)return Je;return-1}function ht(Ee,Ne,Je){for(var qe=0;qe<Ne.length;qe++)if(Ne[qe].uid===Ee)return qe;return!Ne[Je]||Ne[Je].uid?-1:Je}function yt(Ee,Ne){var Je=L.isPlainObject(Ee),qe=Array.isArray(Ee);return Je||qe?(Je&&L.isPlainObject(Ne)||qe&&Array.isArray(Ne))&&JSON.stringify(Ee)===JSON.stringify(Ne):Ee===Ne}function gt(Ee,Ne,Je,qe){var vt=qe._preGUI,bt,Wt,qt,At,zt,Jt,Mr,pt,Zt,Kt,mr=[],ur={},dt={};for(bt in vt){if(zt=et(bt,We),zt){if(Zt=zt.head,Kt=zt.tail,Wt=zt.attr||Zt+".uirevision",qt=A(qe,Wt).get(),At=qt&&tt(Wt,Ne),At&&At===qt){if(Jt=vt[bt],Jt===null&&(Jt=void 0),Mr=A(Ne,bt),pt=Mr.get(),yt(pt,Jt)){pt===void 0&&Kt==="autorange"&&mr.push(Zt),Mr.set(q(A(qe,bt).get()));continue}else if(Kt==="autorange"||Kt.substr(0,6)==="range["){var st=vt[Zt+".range[0]"],xt=vt[Zt+".range[1]"],Mt=vt[Zt+".autorange"];if(Mt||Mt===null&&st===null&&xt===null){if(!(Zt in ur)){var Dt=A(Ne,Zt).get();ur[Zt]=Dt&&(Dt.autorange||Dt.autorange!==!1&&(!Dt.range||Dt.range.length!==2))}if(ur[Zt]){Mr.set(q(A(qe,bt).get()));continue}}}}}else L.warn("unrecognized GUI edit: "+bt);delete vt[bt],zt&&zt.tail.substr(0,6)==="range["&&(dt[zt.head]=1)}for(var Rt=0;Rt<mr.length;Rt++){var Nt=mr[Rt];if(dt[Nt]){var Bt=A(Ne,Nt).get();Bt&&delete Bt.autorange}}var Xt=qe._tracePreGUI;for(var lr in Xt){var sr=Xt[lr],dr=null,je;for(bt in sr){if(!dr){var Ye=at(lr,Je);if(Ye<0){delete Xt[lr];break}var It=Je[Ye];je=It._fullInput;var kt=ht(lr,Ee,je.index);if(kt<0){delete Xt[lr];break}dr=Ee[kt]}if(zt=et(bt,it),zt){if(zt.attr?(qt=A(qe,zt.attr).get(),At=qt&&tt(zt.attr,Ne)):(qt=je.uirevision,At=dr.uirevision,At===void 0&&(At=Ne.uirevision)),At&&At===qt&&(Jt=sr[bt],Jt===null&&(Jt=void 0),Mr=A(dr,bt),pt=Mr.get(),yt(pt,Jt))){Mr.set(q(A(je,bt).get()));continue}}else L.warn("unrecognized GUI edit: "+bt+" in trace uid "+lr);delete sr[bt]}}}function Et(Ee,Ne,Je,qe){var vt,bt;function Wt(){return H.addFrames(Ee,vt)}Ee=L.getGraphDiv(Ee),M.clearPromiseQueue(Ee);var qt=Ee._fullData,At=Ee._fullLayout;if(!L.isPlotDiv(Ee)||!qt||!At)bt=H.newPlot(Ee,Ne,Je,qe);else{if(L.isPlainObject(Ne)){var zt=Ne;Ne=zt.data,Je=zt.layout,qe=zt.config,vt=zt.frames}var Jt=!1;if(qe){var Mr=L.extendDeep({},Ee._context);Ee._context=void 0,B(Ee,qe),Jt=Fe(Mr,Ee._context)}Ee.data=Ne||[],M.cleanData(Ee.data),Ee.layout=Je||{},M.cleanLayout(Ee.layout),gt(Ee.data,Ee.layout,qt,At),s.supplyDefaults(Ee,{skipUpdateCalc:!0});var pt=Ee._fullData,Zt=Ee._fullLayout,Kt=Zt.datarevision===void 0,mr=Zt.transition,ur=Vt(Ee,At,Zt,Kt,mr),dt=ur.newDataRevision,st=Ct(Ee,qt,pt,Kt,mr,dt);if(He(Ee)&&(ur.layoutReplot=!0),st.calc||ur.calc){Ee.calcdata=void 0;for(var xt=Object.getOwnPropertyNames(Zt),Mt=0;Mt<xt.length;Mt++){var Dt=xt[Mt],Rt=Dt.substring(0,5);if(Rt==="xaxis"||Rt==="yaxis"){var Nt=Zt[Dt]._emptyCategories;Nt&&Nt()}}}else s.supplyDefaultsUpdateCalc(Ee.calcdata,pt);var Bt=[];if(vt&&(Ee._transitionData={},s.createTransitionData(Ee),Bt.push(Wt)),Zt.transition&&!Jt&&(st.anim||ur.anim))ur.ticks&&Bt.push(T.doTicksRelayout),s.doCalcdata(Ee),T.doAutoRangeAndConstraints(Ee),Bt.push(function(){return s.transitionFromReact(Ee,st,ur,At)});else if(st.fullReplot||ur.layoutReplot||Jt)Ee._fullLayout._skipDefaults=!0,Bt.push(H._doPlot);else{for(var Xt in ur.arrays){var lr=ur.arrays[Xt];if(lr.length){var sr=t.getComponentMethod(Xt,"drawOne");if(sr!==L.noop)for(var dr=0;dr<lr.length;dr++)sr(Ee,lr[dr]);else{var je=t.getComponentMethod(Xt,"draw");if(je===L.noop)throw new Error("cannot draw components: "+Xt);je(Ee)}}}Bt.push(s.previousPromises),st.style&&Bt.push(T.doTraceStyle),(st.colorbars||ur.colorbars)&&Bt.push(T.doColorBars),ur.legend&&Bt.push(T.doLegend),ur.layoutstyle&&Bt.push(T.layoutStyles),ur.axrange&&Oe(Bt),ur.ticks&&Bt.push(T.doTicksRelayout),ur.modebar&&Bt.push(T.doModeBar),ur.camera&&Bt.push(T.doCamera),Bt.push(C)}Bt.push(s.rehover,s.redrag,s.reselect),bt=L.syncOrAsync(Bt,Ee),(!bt||!bt.then)&&(bt=Promise.resolve(Ee))}return bt.then(function(){return Ee.emit("plotly_react",{data:Ne,layout:Je}),Ee})}function Ct(Ee,Ne,Je,qe,vt,bt){var Wt=Ne.length===Je.length;if(!vt&&!Wt)return{fullReplot:!0,calc:!0};var qt=E.traceFlags();qt.arrays={},qt.nChanges=0,qt.nChangesAnim=0;var At,zt;function Jt(Zt){var Kt=r.getTraceValObject(zt,Zt);return!zt._module.animatable&&Kt.anim&&(Kt.anim=!1),Kt}var Mr={getValObject:Jt,flags:qt,immutable:qe,transition:vt,newDataRevision:bt,gd:Ee},pt={};for(At=0;At<Ne.length;At++)if(Je[At]){if(zt=Je[At]._fullInput,s.hasMakesDataTransform(zt)&&(zt=Je[At]),pt[zt.uid])continue;pt[zt.uid]=1,Qe(Ne[At]._fullInput,zt,[],Mr)}return(qt.calc||qt.plot)&&(qt.fullReplot=!0),vt&&qt.nChanges&&qt.nChangesAnim&&(qt.anim=qt.nChanges===qt.nChangesAnim&&Wt?"all":"some"),qt}function Vt(Ee,Ne,Je,qe,vt){var bt=E.layoutFlags();bt.arrays={},bt.rangesAltered={},bt.nChanges=0,bt.nChangesAnim=0;function Wt(At){return r.getLayoutValObject(Je,At)}var qt={getValObject:Wt,flags:bt,immutable:qe,transition:vt,gd:Ee};return Qe(Ne,Je,[],qt),(bt.plot||bt.calc)&&(bt.layoutReplot=!0),vt&&bt.nChanges&&bt.nChangesAnim&&(bt.anim=bt.nChanges===bt.nChangesAnim?"all":"some"),bt}function Qe(Ee,Ne,Je,qe){var vt,bt,Wt,qt=qe.getValObject,At=qe.flags,zt=qe.immutable,Jt=qe.inArray,Mr=qe.arrayIndex;function pt(){var Ye=vt.editType;if(Jt&&Ye.indexOf("arraydraw")!==-1){L.pushUnique(At.arrays[Jt],Mr);return}E.update(At,vt),Ye!=="none"&&At.nChanges++,qe.transition&&vt.anim&&At.nChangesAnim++,(Be.test(Wt)||Ce.test(Wt))&&(At.rangesAltered[Je[0]]=1),xe.test(Wt)&&A(Ne,"_inputDomain").set(null),bt==="datarevision"&&(At.newDataRevision=1)}function Zt(Ye){return Ye.valType==="data_array"||Ye.arrayOk}for(bt in Ee){if(At.calc&&!qe.transition)return;var Kt=Ee[bt],mr=Ne[bt],ur=Je.concat(bt);if(Wt=ur.join("."),!(bt.charAt(0)==="_"||typeof Kt=="function"||Kt===mr)){if((bt==="tick0"||bt==="dtick")&&Je[0]!=="geo"){var dt=Ne.tickmode;if(dt==="auto"||dt==="array"||!dt)continue}if(!(bt==="range"&&Ne.autorange)&&!((bt==="zmin"||bt==="zmax")&&Ne.type==="contourcarpet")&&(vt=qt(ur),!!vt&&!(vt._compareAsJSON&&JSON.stringify(Kt)===JSON.stringify(mr)))){var st=vt.valType,xt,Mt=Zt(vt),Dt=Array.isArray(Kt),Rt=Array.isArray(mr);if(Dt&&Rt){var Nt="_input_"+bt,Bt=Ee[Nt],Xt=Ne[Nt];if(Array.isArray(Bt)&&Bt===Xt)continue}if(mr===void 0)Mt&&Dt?At.calc=!0:pt();else if(vt._isLinkedToArray){var lr=[],sr=!1;Jt||(At.arrays[bt]=lr);var dr=Math.min(Kt.length,mr.length),je=Math.max(Kt.length,mr.length);if(dr!==je)if(vt.editType==="arraydraw")sr=!0;else{pt();continue}for(xt=0;xt<dr;xt++)Qe(Kt[xt],mr[xt],ur.concat(xt),L.extendFlat({inArray:bt,arrayIndex:xt},qe));if(sr)for(xt=dr;xt<je;xt++)lr.push(xt)}else!st&&L.isPlainObject(Kt)?Qe(Kt,mr,ur,qe):Mt?Dt&&Rt?(zt&&(At.calc=!0),(zt||qe.newDataRevision)&&pt()):Dt!==Rt?At.calc=!0:pt():Dt&&Rt?(Kt.length!==mr.length||String(Kt)!==String(mr))&&pt():pt()}}}for(bt in Ne)if(!(bt in Ee||bt.charAt(0)==="_"||typeof Ne[bt]=="function"))if(vt=qt(Je.concat(bt)),Zt(vt)&&Array.isArray(Ne[bt])){At.calc=!0;return}else pt()}function Fe(Ee,Ne){var Je;for(Je in Ee)if(Je.charAt(0)!=="_"){var qe=Ee[Je],vt=Ne[Je];if(qe!==vt)if(L.isPlainObject(qe)&&L.isPlainObject(vt)){if(Fe(qe,vt))return!0}else if(Array.isArray(qe)&&Array.isArray(vt)){if(qe.length!==vt.length)return!0;for(var bt=0;bt<qe.length;bt++)if(qe[bt]!==vt[bt])if(L.isPlainObject(qe[bt])&&L.isPlainObject(vt[bt])){if(Fe(qe[bt],vt[bt]))return!0}else return!0}else return!0}}function Ie(Ee,Ne,Je){if(Ee=L.getGraphDiv(Ee),!L.isPlotDiv(Ee))throw new Error("This element is not a Plotly plot: "+Ee+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var qe=Ee._transitionData;qe._frameQueue||(qe._frameQueue=[]),Je=s.supplyAnimationDefaults(Je);var vt=Je.transition,bt=Je.frame;qe._frameWaitingCnt===void 0&&(qe._frameWaitingCnt=0);function Wt(zt){return Array.isArray(vt)?zt>=vt.length?vt[0]:vt[zt]:vt}function qt(zt){return Array.isArray(bt)?zt>=bt.length?bt[0]:bt[zt]:bt}function At(zt,Jt){var Mr=0;return function(){if(zt&&++Mr===Jt)return zt()}}return new Promise(function(zt,Jt){function Mr(){if(qe._frameQueue.length!==0){for(;qe._frameQueue.length;){var dr=qe._frameQueue.pop();dr.onInterrupt&&dr.onInterrupt()}Ee.emit("plotly_animationinterrupted",[])}}function pt(dr){if(dr.length!==0){for(var je=0;je<dr.length;je++){var Ye;dr[je].type==="byname"?Ye=s.computeFrame(Ee,dr[je].name):Ye=dr[je].data;var It=qt(je),kt=Wt(je);kt.duration=Math.min(kt.duration,It.duration);var Yt={frame:Ye,name:dr[je].name,frameOpts:It,transitionOpts:kt};je===dr.length-1&&(Yt.onComplete=At(zt,2),Yt.onInterrupt=Jt),qe._frameQueue.push(Yt)}Je.mode==="immediate"&&(qe._lastFrameAt=-1/0),qe._animationRaf||mr()}}function Zt(){Ee.emit("plotly_animated"),window.cancelAnimationFrame(qe._animationRaf),qe._animationRaf=null}function Kt(){qe._currentFrame&&qe._currentFrame.onComplete&&qe._currentFrame.onComplete();var dr=qe._currentFrame=qe._frameQueue.shift();if(dr){var je=dr.name?dr.name.toString():null;Ee._fullLayout._currentFrame=je,qe._lastFrameAt=Date.now(),qe._timeToNext=dr.frameOpts.duration,s.transition(Ee,dr.frame.data,dr.frame.layout,M.coerceTraceIndices(Ee,dr.frame.traces),dr.frameOpts,dr.transitionOpts).then(function(){dr.onComplete&&dr.onComplete()}),Ee.emit("plotly_animatingframe",{name:je,frame:dr.frame,animation:{frame:dr.frameOpts,transition:dr.transitionOpts}})}else Zt()}function mr(){Ee.emit("plotly_animating"),qe._lastFrameAt=-1/0,qe._timeToNext=0,qe._runningTransitions=0,qe._currentFrame=null;var dr=function(){qe._animationRaf=window.requestAnimationFrame(dr),Date.now()-qe._lastFrameAt>qe._timeToNext&&Kt()};dr()}var ur=0;function dt(dr){return Array.isArray(vt)?ur>=vt.length?dr.transitionOpts=vt[ur]:dr.transitionOpts=vt[0]:dr.transitionOpts=vt,ur++,dr}var st,xt,Mt=[],Dt=Ne==null,Rt=Array.isArray(Ne),Nt=!Dt&&!Rt&&L.isPlainObject(Ne);if(Nt)Mt.push({type:"object",data:dt(L.extendFlat({},Ne))});else if(Dt||["string","number"].indexOf(typeof Ne)!==-1)for(st=0;st<qe._frames.length;st++)xt=qe._frames[st],xt&&(Dt||String(xt.group)===String(Ne))&&Mt.push({type:"byname",name:String(xt.name),data:dt({name:xt.name})});else if(Rt)for(st=0;st<Ne.length;st++){var Bt=Ne[st];["number","string"].indexOf(typeof Bt)!==-1?(Bt=String(Bt),Mt.push({type:"byname",name:Bt,data:dt({name:Bt})})):L.isPlainObject(Bt)&&Mt.push({type:"object",data:dt(L.extendFlat({},Bt))})}for(st=0;st<Mt.length;st++)if(xt=Mt[st],xt.type==="byname"&&!qe._frameHash[xt.data.name]){L.warn('animate failure: frame not found: "'+xt.data.name+'"'),Jt();return}["next","immediate"].indexOf(Je.mode)!==-1&&Mr(),Je.direction==="reverse"&&Mt.reverse();var Xt=Ee._fullLayout._currentFrame;if(Xt&&Je.fromcurrent){var lr=-1;for(st=0;st<Mt.length;st++)if(xt=Mt[st],xt.type==="byname"&&xt.name===Xt){lr=st;break}if(lr>0&&lr<Mt.length-1){var sr=[];for(st=0;st<Mt.length;st++)xt=Mt[st],(Mt[st].type!=="byname"||st>lr)&&sr.push(xt);Mt=sr}}Mt.length>0?pt(Mt):(Ee.emit("plotly_animated"),zt())})}function ze(Ee,Ne,Je){if(Ee=L.getGraphDiv(Ee),Ne==null)return Promise.resolve();if(!L.isPlotDiv(Ee))throw new Error("This element is not a Plotly plot: "+Ee+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var qe,vt,bt,Wt,qt=Ee._transitionData._frames,At=Ee._transitionData._frameHash;if(!Array.isArray(Ne))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Ne);var zt=qt.length+Ne.length*2,Jt=[],Mr={};for(qe=Ne.length-1;qe>=0;qe--)if(L.isPlainObject(Ne[qe])){var pt=Ne[qe].name,Zt=(At[pt]||Mr[pt]||{}).name,Kt=Ne[qe].name,mr=At[Zt]||Mr[Zt];Zt&&Kt&&typeof Kt=="number"&&mr&&S<b&&(S++,L.warn('addFrames: overwriting frame "'+(At[Zt]||Mr[Zt]).name+'" with a frame whose name of type "number" also equates to "'+Zt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),S===b&&L.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Mr[pt]={name:pt},Jt.push({frame:s.supplyFrameDefaults(Ne[qe]),index:Je&&Je[qe]!==void 0&&Je[qe]!==null?Je[qe]:zt+qe})}Jt.sort(function(Nt,Bt){return Nt.index>Bt.index?-1:Nt.index<Bt.index?1:0});var ur=[],dt=[],st=qt.length;for(qe=Jt.length-1;qe>=0;qe--){if(vt=Jt[qe].frame,typeof vt.name=="number"&&L.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!vt.name)for(;At[vt.name="frame "+Ee._transitionData._counter++];);if(At[vt.name]){for(bt=0;bt<qt.length&&(qt[bt]||{}).name!==vt.name;bt++);ur.push({type:"replace",index:bt,value:vt}),dt.unshift({type:"replace",index:bt,value:qt[bt]})}else Wt=Math.max(0,Math.min(Jt[qe].index,st)),ur.push({type:"insert",index:Wt,value:vt}),dt.unshift({type:"delete",index:Wt}),st++}var xt=s.modifyFrames,Mt=s.modifyFrames,Dt=[Ee,dt],Rt=[Ee,ur];return p&&p.add(Ee,xt,Dt,Mt,Rt),s.modifyFrames(Ee,ur)}function Re(Ee,Ne){if(Ee=L.getGraphDiv(Ee),!L.isPlotDiv(Ee))throw new Error("This element is not a Plotly plot: "+Ee);var Je,qe,vt=Ee._transitionData._frames,bt=[],Wt=[];if(!Ne)for(Ne=[],Je=0;Je<vt.length;Je++)Ne.push(Je);for(Ne=Ne.slice(),Ne.sort(),Je=Ne.length-1;Je>=0;Je--)qe=Ne[Je],bt.push({type:"delete",index:qe}),Wt.unshift({type:"insert",index:qe,value:vt[qe]});var qt=s.modifyFrames,At=s.modifyFrames,zt=[Ee,Wt],Jt=[Ee,bt];return p&&p.add(Ee,qt,zt,At,Jt),s.modifyFrames(Ee,bt)}function be(Ee){Ee=L.getGraphDiv(Ee);var Ne=Ee._fullLayout||{},Je=Ee._fullData||[];return s.cleanPlot([],{},Je,Ne),s.purge(Ee),v.purge(Ee),Ne._container&&Ne._container.remove(),delete Ee._context,Ee}function ye(Ee){var Ne=Ee._fullLayout,Je=Ee.getBoundingClientRect();if(!L.equalDomRects(Je,Ne._lastBBox)){var qe=Ne._invTransform=L.inverseTransformMatrix(L.getFullTransformMatrix(Ee));Ne._invScaleX=Math.sqrt(qe[0][0]*qe[0][0]+qe[0][1]*qe[0][1]+qe[0][2]*qe[0][2]),Ne._invScaleY=Math.sqrt(qe[1][0]*qe[1][0]+qe[1][1]*qe[1][1]+qe[1][2]*qe[1][2]),Ne._lastBBox=Je}}function Ae(Ee){var Ne=g.select(Ee),Je=Ee._fullLayout;if(Je._calcInverseTransform=ye,Je._calcInverseTransform(Ee),Je._container=Ne.selectAll(".plot-container").data([0]),Je._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Je._paperdiv=Je._container.selectAll(".svg-container").data([0]),Je._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Je._glcontainer=Je._paperdiv.selectAll(".gl-container").data([{}]),Je._glcontainer.enter().append("div").classed("gl-container",!0),Je._paperdiv.selectAll(".main-svg").remove(),Je._paperdiv.select(".modebar-container").remove(),Je._paper=Je._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Je._toppaper=Je._paperdiv.append("svg").classed("main-svg",!0),Je._modebardiv=Je._paperdiv.append("div"),delete Je._modeBar,Je._hoverpaper=Je._paperdiv.append("svg").classed("main-svg",!0),!Je._uid){var qe={};g.selectAll("defs").each(function(){this.id&&(qe[this.id.split("-")[1]]=1)}),Je._uid=L.randstr(qe)}Je._paperdiv.selectAll(".main-svg").attr(w.svgAttrs),Je._defs=Je._paper.append("defs").attr("id","defs-"+Je._uid),Je._clips=Je._defs.append("g").classed("clips",!0),Je._topdefs=Je._toppaper.append("defs").attr("id","topdefs-"+Je._uid),Je._topclips=Je._topdefs.append("g").classed("clips",!0),Je._bgLayer=Je._paper.append("g").classed("bglayer",!0),Je._draggers=Je._paper.append("g").classed("draglayer",!0);var vt=Je._paper.append("g").classed("layer-below",!0);Je._imageLowerLayer=vt.append("g").classed("imagelayer",!0),Je._shapeLowerLayer=vt.append("g").classed("shapelayer",!0),Je._cartesianlayer=Je._paper.append("g").classed("cartesianlayer",!0),Je._polarlayer=Je._paper.append("g").classed("polarlayer",!0),Je._smithlayer=Je._paper.append("g").classed("smithlayer",!0),Je._ternarylayer=Je._paper.append("g").classed("ternarylayer",!0),Je._geolayer=Je._paper.append("g").classed("geolayer",!0),Je._funnelarealayer=Je._paper.append("g").classed("funnelarealayer",!0),Je._pielayer=Je._paper.append("g").classed("pielayer",!0),Je._iciclelayer=Je._paper.append("g").classed("iciclelayer",!0),Je._treemaplayer=Je._paper.append("g").classed("treemaplayer",!0),Je._sunburstlayer=Je._paper.append("g").classed("sunburstlayer",!0),Je._indicatorlayer=Je._toppaper.append("g").classed("indicatorlayer",!0),Je._glimages=Je._paper.append("g").classed("glimages",!0);var bt=Je._toppaper.append("g").classed("layer-above",!0);Je._imageUpperLayer=bt.append("g").classed("imagelayer",!0),Je._shapeUpperLayer=bt.append("g").classed("shapelayer",!0),Je._selectionLayer=Je._toppaper.append("g").classed("selectionlayer",!0),Je._infolayer=Je._toppaper.append("g").classed("infolayer",!0),Je._menulayer=Je._toppaper.append("g").classed("menulayer",!0),Je._zoomlayer=Je._toppaper.append("g").classed("zoomlayer",!0),Je._hoverlayer=Je._hoverpaper.append("g").classed("hoverlayer",!0),Je._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Ee.emit("plotly_framework")}H.animate=Ie,H.addFrames=ze,H.deleteFrames=Re,H.addTraces=X,H.deleteTraces=J,H.extendTraces=Q,H.moveTraces=ee,H.prependTraces=j,H.newPlot=O,H._doPlot=a,H.purge=be,H.react=Et,H.redraw=F,H.relayout=Me,H.restyle=se,H.setPlotConfig=y,H.update=Ge,H._guiRelayout=ke(Me),H._guiRestyle=ke(se),H._guiUpdate=ke(Ge),H._storeDirectGUIEdit=ie},72075:function(W){var H={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function g(P,i){for(var L in P){var A=P[L];A.valType?i[L]=A.dflt:(i[L]||(i[L]={}),g(A,i[L]))}}g(H,e),W.exports={configAttributes:H,dfltConfig:e}},86281:function(W,H,e){var g=e(73972),P=e(71828),i=e(9012),L=e(10820),A=e(31391),v=e(85594),p=e(72075).configAttributes,t=e(30962),r=P.extendDeepAll,s=P.isPlainObject,n=P.isArrayOrTypedArray,l=P.nestedProperty,f=P.valObjectMeta,u="_isSubplotObj",m="_isLinkedToArray",c="_arrayAttrRegexps",w="_deprecated",h=[u,m,c,w];H.IS_SUBPLOT_OBJ=u,H.IS_LINKED_TO_ARRAY=m,H.DEPRECATED=w,H.UNDERSCORE_ATTRS=h,H.get=function(){var B={};g.allTypes.forEach(function(O){B[O]=T(O)});var F={};return Object.keys(g.transformsRegistry).forEach(function(O){F[O]=x(O)}),{defs:{valObjects:f,metaKeys:h.concat(["description","role","editType","impliedEdits"]),editType:{traces:t.traces,layout:t.layout},impliedEdits:{}},traces:B,layout:E(),transforms:F,frames:S(),animation:b(v),config:b(p)}},H.crawl=function(B,F,O,N){var _=O||0;N=N||"",Object.keys(B).forEach(function(U){var Y=B[U];if(h.indexOf(U)===-1){var K=(N?N+".":"")+U;F(Y,U,B,_,K),!H.isValObject(Y)&&s(Y)&&U!=="impliedEdits"&&H.crawl(Y,F,_+1,K)}})},H.isValObject=function(B){return B&&B.valType!==void 0},H.findArrayAttributes=function(B){var F=[],O=[],N=[],_,U;function Y(j,X,J,ee){O=O.slice(0,ee).concat([X]),N=N.slice(0,ee).concat([j&&j._isLinkedToArray]);var se=j&&(j.valType==="data_array"||j.arrayOk===!0)&&!(O[ee-1]==="colorbar"&&(X==="ticktext"||X==="tickvals"));se&&K(_,0,"")}function K(j,X,J){var ee=j[O[X]],se=J+O[X];if(X===O.length-1)n(ee)&&F.push(U+se);else if(N[X]){if(Array.isArray(ee))for(var q=0;q<ee.length;q++)s(ee[q])&&K(ee[q],X+1,se+"["+q+"].")}else s(ee)&&K(ee,X+1,se+".")}_=B,U="",H.crawl(i,Y),B._module&&B._module.attributes&&H.crawl(B._module.attributes,Y);var re=B.transforms;if(re)for(var ae=0;ae<re.length;ae++){var fe=re[ae],Q=fe._module;Q&&(U="transforms["+ae+"].",_=fe,H.crawl(Q.attributes,Y))}return F},H.getTraceValObject=function(B,F){var O=F[0],N=1,_,U;if(O==="transforms"){if(F.length===1)return i.transforms;var Y=B.transforms;if(!Array.isArray(Y)||!Y.length)return!1;var K=F[1];if(!M(K)||K>=Y.length)return!1;_=(g.transformsRegistry[Y[K].type]||{}).attributes,U=_&&_[F[2]],N=3}else{var re=B._module;if(re||(re=(g.modules[B.type||i.type.dflt]||{})._module),!re)return!1;if(_=re.attributes,U=_&&_[O],!U){var ae=re.basePlotModule;ae&&ae.attributes&&(U=ae.attributes[O])}U||(U=i[O])}return d(U,F,N)},H.getLayoutValObject=function(B,F){var O=o(B,F[0]);return d(O,F,1)};function o(B,F){var O,N,_,U,Y=B._basePlotModules;if(Y){var K;for(O=0;O<Y.length;O++){if(_=Y[O],_.attrRegex&&_.attrRegex.test(F)){if(_.layoutAttrOverrides)return _.layoutAttrOverrides;!K&&_.layoutAttributes&&(K=_.layoutAttributes)}var re=_.baseLayoutAttrOverrides;if(re&&F in re)return re[F]}if(K)return K}var ae=B._modules;if(ae){for(O=0;O<ae.length;O++)if(U=ae[O].layoutAttributes,U&&F in U)return U[F]}for(N in g.componentsRegistry){if(_=g.componentsRegistry[N],_.name==="colorscale"&&F.indexOf("coloraxis")===0)return _.layoutAttributes[F];if(!_.schema&&F===_.name)return _.layoutAttributes}return F in L?L[F]:!1}function d(B,F,O){if(!B)return!1;if(B._isLinkedToArray){if(M(F[O]))O++;else if(O<F.length)return!1}for(;O<F.length;O++){var N=B[F[O]];if(s(N))B=N;else break;if(O===F.length-1)break;if(B._isLinkedToArray){if(O++,!M(F[O]))return!1}else if(B.valType==="info_array"){O++;var _=F[O];if(!M(_))return!1;var U=B.items;if(Array.isArray(U)){if(_>=U.length)return!1;if(B.dimensions===2){if(O++,F.length===O)return B;var Y=F[O];if(!M(Y))return!1;B=U[_][Y]}else B=U[_]}else B=U}}return B}function M(B){return B===Math.round(B)&&B>=0}function T(B){var F,O;F=g.modules[B]._module,O=F.basePlotModule;var N={};N.type=null;var _=r({},i),U=r({},F.attributes);H.crawl(U,function(re,ae,fe,Q,j){l(_,j).set(void 0),re===void 0&&l(U,j).set(void 0)}),r(N,_),g.traceIs(B,"noOpacity")&&delete N.opacity,g.traceIs(B,"showLegend")||(delete N.showlegend,delete N.legendgroup),g.traceIs(B,"noHover")&&(delete N.hoverinfo,delete N.hoverlabel),F.selectPoints||delete N.selectedpoints,r(N,U),O.attributes&&r(N,O.attributes),N.type=B;var Y={meta:F.meta||{},categories:F.categories||{},animatable:!!F.animatable,type:B,attributes:b(N)};if(F.layoutAttributes){var K={};r(K,F.layoutAttributes),Y.layoutAttributes=b(K)}return F.animatable||H.crawl(Y,function(re){H.isValObject(re)&&"anim"in re&&delete re.anim}),Y}function E(){var B={},F,O;r(B,L);for(F in g.subplotsRegistry)if(O=g.subplotsRegistry[F],!!O.layoutAttributes)if(Array.isArray(O.attr))for(var N=0;N<O.attr.length;N++)z(B,O,O.attr[N]);else{var _=O.attr==="subplot"?O.name:O.attr;z(B,O,_)}for(F in g.componentsRegistry){O=g.componentsRegistry[F];var U=O.schema;if(U&&(U.subplots||U.layout)){var Y=U.subplots;if(Y&&Y.xaxis&&!Y.yaxis)for(var K in Y.xaxis)delete B.yaxis[K];delete B.xaxis.shift,delete B.xaxis.autoshift}else O.name==="colorscale"?r(B,O.layoutAttributes):O.layoutAttributes&&I(B,O.layoutAttributes,O.name)}return{layoutAttributes:b(B)}}function x(B){var F=g.transformsRegistry[B],O=r({},F.attributes);return Object.keys(g.componentsRegistry).forEach(function(N){var _=g.componentsRegistry[N];_.schema&&_.schema.transforms&&_.schema.transforms[B]&&Object.keys(_.schema.transforms[B]).forEach(function(U){I(O,_.schema.transforms[B][U],U)})}),{attributes:b(O)}}function S(){var B={frames:r({},A)};return b(B),B.frames}function b(B){return a(B),C(B),y(B),B}function a(B){function F(N){return{valType:"string",editType:"none"}}function O(N,_,U){H.isValObject(N)?(N.arrayOk===!0||N.valType==="data_array")&&(U[_+"src"]=F()):s(N)&&(N.role="object")}H.crawl(B,O)}function C(B){function F(O,N,_){if(O){var U=O[m];U&&(delete O[m],_[N]={items:{}},_[N].items[U]=O,_[N].role="object")}}H.crawl(B,F)}function y(B){function F(O){for(var N in O)if(s(O[N]))F(O[N]);else if(Array.isArray(O[N]))for(var _=0;_<O[N].length;_++)F(O[N][_]);else O[N]instanceof RegExp&&(O[N]=O[N].toString())}F(B)}function z(B,F,O){var N=l(B,O),_=r({},F.layoutAttributes);_[u]=!0,N.set(_)}function I(B,F,O){var N=l(B,O);N.set(r(N.get()||{},F))}},44467:function(W,H,e){var g=e(71828),P=e(9012),i="templateitemname",L={name:{valType:"string",editType:"none"}};L[i]={valType:"string",editType:"calc"},H.templatedArray=function(p,t){return t._isLinkedToArray=p,t.name=L.name,t[i]=L[i],t},H.traceTemplater=function(p){var t={},r,s;for(r in p)s=p[r],Array.isArray(s)&&s.length&&(t[r]=0);function n(l){r=g.coerce(l,{},P,"type");var f={type:r,_template:null};if(r in t){s=p[r];var u=t[r]%s.length;t[r]++,f._template=s[u]}return f}return{newTrace:n}},H.newContainer=function(p,t,r){var s=p._template,n=s&&(s[t]||r&&s[r]);g.isPlainObject(n)||(n=null);var l=p[t]={_template:n};return l},H.arrayTemplater=function(p,t,r){var s=p._template,n=s&&s[v(t)],l=s&&s[t];(!Array.isArray(l)||!l.length)&&(l=[]);var f={};function u(c){var w={name:c.name,_input:c},h=w[i]=c[i];if(!A(h))return w._template=n,w;for(var o=0;o<l.length;o++){var d=l[o];if(d.name===h)return f[h]=1,w._template=d,w}return w[r]=c[r]||!1,w._template=!1,w}function m(){for(var c=[],w=0;w<l.length;w++){var h=l[w],o=h.name;if(A(o)&&!f[o]){var d={_template:h,name:o,_input:{_templateitemname:o}};d[i]=h[i],c.push(d),f[o]=1}}return c}return{newItem:u,defaultItems:m}};function A(p){return p&&typeof p=="string"}function v(p){var t=p.length-1;return p.charAt(t)!=="s"&&g.warn("bad argument to arrayDefaultKey: "+p),p.substr(0,p.length-1)+"defaults"}H.arrayDefaultKey=v,H.arrayEditor=function(p,t,r){var s=(g.nestedProperty(p,t).get()||[]).length,n=r._index,l=n>=s&&(r._input||{})._templateitemname;l&&(n=s);var f=t+"["+n+"]",u;function m(){u={},l&&(u[f]={},u[f][i]=l)}m();function c(d,M){u[d]=M}function w(d,M){l?g.nestedProperty(u[f],d).set(M):u[f+"."+d]=M}function h(){var d=u;return m(),d}function o(d,M){d&&w(d,M);var T=h();for(var E in T)g.nestedProperty(p,E).set(T[E])}return{modifyBase:c,modifyItem:w,getUpdateObj:h,applyUpdate:o}}},61549:function(W,H,e){var g=e(39898),P=e(73972),i=e(74875),L=e(71828),A=e(63893),v=e(33306),p=e(7901),t=e(91424),r=e(92998),s=e(64168),n=e(89298),l=e(18783),f=e(99082),u=f.enforce,m=f.clean,c=e(71739).doAutoRange,w="start",h="middle",o="end";H.layoutStyles=function(O){return L.syncOrAsync([i.doAutoMargin,M],O)};function d(O,N,_){for(var U=0;U<_.length;U++){var Y=_[U][0],K=_[U][1];if(!(Y[0]>=O[1]||Y[1]<=O[0])&&K[0]<N[1]&&K[1]>N[0])return!0}return!1}function M(O){var N=O._fullLayout,_=N._size,U=_.p,Y=n.list(O,"",!0),K,re,ae,fe,Q,j;if(N._paperdiv.style({width:O._context.responsive&&N.autosize&&!O._context._hasZeroWidth&&!O.layout.width?"100%":N.width+"px",height:O._context.responsive&&N.autosize&&!O._context._hasZeroHeight&&!O.layout.height?"100%":N.height+"px"}).selectAll(".main-svg").call(t.setSize,N.width,N.height),O._context.setBackground(O,N.paper_bgcolor),H.drawMainTitle(O),s.manage(O),!N._has("cartesian"))return i.previousPromises(O);function X(be,ye,Ae){var Ee=be._lw/2;if(be._id.charAt(0)==="x"){if(ye){if(Ae==="top")return ye._offset-U-Ee}else return _.t+_.h*(1-(be.position||0))+Ee%1;return ye._offset+ye._length+U+Ee}if(ye){if(Ae==="right")return ye._offset+ye._length+U+Ee}else return _.l+_.w*(be.position||0)+Ee%1;return ye._offset-U-Ee}for(K=0;K<Y.length;K++){fe=Y[K];var J=fe._anchorAxis;fe._linepositions={},fe._lw=t.crispRound(O,fe.linewidth,1),fe._mainLinePosition=X(fe,J,fe.side),fe._mainMirrorPosition=fe.mirror&&J?X(fe,J,l.OPPOSITE_SIDE[fe.side]):null}var ee=[],se=[],q=[],$=p.opacity(N.paper_bgcolor)===1&&p.opacity(N.plot_bgcolor)===1&&N.paper_bgcolor===N.plot_bgcolor;for(re in N._plots)if(ae=N._plots[re],ae.mainplot)ae.bg&&ae.bg.remove(),ae.bg=void 0;else{var le=ae.xaxis.domain,ie=ae.yaxis.domain,ce=ae.plotgroup;if(d(le,ie,q)){var me=ce.node(),Me=ae.bg=L.ensureSingle(ce,"rect","bg");me.insertBefore(Me.node(),me.childNodes[0]),se.push(re)}else ce.select("rect.bg").remove(),q.push([le,ie]),$||(ee.push(re),se.push(re))}var we=N._bgLayer.selectAll(".bg").data(ee);for(we.enter().append("rect").classed("bg",!0),we.exit().remove(),we.each(function(be){N._plots[be].bg=g.select(this)}),K=0;K<se.length;K++)ae=N._plots[se[K]],Q=ae.xaxis,j=ae.yaxis,ae.bg&&Q._offset!==void 0&&j._offset!==void 0&&ae.bg.call(t.setRect,Q._offset-U,j._offset-U,Q._length+2*U,j._length+2*U).call(p.fill,N.plot_bgcolor).style("stroke-width",0);if(!N._hasOnlyLargeSploms)for(re in N._plots){ae=N._plots[re],Q=ae.xaxis,j=ae.yaxis;var Oe=ae.clipId="clip"+N._uid+re+"plot",Be=L.ensureSingleById(N._clips,"clipPath",Oe,function(be){be.classed("plotclip",!0).append("rect")});ae.clipRect=Be.select("rect").attr({width:Q._length,height:j._length}),t.setTranslate(ae.plot,Q._offset,j._offset);var Ce,xe;ae._hasClipOnAxisFalse?(Ce=null,xe=Oe):(Ce=Oe,xe=null),t.setClipUrl(ae.plot,Ce,O),ae.layerClipId=xe}var Se,He,Ge,ke,We,it,et,tt,at,ht,yt,gt,Et;function Ct(be){return"M"+Se+","+be+"H"+He}function Vt(be){return"M"+Q._offset+","+be+"h"+Q._length}function Qe(be){return"M"+be+","+tt+"V"+et}function Fe(be){return j._shift!==void 0&&(be+=j._shift),"M"+be+","+j._offset+"v"+j._length}function Ie(be,ye,Ae){if(!be.showline||re!==be._mainSubplot)return"";if(!be._anchorAxis)return Ae(be._mainLinePosition);var Ee=ye(be._mainLinePosition);return be.mirror&&(Ee+=ye(be._mainMirrorPosition)),Ee}for(re in N._plots){ae=N._plots[re],Q=ae.xaxis,j=ae.yaxis;var ze="M0,0";T(Q,re)&&(We=x(Q,"left",j,Y),Se=Q._offset-(We?U+We:0),it=x(Q,"right",j,Y),He=Q._offset+Q._length+(it?U+it:0),Ge=X(Q,j,"bottom"),ke=X(Q,j,"top"),Et=!Q._anchorAxis||re!==Q._mainSubplot,Et&&(Q.mirror==="allticks"||Q.mirror==="all")&&(Q._linepositions[re]=[Ge,ke]),ze=Ie(Q,Ct,Vt),Et&&Q.showline&&(Q.mirror==="all"||Q.mirror==="allticks")&&(ze+=Ct(Ge)+Ct(ke)),ae.xlines.style("stroke-width",Q._lw+"px").call(p.stroke,Q.showline?Q.linecolor:"rgba(0,0,0,0)")),ae.xlines.attr("d",ze);var Re="M0,0";T(j,re)&&(yt=x(j,"bottom",Q,Y),et=j._offset+j._length+(yt?U:0),gt=x(j,"top",Q,Y),tt=j._offset-(gt?U:0),at=X(j,Q,"left"),ht=X(j,Q,"right"),Et=!j._anchorAxis||re!==j._mainSubplot,Et&&(j.mirror==="allticks"||j.mirror==="all")&&(j._linepositions[re]=[at,ht]),Re=Ie(j,Qe,Fe),Et&&j.showline&&(j.mirror==="all"||j.mirror==="allticks")&&(Re+=Qe(at)+Qe(ht)),ae.ylines.style("stroke-width",j._lw+"px").call(p.stroke,j.showline?j.linecolor:"rgba(0,0,0,0)")),ae.ylines.attr("d",Re)}return n.makeClipPaths(O),i.previousPromises(O)}function T(O,N){return(O.ticks||O.showline)&&(N===O._mainSubplot||O.mirror==="all"||O.mirror==="allticks")}function E(O,N,_){if(!_.showline||!_._lw)return!1;if(_.mirror==="all"||_.mirror==="allticks")return!0;var U=_._anchorAxis;if(!U)return!1;var Y=l.FROM_BL[N];return _.side===N?U.domain[Y]===O.domain[Y]:_.mirror&&U.domain[1-Y]===O.domain[1-Y]}function x(O,N,_,U){if(E(O,N,_))return _._lw;for(var Y=0;Y<U.length;Y++){var K=U[Y];if(K._mainAxis===_._mainAxis&&E(O,N,K))return K._lw}return 0}H.drawMainTitle=function(O){var N=O._fullLayout.title,_=O._fullLayout,U=B(_),Y=F(_),K=z(_,Y),re=y(_,U);if(r.draw(O,"gtitle",{propContainer:_,propName:"title.text",placeholder:_._dfltTitle.plot,attributes:{x:re,y:K,"text-anchor":U,dy:Y}}),N.text&&N.automargin){var ae=g.selectAll(".gtitle"),fe=t.bBox(ae.node()).height,Q=a(O,N,fe);if(Q>0){C(O,K,Q,fe),ae.attr({x:re,y:K,"text-anchor":U,dy:I(N.yanchor)}).call(A.positionText,re,K);var j=(N.text.match(A.BR_TAG_ALL)||[]).length;if(j){var X=l.LINE_SPACING*j+l.MID_SHIFT;N.y===0&&(X=-X),ae.selectAll(".line").each(function(){var J=+this.getAttribute("dy").slice(0,-2)-X+"em";this.setAttribute("dy",J)})}}}};function S(O,N,_,U,Y){var K=N.yref==="paper"?O._fullLayout._size.h:O._fullLayout.height,re=L.isTopAnchor(N)?U:U-Y,ae=_==="b"?K-re:re;return L.isTopAnchor(N)&&_==="t"||L.isBottomAnchor(N)&&_==="b"?!1:ae<Y}function b(O,N,_,U,Y){var K=0;return _==="middle"&&(K+=Y/2),O==="t"?(_==="top"&&(K+=Y),K+=U-N*U):(_==="bottom"&&(K+=Y),K+=N*U),K}function a(O,N,_){var U=N.y,Y=N.yanchor,K=U>.5?"t":"b",re=O._fullLayout.margin[K],ae=0;return N.yref==="paper"?ae=_+N.pad.t+N.pad.b:N.yref==="container"&&(ae=b(K,U,Y,O._fullLayout.height,_)+N.pad.t+N.pad.b),ae>re?ae:0}function C(O,N,_,U){var Y="title.automargin",K=O._fullLayout.title,re=K.y>.5?"t":"b",ae={x:K.x,y:K.y,t:0,b:0},fe={};K.yref==="paper"&&S(O,K,re,N,U)?ae[re]=_:K.yref==="container"&&(fe[re]=_,O._fullLayout._reservedMargin[Y]=fe),i.allowAutoMargin(O,Y),i.autoMargin(O,Y,ae)}function y(O,N){var _=O.title,U=O._size,Y=0;switch(N===w?Y=_.pad.l:N===o&&(Y=-_.pad.r),_.xref){case"paper":return U.l+U.w*_.x+Y;case"container":default:return O.width*_.x+Y}}function z(O,N){var _=O.title,U=O._size,Y=0;if(N==="0em"||!N?Y=-_.pad.b:N===l.CAP_SHIFT+"em"&&(Y=_.pad.t),_.y==="auto")return U.t/2;switch(_.yref){case"paper":return U.t+U.h-U.h*_.y+Y;case"container":default:return O.height-O.height*_.y+Y}}function I(O){return O==="top"?l.CAP_SHIFT+.3+"em":O==="bottom"?"-0.3em":l.MID_SHIFT+"em"}function B(O){var N=O.title,_=h;return L.isRightAnchor(N)?_=o:L.isLeftAnchor(N)&&(_=w),_}function F(O){var N=O.title,_="0em";return L.isTopAnchor(N)?_=l.CAP_SHIFT+"em":L.isMiddleAnchor(N)&&(_=l.MID_SHIFT+"em"),_}H.doTraceStyle=function(O){var N=O.calcdata,_=[],U;for(U=0;U<N.length;U++){var Y=N[U],K=Y[0]||{},re=K.trace||{},ae=re._module||{},fe=ae.arraysToCalcdata;fe&&fe(Y,re);var Q=ae.editStyle;Q&&_.push({fn:Q,cd0:K})}if(_.length){for(U=0;U<_.length;U++){var j=_[U];j.fn(O,j.cd0)}v(O),H.redrawReglTraces(O)}return i.style(O),P.getComponentMethod("legend","draw")(O),i.previousPromises(O)},H.doColorBars=function(O){return P.getComponentMethod("colorbar","draw")(O),i.previousPromises(O)},H.layoutReplot=function(O){var N=O.layout;return O.layout=void 0,P.call("_doPlot",O,"",N)},H.doLegend=function(O){return P.getComponentMethod("legend","draw")(O),i.previousPromises(O)},H.doTicksRelayout=function(O){return n.draw(O,"redraw"),O._fullLayout._hasOnlyLargeSploms&&(P.subplotsRegistry.splom.updateGrid(O),v(O),H.redrawReglTraces(O)),H.drawMainTitle(O),i.previousPromises(O)},H.doModeBar=function(O){var N=O._fullLayout;s.manage(O);for(var _=0;_<N._basePlotModules.length;_++){var U=N._basePlotModules[_].updateFx;U&&U(O)}return i.previousPromises(O)},H.doCamera=function(O){for(var N=O._fullLayout,_=N._subplots.gl3d,U=0;U<_.length;U++){var Y=N[_[U]],K=Y._scene;K.setViewport(Y)}},H.drawData=function(O){var N=O._fullLayout;v(O);for(var _=N._basePlotModules,U=0;U<_.length;U++)_[U].plot(O);return H.redrawReglTraces(O),i.style(O),P.getComponentMethod("selections","draw")(O),P.getComponentMethod("shapes","draw")(O),P.getComponentMethod("annotations","draw")(O),P.getComponentMethod("images","draw")(O),N._replotting=!1,i.previousPromises(O)},H.redrawReglTraces=function(O){var N=O._fullLayout;if(N._has("regl")){var _=O._fullData,U=[],Y=[],K,re;for(N._hasOnlyLargeSploms&&N._splomGrid.draw(),K=0;K<_.length;K++){var ae=_[K];ae.visible===!0&&ae._length!==0&&(ae.type==="splom"?N._splomScenes[ae.uid].draw():ae.type==="scattergl"?L.pushUnique(U,ae.xaxis+ae.yaxis):ae.type==="scatterpolargl"&&L.pushUnique(Y,ae.subplot))}for(K=0;K<U.length;K++)re=N._plots[U[K]],re._scene&&re._scene.draw();for(K=0;K<Y.length;K++)re=N[Y[K]]._subplot,re._scene&&re._scene.draw()}},H.doAutoRangeAndConstraints=function(O){for(var N=n.list(O,"",!0),_,U={},Y=0;Y<N.length;Y++)if(_=N[Y],!U[_._id]){U[_._id]=1,m(O,_),c(O,_);var K=_._matchGroup;if(K)for(var re in K){var ae=n.getFromId(O,re);c(O,ae,_.range),U[re]=1}}u(O)},H.finalDraw=function(O){P.getComponentMethod("rangeslider","draw")(O),P.getComponentMethod("rangeselector","draw")(O)},H.drawMarginPushers=function(O){P.getComponentMethod("legend","draw")(O),P.getComponentMethod("rangeselector","draw")(O),P.getComponentMethod("sliders","draw")(O),P.getComponentMethod("updatemenus","draw")(O),P.getComponentMethod("colorbar","draw")(O)}},96318:function(W,H,e){var g=e(71828),P=g.isPlainObject,i=e(86281),L=e(74875),A=e(9012),v=e(44467),p=e(72075).dfltConfig;H.makeTemplate=function(c){c=g.isPlainObject(c)?c:g.getGraphDiv(c),c=g.extendDeep({_context:p},{data:c.data,layout:c.layout}),L.supplyDefaults(c);var w=c.data||[],h=c.layout||{};h._basePlotModules=c._fullLayout._basePlotModules,h._modules=c._fullLayout._modules;var o={data:{},layout:{}};w.forEach(function(y){var z={};s(y,z,l.bind(null,y));var I=g.coerce(y,{},A,"type"),B=o.data[I];B||(B=o.data[I]=[]),B.push(z)}),s(h,o.layout,n.bind(null,h)),delete o.layout.template;var d=h.template;if(P(d)){var M=d.layout,T,E,x,S,b,a;P(M)&&t(M,o.layout);var C=d.data;if(P(C)){for(E in o.data)if(x=C[E],Array.isArray(x)){for(b=o.data[E],a=b.length,S=x.length,T=0;T<a;T++)t(x[T%S],b[T]);for(T=a;T<S;T++)b.push(g.extendDeep({},x[T]))}for(E in C)E in o.data||(o.data[E]=g.extendDeep([],C[E]))}}return o};function t(c,w){c=g.extendDeep({},c);var h=Object.keys(c).sort(),o,d;function M(b,a,C){if(P(a)&&P(b))t(b,a);else if(Array.isArray(a)&&Array.isArray(b)){var y=v.arrayTemplater({_template:c},C);for(d=0;d<a.length;d++){var z=a[d],I=y.newItem(z)._template;I&&t(I,z)}var B=y.defaultItems();for(d=0;d<B.length;d++)a.push(B[d]._template);for(d=0;d<a.length;d++)delete a[d].templateitemname}}for(o=0;o<h.length;o++){var T=h[o],E=c[T];if(T in w?M(E,w[T],T):w[T]=E,r(T)===T)for(var x in w){var S=r(x);x!==S&&S===T&&!(x in c)&&M(E,w[x],T)}}}function r(c){return c.replace(/[0-9]+$/,"")}function s(c,w,h,o,d){var M=d&&h(d);for(var T in c){var E=c[T],x=f(c,T,o),S=f(c,T,d),b=h(S);if(!b){var a=r(T);a!==T&&(S=f(c,a,d),b=h(S))}if(!(M&&M===b)&&!(!b||b._noTemplating||b.valType==="data_array"||b.arrayOk&&Array.isArray(E)))if(!b.valType&&P(E))s(E,w,h,x,S);else if(b._isLinkedToArray&&Array.isArray(E))for(var C=!1,y=0,z={},I=0;I<E.length;I++){var B=E[I];if(P(B)){var F=B.name;if(F)z[F]||(s(B,w,h,f(E,y,x),f(E,y,S)),y++,z[F]=1);else if(!C){var O=v.arrayDefaultKey(T),N=f(c,O,o),_=f(E,y,x);s(B,w,h,_,f(E,y,S));var U=g.nestedProperty(w,_),Y=g.nestedProperty(w,N);Y.set(U.get()),U.set(null),C=!0}}}else{var K=g.nestedProperty(w,x);K.set(E)}}}function n(c,w){return i.getLayoutValObject(c,g.nestedProperty({},w).parts)}function l(c,w){return i.getTraceValObject(c,g.nestedProperty({},w).parts)}function f(c,w,h){var o;return h?Array.isArray(c)?o=h+"["+w+"]":o=h+"."+w:o=w,o}H.validateTemplate=function(c,w){var h=g.extendDeep({},{_context:p,data:c.data,layout:c.layout}),o=h.layout||{};P(w)||(w=o.template||{});var d=w.layout,M=w.data,T=[];h.layout=o,h.layout.template=w,L.supplyDefaults(h);var E=h._fullLayout,x=h._fullData,S={};function b(N,_){for(var U in N)if(U.charAt(0)!=="_"&&P(N[U])){var Y=r(U),K=[],re;for(re=0;re<_.length;re++)K.push(f(N,U,_[re])),Y!==U&&K.push(f(N,Y,_[re]));for(re=0;re<K.length;re++)S[K[re]]=1;b(N[U],K)}}function a(N,_){for(var U in N)if(U.indexOf("defaults")===-1&&P(N[U])){var Y=f(N,U,_);S[Y]?a(N[U],Y):T.push({code:"unused",path:Y})}}if(P(d)?(b(E,["layout"]),a(d,"layout")):T.push({code:"layout"}),!P(M))T.push({code:"data"});else{for(var C={},y,z=0;z<x.length;z++){var I=x[z];y=I.type,C[y]=(C[y]||0)+1,I._fullInput._template||T.push({code:"missing",index:I._fullInput.index,traceType:y})}for(y in M){var B=M[y].length,F=C[y]||0;B>F?T.push({code:"unused",traceType:y,templateCount:B,dataCount:F}):F>B&&T.push({code:"reused",traceType:y,templateCount:B,dataCount:F})}}function O(N,_){for(var U in N)if(U.charAt(0)!=="_"){var Y=N[U],K=f(N,U,_);P(Y)?(Array.isArray(N)&&Y._template===!1&&Y.templateitemname&&T.push({code:"missing",path:K,templateitemname:Y.templateitemname}),O(Y,K)):Array.isArray(Y)&&u(Y)&&O(Y,K)}}if(O({data:x,layout:E},""),T.length)return T.map(m)};function u(c){for(var w=0;w<c.length;w++)if(P(c[w]))return!0}function m(c){var w;switch(c.code){case"data":w="The template has no key data.";break;case"layout":w="The template has no key layout.";break;case"missing":c.path?w="There are no templates for item "+c.path+" with name "+c.templateitemname:w="There are no templates for trace "+c.index+", of type "+c.traceType+".";break;case"unused":c.path?w="The template item at "+c.path+" was not used in constructing the plot.":c.dataCount?w="Some of the templates of type "+c.traceType+" were not used. The template has "+c.templateCount+" traces, the data only has "+c.dataCount+" of this type.":w="The template has "+c.templateCount+" traces of type "+c.traceType+" but there are none in the data.";break;case"reused":w="Some of the templates of type "+c.traceType+" were used more than once. The template has "+c.templateCount+" traces, the data has "+c.dataCount+" of this type.";break}return c.msg=w,c}},403:function(W,H,e){var g=e(92770),P=e(72391),i=e(74875),L=e(71828),A=e(25095),v=e(5900),p=e(70942),t=e(11506).version,r={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function s(n,l){l=l||{};var f,u,m,c;L.isPlainObject(n)?(f=n.data||[],u=n.layout||{},m=n.config||{},c={}):(n=L.getGraphDiv(n),f=L.extendDeep([],n.data),u=L.extendDeep({},n.layout),m=n._context,c=n._fullLayout||{});function w(F){return!(F in l)||L.validate(l[F],r[F])}if(!w("width")&&l.width!==null||!w("height")&&l.height!==null)throw new Error("Height and width should be pixel values.");if(!w("format"))throw new Error("Export format is not "+L.join2(r.format.values,", "," or ")+".");var h={};function o(F,O){return L.coerce(l,h,r,F,O)}var d=o("format"),M=o("width"),T=o("height"),E=o("scale"),x=o("setBackground"),S=o("imageDataOnly"),b=document.createElement("div");b.style.position="absolute",b.style.left="-5000px",document.body.appendChild(b);var a=L.extendFlat({},u);M?a.width=M:l.width===null&&g(c.width)&&(a.width=c.width),T?a.height=T:l.height===null&&g(c.height)&&(a.height=c.height);var C=L.extendFlat({},m,{_exportedPlot:!0,staticPlot:!0,setBackground:x}),y=A.getRedrawFunc(b);function z(){return new Promise(function(F){setTimeout(F,A.getDelay(b._fullLayout))})}function I(){return new Promise(function(F,O){var N=v(b,d,E),_=b._fullLayout.width,U=b._fullLayout.height;function Y(){P.purge(b),document.body.removeChild(b)}if(d==="full-json"){var K=i.graphJson(b,!1,"keepdata","object",!0,!0);return K.version=t,K=JSON.stringify(K),Y(),F(S?K:A.encodeJSON(K))}if(Y(),d==="svg")return F(S?N:A.encodeSVG(N));var re=document.createElement("canvas");re.id=L.randstr(),p({format:d,width:_,height:U,scale:E,canvas:re,svg:N,promise:!0}).then(F).catch(O)})}function B(F){return S?F.replace(A.IMAGE_URL_PREFIX,""):F}return new Promise(function(F,O){P.newPlot(b,f,a,C).then(y).then(z).then(I).then(function(N){F(B(N))}).catch(function(N){O(N)})})}W.exports=s},84936:function(W,H,e){var g=e(71828),P=e(74875),i=e(86281),L=e(72075).dfltConfig,A=g.isPlainObject,v=Array.isArray,p=g.isArrayOrTypedArray;W.exports=function(o,d){o===void 0&&(o=[]),d===void 0&&(d={});var M=i.get(),T=[],E={_context:g.extendFlat({},L)},x,S;v(o)?(E.data=g.extendDeep([],o),x=o):(E.data=[],x=[],T.push(l("array","data"))),A(d)?(E.layout=g.extendDeep({},d),S=d):(E.layout={},S={},arguments.length>1&&T.push(l("object","layout"))),P.supplyDefaults(E);for(var b=E._fullData,a=x.length,C=0;C<a;C++){var y=x[C],z=["data",C];if(!A(y)){T.push(l("object",z));continue}var I=b[C],B=I.type,F=M.traces[B].attributes;F.type={valType:"enumerated",values:[B]},I.visible===!1&&y.visible!==!1&&T.push(l("invisible",z)),t(y,I,F,T,z);var O=y.transforms,N=I.transforms;if(O){v(O)||T.push(l("array",z,["transforms"])),z.push("transforms");for(var _=0;_<O.length;_++){var U=["transforms",_],Y=O[_].type;if(!A(O[_])){T.push(l("object",z,U));continue}var K=M.transforms[Y]?M.transforms[Y].attributes:{};K.type={valType:"enumerated",values:Object.keys(M.transforms)},t(O[_],N[_],K,T,z,U)}}}var re=E._fullLayout,ae=r(M,b);return t(S,re,ae,T,"layout"),T.length===0?void 0:T};function t(h,o,d,M,T,E){E=E||[];for(var x=Object.keys(h),S=0;S<x.length;S++){var b=x[S];if(b!=="transforms"){var a=E.slice();a.push(b);var C=h[b],y=o[b],z=u(d,b),I=(z||{}).valType,B=I==="info_array",F=I==="colorscale",O=(z||{}).items;if(!f(d,b))M.push(l("schema",T,a));else if(A(C)&&A(y)&&I!=="any")t(C,y,z,M,T,a);else if(B&&v(C)){C.length>y.length&&M.push(l("unused",T,a.concat(y.length)));var N=y.length,_=Array.isArray(O);_&&(N=Math.min(N,O.length));var U,Y,K,re,ae;if(z.dimensions===2)for(Y=0;Y<N;Y++)if(v(C[Y])){C[Y].length>y[Y].length&&M.push(l("unused",T,a.concat(Y,y[Y].length)));var fe=y[Y].length;for(U=0;U<(_?Math.min(fe,O[Y].length):fe);U++)K=_?O[Y][U]:O,re=C[Y][U],ae=y[Y][U],g.validate(re,K)?ae!==re&&ae!==+re&&M.push(l("dynamic",T,a.concat(Y,U),re,ae)):M.push(l("value",T,a.concat(Y,U),re))}else M.push(l("array",T,a.concat(Y),C[Y]));else for(Y=0;Y<N;Y++)K=_?O[Y]:O,re=C[Y],ae=y[Y],g.validate(re,K)?ae!==re&&ae!==+re&&M.push(l("dynamic",T,a.concat(Y),re,ae)):M.push(l("value",T,a.concat(Y),re))}else if(z.items&&!B&&v(C)){var Q=O[Object.keys(O)[0]],j=[],X,J;for(X=0;X<y.length;X++){var ee=y[X]._index||X;if(J=a.slice(),J.push(ee),A(C[ee])&&A(y[X])){j.push(ee);var se=C[ee],q=y[X];A(se)&&se.visible!==!1&&q.visible===!1?M.push(l("invisible",T,J)):t(se,q,Q,M,T,J)}}for(X=0;X<C.length;X++)J=a.slice(),J.push(X),A(C[X])?j.indexOf(X)===-1&&M.push(l("unused",T,J)):M.push(l("object",T,J,C[X]))}else!A(C)&&A(y)?M.push(l("object",T,a,C)):!p(C)&&p(y)&&!B&&!F?M.push(l("array",T,a,C)):b in o?g.validate(C,z)?z.valType==="enumerated"&&(z.coerceNumber&&C!==+y||C!==y)&&M.push(l("dynamic",T,a,C,y)):M.push(l("value",T,a,C)):M.push(l("unused",T,a,C))}}return M}function r(h,o){for(var d=h.layout.layoutAttributes,M=0;M<o.length;M++){var T=o[M],E=h.traces[T.type],x=E.layoutAttributes;x&&(T.subplot?g.extendFlat(d[E.attributes.subplot.dflt],x):g.extendFlat(d,x))}return d}var s={object:function(h,o){var d;return h==="layout"&&o===""?d="The layout argument":h[0]==="data"&&o===""?d="Trace "+h[1]+" in the data argument":d=n(h)+"key "+o,d+" must be linked to an object container"},array:function(h,o){var d;return h==="data"?d="The data argument":d=n(h)+"key "+o,d+" must be linked to an array container"},schema:function(h,o){return n(h)+"key "+o+" is not part of the schema"},unused:function(h,o,d){var M=A(d)?"container":"key";return n(h)+M+" "+o+" did not get coerced"},dynamic:function(h,o,d,M){return[n(h)+"key",o,"(set to '"+d+"')","got reset to","'"+M+"'","during defaults."].join(" ")},invisible:function(h,o){return(o?n(h)+"item "+o:"Trace "+h[1])+" got defaulted to be not visible"},value:function(h,o,d){return[n(h)+"key "+o,"is set to an invalid value ("+d+")"].join(" ")}};function n(h){return v(h)?"In data trace "+h[1]+", ":"In "+h+", "}function l(h,o,d,M,T){d=d||"";var E,x;v(o)?(E=o[0],x=o[1]):(E=o,x=null);var S=w(d),b=s[h](o,S,M,T);return g.log(b),{code:h,container:E,trace:x,path:d,astr:S,msg:b}}function f(h,o){var d=c(o),M=d.keyMinusId,T=d.id;return M in h&&h[M]._isSubplotObj&&T?!0:o in h}function u(h,o){if(o in h)return h[o];var d=c(o);return h[d.keyMinusId]}var m=g.counterRegex("([a-z]+)");function c(h){var o=h.match(m);return{keyMinusId:o&&o[1],id:o&&o[2]}}function w(h){if(!v(h))return String(h);for(var o="",d=0;d<h.length;d++){var M=h[d];typeof M=="number"?o=o.substr(0,o.length-1)+"["+M+"]":o+=M,d<h.length-1&&(o+=".")}return o}},85594:function(W){W.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(W,H,e){var g=e(71828),P=e(44467);W.exports=function(L,A,v){var p=v.name,t=v.inclusionAttr||"visible",r=A[p],s=g.isArrayOrTypedArray(L[p])?L[p]:[],n=A[p]=[],l=P.arrayTemplater(A,p,t),f,u;for(f=0;f<s.length;f++){var m=s[f];g.isPlainObject(m)?u=l.newItem(m):(u=l.newItem({}),u[t]=!1),u._index=f,u[t]!==!1&&v.handleItemDefaults(m,u,A,v),n.push(u)}var c=l.defaultItems();for(f=0;f<c.length;f++)u=c[f],u._index=n.length,v.handleItemDefaults({},u,A,v,{}),n.push(u);if(g.isArrayOrTypedArray(r)){var w=Math.min(r.length,n.length);for(f=0;f<w;f++)g.relinkPrivateKeys(n[f],r[f])}return n}},9012:function(W,H,e){var g=e(41940),P=e(77914);W.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:g({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:P.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(W,H,e){var g=e(92770),P=e(71828),i=P.dateTime2ms,L=P.incrementMonth,A=e(50606),v=A.ONEAVGMONTH;W.exports=function(t,r,s,n){if(r.type!=="date")return{vals:n};var l=t[s+"periodalignment"];if(!l)return{vals:n};var f=t[s+"period"],u;if(g(f)){if(f=+f,f<=0)return{vals:n}}else if(typeof f=="string"&&f.charAt(0)==="M"){var m=+f.substring(1);if(m>0&&Math.round(m)===m)u=m;else return{vals:n}}for(var c=r.calendar,w=l==="start",h=l==="end",o=t[s+"period0"],d=i(o,c)||0,M=[],T=[],E=[],x=n.length,S=0;S<x;S++){var b=n[S],a,C,y;if(u){for(a=Math.round((b-d)/(u*v)),y=L(d,u*a,c);y>b;)y=L(y,-u,c);for(;y<=b;)y=L(y,u,c);C=L(y,-u,c)}else{for(a=Math.round((b-d)/f),y=d+a*f;y>b;)y-=f;for(;y<=b;)y+=f;C=y-f}M[S]=w?C:h?y:(C+y)/2,T[S]=C,E[S]=y}return{vals:M,starts:T,ends:E}}},89502:function(W){W.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(W,H,e){var g=e(39898),P=e(92770),i=e(71828),L=e(50606).FP_SAFE,A=e(73972),v=e(91424),p=e(41675),t=p.getFromId,r=p.isLinked;W.exports={applyAutorangeOptions:a,getAutoRange:s,makePadFn:l,doAutoRange:c,findExtremes:w,concatExtremes:m};function s(C,y){var z,I,B=[],F=C._fullLayout,O=l(F,y,0),N=l(F,y,1),_=m(C,y),U=_.min,Y=_.max;if(U.length===0||Y.length===0)return i.simpleMap(y.range,y.r2l);var K=U[0].val,re=Y[0].val;for(z=1;z<U.length&&K===re;z++)K=Math.min(K,U[z].val);for(z=1;z<Y.length&&K===re;z++)re=Math.max(re,Y[z].val);var ae=y.autorange,fe=ae==="reversed"||ae==="min reversed"||ae==="max reversed";if(!fe&&y.range){var Q=i.simpleMap(y.range,y.r2l);fe=Q[1]<Q[0]}y.autorange==="reversed"&&(y.autorange=!0);var j=y.rangemode,X=j==="tozero",J=j==="nonnegative",ee=y._length,se=ee/10,q=0,$,le,ie,ce,me,Me;for(z=0;z<U.length;z++)for($=U[z],I=0;I<Y.length;I++)le=Y[I],Me=le.val-$.val-n(y,$.val,le.val),Me>0&&(me=ee-O($)-N(le),me>se?Me/me>q&&(ie=$,ce=le,q=Me/me):Me/ee>q&&(ie={val:$.val,nopad:1},ce={val:le.val,nopad:1},q=Me/ee));function we(Se,He){return Math.max(Se,N(He))}if(K===re){var Oe=K-1,Be=K+1;if(X)if(K===0)B=[0,1];else{var Ce=(K>0?Y:U).reduce(we,0),xe=K/(1-Math.min(.5,Ce/ee));B=K>0?[0,xe]:[xe,0]}else J?B=[Math.max(0,Oe),Math.max(1,Be)]:B=[Oe,Be]}else X?(ie.val>=0&&(ie={val:0,nopad:1}),ce.val<=0&&(ce={val:0,nopad:1})):J&&(ie.val-q*O(ie)<0&&(ie={val:0,nopad:1}),ce.val<=0&&(ce={val:1,nopad:1})),q=(ce.val-ie.val-n(y,$.val,le.val))/(ee-O(ie)-N(ce)),B=[ie.val-q*O(ie),ce.val+q*N(ce)];return B=a(B,y),y.limitRange&&y.limitRange(),fe&&B.reverse(),i.simpleMap(B,y.l2r||Number)}function n(C,y,z){var I=0;if(C.rangebreaks)for(var B=C.locateBreaks(y,z),F=0;F<B.length;F++){var O=B[F];I+=O.max-O.min}return I}function l(C,y,z){var I=.05*y._length,B=y._anchorAxis||{};if((y.ticklabelposition||"").indexOf("inside")!==-1||(B.ticklabelposition||"").indexOf("inside")!==-1){var F=y.isReversed();if(!F){var O=i.simpleMap(y.range,y.r2l);F=O[1]<O[0]}F&&(z=!z)}var N=0;return r(C,y._id)||(N=u(C,y,z)),I=Math.max(N,I),y.constrain==="domain"&&y._inputDomain&&(I*=(y._inputDomain[1]-y._inputDomain[0])/(y.domain[1]-y.domain[0])),function(U){return U.nopad?0:U.pad+(U.extrapad?I:N)}}var f=3;function u(C,y,z){var I=0,B=y._id.charAt(0)==="x";for(var F in C._plots){var O=C._plots[F];if(!(y._id!==O.xaxis._id&&y._id!==O.yaxis._id)){var N=(B?O.yaxis:O.xaxis)||{};if((N.ticklabelposition||"").indexOf("inside")!==-1&&(!z&&(N.side==="left"||N.side==="bottom")||z&&(N.side==="top"||N.side==="right"))){if(N._vals){var _=i.deg2rad(N._tickAngles[N._id+"tick"]||0),U=Math.abs(Math.cos(_)),Y=Math.abs(Math.sin(_));if(!N._vals[0].bb){var K=N._id+"tick",re=N._selections[K];re.each(function(J){var ee=g.select(this),se=ee.select(".text-math-group");se.empty()&&(J.bb=v.bBox(ee.node()))})}for(var ae=0;ae<N._vals.length;ae++){var fe=N._vals[ae],Q=fe.bb;if(Q){var j=2*f+Q.width,X=2*f+Q.height;I=Math.max(I,B?Math.max(j*U,X*Y):Math.max(X*U,j*Y))}}}N.ticks==="inside"&&N.ticklabelposition==="inside"&&(I+=N.ticklen||0)}}}return I}function m(C,y,z){var I=y._id,B=C._fullData,F=C._fullLayout,O=[],N=[],_,U,Y;function K(j,X){for(_=0;_<X.length;_++){var J=j[X[_]],ee=(J._extremes||{})[I];if(J.visible===!0&&ee){for(U=0;U<ee.min.length;U++)Y=ee.min[U],h(O,Y.val,Y.pad,{extrapad:Y.extrapad});for(U=0;U<ee.max.length;U++)Y=ee.max[U],o(N,Y.val,Y.pad,{extrapad:Y.extrapad})}}}if(K(B,y._traceIndices),K(F.annotations||[],y._annIndices||[]),K(F.shapes||[],y._shapeIndices||[]),y._matchGroup&&!z){for(var re in y._matchGroup)if(re!==y._id){var ae=t(C,re),fe=m(C,ae,!0),Q=y._length/ae._length;for(U=0;U<fe.min.length;U++)Y=fe.min[U],h(O,Y.val,Y.pad*Q,{extrapad:Y.extrapad});for(U=0;U<fe.max.length;U++)Y=fe.max[U],o(N,Y.val,Y.pad*Q,{extrapad:Y.extrapad})}}return{min:O,max:N}}function c(C,y,z){if(y.setScale(),y.autorange){y.range=z?z.slice():s(C,y),y._r=y.range.slice(),y._rl=i.simpleMap(y._r,y.r2l);var I=y._input,B={};B[y._attr+".range"]=y.range,B[y._attr+".autorange"]=y.autorange,A.call("_storeDirectGUIEdit",C.layout,C._fullLayout._preGUI,B),I.range=y.range.slice(),I.autorange=y.autorange}var F=y._anchorAxis;if(F&&F.rangeslider){var O=F.rangeslider[y._name];O&&O.rangemode==="auto"&&(O.range=s(C,y)),F._input.rangeslider[y._name]=i.extendFlat({},O)}}function w(C,y,z){z||(z={}),C._m||C.setScale();var I=[],B=[],F=y.length,O=z.padded||!1,N=z.tozero&&(C.type==="linear"||C.type==="-"),_=C.type==="log",U=!1,Y=z.vpadLinearized||!1,K,re,ae,fe,Q,j,X,J,ee;function se(we){if(Array.isArray(we))return U=!0,function(Be){return Math.max(Number(we[Be]||0),0)};var Oe=Math.max(Number(we||0),0);return function(){return Oe}}var q=se((C._m>0?z.ppadplus:z.ppadminus)||z.ppad||0),$=se((C._m>0?z.ppadminus:z.ppadplus)||z.ppad||0),le=se(z.vpadplus||z.vpad),ie=se(z.vpadminus||z.vpad);if(!U){if(J=1/0,ee=-1/0,_)for(K=0;K<F;K++)re=y[K],re<J&&re>0&&(J=re),re>ee&&re<L&&(ee=re);else for(K=0;K<F;K++)re=y[K],re<J&&re>-L&&(J=re),re>ee&&re<L&&(ee=re);y=[J,ee],F=2}var ce={tozero:N,extrapad:O};function me(we){ae=y[we],P(ae)&&(j=q(we),X=$(we),Y?(fe=C.c2l(ae)-ie(we),Q=C.c2l(ae)+le(we)):(J=ae-ie(we),ee=ae+le(we),_&&J<ee/10&&(J=ee/10),fe=C.c2l(J),Q=C.c2l(ee)),N&&(fe=Math.min(0,fe),Q=Math.max(0,Q)),M(fe)&&h(I,fe,X,ce),M(Q)&&o(B,Q,j,ce))}var Me=Math.min(6,F);for(K=0;K<Me;K++)me(K);for(K=F-1;K>=Me;K--)me(K);return{min:I,max:B,opts:z}}function h(C,y,z,I){d(C,y,z,I,T)}function o(C,y,z,I){d(C,y,z,I,E)}function d(C,y,z,I,B){for(var F=I.tozero,O=I.extrapad,N=!0,_=0;_<C.length&&N;_++){var U=C[_];if(B(U.val,y)&&U.pad>=z&&(U.extrapad||!O)){N=!1;break}else B(y,U.val)&&U.pad<=z&&(O||!U.extrapad)&&(C.splice(_,1),_--)}if(N){var Y=F&&y===0;C.push({val:y,pad:Y?0:z,extrapad:Y?!1:O})}}function M(C){return P(C)&&Math.abs(C)<L}function T(C,y){return C<=y}function E(C,y){return C>=y}function x(C,y){var z=y.autorangeoptions;return z&&z.minallowed!==void 0&&b(y,z.minallowed,z.maxallowed)?z.minallowed:z&&z.clipmin!==void 0&&b(y,z.clipmin,z.clipmax)?Math.max(C,y.d2l(z.clipmin)):C}function S(C,y){var z=y.autorangeoptions;return z&&z.maxallowed!==void 0&&b(y,z.minallowed,z.maxallowed)?z.maxallowed:z&&z.clipmax!==void 0&&b(y,z.clipmin,z.clipmax)?Math.min(C,y.d2l(z.clipmax)):C}function b(C,y,z){return y!==void 0&&z!==void 0?(y=C.d2l(y),z=C.d2l(z),y<z):!0}function a(C,y){if(!y||!y.autorangeoptions)return C;var z=C[0],I=C[1],B=y.autorangeoptions.include;if(B!==void 0){var F=y.d2l(z),O=y.d2l(I);i.isArrayOrTypedArray(B)||(B=[B]);for(var N=0;N<B.length;N++){var _=y.d2l(B[N]);F>=_&&(F=_,z=_),O<=_&&(O=_,I=_)}}return z=x(z,y),I=S(I,y),[z,I]}},23074:function(W){W.exports=function(e,g,P){var i,L;if(P){var A=g==="reversed"||g==="min reversed"||g==="max reversed";i=P[A?1:0],L=P[A?0:1]}var v=e("autorangeoptions.minallowed",L===null?i:void 0),p=e("autorangeoptions.maxallowed",i===null?L:void 0);v===void 0&&e("autorangeoptions.clipmin"),p===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},89298:function(W,H,e){var g=e(39898),P=e(92770),i=e(74875),L=e(73972),A=e(71828),v=A.strTranslate,p=e(63893),t=e(92998),r=e(7901),s=e(91424),n=e(13838),l=e(66287),f=e(50606),u=f.ONEMAXYEAR,m=f.ONEAVGYEAR,c=f.ONEMINYEAR,w=f.ONEMAXQUARTER,h=f.ONEAVGQUARTER,o=f.ONEMINQUARTER,d=f.ONEMAXMONTH,M=f.ONEAVGMONTH,T=f.ONEMINMONTH,E=f.ONEWEEK,x=f.ONEDAY,S=x/2,b=f.ONEHOUR,a=f.ONEMIN,C=f.ONESEC,y=f.MINUS_SIGN,z=f.BADNUM,I={K:"zeroline"},B={K:"gridline",L:"path"},F={K:"minor-gridline",L:"path"},O={K:"tick",L:"path"},N={K:"tick",L:"text"},_={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},U=e(18783),Y=U.MID_SHIFT,K=U.CAP_SHIFT,re=U.LINE_SPACING,ae=U.OPPOSITE_SIDE,fe=3,Q=W.exports={};Q.setConvert=e(21994);var j=e(4322),X=e(41675),J=X.idSort,ee=X.isLinked;Q.id2name=X.id2name,Q.name2id=X.name2id,Q.cleanId=X.cleanId,Q.list=X.list,Q.listIds=X.listIds,Q.getFromId=X.getFromId,Q.getFromTrace=X.getFromTrace;var se=e(71739);Q.getAutoRange=se.getAutoRange,Q.findExtremes=se.findExtremes;var q=1e-4;function $(je){var Ye=(je[1]-je[0])*q;return[je[0]-Ye,je[1]+Ye]}Q.coerceRef=function(je,Ye,It,kt,Yt,tr){var or=kt.charAt(kt.length-1),rr=It._fullLayout._subplots[or+"axis"],_t=kt+"ref",hr={};return Yt||(Yt=rr[0]||(typeof tr=="string"?tr:tr[0])),tr||(tr=Yt),rr=rr.concat(rr.map(function(gr){return gr+" domain"})),hr[_t]={valType:"enumerated",values:rr.concat(tr?typeof tr=="string"?[tr]:tr:[]),dflt:Yt},A.coerce(je,Ye,hr,_t)},Q.getRefType=function(je){return je===void 0?je:je==="paper"?"paper":je==="pixel"?"pixel":/( domain)$/.test(je)?"domain":"range"},Q.coercePosition=function(je,Ye,It,kt,Yt,tr){var or,rr,_t=Q.getRefType(kt);if(_t!=="range")or=A.ensureNumber,rr=It(Yt,tr);else{var hr=Q.getFromId(Ye,kt);tr=hr.fraction2r(tr),rr=It(Yt,tr),or=hr.cleanPos}je[Yt]=or(rr)},Q.cleanPosition=function(je,Ye,It){var kt=It==="paper"||It==="pixel"?A.ensureNumber:Q.getFromId(Ye,It).cleanPos;return kt(je)},Q.redrawComponents=function(je,Ye){Ye=Ye||Q.listIds(je);var It=je._fullLayout;function kt(Yt,tr,or,rr){for(var _t=L.getComponentMethod(Yt,tr),hr={},gr=0;gr<Ye.length;gr++)for(var pr=It[Q.id2name(Ye[gr])],vr=pr[or],Hr=0;Hr<vr.length;Hr++){var kr=vr[Hr];if(!hr[kr]&&(_t(je,kr),hr[kr]=1,rr))return}}kt("annotations","drawOne","_annIndices"),kt("shapes","drawOne","_shapeIndices"),kt("images","draw","_imgIndices",!0),kt("selections","drawOne","_selectionIndices")};var le=Q.getDataConversions=function(je,Ye,It,kt){var Yt,tr=It==="x"||It==="y"||It==="z"?It:kt;if(Array.isArray(tr)){if(Yt={type:j(kt,void 0,{autotypenumbers:je._fullLayout.autotypenumbers}),_categories:[]},Q.setConvert(Yt),Yt.type==="category")for(var or=0;or<kt.length;or++)Yt.d2c(kt[or])}else Yt=Q.getFromTrace(je,Ye,tr);return Yt?{d2c:Yt.d2c,c2d:Yt.c2d}:tr==="ids"?{d2c:ce,c2d:ce}:{d2c:ie,c2d:ie}};function ie(je){return+je}function ce(je){return String(je)}Q.getDataToCoordFunc=function(je,Ye,It,kt){return le(je,Ye,It,kt).d2c},Q.counterLetter=function(je){var Ye=je.charAt(0);if(Ye==="x")return"y";if(Ye==="y")return"x"},Q.minDtick=function(je,Ye,It,kt){["log","category","multicategory"].indexOf(je.type)!==-1||!kt?je._minDtick=0:je._minDtick===void 0?(je._minDtick=Ye,je._forceTick0=It):je._minDtick&&((je._minDtick/Ye+1e-6)%1<2e-6&&((It-je._forceTick0)/Ye%1+1.000001)%1<2e-6?(je._minDtick=Ye,je._forceTick0=It):((Ye/je._minDtick+1e-6)%1>2e-6||((It-je._forceTick0)/je._minDtick%1+1.000001)%1>2e-6)&&(je._minDtick=0))},Q.saveRangeInitial=function(je,Ye){for(var It=Q.list(je,"",!0),kt=!1,Yt=0;Yt<It.length;Yt++){var tr=It[Yt],or=tr._rangeInitial0===void 0&&tr._rangeInitial1===void 0,rr=or||tr.range[0]!==tr._rangeInitial0||tr.range[1]!==tr._rangeInitial1,_t=tr.autorange;(or&&_t!==!0||Ye&&rr)&&(tr._rangeInitial0=_t==="min"||_t==="max reversed"?void 0:tr.range[0],tr._rangeInitial1=_t==="max"||_t==="min reversed"?void 0:tr.range[1],tr._autorangeInitial=_t,kt=!0)}return kt},Q.saveShowSpikeInitial=function(je,Ye){for(var It=Q.list(je,"",!0),kt=!1,Yt="on",tr=0;tr<It.length;tr++){var or=It[tr],rr=or._showSpikeInitial===void 0,_t=rr||or.showspikes!==or._showspikes;(rr||Ye&&_t)&&(or._showSpikeInitial=or.showspikes,kt=!0),Yt==="on"&&!or.showspikes&&(Yt="off")}return je._fullLayout._cartesianSpikesEnabled=Yt,kt},Q.autoBin=function(je,Ye,It,kt,Yt,tr){var or=A.aggNums(Math.min,null,je),rr=A.aggNums(Math.max,null,je);if(Ye.type==="category"||Ye.type==="multicategory")return{start:or-.5,end:rr+.5,size:Math.max(1,Math.round(tr)||1),_dataSpan:rr-or};Yt||(Yt=Ye.calendar);var _t;if(Ye.type==="log"?_t={type:"linear",range:[or,rr]}:_t={type:Ye.type,range:A.simpleMap([or,rr],Ye.c2r,0,Yt),calendar:Yt},Q.setConvert(_t),tr=tr&&l.dtick(tr,_t.type),tr)_t.dtick=tr,_t.tick0=l.tick0(void 0,_t.type,Yt);else{var hr;if(It)hr=(rr-or)/It;else{var gr=A.distinctVals(je),pr=Math.pow(10,Math.floor(Math.log(gr.minDiff)/Math.LN10)),vr=pr*A.roundUp(gr.minDiff/pr,[.9,1.9,4.9,9.9],!0);hr=Math.max(vr,2*A.stdev(je)/Math.pow(je.length,kt?.25:.4)),P(hr)||(hr=1)}Q.autoTicks(_t,hr)}var Hr=_t.dtick,kr=Q.tickIncrement(Q.tickFirst(_t),Hr,"reverse",Yt),Fr,pn;if(typeof Hr=="number")kr=me(kr,je,_t,or,rr),pn=1+Math.floor((rr-kr)/Hr),Fr=kr+pn*Hr;else for(_t.dtick.charAt(0)==="M"&&(kr=Me(kr,je,Hr,or,Yt)),Fr=kr,pn=0;Fr<=rr;)Fr=Q.tickIncrement(Fr,Hr,!1,Yt),pn++;return{start:Ye.c2r(kr,0,Yt),end:Ye.c2r(Fr,0,Yt),size:Hr,_dataSpan:rr-or}};function me(je,Ye,It,kt,Yt){var tr=0,or=0,rr=0,_t=0;function hr(Hr){return(1+(Hr-je)*100/It.dtick)%100<2}for(var gr=0;gr<Ye.length;gr++)Ye[gr]%1===0?rr++:P(Ye[gr])||_t++,hr(Ye[gr])&&tr++,hr(Ye[gr]+It.dtick/2)&&or++;var pr=Ye.length-_t;if(rr===pr&&It.type!=="date")It.dtick<1?je=kt-.5*It.dtick:(je-=.5,je+It.dtick<kt&&(je+=It.dtick));else if(or<pr*.1&&(tr>pr*.3||hr(kt)||hr(Yt))){var vr=It.dtick/2;je+=je+vr<kt?vr:-vr}return je}function Me(je,Ye,It,kt,Yt){var tr=A.findExactDates(Ye,Yt),or=.8;if(tr.exactDays>or){var rr=Number(It.substr(1));tr.exactYears>or&&rr%12===0?je=Q.tickIncrement(je,"M6","reverse")+x*1.5:tr.exactMonths>or?je=Q.tickIncrement(je,"M1","reverse")+x*15.5:je-=S;var _t=Q.tickIncrement(je,It);if(_t<=kt)return _t}return je}Q.prepMinorTicks=function(je,Ye,It){if(!Ye.minor.dtick){delete je.dtick;var kt=Ye.dtick&&P(Ye._tmin),Yt;if(kt){var tr=Q.tickIncrement(Ye._tmin,Ye.dtick,!0);Yt=[Ye._tmin,tr*.99+Ye._tmin*.01]}else{var or=A.simpleMap(Ye.range,Ye.r2l);Yt=[or[0],.8*or[0]+.2*or[1]]}if(je.range=A.simpleMap(Yt,Ye.l2r),je._isMinor=!0,Q.prepTicks(je,It),kt){var rr=P(Ye.dtick),_t=P(je.dtick),hr=rr?Ye.dtick:+Ye.dtick.substring(1),gr=_t?je.dtick:+je.dtick.substring(1);rr&&_t?we(hr,gr)?hr===2*E&&gr===2*x&&(je.dtick=E):hr===2*E&&gr===3*x?je.dtick=E:hr===E&&!(Ye._input.minor||{}).nticks?je.dtick=x:Oe(hr/gr,2.5)?je.dtick=hr/2:je.dtick=hr:String(Ye.dtick).charAt(0)==="M"?_t?je.dtick="M1":we(hr,gr)?hr>=12&&gr===2&&(je.dtick="M3"):je.dtick=Ye.dtick:String(je.dtick).charAt(0)==="L"?String(Ye.dtick).charAt(0)==="L"?we(hr,gr)||(je.dtick=Oe(hr/gr,2.5)?Ye.dtick/2:Ye.dtick):je.dtick="D1":je.dtick==="D2"&&+Ye.dtick>1&&(je.dtick=1)}je.range=Ye.range}Ye.minor._tick0Init===void 0&&(je.tick0=Ye.tick0)};function we(je,Ye){return Math.abs((je/Ye+.5)%1-.5)<.001}function Oe(je,Ye){return Math.abs(je/Ye-1)<.001}Q.prepTicks=function(je,Ye){var It=A.simpleMap(je.range,je.r2l,void 0,void 0,Ye);if(je.tickmode==="auto"||!je.dtick){var kt=je.nticks,Yt;kt||(je.type==="category"||je.type==="multicategory"?(Yt=je.tickfont?A.bigFont(je.tickfont.size||12):15,kt=je._length/Yt):(Yt=je._id.charAt(0)==="y"?40:80,kt=A.constrain(je._length/Yt,4,9)+1),je._name==="radialaxis"&&(kt*=2)),je.minor&&je.minor.tickmode!=="array"||je.tickmode==="array"&&(kt*=100),je._roughDTick=Math.abs(It[1]-It[0])/kt,Q.autoTicks(je,je._roughDTick),je._minDtick>0&&je.dtick<je._minDtick*2&&(je.dtick=je._minDtick,je.tick0=je.l2r(je._forceTick0))}je.ticklabelmode==="period"&&Ce(je),je.tick0||(je.tick0=je.type==="date"?"2000-01-01":0),je.type==="date"&&je.dtick<.1&&(je.dtick=.1),gt(je)};function Be(je){return+je.substring(1)}function Ce(je){var Ye;function It(){return!(P(je.dtick)||je.dtick.charAt(0)!=="M")}var kt=It(),Yt=Q.getTickFormat(je);if(Yt){var tr=je._dtickInit!==je.dtick;/%[fLQsSMX]/.test(Yt)||(/%[HI]/.test(Yt)?(Ye=b,tr&&!kt&&je.dtick<b&&(je.dtick=b)):/%p/.test(Yt)?(Ye=S,tr&&!kt&&je.dtick<S&&(je.dtick=S)):/%[Aadejuwx]/.test(Yt)?(Ye=x,tr&&!kt&&je.dtick<x&&(je.dtick=x)):/%[UVW]/.test(Yt)?(Ye=E,tr&&!kt&&je.dtick<E&&(je.dtick=E)):/%[Bbm]/.test(Yt)?(Ye=M,tr&&(kt?Be(je.dtick)<1:je.dtick<T)&&(je.dtick="M1")):/%[q]/.test(Yt)?(Ye=h,tr&&(kt?Be(je.dtick)<3:je.dtick<o)&&(je.dtick="M3")):/%[Yy]/.test(Yt)&&(Ye=m,tr&&(kt?Be(je.dtick)<12:je.dtick<c)&&(je.dtick="M12")))}kt=It(),kt&&je.tick0===je._dowTick0&&(je.tick0=je._rawTick0),je._definedDelta=Ye}function xe(je,Ye,It){for(var kt=0;kt<je.length;kt++){var Yt=je[kt].value,tr=kt,or=kt+1;kt<je.length-1?(tr=kt,or=kt+1):kt>0?(tr=kt-1,or=kt):(tr=kt,or=kt);var rr=je[tr].value,_t=je[or].value,hr=Math.abs(_t-rr),gr=It||hr,pr=0;gr>=c?hr>=c&&hr<=u?pr=hr:pr=m:It===h&&gr>=o?hr>=o&&hr<=w?pr=hr:pr=h:gr>=T?hr>=T&&hr<=d?pr=hr:pr=M:It===E&&gr>=E?pr=E:gr>=x?pr=x:It===S&&gr>=S?pr=S:It===b&&gr>=b&&(pr=b);var vr;pr>=hr&&(pr=hr,vr=!0);var Hr=Yt+pr;if(Ye.rangebreaks&&pr>0){for(var kr=84,Fr=0,pn=0;pn<kr;pn++){var qr=(pn+.5)/kr;Ye.maskBreaks(Yt*(1-qr)+qr*Hr)!==z&&Fr++}pr*=Fr/kr,pr||(je[kt].drop=!0),vr&&hr>E&&(pr=hr)}(pr>0||kt===0)&&(je[kt].periodX=Yt+pr/2)}}Q.calcTicks=function(Ye,It){for(var kt=Ye.type,Yt=Ye.calendar,tr=Ye.ticklabelstep,or=Ye.ticklabelmode==="period",rr=A.simpleMap(Ye.range,Ye.r2l,void 0,void 0,It),_t=rr[1]<rr[0],hr=Math.min(rr[0],rr[1]),gr=Math.max(rr[0],rr[1]),pr=Math.max(1e3,Ye._length||0),vr=[],Hr=[],kr=[],Fr=[],pn=Ye.minor&&(Ye.minor.ticks||Ye.minor.showgrid),qr=1;qr>=(pn?0:1);qr--){var On=!qr;qr?(Ye._dtickInit=Ye.dtick,Ye._tick0Init=Ye.tick0):(Ye.minor._dtickInit=Ye.minor.dtick,Ye.minor._tick0Init=Ye.minor.tick0);var Tn=qr?Ye:A.extendFlat({},Ye,Ye.minor);if(On?Q.prepMinorTicks(Tn,Ye,It):Q.prepTicks(Tn,It),Tn.tickmode==="array"){qr?(kr=[],vr=Ge(Ye)):(Fr=[],Hr=Ge(Ye));continue}if(Tn.tickmode==="sync"){kr=[],vr=He(Ye);continue}var Sr=$(rr),Er=Sr[0],Gr=Sr[1],Br=P(Tn.dtick),nn=kt==="log"&&!(Br||Tn.dtick.charAt(0)==="L"),gn=Q.tickFirst(Tn,It);if(qr){if(Ye._tmin=gn,gn<Er!==_t)break;(kt==="category"||kt==="multicategory")&&(Gr=_t?Math.max(-.5,Gr):Math.min(Ye._categories.length-.5,Gr))}var mn=null,Pn=gn,Fn;if(qr){var ia;Br?ia=Ye.dtick:kt==="date"?typeof Ye.dtick=="string"&&Ye.dtick.charAt(0)==="M"&&(ia=M*Ye.dtick.substring(1)):ia=Ye._roughDTick,Fn=Math.round((Ye.r2l(Pn)-Ye.r2l(Ye.tick0))/ia)-1}var jn=Tn.dtick;for(Tn.rangebreaks&&Tn._tick0Init!==Tn.tick0&&(Pn=Bt(Pn,Ye),_t||(Pn=Q.tickIncrement(Pn,jn,!_t,Yt))),qr&&or&&(Pn=Q.tickIncrement(Pn,jn,!_t,Yt),Fn--);_t?Pn>=Gr:Pn<=Gr;Pn=Q.tickIncrement(Pn,jn,_t,Yt)){if(qr&&Fn++,Tn.rangebreaks&&!_t){if(Pn<Er)continue;if(Tn.maskBreaks(Pn)===z&&Bt(Pn,Tn)>=gr)break}if(kr.length>pr||Pn===mn)break;mn=Pn;var $n={value:Pn};qr?(nn&&Pn!==(Pn|0)&&($n.simpleLabel=!0),tr>1&&Fn%tr&&($n.skipLabel=!0),kr.push($n)):($n.minor=!0,Fr.push($n))}}if(pn){var Wn=Ye.minor.ticks==="inside"&&Ye.ticks==="outside"||Ye.minor.ticks==="outside"&&Ye.ticks==="inside";if(!Wn){for(var Qn=kr.map(function(Mn){return Mn.value}),Tr=[],sn=0;sn<Fr.length;sn++){var tn=Fr[sn],yn=tn.value;if(Qn.indexOf(yn)===-1){for(var Hn=!1,Sn=0;!Hn&&Sn<kr.length;Sn++)1e7+kr[Sn].value===1e7+yn&&(Hn=!0);Hn||Tr.push(tn)}}Fr=Tr}}or&&xe(kr,Ye,Ye._definedDelta);var En;if(Ye.rangebreaks){var Nn=Ye._id.charAt(0)==="y",ea=1;Ye.tickmode==="auto"&&(ea=Ye.tickfont?Ye.tickfont.size:12);var xa=NaN;for(En=kr.length-1;En>-1;En--){if(kr[En].drop){kr.splice(En,1);continue}kr[En].value=Bt(kr[En].value,Ye);var Wa=Ye.c2p(kr[En].value);(Nn?xa>Wa-ea:xa<Wa+ea)?kr.splice(_t?En+1:En,1):xa=Wa}}Nt(Ye)&&Math.abs(rr[1]-rr[0])===360&&kr.pop(),Ye._tmax=(kr[kr.length-1]||{}).value,Ye._prevDateHead="",Ye._inCalcTicks=!0;var jt,wr=function(Mn){Mn.text="",Ye._prevDateHead=jt};kr=kr.concat(Fr);var en,un;for(En=0;En<kr.length;En++){var cn=kr[En].minor,Dn=kr[En].value;cn?Hr.push({x:Dn,minor:!0}):(jt=Ye._prevDateHead,en=Q.tickText(Ye,Dn,!1,kr[En].simpleLabel),un=kr[En].periodX,un!==void 0&&(en.periodX=un,(un>gr||un<hr)&&(un>gr&&(en.periodX=gr),un<hr&&(en.periodX=hr),wr(en))),kr[En].skipLabel&&wr(en),vr.push(en))}return vr=vr.concat(Hr),Ye._inCalcTicks=!1,or&&vr.length&&(vr[0].noTick=!0),vr};function Se(je,Ye){return je.rangebreaks&&(Ye=Ye.filter(function(It){return je.maskBreaks(It.x)!==z})),Ye}function He(je){var Ye=je._mainAxis,It=[];if(Ye._vals){for(var kt=0;kt<Ye._vals.length;kt++)if(!Ye._vals[kt].noTick){var Yt=Ye.l2p(Ye._vals[kt].x),tr=je.p2l(Yt),or=Q.tickText(je,tr);Ye._vals[kt].minor&&(or.minor=!0,or.text=""),It.push(or)}}return It=Se(je,It),It}function Ge(je){var Ye=A.simpleMap(je.range,je.r2l),It=$(Ye),kt=Math.min(It[0],It[1]),Yt=Math.max(It[0],It[1]),tr=je.type==="category"?je.d2l_noadd:je.d2l;je.type==="log"&&String(je.dtick).charAt(0)!=="L"&&(je.dtick="L"+Math.pow(10,Math.floor(Math.min(je.range[0],je.range[1]))-1));for(var or=[],rr=0;rr<=1;rr++)if(!(rr&&!je.minor)){var _t=rr?je.minor.tickvals:je.tickvals,hr=rr?[]:je.ticktext;if(_t){Array.isArray(hr)||(hr=[]);for(var gr=0;gr<_t.length;gr++){var pr=tr(_t[gr]);if(pr>kt&&pr<Yt){var vr=hr[gr]===void 0?Q.tickText(je,pr):Et(je,pr,String(hr[gr]));rr&&(vr.minor=!0,vr.text=""),or.push(vr)}}}}return or=Se(je,or),or}var ke=[2,5,10],We=[1,2,3,6,12],it=[1,2,5,10,15,30],et=[1,2,3,7,14],tt=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],at=[-.301,0,.301,.699,1],ht=[15,30,45,90,180];function yt(je,Ye,It){return Ye*A.roundUp(je/Ye,It)}Q.autoTicks=function(je,Ye,It){var kt;function Yt(pr){return Math.pow(pr,Math.floor(Math.log(Ye)/Math.LN10))}if(je.type==="date"){je.tick0=A.dateTick0(je.calendar,0);var tr=2*Ye;if(tr>m)Ye/=m,kt=Yt(10),je.dtick="M"+12*yt(Ye,kt,ke);else if(tr>M)Ye/=M,je.dtick="M"+yt(Ye,1,We);else if(tr>x){if(je.dtick=yt(Ye,x,je._hasDayOfWeekBreaks?[1,2,7,14]:et),!It){var or=Q.getTickFormat(je),rr=je.ticklabelmode==="period";rr&&(je._rawTick0=je.tick0),/%[uVW]/.test(or)?je.tick0=A.dateTick0(je.calendar,2):je.tick0=A.dateTick0(je.calendar,1),rr&&(je._dowTick0=je.tick0)}}else tr>b?je.dtick=yt(Ye,b,We):tr>a?je.dtick=yt(Ye,a,it):tr>C?je.dtick=yt(Ye,C,it):(kt=Yt(10),je.dtick=yt(Ye,kt,ke))}else if(je.type==="log"){je.tick0=0;var _t=A.simpleMap(je.range,je.r2l);if(je._isMinor&&(Ye*=1.5),Ye>.7)je.dtick=Math.ceil(Ye);else if(Math.abs(_t[1]-_t[0])<1){var hr=1.5*Math.abs((_t[1]-_t[0])/Ye);Ye=Math.abs(Math.pow(10,_t[1])-Math.pow(10,_t[0]))/hr,kt=Yt(10),je.dtick="L"+yt(Ye,kt,ke)}else je.dtick=Ye>.3?"D2":"D1"}else je.type==="category"||je.type==="multicategory"?(je.tick0=0,je.dtick=Math.ceil(Math.max(Ye,1))):Nt(je)?(je.tick0=0,kt=1,je.dtick=yt(Ye,kt,ht)):(je.tick0=0,kt=Yt(10),je.dtick=yt(Ye,kt,ke));if(je.dtick===0&&(je.dtick=1),!P(je.dtick)&&typeof je.dtick!="string"){var gr=je.dtick;throw je.dtick=1,"ax.dtick error: "+String(gr)}};function gt(je){var Ye=je.dtick;if(je._tickexponent=0,!P(Ye)&&typeof Ye!="string"&&(Ye=1),(je.type==="category"||je.type==="multicategory")&&(je._tickround=null),je.type==="date"){var It=je.r2l(je.tick0),kt=je.l2r(It).replace(/(^-|i)/g,""),Yt=kt.length;if(String(Ye).charAt(0)==="M")Yt>10||kt.substr(5)!=="01-01"?je._tickround="d":je._tickround=+Ye.substr(1)%12===0?"y":"m";else if(Ye>=x&&Yt<=10||Ye>=x*15)je._tickround="d";else if(Ye>=a&&Yt<=16||Ye>=b)je._tickround="M";else if(Ye>=C&&Yt<=19||Ye>=a)je._tickround="S";else{var tr=je.l2r(It+Ye).replace(/^-/,"").length;je._tickround=Math.max(Yt,tr)-20,je._tickround<0&&(je._tickround=4)}}else if(P(Ye)||Ye.charAt(0)==="L"){var or=je.range.map(je.r2d||Number);P(Ye)||(Ye=Number(Ye.substr(1))),je._tickround=2-Math.floor(Math.log(Ye)/Math.LN10+.01);var rr=Math.max(Math.abs(or[0]),Math.abs(or[1])),_t=Math.floor(Math.log(rr)/Math.LN10+.01),hr=je.minexponent===void 0?3:je.minexponent;Math.abs(_t)>hr&&(ye(je.exponentformat)&&!Ae(_t)?je._tickexponent=3*Math.round((_t-1)/3):je._tickexponent=_t)}else je._tickround=null}Q.tickIncrement=function(je,Ye,It,kt){var Yt=It?-1:1;if(P(Ye))return A.increment(je,Yt*Ye);var tr=Ye.charAt(0),or=Yt*Number(Ye.substr(1));if(tr==="M")return A.incrementMonth(je,or,kt);if(tr==="L")return Math.log(Math.pow(10,je)+or)/Math.LN10;if(tr==="D"){var rr=Ye==="D2"?at:tt,_t=je+Yt*.01,hr=A.roundUp(A.mod(_t,1),rr,It);return Math.floor(_t)+Math.log(g.round(Math.pow(10,hr),1))/Math.LN10}throw"unrecognized dtick "+String(Ye)},Q.tickFirst=function(je,Ye){var It=je.r2l||Number,kt=A.simpleMap(je.range,It,void 0,void 0,Ye),Yt=kt[1]<kt[0],tr=Yt?Math.floor:Math.ceil,or=$(kt)[0],rr=je.dtick,_t=It(je.tick0);if(P(rr)){var hr=tr((or-_t)/rr)*rr+_t;return(je.type==="category"||je.type==="multicategory")&&(hr=A.constrain(hr,0,je._categories.length-1)),hr}var gr=rr.charAt(0),pr=Number(rr.substr(1));if(gr==="M"){for(var vr=0,Hr=_t,kr,Fr,pn;vr<10;){if(kr=Q.tickIncrement(Hr,rr,Yt,je.calendar),(kr-or)*(Hr-or)<=0)return Yt?Math.min(Hr,kr):Math.max(Hr,kr);Fr=(or-(Hr+kr)/2)/(kr-Hr),pn=gr+(Math.abs(Math.round(Fr))||1)*pr,Hr=Q.tickIncrement(Hr,pn,Fr<0?!Yt:Yt,je.calendar),vr++}return A.error("tickFirst did not converge",je),Hr}else{if(gr==="L")return Math.log(tr((Math.pow(10,or)-_t)/pr)*pr+_t)/Math.LN10;if(gr==="D"){var qr=rr==="D2"?at:tt,On=A.roundUp(A.mod(or,1),qr,Yt);return Math.floor(or)+Math.log(g.round(Math.pow(10,On),1))/Math.LN10}else throw"unrecognized dtick "+String(rr)}},Q.tickText=function(je,Ye,It,kt){var Yt=Et(je,Ye),tr=je.tickmode==="array",or=It||tr,rr=je.type,_t=rr==="category"?je.d2l_noadd:je.d2l,hr;if(tr&&Array.isArray(je.ticktext)){var gr=A.simpleMap(je.range,je.r2l),pr=(Math.abs(gr[1]-gr[0])-(je._lBreaks||0))/1e4;for(hr=0;hr<je.ticktext.length&&!(Math.abs(Ye-_t(je.tickvals[hr]))<pr);hr++);if(hr<je.ticktext.length)return Yt.text=String(je.ticktext[hr]),Yt}function vr(pn){if(pn===void 0)return!0;if(It)return pn==="none";var qr={first:je._tmin,last:je._tmax}[pn];return pn!=="all"&&Ye!==qr}var Hr=It?"never":je.exponentformat!=="none"&&vr(je.showexponent)?"hide":"";if(rr==="date"?Ct(je,Yt,It,or):rr==="log"?Vt(je,Yt,It,or,Hr):rr==="category"?Qe(je,Yt):rr==="multicategory"?Fe(je,Yt,It):Nt(je)?ze(je,Yt,It,or,Hr):Ie(je,Yt,It,or,Hr),kt||(je.tickprefix&&!vr(je.showtickprefix)&&(Yt.text=je.tickprefix+Yt.text),je.ticksuffix&&!vr(je.showticksuffix)&&(Yt.text+=je.ticksuffix)),je.labelalias&&je.labelalias.hasOwnProperty(Yt.text)){var kr=je.labelalias[Yt.text];typeof kr=="string"&&(Yt.text=kr)}if(je.tickson==="boundaries"||je.showdividers){var Fr=function(pn){var qr=je.l2p(pn);return qr>=0&&qr<=je._length?pn:null};Yt.xbnd=[Fr(Yt.x-.5),Fr(Yt.x+je.dtick-.5)]}return Yt},Q.hoverLabelText=function(je,Ye,It){It&&(je=A.extendFlat({},je,{hoverformat:It}));var kt=Array.isArray(Ye)?Ye[0]:Ye,Yt=Array.isArray(Ye)?Ye[1]:void 0;if(Yt!==void 0&&Yt!==kt)return Q.hoverLabelText(je,kt,It)+" - "+Q.hoverLabelText(je,Yt,It);var tr=je.type==="log"&&kt<=0,or=Q.tickText(je,je.c2l(tr?-kt:kt),"hover").text;return tr?kt===0?"0":y+or:or};function Et(je,Ye,It){var kt=je.tickfont||{};return{x:Ye,dx:0,dy:0,text:It||"",fontSize:kt.size,font:kt.family,fontColor:kt.color}}function Ct(je,Ye,It,kt){var Yt=je._tickround,tr=It&&je.hoverformat||Q.getTickFormat(je);kt=!tr&&kt,kt&&(P(Yt)?Yt=4:Yt={y:"m",m:"d",d:"M",M:"S",S:4}[Yt]);var or=A.formatDate(Ye.x,tr,Yt,je._dateFormat,je.calendar,je._extraFormat),rr,_t=or.indexOf(`
`);if(_t!==-1&&(rr=or.substr(_t+1),or=or.substr(0,_t)),kt&&(rr!==void 0&&(or==="00:00:00"||or==="00:00")?(or=rr,rr=""):or.length===8&&(or=or.replace(/:00$/,""))),rr)if(It)Yt==="d"?or+=", "+rr:or=rr+(or?", "+or:"");else if(!je._inCalcTicks||je._prevDateHead!==rr)je._prevDateHead=rr,or+="<br>"+rr;else{var hr=Xt(je),gr=je._trueSide||je.side;(!hr&&gr==="top"||hr&&gr==="bottom")&&(or+="<br> ")}Ye.text=or}function Vt(je,Ye,It,kt,Yt){var tr=je.dtick,or=Ye.x,rr=je.tickformat,_t=typeof tr=="string"&&tr.charAt(0);if(Yt==="never"&&(Yt=""),kt&&_t!=="L"&&(tr="L3",_t="L"),rr||_t==="L")Ye.text=Ee(Math.pow(10,or),je,Yt,kt);else if(P(tr)||_t==="D"&&A.mod(or+.01,1)<.1){var hr=Math.round(or),gr=Math.abs(hr),pr=je.exponentformat;pr==="power"||ye(pr)&&Ae(hr)?(hr===0?Ye.text=1:hr===1?Ye.text="10":Ye.text="10<sup>"+(hr>1?"":y)+gr+"</sup>",Ye.fontSize*=1.25):(pr==="e"||pr==="E")&&gr>2?Ye.text="1"+pr+(hr>0?"+":y)+gr:(Ye.text=Ee(Math.pow(10,or),je,"","fakehover"),tr==="D1"&&je._id.charAt(0)==="y"&&(Ye.dy-=Ye.fontSize/6))}else if(_t==="D")Ye.text=String(Math.round(Math.pow(10,A.mod(or,1)))),Ye.fontSize*=.75;else throw"unrecognized dtick "+String(tr);if(je.dtick==="D1"){var vr=String(Ye.text).charAt(0);(vr==="0"||vr==="1")&&(je._id.charAt(0)==="y"?Ye.dx-=Ye.fontSize/4:(Ye.dy+=Ye.fontSize/2,Ye.dx+=(je.range[1]>je.range[0]?1:-1)*Ye.fontSize*(or<0?.5:.25)))}}function Qe(je,Ye){var It=je._categories[Math.round(Ye.x)];It===void 0&&(It=""),Ye.text=String(It)}function Fe(je,Ye,It){var kt=Math.round(Ye.x),Yt=je._categories[kt]||[],tr=Yt[1]===void 0?"":String(Yt[1]),or=Yt[0]===void 0?"":String(Yt[0]);It?Ye.text=or+" - "+tr:(Ye.text=tr,Ye.text2=or)}function Ie(je,Ye,It,kt,Yt){Yt==="never"?Yt="":je.showexponent==="all"&&Math.abs(Ye.x/je.dtick)<1e-6&&(Yt="hide"),Ye.text=Ee(Ye.x,je,Yt,kt)}function ze(je,Ye,It,kt,Yt){if(je.thetaunit==="radians"&&!It){var tr=Ye.x/180;if(tr===0)Ye.text="0";else{var or=Re(tr);if(or[1]>=100)Ye.text=Ee(A.deg2rad(Ye.x),je,Yt,kt);else{var rr=Ye.x<0;or[1]===1?or[0]===1?Ye.text="":Ye.text=or[0]+"":Ye.text=["<sup>",or[0],"</sup>","","<sub>",or[1],"</sub>",""].join(""),rr&&(Ye.text=y+Ye.text)}}}else Ye.text=Ee(Ye.x,je,Yt,kt)}function Re(je){function Ye(rr,_t){return Math.abs(rr-_t)<=1e-6}function It(rr,_t){return Ye(_t,0)?rr:It(_t,rr%_t)}function kt(rr){for(var _t=1;!Ye(Math.round(rr*_t)/_t,rr);)_t*=10;return _t}var Yt=kt(je),tr=je*Yt,or=Math.abs(It(tr,Yt));return[Math.round(tr/or),Math.round(Yt/or)]}var be=["f","p","n","","m","","k","M","G","T"];function ye(je){return je==="SI"||je==="B"}function Ae(je){return je>14||je<-15}function Ee(je,Ye,It,kt){var Yt=je<0,tr=Ye._tickround,or=It||Ye.exponentformat||"B",rr=Ye._tickexponent,_t=Q.getTickFormat(Ye),hr=Ye.separatethousands;if(kt){var gr={exponentformat:or,minexponent:Ye.minexponent,dtick:Ye.showexponent==="none"?Ye.dtick:P(je)&&Math.abs(je)||1,range:Ye.showexponent==="none"?Ye.range.map(Ye.r2d):[0,je||1]};gt(gr),tr=(Number(gr._tickround)||0)+4,rr=gr._tickexponent,Ye.hoverformat&&(_t=Ye.hoverformat)}if(_t)return Ye._numFormat(_t)(je).replace(/-/g,y);var pr=Math.pow(10,-tr)/2;if(or==="none"&&(rr=0),je=Math.abs(je),je<pr)je="0",Yt=!1;else{if(je+=pr,rr&&(je*=Math.pow(10,-rr),tr+=rr),tr===0)je=String(Math.floor(je));else if(tr<0){je=String(Math.round(je)),je=je.substr(0,je.length+tr);for(var vr=tr;vr<0;vr++)je+="0"}else{je=String(je);var Hr=je.indexOf(".")+1;Hr&&(je=je.substr(0,Hr+tr).replace(/\.?0+$/,""))}je=A.numSeparate(je,Ye._separators,hr)}if(rr&&or!=="hide"){ye(or)&&Ae(rr)&&(or="power");var kr;rr<0?kr=y+-rr:or!=="power"?kr="+"+rr:kr=String(rr),or==="e"||or==="E"?je+=or+kr:or==="power"?je+="10<sup>"+kr+"</sup>":or==="B"&&rr===9?je+="B":ye(or)&&(je+=be[rr/3+5])}return Yt?y+je:je}Q.getTickFormat=function(je){var Ye;function It(_t){return typeof _t!="string"?_t:Number(_t.replace("M",""))*M}function kt(_t,hr){var gr=["L","D"];if(typeof _t==typeof hr){if(typeof _t=="number")return _t-hr;var pr=gr.indexOf(_t.charAt(0)),vr=gr.indexOf(hr.charAt(0));return pr===vr?Number(_t.replace(/(L|D)/g,""))-Number(hr.replace(/(L|D)/g,"")):pr-vr}else return typeof _t=="number"?1:-1}function Yt(_t,hr,gr){var pr=gr||function(kr){return kr},vr=hr[0],Hr=hr[1];return(!vr&&typeof vr!="number"||pr(vr)<=pr(_t))&&(!Hr&&typeof Hr!="number"||pr(Hr)>=pr(_t))}function tr(_t,hr){var gr=hr[0]===null,pr=hr[1]===null,vr=kt(_t,hr[0])>=0,Hr=kt(_t,hr[1])<=0;return(gr||vr)&&(pr||Hr)}var or,rr;if(je.tickformatstops&&je.tickformatstops.length>0)switch(je.type){case"date":case"linear":{for(Ye=0;Ye<je.tickformatstops.length;Ye++)if(rr=je.tickformatstops[Ye],rr.enabled&&Yt(je.dtick,rr.dtickrange,It)){or=rr;break}break}case"log":{for(Ye=0;Ye<je.tickformatstops.length;Ye++)if(rr=je.tickformatstops[Ye],rr.enabled&&tr(je.dtick,rr.dtickrange)){or=rr;break}break}}return or?or.value:je.tickformat},Q.getSubplots=function(je,Ye){var It=je._fullLayout._subplots,kt=It.cartesian.concat(It.gl2d||[]),Yt=Ye?Q.findSubplotsWithAxis(kt,Ye):kt;return Yt.sort(function(tr,or){var rr=tr.substr(1).split("y"),_t=or.substr(1).split("y");return rr[0]===_t[0]?+rr[1]-+_t[1]:+rr[0]-+_t[0]}),Yt},Q.findSubplotsWithAxis=function(je,Ye){for(var It=new RegExp(Ye._id.charAt(0)==="x"?"^"+Ye._id+"y":Ye._id+"$"),kt=[],Yt=0;Yt<je.length;Yt++){var tr=je[Yt];It.test(tr)&&kt.push(tr)}return kt},Q.makeClipPaths=function(je){var Ye=je._fullLayout;if(!Ye._hasOnlyLargeSploms){var It={_offset:0,_length:Ye.width,_id:""},kt={_offset:0,_length:Ye.height,_id:""},Yt=Q.list(je,"x",!0),tr=Q.list(je,"y",!0),or=[],rr,_t;for(rr=0;rr<Yt.length;rr++)for(or.push({x:Yt[rr],y:kt}),_t=0;_t<tr.length;_t++)rr===0&&or.push({x:It,y:tr[_t]}),or.push({x:Yt[rr],y:tr[_t]});var hr=Ye._clips.selectAll(".axesclip").data(or,function(gr){return gr.x._id+gr.y._id});hr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(gr){return"clip"+Ye._uid+gr.x._id+gr.y._id}).append("rect"),hr.exit().remove(),hr.each(function(gr){g.select(this).select("rect").attr({x:gr.x._offset||0,y:gr.y._offset||0,width:gr.x._length||1,height:gr.y._length||1})})}},Q.draw=function(je,Ye,It){var kt=je._fullLayout;Ye==="redraw"&&kt._paper.selectAll("g.subplot").each(function(_t){var hr=_t[0],gr=kt._plots[hr];if(gr){var pr=gr.xaxis,vr=gr.yaxis;gr.xaxislayer.selectAll("."+pr._id+"tick").remove(),gr.yaxislayer.selectAll("."+vr._id+"tick").remove(),gr.xaxislayer.selectAll("."+pr._id+"tick2").remove(),gr.yaxislayer.selectAll("."+vr._id+"tick2").remove(),gr.xaxislayer.selectAll("."+pr._id+"divider").remove(),gr.yaxislayer.selectAll("."+vr._id+"divider").remove(),gr.minorGridlayer&&gr.minorGridlayer.selectAll("path").remove(),gr.gridlayer&&gr.gridlayer.selectAll("path").remove(),gr.zerolinelayer&&gr.zerolinelayer.selectAll("path").remove(),kt._infolayer.select(".g-"+pr._id+"title").remove(),kt._infolayer.select(".g-"+vr._id+"title").remove()}});var Yt=!Ye||Ye==="redraw"?Q.listIds(je):Ye,tr=Q.list(je),or=tr.filter(function(_t){return _t.autoshift}).map(function(_t){return _t.overlaying});Yt.map(function(_t){var hr=Q.getFromId(je,_t);if(hr.tickmode==="sync"&&hr.overlaying){var gr=Yt.findIndex(function(pr){return pr===hr.overlaying});gr>=0&&Yt.unshift(Yt.splice(gr,1).shift())}});var rr={false:{left:0,right:0}};return A.syncOrAsync(Yt.map(function(_t){return function(){if(_t){var hr=Q.getFromId(je,_t);It||(It={}),It.axShifts=rr,It.overlayingShiftedAx=or;var gr=Q.drawOne(je,hr,It);return hr._shiftPusher&&sr(hr,hr._fullDepth||0,rr,!0),hr._r=hr.range.slice(),hr._rl=A.simpleMap(hr._r,hr.r2l),gr}}}))},Q.drawOne=function(je,Ye,It){It=It||{};var kt=It.axShifts||{},Yt=It.overlayingShiftedAx||[],tr,or,rr;Ye.setScale();var _t=je._fullLayout,hr=Ye._id,gr=hr.charAt(0),pr=Q.counterLetter(hr),vr=_t._plots[Ye._mainSubplot];if(!vr)return;if(Ye._shiftPusher=Ye.autoshift||Yt.indexOf(Ye._id)!==-1||Yt.indexOf(Ye.overlaying)!==-1,Ye._shiftPusher&Ye.anchor==="free"){var Hr=Ye.linewidth/2||0;Ye.ticks==="inside"&&(Hr+=Ye.ticklen),sr(Ye,Hr,kt,!0),sr(Ye,Ye.shift||0,kt,!1)}(It.skipTitle!==!0||Ye._shift===void 0)&&(Ye._shift=dr(Ye,kt));var kr=vr[gr+"axislayer"],Fr=Ye._mainLinePosition,pn=Fr+=Ye._shift,qr=Ye._mainMirrorPosition,On=Ye._vals=Q.calcTicks(Ye),Tn=[Ye.mirror,pn,qr].join("_");for(tr=0;tr<On.length;tr++)On[tr].axInfo=Tn;Ye._selections={},Ye._tickAngles&&(Ye._prevTickAngles=Ye._tickAngles),Ye._tickAngles={},Ye._depth=null;var Sr={};function Er(zr){var dn=hr+(zr||"tick");return Sr[dn]||(Sr[dn]=bt(Ye,dn)),Sr[dn]}if(Ye.visible){var Gr=Q.makeTransTickFn(Ye),Br=Q.makeTransTickLabelFn(Ye),nn,gn,mn=Ye.ticks==="inside",Pn=Ye.ticks==="outside";if(Ye.tickson==="boundaries"){var Fn=Je(Ye,On);gn=Q.clipEnds(Ye,Fn),nn=mn?gn:Fn}else gn=Q.clipEnds(Ye,On),nn=mn&&Ye.ticklabelmode!=="period"?gn:On;var ia=Ye._gridVals=gn,jn=vt(Ye,On);if(!_t._hasOnlyLargeSploms){var $n=Ye._subplotsWith,Wn={};for(tr=0;tr<$n.length;tr++){or=$n[tr],rr=_t._plots[or];var Qn=rr[pr+"axis"],Tr=Qn._mainAxis._id;if(!Wn[Tr]){Wn[Tr]=1;var sn=gr==="x"?"M0,"+Qn._offset+"v"+Qn._length:"M"+Qn._offset+",0h"+Qn._length;Q.drawGrid(je,Ye,{vals:ia,counterAxis:Qn,layer:rr.gridlayer.select("."+hr),minorLayer:rr.minorGridlayer.select("."+hr),path:sn,transFn:Gr}),Q.drawZeroLine(je,Ye,{counterAxis:Qn,layer:rr.zerolinelayer,path:sn,transFn:Gr})}}}var tn,yn=Q.getTickSigns(Ye),Hn=Q.getTickSigns(Ye,"minor");if(Ye.ticks||Ye.minor&&Ye.minor.ticks){var Sn=Q.makeTickPath(Ye,pn,yn[2]),En=Q.makeTickPath(Ye,pn,Hn[2],{minor:!0}),Nn,ea,xa,Wa;if(Ye._anchorAxis&&Ye.mirror&&Ye.mirror!==!0?(Nn=Q.makeTickPath(Ye,qr,yn[3]),ea=Q.makeTickPath(Ye,qr,Hn[3],{minor:!0}),xa=Sn+Nn,Wa=En+ea):(Nn="",ea="",xa=Sn,Wa=En),Ye.showdividers&&Pn&&Ye.tickson==="boundaries"){var jt={};for(tr=0;tr<jn.length;tr++)jt[jn[tr].x]=1;tn=function(zr){return jt[zr.x]?Nn:xa}}else tn=function(zr){return zr.minor?Wa:xa}}if(Q.drawTicks(je,Ye,{vals:nn,layer:kr,path:tn,transFn:Gr}),Ye.mirror==="allticks"){var wr=Object.keys(Ye._linepositions||{});for(tr=0;tr<wr.length;tr++){or=wr[tr],rr=_t._plots[or];var en=Ye._linepositions[or]||[],un=en[0],cn=en[1],Dn=en[2],Mn=Q.makeTickPath(Ye,un,Dn?yn[0]:Hn[0],{minor:Dn})+Q.makeTickPath(Ye,cn,Dn?yn[1]:Hn[1],{minor:Dn});Q.drawTicks(je,Ye,{vals:nn,layer:rr[gr+"axislayer"],path:Mn,transFn:Gr})}}var vn=[];if(vn.push(function(){return Q.drawLabels(je,Ye,{vals:On,layer:kr,plotinfo:rr,transFn:Br,labelFns:Q.makeLabelFns(Ye,pn)})}),Ye.type==="multicategory"){var Dr={x:2,y:10}[gr];vn.push(function(){var zr={x:"height",y:"width"}[gr],dn=Er()[zr]+Dr+(Ye._tickAngles[hr+"tick"]?Ye.tickfont.size*re:0);return Q.drawLabels(je,Ye,{vals:qe(Ye,On),layer:kr,cls:hr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Gr,labelFns:Q.makeLabelFns(Ye,pn+dn*yn[4])})}),vn.push(function(){return Ye._depth=yn[4]*(Er("tick2")[Ye.side]-pn),zt(je,Ye,{vals:jn,layer:kr,path:Q.makeTickPath(Ye,pn,yn[4],{len:Ye._depth}),transFn:Gr})})}else Ye.title.hasOwnProperty("standoff")&&vn.push(function(){Ye._depth=yn[4]*(Er()[Ye.side]-pn)});var Lr=L.getComponentMethod("rangeslider","isVisible")(Ye);return!It.skipTitle&&!(Lr&&Ye.side==="bottom")&&vn.push(function(){return Mr(je,Ye)}),vn.push(function(){var zr=Ye.side.charAt(0),dn=ae[Ye.side].charAt(0),_n=Q.getPxPosition(je,Ye),Zn=Pn?Ye.ticklen:0,xn,Bn,na,ua;(Ye.automargin||Lr||Ye._shiftPusher)&&(Ye.type==="multicategory"?xn=Er("tick2"):(xn=Er(),gr==="x"&&zr==="b"&&(Ye._depth=Math.max(xn.width>0?xn.bottom-_n:0,Zn))));var sa=0,la=0;if(Ye._shiftPusher&&(sa=Math.max(Zn,xn.height>0?zr==="l"?_n-xn.left:xn.right-_n:0),Ye.title.text!==_t._dfltTitle[gr]&&(la=(Ye._titleStandoff||0)+(Ye._titleScoot||0),zr==="l"&&(la+=Jt(Ye))),Ye._fullDepth=Math.max(sa,la)),Ye.automargin){Bn={x:0,y:0,r:0,l:0,t:0,b:0};var pa=[0,1],Ki=typeof Ye._shift=="number"?Ye._shift:0;if(gr==="x"){if(zr==="b"?Bn[zr]=Ye._depth:(Bn[zr]=Ye._depth=Math.max(xn.width>0?_n-xn.top:0,Zn),pa.reverse()),xn.width>0){var co=xn.right-(Ye._offset+Ye._length);co>0&&(Bn.xr=1,Bn.r=co);var yo=Ye._offset-xn.left;yo>0&&(Bn.xl=0,Bn.l=yo)}}else if(zr==="l"?(Ye._depth=Math.max(xn.height>0?_n-xn.left:0,Zn),Bn[zr]=Ye._depth-Ki):(Ye._depth=Math.max(xn.height>0?xn.right-_n:0,Zn),Bn[zr]=Ye._depth+Ki,pa.reverse()),xn.height>0){var Mo=xn.bottom-(Ye._offset+Ye._length);Mo>0&&(Bn.yb=0,Bn.b=Mo);var mo=Ye._offset-xn.top;mo>0&&(Bn.yt=1,Bn.t=mo)}Bn[pr]=Ye.anchor==="free"?Ye.position:Ye._anchorAxis.domain[pa[0]],Ye.title.text!==_t._dfltTitle[gr]&&(Bn[zr]+=Jt(Ye)+(Ye.title.standoff||0)),Ye.mirror&&Ye.anchor!=="free"&&(na={x:0,y:0,r:0,l:0,t:0,b:0},na[dn]=Ye.linewidth,Ye.mirror&&Ye.mirror!==!0&&(na[dn]+=Zn),Ye.mirror===!0||Ye.mirror==="ticks"?na[pr]=Ye._anchorAxis.domain[pa[1]]:(Ye.mirror==="all"||Ye.mirror==="allticks")&&(na[pr]=[Ye._counterDomainMin,Ye._counterDomainMax][pa[1]]))}Lr&&(ua=L.getComponentMethod("rangeslider","autoMarginOpts")(je,Ye)),typeof Ye.automargin=="string"&&(Ne(Bn,Ye.automargin),Ne(na,Ye.automargin)),i.autoMargin(je,ur(Ye),Bn),i.autoMargin(je,dt(Ye),na),i.autoMargin(je,st(Ye),ua)}),A.syncOrAsync(vn)}};function Ne(je,Ye){if(je){var It=Object.keys(_).reduce(function(kt,Yt){return Ye.indexOf(Yt)!==-1&&_[Yt].forEach(function(tr){kt[tr]=1}),kt},{});Object.keys(je).forEach(function(kt){It[kt]||(kt.length===1?je[kt]=0:delete je[kt])})}}function Je(je,Ye){var It=[],kt,Yt=function(tr,or){var rr=tr.xbnd[or];rr!==null&&It.push(A.extendFlat({},tr,{x:rr}))};if(Ye.length){for(kt=0;kt<Ye.length;kt++)Yt(Ye[kt],0);Yt(Ye[kt-1],1)}return It}function qe(je,Ye){for(var It=[],kt={},Yt=0;Yt<Ye.length;Yt++){var tr=Ye[Yt];kt[tr.text2]?kt[tr.text2].push(tr.x):kt[tr.text2]=[tr.x]}for(var or in kt)It.push(Et(je,A.interp(kt[or],.5),or));return It}function vt(je,Ye){var It=[],kt,Yt,tr=Ye.length&&Ye[Ye.length-1].x<Ye[0].x,or=function(_t,hr){var gr=_t.xbnd[hr];gr!==null&&It.push(A.extendFlat({},_t,{x:gr}))};if(je.showdividers&&Ye.length){for(kt=0;kt<Ye.length;kt++){var rr=Ye[kt];rr.text2!==Yt&&or(rr,tr?1:0),Yt=rr.text2}or(Ye[kt-1],tr?0:1)}return It}function bt(je,Ye){var It,kt,Yt,tr;return je._selections[Ye].size()?(It=1/0,kt=-1/0,Yt=1/0,tr=-1/0,je._selections[Ye].each(function(){var or=mr(this),rr=s.bBox(or.node().parentNode);It=Math.min(It,rr.top),kt=Math.max(kt,rr.bottom),Yt=Math.min(Yt,rr.left),tr=Math.max(tr,rr.right)})):(It=0,kt=0,Yt=0,tr=0),{top:It,bottom:kt,left:Yt,right:tr,height:kt-It,width:tr-Yt}}Q.getTickSigns=function(je,Ye){var It=je._id.charAt(0),kt={x:"top",y:"right"}[It],Yt=je.side===kt?1:-1,tr=[-1,1,Yt,-Yt],or=Ye?(je.minor||{}).ticks:je.ticks;return or!=="inside"==(It==="x")&&(tr=tr.map(function(rr){return-rr})),je.side&&tr.push({l:-1,t:-1,r:1,b:1}[je.side.charAt(0)]),tr},Q.makeTransTickFn=function(je){return je._id.charAt(0)==="x"?function(Ye){return v(je._offset+je.l2p(Ye.x),0)}:function(Ye){return v(0,je._offset+je.l2p(Ye.x))}},Q.makeTransTickLabelFn=function(je){var Ye=qt(je),It=Ye[0],kt=Ye[1];return je._id.charAt(0)==="x"?function(Yt){return v(It+je._offset+je.l2p(Wt(Yt)),kt)}:function(Yt){return v(kt,It+je._offset+je.l2p(Wt(Yt)))}};function Wt(je){return je.periodX!==void 0?je.periodX:je.x}function qt(je){var Ye=je.ticklabelposition||"",It=function(Hr){return Ye.indexOf(Hr)!==-1},kt=It("top"),Yt=It("left"),tr=It("right"),or=It("bottom"),rr=It("inside"),_t=or||Yt||kt||tr;if(!_t&&!rr)return[0,0];var hr=je.side,gr=_t?(je.tickwidth||0)/2:0,pr=fe,vr=je.tickfont?je.tickfont.size:12;return(or||kt)&&(gr+=vr*K,pr+=(je.linewidth||0)/2),(Yt||tr)&&(gr+=(je.linewidth||0)/2,pr+=fe),rr&&hr==="top"&&(pr-=vr*(1-K)),(Yt||kt)&&(gr=-gr),(hr==="bottom"||hr==="right")&&(pr=-pr),[_t?gr:0,rr?pr:0]}Q.makeTickPath=function(je,Ye,It,kt){kt||(kt={});var Yt=kt.minor;if(Yt&&!je.minor)return"";var tr=kt.len!==void 0?kt.len:Yt?je.minor.ticklen:je.ticklen,or=je._id.charAt(0),rr=(je.linewidth||1)/2;return or==="x"?"M0,"+(Ye+rr*It)+"v"+tr*It:"M"+(Ye+rr*It)+",0h"+tr*It},Q.makeLabelFns=function(je,Ye,It){var kt=je.ticklabelposition||"",Yt=function(Fn){return kt.indexOf(Fn)!==-1},tr=Yt("top"),or=Yt("left"),rr=Yt("right"),_t=Yt("bottom"),hr=_t||or||tr||rr,gr=Yt("inside"),pr=kt==="inside"&&je.ticks==="inside"||!gr&&je.ticks==="outside"&&je.tickson!=="boundaries",vr=0,Hr=0,kr=pr?je.ticklen:0;if(gr?kr*=-1:hr&&(kr=0),pr&&(vr+=kr,It)){var Fr=A.deg2rad(It);vr=kr*Math.cos(Fr)+1,Hr=kr*Math.sin(Fr)}je.showticklabels&&(pr||je.showline)&&(vr+=.2*je.tickfont.size),vr+=(je.linewidth||1)/2*(gr?-1:1);var pn={labelStandoff:vr,labelShift:Hr},qr,On,Tn,Sr,Er=0,Gr=je.side,Br=je._id.charAt(0),nn=je.tickangle,gn;if(Br==="x")gn=!gr&&Gr==="bottom"||gr&&Gr==="top",Sr=gn?1:-1,gr&&(Sr*=-1),qr=Hr*Sr,On=Ye+vr*Sr,Tn=gn?1:-.2,Math.abs(nn)===90&&(gr?Tn+=Y:nn===-90&&Gr==="bottom"?Tn=K:nn===90&&Gr==="top"?Tn=Y:Tn=.5,Er=Y/2*(nn/90)),pn.xFn=function(Fn){return Fn.dx+qr+Er*Fn.fontSize},pn.yFn=function(Fn){return Fn.dy+On+Fn.fontSize*Tn},pn.anchorFn=function(Fn,ia){if(hr){if(or)return"end";if(rr)return"start"}return!P(ia)||ia===0||ia===180?"middle":ia*Sr<0!==gr?"end":"start"},pn.heightFn=function(Fn,ia,jn){return ia<-60||ia>60?-.5*jn:je.side==="top"!==gr?-jn:0};else if(Br==="y"){if(gn=!gr&&Gr==="left"||gr&&Gr==="right",Sr=gn?1:-1,gr&&(Sr*=-1),qr=vr,On=Hr*Sr,Tn=0,!gr&&Math.abs(nn)===90&&(nn===-90&&Gr==="left"||nn===90&&Gr==="right"?Tn=K:Tn=.5),gr){var mn=P(nn)?+nn:0;if(mn!==0){var Pn=A.deg2rad(mn);Er=Math.abs(Math.sin(Pn))*K*Sr,Tn=0}}pn.xFn=function(Fn){return Fn.dx+Ye-(qr+Fn.fontSize*Tn)*Sr+Er*Fn.fontSize},pn.yFn=function(Fn){return Fn.dy+On+Fn.fontSize*Y},pn.anchorFn=function(Fn,ia){return P(ia)&&Math.abs(ia)===90?"middle":gn?"end":"start"},pn.heightFn=function(Fn,ia,jn){return je.side==="right"&&(ia*=-1),ia<-30?-jn:ia<30?-.5*jn:0}}return pn};function At(je){return[je.text,je.x,je.axInfo,je.font,je.fontSize,je.fontColor].join("_")}Q.drawTicks=function(je,Ye,It){It=It||{};var kt=Ye._id+"tick",Yt=[].concat(Ye.minor&&Ye.minor.ticks?It.vals.filter(function(or){return or.minor&&!or.noTick}):[]).concat(Ye.ticks?It.vals.filter(function(or){return!or.minor&&!or.noTick}):[]),tr=It.layer.selectAll("path."+kt).data(Yt,At);tr.exit().remove(),tr.enter().append("path").classed(kt,1).classed("ticks",1).classed("crisp",It.crisp!==!1).each(function(or){return r.stroke(g.select(this),or.minor?Ye.minor.tickcolor:Ye.tickcolor)}).style("stroke-width",function(or){return s.crispRound(je,or.minor?Ye.minor.tickwidth:Ye.tickwidth,1)+"px"}).attr("d",It.path).style("display",null),lr(Ye,[O]),tr.attr("transform",It.transFn)},Q.drawGrid=function(je,Ye,It){if(It=It||{},Ye.tickmode!=="sync"){var kt=Ye._id+"grid",Yt=Ye.minor&&Ye.minor.showgrid,tr=Yt?It.vals.filter(function(qr){return qr.minor}):[],or=Ye.showgrid?It.vals.filter(function(qr){return!qr.minor}):[],rr=It.counterAxis;if(rr&&Q.shouldShowZeroLine(je,Ye,rr))for(var _t=Ye.tickmode==="array",hr=0;hr<or.length;hr++){var gr=or[hr].x;if(_t?!gr:Math.abs(gr)<Ye.dtick/100)if(or=or.slice(0,hr).concat(or.slice(hr+1)),_t)hr--;else break}Ye._gw=s.crispRound(je,Ye.gridwidth,1);for(var pr=Yt?s.crispRound(je,Ye.minor.gridwidth,1):0,vr=It.layer,Hr=It.minorLayer,kr=1;kr>=0;kr--){var Fr=kr?vr:Hr;if(Fr){var pn=Fr.selectAll("path."+kt).data(kr?or:tr,At);pn.exit().remove(),pn.enter().append("path").classed(kt,1).classed("crisp",It.crisp!==!1),pn.attr("transform",It.transFn).attr("d",It.path).each(function(qr){return r.stroke(g.select(this),qr.minor?Ye.minor.gridcolor:Ye.gridcolor||"#ddd")}).style("stroke-dasharray",function(qr){return s.dashStyle(qr.minor?Ye.minor.griddash:Ye.griddash,qr.minor?Ye.minor.gridwidth:Ye.gridwidth)}).style("stroke-width",function(qr){return(qr.minor?pr:Ye._gw)+"px"}).style("display",null),typeof It.path=="function"&&pn.attr("d",It.path)}}lr(Ye,[B,F])}},Q.drawZeroLine=function(je,Ye,It){It=It||It;var kt=Ye._id+"zl",Yt=Q.shouldShowZeroLine(je,Ye,It.counterAxis),tr=It.layer.selectAll("path."+kt).data(Yt?[{x:0,id:Ye._id}]:[]);tr.exit().remove(),tr.enter().append("path").classed(kt,1).classed("zl",1).classed("crisp",It.crisp!==!1).each(function(){It.layer.selectAll("path").sort(function(or,rr){return J(or.id,rr.id)})}),tr.attr("transform",It.transFn).attr("d",It.path).call(r.stroke,Ye.zerolinecolor||r.defaultLine).style("stroke-width",s.crispRound(je,Ye.zerolinewidth,Ye._gw||1)+"px").style("display",null),lr(Ye,[I])},Q.drawLabels=function(je,Ye,It){It=It||{};var kt=je._fullLayout,Yt=Ye._id,tr=Yt.charAt(0),or=It.cls||Yt+"tick",rr=It.vals.filter(function(jn){return jn.text}),_t=It.labelFns,hr=It.secondary?0:Ye.tickangle,gr=(Ye._prevTickAngles||{})[or],pr=It.layer.selectAll("g."+or).data(Ye.showticklabels?rr:[],At),vr=[];pr.enter().append("g").classed(or,1).append("text").attr("text-anchor","middle").each(function(jn){var $n=g.select(this),Wn=je._promises.length;$n.call(p.positionText,_t.xFn(jn),_t.yFn(jn)).call(s.font,jn.font,jn.fontSize,jn.fontColor).text(jn.text).call(p.convertToTspans,je),je._promises[Wn]?vr.push(je._promises.pop().then(function(){Hr($n,hr)})):Hr($n,hr)}),lr(Ye,[N]),pr.exit().remove(),It.repositionOnUpdate&&pr.each(function(jn){g.select(this).select("text").call(p.positionText,_t.xFn(jn),_t.yFn(jn))});function Hr(jn,$n){jn.each(function(Wn){var Qn=g.select(this),Tr=Qn.select(".text-math-group"),sn=_t.anchorFn(Wn,$n),tn=It.transFn.call(Qn.node(),Wn)+(P($n)&&+$n!=0?" rotate("+$n+","+_t.xFn(Wn)+","+(_t.yFn(Wn)-Wn.fontSize/2)+")":""),yn=p.lineCount(Qn),Hn=re*Wn.fontSize,Sn=_t.heightFn(Wn,P($n)?+$n:0,(yn-1)*Hn);if(Sn&&(tn+=v(0,Sn)),Tr.empty()){var En=Qn.select("text");En.attr({transform:tn,"text-anchor":sn}),En.style("opacity",1),Ye._adjustTickLabelsOverflow&&Ye._adjustTickLabelsOverflow()}else{var Nn=s.bBox(Tr.node()).width,ea=Nn*{end:-.5,start:.5}[sn];Tr.attr("transform",tn+v(ea,0))}})}Ye._adjustTickLabelsOverflow=function(){var jn=Ye.ticklabeloverflow;if(!(!jn||jn==="allow")){var $n=jn.indexOf("hide")!==-1,Wn=Ye._id.charAt(0)==="x",Qn=0,Tr=Wn?je._fullLayout.width:je._fullLayout.height;if(jn.indexOf("domain")!==-1){var sn=A.simpleMap(Ye.range,Ye.r2l);Qn=Ye.l2p(sn[0])+Ye._offset,Tr=Ye.l2p(sn[1])+Ye._offset}var tn=Math.min(Qn,Tr),yn=Math.max(Qn,Tr),Hn=Ye.side,Sn=1/0,En=-1/0;pr.each(function(Wa){var jt=g.select(this),wr=jt.select(".text-math-group");if(wr.empty()){var en=s.bBox(jt.node()),un=0;Wn?(en.right>yn||en.left<tn)&&(un=1):(en.bottom>yn||en.top+(Ye.tickangle?0:Wa.fontSize/4)<tn)&&(un=1);var cn=jt.select("text");un?$n&&cn.style("opacity",0):(cn.style("opacity",1),Hn==="bottom"||Hn==="right"?Sn=Math.min(Sn,Wn?en.top:en.left):Sn=-1/0,Hn==="top"||Hn==="left"?En=Math.max(En,Wn?en.bottom:en.right):En=1/0)}});for(var Nn in kt._plots){var ea=kt._plots[Nn];if(!(Ye._id!==ea.xaxis._id&&Ye._id!==ea.yaxis._id)){var xa=Wn?ea.yaxis:ea.xaxis;xa&&(xa["_visibleLabelMin_"+Ye._id]=Sn,xa["_visibleLabelMax_"+Ye._id]=En)}}}},Ye._hideCounterAxisInsideTickLabels=function(jn){var $n=Ye._id.charAt(0)==="x",Wn=[];for(var Qn in kt._plots){var Tr=kt._plots[Qn];Ye._id!==Tr.xaxis._id&&Ye._id!==Tr.yaxis._id||Wn.push($n?Tr.yaxis:Tr.xaxis)}Wn.forEach(function(sn,tn){sn&&Xt(sn)&&(jn||[I,F,B,O,N]).forEach(function(yn){var Hn=yn.K==="tick"&&yn.L==="text"&&Ye.ticklabelmode==="period",Sn=kt._plots[Ye._mainSubplot],En;yn.K===I.K?En=Sn.zerolinelayer.selectAll("."+Ye._id+"zl"):yn.K===F.K?En=Sn.minorGridlayer.selectAll("."+Ye._id):yn.K===B.K?En=Sn.gridlayer.selectAll("."+Ye._id):En=Sn[Ye._id.charAt(0)+"axislayer"],En.each(function(){var Nn=g.select(this);yn.L&&(Nn=Nn.selectAll(yn.L)),Nn.each(function(ea){var xa=Ye.l2p(Hn?Wt(ea):ea.x)+Ye._offset,Wa=g.select(this);xa<Ye["_visibleLabelMax_"+sn._id]&&xa>Ye["_visibleLabelMin_"+sn._id]?Wa.style("display","none"):yn.K==="tick"&&!tn&&Wa.style("display",null)})})})})},Hr(pr,gr+1?gr:hr);function kr(){return vr.length&&Promise.all(vr)}var Fr=null;function pn(){if(Hr(pr,hr),rr.length&&tr==="x"&&!P(hr)&&(Ye.type!=="log"||String(Ye.dtick).charAt(0)!=="D")){Fr=0;var jn=0,$n=[],Wn;if(pr.each(function(en){jn=Math.max(jn,en.fontSize);var un=Ye.l2p(en.x),cn=mr(this),Dn=s.bBox(cn.node());$n.push({top:0,bottom:10,height:10,left:un-Dn.width/2,right:un+Dn.width/2+2,width:Dn.width+2})}),(Ye.tickson==="boundaries"||Ye.showdividers)&&!It.secondary){var Qn=2;for(Ye.ticks&&(Qn+=Ye.tickwidth/2),Wn=0;Wn<$n.length;Wn++){var Tr=rr[Wn].xbnd,sn=$n[Wn];if(Tr[0]!==null&&sn.left-Ye.l2p(Tr[0])<Qn||Tr[1]!==null&&Ye.l2p(Tr[1])-sn.right<Qn){Fr=90;break}}}else{var tn=rr.length,yn=Math.abs((rr[tn-1].x-rr[0].x)*Ye._m)/(tn-1),Hn=Ye.ticklabelposition||"",Sn=function(en){return Hn.indexOf(en)!==-1},En=Sn("top"),Nn=Sn("left"),ea=Sn("right"),xa=Sn("bottom"),Wa=xa||Nn||En||ea,jt=Wa?(Ye.tickwidth||0)+2*fe:0,wr=yn<jn*2.5||Ye.type==="multicategory"||Ye._name==="realaxis";for(Wn=0;Wn<$n.length-1;Wn++)if(A.bBoxIntersect($n[Wn],$n[Wn+1],jt)){Fr=wr?90:30;break}}Fr&&Hr(pr,Fr)}}Ye._selections&&(Ye._selections[or]=pr);var qr=[kr];Ye.automargin&&kt._redrawFromAutoMarginCount&&gr===90?(Fr=90,qr.push(function(){Hr(pr,gr)})):qr.push(pn),Ye._tickAngles&&qr.push(function(){Ye._tickAngles[or]=Fr===null?P(hr)?hr:0:Fr});var On=function(){var jn=0,$n=0;return pr.each(function(Wn,Qn){var Tr=mr(this),sn=Tr.select(".text-math-group");if(sn.empty()){var tn;Ye._vals[Qn]&&(tn=Ye._vals[Qn].bb||s.bBox(Tr.node()),Ye._vals[Qn].bb=tn),jn=Math.max(jn,tn.width),$n=Math.max($n,tn.height)}}),{labelsMaxW:jn,labelsMaxH:$n}},Tn=Ye._anchorAxis;if(Tn&&(Tn.autorange||Tn.insiderange)&&Xt(Ye)&&!ee(kt,Ye._id)&&(kt._insideTickLabelsUpdaterange||(kt._insideTickLabelsUpdaterange={}),Tn.autorange&&(kt._insideTickLabelsUpdaterange[Tn._name+".autorange"]=Tn.autorange,qr.push(On)),Tn.insiderange)){var Sr=On(),Er=Ye._id.charAt(0)==="y"?Sr.labelsMaxW:Sr.labelsMaxH;Er+=2*fe,Ye.ticklabelposition==="inside"&&(Er+=Ye.ticklen||0);var Gr=Ye.side==="right"||Ye.side==="top"?1:-1,Br=Gr===1?1:0,nn=Gr===1?0:1,gn=[];gn[nn]=Tn.range[nn];var mn=Tn.d2p(Tn.range[Br]),Pn=Tn.d2p(Tn.range[nn]),Fn=Math.abs(Pn-mn);Fn-Er>0?(Fn-=Er,Er*=1+Er/Fn):Er=0,Ye._id.charAt(0)!=="y"&&(Er=-Er),gn[Br]=Tn.p2d(Tn.d2p(Tn.range[Br])+Gr*Er),Tn.autorange==="min"||Tn.autorange==="max reversed"?(gn[0]=null,Tn._rangeInitial0=void 0,Tn._rangeInitial1=void 0):(Tn.autorange==="max"||Tn.autorange==="min reversed")&&(gn[1]=null,Tn._rangeInitial0=void 0,Tn._rangeInitial1=void 0),kt._insideTickLabelsUpdaterange[Tn._name+".range"]=gn}var ia=A.syncOrAsync(qr);return ia&&ia.then&&je._promises.push(ia),ia};function zt(je,Ye,It){var kt=Ye._id+"divider",Yt=It.vals,tr=It.layer.selectAll("path."+kt).data(Yt,At);tr.exit().remove(),tr.enter().insert("path",":first-child").classed(kt,1).classed("crisp",1).call(r.stroke,Ye.dividercolor).style("stroke-width",s.crispRound(je,Ye.dividerwidth,1)+"px"),tr.attr("transform",It.transFn).attr("d",It.path)}Q.getPxPosition=function(je,Ye){var It=je._fullLayout._size,kt=Ye._id.charAt(0),Yt=Ye.side,tr;if(Ye.anchor!=="free"?tr=Ye._anchorAxis:kt==="x"?tr={_offset:It.t+(1-(Ye.position||0))*It.h,_length:0}:kt==="y"&&(tr={_offset:It.l+(Ye.position||0)*It.w+Ye._shift,_length:0}),Yt==="top"||Yt==="left")return tr._offset;if(Yt==="bottom"||Yt==="right")return tr._offset+tr._length};function Jt(je){var Ye=je.title.font.size,It=(je.title.text.match(p.BR_TAG_ALL)||[]).length;return je.title.hasOwnProperty("standoff")?It?Ye*(K+It*re):Ye*K:It?Ye*(It+1)*re:Ye}function Mr(je,Ye){var It=je._fullLayout,kt=Ye._id,Yt=kt.charAt(0),tr=Ye.title.font.size,or;if(Ye.title.hasOwnProperty("standoff"))or=Ye._depth+Ye.title.standoff+Jt(Ye);else{var rr=Xt(Ye);if(Ye.type==="multicategory")or=Ye._depth;else{var _t=1.5*tr;rr&&(_t=.5*tr,Ye.ticks==="outside"&&(_t+=Ye.ticklen)),or=10+_t+(Ye.linewidth?Ye.linewidth-1:0)}rr||(Yt==="x"?or+=Ye.side==="top"?tr*(Ye.showticklabels?1:0):tr*(Ye.showticklabels?1.5:.5):or+=Ye.side==="right"?tr*(Ye.showticklabels?1:.5):tr*(Ye.showticklabels?.5:0))}var hr=Q.getPxPosition(je,Ye),gr,pr,vr;Yt==="x"?(pr=Ye._offset+Ye._length/2,vr=Ye.side==="top"?hr-or:hr+or):(vr=Ye._offset+Ye._length/2,pr=Ye.side==="right"?hr+or:hr-or,gr={rotate:"-90",offset:0});var Hr;if(Ye.type!=="multicategory"){var kr=Ye._selections[Ye._id+"tick"];if(Hr={selection:kr,side:Ye.side},kr&&kr.node()&&kr.node().parentNode){var Fr=s.getTranslate(kr.node().parentNode);Hr.offsetLeft=Fr.x,Hr.offsetTop=Fr.y}Ye.title.hasOwnProperty("standoff")&&(Hr.pad=0)}return Ye._titleStandoff=or,t.draw(je,kt+"title",{propContainer:Ye,propName:Ye._name+".title.text",placeholder:It._dfltTitle[Yt],avoid:Hr,transform:gr,attributes:{x:pr,y:vr,"text-anchor":"middle"}})}Q.shouldShowZeroLine=function(je,Ye,It){var kt=A.simpleMap(Ye.range,Ye.r2l);return kt[0]*kt[1]<=0&&Ye.zeroline&&(Ye.type==="linear"||Ye.type==="-")&&!(Ye.rangebreaks&&Ye.maskBreaks(0)===z)&&(pt(Ye,0)||!Zt(je,Ye,It,kt)||Kt(je,Ye))},Q.clipEnds=function(je,Ye){return Ye.filter(function(It){return pt(je,It.x)})};function pt(je,Ye){var It=je.l2p(Ye);return It>1&&It<je._length-1}function Zt(je,Ye,It,kt){var Yt=It._mainAxis;if(!Yt)return;var tr=je._fullLayout,or=Ye._id.charAt(0),rr=Q.counterLetter(Ye._id),_t=Ye._offset+(Math.abs(kt[0])<Math.abs(kt[1])==(or==="x")?0:Ye._length);function hr(kr){if(!kr.showline||!kr.linewidth)return!1;var Fr=Math.max((kr.linewidth+Ye.zerolinewidth)/2,1);function pn(Tn){return typeof Tn=="number"&&Math.abs(Tn-_t)<Fr}if(pn(kr._mainLinePosition)||pn(kr._mainMirrorPosition))return!0;var qr=kr._linepositions||{};for(var On in qr)if(pn(qr[On][0])||pn(qr[On][1]))return!0}var gr=tr._plots[It._mainSubplot];if(!(gr.mainplotinfo||gr).overlays.length)return hr(It);for(var pr=Q.list(je,rr),vr=0;vr<pr.length;vr++){var Hr=pr[vr];if(Hr._mainAxis===Yt&&hr(Hr))return!0}}function Kt(je,Ye){for(var It=je._fullData,kt=Ye._mainSubplot,Yt=Ye._id.charAt(0),tr=0;tr<It.length;tr++){var or=It[tr];if(or.visible===!0&&or.xaxis+or.yaxis===kt&&(L.traceIs(or,"bar-like")&&or.orientation==={x:"h",y:"v"}[Yt]||or.fill&&or.fill.charAt(or.fill.length-1)===Yt))return!0}return!1}function mr(je){var Ye=g.select(je),It=Ye.select(".text-math-group");return It.empty()?Ye.select("text"):It}Q.allowAutoMargin=function(je){for(var Ye=Q.list(je,"",!0),It=0;It<Ye.length;It++){var kt=Ye[It];kt.automargin&&(i.allowAutoMargin(je,ur(kt)),kt.mirror&&i.allowAutoMargin(je,dt(kt))),L.getComponentMethod("rangeslider","isVisible")(kt)&&i.allowAutoMargin(je,st(kt))}};function ur(je){return je._id+".automargin"}function dt(je){return ur(je)+".mirror"}function st(je){return je._id+".rangeslider"}Q.swap=function(je,Ye){for(var It=xt(je,Ye),kt=0;kt<It.length;kt++)Dt(je,It[kt].x,It[kt].y)};function xt(je,Ye){var It=[],kt,Yt;for(kt=0;kt<Ye.length;kt++){var tr=[],or=je._fullData[Ye[kt]].xaxis,rr=je._fullData[Ye[kt]].yaxis;if(!(!or||!rr)){for(Yt=0;Yt<It.length;Yt++)(It[Yt].x.indexOf(or)!==-1||It[Yt].y.indexOf(rr)!==-1)&&tr.push(Yt);if(!tr.length){It.push({x:[or],y:[rr]});continue}var _t=It[tr[0]],hr;if(tr.length>1)for(Yt=1;Yt<tr.length;Yt++)hr=It[tr[Yt]],Mt(_t.x,hr.x),Mt(_t.y,hr.y);Mt(_t.x,[or]),Mt(_t.y,[rr])}}return It}function Mt(je,Ye){for(var It=0;It<Ye.length;It++)je.indexOf(Ye[It])===-1&&je.push(Ye[It])}function Dt(je,Ye,It){var kt=[],Yt=[],tr=je.layout,or,rr;for(or=0;or<Ye.length;or++)kt.push(Q.getFromId(je,Ye[or]));for(or=0;or<It.length;or++)Yt.push(Q.getFromId(je,It[or]));var _t=Object.keys(n),hr=["anchor","domain","overlaying","position","side","tickangle","editType"],gr=["linear","log"];for(or=0;or<_t.length;or++){var pr=_t[or],vr=kt[0][pr],Hr=Yt[0][pr],kr=!0,Fr=!1,pn=!1;if(!(pr.charAt(0)==="_"||typeof vr=="function"||hr.indexOf(pr)!==-1)){for(rr=1;rr<kt.length&&kr;rr++){var qr=kt[rr][pr];pr==="type"&&gr.indexOf(vr)!==-1&&gr.indexOf(qr)!==-1&&vr!==qr?Fr=!0:qr!==vr&&(kr=!1)}for(rr=1;rr<Yt.length&&kr;rr++){var On=Yt[rr][pr];pr==="type"&&gr.indexOf(Hr)!==-1&&gr.indexOf(On)!==-1&&Hr!==On?pn=!0:Yt[rr][pr]!==Hr&&(kr=!1)}kr&&(Fr&&(tr[kt[0]._name].type="linear"),pn&&(tr[Yt[0]._name].type="linear"),Rt(tr,pr,kt,Yt,je._fullLayout._dfltTitle))}}for(or=0;or<je._fullLayout.annotations.length;or++){var Tn=je._fullLayout.annotations[or];Ye.indexOf(Tn.xref)!==-1&&It.indexOf(Tn.yref)!==-1&&A.swapAttrs(tr.annotations[or],["?"])}}function Rt(je,Ye,It,kt,Yt){var tr=A.nestedProperty,or=tr(je[It[0]._name],Ye).get(),rr=tr(je[kt[0]._name],Ye).get(),_t;for(Ye==="title"&&(or&&or.text===Yt.x&&(or.text=Yt.y),rr&&rr.text===Yt.y&&(rr.text=Yt.x)),_t=0;_t<It.length;_t++)tr(je,It[_t]._name+"."+Ye).set(rr);for(_t=0;_t<kt.length;_t++)tr(je,kt[_t]._name+"."+Ye).set(or)}function Nt(je){return je._id==="angularaxis"}function Bt(je,Ye){for(var It=Ye._rangebreaks.length,kt=0;kt<It;kt++){var Yt=Ye._rangebreaks[kt];if(je>=Yt.min&&je<Yt.max)return Yt.max}return je}function Xt(je){return(je.ticklabelposition||"").indexOf("inside")!==-1}function lr(je,Ye){Xt(je._anchorAxis||{})&&je._hideCounterAxisInsideTickLabels&&je._hideCounterAxisInsideTickLabels(Ye)}function sr(je,Ye,It,kt){var Yt=je.anchor!=="free"&&(je.overlaying===void 0||je.overlaying===!1)?je._id:je.overlaying,tr;kt?tr=je.side==="right"?Ye:-Ye:tr=Ye,Yt in It||(It[Yt]={}),je.side in It[Yt]||(It[Yt][je.side]=0),It[Yt][je.side]+=tr}function dr(je,Ye){return je.autoshift?Ye[je.overlaying][je.side]:je.shift||0}},4322:function(W,H,e){var g=e(92770),P=e(71828),i=e(50606).BADNUM,L=P.isArrayOrTypedArray,A=P.isDateTime,v=P.cleanNumber,p=Math.round;W.exports=function(m,c,w){var h=m,o=w.noMultiCategory;if(L(h)&&!h.length)return"-";if(!o&&f(h))return"multicategory";if(o&&Array.isArray(h[0])){for(var d=[],M=0;M<h.length;M++)if(L(h[M]))for(var T=0;T<h[M].length;T++)d.push(h[M][T]);h=d}if(s(h,c))return"date";var E=w.autotypenumbers!=="strict";return l(h,E)?"category":r(h,E)?"linear":"-"};function t(u,m){return m?g(u):typeof u=="number"}function r(u,m){for(var c=u.length,w=0;w<c;w++)if(t(u[w],m))return!0;return!1}function s(u,m){for(var c=u.length,w=n(c),h=0,o=0,d={},M=0;M<c;M+=w){var T=p(M),E=u[T],x=String(E);d[x]||(d[x]=1,A(E,m)&&h++,g(E)&&o++)}return h>o*2}function n(u){return Math.max(1,(u-1)/1e3)}function l(u,m){for(var c=u.length,w=n(c),h=0,o=0,d={},M=0;M<c;M+=w){var T=p(M),E=u[T],x=String(E);if(!d[x]){d[x]=1;var S=typeof E;S==="boolean"?o++:(m?v(E)!==i:S==="number")?h++:S==="string"&&o++}}return o>h*2}function f(u){return L(u[0])&&L(u[1])}},71453:function(W,H,e){var g=e(92770),P=e(73972),i=e(71828),L=e(44467),A=e(85501),v=e(13838),p=e(26218),t=e(38701),r=e(96115),s=e(89426),n=e(15258),l=e(92128),f=e(23608),u=e(21994),m=e(85555).WEEKDAY_PATTERN,c=e(85555).HOUR_PATTERN;W.exports=function(M,T,E,x,S){var b=x.letter,a=x.font||{},C=x.splomStash||{},y=E("visible",!x.visibleDflt),z=T._template||{},I=T.type||z.type||"-",B;if(I==="date"){var F=P.getComponentMethod("calendars","handleDefaults");F(M,T,"calendar",x.calendar),x.noTicklabelmode||(B=E("ticklabelmode"))}var O="";(!x.noTicklabelposition||I==="multicategory")&&(O=i.coerce(M,T,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:B==="period"?["outside","inside"]:b==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),x.noTicklabeloverflow||E("ticklabeloverflow",O.indexOf("inside")!==-1?"hide past domain":I==="category"||I==="multicategory"?"allow":"hide past div"),u(T,S),f(M,T,E,x),n(M,T,E,x),I!=="category"&&!x.noHover&&E("hoverformat");var N=E("color"),_=N!==v.color.dflt?N:a.color,U=C.label||S._dfltTitle[b];if(s(M,T,E,I,x),!y)return T;E("title.text",U),i.coerceFont(E,"title.font",{family:a.family,size:i.bigFont(a.size),color:_}),p(M,T,E,I);var Y=x.hasMinor;if(Y&&(L.newContainer(T,"minor"),p(M,T,E,I,{isMinor:!0})),r(M,T,E,I,x),t(M,T,E,x),Y){var K=x.isMinor;x.isMinor=!0,t(M,T,E,x),x.isMinor=K}l(M,T,E,{dfltColor:N,bgColor:x.bgColor,showGrid:x.showGrid,hasMinor:Y,attributes:v}),Y&&!T.minor.ticks&&!T.minor.showgrid&&delete T.minor,(T.showline||T.ticks)&&E("mirror");var re=I==="multicategory";if(!x.noTickson&&(I==="category"||re)&&(T.ticks||T.showgrid)){var ae;re&&(ae="boundaries");var fe=E("tickson",ae);fe==="boundaries"&&delete T.ticklabelposition}if(re){var Q=E("showdividers");Q&&(E("dividercolor"),E("dividerwidth"))}if(I==="date")if(A(M,T,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:w}),!T.rangebreaks.length)delete T.rangebreaks;else{for(var j=0;j<T.rangebreaks.length;j++)if(T.rangebreaks[j].pattern===m){T._hasDayOfWeekBreaks=!0;break}if(u(T,S),S._has("scattergl")||S._has("splom"))for(var X=0;X<x.data.length;X++){var J=x.data[X];(J.type==="scattergl"||J.type==="splom")&&(J.visible=!1,i.warn(J.type+" traces do not work on axes with rangebreaks. Setting trace "+J.index+" to `visible: false`."))}}return T};function w(d,M,T){function E(B,F){return i.coerce(d,M,v.rangebreaks,B,F)}var x=E("enabled");if(x){var S=E("bounds");if(S&&S.length>=2){var b="",a,C;if(S.length===2){for(a=0;a<2;a++)if(C=o(S[a]),C){b=m;break}}var y=E("pattern",b);if(y===m)for(a=0;a<2;a++)C=o(S[a]),C&&(M.bounds[a]=S[a]=C-1);if(y)for(a=0;a<2;a++)switch(C=S[a],y){case m:if(!g(C)){M.enabled=!1;return}if(C=+C,C!==Math.floor(C)||C<0||C>=7){M.enabled=!1;return}M.bounds[a]=S[a]=C;break;case c:if(!g(C)){M.enabled=!1;return}if(C=+C,C<0||C>24){M.enabled=!1;return}M.bounds[a]=S[a]=C;break}if(T.autorange===!1){var z=T.range;if(z[0]<z[1]){if(S[0]<z[0]&&S[1]>z[1]){M.enabled=!1;return}}else if(S[0]>z[0]&&S[1]<z[1]){M.enabled=!1;return}}}else{var I=E("values");if(I&&I.length)E("dvalue");else{M.enabled=!1;return}}}}var h={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function o(d){if(typeof d=="string")return h[d.substr(0,3).toLowerCase()]}},12663:function(W,H,e){var g=e(31562),P=g.FORMAT_LINK,i=g.DATE_FORMAT_LINK;function L(p,t){return{valType:"string",dflt:"",editType:"none",description:(t?A:v)("hover text",p)+["By default the values are formatted using "+(t?"generic number format":"`"+p+"axis.hoverformat`")+"."].join(" ")}}function A(p,t){return["Sets the "+p+" formatting rule"+(t?"for `"+t+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+P+"."].join(" ")}function v(p,t){return A(p,t)+[" And for dates see: "+i+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}W.exports={axisHoverFormat:L,descriptionOnlyNumbers:A,descriptionWithDates:v}},41675:function(W,H,e){var g=e(73972),P=e(85555);H.id2name=function(A){if(!(typeof A!="string"||!A.match(P.AX_ID_PATTERN))){var v=A.split(" ")[0].substr(1);return v==="1"&&(v=""),A.charAt(0)+"axis"+v}},H.name2id=function(A){if(A.match(P.AX_NAME_PATTERN)){var v=A.substr(5);return v==="1"&&(v=""),A.charAt(0)+v}},H.cleanId=function(A,v,p){var t=/( domain)$/.test(A);if(!(typeof A!="string"||!A.match(P.AX_ID_PATTERN))&&!(v&&A.charAt(0)!==v)&&!(t&&!p)){var r=A.split(" ")[0].substr(1).replace(/^0+/,"");return r==="1"&&(r=""),A.charAt(0)+r+(t&&p?" domain":"")}},H.list=function(L,A,v){var p=L._fullLayout;if(!p)return[];var t=H.listIds(L,A),r=new Array(t.length),s;for(s=0;s<t.length;s++){var n=t[s];r[s]=p[n.charAt(0)+"axis"+n.substr(1)]}if(!v){var l=p._subplots.gl3d||[];for(s=0;s<l.length;s++){var f=p[l[s]];A?r.push(f[A+"axis"]):r.push(f.xaxis,f.yaxis,f.zaxis)}}return r},H.listIds=function(L,A){var v=L._fullLayout;if(!v)return[];var p=v._subplots;return A?p[A+"axis"]:p.xaxis.concat(p.yaxis)},H.getFromId=function(L,A,v){var p=L._fullLayout;return A=A===void 0||typeof A!="string"?A:A.replace(" domain",""),v==="x"?A=A.replace(/y[0-9]*/,""):v==="y"&&(A=A.replace(/x[0-9]*/,"")),p[H.id2name(A)]},H.getFromTrace=function(L,A,v){var p=L._fullLayout,t=null;if(g.traceIs(A,"gl3d")){var r=A.scene;r.substr(0,5)==="scene"&&(t=p[r][v+"axis"])}else t=H.getFromId(L,A[v+"axis"]||v);return t},H.idSort=function(L,A){var v=L.charAt(0),p=A.charAt(0);return v!==p?v>p?1:-1:+(L.substr(1)||1)-+(A.substr(1)||1)},H.ref2id=function(L){return/^[xyz]/.test(L)?L.split(" ")[0]:!1};function i(L,A){if(A&&A.length){for(var v=0;v<A.length;v++)if(A[v][L])return!0}return!1}H.isLinked=function(L,A){return i(A,L._axisMatchGroups)||i(A,L._axisConstraintGroups)}},15258:function(W){function H(e,g){var P=g.dataAttr||e._id.charAt(0),i={},L,A,v;if(g.axData)L=g.axData;else for(L=[],A=0;A<g.data.length;A++){var p=g.data[A];p[P+"axis"]===e._id&&L.push(p)}for(A=0;A<L.length;A++){var t=L[A][P];for(v=0;v<t.length;v++){var r=t[v];r!=null&&(i[r]=1)}}return Object.keys(i)}W.exports=function(g,P,i,L){if(P.type==="category"){var A=g.categoryarray,v=Array.isArray(A)&&A.length>0,p;v&&(p="array");var t=i("categoryorder",p),r;t==="array"&&(r=i("categoryarray")),!v&&t==="array"&&(t=P.categoryorder="trace"),t==="trace"?P._initialCategories=[]:t==="array"?P._initialCategories=r.slice():(r=H(P,L).sort(),t==="category ascending"?P._initialCategories=r:t==="category descending"&&(P._initialCategories=r.reverse()))}}},66287:function(W,H,e){var g=e(92770),P=e(71828),i=e(50606),L=i.ONEDAY,A=i.ONEWEEK;H.dtick=function(v,p){var t=p==="log",r=p==="date",s=p==="category",n=r?L:1;if(!v)return n;if(g(v))return v=Number(v),v<=0?n:s?Math.max(1,Math.round(v)):r?Math.max(.1,v):v;if(typeof v!="string"||!(r||t))return n;var l=v.charAt(0),f=v.substr(1);return f=g(f)?Number(f):0,f<=0||!(r&&l==="M"&&f===Math.round(f)||t&&l==="L"||t&&l==="D"&&(f===1||f===2))?n:v},H.tick0=function(v,p,t,r){if(p==="date")return P.cleanDate(v,P.dateTick0(t,r%A===0?1:0));if(!(r==="D1"||r==="D2"))return g(v)?Number(v):0}},85555:function(W,H,e){var g=e(30587).counter;W.exports={idRegex:{x:g("x","( domain)?"),y:g("y","( domain)?")},attrRegex:g("[xy]axis"),xAxisMatch:g("xaxis"),yAxisMatch:g("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(W,H,e){var g=e(71828),P=e(71739),i=e(41675).id2name,L=e(13838),A=e(42449),v=e(21994),p=e(50606).ALMOST_EQUAL,t=e(18783).FROM_BL;H.handleDefaults=function(c,w,h){var o=h.axIds,d=h.axHasImage,M=w._axisConstraintGroups=[],T=w._axisMatchGroups=[],E,x,S,b,a,C,y,z;for(E=0;E<o.length;E++)b=i(o[E]),a=c[b],C=w[b],r(a,C,{axIds:o,layoutOut:w,hasImage:d[b]});function I(re,ae){for(E=0;E<re.length;E++){x=re[E];for(S in x)w[i(S)][ae]=x}}for(I(T,"_matchGroup"),E=0;E<M.length;E++){x=M[E];for(S in x)if(C=w[i(S)],C.fixedrange){for(var B in x){var F=i(B);(c[F]||{}).fixedrange===!1&&g.warn("fixedrange was specified as false for axis "+F+" but was overridden because another axis in its constraint group has fixedrange true"),w[F].fixedrange=!0}break}}for(E=0;E<M.length;){x=M[E];for(S in x){C=w[i(S)],C._matchGroup&&Object.keys(C._matchGroup).length===Object.keys(x).length&&(M.splice(E,1),E--);break}E++}I(M,"_constraintGroup");var O=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],N=!1,_=!1;function U(){z=C[y],y==="rangebreaks"&&(_=C._hasDayOfWeekBreaks)}for(E=0;E<T.length;E++){x=T[E];for(var Y=0;Y<O.length;Y++){y=O[Y],z=null;var K;for(S in x)if(b=i(S),a=c[b],C=w[b],y in C){if(!C.matches&&(K=C,y in a)){U();break}z===null&&y in a&&U()}if(y==="range"&&z&&a.range&&a.range.length===2&&a.range[0]!==null&&a.range[1]!==null&&(N=!0),y==="autorange"&&z===null&&N&&(z=!1),z===null&&y in K&&(z=K[y]),z!==null)for(S in x)C=w[i(S)],C[y]=y==="range"?z.slice():z,y==="rangebreaks"&&(C._hasDayOfWeekBreaks=_,v(C,w))}}};function r(c,w,h){var o=h.axIds,d=h.layoutOut,M=h.hasImage,T=d._axisConstraintGroups,E=d._axisMatchGroups,x=w._id,S=x.charAt(0),b=((d._splomAxes||{})[S]||{})[x]||{},a=w._id,C=a.charAt(0)==="x";w._matchGroup=null,w._constraintGroup=null;function y(j,X){return g.coerce(c,w,L,j,X)}y("constrain",M?"domain":"range"),g.coerce(c,w,{constraintoward:{valType:"enumerated",values:C?["left","center","right"]:["bottom","middle","top"],dflt:C?"center":"middle"}},"constraintoward");var z=w.type,I,B,F=[];for(I=0;I<o.length;I++)if(B=o[I],B!==a){var O=d[i(B)];O.type===z&&F.push(B)}var N=n(T,a);if(N){var _=[];for(I=0;I<F.length;I++)B=F[I],N[B]||_.push(B);F=_}var U=F.length,Y,K;U&&(c.matches||b.matches)&&(Y=g.coerce(c,w,{matches:{valType:"enumerated",values:F,dflt:F.indexOf(b.matches)!==-1?b.matches:void 0}},"matches"));var re=M&&!C?w.anchor:void 0;if(U&&!Y&&(c.scaleanchor||re)&&(K=g.coerce(c,w,{scaleanchor:{valType:"enumerated",values:F.concat([!1])}},"scaleanchor",re)),Y){w._matchGroup=l(E,a,Y,1);var ae=d[i(Y)],fe=s(d,w)/s(d,ae);C!==(Y.charAt(0)==="x")&&(fe=(C?"x":"y")+fe),l(T,a,Y,fe)}else c.matches&&o.indexOf(c.matches)!==-1&&g.warn("ignored "+w._name+'.matches: "'+c.matches+'" to avoid an infinite loop');if(K){var Q=y("scaleratio");Q||(Q=w.scaleratio=1),l(T,a,K,Q)}else c.scaleanchor&&o.indexOf(c.scaleanchor)!==-1&&g.warn("ignored "+w._name+'.scaleanchor: "'+c.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function s(c,w){var h=w.domain;return h||(h=c[i(w.overlaying)].domain),h[1]-h[0]}function n(c,w){for(var h=0;h<c.length;h++)if(c[h][w])return c[h];return null}function l(c,w,h,o){var d,M,T,E,x,S=n(c,w);S===null?(S={},S[w]=1,x=c.length,c.push(S)):x=c.indexOf(S);var b=Object.keys(S);for(d=0;d<c.length;d++)if(T=c[d],d!==x&&T[h]){var a=T[h];for(M=0;M<b.length;M++)E=b[M],T[E]=f(a,f(o,S[E]));c.splice(x,1);return}if(o!==1)for(M=0;M<b.length;M++){var C=b[M];S[C]=f(o,S[C])}S[h]=1}function f(c,w){var h="",o="",d,M;typeof c=="string"&&(h=c.match(/^[xy]*/)[0],d=h.length,c=+c.substr(d)),typeof w=="string"&&(o=w.match(/^[xy]*/)[0],M=o.length,w=+w.substr(M));var T=c*w;return!d&&!M?T:!d||!M||h.charAt(0)===o.charAt(0)?h+o+c*w:d===M?T:(d>M?h.substr(M):o.substr(d))+T}function u(c,w){for(var h=w._size,o=h.h/h.w,d={},M=Object.keys(c),T=0;T<M.length;T++){var E=M[T],x=c[E];if(typeof x=="string"){var S=x.match(/^[xy]*/)[0],b=S.length;x=+x.substr(b);for(var a=S.charAt(0)==="y"?o:1/o,C=0;C<b;C++)x*=a}d[E]=x}return d}H.enforce=function(w){var h=w._fullLayout,o=h._axisConstraintGroups||[],d,M,T,E,x,S,b,a;for(d=0;d<o.length;d++){T=u(o[d],h);var C=Object.keys(T),y=1/0,z=0,I=1/0,B={},F={},O=!1;for(M=0;M<C.length;M++)E=C[M],F[E]=x=h[i(E)],x._inputDomain?x.domain=x._inputDomain.slice():x._inputDomain=x.domain.slice(),x._inputRange||(x._inputRange=x.range.slice()),x.setScale(),B[E]=S=Math.abs(x._m)/T[E],y=Math.min(y,S),(x.constrain==="domain"||!x._constraintShrinkable)&&(I=Math.min(I,S)),delete x._constraintShrinkable,z=Math.max(z,S),x.constrain==="domain"&&(O=!0);if(!(y>p*z&&!O)){for(M=0;M<C.length;M++)if(E=C[M],S=B[E],x=F[E],b=x.constrain,S!==I||b==="domain")if(a=S/I,b==="range")A(x,a);else{var N=x._inputDomain,_=(x.domain[1]-x.domain[0])/(N[1]-N[0]),U=(x.r2l(x.range[1])-x.r2l(x.range[0]))/(x.r2l(x._inputRange[1])-x.r2l(x._inputRange[0]));if(a/=_,a*U<1){x.domain=x._input.domain=N.slice(),A(x,a);continue}if(U<1&&(x.range=x._input.range=x._inputRange.slice(),a*=U),x.autorange){var Y=x.r2l(x.range[0]),K=x.r2l(x.range[1]),re=(Y+K)/2,ae=re,fe=re,Q=Math.abs(K-re),j=re-Q*a*1.0001,X=re+Q*a*1.0001,J=P.makePadFn(h,x,0),ee=P.makePadFn(h,x,1);m(x,a);var se=Math.abs(x._m),q=P.concatExtremes(w,x),$=q.min,le=q.max,ie,ce;for(ce=0;ce<$.length;ce++)ie=$[ce].val-J($[ce])/se,ie>j&&ie<ae&&(ae=ie);for(ce=0;ce<le.length;ce++)ie=le[ce].val+ee(le[ce])/se,ie<X&&ie>fe&&(fe=ie);var me=(fe-ae)/(2*Q);a/=me,ae=x.l2r(ae),fe=x.l2r(fe),x.range=x._input.range=Y<K?[ae,fe]:[fe,ae]}m(x,a)}}}},H.getAxisGroup=function(w,h){for(var o=w._axisMatchGroups,d=0;d<o.length;d++){var M=o[d];if(M[h])return"g"+d}return h},H.clean=function(w,h){if(h._inputDomain){for(var o=!1,d=h._id,M=w._fullLayout._axisConstraintGroups,T=0;T<M.length;T++)if(M[T][d]){o=!0;break}(!o||h.constrain!=="domain")&&(h._input.domain=h.domain=h._inputDomain,delete h._inputDomain)}};function m(c,w){var h=c._inputDomain,o=t[c.constraintoward],d=h[0]+(h[1]-h[0])*o;c.domain=c._input.domain=[d+(h[0]-d)/w,d+(h[1]-d)/w],c.setScale()}},29323:function(W,H,e){var g=e(39898),P=e(71828),i=P.numberFormat,L=e(84267),A=e(38520),v=e(73972),p=P.strTranslate,t=e(63893),r=e(7901),s=e(91424),n=e(30211),l=e(89298),f=e(6964),u=e(28569),m=e(64505),c=m.selectingOrDrawing,w=m.freeMode,h=e(18783).FROM_TL,o=e(33306),d=e(61549).redrawReglTraces,M=e(74875),T=e(41675).getFromId,E=e(47322).prepSelect,x=e(47322).clearOutline,S=e(47322).selectOnClick,b=e(42449),a=e(85555),C=a.MINDRAG,y=a.MINZOOM,z=!0;function I(ie,ce,me,Me,we,Oe,Be,Ce){var xe=ie._fullLayout._zoomlayer,Se=Be+Ce==="nsew",He=(Be+Ce).length===1,Ge,ke,We,it,et,tt,at,ht,yt,gt,Et,Ct,Vt,Qe,Fe,Ie,ze,Re,be,ye,Ae,Ee,Ne;me+=ce.yaxis._shift;function Je(){if(Ge=ce.xaxis,ke=ce.yaxis,yt=Ge._length,gt=ke._length,at=Ge._offset,ht=ke._offset,We={},We[Ge._id]=Ge,it={},it[ke._id]=ke,Be&&Ce)for(var rr=ce.overlays,_t=0;_t<rr.length;_t++){var hr=rr[_t].xaxis;We[hr._id]=hr;var gr=rr[_t].yaxis;it[gr._id]=gr}et=le(We),tt=le(it),Vt=O(et,Ce),Qe=O(tt,Be),Fe=!Qe&&!Vt,Ct=q(ie,ie._fullLayout._axisMatchGroups,We,it),Et=q(ie,ie._fullLayout._axisConstraintGroups,We,it,Ct);var pr=Et.isSubplotConstrained||Ct.isSubplotConstrained;Ie=Ce||pr,ze=Be||pr;var vr=ie._fullLayout;Re=vr._has("scattergl"),be=vr._has("splom"),ye=vr._has("svg")}Je();var qe=K(Qe+Vt,ie._fullLayout.dragmode,Se),vt=F(ce,Be+Ce+"drag",qe,me,Me,we,Oe);if(Fe&&!Se)return vt.onmousedown=null,vt.style.pointerEvents="none",vt;var bt={element:vt,gd:ie,plotinfo:ce};bt.prepFn=function(rr,_t,hr){var gr=bt.dragmode,pr=ie._fullLayout.dragmode;pr!==gr&&(bt.dragmode=pr),Je(),Ee=ie._fullLayout._invScaleX,Ne=ie._fullLayout._invScaleY,Fe||(Se?rr.shiftKey?pr==="pan"?pr="zoom":c(pr)||(pr="pan"):rr.ctrlKey&&(pr="pan"):pr="pan"),w(pr)?bt.minDrag=1:bt.minDrag=void 0,c(pr)?(bt.xaxes=et,bt.yaxes=tt,E(rr,_t,hr,bt,pr)):(bt.clickFn=qt,c(gr)&&Wt(),Fe||(pr==="zoom"?(bt.moveFn=xt,bt.doneFn=Dt,bt.minDrag=1,st(rr,_t,hr)):pr==="pan"&&(bt.moveFn=sr,bt.doneFn=It))),ie._fullLayout._redrag=function(){var vr=ie._dragdata;if(vr&&vr.element===vt){var Hr=ie._fullLayout.dragmode;c(Hr)||(Je(),kt([0,0,yt,gt]),bt.moveFn(vr.dx,vr.dy))}}};function Wt(){bt.plotinfo.selection=!1,x(ie)}function qt(rr,_t){var hr=bt.gd;if(hr._fullLayout._activeShapeIndex>=0){hr._fullLayout._deactivateShape(hr);return}var gr=hr._fullLayout.clickmode;if(j(hr),rr===2&&!He&&Ye(),Se)gr.indexOf("select")>-1&&S(_t,hr,et,tt,ce.id,bt),gr.indexOf("event")>-1&&n.click(hr,_t,ce.id);else if(rr===1&&He){var pr=Be?ke:Ge,vr=Be==="s"||Ce==="w"?0:1,Hr=pr._name+".range["+vr+"]",kr=N(pr,vr),Fr="left",pn="middle";if(pr.fixedrange)return;Be?(pn=Be==="n"?"top":"bottom",pr.side==="right"&&(Fr="right")):Ce==="e"&&(Fr="right"),hr._context.showAxisRangeEntryBoxes&&g.select(vt).call(t.makeEditable,{gd:hr,immediate:!0,background:hr._fullLayout.paper_bgcolor,text:String(kr),fill:pr.tickfont?pr.tickfont.color:"#444",horizontalAlign:Fr,verticalAlign:pn}).on("edit",function(qr){var On=pr.d2r(qr);On!==void 0&&v.call("_guiRelayout",hr,Hr,On)})}}u.init(bt);var At,zt,Jt,Mr,pt,Zt,Kt,mr,ur,dt;function st(rr,_t,hr){var gr=vt.getBoundingClientRect();At=_t-gr.left,zt=hr-gr.top,ie._fullLayout._calcInverseTransform(ie);var pr=P.apply3DTransform(ie._fullLayout._invTransform)(At,zt);At=pr[0],zt=pr[1],Jt={l:At,r:At,w:0,t:zt,b:zt,h:0},Mr=ie._hmpixcount?ie._hmlumcount/ie._hmpixcount:L(ie._fullLayout.plot_bgcolor).getLuminance(),pt="M0,0H"+yt+"V"+gt+"H0V0",Zt=!1,Kt="xy",dt=!1,mr=re(xe,Mr,at,ht,pt),ur=ae(xe,at,ht)}function xt(rr,_t){if(ie._transitioningWithDuration)return!1;var hr=Math.max(0,Math.min(yt,Ee*rr+At)),gr=Math.max(0,Math.min(gt,Ne*_t+zt)),pr=Math.abs(hr-At),vr=Math.abs(gr-zt);Jt.l=Math.min(At,hr),Jt.r=Math.max(At,hr),Jt.t=Math.min(zt,gr),Jt.b=Math.max(zt,gr);function Hr(){Kt="",Jt.r=Jt.l,Jt.t=Jt.b,ur.attr("d","M0,0Z")}if(Et.isSubplotConstrained)pr>y||vr>y?(Kt="xy",pr/yt>vr/gt?(vr=pr*gt/yt,zt>gr?Jt.t=zt-vr:Jt.b=zt+vr):(pr=vr*yt/gt,At>hr?Jt.l=At-pr:Jt.r=At+pr),ur.attr("d",se(Jt))):Hr();else if(Ct.isSubplotConstrained)if(pr>y||vr>y){Kt="xy";var kr=Math.min(Jt.l/yt,(gt-Jt.b)/gt),Fr=Math.max(Jt.r/yt,(gt-Jt.t)/gt);Jt.l=kr*yt,Jt.r=Fr*yt,Jt.b=(1-kr)*gt,Jt.t=(1-Fr)*gt,ur.attr("d",se(Jt))}else Hr();else!Qe||vr<Math.min(Math.max(pr*.6,C),y)?pr<C||!Vt?Hr():(Jt.t=0,Jt.b=gt,Kt="x",ur.attr("d",J(Jt,zt))):!Vt||pr<Math.min(vr*.6,y)?(Jt.l=0,Jt.r=yt,Kt="y",ur.attr("d",ee(Jt,At))):(Kt="xy",ur.attr("d",se(Jt)));Jt.w=Jt.r-Jt.l,Jt.h=Jt.b-Jt.t,Kt&&(dt=!0),ie._dragged=dt,fe(mr,ur,Jt,pt,Zt,Mr),Mt(),ie.emit("plotly_relayouting",Ae),Zt=!0}function Mt(){Ae={},(Kt==="xy"||Kt==="x")&&(_(et,Jt.l/yt,Jt.r/yt,Ae,Et.xaxes),dr("x",Ae)),(Kt==="xy"||Kt==="y")&&(_(tt,(gt-Jt.b)/gt,(gt-Jt.t)/gt,Ae,Et.yaxes),dr("y",Ae))}function Dt(){Mt(),j(ie),It(),X(ie)}var Rt=[0,0,yt,gt],Nt=null,Bt=a.REDRAWDELAY,Xt=ce.mainplot?ie._fullLayout._plots[ce.mainplot]:ce;function lr(rr){if(!ie._context._scrollZoom.cartesian&&!ie._fullLayout._enablescrollzoom)return;if(Wt(),ie._transitioningWithDuration){rr.preventDefault(),rr.stopPropagation();return}Je(),clearTimeout(Nt);var _t=-rr.deltaY;if(isFinite(_t)||(_t=rr.wheelDelta/10),!isFinite(_t)){P.log("Did not find wheel motion attributes: ",rr);return}var hr=Math.exp(-Math.min(Math.max(_t,-20),20)/200),gr=Xt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),pr=(rr.clientX-gr.left)/gr.width,vr=(gr.bottom-rr.clientY)/gr.height,Hr;function kr(Fr,pn,qr){if(Fr.fixedrange)return;var On=P.simpleMap(Fr.range,Fr.r2l),Tn=On[0]+(On[1]-On[0])*pn;function Sr(Er){return Fr.l2r(Tn+(Er-Tn)*qr)}Fr.range=On.map(Sr)}if(Ie){for(Ce||(pr=.5),Hr=0;Hr<et.length;Hr++)kr(et[Hr],pr,hr);dr("x"),Rt[2]*=hr,Rt[0]+=Rt[2]*pr*(1/hr-1)}if(ze){for(Be||(vr=.5),Hr=0;Hr<tt.length;Hr++)kr(tt[Hr],vr,hr);dr("y"),Rt[3]*=hr,Rt[1]+=Rt[3]*(1-vr)*(1/hr-1)}kt(Rt),je(),ie.emit("plotly_relayouting",Ae),Nt=setTimeout(function(){ie._fullLayout&&(Rt=[0,0,yt,gt],It())},Bt),rr.preventDefault()}Be.length*Ce.length!==1&&$(vt,lr);function sr(rr,_t){if(rr=rr*Ee,_t=_t*Ne,ie._transitioningWithDuration)return;if(ie._fullLayout._replotting=!0,Vt==="ew"||Qe==="ns"){var hr=Vt?-rr:0,gr=Qe?-_t:0;if(Ct.isSubplotConstrained){if(Vt&&Qe){var pr=(rr/yt-_t/gt)/2;rr=pr*yt,_t=-pr*gt,hr=-rr,gr=-_t}Qe?hr=-gr*yt/gt:gr=-hr*gt/yt}Vt&&(U(et,rr),dr("x")),Qe&&(U(tt,_t),dr("y")),kt([hr,gr,yt,gt]),je(),ie.emit("plotly_relayouting",Ae);return}function vr(Sr,Er,Gr){for(var Br=1-Er,nn,gn,mn=0;mn<Sr.length;mn++){var Pn=Sr[mn];if(!Pn.fixedrange){nn=Pn,gn=Pn._rl[Br]+(Pn._rl[Er]-Pn._rl[Br])/Y(Gr/Pn._length);var Fn=Pn.l2r(gn);Fn!==!1&&Fn!==void 0&&(Pn.range[Er]=Fn)}}return nn._length*(nn._rl[Er]-gn)/(nn._rl[Er]-nn._rl[Br])}var Hr=Vt==="w"==(Qe==="n")?1:-1;if(Vt&&Qe&&(Et.isSubplotConstrained||Ct.isSubplotConstrained)){var kr=(rr/yt+Hr*_t/gt)/2;rr=kr*yt,_t=Hr*kr*gt}var Fr,pn;if(Vt==="w"?rr=vr(et,0,rr):Vt==="e"?rr=vr(et,1,-rr):Vt||(rr=0),Qe==="n"?_t=vr(tt,1,_t):Qe==="s"?_t=vr(tt,0,-_t):Qe||(_t=0),Fr=Vt==="w"?rr:0,pn=Qe==="n"?_t:0,Et.isSubplotConstrained&&!Ct.isSubplotConstrained||Ct.isSubplotConstrained&&Vt&&Qe&&Hr>0){var qr;if(Ct.isSubplotConstrained||!Vt&&Qe.length===1){for(qr=0;qr<et.length;qr++)et[qr].range=et[qr]._r.slice(),b(et[qr],1-_t/gt);rr=_t*yt/gt,Fr=rr/2}if(Ct.isSubplotConstrained||!Qe&&Vt.length===1){for(qr=0;qr<tt.length;qr++)tt[qr].range=tt[qr]._r.slice(),b(tt[qr],1-rr/yt);_t=rr*gt/yt,pn=_t/2}}(!Ct.isSubplotConstrained||!Qe)&&dr("x"),(!Ct.isSubplotConstrained||!Vt)&&dr("y");var On=yt-rr,Tn=gt-_t;Ct.isSubplotConstrained&&!(Vt&&Qe)&&(Vt?(pn=Fr?0:rr*gt/yt,Tn=On*gt/yt):(Fr=pn?0:_t*yt/gt,On=Tn*yt/gt)),kt([Fr,pn,On,Tn]),je(),ie.emit("plotly_relayouting",Ae)}function dr(rr,_t){for(var hr=Ct.isSubplotConstrained?{x:tt,y:et}[rr]:Ct[rr+"axes"],gr=Ct.isSubplotConstrained?{x:et,y:tt}[rr]:[],pr=0;pr<hr.length;pr++){var vr=hr[pr],Hr=vr._id,kr=Ct.xLinks[Hr]||Ct.yLinks[Hr],Fr=gr[0]||We[kr]||it[kr];Fr&&(_t?(_t[vr._name+".range[0]"]=_t[Fr._name+".range[0]"],_t[vr._name+".range[1]"]=_t[Fr._name+".range[1]"]):vr.range=Fr.range.slice())}}function je(){var rr=[],_t;function hr(Hr){for(_t=0;_t<Hr.length;_t++)Hr[_t].fixedrange||rr.push(Hr[_t]._id)}function gr(Hr,kr){for(_t=0;_t<Hr.length;_t++){var Fr=Hr[_t],pn=Fr[kr];!Fr.fixedrange&&pn.tickmode==="sync"&&rr.push(pn._id)}}for(Ie&&(hr(et),hr(Et.xaxes),hr(Ct.xaxes),gr(ce.overlays,"xaxis")),ze&&(hr(tt),hr(Et.yaxes),hr(Ct.yaxes),gr(ce.overlays,"yaxis")),Ae={},_t=0;_t<rr.length;_t++){var pr=rr[_t],vr=T(ie,pr);l.drawOne(ie,vr,{skipTitle:!0}),Ae[vr._name+".range[0]"]=vr.range[0],Ae[vr._name+".range[1]"]=vr.range[1]}l.redrawComponents(ie,rr)}function Ye(){if(!ie._transitioningWithDuration){var rr=ie._context.doubleClick,_t=[];Vt&&(_t=_t.concat(et)),Qe&&(_t=_t.concat(tt)),Ct.xaxes&&(_t=_t.concat(Ct.xaxes)),Ct.yaxes&&(_t=_t.concat(Ct.yaxes));var hr={},gr,pr;if(rr==="reset+autosize")for(rr="autosize",pr=0;pr<_t.length;pr++){gr=_t[pr];var vr=gr._rangeInitial0,Hr=gr._rangeInitial1,kr=vr!==void 0||Hr!==void 0;if(kr&&(vr!==void 0&&vr!==gr.range[0]||Hr!==void 0&&Hr!==gr.range[1])||!kr&&gr.autorange!==!0){rr="reset";break}}if(rr==="autosize")for(pr=0;pr<_t.length;pr++)gr=_t[pr],gr.fixedrange||(hr[gr._name+".autorange"]=!0);else if(rr==="reset"){for((Vt||Et.isSubplotConstrained)&&(_t=_t.concat(Et.xaxes)),Qe&&!Et.isSubplotConstrained&&(_t=_t.concat(Et.yaxes)),Et.isSubplotConstrained&&(Vt?Qe||(_t=_t.concat(tt)):_t=_t.concat(et)),pr=0;pr<_t.length;pr++)if(gr=_t[pr],!gr.fixedrange){var Fr=gr._name,pn=gr._autorangeInitial;gr._rangeInitial0===void 0&&gr._rangeInitial1===void 0?hr[Fr+".autorange"]=!0:gr._rangeInitial0===void 0?(hr[Fr+".autorange"]=pn,hr[Fr+".range"]=[null,gr._rangeInitial1]):gr._rangeInitial1===void 0?(hr[Fr+".range"]=[gr._rangeInitial0,null],hr[Fr+".autorange"]=pn):hr[Fr+".range"]=[gr._rangeInitial0,gr._rangeInitial1]}}ie.emit("plotly_doubleclick",null),v.call("_guiRelayout",ie,hr)}}function It(){kt([0,0,yt,gt]),P.syncOrAsync([M.previousPromises,function(){ie._fullLayout._replotting=!1,v.call("_guiRelayout",ie,Ae)}],ie)}function kt(rr){var _t=ie._fullLayout,hr=_t._plots,gr=_t._subplots.cartesian,pr,vr,Hr,kr;if(be&&v.subplotsRegistry.splom.drag(ie),Re){for(pr=0;pr<gr.length;pr++)if(vr=hr[gr[pr]],Hr=vr.xaxis,kr=vr.yaxis,vr._scene){var Fr=P.simpleMap(Hr.range,Hr.r2l),pn=P.simpleMap(kr.range,kr.r2l);Hr.limitRange&&Hr.limitRange(),kr.limitRange&&kr.limitRange(),Fr=Hr.range,pn=kr.range,vr._scene.update({range:[Fr[0],pn[0],Fr[1],pn[1]]})}}if((be||Re)&&(o(ie),d(ie)),ye){var qr=rr[2]/Ge._length,On=rr[3]/ke._length;for(pr=0;pr<gr.length;pr++){vr=hr[gr[pr]],Hr=vr.xaxis,kr=vr.yaxis;var Tn=(Ie||Ct.isSubplotConstrained)&&!Hr.fixedrange&&We[Hr._id],Sr=(ze||Ct.isSubplotConstrained)&&!kr.fixedrange&&it[kr._id],Er,Gr,Br,nn;if(Tn?(Er=qr,Br=Ce||Ct.isSubplotConstrained?rr[0]:or(Hr,Er)):Ct.xaHash[Hr._id]?(Er=qr,Br=rr[0]*Hr._length/Ge._length):Ct.yaHash[Hr._id]?(Er=On,Br=Qe==="ns"?-rr[1]*Hr._length/ke._length:or(Hr,Er,{n:"top",s:"bottom"}[Qe])):(Er=Yt(Hr,qr,On),Br=tr(Hr,Er)),Er>1&&(Hr.maxallowed!==void 0&&Ie===(Hr.range[0]<Hr.range[1]?"e":"w")||Hr.minallowed!==void 0&&Ie===(Hr.range[0]<Hr.range[1]?"w":"e"))&&(Er=1,Br=0),Sr?(Gr=On,nn=Be||Ct.isSubplotConstrained?rr[1]:or(kr,Gr)):Ct.yaHash[kr._id]?(Gr=On,nn=rr[1]*kr._length/ke._length):Ct.xaHash[kr._id]?(Gr=qr,nn=Vt==="ew"?-rr[0]*kr._length/Ge._length:or(kr,Gr,{e:"right",w:"left"}[Vt])):(Gr=Yt(kr,qr,On),nn=tr(kr,Gr)),Gr>1&&(kr.maxallowed!==void 0&&ze===(kr.range[0]<kr.range[1]?"n":"s")||kr.minallowed!==void 0&&ze===(kr.range[0]<kr.range[1]?"s":"n"))&&(Gr=1,nn=0),!(!Er&&!Gr)){Er||(Er=1),Gr||(Gr=1);var gn=Hr._offset-Br/Er,mn=kr._offset-nn/Gr;vr.clipRect.call(s.setTranslate,Br,nn).call(s.setScale,Er,Gr),vr.plot.call(s.setTranslate,gn,mn).call(s.setScale,1/Er,1/Gr),(Er!==vr.xScaleFactor||Gr!==vr.yScaleFactor)&&(s.setPointGroupScale(vr.zoomScalePts,Er,Gr),s.setTextPointsScale(vr.zoomScaleTxt,Er,Gr)),s.hideOutsideRangePoints(vr.clipOnAxisFalseTraces,vr),vr.xScaleFactor=Er,vr.yScaleFactor=Gr}}}}function Yt(rr,_t,hr){return rr.fixedrange?0:Ie&&Et.xaHash[rr._id]?_t:ze&&(Et.isSubplotConstrained?Et.xaHash:Et.yaHash)[rr._id]?hr:0}function tr(rr,_t){return _t?(rr.range=rr._r.slice(),b(rr,_t),or(rr,_t)):0}function or(rr,_t,hr){return rr._length*(1-_t)*h[hr||rr.constraintoward||"middle"]}return vt}function B(ie,ce,me,Me){var we=P.ensureSingle(ie.draglayer,ce,me,function(Oe){Oe.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ie.id)});return we.call(f,Me),we.node()}function F(ie,ce,me,Me,we,Oe,Be){var Ce=B(ie,"rect",ce,me);return g.select(Ce).call(s.setRect,Me,we,Oe,Be),Ce}function O(ie,ce){for(var me=0;me<ie.length;me++)if(!ie[me].fixedrange)return ce;return""}function N(ie,ce){var me=ie.range[ce],Me=Math.abs(me-ie.range[1-ce]),we;return ie.type==="date"?me:ie.type==="log"?(we=Math.ceil(Math.max(0,-Math.log(Me)/Math.LN10))+3,i("."+we+"g")(Math.pow(10,me))):(we=Math.floor(Math.log(Math.abs(me))/Math.LN10)-Math.floor(Math.log(Me)/Math.LN10)+4,i("."+String(we)+"g")(me))}function _(ie,ce,me,Me,we){for(var Oe=0;Oe<ie.length;Oe++){var Be=ie[Oe];if(!Be.fixedrange)if(Be.rangebreaks){var Ce=Be._id.charAt(0)==="y",xe=Ce?1-ce:ce,Se=Ce?1-me:me;Me[Be._name+".range[0]"]=Be.l2r(Be.p2l(xe*Be._length)),Me[Be._name+".range[1]"]=Be.l2r(Be.p2l(Se*Be._length))}else{var He=Be._rl[0],Ge=Be._rl[1]-He;Me[Be._name+".range[0]"]=Be.l2r(He+Ge*ce),Me[Be._name+".range[1]"]=Be.l2r(He+Ge*me)}}if(we&&we.length){var ke=(ce+(1-me))/2;_(we,ke,1-ke,Me,[])}}function U(ie,ce){for(var me=0;me<ie.length;me++){var Me=ie[me];if(!Me.fixedrange){if(Me.rangebreaks){var we=0,Oe=Me._length,Be=Me.p2l(we+ce)-Me.p2l(we),Ce=Me.p2l(Oe+ce)-Me.p2l(Oe),xe=(Be+Ce)/2;Me.range=[Me.l2r(Me._rl[0]-xe),Me.l2r(Me._rl[1]-xe)]}else Me.range=[Me.l2r(Me._rl[0]-ce/Me._m),Me.l2r(Me._rl[1]-ce/Me._m)];Me.limitRange&&Me.limitRange()}}}function Y(ie){return 1-(ie>=0?Math.min(ie,.9):1/(1/Math.max(ie,-.3)+3.222))}function K(ie,ce,me){return ie?ie==="nsew"?me?"":ce==="pan"?"move":"crosshair":ie.toLowerCase()+"-resize":"pointer"}function re(ie,ce,me,Me,we){return ie.append("path").attr("class","zoombox").style({fill:ce>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",p(me,Me)).attr("d",we+"Z")}function ae(ie,ce,me){return ie.append("path").attr("class","zoombox-corners").style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,opacity:0}).attr("transform",p(ce,me)).attr("d","M0,0Z")}function fe(ie,ce,me,Me,we,Oe){ie.attr("d",Me+"M"+me.l+","+me.t+"v"+me.h+"h"+me.w+"v-"+me.h+"h-"+me.w+"Z"),Q(ie,ce,we,Oe)}function Q(ie,ce,me,Me){me||(ie.transition().style("fill",Me>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ce.transition().style("opacity",1).duration(200))}function j(ie){g.select(ie).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function X(ie){z&&ie.data&&ie._context.showTips&&(P.notifier(P._(ie,"Double-click to zoom back out"),"long"),z=!1)}function J(ie,ce){return"M"+(ie.l-.5)+","+(ce-y-.5)+"h-3v"+(2*y+1)+"h3ZM"+(ie.r+.5)+","+(ce-y-.5)+"h3v"+(2*y+1)+"h-3Z"}function ee(ie,ce){return"M"+(ce-y-.5)+","+(ie.t-.5)+"v-3h"+(2*y+1)+"v3ZM"+(ce-y-.5)+","+(ie.b+.5)+"v3h"+(2*y+1)+"v-3Z"}function se(ie){var ce=Math.floor(Math.min(ie.b-ie.t,ie.r-ie.l,y)/2);return"M"+(ie.l-3.5)+","+(ie.t-.5+ce)+"h3v"+-ce+"h"+ce+"v-3h-"+(ce+3)+"ZM"+(ie.r+3.5)+","+(ie.t-.5+ce)+"h-3v"+-ce+"h"+-ce+"v-3h"+(ce+3)+"ZM"+(ie.r+3.5)+","+(ie.b+.5-ce)+"h-3v"+ce+"h"+-ce+"v3h"+(ce+3)+"ZM"+(ie.l-3.5)+","+(ie.b+.5-ce)+"h3v"+ce+"h"+ce+"v3h-"+(ce+3)+"Z"}function q(ie,ce,me,Me,we){for(var Oe=!1,Be={},Ce={},xe,Se,He,Ge,ke=(we||{}).xaHash,We=(we||{}).yaHash,it=0;it<ce.length;it++){var et=ce[it];for(xe in me)if(et[xe]){for(He in et)!(we&&(ke[He]||We[He]))&&!(He.charAt(0)==="x"?me:Me)[He]&&(Be[He]=xe);for(Se in Me)!(we&&(ke[Se]||We[Se]))&&et[Se]&&(Oe=!0)}for(Se in Me)if(et[Se])for(Ge in et)!(we&&(ke[Ge]||We[Ge]))&&!(Ge.charAt(0)==="x"?me:Me)[Ge]&&(Ce[Ge]=Se)}Oe&&(P.extendFlat(Be,Ce),Ce={});var tt={},at=[];for(He in Be){var ht=T(ie,He);at.push(ht),tt[ht._id]=ht}var yt={},gt=[];for(Ge in Ce){var Et=T(ie,Ge);gt.push(Et),yt[Et._id]=Et}return{xaHash:tt,yaHash:yt,xaxes:at,yaxes:gt,xLinks:Be,yLinks:Ce,isSubplotConstrained:Oe}}function $(ie,ce){if(!A)ie.onwheel!==void 0?ie.onwheel=ce:ie.onmousewheel!==void 0?ie.onmousewheel=ce:ie.isAddedWheelEvent||(ie.isAddedWheelEvent=!0,ie.addEventListener("wheel",ce,{passive:!1}));else{var me=ie.onwheel!==void 0?"wheel":"mousewheel";ie._onwheel&&ie.removeEventListener(me,ie._onwheel),ie._onwheel=ce,ie.addEventListener(me,ce,{passive:!1})}}function le(ie){var ce=[];for(var me in ie)ce.push(ie[me]);return ce}W.exports={makeDragBox:I,makeDragger:B,makeRectDragger:F,makeZoombox:re,makeCorners:ae,updateZoombox:fe,xyCorners:se,transitionZoombox:Q,removeZoombox:j,showDoubleClickNotifier:X,attachWheelEventHandler:$}},4305:function(W,H,e){var g=e(39898),P=e(30211),i=e(28569),L=e(6964),A=e(29323).makeDragBox,v=e(85555).DRAGGERSIZE;H.initInteractions=function(t){var r=t._fullLayout;if(t._context.staticPlot){g.select(t).selectAll(".drag").remove();return}if(!(!r._has("cartesian")&&!r._has("splom"))){var s=Object.keys(r._plots||{}).sort(function(l,f){if((r._plots[l].mainplot&&!0)===(r._plots[f].mainplot&&!0)){var u=l.split("y"),m=f.split("y");return u[0]===m[0]?Number(u[1]||1)-Number(m[1]||1):Number(u[0]||1)-Number(m[0]||1)}return r._plots[l].mainplot?1:-1});s.forEach(function(l){var f=r._plots[l],u=f.xaxis,m=f.yaxis;if(!f.mainplot){var c=A(t,f,u._offset,m._offset,u._length,m._length,"ns","ew");c.onmousemove=function(o){t._fullLayout._rehover=function(){t._fullLayout._hoversubplot===l&&t._fullLayout._plots[l]&&P.hover(t,o,l)},P.hover(t,o,l),t._fullLayout._lasthover=c,t._fullLayout._hoversubplot=l},c.onmouseout=function(o){t._dragging||(t._fullLayout._hoversubplot=null,i.unhover(t,o))},t._context.showAxisDragHandles&&(A(t,f,u._offset-v,m._offset-v,v,v,"n","w"),A(t,f,u._offset+u._length,m._offset-v,v,v,"n","e"),A(t,f,u._offset-v,m._offset+m._length,v,v,"s","w"),A(t,f,u._offset+u._length,m._offset+m._length,v,v,"s","e"))}if(t._context.showAxisDragHandles){if(l===u._mainSubplot){var w=u._mainLinePosition;u.side==="top"&&(w-=v),A(t,f,u._offset+u._length*.1,w,u._length*.8,v,"","ew"),A(t,f,u._offset,w,u._length*.1,v,"","w"),A(t,f,u._offset+u._length*.9,w,u._length*.1,v,"","e")}if(l===m._mainSubplot){var h=m._mainLinePosition;m.side!=="right"&&(h-=v),A(t,f,h,m._offset+m._length*.1,v,m._length*.8,"ns",""),A(t,f,h,m._offset+m._length*.9,v,m._length*.1,"s",""),A(t,f,h,m._offset,v,m._length*.1,"n","")}}});var n=r._hoverlayer.node();n.onmousemove=function(l){l.target=t._fullLayout._lasthover,P.hover(t,l,r._hoversubplot)},n.onclick=function(l){l.target=t._fullLayout._lasthover,P.click(t,l)},n.onmousedown=function(l){t._fullLayout._lasthover.onmousedown(l)},H.updateFx(t)}},H.updateFx=function(p){var t=p._fullLayout,r=t.dragmode==="pan"?"move":"crosshair";L(t._draggers,r)}},76325:function(W,H,e){var g=e(73972),P=e(71828),i=e(41675);W.exports=function(A){return function(p,t){var r=p[A];if(Array.isArray(r))for(var s=g.subplotsRegistry.cartesian,n=s.idRegex,l=t._subplots,f=l.xaxis,u=l.yaxis,m=l.cartesian,c=t._has("cartesian")||t._has("gl2d"),w=0;w<r.length;w++){var h=r[w];if(P.isPlainObject(h)){var o=i.cleanId(h.xref,"x",!1),d=i.cleanId(h.yref,"y",!1),M=n.x.test(o),T=n.y.test(d);if(M||T){c||P.pushUnique(t._basePlotModules,s);var E=!1;M&&f.indexOf(o)===-1&&(f.push(o),E=!0),T&&u.indexOf(d)===-1&&(u.push(d),E=!0),E&&M&&T&&m.push(o+d)}}}}}},93612:function(W,H,e){var g=e(39898),P=e(73972),i=e(71828),L=e(74875),A=e(91424),v=e(27659).a0,p=e(41675),t=e(85555),r=e(77922),s=i.ensureSingle;function n(w,h,o){return i.ensureSingle(w,h,o,function(d){d.datum(o)})}H.name="cartesian",H.attr=["xaxis","yaxis"],H.idRoot=["x","y"],H.idRegex=t.idRegex,H.attrRegex=t.attrRegex,H.attributes=e(89502),H.layoutAttributes=e(13838),H.supplyLayoutDefaults=e(86763),H.transitionAxes=e(66847),H.finalizeSubplots=function(w,h){var o=h._subplots,d=o.xaxis,M=o.yaxis,T=o.cartesian,E=T.concat(o.gl2d||[]),x={},S={},b,a,C;for(b=0;b<E.length;b++){var y=E[b].split("y");x[y[0]]=1,S["y"+y[1]]=1}for(b=0;b<d.length;b++)a=d[b],x[a]||(C=(w[p.id2name(a)]||{}).anchor,t.idRegex.y.test(C)||(C="y"),T.push(a+C),E.push(a+C),S[C]||(S[C]=1,i.pushUnique(M,C)));for(b=0;b<M.length;b++)C=M[b],S[C]||(a=(w[p.id2name(C)]||{}).anchor,t.idRegex.x.test(a)||(a="x"),T.push(a+C),E.push(a+C),x[a]||(x[a]=1,i.pushUnique(d,a)));if(!E.length){a="",C="";for(var z in w)if(t.attrRegex.test(z)){var I=z.charAt(0);I==="x"?(!a||+z.substr(5)<+a.substr(5))&&(a=z):(!C||+z.substr(5)<+C.substr(5))&&(C=z)}a=a?p.name2id(a):"x",C=C?p.name2id(C):"y",d.push(a),M.push(C),T.push(a+C)}},H.plot=function(w,h,o,d){var M=w._fullLayout,T=M._subplots.cartesian,E=w.calcdata,x;if(!Array.isArray(h))for(h=[],x=0;x<E.length;x++)h.push(x);for(x=0;x<T.length;x++){for(var S=T[x],b=M._plots[S],a=[],C,y=0;y<E.length;y++){var z=E[y],I=z[0].trace;I.xaxis+I.yaxis===S&&((h.indexOf(I.index)!==-1||I.carpet)&&(C&&C[0].trace.xaxis+C[0].trace.yaxis===S&&["tonextx","tonexty","tonext"].indexOf(I.fill)!==-1&&a.indexOf(C)===-1&&a.push(C),a.push(z)),C=z)}l(w,b,a,o,d)}};function l(w,h,o,d,M){for(var T=t.traceLayerClasses,E=w._fullLayout,x=E._modules,S,b,a,C=[],y=[],z=0;z<x.length;z++){S=x[z];var I=S.name,B=P.modules[I].categories;if(B.svg){var F=S.layerName||I+"layer",O=S.plot;b=v(o,O),a=b[0],o=b[1],a.length&&C.push({i:T.indexOf(F),className:F,plotMethod:O,cdModule:a}),B.zoomScale&&y.push("."+F)}}C.sort(function(U,Y){return U.i-Y.i});var N=h.plot.selectAll("g.mlayer").data(C,function(U){return U.className});if(N.enter().append("g").attr("class",function(U){return U.className}).classed("mlayer",!0).classed("rangeplot",h.isRangePlot),N.exit().remove(),N.order(),N.each(function(U){var Y=g.select(this),K=U.className;U.plotMethod(w,h,U.cdModule,Y,d,M),t.clipOnAxisFalseQuery.indexOf("."+K)===-1&&A.setClipUrl(Y,h.layerClipId,w)}),E._has("scattergl")&&(S=P.getModule("scattergl"),a=v(o,S)[0],S.plot(w,h,a)),!w._context.staticPlot&&(h._hasClipOnAxisFalse&&(h.clipOnAxisFalseTraces=h.plot.selectAll(t.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),y.length)){var _=h.plot.selectAll(y.join(",")).selectAll(".trace");h.zoomScalePts=_.selectAll("path.point"),h.zoomScaleTxt=_.selectAll(".textpoint")}}H.clean=function(w,h,o,d){var M=d._plots||{},T=h._plots||{},E=d._subplots||{},x,S,b;if(d._hasOnlyLargeSploms&&!h._hasOnlyLargeSploms)for(b in M)x=M[b],x.plotgroup&&x.plotgroup.remove();var a=d._has&&d._has("gl"),C=h._has&&h._has("gl");if(a&&!C)for(b in M)x=M[b],x._scene&&x._scene.destroy();if(E.xaxis&&E.yaxis){var y=p.listIds({_fullLayout:d});for(S=0;S<y.length;S++){var z=y[S];h[p.id2name(z)]||d._infolayer.selectAll(".g-"+z+"title").remove()}}var I=d._has&&d._has("cartesian"),B=h._has&&h._has("cartesian");if(I&&!B)m(d._cartesianlayer.selectAll(".subplot"),d),d._defs.selectAll(".axesclip").remove(),delete d._axisConstraintGroups,delete d._axisMatchGroups;else if(E.cartesian)for(S=0;S<E.cartesian.length;S++){var F=E.cartesian[S];if(!T[F]){var O="."+F+",."+F+"-x,."+F+"-y";d._cartesianlayer.selectAll(O).remove(),c(F,d)}}},H.drawFramework=function(w){var h=w._fullLayout,o=f(w),d=h._cartesianlayer.selectAll(".subplot").data(o,String);d.enter().append("g").attr("class",function(M){return"subplot "+M[0]}),d.order(),d.exit().call(m,h),d.each(function(M){var T=M[0],E=h._plots[T];E.plotgroup=g.select(this),u(w,E),E.draglayer=s(h._draggers,"g",T)})},H.rangePlot=function(w,h,o){u(w,h),l(w,h,o),L.style(w)};function f(w){var h=w._fullLayout,o=h._subplots.cartesian,d=o.length,M,T,E,x,S,b,a=[],C=[];for(M=0;M<d;M++){E=o[M],x=h._plots[E],S=x.xaxis,b=x.yaxis;var y=S._mainAxis,z=b._mainAxis,I=y._id+z._id,B=h._plots[I];x.overlays=[],I!==E&&B?(x.mainplot=I,x.mainplotinfo=B,C.push(E)):(x.mainplot=void 0,x.mainplotinfo=void 0,a.push(E))}for(M=0;M<C.length;M++)E=C[M],x=h._plots[E],x.mainplotinfo.overlays.push(x);var F=a.concat(C),O=new Array(d);for(M=0;M<d;M++){E=F[M],x=h._plots[E],S=x.xaxis,b=x.yaxis;var N=[E,S.layer,b.layer,S.overlaying||"",b.overlaying||""];for(T=0;T<x.overlays.length;T++)N.push(x.overlays[T].id);O[M]=N}return O}function u(w,h){var o=h.plotgroup,d=h.id,M=t.layerValue2layerClass[h.xaxis.layer],T=t.layerValue2layerClass[h.yaxis.layer],E=w._fullLayout._hasOnlyLargeSploms;if(h.mainplot){var S=h.mainplotinfo,b=S.plotgroup,a=d+"-x",C=d+"-y";h.minorGridlayer=S.minorGridlayer,h.gridlayer=S.gridlayer,h.zerolinelayer=S.zerolinelayer,s(S.overlinesBelow,"path",a),s(S.overlinesBelow,"path",C),s(S.overaxesBelow,"g",a),s(S.overaxesBelow,"g",C),h.plot=s(S.overplot,"g",d),s(S.overlinesAbove,"path",a),s(S.overlinesAbove,"path",C),s(S.overaxesAbove,"g",a),s(S.overaxesAbove,"g",C),h.xlines=b.select(".overlines-"+M).select("."+a),h.ylines=b.select(".overlines-"+T).select("."+C),h.xaxislayer=b.select(".overaxes-"+M).select("."+a),h.yaxislayer=b.select(".overaxes-"+T).select("."+C)}else if(E)h.xlines=s(o,"path","xlines-above"),h.ylines=s(o,"path","ylines-above"),h.xaxislayer=s(o,"g","xaxislayer-above"),h.yaxislayer=s(o,"g","yaxislayer-above");else{var x=s(o,"g","layer-subplot");h.shapelayer=s(x,"g","shapelayer"),h.imagelayer=s(x,"g","imagelayer"),h.minorGridlayer=s(o,"g","minor-gridlayer"),h.gridlayer=s(o,"g","gridlayer"),h.zerolinelayer=s(o,"g","zerolinelayer"),s(o,"path","xlines-below"),s(o,"path","ylines-below"),h.overlinesBelow=s(o,"g","overlines-below"),s(o,"g","xaxislayer-below"),s(o,"g","yaxislayer-below"),h.overaxesBelow=s(o,"g","overaxes-below"),h.plot=s(o,"g","plot"),h.overplot=s(o,"g","overplot"),h.xlines=s(o,"path","xlines-above"),h.ylines=s(o,"path","ylines-above"),h.overlinesAbove=s(o,"g","overlines-above"),s(o,"g","xaxislayer-above"),s(o,"g","yaxislayer-above"),h.overaxesAbove=s(o,"g","overaxes-above"),h.xlines=o.select(".xlines-"+M),h.ylines=o.select(".ylines-"+T),h.xaxislayer=o.select(".xaxislayer-"+M),h.yaxislayer=o.select(".yaxislayer-"+T)}E||(n(h.minorGridlayer,"g",h.xaxis._id),n(h.minorGridlayer,"g",h.yaxis._id),h.minorGridlayer.selectAll("g").map(function(y){return y[0]}).sort(p.idSort),n(h.gridlayer,"g",h.xaxis._id),n(h.gridlayer,"g",h.yaxis._id),h.gridlayer.selectAll("g").map(function(y){return y[0]}).sort(p.idSort)),h.xlines.style("fill","none").classed("crisp",!0),h.ylines.style("fill","none").classed("crisp",!0)}function m(w,h){if(w){var o={};w.each(function(S){var b=S[0],a=g.select(this);a.remove(),c(b,h),o[b]=!0});for(var d in h._plots)for(var M=h._plots[d],T=M.overlays||[],E=0;E<T.length;E++){var x=T[E];o[x.id]&&x.plot.selectAll(".trace").remove()}}}function c(w,h){h._draggers.selectAll("g."+w).remove(),h._defs.select("#clip"+h._uid+w+"plot").remove()}H.toSVG=function(w){var h=w._fullLayout._glimages,o=g.select(w).selectAll(".svg-container"),d=o.filter(function(T,E){return E===o.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function M(){var T=this,E=T.toDataURL("image/png"),x=h.append("svg:image");x.attr({xmlns:r.svg,"xlink:href":E,preserveAspectRatio:"none",x:0,y:0,width:T.style.width,height:T.style.height})}d.each(M)},H.updateFx=e(4305).updateFx},13838:function(W,H,e){var g=e(41940),P=e(22399),i=e(79952).P,L=e(1426).extendFlat,A=e(44467).templatedArray,v=e(12663).descriptionWithDates,p=e(50606).ONEDAY,t=e(85555),r=t.HOUR_PATTERN,s=t.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},l=L({},n,{values:n.values.slice().concat(["sync"])});function f(S){return{valType:"integer",min:0,dflt:S?5:0,editType:"ticks"}}var u={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},m={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},c={valType:"data_array",editType:"ticks"},w={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function h(S){var b={valType:"number",min:0,editType:"ticks"};return S||(b.dflt=5),b}function o(S){var b={valType:"number",min:0,editType:"ticks"};return S||(b.dflt=1),b}var d={valType:"color",dflt:P.defaultLine,editType:"ticks"},M={valType:"color",dflt:P.lightLine,editType:"ticks"};function T(S){var b={valType:"number",min:0,editType:"ticks"};return S||(b.dflt=1),b}var E=L({},i,{editType:"ticks"}),x={valType:"boolean",editType:"ticks"};W.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:P.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:g({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"calc"},rangebreaks:A("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[s,r,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:p},editType:"calc"}),tickmode:l,nticks:f(),tick0:u,dtick:m,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:c,ticktext:{valType:"data_array",editType:"ticks"},ticks:w,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:h(),tickwidth:o(),tickcolor:d,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:L({},i,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:g({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:A("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:x,gridcolor:M,gridwidth:T(),griddash:E,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:f("minor"),tick0:u,dtick:m,tickvals:c,ticks:w,ticklen:h("minor"),tickwidth:o("minor"),tickcolor:d,gridcolor:M,gridwidth:T("minor"),griddash:E,showgrid:x,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:g({editType:"ticks"})}}},86763:function(W,H,e){var g=e(71828),P=e(7901),i=e(23469).isUnifiedHover,L=e(98212),A=e(44467),v=e(10820),p=e(13838),t=e(951),r=e(71453),s=e(99082),n=e(52830),l=e(41675),f=l.id2name,u=l.name2id,m=e(85555).AX_ID_PATTERN,c=e(73972),w=c.traceIs,h=c.getComponentMethod;function o(d,M,T){Array.isArray(d[M])?d[M].push(T):d[M]=[T]}W.exports=function(M,T,E){var x=T.autotypenumbers,S={},b={},a={},C={},y={},z={},I={},B={},F={},O={},N,_;for(N=0;N<E.length;N++){var U=E[N];if(!(!w(U,"cartesian")&&!w(U,"gl2d"))){var Y;if(U.xaxis)Y=f(U.xaxis),o(S,Y,U);else if(U.xaxes)for(_=0;_<U.xaxes.length;_++)o(S,f(U.xaxes[_]),U);var K;if(U.yaxis)K=f(U.yaxis),o(S,K,U);else if(U.yaxes)for(_=0;_<U.yaxes.length;_++)o(S,f(U.yaxes[_]),U);if(U.type==="funnel"?U.orientation==="h"?(Y&&(b[Y]=!0),K&&(I[K]=!0)):K&&(a[K]=!0):U.type==="image"?(K&&(B[K]=!0),Y&&(B[Y]=!0)):(K&&(y[K]=!0,z[K]=!0),(!w(U,"carpet")||U.type==="carpet"&&!U._cheater)&&Y&&(C[Y]=!0)),U.type==="carpet"&&U._cheater&&Y&&(b[Y]=!0),w(U,"2dMap")&&(F[Y]=!0,F[K]=!0),w(U,"oriented")){var re=U.orientation==="h"?K:Y;O[re]=!0}}}var ae=T._subplots,fe=ae.xaxis,Q=ae.yaxis,j=g.simpleMap(fe,f),X=g.simpleMap(Q,f),J=j.concat(X),ee=P.background;fe.length&&Q.length&&(ee=g.coerce(M,T,v,"plot_bgcolor"));var se=P.combine(ee,T.paper_bgcolor),q,$,le,ie,ce;function me(){var Ee=S[q]||[];ce._traceIndices=Ee.map(function(Ne){return Ne._expandedIndex}),ce._annIndices=[],ce._shapeIndices=[],ce._selectionIndices=[],ce._imgIndices=[],ce._subplotsWith=[],ce._counterAxes=[],ce._name=ce._attr=q,ce._id=$}function Me(Ee,Ne){return g.coerce(ie,ce,p,Ee,Ne)}function we(Ee,Ne){return g.coerce2(ie,ce,p,Ee,Ne)}function Oe(Ee){return Ee==="x"?Q:fe}function Be(Ee,Ne){for(var Je=Ee==="x"?j:X,qe=[],vt=0;vt<Je.length;vt++){var bt=Je[vt];bt!==Ne&&!(M[bt]||{}).overlaying&&qe.push(u(bt))}return qe}var Ce={x:Oe("x"),y:Oe("y")},xe=Ce.x.concat(Ce.y),Se={},He=[];function Ge(){var Ee=ie.matches;m.test(Ee)&&xe.indexOf(Ee)===-1&&(Se[Ee]=ie.type,He=Object.keys(Se))}var ke=L(M,T),We=i(ke);for(N=0;N<J.length;N++){q=J[N],$=u(q),le=q.charAt(0),g.isPlainObject(M[q])||(M[q]={}),ie=M[q],ce=A.newContainer(T,q,le+"axis"),me();var it=le==="x"&&!C[q]&&b[q]||le==="y"&&!y[q]&&a[q],et=le==="y"&&(!z[q]&&I[q]||B[q]),tt={hasMinor:!0,letter:le,font:T.font,outerTicks:F[q],showGrid:!O[q],data:S[q]||[],bgColor:se,calendar:T.calendar,automargin:!0,visibleDflt:it,reverseDflt:et,autotypenumbersDflt:x,splomStash:((T._splomAxes||{})[le]||{})[$]};Me("uirevision",T.uirevision),t(ie,ce,Me,tt),r(ie,ce,Me,tt,T);var at=We&&le===ke.charAt(0),ht=we("spikecolor",We?ce.color:void 0),yt=we("spikethickness",We?1.5:void 0),gt=we("spikedash",We?"dot":void 0),Et=we("spikemode",We?"across":void 0),Ct=we("spikesnap"),Vt=Me("showspikes",!!at||!!ht||!!yt||!!gt||!!Et||!!Ct);Vt||(delete ce.spikecolor,delete ce.spikethickness,delete ce.spikedash,delete ce.spikemode,delete ce.spikesnap);var Qe=f(ie.overlaying),Fe=[0,1];if(T[Qe]!==void 0){var Ie=f(T[Qe].anchor);T[Ie]!==void 0&&(Fe=T[Ie].domain)}n(ie,ce,Me,{letter:le,counterAxes:Ce[le],overlayableAxes:Be(le,q),grid:T.grid,overlayingDomain:Fe}),Me("title.standoff"),Ge(),ce._input=ie}for(N=0;N<He.length;){$=He[N++],q=f($),le=q.charAt(0),g.isPlainObject(M[q])||(M[q]={}),ie=M[q],ce=A.newContainer(T,q,le+"axis"),me();var ze={letter:le,font:T.font,outerTicks:F[q],showGrid:!O[q],data:[],bgColor:se,calendar:T.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:x,splomStash:((T._splomAxes||{})[le]||{})[$]};Me("uirevision",T.uirevision),ce.type=Se[$]||"linear",r(ie,ce,Me,ze,T),n(ie,ce,Me,{letter:le,counterAxes:Ce[le],overlayableAxes:Be(le,q),grid:T.grid}),Me("fixedrange"),Ge(),ce._input=ie}var Re=h("rangeslider","handleDefaults"),be=h("rangeselector","handleDefaults");for(N=0;N<j.length;N++)q=j[N],ie=M[q],ce=T[q],Re(M,T,q),ce.type==="date"&&be(ie,ce,T,X,ce.calendar),Me("fixedrange");for(N=0;N<X.length;N++){q=X[N],ie=M[q],ce=T[q];var ye=T[f(ce.anchor)],Ae=h("rangeslider","isVisible")(ye);Me("fixedrange",Ae)}s.handleDefaults(M,T,{axIds:xe.concat(He).sort(l.idSort),axHasImage:B})}},92128:function(W,H,e){var g=e(84267).mix,P=e(22399),i=e(71828);W.exports=function(A,v,p,t){t=t||{};var r=t.dfltColor;function s(a,C){return i.coerce2(A,v,t.attributes,a,C)}var n=s("linecolor",r),l=s("linewidth"),f=p("showline",t.showLine||!!n||!!l);f||(delete v.linecolor,delete v.linewidth);var u=g(r,t.bgColor,t.blend||P.lightFraction).toRgbString(),m=s("gridcolor",u),c=s("gridwidth"),w=s("griddash"),h=p("showgrid",t.showGrid||!!m||!!c||!!w);if(h||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),t.hasMinor){var o=g(v.gridcolor,t.bgColor,67).toRgbString(),d=s("minor.gridcolor",o),M=s("minor.gridwidth",v.gridwidth||1),T=s("minor.griddash",v.griddash||"solid"),E=p("minor.showgrid",!!d||!!M||!!T);E||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!t.noZeroLine){var x=s("zerolinecolor",r),S=s("zerolinewidth"),b=p("zeroline",t.showGrid||!!x||!!S);b||(delete v.zerolinecolor,delete v.zerolinewidth)}}},52830:function(W,H,e){var g=e(92770),P=e(71828);W.exports=function(L,A,v,p){var t=p.counterAxes||[],r=p.overlayableAxes||[],s=p.letter,n=p.grid,l=p.overlayingDomain,f,u,m,c,w,h;n&&(u=n._domains[s][n._axisMap[A._id]],f=n._anchors[A._id],u&&(m=n[s+"side"].split(" ")[0],c=n.domain[s][m==="right"||m==="top"?1:0])),u=u||[0,1],f=f||(g(L.position)?"free":t[0]||"free"),m=m||(s==="x"?"bottom":"left"),c=c||0,w=0,h=!1;var o=P.coerce(L,A,{anchor:{valType:"enumerated",values:["free"].concat(t),dflt:f}},"anchor"),d=P.coerce(L,A,{side:{valType:"enumerated",values:s==="x"?["bottom","top"]:["left","right"],dflt:m}},"side");if(o==="free"){if(s==="y"){var M=v("autoshift");M&&(c=d==="left"?l[0]:l[1],h=A.automargin?A.automargin:!0,w=d==="left"?-3:3),v("shift",w)}v("position",c)}v("automargin",h);var T=!1;if(r.length&&(T=P.coerce(L,A,{overlaying:{valType:"enumerated",values:[!1].concat(r),dflt:!1}},"overlaying")),!T){var E=v("domain",u);E[0]>E[1]-.000244140625&&(A.domain=u),P.noneOrAll(L.domain,A.domain,u),A.tickmode==="sync"&&(A.tickmode="auto")}return v("layer"),A}},89426:function(W,H,e){var g=e(59652);W.exports=function(i,L,A,v,p){p||(p={});var t=p.tickSuffixDflt,r=g(i),s=A("tickprefix");s&&A("showtickprefix",r);var n=A("ticksuffix",t);n&&A("showticksuffix",r)}},23608:function(W,H,e){var g=e(23074);W.exports=function(i,L,A,v){var p=L._template||{},t=L.type||p.type||"-";A("minallowed"),A("maxallowed");var r=A("range");if(!r){var s;!v.noInsiderange&&t!=="log"&&(s=A("insiderange"),s&&(s[0]===null||s[1]===null)&&(L.insiderange=!1,s=void 0),s&&(r=A("range",s)))}var n=L.getAutorangeDflt(r,v),l=A("autorange",n),f;r&&(r[0]===null&&r[1]===null||(r[0]===null||r[1]===null)&&(l==="reversed"||l===!0)||r[0]!==null&&(l==="min"||l==="max reversed")||r[1]!==null&&(l==="max"||l==="min reversed"))&&(r=void 0,delete L.range,L.autorange=!0,f=!0),f||(n=L.getAutorangeDflt(r,v),l=A("autorange",n)),l&&(g(A,l,r),(t==="linear"||t==="-")&&A("rangemode")),L.cleanRange()}},42449:function(W,H,e){var g=e(18783).FROM_BL;W.exports=function(i,L,A){A===void 0&&(A=g[i.constraintoward||"center"]);var v=[i.r2l(i.range[0]),i.r2l(i.range[1])],p=v[0]+(v[1]-v[0])*A;i.range=i._input.range=[i.l2r(p+(v[0]-p)*L),i.l2r(p+(v[1]-p)*L)],i.setScale()}},21994:function(W,H,e){var g=e(39898),P=e(84096).g0,i=e(71828),L=i.numberFormat,A=e(92770),v=i.cleanNumber,p=i.ms2DateTime,t=i.dateTime2ms,r=i.ensureNumber,s=i.isArrayOrTypedArray,n=e(50606),l=n.FP_SAFE,f=n.BADNUM,u=n.LOG_CLIP,m=n.ONEWEEK,c=n.ONEDAY,w=n.ONEHOUR,h=n.ONEMIN,o=n.ONESEC,d=e(41675),M=e(85555),T=M.HOUR_PATTERN,E=M.WEEKDAY_PATTERN;function x(b){return Math.pow(10,b)}function S(b){return b!=null}W.exports=function(a,C){C=C||{};var y=a._id||"x",z=y.charAt(0);function I(J,ee){if(J>0)return Math.log(J)/Math.LN10;if(J<=0&&ee&&a.range&&a.range.length===2){var se=a.range[0],q=a.range[1];return .5*(se+q-2*u*Math.abs(se-q))}else return f}function B(J,ee,se,q){if((q||{}).msUTC&&A(J))return+J;var $=t(J,se||a.calendar);if($===f)if(A(J)){J=+J;var le=Math.floor(i.mod(J+.05,1)*10),ie=Math.round(J-le/10);$=t(new Date(ie))+le/10}else return f;return $}function F(J,ee,se){return p(J,ee,se||a.calendar)}function O(J){return a._categories[Math.round(J)]}function N(J){if(S(J)){if(a._categoriesMap===void 0&&(a._categoriesMap={}),a._categoriesMap[J]!==void 0)return a._categoriesMap[J];a._categories.push(typeof J=="number"?String(J):J);var ee=a._categories.length-1;return a._categoriesMap[J]=ee,ee}return f}function _(J,ee){for(var se=new Array(ee),q=0;q<ee;q++){var $=(J[0]||[])[q],le=(J[1]||[])[q];se[q]=U([$,le])}return se}function U(J){if(a._categoriesMap)return a._categoriesMap[J]}function Y(J){var ee=U(J);if(ee!==void 0)return ee;if(A(J))return+J}function K(J){return A(J)?+J:U(J)}function re(J,ee,se){return g.round(se+ee*J,2)}function ae(J,ee,se){return(J-se)/ee}var fe=function(ee){return A(ee)?re(ee,a._m,a._b):f},Q=function(J){return ae(J,a._m,a._b)};if(a.rangebreaks){var j=z==="y";fe=function(J){if(!A(J))return f;var ee=a._rangebreaks.length;if(!ee)return re(J,a._m,a._b);var se=j;a.range[0]>a.range[1]&&(se=!se);for(var q=se?-1:1,$=q*J,le=0,ie=0;ie<ee;ie++){var ce=q*a._rangebreaks[ie].min,me=q*a._rangebreaks[ie].max;if($<ce)break;if($>me)le=ie+1;else{le=$<(ce+me)/2?ie:ie+1;break}}var Me=a._B[le]||0;return isFinite(Me)?re(J,a._m2,Me):0},Q=function(J){var ee=a._rangebreaks.length;if(!ee)return ae(J,a._m,a._b);for(var se=0,q=0;q<ee&&!(J<a._rangebreaks[q].pmin);q++)J>a._rangebreaks[q].pmax&&(se=q+1);return ae(J,a._m2,a._B[se])}}a.c2l=a.type==="log"?I:r,a.l2c=a.type==="log"?x:r,a.l2p=fe,a.p2l=Q,a.c2p=a.type==="log"?function(J,ee){return fe(I(J,ee))}:fe,a.p2c=a.type==="log"?function(J){return x(Q(J))}:Q,["linear","-"].indexOf(a.type)!==-1?(a.d2r=a.r2d=a.d2c=a.r2c=a.d2l=a.r2l=v,a.c2d=a.c2r=a.l2d=a.l2r=r,a.d2p=a.r2p=function(J){return a.l2p(v(J))},a.p2d=a.p2r=Q,a.cleanPos=r):a.type==="log"?(a.d2r=a.d2l=function(J,ee){return I(v(J),ee)},a.r2d=a.r2c=function(J){return x(v(J))},a.d2c=a.r2l=v,a.c2d=a.l2r=r,a.c2r=I,a.l2d=x,a.d2p=function(J,ee){return a.l2p(a.d2r(J,ee))},a.p2d=function(J){return x(Q(J))},a.r2p=function(J){return a.l2p(v(J))},a.p2r=Q,a.cleanPos=r):a.type==="date"?(a.d2r=a.r2d=i.identity,a.d2c=a.r2c=a.d2l=a.r2l=B,a.c2d=a.c2r=a.l2d=a.l2r=F,a.d2p=a.r2p=function(J,ee,se){return a.l2p(B(J,0,se))},a.p2d=a.p2r=function(J,ee,se){return F(Q(J),ee,se)},a.cleanPos=function(J){return i.cleanDate(J,f,a.calendar)}):a.type==="category"?(a.d2c=a.d2l=N,a.r2d=a.c2d=a.l2d=O,a.d2r=a.d2l_noadd=Y,a.r2c=function(J){var ee=K(J);return ee!==void 0?ee:a.fraction2r(.5)},a.l2r=a.c2r=r,a.r2l=K,a.d2p=function(J){return a.l2p(a.r2c(J))},a.p2d=function(J){return O(Q(J))},a.r2p=a.d2p,a.p2r=Q,a.cleanPos=function(J){return typeof J=="string"&&J!==""?J:r(J)}):a.type==="multicategory"&&(a.r2d=a.c2d=a.l2d=O,a.d2r=a.d2l_noadd=Y,a.r2c=function(J){var ee=Y(J);return ee!==void 0?ee:a.fraction2r(.5)},a.r2c_just_indices=U,a.l2r=a.c2r=r,a.r2l=Y,a.d2p=function(J){return a.l2p(a.r2c(J))},a.p2d=function(J){return O(Q(J))},a.r2p=a.d2p,a.p2r=Q,a.cleanPos=function(J){return Array.isArray(J)||typeof J=="string"&&J!==""?J:r(J)},a.setupMultiCategory=function(J){var ee=a._traceIndices,se,q,$=a._matchGroup;if($&&a._categories.length===0){for(var le in $)if(le!==y){var ie=C[d.id2name(le)];ee=ee.concat(ie._traceIndices)}}var ce=[[0,{}],[0,{}]],me=[];for(se=0;se<ee.length;se++){var Me=J[ee[se]];if(z in Me){var we=Me[z],Oe=Me._length||i.minRowLength(we);if(s(we[0])&&s(we[1]))for(q=0;q<Oe;q++){var Be=we[0][q],Ce=we[1][q];S(Be)&&S(Ce)&&(me.push([Be,Ce]),Be in ce[0][1]||(ce[0][1][Be]=ce[0][0]++),Ce in ce[1][1]||(ce[1][1][Ce]=ce[1][0]++))}}}for(me.sort(function(xe,Se){var He=ce[0][1],Ge=He[xe[0]]-He[Se[0]];if(Ge)return Ge;var ke=ce[1][1];return ke[xe[1]]-ke[Se[1]]}),se=0;se<me.length;se++)N(me[se])}),a.fraction2r=function(J){var ee=a.r2l(a.range[0]),se=a.r2l(a.range[1]);return a.l2r(ee+J*(se-ee))},a.r2fraction=function(J){var ee=a.r2l(a.range[0]),se=a.r2l(a.range[1]);return(a.r2l(J)-ee)/(se-ee)},a.limitRange=function(J){var ee=a.minallowed,se=a.maxallowed;if(!(ee===void 0&&se===void 0)){J||(J="range");var q=i.nestedProperty(a,J).get(),$=i.simpleMap(q,a.r2l),le=$[1]<$[0];le&&$.reverse();var ie=i.simpleMap([ee,se],a.r2l);ee!==void 0&&$[0]<ie[0]&&(q[le?1:0]=ee),se!==void 0&&$[1]>ie[1]&&(q[le?0:1]=se)}},a.cleanRange=function(J,ee){a._cleanRange(J,ee),a.limitRange(J)},a._cleanRange=function(J,ee){ee||(ee={}),J||(J="range");var se=i.nestedProperty(a,J).get(),q,$;if(a.type==="date"?$=i.dfltRange(a.calendar):z==="y"?$=M.DFLTRANGEY:a._name==="realaxis"?$=[0,1]:$=ee.dfltRange||M.DFLTRANGEX,$=$.slice(),(a.rangemode==="tozero"||a.rangemode==="nonnegative")&&($[0]=0),!se||se.length!==2){i.nestedProperty(a,J).set($);return}var le=se[0]===null,ie=se[1]===null;for(a.type==="date"&&!a.autorange&&(se[0]=i.cleanDate(se[0],f,a.calendar),se[1]=i.cleanDate(se[1],f,a.calendar)),q=0;q<2;q++)if(a.type==="date"){if(!i.isDateTime(se[q],a.calendar)){a[J]=$;break}if(a.r2l(se[0])===a.r2l(se[1])){var ce=i.constrain(a.r2l(se[0]),i.MIN_MS+1e3,i.MAX_MS-1e3);se[0]=a.l2r(ce-1e3),se[1]=a.l2r(ce+1e3);break}}else{if(!A(se[q]))if(!(le||ie)&&A(se[1-q]))se[q]=se[1-q]*(q?10:.1);else{a[J]=$;break}if(se[q]<-l?se[q]=-l:se[q]>l&&(se[q]=l),se[0]===se[1]){var me=Math.max(1,Math.abs(se[0]*1e-6));se[0]-=me,se[1]+=me}}},a.setScale=function(J){var ee=C._size;if(a.overlaying){var se=d.getFromId({_fullLayout:C},a.overlaying);a.domain=se.domain}var q=J&&a._r?"_r":"range",$=a.calendar;a.cleanRange(q);var le=a.r2l(a[q][0],$),ie=a.r2l(a[q][1],$),ce=z==="y";if(ce?(a._offset=ee.t+(1-a.domain[1])*ee.h,a._length=ee.h*(a.domain[1]-a.domain[0]),a._m=a._length/(le-ie),a._b=-a._m*ie):(a._offset=ee.l+a.domain[0]*ee.w,a._length=ee.w*(a.domain[1]-a.domain[0]),a._m=a._length/(ie-le),a._b=-a._m*le),a._rangebreaks=[],a._lBreaks=0,a._m2=0,a._B=[],a.rangebreaks){var me,Me;if(a._rangebreaks=a.locateBreaks(Math.min(le,ie),Math.max(le,ie)),a._rangebreaks.length){for(me=0;me<a._rangebreaks.length;me++)Me=a._rangebreaks[me],a._lBreaks+=Math.abs(Me.max-Me.min);var we=ce;le>ie&&(we=!we),we&&a._rangebreaks.reverse();var Oe=we?-1:1;for(a._m2=Oe*a._length/(Math.abs(ie-le)-a._lBreaks),a._B.push(-a._m2*(ce?ie:le)),me=0;me<a._rangebreaks.length;me++)Me=a._rangebreaks[me],a._B.push(a._B[a._B.length-1]-Oe*a._m2*(Me.max-Me.min));for(me=0;me<a._rangebreaks.length;me++)Me=a._rangebreaks[me],Me.pmin=fe(Me.min),Me.pmax=fe(Me.max)}}if(!isFinite(a._m)||!isFinite(a._b)||a._length<0)throw C._replotting=!1,new Error("Something went wrong with axis scaling")},a.maskBreaks=function(J){var ee=a.rangebreaks||[],se,q,$,le,ie;ee._cachedPatterns||(ee._cachedPatterns=ee.map(function(He){return He.enabled&&He.bounds?i.simpleMap(He.bounds,He.pattern?v:a.d2c):null})),ee._cachedValues||(ee._cachedValues=ee.map(function(He){return He.enabled&&He.values?i.simpleMap(He.values,a.d2c).sort(i.sorterAsc):null}));for(var ce=0;ce<ee.length;ce++){var me=ee[ce];if(me.enabled){if(me.bounds){var Me=me.pattern;switch(se=ee._cachedPatterns[ce],q=se[0],$=se[1],Me){case E:ie=new Date(J),le=ie.getUTCDay(),q>$&&($+=7,le<q&&(le+=7));break;case T:ie=new Date(J);var we=ie.getUTCHours(),Oe=ie.getUTCMinutes(),Be=ie.getUTCSeconds(),Ce=ie.getUTCMilliseconds();le=we+(Oe/60+Be/3600+Ce/36e5),q>$&&($+=24,le<q&&(le+=24));break;case"":le=J;break}if(le>=q&&le<$)return f}else for(var xe=ee._cachedValues[ce],Se=0;Se<xe.length;Se++)if(q=xe[Se],$=q+me.dvalue,J>=q&&J<$)return f}}return J},a.locateBreaks=function(J,ee){var se,q,$,le,ie=[];if(!a.rangebreaks)return ie;var ce=a.rangebreaks.slice().sort(function(ke,We){return ke.pattern===E&&We.pattern===T?-1:We.pattern===E&&ke.pattern===T?1:0}),me=function(ke,We){if(ke=i.constrain(ke,J,ee),We=i.constrain(We,J,ee),ke!==We){for(var it=!0,et=0;et<ie.length;et++){var tt=ie[et];ke<tt.max&&We>=tt.min&&(ke<tt.min&&(tt.min=ke),We>tt.max&&(tt.max=We),it=!1)}it&&ie.push({min:ke,max:We})}};for(se=0;se<ce.length;se++){var Me=ce[se];if(Me.enabled)if(Me.bounds){var we=J,Oe=ee;Me.pattern&&(we=Math.floor(we)),q=i.simpleMap(Me.bounds,Me.pattern?v:a.r2l),$=q[0],le=q[1];var Be=new Date(we),Ce,xe;switch(Me.pattern){case E:xe=m,Ce=((le<$?7:0)+(le-$))*c,we+=$*c-(Be.getUTCDay()*c+Be.getUTCHours()*w+Be.getUTCMinutes()*h+Be.getUTCSeconds()*o+Be.getUTCMilliseconds());break;case T:xe=c,Ce=((le<$?24:0)+(le-$))*w,we+=$*w-(Be.getUTCHours()*w+Be.getUTCMinutes()*h+Be.getUTCSeconds()*o+Be.getUTCMilliseconds());break;default:we=Math.min(q[0],q[1]),Oe=Math.max(q[0],q[1]),xe=Oe-we,Ce=xe}for(var Se=we;Se<Oe;Se+=xe)me(Se,Se+Ce)}else for(var He=i.simpleMap(Me.values,a.d2c),Ge=0;Ge<He.length;Ge++)$=He[Ge],le=$+Me.dvalue,me($,le)}return ie.sort(function(ke,We){return ke.min-We.min}),ie},a.makeCalcdata=function(J,ee,se){var q,$,le,ie,ce=a.type,me=ce==="date"&&J[ee+"calendar"];if(ee in J){if(q=J[ee],ie=J._length||i.minRowLength(q),i.isTypedArray(q)&&(ce==="linear"||ce==="log")){if(ie===q.length)return q;if(q.subarray)return q.subarray(0,ie)}if(ce==="multicategory")return _(q,ie);for($=new Array(ie),le=0;le<ie;le++)$[le]=a.d2c(q[le],0,me,se)}else{var Me=ee+"0"in J?a.d2c(J[ee+"0"],0,me):0,we=J["d"+ee]?Number(J["d"+ee]):1;for(q=J[{x:"y",y:"x"}[ee]],ie=J._length||q.length,$=new Array(ie),le=0;le<ie;le++)$[le]=Me+le*we}if(a.rangebreaks)for(le=0;le<ie;le++)$[le]=a.maskBreaks($[le]);return $},a.isValidRange=function(J,ee){return Array.isArray(J)&&J.length===2&&(ee&&J[0]===null||A(a.r2l(J[0])))&&(ee&&J[1]===null||A(a.r2l(J[1])))},a.getAutorangeDflt=function(J,ee){var se=!a.isValidRange(J,"nullOk");return se&&ee&&ee.reverseDflt?se="reversed":J&&(J[0]===null&&J[1]===null?se=!0:J[0]===null&&J[1]!==null?se="min":J[0]!==null&&J[1]===null&&(se="max")),se},a.isReversed=function(){var J=a.autorange;return J==="reversed"||J==="min reversed"||J==="max reversed"},a.isPtWithinRange=function(J,ee){var se=a.c2l(J[z],null,ee),q=a.r2l(a.range[0]),$=a.r2l(a.range[1]);return q<$?q<=se&&se<=$:$<=se&&se<=q},a._emptyCategories=function(){a._categories=[],a._categoriesMap={}},a.clearCalc=function(){var J=a._matchGroup;if(J){var ee=null,se=null;for(var q in J){var $=C[d.id2name(q)];if($._categories){ee=$._categories,se=$._categoriesMap;break}}ee&&se?(a._categories=ee,a._categoriesMap=se):a._emptyCategories()}else a._emptyCategories();if(a._initialCategories)for(var le=0;le<a._initialCategories.length;le++)N(a._initialCategories[le])},a.sortByInitialCategories=function(){var J=[];if(a._emptyCategories(),a._initialCategories)for(var ee=0;ee<a._initialCategories.length;ee++)N(a._initialCategories[ee]);J=J.concat(a._traceIndices);var se=a._matchGroup;for(var q in se)if(y!==q){var $=C[d.id2name(q)];$._categories=a._categories,$._categoriesMap=a._categoriesMap,J=J.concat($._traceIndices)}return J};var X=C._d3locale;a.type==="date"&&(a._dateFormat=X?X.timeFormat:P,a._extraFormat=C._extraFormat),a._separators=C.separators,a._numFormat=X?X.numberFormat:L,delete a._minDtick,delete a._forceTick0}},59652:function(W){W.exports=function(e){var g=["showexponent","showtickprefix","showticksuffix"],P=g.filter(function(L){return e[L]!==void 0}),i=function(L){return e[L]===e[P[0]]};if(P.every(i)||P.length===1)return e[P[0]]}},96115:function(W,H,e){var g=e(71828),P=e(7901).contrast,i=e(13838),L=e(59652),A=e(85501);W.exports=function(t,r,s,n,l){l||(l={});var f=s("labelalias");g.isPlainObject(f)||delete r.labelalias;var u=L(t),m=s("showticklabels");if(m){var c=l.font||{},w=r.color,h=r.ticklabelposition||"",o=h.indexOf("inside")!==-1?P(l.bgColor):w&&w!==i.color.dflt?w:c.color;if(g.coerceFont(s,"tickfont",{family:c.family,size:c.size,color:o}),!l.noTicklabelstep&&n!=="multicategory"&&n!=="log"&&s("ticklabelstep"),l.noAng||s("tickangle"),n!=="category"){var d=s("tickformat");A(t,r,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),r.tickformatstops.length||delete r.tickformatstops,!l.noExp&&!d&&n!=="date"&&(s("showexponent",u),s("exponentformat"),s("minexponent"),s("separatethousands"))}}};function v(p,t){function r(n,l){return g.coerce(p,t,i.tickformatstops,n,l)}var s=r("enabled");s&&(r("dtickrange"),r("value"))}},38701:function(W,H,e){var g=e(71828),P=e(13838);W.exports=function(L,A,v,p){var t=p.isMinor,r=t?L.minor||{}:L,s=t?A.minor:A,n=t?P.minor:P,l=t?"minor.":"",f=g.coerce2(r,s,n,"ticklen",t?(A.ticklen||5)*.6:void 0),u=g.coerce2(r,s,n,"tickwidth",t?A.tickwidth||1:void 0),m=g.coerce2(r,s,n,"tickcolor",(t?A.tickcolor:void 0)||s.color),c=v(l+"ticks",!t&&p.outerTicks||f||u||m?"outside":"");c||(delete s.ticklen,delete s.tickwidth,delete s.tickcolor)}},26218:function(W,H,e){var g=e(66287),P=e(71828).isArrayOrTypedArray;W.exports=function(L,A,v,p,t){t||(t={});var r=t.isMinor,s=r?L.minor||{}:L,n=r?A.minor:A,l=r?"minor.":"";function f(M){var T=s[M];return T!==void 0?T:(n._template||{})[M]}var u=f("tick0"),m=f("dtick"),c=f("tickvals"),w=P(c)?"array":m?"linear":"auto",h=v(l+"tickmode",w);if(h==="auto"||h==="sync")v(l+"nticks");else if(h==="linear"){var o=n.dtick=g.dtick(m,p);n.tick0=g.tick0(u,p,A.calendar,o)}else if(p!=="multicategory"){var d=v(l+"tickvals");d===void 0?n.tickmode="auto":r||v("ticktext")}}},66847:function(W,H,e){var g=e(39898),P=e(73972),i=e(71828),L=e(91424),A=e(89298);W.exports=function(p,t,r,s){var n=p._fullLayout;if(t.length===0){A.redrawComponents(p);return}function l(T){var E=T.xaxis,x=T.yaxis;n._defs.select("#"+T.clipId+"> rect").call(L.setTranslate,0,0).call(L.setScale,1,1),T.plot.call(L.setTranslate,E._offset,x._offset).call(L.setScale,1,1);var S=T.plot.selectAll(".scatterlayer .trace");S.selectAll(".point").call(L.setPointGroupScale,1,1),S.selectAll(".textpoint").call(L.setTextPointsScale,1,1),S.call(L.hideOutsideRangePoints,T)}function f(T,E){var x=T.plotinfo,S=x.xaxis,b=x.yaxis,a=S._length,C=b._length,y=!!T.xr1,z=!!T.yr1,I=[];if(y){var B=i.simpleMap(T.xr0,S.r2l),F=i.simpleMap(T.xr1,S.r2l),O=B[1]-B[0],N=F[1]-F[0];I[0]=(B[0]*(1-E)+E*F[0]-B[0])/(B[1]-B[0])*a,I[2]=a*(1-E+E*N/O),S.range[0]=S.l2r(B[0]*(1-E)+E*F[0]),S.range[1]=S.l2r(B[1]*(1-E)+E*F[1])}else I[0]=0,I[2]=a;if(z){var _=i.simpleMap(T.yr0,b.r2l),U=i.simpleMap(T.yr1,b.r2l),Y=_[1]-_[0],K=U[1]-U[0];I[1]=(_[1]*(1-E)+E*U[1]-_[1])/(_[0]-_[1])*C,I[3]=C*(1-E+E*K/Y),b.range[0]=S.l2r(_[0]*(1-E)+E*U[0]),b.range[1]=b.l2r(_[1]*(1-E)+E*U[1])}else I[1]=0,I[3]=C;A.drawOne(p,S,{skipTitle:!0}),A.drawOne(p,b,{skipTitle:!0}),A.redrawComponents(p,[S._id,b._id]);var re=y?a/I[2]:1,ae=z?C/I[3]:1,fe=y?I[0]:0,Q=z?I[1]:0,j=y?I[0]/I[2]*a:0,X=z?I[1]/I[3]*C:0,J=S._offset-j,ee=b._offset-X;x.clipRect.call(L.setTranslate,fe,Q).call(L.setScale,1/re,1/ae),x.plot.call(L.setTranslate,J,ee).call(L.setScale,re,ae),L.setPointGroupScale(x.zoomScalePts,1/re,1/ae),L.setTextPointsScale(x.zoomScaleTxt,1/re,1/ae)}var u;s&&(u=s());function m(){for(var T={},E=0;E<t.length;E++){var x=t[E],S=x.plotinfo.xaxis,b=x.plotinfo.yaxis;x.xr1&&(T[S._name+".range"]=x.xr1.slice()),x.yr1&&(T[b._name+".range"]=x.yr1.slice())}return u&&u(),P.call("relayout",p,T).then(function(){for(var a=0;a<t.length;a++)l(t[a].plotinfo)})}function c(){for(var T={},E=0;E<t.length;E++){var x=t[E],S=x.plotinfo.xaxis,b=x.plotinfo.yaxis;x.xr0&&(T[S._name+".range"]=x.xr0.slice()),x.yr0&&(T[b._name+".range"]=x.yr0.slice())}return P.call("relayout",p,T).then(function(){for(var a=0;a<t.length;a++)l(t[a].plotinfo)})}var w,h,o,d=g.ease(r.easing);p._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(o),o=null,c()});function M(){h=Date.now();for(var T=Math.min(1,(h-w)/r.duration),E=d(T),x=0;x<t.length;x++)f(t[x],E);h-w>r.duration?(m(),o=window.cancelAnimationFrame(M)):o=window.requestAnimationFrame(M)}return w=Date.now(),o=window.requestAnimationFrame(M),Promise.resolve()}},951:function(W,H,e){var g=e(73972).traceIs,P=e(4322);W.exports=function(t,r,s,n){s("autotypenumbers",n.autotypenumbersDflt);var l=s("type",(n.splomStash||{}).type);l==="-"&&(i(r,n.data),r.type==="-"?r.type="linear":t.type=r.type)};function i(p,t){if(p.type==="-"){var r=p._id,s=r.charAt(0),n;r.indexOf("scene")!==-1&&(r=s);var l=L(t,r,s);if(l){if(l.type==="histogram"&&s==={v:"y",h:"x"}[l.orientation||"v"]){p.type="linear";return}var f=s+"calendar",u=l[f],m={noMultiCategory:!g(l,"cartesian")||g(l,"noMultiCategory")};if(l.type==="box"&&l._hasPreCompStats&&s==={h:"x",v:"y"}[l.orientation||"v"]&&(m.noMultiCategory=!0),m.autotypenumbers=p.autotypenumbers,v(l,s)){var c=A(l),w=[];for(n=0;n<t.length;n++){var h=t[n];!g(h,"box-violin")||(h[s+"axis"]||s)!==r||(h[c]!==void 0?w.push(h[c][0]):h.name!==void 0?w.push(h.name):w.push("text"),h[f]!==u&&(u=void 0))}p.type=P(w,u,m)}else if(l.type==="splom"){var o=l.dimensions,d=o[l._axesDim[r]];d.visible&&(p.type=P(d.values,u,m))}else p.type=P(l[s]||[l[s+"0"]],u,m)}}}function L(p,t,r){for(var s=0;s<p.length;s++){var n=p[s];if(n.type==="splom"&&n._length>0&&(n["_"+r+"axes"]||{})[t])return n;if((n[r+"axis"]||r)===t){if(v(n,r))return n;if((n[r]||[]).length||n[r+"0"])return n}}}function A(p){return{v:"x",h:"y"}[p.orientation||"v"]}function v(p,t){var r=A(p),s=g(p,"box-violin"),n=g(p._fullInput||{},"candlestick");return s&&!n&&t===r&&p[r]===void 0&&p[r+"0"]===void 0}},31137:function(W,H,e){var g=e(73972),P=e(71828);H.manageCommandObserver=function(t,r,s,n){var l={},f=!0;r&&r._commandObserver&&(l=r._commandObserver),l.cache||(l.cache={}),l.lookupTable={};var u=H.hasSimpleAPICommandBindings(t,s,l.lookupTable);if(r&&r._commandObserver){if(u)return l;if(r._commandObserver.remove)return r._commandObserver.remove(),r._commandObserver=null,l}if(u){i(t,u,l.cache),l.check=function(){if(f){var h=i(t,u,l.cache);return h.changed&&n&&l.lookupTable[h.value]!==void 0&&(l.disable(),Promise.resolve(n({value:h.value,type:u.type,prop:u.prop,traces:u.traces,index:l.lookupTable[h.value]})).then(l.enable,l.enable)),h.changed}};for(var m=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],c=0;c<m.length;c++)t._internalOn(m[c],l.check);l.remove=function(){for(var w=0;w<m.length;w++)t._removeInternalListener(m[w],l.check)}}else P.log("Unable to automatically bind plot updates to API command"),l.lookupTable={},l.remove=function(){};return l.disable=function(){f=!1},l.enable=function(){f=!0},r&&(r._commandObserver=l),l},H.hasSimpleAPICommandBindings=function(t,r,s){var n,l=r.length,f;for(n=0;n<l;n++){var u,m=r[n],c=m.method,w=m.args;if(Array.isArray(w)||(w=[]),!c)return!1;var h=H.computeAPICommandBindings(t,c,w);if(h.length!==1)return!1;if(!f)f=h[0],Array.isArray(f.traces)&&f.traces.sort();else{if(u=h[0],u.type!==f.type||u.prop!==f.prop)return!1;if(Array.isArray(f.traces))if(Array.isArray(u.traces)){u.traces.sort();for(var o=0;o<f.traces.length;o++)if(f.traces[o]!==u.traces[o])return!1}else return!1;else if(u.prop!==f.prop)return!1}u=h[0];var d=u.value;if(Array.isArray(d))if(d.length===1)d=d[0];else return!1;s&&(s[d]=n)}return f};function i(t,r,s){var n,l,f,u=!1;if(r.type==="data")n=t._fullData[r.traces!==null?r.traces[0]:0];else if(r.type==="layout")n=t._fullLayout;else return!1;return l=P.nestedProperty(n,r.prop).get(),f=s[r.type]=s[r.type]||{},f.hasOwnProperty(r.prop)&&f[r.prop]!==l&&(u=!0),f[r.prop]=l,{changed:u,value:l}}H.executeAPICommand=function(t,r,s){if(r==="skip")return Promise.resolve();var n=g.apiMethodRegistry[r],l=[t];Array.isArray(s)||(s=[]);for(var f=0;f<s.length;f++)l.push(s[f]);return n.apply(null,l).catch(function(u){return P.warn("API call to Plotly."+r+" rejected.",u),Promise.reject(u)})},H.computeAPICommandBindings=function(t,r,s){var n;switch(Array.isArray(s)||(s=[]),r){case"restyle":n=v(t,s);break;case"relayout":n=A(t,s);break;case"update":n=v(t,[s[0],s[2]]).concat(A(t,[s[1]]));break;case"animate":n=L(t,s);break;default:n=[]}return n};function L(t,r){return Array.isArray(r[0])&&r[0].length===1&&["string","number"].indexOf(typeof r[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:r[0][0].toString()}]:[]}function A(t,r){var s=[],n=r[0],l={};if(typeof n=="string")l[n]=r[1];else if(P.isPlainObject(n))l=n;else return s;return p(l,function(f,u,m){s.push({type:"layout",prop:f,value:m})},"",0),s}function v(t,r){var s,n,l,f,u=[];if(n=r[0],l=r[1],s=r[2],f={},typeof n=="string")f[n]=l;else if(P.isPlainObject(n))f=n,s===void 0&&(s=l);else return u;return s===void 0&&(s=null),p(f,function(m,c,w){var h,o;if(Array.isArray(w)){o=w.slice();var d=Math.min(o.length,t.data.length);s&&(d=Math.min(d,s.length)),h=[];for(var M=0;M<d;M++)h[M]=s?s[M]:M}else o=w,h=s?s.slice():null;if(h===null)Array.isArray(o)&&(o=o[0]);else if(Array.isArray(h)){if(!Array.isArray(o)){var T=o;o=[];for(var E=0;E<h.length;E++)o[E]=T}o.length=Math.min(h.length,o.length)}u.push({type:"data",prop:m,traces:h,value:o})},"",0),u}function p(t,r,s,n){Object.keys(t).forEach(function(l){var f=t[l];if(l[0]!=="_"){var u=s+(n>0?".":"")+l;P.isPlainObject(f)?p(f,r,u,n+1):r(u,l,f)}})}},27670:function(W,H,e){var g=e(1426).extendFlat;H.Y=function(P,i){P=P||{},i=i||{};var L={valType:"info_array",editType:P.editType,items:[{valType:"number",min:0,max:1,editType:P.editType},{valType:"number",min:0,max:1,editType:P.editType}],dflt:[0,1]};P.name&&P.name+"",P.trace,i.description&&""+i.description;var A={x:g({},L,{}),y:g({},L,{}),editType:P.editType};return P.noGridCell||(A.row={valType:"integer",min:0,dflt:0,editType:P.editType},A.column={valType:"integer",min:0,dflt:0,editType:P.editType}),A},H.c=function(P,i,L,A){var v=A&&A.x||[0,1],p=A&&A.y||[0,1],t=i.grid;if(t){var r=L("domain.column");r!==void 0&&(r<t.columns?v=t._domains.x[r]:delete P.domain.column);var s=L("domain.row");s!==void 0&&(s<t.rows?p=t._domains.y[s]:delete P.domain.row)}var n=L("domain.x",v),l=L("domain.y",p);n[0]<n[1]||(P.domain.x=v.slice()),l[0]<l[1]||(P.domain.y=p.slice())}},41940:function(W){W.exports=function(H){var e=H.editType,g=H.colorEditType;g===void 0&&(g=e);var P={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:g},editType:e};return H.autoSize&&(P.size.dflt="auto"),H.autoColor&&(P.color.dflt="auto"),H.arrayOk&&(P.family.arrayOk=!0,P.size.arrayOk=!0,P.color.arrayOk=!0),P}},31391:function(W){W.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(W,H){H.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},H.axesNames=["lonaxis","lataxis"],H.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},H.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},H.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},H.clipPad=.001,H.precision=.1,H.landColor="#F0DC82",H.waterColor="#3399FF",H.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},H.sphereSVG={type:"Sphere"},H.fillLayers={ocean:1,land:1,lakes:1},H.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},H.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],H.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],H.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(W,H,e){var g=e(39898),P=e(27362),i=P.geoPath,L=P.geoDistance,A=e(65704),v=e(73972),p=e(71828),t=p.strTranslate,r=e(7901),s=e(91424),n=e(30211),l=e(74875),f=e(89298),u=e(71739).getAutoRange,m=e(28569),c=e(47322).prepSelect,w=e(47322).clearOutline,h=e(47322).selectOnClick,o=e(74455),d=e(78776),M=e(41327),T=e(90973),E=e(96892).zL;function x(y){this.id=y.id,this.graphDiv=y.graphDiv,this.container=y.container,this.topojsonURL=y.topojsonURL,this.isStatic=y.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var S=x.prototype;W.exports=function(z){return new x(z)},S.plot=function(y,z,I,B){var F=this;if(B)return F.update(y,z,!0);F._geoCalcData=y,F._fullLayout=z;var O=z[this.id],N=[],_=!1;for(var U in d.layerNameToAdjective)if(U!=="frame"&&O["show"+U]){_=!0;break}for(var Y=!1,K=0;K<y.length;K++){var re=y[0][0].trace;re._geo=F,re.locationmode&&(_=!0);var ae=re.marker;if(ae){var fe=ae.angle,Q=ae.angleref;(fe||Q==="north"||Q==="previous")&&(Y=!0)}}if(this._hasMarkerAngles=Y,_){var j=T.getTopojsonName(O);(F.topojson===null||j!==F.topojsonName)&&(F.topojsonName=j,PlotlyGeoAssets.topojson[F.topojsonName]===void 0&&N.push(F.fetchTopojson()))}N=N.concat(M.fetchTraceGeoData(y)),I.push(new Promise(function(X,J){Promise.all(N).then(function(){F.topojson=PlotlyGeoAssets.topojson[F.topojsonName],F.update(y,z),X()}).catch(J)}))},S.fetchTopojson=function(){var y=this,z=T.getTopojsonPath(y.topojsonURL,y.topojsonName);return new Promise(function(I,B){g.json(z,function(F,O){if(F)return F.status===404?B(new Error(["plotly.js could not find topojson file at",z+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):B(new Error(["unexpected error while fetching topojson file at",z].join(" ")));PlotlyGeoAssets.topojson[y.topojsonName]=O,I()})})},S.update=function(y,z,I){var B=z[this.id];this.hasChoropleth=!1;for(var F=0;F<y.length;F++){var O=y[F],N=O[0].trace;N.type==="choropleth"&&(this.hasChoropleth=!0),N.visible===!0&&N._length>0&&N._module.calcGeoJSON(O,z)}if(!I){var _=this.updateProjection(y,z);if(_)return;(!this.viewInitial||this.scope!==B.scope)&&this.saveViewInitial(B)}this.scope=B.scope,this.updateBaseLayers(z,B),this.updateDims(z,B),this.updateFx(z,B),l.generalUpdatePerTraceModule(this.graphDiv,this,y,B);var U=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=U.selectAll(".point"),this.dataPoints.text=U.selectAll("text"),this.dataPaths.line=U.selectAll(".js-line");var Y=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=Y.selectAll("path"),this._render()},S.updateProjection=function(y,z){var I=this.graphDiv,B=z[this.id],F=z._size,O=B.domain,N=B.projection,_=B.lonaxis,U=B.lataxis,Y=_._ax,K=U._ax,re=this.projection=b(B),ae=[[F.l+F.w*O.x[0],F.t+F.h*(1-O.y[1])],[F.l+F.w*O.x[1],F.t+F.h*(1-O.y[0])]],fe=B.center||{},Q=N.rotation||{},j=_.range||[],X=U.range||[];if(B.fitbounds){Y._length=ae[1][0]-ae[0][0],K._length=ae[1][1]-ae[0][1],Y.range=u(I,Y),K.range=u(I,K);var J=(Y.range[0]+Y.range[1])/2,ee=(K.range[0]+K.range[1])/2;if(B._isScoped)fe={lon:J,lat:ee};else if(B._isClipped){fe={lon:J,lat:ee},Q={lon:J,lat:ee,roll:Q.roll};var se=N.type,q=d.lonaxisSpan[se]/2||180,$=d.lataxisSpan[se]/2||90;j=[J-q,J+q],X=[ee-$,ee+$]}else fe={lon:J,lat:ee},Q={lon:J,lat:Q.lat,roll:Q.roll}}re.center([fe.lon-Q.lon,fe.lat-Q.lat]).rotate([-Q.lon,-Q.lat,Q.roll]).parallels(N.parallels);var le=C(j,X);re.fitExtent(ae,le);var ie=this.bounds=re.getBounds(le),ce=this.fitScale=re.scale(),me=re.translate();if(B.fitbounds){var Me=re.getBounds(C(Y.range,K.range)),we=Math.min((ie[1][0]-ie[0][0])/(Me[1][0]-Me[0][0]),(ie[1][1]-ie[0][1])/(Me[1][1]-Me[0][1]));isFinite(we)?re.scale(we*ce):p.warn("Something went wrong during"+this.id+"fitbounds computations.")}else re.scale(N.scale*ce);var Oe=this.midPt=[(ie[0][0]+ie[1][0])/2,(ie[0][1]+ie[1][1])/2];if(re.translate([me[0]+(Oe[0]-me[0]),me[1]+(Oe[1]-me[1])]).clipExtent(ie),B._isAlbersUsa){var Be=re([fe.lon,fe.lat]),Ce=re.translate();re.translate([Ce[0]-(Be[0]-Ce[0]),Ce[1]-(Be[1]-Ce[1])])}},S.updateBaseLayers=function(y,z){var I=this,B=I.topojson,F=I.layers,O=I.basePaths;function N(ae){return ae==="lonaxis"||ae==="lataxis"}function _(ae){return!!d.lineLayers[ae]}function U(ae){return!!d.fillLayers[ae]}var Y=this.hasChoropleth?d.layersForChoropleth:d.layers,K=Y.filter(function(ae){return _(ae)||U(ae)?z["show"+ae]:N(ae)?z[ae].showgrid:!0}),re=I.framework.selectAll(".layer").data(K,String);re.exit().each(function(ae){delete F[ae],delete O[ae],g.select(this).remove()}),re.enter().append("g").attr("class",function(ae){return"layer "+ae}).each(function(ae){var fe=F[ae]=g.select(this);ae==="bg"?I.bgRect=fe.append("rect").style("pointer-events","all"):N(ae)?O[ae]=fe.append("path").style("fill","none"):ae==="backplot"?fe.append("g").classed("choroplethlayer",!0):ae==="frontplot"?fe.append("g").classed("scatterlayer",!0):_(ae)?O[ae]=fe.append("path").style("fill","none").style("stroke-miterlimit",2):U(ae)&&(O[ae]=fe.append("path").style("stroke","none"))}),re.order(),re.each(function(ae){var fe=O[ae],Q=d.layerNameToAdjective[ae];ae==="frame"?fe.datum(d.sphereSVG):_(ae)||U(ae)?fe.datum(E(B,B.objects[ae])):N(ae)&&fe.datum(a(ae,z,y)).call(r.stroke,z[ae].gridcolor).call(s.dashLine,z[ae].griddash,z[ae].gridwidth),_(ae)?fe.call(r.stroke,z[Q+"color"]).call(s.dashLine,"",z[Q+"width"]):U(ae)&&fe.call(r.fill,z[Q+"color"])})},S.updateDims=function(y,z){var I=this.bounds,B=(z.framewidth||0)/2,F=I[0][0]-B,O=I[0][1]-B,N=I[1][0]-F+B,_=I[1][1]-O+B;s.setRect(this.clipRect,F,O,N,_),this.bgRect.call(s.setRect,F,O,N,_).call(r.fill,z.bgcolor),this.xaxis._offset=F,this.xaxis._length=N,this.yaxis._offset=O,this.yaxis._length=_},S.updateFx=function(y,z){var I=this,B=I.graphDiv,F=I.bgRect,O=y.dragmode,N=y.clickmode;if(I.isStatic)return;function _(){var re=I.viewInitial,ae={};for(var fe in re)ae[I.id+"."+fe]=re[fe];v.call("_guiRelayout",B,ae),B.emit("plotly_doubleclick",null)}function U(re){return I.projection.invert([re[0]+I.xaxis._offset,re[1]+I.yaxis._offset])}var Y=function(re,ae){if(ae.isRect){var fe=re.range={};fe[I.id]=[U([ae.xmin,ae.ymin]),U([ae.xmax,ae.ymax])]}else{var Q=re.lassoPoints={};Q[I.id]=ae.map(U)}},K={element:I.bgRect.node(),gd:B,plotinfo:{id:I.id,xaxis:I.xaxis,yaxis:I.yaxis,fillRangeItems:Y},xaxes:[I.xaxis],yaxes:[I.yaxis],subplot:I.id,clickFn:function(re){re===2&&w(B)}};O==="pan"?(F.node().onmousedown=null,F.call(o(I,z)),F.on("dblclick.zoom",_),B._context._scrollZoom.geo||F.on("wheel.zoom",null)):(O==="select"||O==="lasso")&&(F.on(".zoom",null),K.prepFn=function(re,ae,fe){c(re,ae,fe,K,O)},m.init(K)),F.on("mousemove",function(){var re=I.projection.invert(p.getPositionFromD3Event());if(!re)return m.unhover(B,g.event);I.xaxis.p2c=function(){return re[0]},I.yaxis.p2c=function(){return re[1]},n.hover(B,g.event,I.id)}),F.on("mouseout",function(){B._dragging||m.unhover(B,g.event)}),F.on("click",function(){O!=="select"&&O!=="lasso"&&(N.indexOf("select")>-1&&h(g.event,B,[I.xaxis],[I.yaxis],I.id,K),N.indexOf("event")>-1&&n.click(B,g.event))})},S.makeFramework=function(){var y=this,z=y.graphDiv,I=z._fullLayout,B="clip"+I._uid+y.id;y.clipDef=I._clips.append("clipPath").attr("id",B),y.clipRect=y.clipDef.append("rect"),y.framework=g.select(y.container).append("g").attr("class","geo "+y.id).call(s.setClipUrl,B,z),y.project=function(F){var O=y.projection(F);return O?[O[0]-y.xaxis._offset,O[1]-y.yaxis._offset]:[null,null]},y.xaxis={_id:"x",c2p:function(F){return y.project(F)[0]}},y.yaxis={_id:"y",c2p:function(F){return y.project(F)[1]}},y.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},f.setConvert(y.mockAxis,I)},S.saveViewInitial=function(y){var z=y.center||{},I=y.projection,B=I.rotation||{};this.viewInitial={fitbounds:y.fitbounds,"projection.scale":I.scale};var F;y._isScoped?F={"center.lon":z.lon,"center.lat":z.lat}:y._isClipped?F={"projection.rotation.lon":B.lon,"projection.rotation.lat":B.lat}:F={"center.lon":z.lon,"center.lat":z.lat,"projection.rotation.lon":B.lon},p.extendFlat(this.viewInitial,F)},S.render=function(y){this._hasMarkerAngles&&y?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},S._render=function(){var y=this.projection,z=y.getPath(),I;function B(O){var N=y(O.lonlat);return N?t(N[0],N[1]):null}function F(O){return y.isLonLatOverEdges(O.lonlat)?"none":null}for(I in this.basePaths)this.basePaths[I].attr("d",z);for(I in this.dataPaths)this.dataPaths[I].attr("d",function(O){return z(O.geojson)});for(I in this.dataPoints)this.dataPoints[I].attr("display",F).attr("transform",B)};function b(y){var z=y.projection,I=z.type,B=d.projNames[I];B="geo"+p.titleCase(B);for(var F=P[B]||A[B],O=F(),N=y._isSatellite?Math.acos(1/z.distance)*180/Math.PI:y._isClipped?d.lonaxisSpan[I]/2:null,_=["center","rotate","parallels","clipExtent"],U=function(re){return re?O:[]},Y=0;Y<_.length;Y++){var K=_[Y];typeof O[K]!="function"&&(O[K]=U)}return O.isLonLatOverEdges=function(re){if(O(re)===null)return!0;if(N){var ae=O.rotate(),fe=L(re,[-ae[0],-ae[1]]),Q=N*Math.PI/180;return fe>Q}else return!1},O.getPath=function(){return i().projection(O)},O.getBounds=function(re){return O.getPath().bounds(re)},O.precision(d.precision),y._isSatellite&&O.tilt(z.tilt).distance(z.distance),N&&O.clipAngle(N-d.clipPad),O}function a(y,z,I){var B=1e-6,F=2.5,O=z[y],N=d.scopeDefaults[z.scope],_,U,Y;y==="lonaxis"?(_=N.lonaxisRange,U=N.lataxisRange,Y=function(ee,se){return[ee,se]}):y==="lataxis"&&(_=N.lataxisRange,U=N.lonaxisRange,Y=function(ee,se){return[se,ee]});var K={type:"linear",range:[_[0],_[1]-B],tick0:O.tick0,dtick:O.dtick};f.setConvert(K,I);var re=f.calcTicks(K);!z.isScoped&&y==="lonaxis"&&re.pop();for(var ae=re.length,fe=new Array(ae),Q=0;Q<ae;Q++)for(var j=re[Q].x,X=fe[Q]=[],J=U[0];J<U[1]+F;J+=F)X.push(Y(j,J));return{type:"MultiLineString",coordinates:fe}}function C(y,z){var I=d.clipPad,B=y[0]+I,F=y[1]-I,O=z[0]+I,N=z[1]-I;B>0&&F<0&&(F+=360);var _=(F-B)/4;return{type:"Polygon",coordinates:[[[B,O],[B,N],[B+_,N],[B+2*_,N],[B+3*_,N],[F,N],[F,O],[F-_,O],[F-2*_,O],[F-3*_,O],[B,O]]]}}},44622:function(W,H,e){var g=e(27659).AU,P=e(71828).counterRegex,i=e(69082),L="geo",A=P(L),v={};v[L]={valType:"subplotid",dflt:L,editType:"calc"};function p(s){for(var n=s._fullLayout,l=s.calcdata,f=n._subplots[L],u=0;u<f.length;u++){var m=f[u],c=g(l,L,m),w=n[m],h=w._subplot;h||(h=i({id:m,graphDiv:s,container:n._geolayer.node(),topojsonURL:s._context.topojsonURL,staticPlot:s._context.staticPlot}),n[m]._subplot=h),h.plot(c,n,s._promises)}}function t(s,n,l,f){for(var u=f._subplots[L]||[],m=0;m<u.length;m++){var c=u[m],w=f[c]._subplot;!n[c]&&w&&(w.framework.remove(),w.clipDef.remove())}}function r(s){for(var n=s._fullLayout,l=n._subplots[L],f=0;f<l.length;f++){var u=n[l[f]],m=u._subplot;m.updateFx(n,u)}}W.exports={attr:L,name:L,idRoot:L,idRegex:A,attrRegex:A,attributes:v,layoutAttributes:e(77519),supplyLayoutDefaults:e(82161),plot:p,updateFx:r,clean:t}},77519:function(W,H,e){var g=e(22399),P=e(27670).Y,i=e(79952).P,L=e(78776),A=e(30962).overrideAll,v=e(78607),p={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:g.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:i},t=W.exports=A({domain:P({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(L.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(L.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:g.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:L.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:L.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:L.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:L.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:g.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:g.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:g.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:g.background},lonaxis:p,lataxis:p},"plot","from-root");t.uirevision={valType:"any",editType:"none"}},82161:function(W,H,e){var g=e(71828),P=e(49119),i=e(27659).NG,L=e(78776),A=e(77519),v=L.axesNames;W.exports=function(r,s,n){P(r,s,n,{type:"geo",attributes:A,handleDefaults:p,fullData:n,partition:"y"})};function p(t,r,s,n){var l=i(n.fullData,"geo",n.id),f=l.map(function(X){return X._expandedIndex}),u=s("resolution"),m=s("scope"),c=L.scopeDefaults[m],w=s("projection.type",c.projType),h=r._isAlbersUsa=w==="albers usa";h&&(m=r.scope="usa");var o=r._isScoped=m!=="world",d=r._isSatellite=w==="satellite",M=r._isConic=w.indexOf("conic")!==-1||w==="albers",T=r._isClipped=!!L.lonaxisSpan[w];if(t.visible===!1){var E=g.extendDeep({},r._template);E.showcoastlines=!1,E.showcountries=!1,E.showframe=!1,E.showlakes=!1,E.showland=!1,E.showocean=!1,E.showrivers=!1,E.showsubunits=!1,E.lonaxis&&(E.lonaxis.showgrid=!1),E.lataxis&&(E.lataxis.showgrid=!1),r._template=E}for(var x=s("visible"),S,b=0;b<v.length;b++){var a=v[b],C=[30,10][b],y;if(o)y=c[a+"Range"];else{var z=L[a+"Span"],I=(z[w]||z["*"])/2,B=s("projection.rotation."+a.substr(0,3),c.projRotate[b]);y=[B-I,B+I]}var F=s(a+".range",y);s(a+".tick0"),s(a+".dtick",C),S=s(a+".showgrid",x?void 0:!1),S&&(s(a+".gridcolor"),s(a+".gridwidth"),s(a+".griddash")),r[a]._ax={type:"linear",_id:a.slice(0,3),_traceIndices:f,setScale:g.identity,c2l:g.identity,r2l:g.identity,autorange:!0,range:F.slice(),_m:1,_input:{}}}var O=r.lonaxis.range,N=r.lataxis.range,_=O[0],U=O[1];_>0&&U<0&&(U+=360);var Y=(_+U)/2,K;if(!h){var re=o?c.projRotate:[Y,0,0];K=s("projection.rotation.lon",re[0]),s("projection.rotation.lat",re[1]),s("projection.rotation.roll",re[2]),S=s("showcoastlines",!o&&x),S&&(s("coastlinecolor"),s("coastlinewidth")),S=s("showocean",x?void 0:!1),S&&s("oceancolor")}var ae,fe;if(h?(ae=-96.6,fe=38.7):(ae=o?Y:K,fe=(N[0]+N[1])/2),s("center.lon",ae),s("center.lat",fe),d&&(s("projection.tilt"),s("projection.distance")),M){var Q=c.projParallels||[0,60];s("projection.parallels",Q)}s("projection.scale"),S=s("showland",x?void 0:!1),S&&s("landcolor"),S=s("showlakes",x?void 0:!1),S&&s("lakecolor"),S=s("showrivers",x?void 0:!1),S&&(s("rivercolor"),s("riverwidth")),S=s("showcountries",o&&m!=="usa"&&x),S&&(s("countrycolor"),s("countrywidth")),(m==="usa"||m==="north america"&&u===50)&&(s("showsubunits",x),s("subunitcolor"),s("subunitwidth")),o||(S=s("showframe",x),S&&(s("framecolor"),s("framewidth"))),s("bgcolor");var j=s("fitbounds");j&&(delete r.projection.scale,o?(delete r.center.lon,delete r.center.lat):T?(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon,delete r.projection.rotation.lat,delete r.lonaxis.range,delete r.lataxis.range):(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon))}},74455:function(W,H,e){var g=e(39898),P=e(71828),i=e(73972),L=Math.PI/180,A=180/Math.PI,v={cursor:"pointer"},p={cursor:"auto"};function t(a,C){var y=a.projection,z;return C._isScoped?z=n:C._isClipped?z=f:z=l,z(a,y)}W.exports=t;function r(a,C){return g.behavior.zoom().translate(C.translate()).scale(C.scale())}function s(a,C,y){var z=a.id,I=a.graphDiv,B=I.layout,F=B[z],O=I._fullLayout,N=O[z],_={},U={};function Y(K,re){_[z+"."+K]=P.nestedProperty(F,K).get(),i.call("_storeDirectGUIEdit",B,O._preGUI,_);var ae=P.nestedProperty(N,K);ae.get()!==re&&(ae.set(re),P.nestedProperty(F,K).set(re),U[z+"."+K]=re)}y(Y),Y("projection.scale",C.scale()/a.fitScale),Y("fitbounds",!1),I.emit("plotly_relayout",U)}function n(a,C){var y=r(a,C);function z(){g.select(this).style(v)}function I(){C.scale(g.event.scale).translate(g.event.translate),a.render(!0);var O=C.invert(a.midPt);a.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":C.scale()/a.fitScale,"geo.center.lon":O[0],"geo.center.lat":O[1]})}function B(O){var N=C.invert(a.midPt);O("center.lon",N[0]),O("center.lat",N[1])}function F(){g.select(this).style(p),s(a,C,B)}return y.on("zoomstart",z).on("zoom",I).on("zoomend",F),y}function l(a,C){var y=r(a,C),z=2,I,B,F,O,N,_,U,Y,K;function re(J){return C.invert(J)}function ae(J){var ee=re(J);if(!ee)return!0;var se=C(ee);return Math.abs(se[0]-J[0])>z||Math.abs(se[1]-J[1])>z}function fe(){g.select(this).style(v),I=g.mouse(this),B=C.rotate(),F=C.translate(),O=B,N=re(I)}function Q(){if(_=g.mouse(this),ae(I)){y.scale(C.scale()),y.translate(C.translate());return}C.scale(g.event.scale),C.translate([F[0],g.event.translate[1]]),N?re(_)&&(Y=re(_),U=[O[0]+(Y[0]-N[0]),B[1],B[2]],C.rotate(U),O=U):(I=_,N=re(I)),K=!0,a.render(!0);var J=C.rotate(),ee=C.invert(a.midPt);a.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":C.scale()/a.fitScale,"geo.center.lon":ee[0],"geo.center.lat":ee[1],"geo.projection.rotation.lon":-J[0]})}function j(){g.select(this).style(p),K&&s(a,C,X)}function X(J){var ee=C.rotate(),se=C.invert(a.midPt);J("projection.rotation.lon",-ee[0]),J("center.lon",se[0]),J("center.lat",se[1])}return y.on("zoomstart",fe).on("zoom",Q).on("zoomend",j),y}function f(a,C){C.rotate(),C.scale();var y=r(a,C),z=b(y,"zoomstart","zoom","zoomend"),I=0,B=y.on,F;y.on("zoomstart",function(){g.select(this).style(v);var Y=g.mouse(this),K=C.rotate(),re=K,ae=C.translate(),fe=m(K);F=u(C,Y),B.call(y,"zoom",function(){var Q=g.mouse(this);if(C.scale(g.event.scale),!F)Y=Q,F=u(C,Y);else if(u(C,Q)){C.rotate(K).translate(ae);var j=u(C,Q),X=w(F,j),J=T(c(fe,X)),ee=h(J,F,re);(!isFinite(ee[0])||!isFinite(ee[1])||!isFinite(ee[2]))&&(ee=re),C.rotate(ee),re=ee}N(z.of(this,arguments))}),O(z.of(this,arguments))}).on("zoomend",function(){g.select(this).style(p),B.call(y,"zoom",null),_(z.of(this,arguments)),s(a,C,U)}).on("zoom.redraw",function(){a.render(!0);var Y=C.rotate();a.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":C.scale()/a.fitScale,"geo.projection.rotation.lon":-Y[0],"geo.projection.rotation.lat":-Y[1]})});function O(Y){I++||Y({type:"zoomstart"})}function N(Y){Y({type:"zoom"})}function _(Y){--I||Y({type:"zoomend"})}function U(Y){var K=C.rotate();Y("projection.rotation.lon",-K[0]),Y("projection.rotation.lat",-K[1])}return g.rebind(y,z,"on")}function u(a,C){var y=a.invert(C);return y&&isFinite(y[0])&&isFinite(y[1])&&E(y)}function m(a){var C=.5*a[0]*L,y=.5*a[1]*L,z=.5*a[2]*L,I=Math.sin(C),B=Math.cos(C),F=Math.sin(y),O=Math.cos(y),N=Math.sin(z),_=Math.cos(z);return[B*O*_+I*F*N,I*O*_-B*F*N,B*F*_+I*O*N,B*O*N-I*F*_]}function c(a,C){var y=a[0],z=a[1],I=a[2],B=a[3],F=C[0],O=C[1],N=C[2],_=C[3];return[y*F-z*O-I*N-B*_,y*O+z*F+I*_-B*N,y*N-z*_+I*F+B*O,y*_+z*N-I*O+B*F]}function w(a,C){if(!(!a||!C)){var y=S(a,C),z=Math.sqrt(x(y,y)),I=.5*Math.acos(Math.max(-1,Math.min(1,x(a,C)))),B=Math.sin(I)/z;return z&&[Math.cos(I),y[2]*B,-y[1]*B,y[0]*B]}}function h(a,C,y){var z=M(C,2,a[0]);z=M(z,1,a[1]),z=M(z,0,a[2]-y[2]);var I=C[0],B=C[1],F=C[2],O=z[0],N=z[1],_=z[2],U=Math.atan2(B,I)*A,Y=Math.sqrt(I*I+B*B),K,re;Math.abs(N)>Y?(re=(N>0?90:-90)-U,K=0):(re=Math.asin(N/Y)*A-U,K=Math.sqrt(Y*Y-N*N));var ae=180-re-2*U,fe=(Math.atan2(_,O)-Math.atan2(F,K))*A,Q=(Math.atan2(_,O)-Math.atan2(F,-K))*A,j=o(y[0],y[1],re,fe),X=o(y[0],y[1],ae,Q);return j<=X?[re,fe,y[2]]:[ae,Q,y[2]]}function o(a,C,y,z){var I=d(y-a),B=d(z-C);return Math.sqrt(I*I+B*B)}function d(a){return(a%360+540)%360-180}function M(a,C,y){var z=y*L,I=a.slice(),B=C===0?1:0,F=C===2?1:2,O=Math.cos(z),N=Math.sin(z);return I[B]=a[B]*O-a[F]*N,I[F]=a[F]*O+a[B]*N,I}function T(a){return[Math.atan2(2*(a[0]*a[1]+a[2]*a[3]),1-2*(a[1]*a[1]+a[2]*a[2]))*A,Math.asin(Math.max(-1,Math.min(1,2*(a[0]*a[2]-a[3]*a[1]))))*A,Math.atan2(2*(a[0]*a[3]+a[1]*a[2]),1-2*(a[2]*a[2]+a[3]*a[3]))*A]}function E(a){var C=a[0]*L,y=a[1]*L,z=Math.cos(y);return[z*Math.cos(C),z*Math.sin(C),Math.sin(y)]}function x(a,C){for(var y=0,z=0,I=a.length;z<I;++z)y+=a[z]*C[z];return y}function S(a,C){return[a[1]*C[2]-a[2]*C[1],a[2]*C[0]-a[0]*C[2],a[0]*C[1]-a[1]*C[0]]}function b(a){for(var C=0,y=arguments.length,z=[];++C<y;)z.push(arguments[C]);var I=g.dispatch.apply(null,z);return I.of=function(B,F){return function(O){var N;try{N=O.sourceEvent=g.event,O.target=a,g.event=O,I[O.type].apply(B,F)}finally{g.event=N}}},I}},27659:function(W,H,e){var g=e(73972),P=e(85555).SUBPLOT_PATTERN;H.AU=function(i,L,A){var v=g.subplotsRegistry[L];if(!v)return[];for(var p=v.attr,t=[],r=0;r<i.length;r++){var s=i[r],n=s[0].trace;n[p]===A&&t.push(s)}return t},H.a0=function(i,L){var A=[],v=[],p;if(typeof L=="string"?p=g.getModule(L).plot:typeof L=="function"?p=L:p=L.plot,!p)return[A,i];for(var t=0;t<i.length;t++){var r=i[t],s=r[0].trace;s.visible!==!0||s._length===0||(s._module&&s._module.plot===p?A.push(r):v.push(r))}return[A,v]},H.NG=function(L,A,v){if(!g.subplotsRegistry[A])return[];var p=g.subplotsRegistry[A].attr,t=[],r,s,n;if(A==="gl2d"){var l=v.match(P);s="x"+l[1],n="y"+l[2]}for(var f=0;f<L.length;f++)r=L[f],A==="gl2d"&&g.traceIs(r,"gl2d")?r[p[0]]===s&&r[p[1]]===n&&t.push(r):r[p]===v&&t.push(r);return t}},75071:function(W,H,e){var g=e(16825),P=e(1195),i=e(48956),L=e(85555),A=e(38520);W.exports=p;function v(t,r){this.element=t,this.plot=r,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function p(t){var r=t.mouseContainer,s=t.glplot,n=new v(r,s);function l(){t.xaxis.autorange=!1,t.yaxis.autorange=!1}function f(){for(var m=t.graphDiv._fullLayout._axisConstraintGroups,c=t.xaxis._id,w=t.yaxis._id,h=0;h<m.length;h++)if(m[h][c]!==-1){if(m[h][w]!==-1)return!0;break}return!1}n.mouseListener=g(r,u),r.addEventListener("touchstart",function(m){var c=i(m.changedTouches[0],r);u(0,c[0],c[1]),u(1,c[0],c[1]),m.preventDefault()},A?{passive:!1}:!1),r.addEventListener("touchmove",function(m){m.preventDefault();var c=i(m.changedTouches[0],r);u(1,c[0],c[1]),m.preventDefault()},A?{passive:!1}:!1),r.addEventListener("touchend",function(m){u(0,n.lastPos[0],n.lastPos[1]),m.preventDefault()},A?{passive:!1}:!1);function u(m,c,w){var h=t.calcDataBox(),o=s.viewBox,d=n.lastPos[0],M=n.lastPos[1],T=L.MINDRAG*s.pixelRatio,E=L.MINZOOM*s.pixelRatio,x,S;c*=s.pixelRatio,w*=s.pixelRatio,w=o[3]-o[1]-w;function b(B,F,O){var N=Math.min(F,O),_=Math.max(F,O);N!==_?(h[B]=N,h[B+2]=_,n.dataBox=h,t.setRanges(h)):(t.selectBox.selectBox=[0,0,1,1],t.glplot.setDirty())}switch(t.fullLayout.dragmode){case"zoom":if(m){var a=c/(o[2]-o[0])*(h[2]-h[0])+h[0],C=w/(o[3]-o[1])*(h[3]-h[1])+h[1];n.boxInited||(n.boxStart[0]=a,n.boxStart[1]=C,n.dragStart[0]=c,n.dragStart[1]=w),n.boxEnd[0]=a,n.boxEnd[1]=C,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var y=Math.abs(n.dragStart[0]-c)<E,z=Math.abs(n.dragStart[1]-w)<E;if(f()&&!(y&&z)){x=n.boxEnd[0]-n.boxStart[0],S=n.boxEnd[1]-n.boxStart[1];var I=(h[3]-h[1])/(h[2]-h[0]);Math.abs(x*I)>Math.abs(S)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(x)*I*(S>=0?1:-1),n.boxEnd[1]<h[1]?(n.boxEnd[1]=h[1],n.boxEnd[0]=n.boxStart[0]+(h[1]-n.boxStart[1])/Math.abs(I)):n.boxEnd[1]>h[3]&&(n.boxEnd[1]=h[3],n.boxEnd[0]=n.boxStart[0]+(h[3]-n.boxStart[1])/Math.abs(I))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(S)/I*(x>=0?1:-1),n.boxEnd[0]<h[0]?(n.boxEnd[0]=h[0],n.boxEnd[1]=n.boxStart[1]+(h[0]-n.boxStart[0])*Math.abs(I)):n.boxEnd[0]>h[2]&&(n.boxEnd[0]=h[2],n.boxEnd[1]=n.boxStart[1]+(h[2]-n.boxStart[0])*Math.abs(I)))}else y&&(n.boxEnd[0]=n.boxStart[0]),z&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(x=n.boxStart[0]!==n.boxEnd[0],S=n.boxStart[1]!==n.boxEnd[1],x||S?(x&&(b(0,n.boxStart[0],n.boxEnd[0]),t.xaxis.autorange=!1),S&&(b(1,n.boxStart[1],n.boxEnd[1]),t.yaxis.autorange=!1),t.relayoutCallback()):t.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,m?(n.panning||(n.dragStart[0]=c,n.dragStart[1]=w),Math.abs(n.dragStart[0]-c)<T&&(c=n.dragStart[0]),Math.abs(n.dragStart[1]-w)<T&&(w=n.dragStart[1]),x=(d-c)*(h[2]-h[0])/(s.viewBox[2]-s.viewBox[0]),S=(M-w)*(h[3]-h[1])/(s.viewBox[3]-s.viewBox[1]),h[0]+=x,h[2]+=x,h[1]+=S,h[3]+=S,t.setRanges(h),n.panning=!0,n.lastInputTime=Date.now(),l(),t.cameraChanged(),t.handleAnnotations()):n.panning&&(n.panning=!1,t.relayoutCallback());break}n.lastPos[0]=c,n.lastPos[1]=w}return n.wheelListener=P(r,function(m,c){if(!t.scrollZoom)return!1;var w=t.calcDataBox(),h=s.viewBox,o=n.lastPos[0],d=n.lastPos[1],M=Math.exp(5*c/(h[3]-h[1])),T=o/(h[2]-h[0])*(w[2]-w[0])+w[0],E=d/(h[3]-h[1])*(w[3]-w[1])+w[1];return w[0]=(w[0]-T)*M+T,w[2]=(w[2]-T)*M+T,w[1]=(w[1]-E)*M+E,w[3]=(w[3]-E)*M+E,t.setRanges(w),n.lastInputTime=Date.now(),l(),t.cameraChanged(),t.handleAnnotations(),t.relayoutCallback(),!0},!0),n}},82961:function(W,H,e){var g=e(89298),P=e(78614);function i(p){this.scene=p,this.gl=p.gl,this.pixelRatio=p.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var L=i.prototype,A=["xaxis","yaxis"];L.merge=function(p){this.titleEnable=!1,this.backgroundColor=P(p.plot_bgcolor);var t,r,s,n,l,f,u,m,c,w,h;for(w=0;w<2;++w){t=A[w];var o=t.charAt(0);for(r=p[this.scene[t]._name],s=r.title.text===this.scene.fullLayout._dfltTitle[o]?"":r.title.text,h=0;h<=2;h+=2)this.labelEnable[w+h]=!1,this.labels[w+h]=s,this.labelColor[w+h]=P(r.title.font.color),this.labelFont[w+h]=r.title.font.family,this.labelSize[w+h]=r.title.font.size,this.labelPad[w+h]=this.getLabelPad(t,r),this.tickEnable[w+h]=!1,this.tickColor[w+h]=P((r.tickfont||{}).color),this.tickAngle[w+h]=r.tickangle==="auto"?0:Math.PI*-r.tickangle/180,this.tickPad[w+h]=this.getTickPad(r),this.tickMarkLength[w+h]=0,this.tickMarkWidth[w+h]=r.tickwidth||0,this.tickMarkColor[w+h]=P(r.tickcolor),this.borderLineEnable[w+h]=!1,this.borderLineColor[w+h]=P(r.linecolor),this.borderLineWidth[w+h]=r.linewidth||0;u=this.hasSharedAxis(r),l=this.hasAxisInDfltPos(t,r)&&!u,f=this.hasAxisInAltrPos(t,r)&&!u,n=r.mirror||!1,m=u?String(n).indexOf("all")!==-1:!!n,c=u?n==="allticks":String(n).indexOf("ticks")!==-1,l?this.labelEnable[w]=!0:f&&(this.labelEnable[w+2]=!0),l?this.tickEnable[w]=r.showticklabels:f&&(this.tickEnable[w+2]=r.showticklabels),(l||m)&&(this.borderLineEnable[w]=r.showline),(f||m)&&(this.borderLineEnable[w+2]=r.showline),(l||c)&&(this.tickMarkLength[w]=this.getTickMarkLength(r)),(f||c)&&(this.tickMarkLength[w+2]=this.getTickMarkLength(r)),this.gridLineEnable[w]=r.showgrid,this.gridLineColor[w]=P(r.gridcolor),this.gridLineWidth[w]=r.gridwidth,this.zeroLineEnable[w]=r.zeroline,this.zeroLineColor[w]=P(r.zerolinecolor),this.zeroLineWidth[w]=r.zerolinewidth}},L.hasSharedAxis=function(p){var t=this.scene,r=t.fullLayout._subplots.gl2d,s=g.findSubplotsWithAxis(r,p);return s.indexOf(t.id)!==0},L.hasAxisInDfltPos=function(p,t){var r=t.side;if(p==="xaxis")return r==="bottom";if(p==="yaxis")return r==="left"},L.hasAxisInAltrPos=function(p,t){var r=t.side;if(p==="xaxis")return r==="top";if(p==="yaxis")return r==="right"},L.getLabelPad=function(p,t){var r=1.5,s=t.title.font.size,n=t.showticklabels;if(p==="xaxis")return t.side==="top"?-10+s*(r+(n?1:0)):-10+s*(r+(n?.5:0));if(p==="yaxis")return t.side==="right"?10+s*(r+(n?1:.5)):10+s*(r+(n?.5:0))},L.getTickPad=function(p){return p.ticks==="outside"?10+p.ticklen:15},L.getTickMarkLength=function(p){if(!p.ticks)return 0;var t=p.ticklen;return p.ticks==="inside"?-t:t};function v(p){return new i(p)}W.exports=v},4796:function(W,H,e){var g=e(30962).overrideAll,P=e(92918),i=e(10820),L=e(77922),A=e(85555),v=e(93612),p=e(528),t=e(27659).NG;H.name="gl2d",H.attr=["xaxis","yaxis"],H.idRoot=["x","y"],H.idRegex=A.idRegex,H.attrRegex=A.attrRegex,H.attributes=e(89502),H.supplyLayoutDefaults=function(r,s,n){s._has("cartesian")||v.supplyLayoutDefaults(r,s,n)},H.layoutAttrOverrides=g(v.layoutAttributes,"plot","from-root"),H.baseLayoutAttrOverrides=g({plot_bgcolor:i.plot_bgcolor,hoverlabel:p.hoverlabel},"plot","nested"),H.plot=function(s){for(var n=s._fullLayout,l=s._fullData,f=n._subplots.gl2d,u=0;u<f.length;u++){var m=f[u],c=n._plots[m],w=t(l,"gl2d",m),h=c._scene2d;h===void 0&&(h=new P({id:m,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio},n),c._scene2d=h),h.plot(w,s.calcdata,n,s.layout)}},H.clean=function(r,s,n,l){for(var f=l._subplots.gl2d||[],u=0;u<f.length;u++){var m=f[u],c=l._plots[m];if(c._scene2d){var w=t(r,"gl2d",m);w.length===0&&(c._scene2d.destroy(),delete l._plots[m])}}v.clean.apply(this,arguments)},H.drawFramework=function(r){r._context.staticPlot||v.drawFramework(r)},H.toSVG=function(r){for(var s=r._fullLayout,n=s._subplots.gl2d,l=0;l<n.length;l++){var f=s._plots[n[l]],u=f._scene2d,m=u.toImage("png"),c=s._glimages.append("svg:image");c.attr({xmlns:L.svg,"xlink:href":m,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),u.destroy()}},H.updateFx=function(r){for(var s=r._fullLayout,n=s._subplots.gl2d,l=0;l<n.length;l++){var f=s._plots[n[l]]._scene2d;f.updateFx(s.dragmode)}}},92918:function(W,H,e){var g=e(73972),P=e(89298),i=e(30211),L=e(9330).gl_plot2d,A=e(9330).gl_spikes2d,v=e(9330).gl_select_box,p=e(40372),t=e(82961),r=e(75071),s=e(58617),n=e(99082),l=n.enforce,f=n.clean,u=e(71739).doAutoRange,m=e(64505),c=m.drawMode,w=m.selectMode,h=["xaxis","yaxis"],o,d,M=e(85555).SUBPLOT_PATTERN;function T(S,b){this.container=S.container,this.graphDiv=S.graphDiv,this.pixelRatio=S.plotGlPixelRatio||window.devicePixelRatio,this.id=S.id,this.staticPlot=!!S.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(b),this.makeFramework(),!this.stopped&&(this.glplotOptions=t(this),this.glplotOptions.merge(b),this.glplot=L(this.glplotOptions),this.camera=r(this),this.traces={},this.spikes=A(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}W.exports=T;var E=T.prototype;E.makeFramework=function(){if(this.staticPlot){if(!d&&(o=document.createElement("canvas"),d=p({canvas:o,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!d))throw new Error("Error creating static canvas/context for image server");this.canvas=o,this.gl=d}else{var S=this.container.querySelector(".gl-canvas-focus"),b=p({canvas:S,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!b){s(this),this.stopped=!0;return}this.canvas=S,this.gl=b}var a=this.canvas;a.style.width="100%",a.style.height="100%",a.style.position="absolute",a.style.top="0px",a.style.left="0px",a.style["pointer-events"]="none",this.updateSize(a);var C=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");C.style.position="absolute",C.style.top=C.style.left="0px",C.style.width=C.style.height="100%",C.style["z-index"]=20,C.style["pointer-events"]="none";var y=this.mouseContainer=document.createElement("div");y.style.position="absolute",y.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var z=this.container;z.appendChild(C),z.appendChild(y);var I=this;y.addEventListener("mouseout",function(){I.isMouseOver=!1,I.unhover()}),y.addEventListener("mouseover",function(){I.isMouseOver=!0})},E.toImage=function(S){S||(S="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(o),this.updateSize(this.canvas);var b=this.glplot.gl,a=b.drawingBufferWidth,C=b.drawingBufferHeight;b.clearColor(1,1,1,0),b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),b.bindFramebuffer(b.FRAMEBUFFER,null);var y=new Uint8Array(a*C*4);b.readPixels(0,0,a,C,b.RGBA,b.UNSIGNED_BYTE,y);for(var z=0,I=C-1;z<I;++z,--I)for(var B=0;B<a;++B)for(var F=0;F<4;++F){var O=y[4*(a*z+B)+F];y[4*(a*z+B)+F]=y[4*(a*I+B)+F],y[4*(a*I+B)+F]=O}var N=document.createElement("canvas");N.width=a,N.height=C;var _=N.getContext("2d",{willReadFrequently:!0}),U=_.createImageData(a,C);U.data.set(y),_.putImageData(U,0,0);var Y;switch(S){case"jpeg":Y=N.toDataURL("image/jpeg");break;case"webp":Y=N.toDataURL("image/webp");break;default:Y=N.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(o),Y},E.updateSize=function(S){S||(S=this.canvas);var b=this.pixelRatio,a=this.fullLayout,C=a.width,y=a.height,z=Math.ceil(b*C)|0,I=Math.ceil(b*y)|0;return(S.width!==z||S.height!==I)&&(S.width=z,S.height=I),S},E.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var S=[P.calcTicks(this.xaxis),P.calcTicks(this.yaxis)],b=0;b<2;++b)for(var a=0;a<S[b].length;++a)S[b][a].text=S[b][a].text+"";return S};function x(S,b){for(var a=0;a<2;++a){var C=S[a],y=b[a];if(C.length!==y.length)return!0;for(var z=0;z<C.length;++z)if(C[z].x!==y[z].x)return!0}return!1}E.updateRefs=function(S){this.fullLayout=S;var b=this.id.match(M),a="xaxis"+b[1],C="yaxis"+b[2];this.xaxis=this.fullLayout[a],this.yaxis=this.fullLayout[C]},E.relayoutCallback=function(){var S=this.graphDiv,b=this.xaxis,a=this.yaxis,C=S.layout,y={},z=y[b._name+".range"]=b.range.slice(),I=y[a._name+".range"]=a.range.slice();y[b._name+".autorange"]=b.autorange,y[a._name+".autorange"]=a.autorange,g.call("_storeDirectGUIEdit",S.layout,S._fullLayout._preGUI,y);var B=C[b._name];B.range=z,B.autorange=b.autorange;var F=C[a._name];F.range=I,F.autorange=a.autorange,y.lastInputTime=this.camera.lastInputTime,S.emit("plotly_relayout",y)},E.cameraChanged=function(){var S=this.camera;this.glplot.setDataBox(this.calcDataBox());var b=this.computeTickMarks(),a=this.glplotOptions.ticks;x(b,a)&&(this.glplotOptions.ticks=b,this.glplotOptions.dataBox=S.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},E.handleAnnotations=function(){for(var S=this.graphDiv,b=this.fullLayout.annotations,a=0;a<b.length;a++){var C=b[a];C.xref===this.xaxis._id&&C.yref===this.yaxis._id&&g.getComponentMethod("annotations","drawOne")(S,a)}},E.destroy=function(){if(this.glplot){var S=this.traces;S&&Object.keys(S).map(function(b){S[b].dispose(),delete S[b]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},E.plot=function(S,b,a){var C=this.glplot;this.updateRefs(a),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(S,b),this.updateFx(a.dragmode);var y=a.width,z=a.height;this.updateSize(this.canvas);var I=this.glplotOptions;I.merge(a),I.screenBox=[0,0,y,z];var B={_fullLayout:{_axisConstraintGroups:a._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:a._size}};f(B,this.xaxis),f(B,this.yaxis);var F=a._size,O=this.xaxis.domain,N=this.yaxis.domain;I.viewBox=[F.l+O[0]*F.w,F.b+N[0]*F.h,y-F.r-(1-O[1])*F.w,z-F.t-(1-N[1])*F.h],this.mouseContainer.style.width=F.w*(O[1]-O[0])+"px",this.mouseContainer.style.height=F.h*(N[1]-N[0])+"px",this.mouseContainer.height=F.h*(N[1]-N[0]),this.mouseContainer.style.left=F.l+O[0]*F.w+"px",this.mouseContainer.style.top=F.t+(1-N[1])*F.h+"px";var _,U;for(U=0;U<2;++U)_=this[h[U]],_._length=I.viewBox[U+2]-I.viewBox[U],u(this.graphDiv,_),_.setScale();l(B),I.ticks=this.computeTickMarks(),I.dataBox=this.calcDataBox(),I.merge(a),C.update(I),this.glplot.draw()},E.calcDataBox=function(){var S=this.xaxis,b=this.yaxis,a=S.range,C=b.range,y=S.r2l,z=b.r2l;return[y(a[0]),z(C[0]),y(a[1]),z(C[1])]},E.setRanges=function(S){var b=this.xaxis,a=this.yaxis,C=b.l2r,y=a.l2r;b.range=[C(S[0]),C(S[2])],a.range=[y(S[1]),y(S[3])]},E.updateTraces=function(S,b){var a=Object.keys(this.traces),C,y,z;this.fullData=S;e:for(C=0;C<a.length;C++){var I=a[C],B=this.traces[I];for(y=0;y<S.length;y++)if(z=S[y],z.uid===I&&z.type===B.type)continue e;B.dispose(),delete this.traces[I]}for(C=0;C<S.length;C++){z=S[C];var F=b[C],O=this.traces[z.uid];O?O.update(z,F):(O=z._module.plot(this,z,F),this.traces[z.uid]=O)}this.glplot.objects.sort(function(N,_){return N._trace.index-_._trace.index})},E.updateFx=function(S){w(S)||c(S)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),S==="pan"?this.mouseContainer.style.cursor="move":S==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},E.emitPointAction=function(S,b){for(var a=S.trace.uid,C=S.pointIndex,y,z=0;z<this.fullData.length;z++)this.fullData[z].uid===a&&(y=this.fullData[z]);var I={x:S.traceCoord[0],y:S.traceCoord[1],curveNumber:y.index,pointNumber:C,data:y._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};i.appendArrayPointValue(I,y,C),this.graphDiv.emit(b,{points:[I]})},E.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var S=this.glplot,b=this.camera,a=b.mouseListener,C=this.lastButtonState===1&&a.buttons===0,y=this.fullLayout;this.lastButtonState=a.buttons,this.cameraChanged();var z=a.x*S.pixelRatio,I=this.canvas.height-S.pixelRatio*a.y,B;if(b.boxEnabled&&y.dragmode==="zoom"){this.selectBox.enabled=!0;for(var F=this.selectBox.selectBox=[Math.min(b.boxStart[0],b.boxEnd[0]),Math.min(b.boxStart[1],b.boxEnd[1]),Math.max(b.boxStart[0],b.boxEnd[0]),Math.max(b.boxStart[1],b.boxEnd[1])],O=0;O<2;O++)b.boxStart[O]===b.boxEnd[O]&&(F[O]=S.dataBox[O],F[O+2]=S.dataBox[O+2]);S.setDirty()}else if(!b.panning&&this.isMouseOver){this.selectBox.enabled=!1;var N=y._size,_=this.xaxis.domain,U=this.yaxis.domain;B=S.pick(z/S.pixelRatio+N.l+_[0]*N.w,I/S.pixelRatio-(N.t+(1-U[1])*N.h));var Y=B&&B.object._trace.handlePick(B);if(Y&&C&&this.emitPointAction(Y,"plotly_click"),B&&B.object._trace.hoverinfo!=="skip"&&y.hovermode&&Y&&(!this.lastPickResult||this.lastPickResult.traceUid!==Y.trace.uid||this.lastPickResult.dataCoord[0]!==Y.dataCoord[0]||this.lastPickResult.dataCoord[1]!==Y.dataCoord[1])){var K=Y;this.lastPickResult={traceUid:Y.trace?Y.trace.uid:null,dataCoord:Y.dataCoord.slice()},this.spikes.update({center:B.dataCoord}),K.screenCoord=[((S.viewBox[2]-S.viewBox[0])*(B.dataCoord[0]-S.dataBox[0])/(S.dataBox[2]-S.dataBox[0])+S.viewBox[0])/S.pixelRatio,(this.canvas.height-(S.viewBox[3]-S.viewBox[1])*(B.dataCoord[1]-S.dataBox[1])/(S.dataBox[3]-S.dataBox[1])-S.viewBox[1])/S.pixelRatio],this.emitPointAction(Y,"plotly_hover");var re=this.fullData[K.trace.index]||{},ae=K.pointIndex,fe=i.castHoverinfo(re,y,ae);if(fe&&fe!=="all"){var Q=fe.split("+");Q.indexOf("x")===-1&&(K.traceCoord[0]=void 0),Q.indexOf("y")===-1&&(K.traceCoord[1]=void 0),Q.indexOf("z")===-1&&(K.traceCoord[2]=void 0),Q.indexOf("text")===-1&&(K.textLabel=void 0),Q.indexOf("name")===-1&&(K.name=void 0)}i.loneHover({x:K.screenCoord[0],y:K.screenCoord[1],xLabel:this.hoverFormatter("xaxis",K.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",K.traceCoord[1]),zLabel:K.traceCoord[2],text:K.textLabel,name:K.name,color:i.castHoverOption(re,ae,"bgcolor")||K.color,borderColor:i.castHoverOption(re,ae,"bordercolor"),fontFamily:i.castHoverOption(re,ae,"font.family"),fontSize:i.castHoverOption(re,ae,"font.size"),fontColor:i.castHoverOption(re,ae,"font.color"),nameLength:i.castHoverOption(re,ae,"namelength"),textAlign:i.castHoverOption(re,ae,"align")},{container:this.svgContainer,gd:this.graphDiv})}}B||this.unhover(),S.draw()}},E.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),i.loneUnhover(this.svgContainer))},E.hoverFormatter=function(S,b){if(b!==void 0){var a=this[S];return P.tickText(a,a.c2l(b),"hover").text}}},58547:function(W,H,e){var g=e(30962).overrideAll,P=e(528),i=e(33539),L=e(27659).NG,A=e(71828),v=e(77922),p="gl3d",t="scene";H.name=p,H.attr=t,H.idRoot=t,H.idRegex=H.attrRegex=A.counterRegex("scene"),H.attributes=e(59084),H.layoutAttributes=e(65500),H.baseLayoutAttrOverrides=g({hoverlabel:P.hoverlabel},"plot","nested"),H.supplyLayoutDefaults=e(24682),H.plot=function(s){for(var n=s._fullLayout,l=s._fullData,f=n._subplots[p],u=0;u<f.length;u++){var m=f[u],c=L(l,p,m),w=n[m],h=w.camera,o=w._scene;o||(o=new i({id:m,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio,camera:h},n),w._scene=o),o.viewInitial||(o.viewInitial={up:{x:h.up.x,y:h.up.y,z:h.up.z},eye:{x:h.eye.x,y:h.eye.y,z:h.eye.z},center:{x:h.center.x,y:h.center.y,z:h.center.z}}),o.plot(c,n,s.layout)}},H.clean=function(r,s,n,l){for(var f=l._subplots[p]||[],u=0;u<f.length;u++){var m=f[u];!s[m]&&l[m]._scene&&(l[m]._scene.destroy(),l._infolayer&&l._infolayer.selectAll(".annotation-"+m).remove())}},H.toSVG=function(r){for(var s=r._fullLayout,n=s._subplots[p],l=s._size,f=0;f<n.length;f++){var u=s[n[f]],m=u.domain,c=u._scene,w=c.toImage("png"),h=s._glimages.append("svg:image");h.attr({xmlns:v.svg,"xlink:href":w,x:l.l+l.w*m.x[0],y:l.t+l.h*(1-m.y[1]),width:l.w*(m.x[1]-m.x[0]),height:l.h*(m.y[1]-m.y[0]),preserveAspectRatio:"none"}),c.destroy()}},H.cleanId=function(s){if(s.match(/^scene[0-9]*$/)){var n=s.substr(5);return n==="1"&&(n=""),t+n}},H.updateFx=function(r){for(var s=r._fullLayout,n=s._subplots[p],l=0;l<n.length;l++){var f=s[n[l]]._scene;f.updateFx(s.dragmode,s.hovermode)}}},59084:function(W){W.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(W,H,e){var g=e(7901),P=e(13838),i=e(1426).extendFlat,L=e(30962).overrideAll;W.exports=L({visible:P.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:g.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:P.color,categoryorder:P.categoryorder,categoryarray:P.categoryarray,title:{text:P.title.text,font:P.title.font},type:i({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorange:P.autorange,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},rangemode:P.rangemode,minallowed:P.minallowed,maxallowed:P.maxallowed,range:i({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,mirror:P.mirror,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,tickfont:P.tickfont,tickangle:P.tickangle,tickprefix:P.tickprefix,showtickprefix:P.showtickprefix,ticksuffix:P.ticksuffix,showticksuffix:P.showticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickformat:P.tickformat,tickformatstops:P.tickformatstops,hoverformat:P.hoverformat,showline:P.showline,linecolor:P.linecolor,linewidth:P.linewidth,showgrid:P.showgrid,gridcolor:i({},P.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:P.gridwidth,zeroline:P.zeroline,zerolinecolor:P.zerolinecolor,zerolinewidth:P.zerolinewidth,_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}},"plot","from-root")},3277:function(W,H,e){var g=e(84267).mix,P=e(71828),i=e(44467),L=e(77894),A=e(951),v=e(71453),p=["xaxis","yaxis","zaxis"],t=100*(204-68)/(255-68);W.exports=function(s,n,l){var f,u;function m(h,o){return P.coerce(f,u,L,h,o)}for(var c=0;c<p.length;c++){var w=p[c];f=s[w]||{},u=i.newContainer(n,w),u._id=w[0]+l.scene,u._name=w,A(f,u,m,l),v(f,u,m,{font:l.font,letter:w[0],data:l.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:l.bgColor,calendar:l.calendar},l.fullLayout),m("gridcolor",g(u.color,l.bgColor,t).toRgbString()),m("title.text",w[0]),u.setScale=P.noop,m("showspikes")&&(m("spikesides"),m("spikethickness"),m("spikecolor",u.color)),m("showaxeslabels"),m("showbackground")&&m("backgroundcolor")}}},30422:function(W,H,e){var g=e(78614),P=e(71828),i=["xaxis","yaxis","zaxis"];function L(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var A=L.prototype;A.merge=function(p,t){for(var r=this,s=0;s<3;++s){var n=t[i[s]];if(!n.visible){r.tickEnable[s]=!1,r.labelEnable[s]=!1,r.lineEnable[s]=!1,r.lineTickEnable[s]=!1,r.gridEnable[s]=!1,r.zeroEnable[s]=!1,r.backgroundEnable[s]=!1;continue}r.labels[s]=p._meta?P.templateString(n.title.text,p._meta):n.title.text,"font"in n.title&&(n.title.font.color&&(r.labelColor[s]=g(n.title.font.color)),n.title.font.family&&(r.labelFont[s]=n.title.font.family),n.title.font.size&&(r.labelSize[s]=n.title.font.size)),"showline"in n&&(r.lineEnable[s]=n.showline),"linecolor"in n&&(r.lineColor[s]=g(n.linecolor)),"linewidth"in n&&(r.lineWidth[s]=n.linewidth),"showgrid"in n&&(r.gridEnable[s]=n.showgrid),"gridcolor"in n&&(r.gridColor[s]=g(n.gridcolor)),"gridwidth"in n&&(r.gridWidth[s]=n.gridwidth),n.type==="log"?r.zeroEnable[s]=!1:"zeroline"in n&&(r.zeroEnable[s]=n.zeroline),"zerolinecolor"in n&&(r.zeroLineColor[s]=g(n.zerolinecolor)),"zerolinewidth"in n&&(r.zeroLineWidth[s]=n.zerolinewidth),"ticks"in n&&n.ticks?r.lineTickEnable[s]=!0:r.lineTickEnable[s]=!1,"ticklen"in n&&(r.lineTickLength[s]=r._defaultLineTickLength[s]=n.ticklen),"tickcolor"in n&&(r.lineTickColor[s]=g(n.tickcolor)),"tickwidth"in n&&(r.lineTickWidth[s]=n.tickwidth),"tickangle"in n&&(r.tickAngle[s]=n.tickangle==="auto"?-3600:Math.PI*-n.tickangle/180),"showticklabels"in n&&(r.tickEnable[s]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(r.tickColor[s]=g(n.tickfont.color)),n.tickfont.family&&(r.tickFont[s]=n.tickfont.family),n.tickfont.size&&(r.tickSize[s]=n.tickfont.size)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(r.lineTickMirror[s]=!0,r.lineMirror[s]=!0):n.mirror===!0?(r.lineTickMirror[s]=!1,r.lineMirror[s]=!0):(r.lineTickMirror[s]=!1,r.lineMirror[s]=!1):r.lineMirror[s]=!1,"showbackground"in n&&n.showbackground!==!1?(r.backgroundEnable[s]=!0,r.backgroundColor[s]=g(n.backgroundcolor)):r.backgroundEnable[s]=!1}};function v(p,t){var r=new L;return r.merge(p,t),r}W.exports=v},24682:function(W,H,e){var g=e(71828),P=e(7901),i=e(73972),L=e(49119),A=e(3277),v=e(65500),p=e(27659).NG,t="gl3d";W.exports=function(n,l,f){var u=l._basePlotModules.length>1;function m(c){if(!u){var w=g.validate(n[c],v[c]);if(w)return n[c]}}L(n,l,f,{type:t,attributes:v,handleDefaults:r,fullLayout:l,font:l.font,fullData:f,getDfltFromLayout:m,autotypenumbersDflt:l.autotypenumbers,paper_bgcolor:l.paper_bgcolor,calendar:l.calendar})};function r(s,n,l,f){for(var u=l("bgcolor"),m=P.combine(u,f.paper_bgcolor),c=["up","center","eye"],w=0;w<c.length;w++)l("camera."+c[w]+".x"),l("camera."+c[w]+".y"),l("camera."+c[w]+".z");l("camera.projection.type");var h=!!l("aspectratio.x")&&!!l("aspectratio.y")&&!!l("aspectratio.z"),o=h?"manual":"auto",d=l("aspectmode",o);h||(s.aspectratio=n.aspectratio={x:1,y:1,z:1},d==="manual"&&(n.aspectmode="auto"),s.aspectmode=n.aspectmode);var M=p(f.fullData,t,f.id);A(s,n,{font:f.font,scene:f.id,data:M,bgColor:m,calendar:f.calendar,autotypenumbersDflt:f.autotypenumbersDflt,fullLayout:f.fullLayout}),i.getComponentMethod("annotations3d","handleDefaults")(s,n,f);var T=f.getDfltFromLayout("dragmode");if(T!==!1&&!T)if(T="orbit",s.camera&&s.camera.up){var E=s.camera.up.x,x=s.camera.up.y,S=s.camera.up.z;S!==0&&(!E||!x||!S||S/Math.sqrt(E*E+x*x+S*S)>.999)&&(T="turntable")}else T="turntable";l("dragmode",T),l("hovermode",f.getDfltFromLayout("hovermode"))}},65500:function(W,H,e){var g=e(77894),P=e(27670).Y,i=e(1426).extendFlat,L=e(71828).counterRegex;function A(v,p,t){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:p,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}W.exports={_arrayAttrRegexps:[L("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:i(A(0,0,1),{}),center:i(A(0,0,0),{}),eye:i(A(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:P({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:g,yaxis:g,zaxis:g,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(W,H,e){var g=e(78614),P=["xaxis","yaxis","zaxis"];function i(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var L=i.prototype;L.merge=function(v){for(var p=0;p<3;++p){var t=v[P[p]];if(!t.visible){this.enabled[p]=!1,this.drawSides[p]=!1;continue}this.enabled[p]=t.showspikes,this.colors[p]=g(t.spikecolor),this.drawSides[p]=t.spikesides,this.lineWidth[p]=t.spikethickness}};function A(v){var p=new i;return p.merge(v),p}W.exports=A},96085:function(W,H,e){W.exports=A;var g=e(89298),P=e(71828),i=["xaxis","yaxis","zaxis"];function L(v){for(var p=new Array(3),t=0;t<3;++t){for(var r=v[t],s=new Array(r.length),n=0;n<r.length;++n)s[n]=r[n].x;p[t]=s}return p}function A(v){for(var p=v.axesOptions,t=v.glplot.axesPixels,r=v.fullSceneLayout,s=[[],[],[]],n=0;n<3;++n){var l=r[i[n]];if(l._length=(t[n].hi-t[n].lo)*t[n].pixelsPerDataUnit/v.dataScale[n],Math.abs(l._length)===1/0||isNaN(l._length))s[n]=[];else{l._input_range=l.range.slice(),l.range[0]=t[n].lo/v.dataScale[n],l.range[1]=t[n].hi/v.dataScale[n],l._m=1/(v.dataScale[n]*t[n].pixelsPerDataUnit),l.range[0]===l.range[1]&&(l.range[0]-=1,l.range[1]+=1);var f=l.tickmode;if(l.tickmode==="auto"){l.tickmode="linear";var u=l.nticks||P.constrain(l._length/40,4,9);g.autoTicks(l,Math.abs(l.range[1]-l.range[0])/u)}for(var m=g.calcTicks(l,{msUTC:!0}),c=0;c<m.length;++c)m[c].x=m[c].x*v.dataScale[n],l.type==="date"&&(m[c].text=m[c].text.replace(/\<br\>/g," "));s[n]=m,l.tickmode=f}}p.ticks=s;for(var n=0;n<3;++n){.5*(v.glplot.bounds[0][n]+v.glplot.bounds[1][n]);for(var c=0;c<2;++c)p.bounds[c][n]=v.glplot.bounds[c][n]}v.contourLevels=L(s)}},63538:function(W){function H(g,P){var i=[0,0,0,0],L,A;for(L=0;L<4;++L)for(A=0;A<4;++A)i[A]+=g[4*L+A]*P[L];return i}function e(g,P){var i=H(g.projection,H(g.view,H(g.model,[P[0],P[1],P[2],1])));return i}W.exports=e},33539:function(W,H,e){var g=e(9330).gl_plot3d,P=g.createCamera,i=g.createScene,L=e(40372),A=e(38520),v=e(73972),p=e(71828),t=p.preserveDrawingBuffer(),r=e(89298),s=e(30211),n=e(78614),l=e(58617),f=e(63538),u=e(30422),m=e(13133),c=e(96085),w=e(71739).applyAutorangeOptions,h,o,d=!1;function M(I,B){var F=document.createElement("div"),O=I.container;this.graphDiv=I.graphDiv;var N=document.createElementNS("http://www.w3.org/2000/svg","svg");N.style.position="absolute",N.style.top=N.style.left="0px",N.style.width=N.style.height="100%",N.style["z-index"]=20,N.style["pointer-events"]="none",F.appendChild(N),this.svgContainer=N,F.id=I.id,F.style.position="absolute",F.style.top=F.style.left="0px",F.style.width=F.style.height="100%",O.appendChild(F),this.fullLayout=B,this.id=I.id||"scene",this.fullSceneLayout=B[this.id],this.plotArgs=[[],{},{}],this.axesOptions=u(B,B[this.id]),this.spikeOptions=m(B[this.id]),this.container=F,this.staticMode=!!I.staticPlot,this.pixelRatio=this.pixelRatio||I.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var T=M.prototype;T.prepareOptions=function(){var I=this,B={canvas:I.canvas,gl:I.gl,glOptions:{preserveDrawingBuffer:t,premultipliedAlpha:!0,antialias:!0},container:I.container,axes:I.axesOptions,spikes:I.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:I.camera,pixelRatio:I.pixelRatio};if(I.staticMode){if(!o&&(h=document.createElement("canvas"),o=L({canvas:h,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!o))throw new Error("error creating static canvas/context for image server");B.gl=o,B.canvas=h}return B};var E=!0;T.tryCreatePlot=function(){var I=this,B=I.prepareOptions(),F=!0;try{I.glplot=i(B)}catch{if(I.staticMode||!E||t)F=!1;else{p.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{t=B.glOptions.preserveDrawingBuffer=!0,I.glplot=i(B)}catch{t=B.glOptions.preserveDrawingBuffer=!1,F=!1}}}return E=!1,F},T.initializeGLCamera=function(){var I=this,B=I.fullSceneLayout.camera,F=B.projection.type==="orthographic";I.camera=P(I.container,{center:[B.center.x,B.center.y,B.center.z],eye:[B.eye.x,B.eye.y,B.eye.z],up:[B.up.x,B.up.y,B.up.z],_ortho:F,zoomMin:.01,zoomMax:100,mode:"orbit"})},T.initializeGLPlot=function(){var I=this;I.initializeGLCamera();var B=I.tryCreatePlot();if(!B)return l(I);I.traces={},I.make4thDimension();var F=I.graphDiv,O=F.layout,N=function(){var U={};return I.isCameraChanged(O)&&(U[I.id+".camera"]=I.getCamera()),I.isAspectChanged(O)&&(U[I.id+".aspectratio"]=I.glplot.getAspectratio(),O[I.id].aspectmode!=="manual"&&(I.fullSceneLayout.aspectmode=O[I.id].aspectmode=U[I.id+".aspectmode"]="manual")),U},_=function(U){if(U.fullSceneLayout.dragmode!==!1){var Y=N();U.saveLayout(O),U.graphDiv.emit("plotly_relayout",Y)}};return I.glplot.canvas&&(I.glplot.canvas.addEventListener("mouseup",function(){_(I)}),I.glplot.canvas.addEventListener("touchstart",function(){d=!0}),I.glplot.canvas.addEventListener("wheel",function(U){if(F._context._scrollZoom.gl3d){if(I.camera._ortho){var Y=U.deltaX>U.deltaY?1.1:.9090909090909091,K=I.glplot.getAspectratio();I.glplot.setAspectratio({x:Y*K.x,y:Y*K.y,z:Y*K.z})}_(I)}},A?{passive:!1}:!1),I.glplot.canvas.addEventListener("mousemove",function(){if(I.fullSceneLayout.dragmode!==!1&&I.camera.mouseListener.buttons!==0){var U=N();I.graphDiv.emit("plotly_relayouting",U)}}),I.staticMode||I.glplot.canvas.addEventListener("webglcontextlost",function(U){F&&F.emit&&F.emit("plotly_webglcontextlost",{event:U,layer:I.id})},!1)),I.glplot.oncontextloss=function(){I.recoverContext()},I.glplot.onrender=function(){I.render()},!0},T.render=function(){var I=this,B=I.graphDiv,F,O=I.svgContainer,N=I.container.getBoundingClientRect();B._fullLayout._calcInverseTransform(B);var _=B._fullLayout._invScaleX,U=B._fullLayout._invScaleY,Y=N.width*_,K=N.height*U;O.setAttributeNS(null,"viewBox","0 0 "+Y+" "+K),O.setAttributeNS(null,"width",Y),O.setAttributeNS(null,"height",K),c(I),I.glplot.axes.update(I.axesOptions);for(var re=Object.keys(I.traces),ae=null,fe=I.glplot.selection,Q=0;Q<re.length;++Q)F=I.traces[re[Q]],F.data.hoverinfo!=="skip"&&F.handlePick(fe)&&(ae=F),F.setContourLevels&&F.setContourLevels();function j(Oe,Be,Ce){var xe=I.fullSceneLayout[Oe+"axis"];return xe.type!=="log"&&(Be=xe.d2l(Be)),r.hoverLabelText(xe,Be,Ce)}if(ae!==null){var X=f(I.glplot.cameraParams,fe.dataCoordinate);F=ae.data;var J=B._fullData[F.index],ee=fe.index,se={xLabel:j("x",fe.traceCoordinate[0],F.xhoverformat),yLabel:j("y",fe.traceCoordinate[1],F.yhoverformat),zLabel:j("z",fe.traceCoordinate[2],F.zhoverformat)},q=s.castHoverinfo(J,I.fullLayout,ee),$=(q||"").split("+"),le=q&&q==="all";!J.hovertemplate&&!le&&($.indexOf("x")===-1&&(se.xLabel=void 0),$.indexOf("y")===-1&&(se.yLabel=void 0),$.indexOf("z")===-1&&(se.zLabel=void 0),$.indexOf("text")===-1&&(fe.textLabel=void 0),$.indexOf("name")===-1&&(ae.name=void 0));var ie,ce=[];F.type==="cone"||F.type==="streamtube"?(se.uLabel=j("x",fe.traceCoordinate[3],F.uhoverformat),(le||$.indexOf("u")!==-1)&&ce.push("u: "+se.uLabel),se.vLabel=j("y",fe.traceCoordinate[4],F.vhoverformat),(le||$.indexOf("v")!==-1)&&ce.push("v: "+se.vLabel),se.wLabel=j("z",fe.traceCoordinate[5],F.whoverformat),(le||$.indexOf("w")!==-1)&&ce.push("w: "+se.wLabel),se.normLabel=fe.traceCoordinate[6].toPrecision(3),(le||$.indexOf("norm")!==-1)&&ce.push("norm: "+se.normLabel),F.type==="streamtube"&&(se.divergenceLabel=fe.traceCoordinate[7].toPrecision(3),(le||$.indexOf("divergence")!==-1)&&ce.push("divergence: "+se.divergenceLabel)),fe.textLabel&&ce.push(fe.textLabel),ie=ce.join("<br>")):F.type==="isosurface"||F.type==="volume"?(se.valueLabel=r.hoverLabelText(I._mockAxis,I._mockAxis.d2l(fe.traceCoordinate[3]),F.valuehoverformat),ce.push("value: "+se.valueLabel),fe.textLabel&&ce.push(fe.textLabel),ie=ce.join("<br>")):ie=fe.textLabel;var me={x:fe.traceCoordinate[0],y:fe.traceCoordinate[1],z:fe.traceCoordinate[2],data:J._input,fullData:J,curveNumber:J.index,pointNumber:ee};s.appendArrayPointValue(me,J,ee),F._module.eventData&&(me=J._module.eventData(me,fe,J,{},ee));var Me={points:[me]};if(I.fullSceneLayout.hovermode){var we=[];s.loneHover({trace:J,x:(.5+.5*X[0]/X[3])*Y,y:(.5-.5*X[1]/X[3])*K,xLabel:se.xLabel,yLabel:se.yLabel,zLabel:se.zLabel,text:ie,name:ae.name,color:s.castHoverOption(J,ee,"bgcolor")||ae.color,borderColor:s.castHoverOption(J,ee,"bordercolor"),fontFamily:s.castHoverOption(J,ee,"font.family"),fontSize:s.castHoverOption(J,ee,"font.size"),fontColor:s.castHoverOption(J,ee,"font.color"),nameLength:s.castHoverOption(J,ee,"namelength"),textAlign:s.castHoverOption(J,ee,"align"),hovertemplate:p.castOption(J,ee,"hovertemplate"),hovertemplateLabels:p.extendFlat({},me,se),eventData:[me]},{container:O,gd:B,inOut_bbox:we}),me.bbox=we[0]}fe.distance<5&&(fe.buttons||d)?B.emit("plotly_click",Me):B.emit("plotly_hover",Me),this.oldEventData=Me}else s.loneUnhover(O),this.oldEventData&&B.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;I.drawAnnotations(I)},T.recoverContext=function(){var I=this;I.glplot.dispose();var B=function(){if(I.glplot.gl.isContextLost()){requestAnimationFrame(B);return}if(!I.initializeGLPlot()){p.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}I.plot.apply(I,I.plotArgs)};requestAnimationFrame(B)};var x=["xaxis","yaxis","zaxis"];function S(I,B,F){for(var O=I.fullSceneLayout,N=0;N<3;N++){var _=x[N],U=_.charAt(0),Y=O[_],K=B[U],re=B[U+"calendar"],ae=B["_"+U+"length"];if(!p.isArrayOrTypedArray(K))F[0][N]=Math.min(F[0][N],0),F[1][N]=Math.max(F[1][N],ae-1);else for(var fe,Q=0;Q<(ae||K.length);Q++)if(p.isArrayOrTypedArray(K[Q]))for(var j=0;j<K[Q].length;++j)fe=Y.d2l(K[Q][j],0,re),!isNaN(fe)&&isFinite(fe)&&(F[0][N]=Math.min(F[0][N],fe),F[1][N]=Math.max(F[1][N],fe));else fe=Y.d2l(K[Q],0,re),!isNaN(fe)&&isFinite(fe)&&(F[0][N]=Math.min(F[0][N],fe),F[1][N]=Math.max(F[1][N],fe))}}function b(I,B){for(var F=I.fullSceneLayout,O=F.annotations||[],N=0;N<3;N++)for(var _=x[N],U=_.charAt(0),Y=F[_],K=0;K<O.length;K++){var re=O[K];if(re.visible){var ae=Y.r2l(re[U]);!isNaN(ae)&&isFinite(ae)&&(B[0][N]=Math.min(B[0][N],ae),B[1][N]=Math.max(B[1][N],ae))}}}T.plot=function(I,B,F){var O=this;if(O.plotArgs=[I,B,F],!O.glplot.contextLost){var N,_,U,Y,K,re,ae=B[O.id],fe=F[O.id];O.fullLayout=B,O.fullSceneLayout=ae,O.axesOptions.merge(B,ae),O.spikeOptions.merge(ae),O.setViewport(ae),O.updateFx(ae.dragmode,ae.hovermode),O.camera.enableWheel=O.graphDiv._context._scrollZoom.gl3d,O.glplot.setClearColor(n(ae.bgcolor)),O.setConvert(K),I?Array.isArray(I)||(I=[I]):I=[];var Q=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(U=0;U<I.length;++U)N=I[U],!(N.visible!==!0||N._length===0)&&S(this,N,Q);b(this,Q);var j=[1,1,1];for(Y=0;Y<3;++Y)Q[1][Y]===Q[0][Y]?j[Y]=1:j[Y]=1/(Q[1][Y]-Q[0][Y]);for(O.dataScale=j,O.convertAnnotations(this),U=0;U<I.length;++U)N=I[U],!(N.visible!==!0||N._length===0)&&(_=O.traces[N.uid],_?_.data.type===N.type?_.update(N):(_.dispose(),_=N._module.plot(this,N),O.traces[N.uid]=_):(_=N._module.plot(this,N),O.traces[N.uid]=_),_.name=N.name);var X=Object.keys(O.traces);e:for(U=0;U<X.length;++U){for(Y=0;Y<I.length;++Y)if(I[Y].uid===X[U]&&I[Y].visible===!0&&I[Y]._length!==0)continue e;_=O.traces[X[U]],_.dispose(),delete O.traces[X[U]]}O.glplot.objects.sort(function(et,tt){return et._trace.data.index-tt._trace.data.index});var J=[[0,0,0],[0,0,0]],ee={};for(U=0;U<3;++U){K=ae[x[U]],re=K.type,re in ee?(ee[re].acc*=j[U],ee[re].count+=1):ee[re]={acc:j[U],count:1};var se;if(K.autorange){J[0][U]=1/0,J[1][U]=-1/0;var q=O.glplot.objects,$=O.fullSceneLayout.annotations||[],le=K._name.charAt(0);for(Y=0;Y<q.length;Y++){var ie=q[Y],ce=ie.bounds,me=ie._trace.data._pad||0;ie.constructor.name==="ErrorBars"&&K._lowerLogErrorBound?J[0][U]=Math.min(J[0][U],K._lowerLogErrorBound):J[0][U]=Math.min(J[0][U],ce[0][U]/j[U]-me),J[1][U]=Math.max(J[1][U],ce[1][U]/j[U]+me)}for(Y=0;Y<$.length;Y++){var Me=$[Y];if(Me.visible){var we=K.r2l(Me[le]);J[0][U]=Math.min(J[0][U],we),J[1][U]=Math.max(J[1][U],we)}}if("rangemode"in K&&K.rangemode==="tozero"&&(J[0][U]=Math.min(J[0][U],0),J[1][U]=Math.max(J[1][U],0)),J[0][U]>J[1][U])J[0][U]=-1,J[1][U]=1;else{var Oe=J[1][U]-J[0][U];J[0][U]-=Oe/32,J[1][U]+=Oe/32}if(se=[J[0][U],J[1][U]],se=w(se,K),J[0][U]=se[0],J[1][U]=se[1],K.isReversed()){var Be=J[0][U];J[0][U]=J[1][U],J[1][U]=Be}}else se=K.range,J[0][U]=K.r2l(se[0]),J[1][U]=K.r2l(se[1]);J[0][U]===J[1][U]&&(J[0][U]-=1,J[1][U]+=1),K.range=[J[0][U],J[1][U]],K.limitRange(),O.glplot.setBounds(U,{min:K.range[0]*j[U],max:K.range[1]*j[U]})}var Ce,xe=ae.aspectmode;if(xe==="cube")Ce=[1,1,1];else if(xe==="manual"){var Se=ae.aspectratio;Ce=[Se.x,Se.y,Se.z]}else if(xe==="auto"||xe==="data"){var He=[1,1,1];for(U=0;U<3;++U){K=ae[x[U]],re=K.type;var Ge=ee[re];He[U]=Math.pow(Ge.acc,1/Ge.count)/j[U]}xe==="data"||Math.max.apply(null,He)/Math.min.apply(null,He)<=4?Ce=He:Ce=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");ae.aspectratio.x=fe.aspectratio.x=Ce[0],ae.aspectratio.y=fe.aspectratio.y=Ce[1],ae.aspectratio.z=fe.aspectratio.z=Ce[2],O.glplot.setAspectratio(ae.aspectratio),O.viewInitial.aspectratio||(O.viewInitial.aspectratio={x:ae.aspectratio.x,y:ae.aspectratio.y,z:ae.aspectratio.z}),O.viewInitial.aspectmode||(O.viewInitial.aspectmode=ae.aspectmode);var ke=ae.domain||null,We=B._size||null;if(ke&&We){var it=O.container.style;it.position="absolute",it.left=We.l+ke.x[0]*We.w+"px",it.top=We.t+(1-ke.y[1])*We.h+"px",it.width=We.w*(ke.x[1]-ke.x[0])+"px",it.height=We.h*(ke.y[1]-ke.y[0])+"px"}O.glplot.redraw()}},T.destroy=function(){var I=this;I.glplot&&(I.camera.mouseListener.enabled=!1,I.container.removeEventListener("wheel",I.camera.wheelListener),I.camera=null,I.glplot.dispose(),I.container.parentNode.removeChild(I.container),I.glplot=null)};function a(I){return[[I.eye.x,I.eye.y,I.eye.z],[I.center.x,I.center.y,I.center.z],[I.up.x,I.up.y,I.up.z]]}function C(I){return{up:{x:I.up[0],y:I.up[1],z:I.up[2]},center:{x:I.center[0],y:I.center[1],z:I.center[2]},eye:{x:I.eye[0],y:I.eye[1],z:I.eye[2]},projection:{type:I._ortho===!0?"orthographic":"perspective"}}}T.getCamera=function(){var I=this;return I.camera.view.recalcMatrix(I.camera.view.lastT()),C(I.camera)},T.setViewport=function(I){var B=this,F=I.camera;B.camera.lookAt.apply(this,a(F)),B.glplot.setAspectratio(I.aspectratio);var O=F.projection.type==="orthographic",N=B.camera._ortho;O!==N&&(B.glplot.redraw(),B.glplot.clearRGBA(),B.glplot.dispose(),B.initializeGLPlot())},T.isCameraChanged=function(I){var B=this,F=B.getCamera(),O=p.nestedProperty(I,B.id+".camera"),N=O.get();function _(re,ae,fe,Q){var j=["up","center","eye"],X=["x","y","z"];return ae[j[fe]]&&re[j[fe]][X[Q]]===ae[j[fe]][X[Q]]}var U=!1;if(N===void 0)U=!0;else{for(var Y=0;Y<3;Y++)for(var K=0;K<3;K++)if(!_(F,N,Y,K)){U=!0;break}(!N.projection||F.projection&&F.projection.type!==N.projection.type)&&(U=!0)}return U},T.isAspectChanged=function(I){var B=this,F=B.glplot.getAspectratio(),O=p.nestedProperty(I,B.id+".aspectratio"),N=O.get();return N===void 0||N.x!==F.x||N.y!==F.y||N.z!==F.z},T.saveLayout=function(I){var B=this,F=B.fullLayout,O,N,_,U,Y,K,re=B.isCameraChanged(I),ae=B.isAspectChanged(I),fe=re||ae;if(fe){var Q={};if(re&&(O=B.getCamera(),N=p.nestedProperty(I,B.id+".camera"),_=N.get(),Q[B.id+".camera"]=_),ae&&(U=B.glplot.getAspectratio(),Y=p.nestedProperty(I,B.id+".aspectratio"),K=Y.get(),Q[B.id+".aspectratio"]=K),v.call("_storeDirectGUIEdit",I,F._preGUI,Q),re){N.set(O);var j=p.nestedProperty(F,B.id+".camera");j.set(O)}if(ae){Y.set(U);var X=p.nestedProperty(F,B.id+".aspectratio");X.set(U),B.glplot.redraw()}}return fe},T.updateFx=function(I,B){var F=this,O=F.camera;if(O)if(I==="orbit")O.mode="orbit",O.keyBindingMode="rotate";else if(I==="turntable"){O.up=[0,0,1],O.mode="turntable",O.keyBindingMode="rotate";var N=F.graphDiv,_=N._fullLayout,U=F.fullSceneLayout.camera,Y=U.up.x,K=U.up.y,re=U.up.z;if(re/Math.sqrt(Y*Y+K*K+re*re)<.999){var ae=F.id+".camera.up",fe={x:0,y:0,z:1},Q={};Q[ae]=fe;var j=N.layout;v.call("_storeDirectGUIEdit",j,_._preGUI,Q),U.up=fe,p.nestedProperty(j,ae).set(fe)}}else O.keyBindingMode=I;F.fullSceneLayout.hovermode=B};function y(I,B,F){for(var O=0,N=F-1;O<N;++O,--N)for(var _=0;_<B;++_)for(var U=0;U<4;++U){var Y=4*(B*O+_)+U,K=4*(B*N+_)+U,re=I[Y];I[Y]=I[K],I[K]=re}}function z(I,B,F){for(var O=0;O<F;++O)for(var N=0;N<B;++N){var _=4*(B*O+N),U=I[_+3];if(U>0)for(var Y=255/U,K=0;K<3;++K)I[_+K]=Math.min(Y*I[_+K],255)}}T.toImage=function(I){var B=this;I||(I="png"),B.staticMode&&B.container.appendChild(h),B.glplot.redraw();var F=B.glplot.gl,O=F.drawingBufferWidth,N=F.drawingBufferHeight;F.bindFramebuffer(F.FRAMEBUFFER,null);var _=new Uint8Array(O*N*4);F.readPixels(0,0,O,N,F.RGBA,F.UNSIGNED_BYTE,_),y(_,O,N),z(_,O,N);var U=document.createElement("canvas");U.width=O,U.height=N;var Y=U.getContext("2d",{willReadFrequently:!0}),K=Y.createImageData(O,N);K.data.set(_),Y.putImageData(K,0,0);var re;switch(I){case"jpeg":re=U.toDataURL("image/jpeg");break;case"webp":re=U.toDataURL("image/webp");break;default:re=U.toDataURL("image/png")}return B.staticMode&&B.container.removeChild(h),re},T.setConvert=function(){for(var I=this,B=0;B<3;B++){var F=I.fullSceneLayout[x[B]];r.setConvert(F,I.fullLayout),F.setScale=p.noop}},T.make4thDimension=function(){var I=this,B=I.graphDiv,F=B._fullLayout;I._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},r.setConvert(I._mockAxis,F)},W.exports=M},90060:function(W){W.exports=function(e,g,P,i){i=i||e.length;for(var L=new Array(i),A=0;A<i;A++)L[A]=[e[A],g[A],P[A]];return L}},10820:function(W,H,e){var g=e(41940),P=e(85594),i=e(22399),L=e(29241),A=e(53777),v=e(35025),p=e(1426).extendFlat,t=g({editType:"calc"});t.family.dflt='"Open Sans", verdana, arial, sans-serif',t.size.dflt=12,t.color.dflt=i.defaultLine,W.exports={font:t,title:{text:{valType:"string",editType:"layoutstyle"},font:g({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:p(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:i.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:i.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:i.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:L.newshape,activeshape:L.activeshape,newselection:A.newselection,activeselection:A.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:p({},P.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:g({editType:"layoutstyle"})}}},77734:function(W,H,e){var g=e(78607),P="1.10.1",i=' <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',L=[' <a target="_blank" href="https://carto.com/">Carto</a>',i].join(" "),A=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),p={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:i,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:A,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:A,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:v,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},t=g(p);W.exports={requiredVersion:P,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:p,styleValuesNonMapbox:t,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install mapbox-gl@"+P+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",t.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},13056:function(W,H,e){var g=e(71828);W.exports=function(i,L){var A=i.split(" "),v=A[0],p=A[1],t=g.isArrayOrTypedArray(L)?g.mean(L):L,r=.5+t/100,s=1.5+t/100,n=["",""],l=[0,0];switch(v){case"top":n[0]="top",l[1]=-s;break;case"bottom":n[0]="bottom",l[1]=s;break}switch(p){case"left":n[1]="right",l[0]=-r;break;case"right":n[1]="left",l[0]=r;break}var f;return n[0]&&n[1]?f=n.join("-"):n[0]?f=n[0]:n[1]?f=n[1]:f="center",{anchor:f,offset:l}}},50101:function(W,H,e){var g=e(44517),P=e(71828),i=P.strTranslate,L=P.strScale,A=e(27659).AU,v=e(77922),p=e(39898),t=e(91424),r=e(63893),s=e(10481),n="mapbox",l=H.constants=e(77734);H.name=n,H.attr="subplot",H.idRoot=n,H.idRegex=H.attrRegex=P.counterRegex(n),H.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},H.layoutAttributes=e(23585),H.supplyLayoutDefaults=e(77882),H.plot=function(c){var w=c._fullLayout,h=c.calcdata,o=w._subplots[n];if(g.version!==l.requiredVersion)throw new Error(l.wrongVersionErrorMsg);var d=f(c,o);g.accessToken=d;for(var M=0;M<o.length;M++){var T=o[M],E=A(h,n,T),x=w[T],S=x._subplot;S||(S=new s(c,T),w[T]._subplot=S),S.viewInitial||(S.viewInitial={center:P.extendFlat({},x.center),zoom:x.zoom,bearing:x.bearing,pitch:x.pitch}),S.plot(E,w,c._promises)}},H.clean=function(m,c,w,h){for(var o=h._subplots[n]||[],d=0;d<o.length;d++){var M=o[d];!c[M]&&h[M]._subplot&&h[M]._subplot.destroy()}},H.toSVG=function(m){for(var c=m._fullLayout,w=c._subplots[n],h=c._size,o=0;o<w.length;o++){var d=c[w[o]],M=d.domain,T=d._subplot,E=T.toImage("png"),x=c._glimages.append("svg:image");x.attr({xmlns:v.svg,"xlink:href":E,x:h.l+h.w*M.x[0],y:h.t+h.h*(1-M.y[1]),width:h.w*(M.x[1]-M.x[0]),height:h.h*(M.y[1]-M.y[0]),preserveAspectRatio:"none"});var S=p.select(d._subplot.div),b=S.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!b){var a=c._glimages.append("g");a.attr("transform",i(h.l+h.w*M.x[0]+10,h.t+h.h*(1-M.y[0])-31)),a.append("path").attr("d",l.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),a.append("path").attr("d",l.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),a.append("path").attr("d",l.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),a.append("polygon").attr("points",l.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var C=S.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),y=c._glimages.append("g"),z=y.append("text");z.text(C).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":C});var I=t.bBox(z.node()),B=h.w*(M.x[1]-M.x[0]);if(I.width>B/2){var F=C.split("|").join("<br>");z.text(F).attr("data-unformatted",F).call(r.convertToTspans,m),I=t.bBox(z.node())}z.attr("transform",i(-3,-I.height+8)),y.insert("rect",".static-attribution").attr({x:-I.width-6,y:-I.height-3,width:I.width+6,height:I.height+3,fill:"rgba(255, 255, 255, 0.75)"});var O=1;I.width+6>B&&(O=B/(I.width+6));var N=[h.l+h.w*M.x[1],h.t+h.h*(1-M.y[0])];y.attr("transform",i(N[0],N[1])+L(O))}};function f(m,c){var w=m._fullLayout,h=m._context;if(h.mapboxAccessToken==="")return"";for(var o=[],d=[],M=!1,T=!1,E=0;E<c.length;E++){var x=w[c[E]],S=x.accesstoken;u(x.style)&&(S?P.pushUnique(o,S):(u(x._input.style)&&(P.error("Uses Mapbox map style, but did not set an access token."),M=!0),T=!0)),S&&P.pushUnique(d,S)}if(T){var b=M?l.noAccessTokenErrorMsg:l.missingStyleErrorMsg;throw P.error(b),new Error(b)}return o.length?(o.length>1&&P.warn(l.multipleTokensErrorMsg),o[0]):(d.length&&P.log(["Listed mapbox access token(s)",d.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function u(m){return typeof m=="string"&&(l.styleValuesMapbox.indexOf(m)!==-1||m.indexOf("mapbox://")===0||m.indexOf("stamen")===0)}H.updateFx=function(m){for(var c=m._fullLayout,w=c._subplots[n],h=0;h<w.length;h++){var o=c[w[h]]._subplot;o.updateFx(c)}}},67911:function(W,H,e){var g=e(71828),P=e(63893).sanitizeHTML,i=e(13056),L=e(77734);function A(s,n){this.subplot=s,this.uid=s.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=L.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=A.prototype;v.update=function(n){this.visible?this.needsNewImage(n)?this.updateImage(n):this.needsNewSource(n)?(this.removeLayer(),this.updateSource(n),this.updateLayer(n)):this.needsNewLayer(n)?this.updateLayer(n):this.updateStyle(n):(this.updateSource(n),this.updateLayer(n)),this.visible=p(n)},v.needsNewImage=function(s){var n=this.subplot.map;return n.getSource(this.idSource)&&this.sourceType==="image"&&s.sourcetype==="image"&&(this.source!==s.source||JSON.stringify(this.coordinates)!==JSON.stringify(s.coordinates))},v.needsNewSource=function(s){return this.sourceType!==s.sourcetype||JSON.stringify(this.source)!==JSON.stringify(s.source)||this.layerType!==s.type},v.needsNewLayer=function(s){return this.layerType!==s.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(s){var n=this.subplot.map;n.getSource(this.idSource).updateImage({url:s.source,coordinates:s.coordinates});var l=this.findFollowingMapboxLayerId(this.lookupBelow());l!==null&&this.subplot.map.moveLayer(this.idLayer,l)},v.updateSource=function(s){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=s.sourcetype,this.source=s.source,!!p(s)){var l=r(s);n.addSource(this.idSource,l)}},v.findFollowingMapboxLayerId=function(s){if(s==="traces")for(var n=this.subplot.getMapLayers(),l=0;l<n.length;l++){var f=n[l].id;if(typeof f=="string"&&f.indexOf(L.traceLayerPrefix)===0){s=f;break}}return s},v.updateLayer=function(s){var n=this.subplot,l=t(s),f=this.lookupBelow(),u=this.findFollowingMapboxLayerId(f);this.removeLayer(),p(s)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":s.sourcelayer||"",type:s.type,minzoom:s.minzoom,maxzoom:s.maxzoom,layout:l.layout,paint:l.paint},u),this.layerType=s.type,this.below=f},v.updateStyle=function(s){if(p(s)){var n=t(s);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},v.removeLayer=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer)},v.dispose=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer),s.getSource(this.idSource)&&s.removeSource(this.idSource)};function p(s){if(!s.visible)return!1;var n=s.source;if(Array.isArray(n)&&n.length>0){for(var l=0;l<n.length;l++)if(typeof n[l]!="string"||n[l].length===0)return!1;return!0}return g.isPlainObject(n)||typeof n=="string"&&n.length>0}function t(s){var n={},l={};switch(s.type){case"circle":g.extendFlat(l,{"circle-radius":s.circle.radius,"circle-color":s.color,"circle-opacity":s.opacity});break;case"line":g.extendFlat(l,{"line-width":s.line.width,"line-color":s.color,"line-opacity":s.opacity,"line-dasharray":s.line.dash});break;case"fill":g.extendFlat(l,{"fill-color":s.color,"fill-outline-color":s.fill.outlinecolor,"fill-opacity":s.opacity});break;case"symbol":var f=s.symbol,u=i(f.textposition,f.iconsize);g.extendFlat(n,{"icon-image":f.icon+"-15","icon-size":f.iconsize/10,"text-field":f.text,"text-size":f.textfont.size,"text-anchor":u.anchor,"text-offset":u.offset,"symbol-placement":f.placement}),g.extendFlat(l,{"icon-color":s.color,"text-color":f.textfont.color,"text-opacity":s.opacity});break;case"raster":g.extendFlat(l,{"raster-fade-duration":0,"raster-opacity":s.opacity});break}return{layout:n,paint:l}}function r(s){var n=s.sourcetype,l=s.source,f={type:n},u;return n==="geojson"?u="data":n==="vector"?u=typeof l=="string"?"url":"tiles":n==="raster"?(u="tiles",f.tileSize=256):n==="image"&&(u="url",f.coordinates=s.coordinates),f[u]=l,s.sourceattribution&&(f.attribution=P(s.sourceattribution)),f}W.exports=function(n,l,f){var u=new A(n,l);return u.update(f),u}},23585:function(W,H,e){var g=e(71828),P=e(7901).defaultLine,i=e(27670).Y,L=e(41940),A=e(82196).textposition,v=e(30962).overrideAll,p=e(44467).templatedArray,t=e(77734),r=L({});r.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var s=W.exports=v({_arrayAttrRegexps:[g.counterRegex("mapbox",".layers",!0)],domain:i({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:t.styleValuesMapbox.concat(t.styleValuesNonMapbox),dflt:t.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:p("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:P},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:P}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:r,textposition:g.extendFlat({},A,{arrayOk:!1})}})},"plot","from-root");s.uirevision={valType:"any",editType:"none"}},77882:function(W,H,e){var g=e(71828),P=e(49119),i=e(85501),L=e(23585);W.exports=function(t,r,s){P(t,r,s,{type:"mapbox",attributes:L,handleDefaults:A,partition:"y",accessToken:r._mapboxAccessToken})};function A(p,t,r,s){r("accesstoken",s.accessToken),r("style"),r("center.lon"),r("center.lat"),r("zoom"),r("bearing"),r("pitch");var n=r("bounds.west"),l=r("bounds.east"),f=r("bounds.south"),u=r("bounds.north");(n===void 0||l===void 0||f===void 0||u===void 0)&&delete t.bounds,i(p,t,{name:"layers",handleItemDefaults:v}),t._input=p}function v(p,t){function r(m,c){return g.coerce(p,t,L.layers,m,c)}var s=r("visible");if(s){var n=r("sourcetype"),l=n==="raster"||n==="image";r("source"),r("sourceattribution"),n==="vector"&&r("sourcelayer"),n==="image"&&r("coordinates");var f;l&&(f="raster");var u=r("type",f);l&&u!=="raster"&&(u=t.type="raster",g.log("Source types *raster* and *image* must drawn *raster* layer type.")),r("below"),r("color"),r("opacity"),r("minzoom"),r("maxzoom"),u==="circle"&&r("circle.radius"),u==="line"&&(r("line.width"),r("line.dash")),u==="fill"&&r("fill.outlinecolor"),u==="symbol"&&(r("symbol.icon"),r("symbol.iconsize"),r("symbol.text"),g.coerceFont(r,"symbol.textfont"),r("symbol.textposition"),r("symbol.placement"))}}},10481:function(W,H,e){var g=e(44517),P=e(71828),i=e(41327),L=e(73972),A=e(89298),v=e(28569),p=e(30211),t=e(64505),r=t.drawMode,s=t.selectMode,n=e(47322).prepSelect,l=e(47322).clearOutline,f=e(47322).clearSelectionsCache,u=e(47322).selectOnClick,m=e(77734),c=e(67911);function w(E,x){this.id=x,this.gd=E;var S=E._fullLayout,b=E._context;this.container=S._glcontainer.node(),this.isStatic=b.staticPlot,this.uid=S._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(S),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var h=w.prototype;h.plot=function(E,x,S){var b=this,a=x[b.id];b.map&&a.accesstoken!==b.accessToken&&(b.map.remove(),b.map=null,b.styleObj=null,b.traceHash={},b.layerList=[]);var C;b.map?C=new Promise(function(y,z){b.updateMap(E,x,y,z)}):C=new Promise(function(y,z){b.createMap(E,x,y,z)}),S.push(C)},h.createMap=function(E,x,S,b){var a=this,C=x[a.id],y=a.styleObj=d(C.style,x);a.accessToken=C.accesstoken;var z=C.bounds,I=z?[[z.west,z.south],[z.east,z.north]]:null,B=a.map=new g.Map({container:a.div,style:y.style,center:T(C.center),zoom:C.zoom,bearing:C.bearing,pitch:C.pitch,maxBounds:I,interactive:!a.isStatic,preserveDrawingBuffer:a.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new g.AttributionControl({compact:!0}));B._canvas.style.left="0px",B._canvas.style.top="0px",a.rejectOnError(b),a.isStatic||a.initFx(E,x);var F=[];F.push(new Promise(function(O){B.once("load",O)})),F=F.concat(i.fetchTraceGeoData(E)),Promise.all(F).then(function(){a.fillBelowLookup(E,x),a.updateData(E),a.updateLayout(x),a.resolveOnRender(S)}).catch(b)},h.updateMap=function(E,x,S,b){var a=this,C=a.map,y=x[this.id];a.rejectOnError(b);var z=[],I=d(y.style,x);JSON.stringify(a.styleObj)!==JSON.stringify(I)&&(a.styleObj=I,C.setStyle(I.style),a.traceHash={},z.push(new Promise(function(B){C.once("styledata",B)}))),z=z.concat(i.fetchTraceGeoData(E)),Promise.all(z).then(function(){a.fillBelowLookup(E,x),a.updateData(E),a.updateLayout(x),a.resolveOnRender(S)}).catch(b)},h.fillBelowLookup=function(E,x){var S=x[this.id],b=S.layers,a,C,y=this.belowLookup={},z=!1;for(a=0;a<E.length;a++){var I=E[a][0].trace,B=I._module;typeof I.below=="string"?C=I.below:B.getBelow&&(C=B.getBelow(I,this)),C===""&&(z=!0),y["trace-"+I.uid]=C||""}for(a=0;a<b.length;a++){var F=b[a];typeof F.below=="string"?C=F.below:z?C="traces":C="",y["layout-"+a]=C}var O={},N,_;for(N in y)C=y[N],O[C]?O[C].push(N):O[C]=[N];for(C in O){var U=O[C];if(U.length>1)for(a=0;a<U.length;a++)N=U[a],N.indexOf("trace-")===0?(_=N.split("trace-")[1],this.traceHash[_]&&(this.traceHash[_].below=null)):N.indexOf("layout-")===0&&(_=N.split("layout-")[1],this.layerList[_]&&(this.layerList[_].below=null))}};var o={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};h.updateData=function(E){var x=this.traceHash,S,b,a,C,y=E.slice().sort(function(O,N){return o[O[0].trace.type]-o[N[0].trace.type]});for(a=0;a<y.length;a++){var z=y[a];b=z[0].trace,S=x[b.uid];var I=!1;S&&(S.type===b.type?(S.update(z),I=!0):S.dispose()),!I&&b._module&&(x[b.uid]=b._module.plot(this,z))}var B=Object.keys(x);e:for(a=0;a<B.length;a++){var F=B[a];for(C=0;C<E.length;C++)if(b=E[C][0].trace,F===b.uid)continue e;S=x[F],S.dispose(),delete x[F]}},h.updateLayout=function(E){var x=this.map,S=E[this.id];!this.dragging&&!this.wheeling&&(x.setCenter(T(S.center)),x.setZoom(S.zoom),x.setBearing(S.bearing),x.setPitch(S.pitch)),this.updateLayers(E),this.updateFramework(E),this.updateFx(E),this.map.resize(),this.gd._context._scrollZoom.mapbox?x.scrollZoom.enable():x.scrollZoom.disable()},h.resolveOnRender=function(E){var x=this.map;x.on("render",function S(){x.loaded()&&(x.off("render",S),setTimeout(E,10))})},h.rejectOnError=function(E){var x=this.map;function S(){E(new Error(m.mapOnErrorMsg))}x.once("error",S),x.once("style.error",S),x.once("source.error",S),x.once("tile.error",S),x.once("layer.error",S)},h.createFramework=function(E){var x=this,S=x.div=document.createElement("div");S.id=x.uid,S.style.position="absolute",x.container.appendChild(S),x.xaxis={_id:"x",c2p:function(b){return x.project(b).x}},x.yaxis={_id:"y",c2p:function(b){return x.project(b).y}},x.updateFramework(E),x.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},A.setConvert(x.mockAxis,E)},h.initFx=function(E,x){var S=this,b=S.gd,a=S.map;a.on("moveend",function(z){if(S.map){var I=b._fullLayout;if(z.originalEvent||S.wheeling){var B=I[S.id];L.call("_storeDirectGUIEdit",b.layout,I._preGUI,S.getViewEdits(B));var F=S.getView();B._input.center=B.center=F.center,B._input.zoom=B.zoom=F.zoom,B._input.bearing=B.bearing=F.bearing,B._input.pitch=B.pitch=F.pitch,b.emit("plotly_relayout",S.getViewEditsWithDerived(F))}z.originalEvent&&z.originalEvent.type==="mouseup"?S.dragging=!1:S.wheeling&&(S.wheeling=!1),I._rehover&&I._rehover()}}),a.on("wheel",function(){S.wheeling=!0}),a.on("mousemove",function(z){var I=S.div.getBoundingClientRect(),B=[z.originalEvent.offsetX,z.originalEvent.offsetY];z.target.getBoundingClientRect=function(){return I},S.xaxis.p2c=function(){return a.unproject(B).lng},S.yaxis.p2c=function(){return a.unproject(B).lat},b._fullLayout._rehover=function(){b._fullLayout._hoversubplot===S.id&&b._fullLayout[S.id]&&p.hover(b,z,S.id)},p.hover(b,z,S.id),b._fullLayout._hoversubplot=S.id});function C(){p.loneUnhover(x._hoverlayer)}a.on("dragstart",function(){S.dragging=!0,C()}),a.on("zoomstart",C),a.on("mouseout",function(){b._fullLayout._hoversubplot=null});function y(){var z=S.getView();b.emit("plotly_relayouting",S.getViewEditsWithDerived(z))}a.on("drag",y),a.on("zoom",y),a.on("dblclick",function(){var z=b._fullLayout[S.id];L.call("_storeDirectGUIEdit",b.layout,b._fullLayout._preGUI,S.getViewEdits(z));var I=S.viewInitial;a.setCenter(T(I.center)),a.setZoom(I.zoom),a.setBearing(I.bearing),a.setPitch(I.pitch);var B=S.getView();z._input.center=z.center=B.center,z._input.zoom=z.zoom=B.zoom,z._input.bearing=z.bearing=B.bearing,z._input.pitch=z.pitch=B.pitch,b.emit("plotly_doubleclick",null),b.emit("plotly_relayout",S.getViewEditsWithDerived(B))}),S.clearOutline=function(){f(S.dragOptions),l(S.dragOptions.gd)},S.onClickInPanFn=function(z){return function(I){var B=b._fullLayout.clickmode;B.indexOf("select")>-1&&u(I.originalEvent,b,[S.xaxis],[S.yaxis],S.id,z),B.indexOf("event")>-1&&p.click(b,I.originalEvent)}}},h.updateFx=function(E){var x=this,S=x.map,b=x.gd;if(x.isStatic)return;function a(I){var B=x.map.unproject(I);return[B.lng,B.lat]}var C=E.dragmode,y;y=function(I,B){if(B.isRect){var F=I.range={};F[x.id]=[a([B.xmin,B.ymin]),a([B.xmax,B.ymax])]}else{var O=I.lassoPoints={};O[x.id]=B.map(a)}};var z=x.dragOptions;x.dragOptions=P.extendDeep(z||{},{dragmode:E.dragmode,element:x.div,gd:b,plotinfo:{id:x.id,domain:E[x.id].domain,xaxis:x.xaxis,yaxis:x.yaxis,fillRangeItems:y},xaxes:[x.xaxis],yaxes:[x.yaxis],subplot:x.id}),S.off("click",x.onClickInPanHandler),s(C)||r(C)?(S.dragPan.disable(),S.on("zoomstart",x.clearOutline),x.dragOptions.prepFn=function(I,B,F){n(I,B,F,x.dragOptions,C)},v.init(x.dragOptions)):(S.dragPan.enable(),S.off("zoomstart",x.clearOutline),x.div.onmousedown=null,x.div.ontouchstart=null,x.div.removeEventListener("touchstart",x.div._ontouchstart),x.onClickInPanHandler=x.onClickInPanFn(x.dragOptions),S.on("click",x.onClickInPanHandler))},h.updateFramework=function(E){var x=E[this.id].domain,S=E._size,b=this.div.style;b.width=S.w*(x.x[1]-x.x[0])+"px",b.height=S.h*(x.y[1]-x.y[0])+"px",b.left=S.l+x.x[0]*S.w+"px",b.top=S.t+(1-x.y[1])*S.h+"px",this.xaxis._offset=S.l+x.x[0]*S.w,this.xaxis._length=S.w*(x.x[1]-x.x[0]),this.yaxis._offset=S.t+(1-x.y[1])*S.h,this.yaxis._length=S.h*(x.y[1]-x.y[0])},h.updateLayers=function(E){var x=E[this.id],S=x.layers,b=this.layerList,a;if(S.length!==b.length){for(a=0;a<b.length;a++)b[a].dispose();for(b=this.layerList=[],a=0;a<S.length;a++)b.push(c(this,a,S[a]))}else for(a=0;a<S.length;a++)b[a].update(S[a])},h.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},h.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},h.setOptions=function(E,x,S){for(var b in S)this.map[x](E,b,S[b])},h.getMapLayers=function(){return this.map.getStyle().layers},h.addLayer=function(E,x){var S=this.map;if(typeof x=="string"){if(x===""){S.addLayer(E,x);return}for(var b=this.getMapLayers(),a=0;a<b.length;a++)if(x===b[a].id){S.addLayer(E,x);return}P.warn(["Trying to add layer with *below* value",x,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}S.addLayer(E)},h.project=function(E){return this.map.project(new g.LngLat(E[0],E[1]))},h.getView=function(){var E=this.map,x=E.getCenter(),S=x.lng,b=x.lat,a={lon:S,lat:b},C=E.getCanvas(),y=parseInt(C.style.width),z=parseInt(C.style.height);return{center:a,zoom:E.getZoom(),bearing:E.getBearing(),pitch:E.getPitch(),_derived:{coordinates:[E.unproject([0,0]).toArray(),E.unproject([y,0]).toArray(),E.unproject([y,z]).toArray(),E.unproject([0,z]).toArray()]}}},h.getViewEdits=function(E){for(var x=this.id,S=["center","zoom","bearing","pitch"],b={},a=0;a<S.length;a++){var C=S[a];b[x+"."+C]=E[C]}return b},h.getViewEditsWithDerived=function(E){var x=this.id,S=this.getViewEdits(E);return S[x+"._derived"]=E._derived,S};function d(E,x){var S={};if(P.isPlainObject(E))S.id=E.id,S.style=E;else if(typeof E=="string")if(S.id=E,m.styleValuesMapbox.indexOf(E)!==-1)S.style=M(E);else if(m.stylesNonMapbox[E]){S.style=m.stylesNonMapbox[E];var b=S.style.sources["plotly-"+E],a=b?b.tiles:void 0;a&&a[0]&&a[0].slice(-9)==="?api_key="&&(a[0]+=x._mapboxAccessToken)}else S.style=E;else S.id=m.styleValueDflt,S.style=M(m.styleValueDflt);return S.transition={duration:0,delay:0},S}function M(E){return m.styleUrlPrefix+E+"-"+m.styleUrlSuffix}function T(E){return[E.lon,E.lat]}W.exports=w},35025:function(W){W.exports=function(H){var e=H.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},74875:function(W,H,e){var g=e(39898),P=e(84096).Dq,i=e(60721).FF,L=e(92770),A=e(73972),v=e(86281),p=e(44467),t=e(71828),r=e(7901),s=e(50606).BADNUM,n=e(41675),l=e(51873).clearOutline,f=e(21479),u=e(85594),m=e(31391),c=e(27659).a0,w=t.relinkPrivateKeys,h=t._,o=W.exports={};t.extendFlat(o,A),o.attributes=e(9012),o.attributes.type.values=o.allTypes,o.fontAttrs=e(41940),o.layoutAttributes=e(10820),o.fontWeight="normal";var d=o.transformsRegistry,M=e(31137);o.executeAPICommand=M.executeAPICommand,o.computeAPICommandBindings=M.computeAPICommandBindings,o.manageCommandObserver=M.manageCommandObserver,o.hasSimpleAPICommandBindings=M.hasSimpleAPICommandBindings,o.redrawText=function(X){return X=t.getGraphDiv(X),new Promise(function(J){setTimeout(function(){X._fullLayout&&(A.getComponentMethod("annotations","draw")(X),A.getComponentMethod("legend","draw")(X),A.getComponentMethod("colorbar","draw")(X),J(o.previousPromises(X)))},300)})},o.resize=function(X){X=t.getGraphDiv(X);var J,ee=new Promise(function(se,q){(!X||t.isHidden(X))&&q(new Error("Resize must be passed a displayed plot div element.")),X._redrawTimer&&clearTimeout(X._redrawTimer),X._resolveResize&&(J=X._resolveResize),X._resolveResize=se,X._redrawTimer=setTimeout(function(){if(!X.layout||X.layout.width&&X.layout.height||t.isHidden(X)){se(X);return}delete X.layout.width,delete X.layout.height;var $=X.changed;X.autoplay=!0,A.call("relayout",X,{autosize:!0}).then(function(){X.changed=$,X._resolveResize===se&&(delete X._resolveResize,se(X))})},100)});return J&&J(ee),ee},o.previousPromises=function(X){if((X._promises||[]).length)return Promise.all(X._promises).then(function(){X._promises=[]})},o.addLinks=function(X){if(!(!X._context.showLink&&!X._context.showSources)){var J=X._fullLayout,ee=t.ensureSingle(J._paper,"text","js-plot-link-container",function(ce){ce.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:r.defaultLine,"pointer-events":"all"}).each(function(){var me=g.select(this);me.append("tspan").classed("js-link-to-tool",!0),me.append("tspan").classed("js-link-spacer",!0),me.append("tspan").classed("js-sourcelinks",!0)})}),se=ee.node(),q={y:J._paper.attr("height")-9};document.body.contains(se)&&se.getComputedTextLength()>=J.width-20?(q["text-anchor"]="start",q.x=5):(q["text-anchor"]="end",q.x=J._paper.attr("width")-7),ee.attr(q);var $=ee.select(".js-link-to-tool"),le=ee.select(".js-link-spacer"),ie=ee.select(".js-sourcelinks");X._context.showSources&&X._context.showSources(X),X._context.showLink&&T(X,$),le.text($.text()&&ie.text()?" - ":"")}};function T(X,J){J.text("");var ee=J.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(X._context.linkText+" "+String.fromCharCode(187));if(X._context.sendData)ee.on("click",function(){o.sendDataToCloud(X)});else{var se=window.location.pathname.split("/"),q=window.location.search;ee.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+se[2].split(".")[0]+"/"+se[1]+q})}}o.sendDataToCloud=function(X){var J=(window.PLOTLYENV||{}).BASE_URL||X._context.plotlyServerURL;if(J){X.emit("plotly_beforeexport");var ee=g.select(X).append("div").attr("id","hiddenform").style("display","none"),se=ee.append("form").attr({action:J+"/external",method:"post",target:"_blank"}),q=se.append("input").attr({type:"text",name:"data"});return q.node().value=o.graphJson(X,!1,"keepdata"),se.node().submit(),ee.remove(),X.emit("plotly_afterexport"),!1}};var E=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],x=["year","month","dayMonth","dayMonthYear"];o.supplyDefaults=function(X,J){var ee=J&&J.skipUpdateCalc,se=X._fullLayout||{};if(se._skipDefaults){delete se._skipDefaults;return}var q=X._fullLayout={},$=X.layout||{},le=X._fullData||[],ie=X._fullData=[],ce=X.data||[],me=X.calcdata||[],Me=X._context||{},we;X._transitionData||o.createTransitionData(X),q._dfltTitle={plot:h(X,"Click to enter Plot title"),x:h(X,"Click to enter X axis title"),y:h(X,"Click to enter Y axis title"),colorbar:h(X,"Click to enter Colorscale title"),annotation:h(X,"new text")},q._traceWord=h(X,"trace");var Oe=a(X,E);if(q._mapboxAccessToken=Me.mapboxAccessToken,se._initialAutoSizeIsDone){var Be=se.width,Ce=se.height;o.supplyLayoutGlobalDefaults($,q,Oe),$.width||(q.width=Be),$.height||(q.height=Ce),o.sanitizeMargins(q)}else{o.supplyLayoutGlobalDefaults($,q,Oe);var xe=!$.width||!$.height,Se=q.autosize,He=Me.autosizable,Ge=xe&&(Se||He);Ge?o.plotAutoSize(X,$,q):xe&&o.sanitizeMargins(q),!Se&&xe&&($.width=q.width,$.height=q.height)}q._d3locale=C(Oe,q.separators),q._extraFormat=a(X,x),q._initialAutoSizeIsDone=!0,q._dataLength=ce.length,q._modules=[],q._visibleModules=[],q._basePlotModules=[];var ke=q._subplots=b(),We=q._splomAxes={x:{},y:{}},it=q._splomSubplots={};q._splomGridDflt={},q._scatterStackOpts={},q._firstScatter={},q._alignmentOpts={},q._colorAxes={},q._requestRangeslider={},q._traceUids=S(le,ce),q._globalTransforms=(X._context||{}).globalTransforms,o.supplyDataDefaults(ce,ie,$,q);var et=Object.keys(We.x),tt=Object.keys(We.y);if(et.length>1&&tt.length>1){for(A.getComponentMethod("grid","sizeDefaults")($,q),we=0;we<et.length;we++)t.pushUnique(ke.xaxis,et[we]);for(we=0;we<tt.length;we++)t.pushUnique(ke.yaxis,tt[we]);for(var at in it)t.pushUnique(ke.cartesian,at)}if(q._has=o._hasPlotType.bind(q),le.length===ie.length)for(we=0;we<ie.length;we++)w(ie[we],le[we]);o.supplyLayoutModuleDefaults($,q,ie,X._transitionData);var ht=q._visibleModules,yt=[];for(we=0;we<ht.length;we++){var gt=ht[we].crossTraceDefaults;gt&&t.pushUnique(yt,gt)}for(we=0;we<yt.length;we++)yt[we](ie,q);q._hasOnlyLargeSploms=q._basePlotModules.length===1&&q._basePlotModules[0].name==="splom"&&et.length>15&&tt.length>15&&q.shapes.length===0&&q.images.length===0,o.linkSubplots(ie,q,le,se),o.cleanPlot(ie,q,le,se);var Et=!!(se._has&&se._has("gl2d")),Ct=!!(q._has&&q._has("gl2d")),Vt=!!(se._has&&se._has("cartesian")),Qe=!!(q._has&&q._has("cartesian")),Fe=Vt||Et,Ie=Qe||Ct;Fe&&!Ie?se._bgLayer.remove():Ie&&!Fe&&(q._shouldCreateBgLayer=!0),se._zoomlayer&&!X._dragging&&l({_fullLayout:se}),y(ie,q),w(q,se),A.getComponentMethod("colorscale","crossTraceDefaults")(ie,q),q._preGUI||(q._preGUI={}),q._tracePreGUI||(q._tracePreGUI={});var ze=q._tracePreGUI,Re={},be;for(be in ze)Re[be]="old";for(we=0;we<ie.length;we++)be=ie[we]._fullInput.uid,Re[be]||(ze[be]={}),Re[be]="new";for(be in Re)Re[be]==="old"&&delete ze[be];O(q),A.getComponentMethod("rangeslider","makeData")(q),!ee&&me.length===ie.length&&o.supplyDefaultsUpdateCalc(me,ie)},o.supplyDefaultsUpdateCalc=function(X,J){for(var ee=0;ee<J.length;ee++){var se=J[ee],q=(X[ee]||[])[0];if(q&&q.trace){var $=q.trace;if($._hasCalcTransform){var le=$._arrayAttrs,ie,ce,me;for(ie=0;ie<le.length;ie++)ce=le[ie],me=t.nestedProperty($,ce).get().slice(),t.nestedProperty(se,ce).set(me)}q.trace=se}}};function S(X,J){var ee=J.length,se=[],q,$;for(q=0;q<X.length;q++){var le=X[q]._fullInput;le!==$&&se.push(le),$=le}var ie=se.length,ce=new Array(ee),me={};function Me(Be,Ce){ce[Ce]=Be,me[Be]=1}function we(Be,Ce){if(Be&&typeof Be=="string"&&!me[Be])return Me(Be,Ce),!0}for(q=0;q<ee;q++){var Oe=J[q].uid;typeof Oe=="number"&&(Oe=String(Oe)),!we(Oe,q)&&(q<ie&&we(se[q].uid,q)||Me(t.randstr(me),q))}return ce}function b(){var X=A.collectableSubplotTypes,J={},ee,se;if(!X){X=[];var q=A.subplotsRegistry;for(var $ in q){var le=q[$],ie=le.attr;if(ie&&(X.push($),Array.isArray(ie)))for(se=0;se<ie.length;se++)t.pushUnique(X,ie[se])}}for(ee=0;ee<X.length;ee++)J[X[ee]]=[];return J}function a(X,J){var ee=X._context.locale;ee||(ee="en-US");var se=!1,q={};function $(we){for(var Oe=!0,Be=0;Be<J.length;Be++){var Ce=J[Be];q[Ce]||(we[Ce]?q[Ce]=we[Ce]:Oe=!1)}Oe&&(se=!0)}for(var le=0;le<2;le++){for(var ie=X._context.locales,ce=0;ce<2;ce++){var me=(ie[ee]||{}).format;if(me&&($(me),se))break;ie=A.localeRegistry}var Me=ee.split("-")[0];if(se||Me===ee)break;ee=Me}return se||$(A.localeRegistry.en.format),q}function C(X,J){return X.decimal=J.charAt(0),X.thousands=J.charAt(1),{numberFormat:function(ee){try{ee=i(X).format(t.adjustFormat(ee))}catch{return t.warnBadFormat(ee),t.noFormat}return ee},timeFormat:P(X).utcFormat}}function y(X,J){var ee,se=[];J.meta&&(ee=J._meta={meta:J.meta,layout:{meta:J.meta}});for(var q=0;q<X.length;q++){var $=X[q];$.meta?se[$.index]=$._meta={meta:$.meta}:J.meta&&($._meta={meta:J.meta}),J.meta&&($._meta.layout={meta:J.meta})}se.length&&(ee||(ee=J._meta={}),ee.data=se)}o.createTransitionData=function(X){X._transitionData||(X._transitionData={}),X._transitionData._frames||(X._transitionData._frames=[]),X._transitionData._frameHash||(X._transitionData._frameHash={}),X._transitionData._counter||(X._transitionData._counter=0),X._transitionData._interruptCallbacks||(X._transitionData._interruptCallbacks=[])},o._hasPlotType=function(X){var J,ee=this._basePlotModules||[];for(J=0;J<ee.length;J++)if(ee[J].name===X)return!0;var se=this._modules||[];for(J=0;J<se.length;J++){var q=se[J].name;if(q===X)return!0;var $=A.modules[q];if($&&$.categories[X])return!0}return!1},o.cleanPlot=function(X,J,ee,se){var q,$,le=se._basePlotModules||[];for(q=0;q<le.length;q++){var ie=le[q];ie.clean&&ie.clean(X,J,ee,se)}var ce=se._has&&se._has("gl"),me=J._has&&J._has("gl");ce&&!me&&se._glcontainer!==void 0&&(se._glcontainer.selectAll(".gl-canvas").remove(),se._glcontainer.selectAll(".no-webgl").remove(),se._glcanvas=null);var Me=!!se._infolayer;e:for(q=0;q<ee.length;q++){var we=ee[q],Oe=we.uid;for($=0;$<X.length;$++){var Be=X[$];if(Oe===Be.uid)continue e}Me&&se._infolayer.select(".cb"+Oe).remove()}},o.linkSubplots=function(X,J,ee,se){var q,$,le=se._plots||{},ie=J._plots={},ce=J._subplots,me={_fullData:X,_fullLayout:J},Me=ce.cartesian.concat(ce.gl2d||[]);for(q=0;q<Me.length;q++){var we=Me[q],Oe=le[we],Be=n.getFromId(me,we,"x"),Ce=n.getFromId(me,we,"y"),xe;for(Oe?xe=ie[we]=Oe:(xe=ie[we]={},xe.id=we),Be._counterAxes.push(Ce._id),Ce._counterAxes.push(Be._id),Be._subplotsWith.push(we),Ce._subplotsWith.push(we),xe.xaxis=Be,xe.yaxis=Ce,xe._hasClipOnAxisFalse=!1,$=0;$<X.length;$++){var Se=X[$];if(Se.xaxis===xe.xaxis._id&&Se.yaxis===xe.yaxis._id&&Se.cliponaxis===!1){xe._hasClipOnAxisFalse=!0;break}}}var He=n.list(me,null,!0),Ge;for(q=0;q<He.length;q++){Ge=He[q];var ke=null;Ge.overlaying&&(ke=n.getFromId(me,Ge.overlaying),ke&&ke.overlaying&&(Ge.overlaying=!1,ke=null)),Ge._mainAxis=ke||Ge,ke&&(Ge.domain=ke.domain.slice()),Ge._anchorAxis=Ge.anchor==="free"?null:n.getFromId(me,Ge.anchor)}for(q=0;q<He.length;q++)if(Ge=He[q],Ge._counterAxes.sort(n.idSort),Ge._subplotsWith.sort(t.subplotSort),Ge._mainSubplot=z(Ge,J),Ge._counterAxes.length&&(Ge.spikemode&&Ge.spikemode.indexOf("across")!==-1||Ge.automargin&&Ge.mirror&&Ge.anchor!=="free"||A.getComponentMethod("rangeslider","isVisible")(Ge))){var We=1,it=0;for($=0;$<Ge._counterAxes.length;$++){var et=n.getFromId(me,Ge._counterAxes[$]);We=Math.min(We,et.domain[0]),it=Math.max(it,et.domain[1])}We<it&&(Ge._counterDomainMin=We,Ge._counterDomainMax=it)}};function z(X,J){var ee={_fullLayout:J},se=X._id.charAt(0)==="x",q=X._mainAxis._anchorAxis,$="",le="",ie="";if(q&&(ie=q._mainAxis._id,$=se?X._id+ie:ie+X._id),!$||!J._plots[$]){$="";for(var ce=X._counterAxes,me=0;me<ce.length;me++){var Me=ce[me],we=se?X._id+Me:Me+X._id;le||(le=we);var Oe=n.getFromId(ee,Me);if(ie&&Oe.overlaying===ie){$=we;break}}}return $||le}o.clearExpandedTraceDefaultColors=function(X){var J,ee,se;function q(le,ie,ce,me){ee[me]=ie,ee.length=me+1,le.valType==="color"&&le.dflt===void 0&&J.push(ee.join("."))}for(ee=[],J=X._module._colorAttrs,J||(X._module._colorAttrs=J=[],v.crawl(X._module.attributes,q)),se=0;se<J.length;se++){var $=t.nestedProperty(X,"_input."+J[se]);$.get()||t.nestedProperty(X,J[se]).set(null)}},o.supplyDataDefaults=function(X,J,ee,se){var q=se._modules,$=se._visibleModules,le=se._basePlotModules,ie=0,ce=0,me,Me,we;se._transformModules=[];function Oe(tt){J.push(tt);var at=tt._module;at&&(t.pushUnique(q,at),tt.visible===!0&&t.pushUnique($,at),t.pushUnique(le,tt._module.basePlotModule),ie++,tt._input.visible!==!1&&ce++)}var Be={},Ce=[],xe=(ee.template||{}).data||{},Se=p.traceTemplater(xe);for(me=0;me<X.length;me++){if(we=X[me],Me=Se.newTrace(we),Me.uid=se._traceUids[me],o.supplyTraceDefaults(we,Me,ce,se,me),Me.index=me,Me._input=we,Me._expandedIndex=ie,Me.transforms&&Me.transforms.length)for(var He=we.visible!==!1&&Me.visible===!1,Ge=B(Me,J,ee,se),ke=0;ke<Ge.length;ke++){var We=Ge[ke],it={_template:Me._template,type:Me.type,uid:Me.uid+ke};He&&We.visible===!1&&delete We.visible,o.supplyTraceDefaults(We,it,ie,se,me),w(it,We),it.index=me,it._input=we,it._fullInput=Me,it._expandedIndex=ie,it._expandedInput=We,Oe(it)}else Me._fullInput=Me,Me._expandedInput=Me,Oe(Me);A.traceIs(Me,"carpetAxis")&&(Be[Me.carpet]=Me),A.traceIs(Me,"carpetDependent")&&Ce.push(me)}for(me=0;me<Ce.length;me++)if(Me=J[Ce[me]],!!Me.visible){var et=Be[Me.carpet];if(Me._carpet=et,!et||!et.visible){Me.visible=!1;continue}Me.xaxis=et.xaxis,Me.yaxis=et.yaxis}},o.supplyAnimationDefaults=function(X){X=X||{};var J,ee={};function se(q,$){return t.coerce(X||{},ee,u,q,$)}if(se("mode"),se("direction"),se("fromcurrent"),Array.isArray(X.frame))for(ee.frame=[],J=0;J<X.frame.length;J++)ee.frame[J]=o.supplyAnimationFrameDefaults(X.frame[J]||{});else ee.frame=o.supplyAnimationFrameDefaults(X.frame||{});if(Array.isArray(X.transition))for(ee.transition=[],J=0;J<X.transition.length;J++)ee.transition[J]=o.supplyAnimationTransitionDefaults(X.transition[J]||{});else ee.transition=o.supplyAnimationTransitionDefaults(X.transition||{});return ee},o.supplyAnimationFrameDefaults=function(X){var J={};function ee(se,q){return t.coerce(X||{},J,u.frame,se,q)}return ee("duration"),ee("redraw"),J},o.supplyAnimationTransitionDefaults=function(X){var J={};function ee(se,q){return t.coerce(X||{},J,u.transition,se,q)}return ee("duration"),ee("easing"),J},o.supplyFrameDefaults=function(X){var J={};function ee(se,q){return t.coerce(X,J,m,se,q)}return ee("group"),ee("name"),ee("traces"),ee("baseframe"),ee("data"),ee("layout"),J},o.supplyTraceDefaults=function(X,J,ee,se,q){var $=se.colorway||r.defaults,le=$[ee%$.length],ie;function ce(Ge,ke){return t.coerce(X,J,o.attributes,Ge,ke)}var me=ce("visible");ce("type"),ce("name",se._traceWord+" "+q),ce("uirevision",se.uirevision);var Me=o.getModule(J);if(J._module=Me,Me){var we=Me.basePlotModule,Oe=we.attr,Be=we.attributes;if(Oe&&Be){var Ce=se._subplots,xe="";if(me||we.name!=="gl2d"){if(Array.isArray(Oe))for(ie=0;ie<Oe.length;ie++){var Se=Oe[ie],He=t.coerce(X,J,Be,Se);Ce[Se]&&t.pushUnique(Ce[Se],He),xe+=He}else xe=t.coerce(X,J,Be,Oe);Ce[we.name]&&t.pushUnique(Ce[we.name],xe)}}}return me&&(ce("customdata"),ce("ids"),ce("meta"),A.traceIs(J,"showLegend")?(t.coerce(X,J,Me.attributes.showlegend?Me.attributes:o.attributes,"showlegend"),ce("legend"),ce("legendwidth"),ce("legendgroup"),ce("legendgrouptitle.text"),ce("legendrank"),J._dfltShowLegend=!0):J._dfltShowLegend=!1,Me&&Me.supplyDefaults(X,J,le,se),A.traceIs(J,"noOpacity")||ce("opacity"),A.traceIs(J,"notLegendIsolatable")&&(J.visible=!!J.visible),A.traceIs(J,"noHover")||(J.hovertemplate||t.coerceHoverinfo(X,J,se),J.type!=="parcats"&&A.getComponentMethod("fx","supplyDefaults")(X,J,le,se)),Me&&Me.selectPoints&&ce("selectedpoints"),o.supplyTransformDefaults(X,J,se)),J};function I(X){var J=X.transforms;if(Array.isArray(J)&&J.length)for(var ee=0;ee<J.length;ee++){var se=J[ee],q=se._module||d[se.type];if(q&&q.makesData)return!0}return!1}o.hasMakesDataTransform=I,o.supplyTransformDefaults=function(X,J,ee){if(J._length||I(X)){var se=ee._globalTransforms||[],q=ee._transformModules||[];if(!(!Array.isArray(X.transforms)&&se.length===0))for(var $=X.transforms||[],le=se.concat($),ie=J.transforms=[],ce=0;ce<le.length;ce++){var me=le[ce],Me=me.type,we=d[Me],Oe,Be=!(me._module&&me._module===we),Ce=we&&typeof we.transform=="function";we||t.warn("Unrecognized transform type "+Me+"."),we&&we.supplyDefaults&&(Be||Ce)?(Oe=we.supplyDefaults(me,J,ee,X),Oe.type=Me,Oe._module=we,t.pushUnique(q,we)):Oe=t.extendFlat({},me),ie.push(Oe)}}};function B(X,J,ee,se){for(var q=X.transforms,$=[X],le=0;le<q.length;le++){var ie=q[le],ce=d[ie.type];ce&&ce.transform&&($=ce.transform($,{transform:ie,fullTrace:X,fullData:J,layout:ee,fullLayout:se,transformIndex:le}))}return $}o.supplyLayoutGlobalDefaults=function(X,J,ee){function se(we,Oe){return t.coerce(X,J,o.layoutAttributes,we,Oe)}var q=X.template;t.isPlainObject(q)&&(J.template=q,J._template=q.layout,J._dataTemplate=q.data),se("autotypenumbers");var $=t.coerceFont(se,"font"),le=$.size;t.coerceFont(se,"title.font",t.extendFlat({},$,{size:Math.round(le*1.4)})),se("title.text",J._dfltTitle.plot),se("title.xref");var ie=se("title.yref");se("title.pad.t"),se("title.pad.r"),se("title.pad.b"),se("title.pad.l");var ce=se("title.automargin");se("title.x"),se("title.xanchor"),se("title.y"),se("title.yanchor"),ce&&(ie==="paper"&&(J.title.y!==0&&(J.title.y=1),J.title.yanchor==="auto"&&(J.title.yanchor=J.title.y===0?"top":"bottom")),ie==="container"&&(J.title.y==="auto"&&(J.title.y=1),J.title.yanchor==="auto"&&(J.title.yanchor=J.title.y<.5?"bottom":"top")));var me=se("uniformtext.mode");me&&se("uniformtext.minsize"),se("autosize",!(X.width&&X.height)),se("width"),se("height"),se("minreducedwidth"),se("minreducedheight"),se("margin.l"),se("margin.r"),se("margin.t"),se("margin.b"),se("margin.pad"),se("margin.autoexpand"),X.width&&X.height&&o.sanitizeMargins(J),A.getComponentMethod("grid","sizeDefaults")(X,J),se("paper_bgcolor"),se("separators",ee.decimal+ee.thousands),se("hidesources"),se("colorway"),se("datarevision");var Me=se("uirevision");se("editrevision",Me),se("selectionrevision",Me),A.getComponentMethod("modebar","supplyLayoutDefaults")(X,J),A.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(X,J,se),A.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(X,J,se),se("meta"),t.isPlainObject(X.transition)&&(se("transition.duration"),se("transition.easing"),se("transition.ordering")),A.getComponentMethod("calendars","handleDefaults")(X,J,"calendar"),A.getComponentMethod("fx","supplyLayoutGlobalDefaults")(X,J,se),t.coerce(X,J,f,"scattermode")};function F(X){return typeof X=="string"&&X.substr(X.length-2)==="px"&&parseFloat(X)}o.plotAutoSize=function(J,ee,se){var q=J._context||{},$=q.frameMargins,le,ie,ce=t.isPlotDiv(J);if(ce&&J.emit("plotly_autosize"),q.fillFrame)le=window.innerWidth,ie=window.innerHeight,document.body.style.overflow="hidden";else{var me=ce?window.getComputedStyle(J):{};if(le=F(me.width)||F(me.maxWidth)||se.width,ie=F(me.height)||F(me.maxHeight)||se.height,L($)&&$>0){var Me=1-2*$;le=Math.round(Me*le),ie=Math.round(Me*ie)}}var we=o.layoutAttributes.width.min,Oe=o.layoutAttributes.height.min;le<we&&(le=we),ie<Oe&&(ie=Oe);var Be=!ee.width&&Math.abs(se.width-le)>1,Ce=!ee.height&&Math.abs(se.height-ie)>1;(Ce||Be)&&(Be&&(se.width=le),Ce&&(se.height=ie)),J._initialAutoSize||(J._initialAutoSize={width:le,height:ie}),o.sanitizeMargins(se)},o.supplyLayoutModuleDefaults=function(X,J,ee,se){var q=A.componentsRegistry,$=J._basePlotModules,le,ie,ce,me=A.subplotsRegistry.cartesian;for(le in q)ce=q[le],ce.includeBasePlot&&ce.includeBasePlot(X,J);$.length||$.push(me),J._has("cartesian")&&(A.getComponentMethod("grid","contentDefaults")(X,J),me.finalizeSubplots(X,J));for(var Me in J._subplots)J._subplots[Me].sort(t.subplotSort);for(ie=0;ie<$.length;ie++)ce=$[ie],ce.supplyLayoutDefaults&&ce.supplyLayoutDefaults(X,J,ee);var we=J._modules;for(ie=0;ie<we.length;ie++)ce=we[ie],ce.supplyLayoutDefaults&&ce.supplyLayoutDefaults(X,J,ee);var Oe=J._transformModules;for(ie=0;ie<Oe.length;ie++)ce=Oe[ie],ce.supplyLayoutDefaults&&ce.supplyLayoutDefaults(X,J,ee,se);for(le in q)ce=q[le],ce.supplyLayoutDefaults&&ce.supplyLayoutDefaults(X,J,ee)},o.purge=function(X){var J=X._fullLayout||{};J._glcontainer!==void 0&&(J._glcontainer.selectAll(".gl-canvas").remove(),J._glcontainer.remove(),J._glcanvas=null),J._modeBar&&J._modeBar.destroy(),X._transitionData&&(X._transitionData._interruptCallbacks&&(X._transitionData._interruptCallbacks.length=0),X._transitionData._animationRaf&&window.cancelAnimationFrame(X._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(X),delete X.data,delete X.layout,delete X._fullData,delete X._fullLayout,delete X.calcdata,delete X.empty,delete X.fid,delete X.undoqueue,delete X.undonum,delete X.autoplay,delete X.changed,delete X._promises,delete X._redrawTimer,delete X._hmlumcount,delete X._hmpixcount,delete X._transitionData,delete X._transitioning,delete X._initialAutoSize,delete X._transitioningWithDuration,delete X._dragging,delete X._dragged,delete X._dragdata,delete X._hoverdata,delete X._snapshotInProgress,delete X._editing,delete X._mouseDownTime,delete X._legendMouseDownTime,X.removeAllListeners&&X.removeAllListeners()},o.style=function(X){var J=X._fullLayout._visibleModules,ee=[],se;for(se=0;se<J.length;se++){var q=J[se];q.style&&t.pushUnique(ee,q.style)}for(se=0;se<ee.length;se++)ee[se](X)},o.sanitizeMargins=function(X){if(!(!X||!X.margin)){var J=X.width,ee=X.height,se=X.margin,q=J-(se.l+se.r),$=ee-(se.t+se.b),le;q<0&&(le=(J-1)/(se.l+se.r),se.l=Math.floor(le*se.l),se.r=Math.floor(le*se.r)),$<0&&(le=(ee-1)/(se.t+se.b),se.t=Math.floor(le*se.t),se.b=Math.floor(le*se.b))}},o.clearAutoMarginIds=function(X){X._fullLayout._pushmarginIds={}},o.allowAutoMargin=function(X,J){X._fullLayout._pushmarginIds[J]=1};function O(X){var J=X.margin;if(!X._size){var ee=X._size={l:Math.round(J.l),r:Math.round(J.r),t:Math.round(J.t),b:Math.round(J.b),p:Math.round(J.pad)};ee.w=Math.round(X.width)-ee.l-ee.r,ee.h=Math.round(X.height)-ee.t-ee.b}X._pushmargin||(X._pushmargin={}),X._pushmarginIds||(X._pushmarginIds={}),X._reservedMargin||(X._reservedMargin={})}var N=2,_=2;o.autoMargin=function(X,J,ee){var se=X._fullLayout,q=se.width,$=se.height,le=se.margin,ie=se.minreducedwidth,ce=se.minreducedheight,me=t.constrain(q-le.l-le.r,N,ie),Me=t.constrain($-le.t-le.b,_,ce),we=Math.max(0,q-me),Oe=Math.max(0,$-Me),Be=se._pushmargin,Ce=se._pushmarginIds;if(le.autoexpand!==!1){if(!ee)delete Be[J],delete Ce[J];else{var xe=ee.pad;if(xe===void 0&&(xe=Math.min(12,le.l,le.r,le.t,le.b)),we){var Se=(ee.l+ee.r)/we;Se>1&&(ee.l/=Se,ee.r/=Se)}if(Oe){var He=(ee.t+ee.b)/Oe;He>1&&(ee.t/=He,ee.b/=He)}var Ge=ee.xl!==void 0?ee.xl:ee.x,ke=ee.xr!==void 0?ee.xr:ee.x,We=ee.yt!==void 0?ee.yt:ee.y,it=ee.yb!==void 0?ee.yb:ee.y;Be[J]={l:{val:Ge,size:ee.l+xe},r:{val:ke,size:ee.r+xe},b:{val:it,size:ee.b+xe},t:{val:We,size:ee.t+xe}},Ce[J]=1}if(!se._replotting)return o.doAutoMargin(X)}};function U(X){if("_redrawFromAutoMarginCount"in X._fullLayout)return!1;var J=n.list(X,"",!0);for(var ee in J)if(J[ee].autoshift||J[ee].shift)return!0;return!1}o.doAutoMargin=function(X){var J=X._fullLayout,ee=J.width,se=J.height;J._size||(J._size={}),O(J);var q=J._size,$=J.margin,le={t:0,b:0,l:0,r:0},ie=t.extendFlat({},q),ce=$.l,me=$.r,Me=$.t,we=$.b,Oe=J._pushmargin,Be=J._pushmarginIds,Ce=J.minreducedwidth,xe=J.minreducedheight;if($.autoexpand!==!1){for(var Se in Oe)Be[Se]||delete Oe[Se];var He=X._fullLayout._reservedMargin;for(var Ge in He)for(var ke in He[Ge]){var We=He[Ge][ke];le[ke]=Math.max(le[ke],We)}Oe.base={l:{val:0,size:ce},r:{val:1,size:me},t:{val:1,size:Me},b:{val:0,size:we}};for(var it in le){var et=0;for(var tt in Oe)tt!=="base"&&L(Oe[tt][it].size)&&(et=Oe[tt][it].size>et?Oe[tt][it].size:et);var at=Math.max(0,$[it]-et);le[it]=Math.max(0,le[it]-at)}for(var ht in Oe){var yt=Oe[ht].l||{},gt=Oe[ht].b||{},Et=yt.val,Ct=yt.size,Vt=gt.val,Qe=gt.size,Fe=ee-le.r-le.l,Ie=se-le.t-le.b;for(var ze in Oe){if(L(Ct)&&Oe[ze].r){var Re=Oe[ze].r.val,be=Oe[ze].r.size;if(Re>Et){var ye=(Ct*Re+(be-Fe)*Et)/(Re-Et),Ae=(be*(1-Et)+(Ct-Fe)*(1-Re))/(Re-Et);ye+Ae>ce+me&&(ce=ye,me=Ae)}}if(L(Qe)&&Oe[ze].t){var Ee=Oe[ze].t.val,Ne=Oe[ze].t.size;if(Ee>Vt){var Je=(Qe*Ee+(Ne-Ie)*Vt)/(Ee-Vt),qe=(Ne*(1-Vt)+(Qe-Ie)*(1-Ee))/(Ee-Vt);Je+qe>we+Me&&(we=Je,Me=qe)}}}}}var vt=t.constrain(ee-$.l-$.r,N,Ce),bt=t.constrain(se-$.t-$.b,_,xe),Wt=Math.max(0,ee-vt),qt=Math.max(0,se-bt);if(Wt){var At=(ce+me)/Wt;At>1&&(ce/=At,me/=At)}if(qt){var zt=(we+Me)/qt;zt>1&&(we/=zt,Me/=zt)}if(q.l=Math.round(ce)+le.l,q.r=Math.round(me)+le.r,q.t=Math.round(Me)+le.t,q.b=Math.round(we)+le.b,q.p=Math.round($.pad),q.w=Math.round(ee)-q.l-q.r,q.h=Math.round(se)-q.t-q.b,!J._replotting&&(o.didMarginChange(ie,q)||U(X))){"_redrawFromAutoMarginCount"in J?J._redrawFromAutoMarginCount++:J._redrawFromAutoMarginCount=1;var Jt=3*(1+Object.keys(Be).length);if(J._redrawFromAutoMarginCount<Jt)return A.call("_doPlot",X);J._size=ie,t.warn("Too many auto-margin redraws.")}Y(X)};function Y(X){var J=n.list(X,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(ee){for(var se=0;se<J.length;se++){var q=J[se][ee];q&&q()}})}var K=["l","r","t","b","p","w","h"];o.didMarginChange=function(X,J){for(var ee=0;ee<K.length;ee++){var se=K[ee],q=X[se],$=J[se];if(!L(q)||Math.abs($-q)>1)return!0}return!1},o.graphJson=function(X,J,ee,se,q,$){(q&&J&&!X._fullData||q&&!J&&!X._fullLayout)&&o.supplyDefaults(X);var le=q?X._fullData:X.data,ie=q?X._fullLayout:X.layout,ce=(X._transitionData||{})._frames;function me(Oe,Be){if(typeof Oe=="function")return Be?"_function_":null;if(t.isPlainObject(Oe)){var Ce={},xe;return Object.keys(Oe).sort().forEach(function(Se){if(["_","["].indexOf(Se.charAt(0))===-1){if(typeof Oe[Se]=="function"){Be&&(Ce[Se]="_function");return}if(ee==="keepdata"){if(Se.substr(Se.length-3)==="src")return}else if(ee==="keepstream"){if(xe=Oe[Se+"src"],typeof xe=="string"&&xe.indexOf(":")>0&&!t.isPlainObject(Oe.stream))return}else if(ee!=="keepall"&&(xe=Oe[Se+"src"],typeof xe=="string"&&xe.indexOf(":")>0))return;Ce[Se]=me(Oe[Se],Be)}}),Ce}return Array.isArray(Oe)?Oe.map(function(Se){return me(Se,Be)}):t.isTypedArray(Oe)?t.simpleMap(Oe,t.identity):t.isJSDate(Oe)?t.ms2DateTimeLocal(+Oe):Oe}var Me={data:(le||[]).map(function(Oe){var Be=me(Oe);return J&&delete Be.fit,Be})};if(!J&&(Me.layout=me(ie),q)){var we=ie._size;Me.layout.computed={margin:{b:we.b,l:we.l,r:we.r,t:we.t}}}return ce&&(Me.frames=me(ce)),$&&(Me.config=me(X._context,!0)),se==="object"?Me:JSON.stringify(Me)},o.modifyFrames=function(X,J){var ee,se,q,$=X._transitionData._frames,le=X._transitionData._frameHash;for(ee=0;ee<J.length;ee++)switch(se=J[ee],se.type){case"replace":q=se.value;var ie=($[se.index]||{}).name,ce=q.name;$[se.index]=le[ce]=q,ce!==ie&&(delete le[ie],le[ce]=q);break;case"insert":q=se.value,le[q.name]=q,$.splice(se.index,0,q);break;case"delete":q=$[se.index],delete le[q.name],$.splice(se.index,1);break}return Promise.resolve()},o.computeFrame=function(X,J){var ee=X._transitionData._frameHash,se,q,$,le;if(!J)throw new Error("computeFrame must be given a string frame name");var ie=ee[J.toString()];if(!ie)return!1;for(var ce=[ie],me=[ie.name];ie.baseframe&&(ie=ee[ie.baseframe.toString()])&&me.indexOf(ie.name)===-1;)ce.push(ie),me.push(ie.name);for(var Me={};ie=ce.pop();)if(ie.layout&&(Me.layout=o.extendLayout(Me.layout,ie.layout)),ie.data){if(Me.data||(Me.data=[]),q=ie.traces,!q)for(q=[],se=0;se<ie.data.length;se++)q[se]=se;for(Me.traces||(Me.traces=[]),se=0;se<ie.data.length;se++)$=q[se],$!=null&&(le=Me.traces.indexOf($),le===-1&&(le=Me.data.length,Me.traces[le]=$),Me.data[le]=o.extendTrace(Me.data[le],ie.data[se]))}return Me},o.recomputeFrameHash=function(X){for(var J=X._transitionData._frameHash={},ee=X._transitionData._frames,se=0;se<ee.length;se++){var q=ee[se];q&&q.name&&(J[q.name]=q)}},o.extendObjectWithContainers=function(X,J,ee){var se,q,$,le,ie,ce,me,Me,we=t.extendDeepNoArrays({},J||{}),Oe=t.expandObjectPaths(we),Be={};if(ee&&ee.length)for($=0;$<ee.length;$++)se=t.nestedProperty(Oe,ee[$]),q=se.get(),q===void 0?t.nestedProperty(Be,ee[$]).set(null):(se.set(null),t.nestedProperty(Be,ee[$]).set(q));if(X=t.extendDeepNoArrays(X||{},Oe),ee&&ee.length){for($=0;$<ee.length;$++)if(ie=t.nestedProperty(Be,ee[$]),me=ie.get(),!!me){for(ce=t.nestedProperty(X,ee[$]),Me=ce.get(),Array.isArray(Me)||(Me=[],ce.set(Me)),le=0;le<me.length;le++){var Ce=me[le];Ce===null?Me[le]=null:Me[le]=o.extendObjectWithContainers(Me[le],Ce)}ce.set(Me)}}return X},o.dataArrayContainers=["transforms","dimensions"],o.layoutArrayContainers=A.layoutArrayContainers,o.extendTrace=function(X,J){return o.extendObjectWithContainers(X,J,o.dataArrayContainers)},o.extendLayout=function(X,J){return o.extendObjectWithContainers(X,J,o.layoutArrayContainers)},o.transition=function(X,J,ee,se,q,$){var le={redraw:q.redraw},ie={},ce=[];return le.prepareFn=function(){for(var me=Array.isArray(J)?J.length:0,Me=se.slice(0,me),we=0;we<Me.length;we++){var Oe=Me[we],Be=X._fullData[Oe],Ce=Be._module;if(Ce){if(Ce.animatable){var xe=Ce.basePlotModule.name;ie[xe]||(ie[xe]=[]),ie[xe].push(Oe)}X.data[Me[we]]=o.extendTrace(X.data[Me[we]],J[we])}}var Se=t.expandObjectPaths(t.extendDeepNoArrays({},ee)),He=/^[xy]axis[0-9]*$/;for(var Ge in Se)He.test(Ge)&&delete Se[Ge].range;o.extendLayout(X.layout,Se),delete X.calcdata,o.supplyDefaults(X),o.doCalcdata(X);var ke=t.expandObjectPaths(ee);if(ke){var We=X._fullLayout._plots;for(var it in We){var et=We[it],tt=et.xaxis,at=et.yaxis,ht=tt.range.slice(),yt=at.range.slice(),gt=null,Et=null,Ct=null,Vt=null;Array.isArray(ke[tt._name+".range"])?gt=ke[tt._name+".range"].slice():Array.isArray((ke[tt._name]||{}).range)&&(gt=ke[tt._name].range.slice()),Array.isArray(ke[at._name+".range"])?Et=ke[at._name+".range"].slice():Array.isArray((ke[at._name]||{}).range)&&(Et=ke[at._name].range.slice()),ht&&gt&&(tt.r2l(ht[0])!==tt.r2l(gt[0])||tt.r2l(ht[1])!==tt.r2l(gt[1]))&&(Ct={xr0:ht,xr1:gt}),yt&&Et&&(at.r2l(yt[0])!==at.r2l(Et[0])||at.r2l(yt[1])!==at.r2l(Et[1]))&&(Vt={yr0:yt,yr1:Et}),(Ct||Vt)&&ce.push(t.extendFlat({plotinfo:et},Ct,Vt))}}return Promise.resolve()},le.runFn=function(me){var Me,we=X._fullLayout._basePlotModules,Oe=ce.length,Be;if(ee)for(Be=0;Be<we.length;Be++)we[Be].transitionAxes&&we[Be].transitionAxes(X,ce,$,me);Oe?(Me=t.extendFlat({},$),Me.duration=0,delete ie.cartesian):Me=$;for(var Ce in ie){var xe=ie[Ce],Se=X._fullData[xe[0]]._module;Se.basePlotModule.plot(X,xe,Me,me)}},re(X,$,le)},o.transitionFromReact=function(X,J,ee,se){var q=X._fullLayout,$=q.transition,le={},ie=[];return le.prepareFn=function(){var ce=q._plots;le.redraw=!1,J.anim==="some"&&(le.redraw=!0),ee.anim==="some"&&(le.redraw=!0);for(var me in ce){var Me=ce[me],we=Me.xaxis,Oe=Me.yaxis,Be=se[we._name].range.slice(),Ce=se[Oe._name].range.slice(),xe=we.range.slice(),Se=Oe.range.slice();we.setScale(),Oe.setScale();var He=null,Ge=null;(we.r2l(Be[0])!==we.r2l(xe[0])||we.r2l(Be[1])!==we.r2l(xe[1]))&&(He={xr0:Be,xr1:xe}),(Oe.r2l(Ce[0])!==Oe.r2l(Se[0])||Oe.r2l(Ce[1])!==Oe.r2l(Se[1]))&&(Ge={yr0:Ce,yr1:Se}),(He||Ge)&&ie.push(t.extendFlat({plotinfo:Me},He,Ge))}return Promise.resolve()},le.runFn=function(ce){for(var me=X._fullData,Me=X._fullLayout,we=Me._basePlotModules,Oe,Be,Ce,xe=[],Se=0;Se<me.length;Se++)xe.push(Se);function He(){if(X._fullLayout)for(var ke=0;ke<we.length;ke++)we[ke].transitionAxes&&we[ke].transitionAxes(X,ie,Oe,ce)}function Ge(){if(X._fullLayout)for(var ke=0;ke<we.length;ke++)we[ke].plot(X,Ce,Be,ce)}ie.length&&J.anim?$.ordering==="traces first"?(Oe=t.extendFlat({},$,{duration:0}),Ce=xe,Be=$,setTimeout(He,$.duration),Ge()):(Oe=$,Ce=null,Be=t.extendFlat({},$,{duration:0}),setTimeout(Ge,Oe.duration),He()):ie.length?(Oe=$,He()):J.anim&&(Ce=xe,Be=$,Ge())},re(X,$,le)};function re(X,J,ee){var se=!1;function q(we){var Oe=Promise.resolve();if(!we)return Oe;for(;we.length;)Oe=Oe.then(we.shift());return Oe}function $(we){if(we)for(;we.length;)we.shift()}function le(){return X.emit("plotly_transitioning",[]),new Promise(function(we){X._transitioning=!0,J.duration>0&&(X._transitioningWithDuration=!0),X._transitionData._interruptCallbacks.push(function(){se=!0}),ee.redraw&&X._transitionData._interruptCallbacks.push(function(){return A.call("redraw",X)}),X._transitionData._interruptCallbacks.push(function(){X.emit("plotly_transitioninterrupted",[])});var Oe=0,Be=0;function Ce(){return Oe++,function(){Be++,!se&&Be===Oe&&ie(we)}}ee.runFn(Ce),setTimeout(Ce())})}function ie(we){if(X._transitionData)return $(X._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(ee.redraw)return A.call("redraw",X)}).then(function(){X._transitioning=!1,X._transitioningWithDuration=!1,X.emit("plotly_transitioned",[])}).then(we)}function ce(){if(X._transitionData)return X._transitioning=!1,q(X._transitionData._interruptCallbacks)}var me=[o.previousPromises,ce,ee.prepareFn,o.rehover,o.reselect,le],Me=t.syncOrAsync(me,X);return(!Me||!Me.then)&&(Me=Promise.resolve()),Me.then(function(){return X})}o.doCalcdata=function(X,J){var ee=n.list(X),se=X._fullData,q=X._fullLayout,$,le,ie,ce,me=new Array(se.length),Me=(X.calcdata||[]).slice();for(X.calcdata=me,q._numBoxes=0,q._numViolins=0,q._violinScaleGroupStats={},X._hmpixcount=0,X._hmlumcount=0,q._piecolormap={},q._sunburstcolormap={},q._treemapcolormap={},q._iciclecolormap={},q._funnelareacolormap={},ie=0;ie<se.length;ie++)if(Array.isArray(J)&&J.indexOf(ie)===-1){me[ie]=Me[ie];continue}for(ie=0;ie<se.length;ie++)$=se[ie],$._arrayAttrs=v.findArrayAttributes($),$._extremes={};var we=q._subplots.polar||[];for(ie=0;ie<we.length;ie++)ee.push(q[we[ie]].radialaxis,q[we[ie]].angularaxis);for(var Oe in q._colorAxes){var Be=q[Oe];Be.cauto!==!1&&(delete Be.cmin,delete Be.cmax)}var Ce=!1;function xe(Ge){if($=se[Ge],le=$._module,$.visible===!0&&$.transforms){if(le&&le.calc){var ke=le.calc(X,$);ke[0]&&ke[0].t&&ke[0].t._scene&&delete ke[0].t._scene.dirty}for(ce=0;ce<$.transforms.length;ce++){var We=$.transforms[ce];le=d[We.type],le&&le.calcTransform&&($._hasCalcTransform=!0,Ce=!0,le.calcTransform(X,$,We))}}}function Se(Ge,ke){if($=se[Ge],le=$._module,!!le.isContainer===ke){var We=[];if($.visible===!0&&$._length!==0){delete $._indexToPoints;var it=$.transforms||[];for(ce=it.length-1;ce>=0;ce--)if(it[ce].enabled){$._indexToPoints=it[ce]._indexToPoints;break}le&&le.calc&&(We=le.calc(X,$))}(!Array.isArray(We)||!We[0])&&(We=[{x:s,y:s}]),We[0].t||(We[0].t={}),We[0].trace=$,me[Ge]=We}}for(Q(ee,se,q),ie=0;ie<se.length;ie++)Se(ie,!0);for(ie=0;ie<se.length;ie++)xe(ie);for(Ce&&Q(ee,se,q),ie=0;ie<se.length;ie++)Se(ie,!0);for(ie=0;ie<se.length;ie++)Se(ie,!1);j(X);var He=fe(ee,X);if(He.length){for(q._numBoxes=0,q._numViolins=0,ie=0;ie<He.length;ie++)Se(He[ie],!0);for(ie=0;ie<He.length;ie++)Se(He[ie],!1);j(X)}A.getComponentMethod("fx","calc")(X),A.getComponentMethod("errorbars","calc")(X)};var ae=/(total|sum|min|max|mean|median) (ascending|descending)/;function fe(X,J){var ee=[],se,q,$,le,ie;function ce(ze,Re,be){var ye=Re._id.charAt(0);if(ze==="histogram2dcontour"){var Ae=Re._counterAxes[0],Ee=n.getFromId(J,Ae),Ne=ye==="x"||Ae==="x"&&Ee.type==="category",Je=ye==="y"||Ae==="y"&&Ee.type==="category";return function(qe,vt){return qe===0||vt===0||Ne&&qe===be[vt].length-1||Je&&vt===be.length-1?-1:(ye==="y"?vt:qe)-1}}else return function(qe,vt){return ye==="y"?vt:qe}}var me={min:function(ze){return t.aggNums(Math.min,null,ze)},max:function(ze){return t.aggNums(Math.max,null,ze)},sum:function(ze){return t.aggNums(function(Re,be){return Re+be},null,ze)},total:function(ze){return t.aggNums(function(Re,be){return Re+be},null,ze)},mean:function(ze){return t.mean(ze)},median:function(ze){return t.median(ze)}};function Me(ze,Re){return ze[1]-Re[1]}function we(ze,Re){return Re[1]-ze[1]}for(se=0;se<X.length;se++){var Oe=X[se];if(Oe.type==="category"){var Be=Oe.categoryorder.match(ae);if(Be){var Ce=Be[1],xe=Be[2],Se=Oe._id.charAt(0),He=Se==="x",Ge=[];for(q=0;q<Oe._categories.length;q++)Ge.push([Oe._categories[q],[]]);for(q=0;q<Oe._traceIndices.length;q++){var ke=Oe._traceIndices[q],We=J._fullData[ke];if(We.visible===!0){var it=We.type;A.traceIs(We,"histogram")&&(delete We._xautoBinFinished,delete We._yautoBinFinished);var et=it==="splom",tt=it==="scattergl",at=J.calcdata[ke];for($=0;$<at.length;$++){var ht=at[$],yt,gt;if(et){var Et=We._axesDim[Oe._id];if(!He){var Ct=We._diag[Et][0];Ct&&(Oe=J._fullLayout[n.id2name(Ct)])}var Vt=ht.trace.dimensions[Et].values;for(le=0;le<Vt.length;le++)for(yt=Oe._categoriesMap[Vt[le]],ie=0;ie<ht.trace.dimensions.length;ie++)if(ie!==Et){var Qe=ht.trace.dimensions[ie];Ge[yt][1].push(Qe.values[le])}}else if(tt){for(le=0;le<ht.t.x.length;le++)He?(yt=ht.t.x[le],gt=ht.t.y[le]):(yt=ht.t.y[le],gt=ht.t.x[le]),Ge[yt][1].push(gt);ht.t&&ht.t._scene&&delete ht.t._scene.dirty}else if(ht.hasOwnProperty("z")){gt=ht.z;var Fe=ce(We.type,Oe,gt);for(le=0;le<gt.length;le++)for(ie=0;ie<gt[le].length;ie++)yt=Fe(ie,le),yt+1&&Ge[yt][1].push(gt[le][ie])}else for(yt=ht.p,yt===void 0&&(yt=ht[Se]),gt=ht.s,gt===void 0&&(gt=ht.v),gt===void 0&&(gt=He?ht.y:ht.x),Array.isArray(gt)||(gt===void 0?gt=[]:gt=[gt]),le=0;le<gt.length;le++)Ge[yt][1].push(gt[le])}}}Oe._categoriesValue=Ge;var Ie=[];for(q=0;q<Ge.length;q++)Ie.push([Ge[q][0],me[Ce](Ge[q][1])]);Ie.sort(xe==="descending"?we:Me),Oe._categoriesAggregatedValue=Ie,Oe._initialCategories=Ie.map(function(ze){return ze[0]}),ee=ee.concat(Oe.sortByInitialCategories())}}}return ee}function Q(X,J,ee){var se={};function q(ce){ce.clearCalc(),ce.type==="multicategory"&&ce.setupMultiCategory(J),se[ce._id]=1}t.simpleMap(X,q);for(var $=ee._axisMatchGroups||[],le=0;le<$.length;le++)for(var ie in $[le])se[ie]||q(ee[n.id2name(ie)])}function j(X){var J=X._fullLayout,ee=J._visibleModules,se={},q,$,le;for($=0;$<ee.length;$++){var ie=ee[$],ce=ie.crossTraceCalc;if(ce){var me=ie.basePlotModule.name;se[me]?t.pushUnique(se[me],ce):se[me]=[ce]}}for(le in se){var Me=se[le],we=J._subplots[le];if(Array.isArray(we))for(q=0;q<we.length;q++){var Oe=we[q],Be=le==="cartesian"?J._plots[Oe]:J[Oe];for($=0;$<Me.length;$++)Me[$](X,Be,Oe)}else for($=0;$<Me.length;$++)Me[$](X)}}o.rehover=function(X){X._fullLayout._rehover&&X._fullLayout._rehover()},o.redrag=function(X){X._fullLayout._redrag&&X._fullLayout._redrag()},o.reselect=function(X){var J=X._fullLayout,ee=(X.layout||{}).selections,se=J._previousSelections;J._previousSelections=ee;var q=J._reselect||JSON.stringify(ee)!==JSON.stringify(se);A.getComponentMethod("selections","reselect")(X,q)},o.generalUpdatePerTraceModule=function(X,J,ee,se){var q=J.traceHash,$={},le;for(le=0;le<ee.length;le++){var ie=ee[le],ce=ie[0].trace;ce.visible&&($[ce.type]=$[ce.type]||[],$[ce.type].push(ie))}for(var me in q)if(!$[me]){var Me=q[me][0],we=Me[0].trace;we.visible=!1,$[me]=[Me]}for(var Oe in $){var Be=$[Oe],Ce=Be[0][0].trace._module;Ce.plot(X,J,t.filterVisible(Be),se)}J.traceHash=$},o.plotBasePlot=function(X,J,ee,se,q){var $=A.getModule(X),le=c(J.calcdata,$)[0];$.plot(J,le,se,q)},o.cleanBasePlot=function(X,J,ee,se,q){var $=q._has&&q._has(X),le=ee._has&&ee._has(X);$&&!le&&q["_"+X+"layer"].selectAll("g.trace").remove()}},9813:function(W){W.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(W,H,e){var g=e(71828),P=e(61082).tester,i=g.findIndexOfMin,L=g.isAngleInsideSector,A=g.angleDelta,v=g.angleDist;function p(o,d,M,T,E){if(!L(d,T))return!1;var x,S;M[0]<M[1]?(x=M[0],S=M[1]):(x=M[1],S=M[0]);var b=P(l(x,T[0],T[1],E)),a=P(l(S,T[0],T[1],E)),C=[o*Math.cos(d),o*Math.sin(d)];return a.contains(C)&&!b.contains(C)}function t(o,d,M,T){var E,x,S=T[0],b=T[1],a=m(Math.sin(d)-Math.sin(o)),C=m(Math.cos(d)-Math.cos(o)),y=Math.tan(M),z=m(1/y),I=a/C,B=b-I*S;return z?a&&C?(E=B/(y-I),x=y*E):C?(E=b*z,x=b):(E=S,x=S*y):a&&C?(E=0,x=B):C?(E=0,x=b):E=x=NaN,[E,x]}function r(o,d,M,T){var E=-d*M,x=d*d+1,S=2*(d*E-M),b=E*E+M*M-o*o,a=Math.sqrt(S*S-4*x*b),C=(-S+a)/(2*x),y=(-S-a)/(2*x);return[[C,d*C+E+T],[y,d*y+E+T]]}function s(o,d){var M=d.length,T=new Array(M+1),E;for(E=0;E<M;E++){var x=d[E];T[E]=[o*Math.cos(x),o*Math.sin(x)]}return T[E]=T[0].slice(),T}function n(o,d,M,T){var E=T.length,x=[],S,b;function a(_){return[o*Math.cos(_),o*Math.sin(_)]}function C(_,U,Y){return t(_,U,Y,a(_))}function y(_){return g.mod(_,E)}function z(_){return L(_,[d,M])}var I=i(T,function(_){return z(_)?v(_,d):1/0}),B=C(T[I],T[y(I-1)],d);for(x.push(B),S=I,b=0;b<E;S++,b++){var F=T[y(S)];if(!z(F))break;x.push(a(F))}var O=i(T,function(_){return z(_)?v(_,M):1/0}),N=C(T[O],T[y(O+1)],M);return x.push(N),x.push([0,0]),x.push(x[0].slice()),x}function l(o,d,M,T){return g.isFullCircle([d,M])?s(o,T):n(o,d,M,T)}function f(o,d,M,T){for(var E=1/0,x=1/0,S=l(o,d,M,T),b=0;b<S.length;b++){var a=S[b];E=Math.min(E,a[0]),x=Math.min(x,-a[1])}return[E,x]}function u(o,d){var M=function(x){var S=A(x,o);return S>0?S:1/0},T=i(d,M),E=g.mod(T+1,d.length);return[d[T],d[E]]}function m(o){return Math.abs(o)>1e-10?o:0}function c(o,d,M){d=d||0,M=M||0;for(var T=o.length,E=new Array(T),x=0;x<T;x++){var S=o[x];E[x]=[d+S[0],M-S[1]]}return E}function w(o,d,M,T,E,x){var S=l(o,d,M,T);return"M"+c(S,E,x).join("L")}function h(o,d,M,T,E,x,S){var b,a;o<d?(b=o,a=d):(b=d,a=o);var C=c(l(b,M,T,E),x,S),y=c(l(a,M,T,E),x,S);return"M"+y.reverse().join("L")+"M"+C.join("L")}W.exports={isPtInsidePolygon:p,findPolygonOffset:f,findEnclosingVertexAngles:u,findIntersectionXY:t,findXYatLength:r,clampTiny:m,pathPolygon:w,pathPolygonAnnulus:h}},23580:function(W,H,e){var g=e(27659).AU,P=e(71828).counterRegex,i=e(77997),L=e(9813),A=L.attr,v=L.name,p=P(v),t={};t[A]={valType:"subplotid",dflt:v,editType:"calc"};function r(n){for(var l=n._fullLayout,f=n.calcdata,u=l._subplots[v],m=0;m<u.length;m++){var c=u[m],w=g(f,v,c),h=l[c]._subplot;h||(h=i(n,c),l[c]._subplot=h),h.plot(w,l,n._promises)}}function s(n,l,f,u){for(var m=u._subplots[v]||[],c=u._has&&u._has("gl"),w=l._has&&l._has("gl"),h=c&&!w,o=0;o<m.length;o++){var d=m[o],M=u[d]._subplot;if(!l[d]&&M){M.framework.remove(),M.layers["radial-axis-title"].remove();for(var T in M.clipPaths)M.clipPaths[T].remove()}h&&M._scene&&(M._scene.destroy(),M._scene=null)}}W.exports={attr:A,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:t,layoutAttributes:e(73812),supplyLayoutDefaults:e(68993),plot:r,clean:s,toSVG:e(93612).toSVG}},73812:function(W,H,e){var g=e(22399),P=e(13838),i=e(27670).Y,L=e(71828).extendFlat,A=e(30962).overrideAll,v=A({color:P.color,showline:L({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:L({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),p=A({tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,ticklabelstep:P.ticklabelstep,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickfont:P.tickfont,tickangle:P.tickangle,tickformat:P.tickformat,tickformatstops:P.tickformatstops,layer:P.layer},"plot","from-root"),t={visible:L({},P.visible,{dflt:!0}),type:L({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},autorange:L({},P.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:L({},P.minallowed,{editType:"plot"}),maxallowed:L({},P.maxallowed,{editType:"plot"}),range:L({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:P.categoryorder,categoryarray:P.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:L({},P.title.text,{editType:"plot",dflt:""}),font:L({},P.title.font,{editType:"plot"}),editType:"plot"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}};L(t,v,p);var r={visible:L({},P.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:P.autotypenumbers,categoryorder:P.categoryorder,categoryarray:P.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};L(r,v,p),W.exports={domain:i({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:g.background},radialaxis:t,angularaxis:r,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(W,H,e){var g=e(71828),P=e(7901),i=e(44467),L=e(49119),A=e(27659).NG,v=e(26218),p=e(38701),t=e(96115),r=e(89426),s=e(15258),n=e(92128),l=e(23074),f=e(4322),u=e(73812),m=e(12101),c=e(9813),w=c.axisNames;function h(d,M,T,E){var x=T("bgcolor");E.bgColor=P.combine(x,E.paper_bgcolor);var S=T("sector");T("hole");var b=A(E.fullData,c.name,E.id),a=E.layoutOut,C;function y(ee,se){return T(C+"."+ee,se)}for(var z=0;z<w.length;z++){C=w[z],g.isPlainObject(d[C])||(d[C]={});var I=d[C],B=i.newContainer(M,C);B._id=B._name=C,B._attr=E.id+"."+C,B._traceIndices=b.map(function(ee){return ee._expandedIndex});var F=c.axisName2dataArray[C],O=o(I,B,y,b,F,E);s(I,B,y,{axData:b,dataAttr:F});var N=y("visible");switch(m(B,M,a),y("uirevision",M.uirevision),B._m=1,C){case"radialaxis":y("minallowed"),y("maxallowed");var _=y("range"),U=B.getAutorangeDflt(_),Y=y("autorange",U),K;_&&(_[0]===null&&_[1]===null||(_[0]===null||_[1]===null)&&(Y==="reversed"||Y===!0)||_[0]!==null&&(Y==="min"||Y==="max reversed")||_[1]!==null&&(Y==="max"||Y==="min reversed"))&&(_=void 0,delete B.range,B.autorange=!0,K=!0),K||(U=B.getAutorangeDflt(_),Y=y("autorange",U)),I.autorange=Y,Y&&(l(y,Y,_),(O==="linear"||O==="-")&&y("rangemode"),B.isReversed()&&(B._m=-1)),B.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(O==="date"){g.log("Polar plots do not support date angular axes yet.");for(var re=0;re<b.length;re++)b[re].visible=!1;O=I.type=B.type="linear"}y(O==="linear"?"thetaunit":"period");var ae=y("direction");y("rotation",{counterclockwise:0,clockwise:90}[ae]);break}if(r(I,B,y,B.type,{tickSuffixDflt:B.thetaunit==="degrees"?"":void 0}),N){var fe,Q,j,X,J=E.font||{};fe=y("color"),Q=fe===I.color?fe:J.color,j=J.size,X=J.family,v(I,B,y,B.type),t(I,B,y,B.type,{font:{color:Q,size:j,family:X}}),p(I,B,y,{outerTicks:!0}),n(I,B,y,{dfltColor:fe,bgColor:E.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:u[C]}),y("layer"),C==="radialaxis"&&(y("side"),y("angle",S[0]),y("title.text"),g.coerceFont(y,"title.font",{color:Q,size:g.bigFont(j),family:X}))}O!=="category"&&y("hoverformat"),B._input=I}M.angularaxis.type==="category"&&T("gridshape")}function o(d,M,T,E,x,S){var b=T("autotypenumbers",S.autotypenumbersDflt),a=T("type");if(a==="-"){for(var C,y=0;y<E.length;y++)if(E[y].visible){C=E[y];break}C&&C[x]&&(M.type=f(C[x],"gregorian",{noMultiCategory:!0,autotypenumbers:b})),M.type==="-"?M.type="linear":d.type=M.type}return M.type}W.exports=function(M,T,E){L(M,T,E,{type:c.name,attributes:u,handleDefaults:h,font:T.font,autotypenumbersDflt:T.autotypenumbers,paper_bgcolor:T.paper_bgcolor,fullData:E,layoutOut:T})}},77997:function(W,H,e){var g=e(39898),P=e(84267),i=e(73972),L=e(71828),A=L.strRotate,v=L.strTranslate,p=e(7901),t=e(91424),r=e(74875),s=e(89298),n=e(21994),l=e(12101),f=e(71739).doAutoRange,u=e(29323),m=e(28569),c=e(30211),w=e(92998),h=e(47322).prepSelect,o=e(47322).selectOnClick,d=e(47322).clearOutline,M=e(6964),T=e(33306),E=e(61549).redrawReglTraces,x=e(18783).MID_SHIFT,S=e(9813),b=e(10869),a=e(23893),C=a.smith,y=a.reactanceArc,z=a.resistanceArc,I=a.smithTransform,B=L._,F=L.mod,O=L.deg2rad,N=L.rad2deg;function _(fe,Q,j){this.isSmith=j||!1,this.id=Q,this.gd=fe,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var X=fe._fullLayout,J="clip"+X._uid+Q;this.clipIds.forTraces=J+"-for-traces",this.clipPaths.forTraces=X._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=X["_"+(j?"smith":"polar")+"layer"].append("g").attr("class",Q),this.getHole=function(ee){return this.isSmith?0:ee.hole},this.getSector=function(ee){return this.isSmith?[0,360]:ee.sector},this.getRadial=function(ee){return this.isSmith?ee.realaxis:ee.radialaxis},this.getAngular=function(ee){return this.isSmith?ee.imaginaryaxis:ee.angularaxis},j||(this.radialTickLayout=null,this.angularTickLayout=null)}var U=_.prototype;W.exports=function(Q,j,X){return new _(Q,j,X)},U.plot=function(fe,Q){for(var j=this,X=Q[j.id],J=!1,ee=0;ee<fe.length;ee++){var se=fe[ee][0].trace;if(se.cliponaxis===!1){J=!0;break}}j._hasClipOnAxisFalse=J,j.updateLayers(Q,X),j.updateLayout(Q,X),r.generalUpdatePerTraceModule(j.gd,j,fe,X),j.updateFx(Q,X),j.isSmith&&(delete X.realaxis.range,delete X.imaginaryaxis.range)},U.updateLayers=function(fe,Q){var j=this,X=j.isSmith,J=j.layers,ee=j.getRadial(Q),se=j.getAngular(Q),q=S.layerNames,$=q.indexOf("frontplot"),le=q.slice(0,$),ie=se.layer==="below traces",ce=ee.layer==="below traces";ie&&le.push("angular-line"),ce&&le.push("radial-line"),ie&&le.push("angular-axis"),ce&&le.push("radial-axis"),le.push("frontplot"),ie||le.push("angular-line"),ce||le.push("radial-line"),ie||le.push("angular-axis"),ce||le.push("radial-axis");var me=(X?"smith":"polar")+"sublayer",Me=j.framework.selectAll("."+me).data(le,String);Me.enter().append("g").attr("class",function(we){return me+" "+we}).each(function(we){var Oe=J[we]=g.select(this);switch(we){case"frontplot":X||Oe.append("g").classed("barlayer",!0),Oe.append("g").classed("scatterlayer",!0);break;case"backplot":Oe.append("g").classed("maplayer",!0);break;case"plotbg":J.bg=Oe.append("path");break;case"radial-grid":Oe.style("fill","none");break;case"angular-grid":Oe.style("fill","none");break;case"radial-line":Oe.append("line").style("fill","none");break;case"angular-line":Oe.append("path").style("fill","none");break}}),Me.order()},U.updateLayout=function(fe,Q){var j=this,X=j.layers,J=fe._size,ee=j.getRadial(Q),se=j.getAngular(Q),q=Q.domain.x,$=Q.domain.y;j.xOffset=J.l+J.w*q[0],j.yOffset=J.t+J.h*(1-$[1]);var le=j.xLength=J.w*(q[1]-q[0]),ie=j.yLength=J.h*($[1]-$[0]),ce=j.getSector(Q);j.sectorInRad=ce.map(O);var me=j.sectorBBox=K(ce),Me=me[2]-me[0],we=me[3]-me[1],Oe=ie/le,Be=Math.abs(we/Me),Ce,xe,Se,He,Ge;Oe>Be?(Ce=le,xe=le*Be,Ge=(ie-xe)/J.h/2,Se=[q[0],q[1]],He=[$[0]+Ge,$[1]-Ge]):(Ce=ie/Be,xe=ie,Ge=(le-Ce)/J.w/2,Se=[q[0]+Ge,q[1]-Ge],He=[$[0],$[1]]),j.xLength2=Ce,j.yLength2=xe,j.xDomain2=Se,j.yDomain2=He;var ke=j.xOffset2=J.l+J.w*Se[0],We=j.yOffset2=J.t+J.h*(1-He[1]),it=j.radius=Ce/Me,et=j.innerRadius=j.getHole(Q)*it,tt=j.cx=ke-it*me[0],at=j.cy=We+it*me[3],ht=j.cxx=tt-ke,yt=j.cyy=at-We,gt=ee.side,Et;gt==="counterclockwise"?(Et=gt,gt="top"):gt==="clockwise"&&(Et=gt,gt="bottom"),j.radialAxis=j.mockAxis(fe,Q,ee,{_id:"x",side:gt,_trueSide:Et,domain:[et/J.w,it/J.w]}),j.angularAxis=j.mockAxis(fe,Q,se,{side:"right",domain:[0,Math.PI],autorange:!1}),j.doAutoRange(fe,Q),j.updateAngularAxis(fe,Q),j.updateRadialAxis(fe,Q),j.updateRadialAxisTitle(fe,Q),j.xaxis=j.mockCartesianAxis(fe,Q,{_id:"x",domain:Se}),j.yaxis=j.mockCartesianAxis(fe,Q,{_id:"y",domain:He});var Ct=j.pathSubplot();j.clipPaths.forTraces.select("path").attr("d",Ct).attr("transform",v(ht,yt)),X.frontplot.attr("transform",v(ke,We)).call(t.setClipUrl,j._hasClipOnAxisFalse?null:j.clipIds.forTraces,j.gd),X.bg.attr("d",Ct).attr("transform",v(tt,at)).call(p.fill,Q.bgcolor)},U.mockAxis=function(fe,Q,j,X){var J=L.extendFlat({},j,X);return l(J,Q,fe),J},U.mockCartesianAxis=function(fe,Q,j){var X=this,J=X.isSmith,ee=j._id,se=L.extendFlat({type:"linear"},j);n(se,fe);var q={x:[0,2],y:[1,3]};return se.setRange=function(){var $=X.sectorBBox,le=q[ee],ie=X.radialAxis._rl,ce=(ie[1]-ie[0])/(1-X.getHole(Q));se.range=[$[le[0]]*ce,$[le[1]]*ce]},se.isPtWithinRange=ee==="x"&&!J?function($){return X.isPtInside($)}:function(){return!0},se.setRange(),se.setScale(),se},U.doAutoRange=function(fe,Q){var j=this,X=j.gd,J=j.radialAxis,ee=j.getRadial(Q);f(X,J);var se=J.range;ee.range=se.slice(),ee._input.range=se.slice(),J._rl=[J.r2l(se[0],null,"gregorian"),J.r2l(se[1],null,"gregorian")]},U.updateRadialAxis=function(fe,Q){var j=this,X=j.gd,J=j.layers,ee=j.radius,se=j.innerRadius,q=j.cx,$=j.cy,le=j.getRadial(Q),ie=F(j.getSector(Q)[0],360),ce=j.radialAxis,me=se<ee,Me=j.isSmith;Me||(j.fillViewInitialKey("radialaxis.angle",le.angle),j.fillViewInitialKey("radialaxis.range",ce.range.slice()),ce.setGeometry()),ce.tickangle==="auto"&&ie>90&&ie<=270&&(ce.tickangle=180);var we=Me?function(it){var et=I(j,C([it.x,0]));return v(et[0]-q,et[1]-$)}:function(it){return v(ce.l2p(it.x)+se,0)},Oe=Me?function(it){return z(j,it.x,-1/0,1/0)}:function(it){return j.pathArc(ce.r2p(it.x)+se)},Be=Y(le);if(j.radialTickLayout!==Be&&(J["radial-axis"].selectAll(".xtick").remove(),j.radialTickLayout=Be),me){ce.setScale();var Ce=0,xe=Me?(ce.tickvals||[]).filter(function(it){return it>=0}).map(function(it){return s.tickText(ce,it,!0,!1)}):s.calcTicks(ce),Se=Me?xe:s.clipEnds(ce,xe),He=s.getTickSigns(ce)[2];Me&&((ce.ticks==="top"&&ce.side==="bottom"||ce.ticks==="bottom"&&ce.side==="top")&&(He=-He),ce.ticks==="top"&&ce.side==="top"&&(Ce=-ce.ticklen),ce.ticks==="bottom"&&ce.side==="bottom"&&(Ce=ce.ticklen)),s.drawTicks(X,ce,{vals:xe,layer:J["radial-axis"],path:s.makeTickPath(ce,0,He),transFn:we,crisp:!1}),s.drawGrid(X,ce,{vals:Se,layer:J["radial-grid"],path:Oe,transFn:L.noop,crisp:!1}),s.drawLabels(X,ce,{vals:xe,layer:J["radial-axis"],transFn:we,labelFns:s.makeLabelFns(ce,Ce)})}var Ge=j.radialAxisAngle=j.vangles?N(re(O(le.angle),j.vangles)):le.angle,ke=v(q,$),We=ke+A(-Ge);ae(J["radial-axis"],me&&(le.showticklabels||le.ticks),{transform:We}),ae(J["radial-grid"],me&&le.showgrid,{transform:Me?"":ke}),ae(J["radial-line"].select("line"),me&&le.showline,{x1:Me?-ee:se,y1:0,x2:ee,y2:0,transform:We}).attr("stroke-width",le.linewidth).call(p.stroke,le.linecolor)},U.updateRadialAxisTitle=function(fe,Q,j){if(!this.isSmith){var X=this,J=X.gd,ee=X.radius,se=X.cx,q=X.cy,$=X.getRadial(Q),le=X.id+"title",ie=0;if($.title){var ce=t.bBox(X.layers["radial-axis"].node()).height,me=$.title.font.size,Me=$.side;ie=Me==="top"?me:Me==="counterclockwise"?-(ce+me*.4):ce+me*.8}var we=j!==void 0?j:X.radialAxisAngle,Oe=O(we),Be=Math.cos(Oe),Ce=Math.sin(Oe),xe=se+ee/2*Be+ie*Ce,Se=q-ee/2*Ce+ie*Be;X.layers["radial-axis-title"]=w.draw(J,le,{propContainer:$,propName:X.id+".radialaxis.title",placeholder:B(J,"Click to enter radial axis title"),attributes:{x:xe,y:Se,"text-anchor":"middle"},transform:{rotate:-we}})}},U.updateAngularAxis=function(fe,Q){var j=this,X=j.gd,J=j.layers,ee=j.radius,se=j.innerRadius,q=j.cx,$=j.cy,le=j.getAngular(Q),ie=j.angularAxis,ce=j.isSmith;ce||(j.fillViewInitialKey("angularaxis.rotation",le.rotation),ie.setGeometry(),ie.setScale());var me=ce?function(et){var tt=I(j,C([0,et.x]));return Math.atan2(tt[0]-q,tt[1]-$)-Math.PI/2}:function(et){return ie.t2g(et.x)};ie.type==="linear"&&ie.thetaunit==="radians"&&(ie.tick0=N(ie.tick0),ie.dtick=N(ie.dtick));var Me=function(et){return v(q+ee*Math.cos(et),$-ee*Math.sin(et))},we=ce?function(et){var tt=I(j,C([0,et.x]));return v(tt[0],tt[1])}:function(et){return Me(me(et))},Oe=ce?function(et){var tt=I(j,C([0,et.x])),at=Math.atan2(tt[0]-q,tt[1]-$)-Math.PI/2;return v(tt[0],tt[1])+A(-N(at))}:function(et){var tt=me(et);return Me(tt)+A(-N(tt))},Be=ce?function(et){return y(j,et.x,0,1/0)}:function(et){var tt=me(et),at=Math.cos(tt),ht=Math.sin(tt);return"M"+[q+se*at,$-se*ht]+"L"+[q+ee*at,$-ee*ht]},Ce=s.makeLabelFns(ie,0),xe=Ce.labelStandoff,Se={};Se.xFn=function(et){var tt=me(et);return Math.cos(tt)*xe},Se.yFn=function(et){var tt=me(et),at=Math.sin(tt)>0?.2:1;return-Math.sin(tt)*(xe+et.fontSize*at)+Math.abs(Math.cos(tt))*(et.fontSize*x)},Se.anchorFn=function(et){var tt=me(et),at=Math.cos(tt);return Math.abs(at)<.1?"middle":at>0?"start":"end"},Se.heightFn=function(et,tt,at){var ht=me(et);return-.5*(1+Math.sin(ht))*at};var He=Y(le);j.angularTickLayout!==He&&(J["angular-axis"].selectAll("."+ie._id+"tick").remove(),j.angularTickLayout=He);var Ge=ce?[1/0].concat(ie.tickvals||[]).map(function(et){return s.tickText(ie,et,!0,!1)}):s.calcTicks(ie);ce&&(Ge[0].text="",Ge[0].fontSize*=1.75);var ke;if(Q.gridshape==="linear"?(ke=Ge.map(me),L.angleDelta(ke[0],ke[1])<0&&(ke=ke.slice().reverse())):ke=null,j.vangles=ke,ie.type==="category"&&(Ge=Ge.filter(function(et){return L.isAngleInsideSector(me(et),j.sectorInRad)})),ie.visible){var We=ie.ticks==="inside"?-1:1,it=(ie.linewidth||1)/2;s.drawTicks(X,ie,{vals:Ge,layer:J["angular-axis"],path:"M"+We*it+",0h"+We*ie.ticklen,transFn:Oe,crisp:!1}),s.drawGrid(X,ie,{vals:Ge,layer:J["angular-grid"],path:Be,transFn:L.noop,crisp:!1}),s.drawLabels(X,ie,{vals:Ge,layer:J["angular-axis"],repositionOnUpdate:!0,transFn:we,labelFns:Se})}ae(J["angular-line"].select("path"),le.showline,{d:j.pathSubplot(),transform:v(q,$)}).attr("stroke-width",le.linewidth).call(p.stroke,le.linecolor)},U.updateFx=function(fe,Q){if(!this.gd._context.staticPlot){var j=!this.isSmith;j&&(this.updateAngularDrag(fe),this.updateRadialDrag(fe,Q,0),this.updateRadialDrag(fe,Q,1)),this.updateHoverAndMainDrag(fe)}},U.updateHoverAndMainDrag=function(fe){var Q=this,j=Q.isSmith,X=Q.gd,J=Q.layers,ee=fe._zoomlayer,se=S.MINZOOM,q=S.OFFEDGE,$=Q.radius,le=Q.innerRadius,ie=Q.cx,ce=Q.cy,me=Q.cxx,Me=Q.cyy,we=Q.sectorInRad,Oe=Q.vangles,Be=Q.radialAxis,Ce=b.clampTiny,xe=b.findXYatLength,Se=b.findEnclosingVertexAngles,He=S.cornerHalfWidth,Ge=S.cornerLen/2,ke,We,it=u.makeDragger(J,"path","maindrag",fe.dragmode===!1?"none":"crosshair");g.select(it).attr("d",Q.pathSubplot()).attr("transform",v(ie,ce)),it.onmousemove=function(At){c.hover(X,At,Q.id),X._fullLayout._lasthover=it,X._fullLayout._hoversubplot=Q.id},it.onmouseout=function(At){X._dragging||m.unhover(X,At)};var et={element:it,gd:X,subplot:Q.id,plotinfo:{id:Q.id,xaxis:Q.xaxis,yaxis:Q.yaxis},xaxes:[Q.xaxis],yaxes:[Q.yaxis]},tt,at,ht,yt,gt,Et,Ct,Vt,Qe;function Fe(At,zt){return Math.sqrt(At*At+zt*zt)}function Ie(At,zt){return Fe(At-me,zt-Me)}function ze(At,zt){return Math.atan2(Me-zt,At-me)}function Re(At,zt){return[At*Math.cos(zt),At*Math.sin(-zt)]}function be(At,zt){if(At===0)return Q.pathSector(2*He);var Jt=Ge/At,Mr=zt-Jt,pt=zt+Jt,Zt=Math.max(0,Math.min(At,$)),Kt=Zt-He,mr=Zt+He;return"M"+Re(Kt,Mr)+"A"+[Kt,Kt]+" 0,0,0 "+Re(Kt,pt)+"L"+Re(mr,pt)+"A"+[mr,mr]+" 0,0,1 "+Re(mr,Mr)+"Z"}function ye(At,zt,Jt){if(At===0)return Q.pathSector(2*He);var Mr=Re(At,zt),pt=Re(At,Jt),Zt=Ce((Mr[0]+pt[0])/2),Kt=Ce((Mr[1]+pt[1])/2),mr,ur;if(Zt&&Kt){var dt=Kt/Zt,st=-1/dt,xt=xe(He,dt,Zt,Kt);mr=xe(Ge,st,xt[0][0],xt[0][1]),ur=xe(Ge,st,xt[1][0],xt[1][1])}else{var Mt,Dt;Kt?(Mt=Ge,Dt=He):(Mt=He,Dt=Ge),mr=[[Zt-Mt,Kt-Dt],[Zt+Mt,Kt-Dt]],ur=[[Zt-Mt,Kt+Dt],[Zt+Mt,Kt+Dt]]}return"M"+mr.join("L")+"L"+ur.reverse().join("L")+"Z"}function Ae(){ht=null,yt=null,gt=Q.pathSubplot(),Et=!1;var At=X._fullLayout[Q.id];Ct=P(At.bgcolor).getLuminance(),Vt=u.makeZoombox(ee,Ct,ie,ce,gt),Vt.attr("fill-rule","evenodd"),Qe=u.makeCorners(ee,ie,ce),d(X)}function Ee(At,zt){return zt=Math.max(Math.min(zt,$),le),At<q?At=0:$-At<q?At=$:zt<q?zt=0:$-zt<q&&(zt=$),Math.abs(zt-At)>se?(At<zt?(ht=At,yt=zt):(ht=zt,yt=At),!0):(ht=null,yt=null,!1)}function Ne(At,zt){At=At||gt,zt=zt||"M0,0Z",Vt.attr("d",At),Qe.attr("d",zt),u.transitionZoombox(Vt,Qe,Et,Ct),Et=!0;var Jt={};Wt(Jt),X.emit("plotly_relayouting",Jt)}function Je(At,zt){At=At*ke,zt=zt*We;var Jt=tt+At,Mr=at+zt,pt=Ie(tt,at),Zt=Math.min(Ie(Jt,Mr),$),Kt=ze(tt,at),mr,ur;Ee(pt,Zt)&&(mr=gt+Q.pathSector(yt),ht&&(mr+=Q.pathSector(ht)),ur=be(ht,Kt)+be(yt,Kt)),Ne(mr,ur)}function qe(At,zt,Jt,Mr){var pt=b.findIntersectionXY(Jt,Mr,Jt,[At-me,Me-zt]);return Fe(pt[0],pt[1])}function vt(At,zt){var Jt=tt+At,Mr=at+zt,pt=ze(tt,at),Zt=ze(Jt,Mr),Kt=Se(pt,Oe),mr=Se(Zt,Oe),ur=qe(tt,at,Kt[0],Kt[1]),dt=Math.min(qe(Jt,Mr,mr[0],mr[1]),$),st,xt;Ee(ur,dt)&&(st=gt+Q.pathSector(yt),ht&&(st+=Q.pathSector(ht)),xt=[ye(ht,Kt[0],Kt[1]),ye(yt,Kt[0],Kt[1])].join(" ")),Ne(st,xt)}function bt(){if(u.removeZoombox(X),!(ht===null||yt===null)){var At={};Wt(At),u.showDoubleClickNotifier(X),i.call("_guiRelayout",X,At)}}function Wt(At){var zt=Be._rl,Jt=(zt[1]-zt[0])/(1-le/$)/$,Mr=[zt[0]+(ht-le)*Jt,zt[0]+(yt-le)*Jt];At[Q.id+".radialaxis.range"]=Mr}function qt(At,zt){var Jt=X._fullLayout.clickmode;if(u.removeZoombox(X),At===2){var Mr={};for(var pt in Q.viewInitial)Mr[Q.id+"."+pt]=Q.viewInitial[pt];X.emit("plotly_doubleclick",null),i.call("_guiRelayout",X,Mr)}Jt.indexOf("select")>-1&&At===1&&o(zt,X,[Q.xaxis],[Q.yaxis],Q.id,et),Jt.indexOf("event")>-1&&c.click(X,zt,Q.id)}et.prepFn=function(At,zt,Jt){var Mr=X._fullLayout.dragmode,pt=it.getBoundingClientRect();X._fullLayout._calcInverseTransform(X);var Zt=X._fullLayout._invTransform;ke=X._fullLayout._invScaleX,We=X._fullLayout._invScaleY;var Kt=L.apply3DTransform(Zt)(zt-pt.left,Jt-pt.top);if(tt=Kt[0],at=Kt[1],Oe){var mr=b.findPolygonOffset($,we[0],we[1],Oe);tt+=me+mr[0],at+=Me+mr[1]}switch(Mr){case"zoom":et.clickFn=qt,j||(Oe?et.moveFn=vt:et.moveFn=Je,et.doneFn=bt,Ae());break;case"select":case"lasso":h(At,zt,Jt,et,Mr);break}},m.init(et)},U.updateRadialDrag=function(fe,Q,j){var X=this,J=X.gd,ee=X.layers,se=X.radius,q=X.innerRadius,$=X.cx,le=X.cy,ie=X.radialAxis,ce=S.radialDragBoxSize,me=ce/2;if(!ie.visible)return;var Me=O(X.radialAxisAngle),we=ie._rl,Oe=we[0],Be=we[1],Ce=we[j],xe=.75*(we[1]-we[0])/(1-X.getHole(Q))/se,Se,He,Ge;j?(Se=$+(se+me)*Math.cos(Me),He=le-(se+me)*Math.sin(Me),Ge="radialdrag"):(Se=$+(q-me)*Math.cos(Me),He=le-(q-me)*Math.sin(Me),Ge="radialdrag-inner");var ke=u.makeRectDragger(ee,Ge,"crosshair",-me,-me,ce,ce),We={element:ke,gd:J};fe.dragmode===!1&&(We.dragmode=!1),ae(g.select(ke),ie.visible&&q<se,{transform:v(Se,He)});var it,et,tt;function at(Ct,Vt){if(it)it(Ct,Vt);else{var Qe=[Ct,-Vt],Fe=[Math.cos(Me),Math.sin(Me)],Ie=Math.abs(L.dot(Qe,Fe)/Math.sqrt(L.dot(Qe,Qe)));isNaN(Ie)||(it=Ie<.5?gt:Et)}var ze={};ht(ze),J.emit("plotly_relayouting",ze)}function ht(Ct){et!==null?Ct[X.id+".radialaxis.angle"]=et:tt!==null&&(Ct[X.id+".radialaxis.range["+j+"]"]=tt)}function yt(){et!==null?i.call("_guiRelayout",J,X.id+".radialaxis.angle",et):tt!==null&&i.call("_guiRelayout",J,X.id+".radialaxis.range["+j+"]",tt)}function gt(Ct,Vt){if(j!==0){var Qe=Se+Ct,Fe=He+Vt;et=Math.atan2(le-Fe,Qe-$),X.vangles&&(et=re(et,X.vangles)),et=N(et);var Ie=v($,le)+A(-et);ee["radial-axis"].attr("transform",Ie),ee["radial-line"].select("line").attr("transform",Ie);var ze=X.gd._fullLayout,Re=ze[X.id];X.updateRadialAxisTitle(ze,Re,et)}}function Et(Ct,Vt){var Qe=L.dot([Ct,-Vt],[Math.cos(Me),Math.sin(Me)]);if(tt=Ce-xe*Qe,xe>0!=(j?tt>Oe:tt<Be)){tt=null;return}var Fe=J._fullLayout,Ie=Fe[X.id];ie.range[j]=tt,ie._rl[j]=tt,X.updateRadialAxis(Fe,Ie),X.xaxis.setRange(),X.xaxis.setScale(),X.yaxis.setRange(),X.yaxis.setScale();var ze=!1;for(var Re in X.traceHash){var be=X.traceHash[Re],ye=L.filterVisible(be),Ae=be[0][0].trace._module;Ae.plot(J,X,ye,Ie),i.traceIs(Re,"gl")&&ye.length&&(ze=!0)}ze&&(T(J),E(J))}We.prepFn=function(){it=null,et=null,tt=null,We.moveFn=at,We.doneFn=yt,d(J)},We.clampFn=function(Ct,Vt){return Math.sqrt(Ct*Ct+Vt*Vt)<S.MINDRAG&&(Ct=0,Vt=0),[Ct,Vt]},m.init(We)},U.updateAngularDrag=function(fe){var Q=this,j=Q.gd,X=Q.layers,J=Q.radius,ee=Q.angularAxis,se=Q.cx,q=Q.cy,$=Q.cxx,le=Q.cyy,ie=S.angularDragBoxSize,ce=u.makeDragger(X,"path","angulardrag",fe.dragmode===!1?"none":"move"),me={element:ce,gd:j};fe.dragmode===!1?me.dragmode=!1:g.select(ce).attr("d",Q.pathAnnulus(J,J+ie)).attr("transform",v(se,q)).call(M,"move");function Me(tt,at){return Math.atan2(le+ie-at,tt-$-ie)}var we=X.frontplot.select(".scatterlayer").selectAll(".trace"),Oe=we.selectAll(".point"),Be=we.selectAll(".textpoint"),Ce,xe,Se,He,Ge,ke;function We(tt,at){var ht=Q.gd._fullLayout,yt=ht[Q.id],gt=Ce+tt*fe._invScaleX,Et=xe+at*fe._invScaleY,Ct=Me(gt,Et),Vt=N(Ct-ke);if(He=Se+Vt,X.frontplot.attr("transform",v(Q.xOffset2,Q.yOffset2)+A([-Vt,$,le])),Q.vangles){Ge=Q.radialAxisAngle+Vt;var Qe=v(se,q)+A(-Vt),Fe=v(se,q)+A(-Ge);X.bg.attr("transform",Qe),X["radial-grid"].attr("transform",Qe),X["radial-axis"].attr("transform",Fe),X["radial-line"].select("line").attr("transform",Fe),Q.updateRadialAxisTitle(ht,yt,Ge)}else Q.clipPaths.forTraces.select("path").attr("transform",v($,le)+A(Vt));Oe.each(function(){var Ee=g.select(this),Ne=t.getTranslate(Ee);Ee.attr("transform",v(Ne.x,Ne.y)+A([Vt]))}),Be.each(function(){var Ee=g.select(this),Ne=Ee.select("text"),Je=t.getTranslate(Ee);Ee.attr("transform",A([Vt,Ne.attr("x"),Ne.attr("y")])+v(Je.x,Je.y))}),ee.rotation=L.modHalf(He,360),Q.updateAngularAxis(ht,yt),Q._hasClipOnAxisFalse&&!L.isFullCircle(Q.sectorInRad)&&we.call(t.hideOutsideRangePoints,Q);var Ie=!1;for(var ze in Q.traceHash)if(i.traceIs(ze,"gl")){var Re=Q.traceHash[ze],be=L.filterVisible(Re),ye=Re[0][0].trace._module;ye.plot(j,Q,be,yt),be.length&&(Ie=!0)}Ie&&(T(j),E(j));var Ae={};it(Ae),j.emit("plotly_relayouting",Ae)}function it(tt){tt[Q.id+".angularaxis.rotation"]=He,Q.vangles&&(tt[Q.id+".radialaxis.angle"]=Ge)}function et(){Be.select("text").attr("transform",null);var tt={};it(tt),i.call("_guiRelayout",j,tt)}me.prepFn=function(tt,at,ht){var yt=fe[Q.id];Se=yt.angularaxis.rotation;var gt=ce.getBoundingClientRect();Ce=at-gt.left,xe=ht-gt.top,j._fullLayout._calcInverseTransform(j);var Et=L.apply3DTransform(fe._invTransform)(Ce,xe);Ce=Et[0],xe=Et[1],ke=Me(Ce,xe),me.moveFn=We,me.doneFn=et,d(j)},Q.vangles&&!L.isFullCircle(Q.sectorInRad)&&(me.prepFn=L.noop,M(g.select(ce),null)),m.init(me)},U.isPtInside=function(fe){if(this.isSmith)return!0;var Q=this.sectorInRad,j=this.vangles,X=this.angularAxis.c2g(fe.theta),J=this.radialAxis,ee=J.c2l(fe.r),se=J._rl,q=j?b.isPtInsidePolygon:L.isPtInsideSector;return q(ee,X,se,Q,j)},U.pathArc=function(fe){var Q=this.sectorInRad,j=this.vangles,X=j?b.pathPolygon:L.pathArc;return X(fe,Q[0],Q[1],j)},U.pathSector=function(fe){var Q=this.sectorInRad,j=this.vangles,X=j?b.pathPolygon:L.pathSector;return X(fe,Q[0],Q[1],j)},U.pathAnnulus=function(fe,Q){var j=this.sectorInRad,X=this.vangles,J=X?b.pathPolygonAnnulus:L.pathAnnulus;return J(fe,Q,j[0],j[1],X)},U.pathSubplot=function(){var fe=this.innerRadius,Q=this.radius;return fe?this.pathAnnulus(fe,Q):this.pathSector(Q)},U.fillViewInitialKey=function(fe,Q){fe in this.viewInitial||(this.viewInitial[fe]=Q)};function Y(fe){var Q=fe.ticks+String(fe.ticklen)+String(fe.showticklabels);return"side"in fe&&(Q+=fe.side),Q}function K(fe){var Q=fe[0],j=fe[1],X=j-Q,J=F(Q,360),ee=J+X,se=Math.cos(O(J)),q=Math.sin(O(J)),$=Math.cos(O(ee)),le=Math.sin(O(ee)),ie,ce,me,Me;return J<=90&&ee>=90||J>90&&ee>=450?Me=1:q<=0&&le<=0?Me=0:Me=Math.max(q,le),J<=180&&ee>=180||J>180&&ee>=540?ie=-1:se>=0&&$>=0?ie=0:ie=Math.min(se,$),J<=270&&ee>=270||J>270&&ee>=630?ce=-1:q>=0&&le>=0?ce=0:ce=Math.min(q,le),ee>=360?me=1:se<=0&&$<=0?me=0:me=Math.max(se,$),[ie,ce,me,Me]}function re(fe,Q){var j=function(J){return L.angleDist(fe,J)},X=L.findIndexOfMin(Q,j);return Q[X]}function ae(fe,Q,j){return Q?(fe.attr("display",null),fe.attr(j)):fe&&fe.attr("display","none"),fe}},12101:function(W,H,e){var g=e(71828),P=e(21994),i=g.deg2rad,L=g.rad2deg;W.exports=function(s,n,l){switch(P(s,l),s._id){case"x":case"radialaxis":A(s,n);break;case"angularaxis":t(s,n);break}};function A(r,s){var n=s._subplot;r.setGeometry=function(){var l=r._rl[0],f=r._rl[1],u=n.innerRadius,m=(n.radius-u)/(f-l),c=u/m,w=l>f?function(h){return h<=0}:function(h){return h>=0};r.c2g=function(h){var o=r.c2l(h)-l;return(w(o)?o:0)+c},r.g2c=function(h){return r.l2c(h+l-c)},r.g2p=function(h){return h*m},r.c2p=function(h){return r.g2p(r.c2g(h))}}}function v(r,s){return s==="degrees"?i(r):r}function p(r,s){return s==="degrees"?L(r):r}function t(r,s){var n=r.type;if(n==="linear"){var l=r.d2c,f=r.c2d;r.d2c=function(u,m){return v(l(u),m)},r.c2d=function(u,m){return f(p(u,m))}}r.makeCalcdata=function(u,m){var c=u[m],w=u._length,h,o,d=function(S){return r.d2c(S,u.thetaunit)};if(c){if(g.isTypedArray(c)&&n==="linear"){if(w===c.length)return c;if(c.subarray)return c.subarray(0,w)}for(h=new Array(w),o=0;o<w;o++)h[o]=d(c[o])}else{var M=m+"0",T="d"+m,E=M in u?d(u[M]):0,x=u[T]?d(u[T]):(r.period||2*Math.PI)/w;for(h=new Array(w),o=0;o<w;o++)h[o]=E+o*x}return h},r.setGeometry=function(){var u=s.sector,m=u.map(i),c={clockwise:-1,counterclockwise:1}[r.direction],w=i(r.rotation),h=function(b){return c*b+w},o=function(b){return(b-w)/c},d,M,T,E;switch(n){case"linear":M=d=g.identity,E=i,T=L,r.range=g.isFullCircle(m)?[u[0],u[0]+360]:m.map(o).map(L);break;case"category":var x=r._categories.length,S=r.period?Math.max(r.period,x):x;S===0&&(S=1),M=E=function(b){return b*2*Math.PI/S},d=T=function(b){return b*S/Math.PI/2},r.range=[0,S];break}r.c2g=function(b){return h(M(b))},r.g2c=function(b){return d(o(b))},r.t2g=function(b){return h(E(b))},r.g2t=function(b){return T(o(b))}}}},39779:function(W){W.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(W){function H(A){return A<0?-1:A>0?1:0}function e(A){var v=A[0],p=A[1];if(!isFinite(v)||!isFinite(p))return[1,0];var t=(v+1)*(v+1)+p*p;return[(v*v+p*p-1)/t,2*p/t]}function g(A,v){var p=v[0],t=v[1];return[p*A.radius+A.cx,-t*A.radius+A.cy]}function P(A,v){return v*A.radius}function i(A,v,p,t){var r=g(A,e([p,v])),s=r[0],n=r[1],l=g(A,e([t,v])),f=l[0],u=l[1];if(v===0)return["M"+s+","+n,"L"+f+","+u].join(" ");var m=P(A,1/Math.abs(v));return["M"+s+","+n,"A"+m+","+m+" 0 0,"+(v<0?1:0)+" "+f+","+u].join(" ")}function L(A,v,p,t){var r=P(A,1/(v+1)),s=g(A,e([v,p])),n=s[0],l=s[1],f=g(A,e([v,t])),u=f[0],m=f[1];if(H(p)!==H(t)){var c=g(A,e([v,0])),w=c[0],h=c[1];return["M"+n+","+l,"A"+r+","+r+" 0 0,"+(0<p?0:1)+" "+w+","+h,"A"+r+","+r+" 0 0,"+(t<0?0:1)+u+","+m].join(" ")}return["M"+n+","+l,"A"+r+","+r+" 0 0,"+(t<p?0:1)+" "+u+","+m].join(" ")}W.exports={smith:e,reactanceArc:i,resistanceArc:L,smithTransform:g}},7504:function(W,H,e){var g=e(27659).AU,P=e(71828).counterRegex,i=e(77997),L=e(39779),A=L.attr,v=L.name,p=P(v),t={};t[A]={valType:"subplotid",dflt:v,editType:"calc"};function r(n){for(var l=n._fullLayout,f=n.calcdata,u=l._subplots[v],m=0;m<u.length;m++){var c=u[m],w=g(f,v,c),h=l[c]._subplot;h||(h=i(n,c,!0),l[c]._subplot=h),h.plot(w,l,n._promises)}}function s(n,l,f,u){for(var m=u._subplots[v]||[],c=0;c<m.length;c++){var w=m[c],h=u[w]._subplot;if(!l[w]&&h){h.framework.remove();for(var o in h.clipPaths)h.clipPaths[o].remove()}}}W.exports={attr:A,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:t,layoutAttributes:e(33419),supplyLayoutDefaults:e(9558),plot:r,clean:s,toSVG:e(93612).toSVG}},33419:function(W,H,e){var g=e(22399),P=e(13838),i=e(27670).Y,L=e(71828).extendFlat,A=e(30962).overrideAll,v=A({color:P.color,showline:L({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:L({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),p=A({ticklen:P.ticklen,tickwidth:L({},P.tickwidth,{dflt:2}),tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,tickfont:P.tickfont,tickformat:P.tickformat,hoverformat:P.hoverformat,layer:P.layer},"plot","from-root"),t=L({visible:L({},P.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:L({},P.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,p),r=L({visible:L({},P.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:P.ticks,editType:"calc"},v,p);W.exports={domain:i({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:g.background},realaxis:t,imaginaryaxis:r,editType:"calc"}},9558:function(W,H,e){var g=e(71828),P=e(7901),i=e(44467),L=e(49119),A=e(27659).NG,v=e(89426),p=e(96115),t=e(92128),r=e(21994),s=e(33419),n=e(39779),l=n.axisNames,f=m(function(c){return c.slice().reverse().map(function(w){return-w}).concat([0]).concat(c)},String);function u(c,w,h,o){var d=h("bgcolor");o.bgColor=P.combine(d,o.paper_bgcolor);var M=A(o.fullData,n.name,o.id),T=o.layoutOut,E;function x(U,Y){return h(E+"."+U,Y)}for(var S=0;S<l.length;S++){E=l[S],g.isPlainObject(c[E])||(c[E]={});var b=c[E],a=i.newContainer(w,E);a._id=a._name=E,a._attr=o.id+"."+E,a._traceIndices=M.map(function(U){return U._expandedIndex});var C=x("visible");if(a.type="linear",r(a,T),v(b,a,x,a.type),C){var y=E==="realaxis";if(y&&x("side"),y)x("tickvals");else{var z=f(w.realaxis.tickvals||s.realaxis.tickvals.dflt);x("tickvals",z)}var I,B,F,O,N=o.font||{};C&&(I=x("color"),B=I===b.color?I:N.color,F=N.size,O=N.family),p(b,a,x,a.type,{noTicklabelstep:!0,noAng:!y,noExp:!0,font:{color:B,size:F,family:O}}),g.coerce2(c,w,s,E+".ticklen"),g.coerce2(c,w,s,E+".tickwidth"),g.coerce2(c,w,s,E+".tickcolor",w.color);var _=x("ticks");_||(delete w[E].ticklen,delete w[E].tickwidth,delete w[E].tickcolor),t(b,a,x,{dfltColor:I,bgColor:o.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:s[E]}),x("layer")}x("hoverformat"),delete a.type,a._input=b}}W.exports=function(w,h,o){L(w,h,o,{noUirevision:!0,type:n.name,attributes:s,handleDefaults:u,font:h.font,paper_bgcolor:h.paper_bgcolor,fullData:o,layoutOut:h})};function m(c,w){var h={};return function(o){var d=w?w(o):o;if(d in h)return h[d];var M=c(o);return h[d]=M,M}}},49119:function(W,H,e){var g=e(71828),P=e(44467),i=e(27670).c;W.exports=function(A,v,p,t){var r=t.type,s=t.attributes,n=t.handleDefaults,l=t.partition||"x",f=v._subplots[r],u=f.length,m=u&&f[0].replace(/\d+$/,""),c,w;function h(T,E){return g.coerce(c,w,s,T,E)}for(var o=0;o<u;o++){var d=f[o];A[d]?c=A[d]:c=A[d]={},w=P.newContainer(v,d,m),t.noUirevision||h("uirevision",v.uirevision);var M={};M[l]=[o/u,(o+1)/u],i(w,v,h,M),t.id=d,n(c,w,h,t)}}},5386:function(W,H,e){var g=e(31562);g.FORMAT_LINK,g.DATE_FORMAT_LINK;function P(i){var L=i.description?" "+i.description:"",A=i.keys||[];if(A.length>0){for(var v=[],p=0;p<A.length;p++)v[p]="`"+A[p]+"`";L=L+"Finally, the template string has access to ",A.length===1?L=L+"variable "+v[0]:L=L+"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return L}H.fF=function(i,L){i=i||{},L=L||{},P(L);var A={valType:"string",dflt:"",editType:i.editType||"none"};return i.arrayOk!==!1&&(A.arrayOk=!0),A},H.si=function(i,L){i=i||{},L=L||{},P(L);var A={valType:"string",dflt:"",editType:i.editType||"calc"};return i.arrayOk!==!1&&(A.arrayOk=!0),A},H.R=function(i,L){i=i||{},L=L||{},i.newshape,P(L);var A={valType:"string",dflt:"",editType:i.editType||"arraydraw"};return A}},61639:function(W,H,e){var g=e(64380),P=e(27659).AU,i=e(71828).counterRegex,L="ternary";H.name=L;var A=H.attr="subplot";H.idRoot=L,H.idRegex=H.attrRegex=i(L);var v=H.attributes={};v[A]={valType:"subplotid",dflt:"ternary",editType:"calc"},H.layoutAttributes=e(81367),H.supplyLayoutDefaults=e(25369),H.plot=function(t){for(var r=t._fullLayout,s=t.calcdata,n=r._subplots[L],l=0;l<n.length;l++){var f=n[l],u=P(s,L,f),m=r[f]._subplot;m||(m=new g({id:f,graphDiv:t,container:r._ternarylayer.node()},r),r[f]._subplot=m),m.plot(u,r,t._promises)}},H.clean=function(p,t,r,s){for(var n=s._subplots[L]||[],l=0;l<n.length;l++){var f=n[l],u=s[f]._subplot;!t[f]&&u&&(u.plotContainer.remove(),u.clipDef.remove(),u.clipDefRelative.remove(),u.layers["a-title"].remove(),u.layers["b-title"].remove(),u.layers["c-title"].remove())}}},81367:function(W,H,e){var g=e(22399),P=e(27670).Y,i=e(13838),L=e(30962).overrideAll,A=e(1426).extendFlat,v={title:{text:i.title.text,font:i.title.font},color:i.color,tickmode:i.minor.tickmode,nticks:A({},i.nticks,{dflt:6,min:1}),tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:i.ticks,ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,ticklabelstep:i.ticklabelstep,showticklabels:i.showticklabels,labelalias:i.labelalias,showtickprefix:i.showtickprefix,tickprefix:i.tickprefix,showticksuffix:i.showticksuffix,ticksuffix:i.ticksuffix,showexponent:i.showexponent,exponentformat:i.exponentformat,minexponent:i.minexponent,separatethousands:i.separatethousands,tickfont:i.tickfont,tickangle:i.tickangle,tickformat:i.tickformat,tickformatstops:i.tickformatstops,hoverformat:i.hoverformat,showline:A({},i.showline,{dflt:!0}),linecolor:i.linecolor,linewidth:i.linewidth,showgrid:A({},i.showgrid,{dflt:!0}),gridcolor:i.gridcolor,gridwidth:i.gridwidth,griddash:i.griddash,layer:i.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:i._deprecated.title,titlefont:i._deprecated.titlefont}},p=W.exports=L({domain:P({name:"ternary"}),bgcolor:{valType:"color",dflt:g.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");p.uirevision={valType:"any",editType:"none"},p.aaxis.uirevision=p.baxis.uirevision=p.caxis.uirevision={valType:"any",editType:"none"}},25369:function(W,H,e){var g=e(7901),P=e(44467),i=e(71828),L=e(49119),A=e(96115),v=e(89426),p=e(38701),t=e(26218),r=e(92128),s=e(81367),n=["aaxis","baxis","caxis"];W.exports=function(m,c,w){L(m,c,w,{type:"ternary",attributes:s,handleDefaults:l,font:c.font,paper_bgcolor:c.paper_bgcolor})};function l(u,m,c,w){var h=c("bgcolor"),o=c("sum");w.bgColor=g.combine(h,w.paper_bgcolor);for(var d,M,T,E=0;E<n.length;E++)d=n[E],M=u[d]||{},T=P.newContainer(m,d),T._name=d,f(M,T,w,m);var x=m.aaxis,S=m.baxis,b=m.caxis;x.min+S.min+b.min>=o&&(x.min=0,S.min=0,b.min=0,u.aaxis&&delete u.aaxis.min,u.baxis&&delete u.baxis.min,u.caxis&&delete u.caxis.min)}function f(u,m,c,w){var h=s[m._name];function o(a,C){return i.coerce(u,m,h,a,C)}o("uirevision",w.uirevision),m.type="linear";var d=o("color"),M=d!==h.color.dflt?d:c.font.color,T=m._name,E=T.charAt(0).toUpperCase(),x="Component "+E,S=o("title.text",x);m._hovertitle=S===x?S:E,i.coerceFont(o,"title.font",{family:c.font.family,size:i.bigFont(c.font.size),color:M}),o("min"),t(u,m,o,"linear"),v(u,m,o,"linear"),A(u,m,o,"linear"),p(u,m,o,{outerTicks:!0});var b=o("showticklabels");b&&(i.coerceFont(o,"tickfont",{family:c.font.family,size:c.font.size,color:M}),o("tickangle"),o("tickformat")),r(u,m,o,{dfltColor:d,bgColor:c.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:h}),o("hoverformat"),o("layer")}},64380:function(W,H,e){var g=e(39898),P=e(84267),i=e(73972),L=e(71828),A=L.strTranslate,v=L._,p=e(7901),t=e(91424),r=e(21994),s=e(1426).extendFlat,n=e(74875),l=e(89298),f=e(28569),u=e(30211),m=e(64505),c=m.freeMode,w=m.rectMode,h=e(92998),o=e(47322).prepSelect,d=e(47322).selectOnClick,M=e(47322).clearOutline,T=e(47322).clearSelectionsCache,E=e(85555);function x(N,_){this.id=N.id,this.graphDiv=N.graphDiv,this.init(_),this.makeFramework(_),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}W.exports=x;var S=x.prototype;S.init=function(N){this.container=N._ternarylayer,this.defs=N._defs,this.layoutId=N._uid,this.traceHash={},this.layers={}},S.plot=function(N,_){var U=this,Y=_[U.id],K=_._size;U._hasClipOnAxisFalse=!1;for(var re=0;re<N.length;re++){var ae=N[re][0].trace;if(ae.cliponaxis===!1){U._hasClipOnAxisFalse=!0;break}}U.updateLayers(Y),U.adjustLayout(Y,K),n.generalUpdatePerTraceModule(U.graphDiv,U,N,Y),U.layers.plotbg.select("path").call(p.fill,Y.bgcolor)},S.makeFramework=function(N){var _=this,U=_.graphDiv,Y=N[_.id],K=_.clipId="clip"+_.layoutId+_.id,re=_.clipIdRelative="clip-relative"+_.layoutId+_.id;_.clipDef=L.ensureSingleById(N._clips,"clipPath",K,function(ae){ae.append("path").attr("d","M0,0Z")}),_.clipDefRelative=L.ensureSingleById(N._clips,"clipPath",re,function(ae){ae.append("path").attr("d","M0,0Z")}),_.plotContainer=L.ensureSingle(_.container,"g",_.id),_.updateLayers(Y),t.setClipUrl(_.layers.backplot,K,U),t.setClipUrl(_.layers.grids,K,U)},S.updateLayers=function(N){var _=this,U=_.layers,Y=["draglayer","plotbg","backplot","grids"];N.aaxis.layer==="below traces"&&Y.push("aaxis","aline"),N.baxis.layer==="below traces"&&Y.push("baxis","bline"),N.caxis.layer==="below traces"&&Y.push("caxis","cline"),Y.push("frontplot"),N.aaxis.layer==="above traces"&&Y.push("aaxis","aline"),N.baxis.layer==="above traces"&&Y.push("baxis","bline"),N.caxis.layer==="above traces"&&Y.push("caxis","cline");var K=_.plotContainer.selectAll("g.toplevel").data(Y,String),re=["agrid","bgrid","cgrid"];K.enter().append("g").attr("class",function(ae){return"toplevel "+ae}).each(function(ae){var fe=g.select(this);U[ae]=fe,ae==="frontplot"?fe.append("g").classed("scatterlayer",!0):ae==="backplot"?fe.append("g").classed("maplayer",!0):ae==="plotbg"?fe.append("path").attr("d","M0,0Z"):ae==="aline"||ae==="bline"||ae==="cline"?fe.append("path"):ae==="grids"&&re.forEach(function(Q){U[Q]=fe.append("g").classed("grid "+Q,!0)})}),K.order()};var b=Math.sqrt(4/3);S.adjustLayout=function(N,_){var U=this,Y=N.domain,K=(Y.x[0]+Y.x[1])/2,re=(Y.y[0]+Y.y[1])/2,ae=Y.x[1]-Y.x[0],fe=Y.y[1]-Y.y[0],Q=ae*_.w,j=fe*_.h,X=N.sum,J=N.aaxis.min,ee=N.baxis.min,se=N.caxis.min,q,$,le,ie,ce,me;Q>b*j?(ie=j,le=ie*b):(le=Q,ie=le/b),ce=ae*le/Q,me=fe*ie/j,q=_.l+_.w*K-le/2,$=_.t+_.h*(1-re)-ie/2,U.x0=q,U.y0=$,U.w=le,U.h=ie,U.sum=X,U.xaxis={type:"linear",range:[J+2*se-X,X-J-2*ee],domain:[K-ce/2,K+ce/2],_id:"x"},r(U.xaxis,U.graphDiv._fullLayout),U.xaxis.setScale(),U.xaxis.isPtWithinRange=function(We){return We.a>=U.aaxis.range[0]&&We.a<=U.aaxis.range[1]&&We.b>=U.baxis.range[1]&&We.b<=U.baxis.range[0]&&We.c>=U.caxis.range[1]&&We.c<=U.caxis.range[0]},U.yaxis={type:"linear",range:[J,X-ee-se],domain:[re-me/2,re+me/2],_id:"y"},r(U.yaxis,U.graphDiv._fullLayout),U.yaxis.setScale(),U.yaxis.isPtWithinRange=function(){return!0};var Me=U.yaxis.domain[0],we=U.aaxis=s({},N.aaxis,{range:[J,X-ee-se],side:"left",tickangle:(+N.aaxis.tickangle||0)-30,domain:[Me,Me+me*b],anchor:"free",position:0,_id:"y",_length:le});r(we,U.graphDiv._fullLayout),we.setScale();var Oe=U.baxis=s({},N.baxis,{range:[X-J-se,ee],side:"bottom",domain:U.xaxis.domain,anchor:"free",position:0,_id:"x",_length:le});r(Oe,U.graphDiv._fullLayout),Oe.setScale();var Be=U.caxis=s({},N.caxis,{range:[X-J-ee,se],side:"right",tickangle:(+N.caxis.tickangle||0)+30,domain:[Me,Me+me*b],anchor:"free",position:0,_id:"y",_length:le});r(Be,U.graphDiv._fullLayout),Be.setScale();var Ce="M"+q+","+($+ie)+"h"+le+"l-"+le/2+",-"+ie+"Z";U.clipDef.select("path").attr("d",Ce),U.layers.plotbg.select("path").attr("d",Ce);var xe="M0,"+ie+"h"+le+"l-"+le/2+",-"+ie+"Z";U.clipDefRelative.select("path").attr("d",xe);var Se=A(q,$);U.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Se),U.clipDefRelative.select("path").attr("transform",null);var He=A(q-Oe._offset,$+ie);U.layers.baxis.attr("transform",He),U.layers.bgrid.attr("transform",He);var Ge=A(q+le/2,$)+"rotate(30)"+A(0,-we._offset);U.layers.aaxis.attr("transform",Ge),U.layers.agrid.attr("transform",Ge);var ke=A(q+le/2,$)+"rotate(-30)"+A(0,-Be._offset);U.layers.caxis.attr("transform",ke),U.layers.cgrid.attr("transform",ke),U.drawAxes(!0),U.layers.aline.select("path").attr("d",we.showline?"M"+q+","+($+ie)+"l"+le/2+",-"+ie:"M0,0").call(p.stroke,we.linecolor||"#000").style("stroke-width",(we.linewidth||0)+"px"),U.layers.bline.select("path").attr("d",Oe.showline?"M"+q+","+($+ie)+"h"+le:"M0,0").call(p.stroke,Oe.linecolor||"#000").style("stroke-width",(Oe.linewidth||0)+"px"),U.layers.cline.select("path").attr("d",Be.showline?"M"+(q+le/2)+","+$+"l"+le/2+","+ie:"M0,0").call(p.stroke,Be.linecolor||"#000").style("stroke-width",(Be.linewidth||0)+"px"),U.graphDiv._context.staticPlot||U.initInteractions(),t.setClipUrl(U.layers.frontplot,U._hasClipOnAxisFalse?null:U.clipId,U.graphDiv)},S.drawAxes=function(N){var _=this,U=_.graphDiv,Y=_.id.substr(7)+"title",K=_.layers,re=_.aaxis,ae=_.baxis,fe=_.caxis;if(_.drawAx(re),_.drawAx(ae),_.drawAx(fe),N){var Q=Math.max(re.showticklabels?re.tickfont.size/2:0,(fe.showticklabels?fe.tickfont.size*.75:0)+(fe.ticks==="outside"?fe.ticklen*.87:0)),j=(ae.showticklabels?ae.tickfont.size:0)+(ae.ticks==="outside"?ae.ticklen:0)+3;K["a-title"]=h.draw(U,"a"+Y,{propContainer:re,propName:_.id+".aaxis.title",placeholder:v(U,"Click to enter Component A title"),attributes:{x:_.x0+_.w/2,y:_.y0-re.title.font.size/3-Q,"text-anchor":"middle"}}),K["b-title"]=h.draw(U,"b"+Y,{propContainer:ae,propName:_.id+".baxis.title",placeholder:v(U,"Click to enter Component B title"),attributes:{x:_.x0-j,y:_.y0+_.h+ae.title.font.size*.83+j,"text-anchor":"middle"}}),K["c-title"]=h.draw(U,"c"+Y,{propContainer:fe,propName:_.id+".caxis.title",placeholder:v(U,"Click to enter Component C title"),attributes:{x:_.x0+_.w+j,y:_.y0+_.h+fe.title.font.size*.83+j,"text-anchor":"middle"}})}},S.drawAx=function(N){var _=this,U=_.graphDiv,Y=N._name,K=Y.charAt(0),re=N._id,ae=_.layers[Y],fe=30,Q=K+"tickLayout",j=a(N);_[Q]!==j&&(ae.selectAll("."+re+"tick").remove(),_[Q]=j),N.setScale();var X=l.calcTicks(N),J=l.clipEnds(N,X),ee=l.makeTransTickFn(N),se=l.getTickSigns(N)[2],q=L.deg2rad(fe),$=se*(N.linewidth||1)/2,le=se*N.ticklen,ie=_.w,ce=_.h,me=K==="b"?"M0,"+$+"l"+Math.sin(q)*le+","+Math.cos(q)*le:"M"+$+",0l"+Math.cos(q)*le+","+-Math.sin(q)*le,Me={a:"M0,0l"+ce+",-"+ie/2,b:"M0,0l-"+ie/2+",-"+ce,c:"M0,0l-"+ce+","+ie/2}[K];l.drawTicks(U,N,{vals:N.ticks==="inside"?J:X,layer:ae,path:me,transFn:ee,crisp:!1}),l.drawGrid(U,N,{vals:J,layer:_.layers[K+"grid"],path:Me,transFn:ee,crisp:!1}),l.drawLabels(U,N,{vals:X,layer:ae,transFn:ee,labelFns:l.makeLabelFns(N,0,fe)})};function a(N){return N.ticks+String(N.ticklen)+String(N.showticklabels)}var C=E.MINZOOM/2+.87,y="m-0.87,.5h"+C+"v3h-"+(C+5.2)+"l"+(C/2+2.6)+",-"+(C*.87+4.5)+"l2.6,1.5l-"+C/2+","+C*.87+"Z",z="m0.87,.5h-"+C+"v3h"+(C+5.2)+"l-"+(C/2+2.6)+",-"+(C*.87+4.5)+"l-2.6,1.5l"+C/2+","+C*.87+"Z",I="m0,1l"+C/2+","+C*.87+"l2.6,-1.5l-"+(C/2+2.6)+",-"+(C*.87+4.5)+"l-"+(C/2+2.6)+","+(C*.87+4.5)+"l2.6,1.5l"+C/2+",-"+C*.87+"Z",B="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",F=!0;S.clearOutline=function(){T(this.dragOptions),M(this.dragOptions.gd)},S.initInteractions=function(){var N=this,_=N.layers.plotbg.select("path").node(),U=N.graphDiv,Y=U._fullLayout._zoomlayer,K,re;this.dragOptions={element:_,gd:U,plotinfo:{id:N.id,domain:U._fullLayout[N.id].domain,xaxis:N.xaxis,yaxis:N.yaxis},subplot:N.id,prepFn:function(He,Ge,ke){N.dragOptions.xaxes=[N.xaxis],N.dragOptions.yaxes=[N.yaxis],K=U._fullLayout._invScaleX,re=U._fullLayout._invScaleY;var We=N.dragOptions.dragmode=U._fullLayout.dragmode;c(We)?N.dragOptions.minDrag=1:N.dragOptions.minDrag=void 0,We==="zoom"?(N.dragOptions.moveFn=Oe,N.dragOptions.clickFn=ie,N.dragOptions.doneFn=Be,ce(He,Ge,ke)):We==="pan"?(N.dragOptions.moveFn=xe,N.dragOptions.clickFn=ie,N.dragOptions.doneFn=Se,Ce(),N.clearOutline(U)):(w(We)||c(We))&&o(He,Ge,ke,N.dragOptions,We)}};var ae,fe,Q,j,X,J,ee,se,q,$;function le(He){var Ge={};return Ge[N.id+".aaxis.min"]=He.a,Ge[N.id+".baxis.min"]=He.b,Ge[N.id+".caxis.min"]=He.c,Ge}function ie(He,Ge){var ke=U._fullLayout.clickmode;O(U),He===2&&(U.emit("plotly_doubleclick",null),i.call("_guiRelayout",U,le({a:0,b:0,c:0}))),ke.indexOf("select")>-1&&He===1&&d(Ge,U,[N.xaxis],[N.yaxis],N.id,N.dragOptions),ke.indexOf("event")>-1&&u.click(U,Ge,N.id)}function ce(He,Ge,ke){var We=_.getBoundingClientRect();ae=Ge-We.left,fe=ke-We.top,U._fullLayout._calcInverseTransform(U);var it=U._fullLayout._invTransform,et=L.apply3DTransform(it)(ae,fe);ae=et[0],fe=et[1],Q={a:N.aaxis.range[0],b:N.baxis.range[1],c:N.caxis.range[1]},X=Q,j=N.aaxis.range[1]-Q.a,J=P(N.graphDiv._fullLayout[N.id].bgcolor).getLuminance(),ee="M0,"+N.h+"L"+N.w/2+", 0L"+N.w+","+N.h+"Z",se=!1,q=Y.append("path").attr("class","zoombox").attr("transform",A(N.x0,N.y0)).style({fill:J>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",ee),$=Y.append("path").attr("class","zoombox-corners").attr("transform",A(N.x0,N.y0)).style({fill:p.background,stroke:p.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),N.clearOutline(U)}function me(He,Ge){return 1-Ge/N.h}function Me(He,Ge){return 1-(He+(N.h-Ge)/Math.sqrt(3))/N.w}function we(He,Ge){return(He-(N.h-Ge)/Math.sqrt(3))/N.w}function Oe(He,Ge){var ke=ae+He*K,We=fe+Ge*re,it=Math.max(0,Math.min(1,me(ae,fe),me(ke,We))),et=Math.max(0,Math.min(1,Me(ae,fe),Me(ke,We))),tt=Math.max(0,Math.min(1,we(ae,fe),we(ke,We))),at=(it/2+tt)*N.w,ht=(1-it/2-et)*N.w,yt=(at+ht)/2,gt=ht-at,Et=(1-it)*N.h,Ct=Et-gt/b;gt<E.MINZOOM?(X=Q,q.attr("d",ee),$.attr("d","M0,0Z")):(X={a:Q.a+it*j,b:Q.b+et*j,c:Q.c+tt*j},q.attr("d",ee+"M"+at+","+Et+"H"+ht+"L"+yt+","+Ct+"L"+at+","+Et+"Z"),$.attr("d","M"+ae+","+fe+B+"M"+at+","+Et+y+"M"+ht+","+Et+z+"M"+yt+","+Ct+I)),se||(q.transition().style("fill",J>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),$.transition().style("opacity",1).duration(200),se=!0),U.emit("plotly_relayouting",le(X))}function Be(){O(U),X!==Q&&(i.call("_guiRelayout",U,le(X)),F&&U.data&&U._context.showTips&&(L.notifier(v(U,"Double-click to zoom back out"),"long"),F=!1))}function Ce(){Q={a:N.aaxis.range[0],b:N.baxis.range[1],c:N.caxis.range[1]},X=Q}function xe(He,Ge){var ke=He/N.xaxis._m,We=Ge/N.yaxis._m;X={a:Q.a-We,b:Q.b+(ke+We)/2,c:Q.c-(ke-We)/2};var it=[X.a,X.b,X.c].sort(L.sorterAsc),et={a:it.indexOf(X.a),b:it.indexOf(X.b),c:it.indexOf(X.c)};it[0]<0&&(it[1]+it[0]/2<0?(it[2]+=it[0]+it[1],it[0]=it[1]=0):(it[2]+=it[0]/2,it[1]+=it[0]/2,it[0]=0),X={a:it[et.a],b:it[et.b],c:it[et.c]},Ge=(Q.a-X.a)*N.yaxis._m,He=(Q.c-X.c-Q.b+X.b)*N.xaxis._m);var tt=A(N.x0+He,N.y0+Ge);N.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",tt);var at=A(-He,-Ge);N.clipDefRelative.select("path").attr("transform",at),N.aaxis.range=[X.a,N.sum-X.b-X.c],N.baxis.range=[N.sum-X.a-X.c,X.b],N.caxis.range=[N.sum-X.a-X.b,X.c],N.drawAxes(!1),N._hasClipOnAxisFalse&&N.plotContainer.select(".scatterlayer").selectAll(".trace").call(t.hideOutsideRangePoints,N),U.emit("plotly_relayouting",le(X))}function Se(){i.call("_guiRelayout",U,le(X))}_.onmousemove=function(He){u.hover(U,He,N.id),U._fullLayout._lasthover=_,U._fullLayout._hoversubplot=N.id},_.onmouseout=function(He){U._dragging||f.unhover(U,He)},f.init(this.dragOptions)};function O(N){g.select(N).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},73972:function(W,H,e){var g=e(47769),P=e(64213),i=e(75138),L=e(41965),A=e(24401).addStyleRule,v=e(1426),p=e(9012),t=e(10820),r=v.extendFlat,s=v.extendDeepAll;H.modules={},H.allCategories={},H.allTypes=[],H.subplotsRegistry={},H.transformsRegistry={},H.componentsRegistry={},H.layoutArrayContainers=[],H.layoutArrayRegexes=[],H.traceLayoutAttributes={},H.localeRegistry={},H.apiMethodRegistry={},H.collectableSubplotTypes=null,H.register=function(T){if(H.collectableSubplotTypes=null,T)T&&!Array.isArray(T)&&(T=[T]);else throw new Error("No argument passed to Plotly.register.");for(var E=0;E<T.length;E++){var x=T[E];if(!x)throw new Error("Invalid module was attempted to be registered!");switch(x.moduleType){case"trace":n(x);break;case"transform":u(x);break;case"component":f(x);break;case"locale":m(x);break;case"apiMethod":var S=x.name;H.apiMethodRegistry[S]=x.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},H.getModule=function(M){var T=H.modules[d(M)];return T?T._module:!1},H.traceIs=function(M,T){if(M=d(M),M==="various")return!1;var E=H.modules[M];return E||(M&&g.log("Unrecognized trace type "+M+"."),E=H.modules[p.type.dflt]),!!E.categories[T]},H.getTransformIndices=function(M,T){for(var E=[],x=M.transforms||[],S=0;S<x.length;S++)x[S].type===T&&E.push(S);return E},H.hasTransform=function(M,T){for(var E=M.transforms||[],x=0;x<E.length;x++)if(E[x].type===T)return!0;return!1},H.getComponentMethod=function(M,T){var E=H.componentsRegistry[M];return E&&E[T]||P},H.call=function(){var M=arguments[0],T=[].slice.call(arguments,1);return H.apiMethodRegistry[M].apply(null,T)};function n(M){var T=M.name,E=M.categories,x=M.meta;if(H.modules[T]){g.log("Type "+T+" already registered");return}H.subplotsRegistry[M.basePlotModule.name]||l(M.basePlotModule);for(var S={},b=0;b<E.length;b++)S[E[b]]=!0,H.allCategories[E[b]]=!0;H.modules[T]={_module:M,categories:S},x&&Object.keys(x).length&&(H.modules[T].meta=x),H.allTypes.push(T);for(var a in H.componentsRegistry)w(a,T);M.layoutAttributes&&r(H.traceLayoutAttributes,M.layoutAttributes);var C=M.basePlotModule,y=C.name;if(y==="mapbox"){var z=C.constants.styleRules;for(var I in z)A(".js-plotly-plot .plotly .mapboxgl-"+I,z[I])}(y==="geo"||y==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function l(M){var T=M.name;if(H.subplotsRegistry[T]){g.log("Plot type "+T+" already registered.");return}c(M),H.subplotsRegistry[T]=M;for(var E in H.componentsRegistry)o(E,M.name)}function f(M){if(typeof M.name!="string")throw new Error("Component module *name* must be a string.");var T=M.name;H.componentsRegistry[T]=M,M.layoutAttributes&&(M.layoutAttributes._isLinkedToArray&&i(H.layoutArrayContainers,T),c(M));for(var E in H.modules)w(T,E);for(var x in H.subplotsRegistry)o(T,x);for(var S in H.transformsRegistry)h(T,S);M.schema&&M.schema.layout&&s(t,M.schema.layout)}function u(M){if(typeof M.name!="string")throw new Error("Transform module *name* must be a string.");var T="Transform module "+M.name,E=typeof M.transform=="function",x=typeof M.calcTransform=="function";if(!E&&!x)throw new Error(T+" is missing a *transform* or *calcTransform* method.");E&&x&&g.log([T+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),L(M.attributes)||g.log(T+" registered without an *attributes* object."),typeof M.supplyDefaults!="function"&&g.log(T+" registered without a *supplyDefaults* method."),H.transformsRegistry[M.name]=M;for(var S in H.componentsRegistry)h(S,M.name)}function m(M){var T=M.name,E=T.split("-")[0],x=M.dictionary,S=M.format,b=x&&Object.keys(x).length,a=S&&Object.keys(S).length,C=H.localeRegistry,y=C[T];if(y||(C[T]=y={}),E!==T){var z=C[E];z||(C[E]=z={}),b&&z.dictionary===y.dictionary&&(z.dictionary=x),a&&z.format===y.format&&(z.format=S)}b&&(y.dictionary=x),a&&(y.format=S)}function c(M){if(M.layoutAttributes){var T=M.layoutAttributes._arrayAttrRegexps;if(T)for(var E=0;E<T.length;E++)i(H.layoutArrayRegexes,T[E])}}function w(M,T){var E=H.componentsRegistry[M].schema;if(!(!E||!E.traces)){var x=E.traces[T];x&&s(H.modules[T]._module.attributes,x)}}function h(M,T){var E=H.componentsRegistry[M].schema;if(!(!E||!E.transforms)){var x=E.transforms[T];x&&s(H.transformsRegistry[T].attributes,x)}}function o(M,T){var E=H.componentsRegistry[M].schema;if(!(!E||!E.subplots)){var x=H.subplotsRegistry[T],S=x.layoutAttributes,b=x.attr==="subplot"?x.name:x.attr;Array.isArray(b)&&(b=b[0]);var a=E.subplots[b];S&&a&&s(S,a)}}function d(M){return typeof M=="object"&&(M=M.type),M}},61914:function(W,H,e){var g=e(73972),P=e(71828),i=P.extendFlat,L=P.extendDeep;function A(p){var t;switch(p){case"themes__thumb":t={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}function v(p){var t=["xaxis","yaxis","zaxis"];return t.indexOf(p.slice(0,5))>-1}W.exports=function(t,r){var s,n=t.data,l=t.layout,f=L([],n),u=L({},l,A(r.tileClass)),m=t._context||{};if(r.width&&(u.width=r.width),r.height&&(u.height=r.height),r.tileClass==="thumbnail"||r.tileClass==="themes__thumb"){u.annotations=[];var c=Object.keys(u);for(s=0;s<c.length;s++)v(c[s])&&(u[c[s]].title={text:""});for(s=0;s<f.length;s++){var w=f[s];w.showscale=!1,w.marker&&(w.marker.showscale=!1),g.traceIs(w,"pie-like")&&(w.textposition="none")}}if(Array.isArray(r.annotations))for(s=0;s<r.annotations.length;s++)u.annotations.push(r.annotations[s]);var h=Object.keys(u).filter(function(E){return E.match(/^scene\d*$/)});if(h.length){var o={};for(r.tileClass==="thumbnail"&&(o={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),s=0;s<h.length;s++){var d=u[h[s]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),i(d.xaxis,o),i(d.yaxis,o),i(d.zaxis,o),d._scene=null}}var M=document.createElement("div");r.tileClass&&(M.className=r.tileClass);var T={gd:M,td:M,layout:u,data:f,config:{staticPlot:r.staticPlot===void 0?!0:r.staticPlot,plotGlPixelRatio:r.plotGlPixelRatio===void 0?2:r.plotGlPixelRatio,displaylogo:r.displaylogo||!1,showLink:r.showLink||!1,showTips:r.showTips||!1,mapboxAccessToken:m.mapboxAccessToken}};return r.setBackground!=="transparent"&&(T.config.setBackground=r.setBackground||"opaque"),T.gd.defaultLayout=A(r.tileClass),T}},7239:function(W,H,e){var g=e(71828),P=e(403),i=e(22435),L=e(25095);function A(v,p){var t;return g.isPlainObject(v)||(t=g.getGraphDiv(v)),p=p||{},p.format=p.format||"png",p.width=p.width||null,p.height=p.height||null,p.imageDataOnly=!0,new Promise(function(r,s){t&&t._snapshotInProgress&&s(new Error("Snapshotting already in progress.")),g.isIE()&&p.format!=="svg"&&s(new Error(L.MSG_IE_BAD_FORMAT)),t&&(t._snapshotInProgress=!0);var n=P(v,p),l=p.filename||v.fn||"newplot";l+="."+p.format.replace("-","."),n.then(function(f){return t&&(t._snapshotInProgress=!1),i(f,l,p.format)}).then(function(f){r(f)}).catch(function(f){t&&(t._snapshotInProgress=!1),s(f)})})}W.exports=A},22435:function(W,H,e){var g=e(71828),P=e(25095);function i(L,A,v){var p=document.createElement("a"),t="download"in p,r=new Promise(function(s,n){var l,f;if(g.isIE())return l=P.createBlob(L,"svg"),window.navigator.msSaveBlob(l,A),l=null,s(A);if(t)return l=P.createBlob(L,v),f=P.createObjectURL(l),p.href=f,p.download=A,document.body.appendChild(p),p.click(),document.body.removeChild(p),P.revokeObjectURL(f),l=null,s(A);if(g.isSafari()){var u=v==="svg"?",":";base64,";return P.octetStream(u+encodeURIComponent(L)),s(A)}n(new Error("download error"))});return r}W.exports=i},25095:function(W,H,e){var g=e(73972);H.getDelay=function(L){return L._has&&(L._has("gl3d")||L._has("gl2d")||L._has("mapbox"))?500:0},H.getRedrawFunc=function(L){return function(){g.getComponentMethod("colorbar","draw")(L)}},H.encodeSVG=function(L){return"data:image/svg+xml,"+encodeURIComponent(L)},H.encodeJSON=function(L){return"data:application/json,"+encodeURIComponent(L)};var P=window.URL||window.webkitURL;H.createObjectURL=function(L){return P.createObjectURL(L)},H.revokeObjectURL=function(L){return P.revokeObjectURL(L)},H.createBlob=function(L,A){if(A==="svg")return new window.Blob([L],{type:"image/svg+xml;charset=utf-8"});if(A==="full-json")return new window.Blob([L],{type:"application/json;charset=utf-8"});var v=i(window.atob(L));return new window.Blob([v],{type:"image/"+A})},H.octetStream=function(L){document.location.href="data:application/octet-stream"+L};function i(L){for(var A=L.length,v=new ArrayBuffer(A),p=new Uint8Array(v),t=0;t<A;t++)p[t]=L.charCodeAt(t);return v}H.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,H.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(W,H,e){var g=e(25095),P={getDelay:g.getDelay,getRedrawFunc:g.getRedrawFunc,clone:e(61914),toSVG:e(5900),svgToImg:e(70942),toImage:e(56395),downloadImage:e(7239)};W.exports=P},70942:function(W,H,e){var g=e(71828),P=e(15398).EventEmitter,i=e(25095);function L(A){var v=A.emitter||new P,p=new Promise(function(t,r){var s=window.Image,n=A.svg,l=A.format||"png";if(g.isIE()&&l!=="svg"){var f=new Error(i.MSG_IE_BAD_FORMAT);return r(f),A.promise?p:v.emit("error",f)}var u=A.canvas,m=A.scale||1,c=A.width||300,w=A.height||150,h=m*c,o=m*w,d=u.getContext("2d",{willReadFrequently:!0}),M=new s,T,E;l==="svg"||g.isSafari()?E=i.encodeSVG(n):(T=i.createBlob(n,"svg"),E=i.createObjectURL(T)),u.width=h,u.height=o,M.onload=function(){var x;switch(T=null,i.revokeObjectURL(E),l!=="svg"&&d.drawImage(M,0,0,h,o),l){case"jpeg":x=u.toDataURL("image/jpeg");break;case"png":x=u.toDataURL("image/png");break;case"webp":x=u.toDataURL("image/webp");break;case"svg":x=E;break;default:var S="Image format is not jpeg, png, svg or webp.";if(r(new Error(S)),!A.promise)return v.emit("error",S)}t(x),A.promise||v.emit("success",x)},M.onerror=function(x){if(T=null,i.revokeObjectURL(E),r(x),!A.promise)return v.emit("error",x)},M.src=E});return A.promise?p:v}W.exports=L},56395:function(W,H,e){var g=e(15398).EventEmitter,P=e(73972),i=e(71828),L=e(25095),A=e(61914),v=e(5900),p=e(70942);function t(r,s){var n=new g,l=A(r,{format:"png"}),f=l.gd;f.style.position="absolute",f.style.left="-5000px",document.body.appendChild(f);function u(){var c=L.getDelay(f._fullLayout);setTimeout(function(){var w=v(f),h=document.createElement("canvas");h.id=i.randstr(),n=p({format:s.format,width:f._fullLayout.width,height:f._fullLayout.height,canvas:h,emitter:n,svg:w}),n.clean=function(){f&&document.body.removeChild(f)}},c)}var m=L.getRedrawFunc(f);return P.call("_doPlot",f,l.data,l.layout,l.config).then(m).then(u).catch(function(c){n.emit("error",c)}),n}W.exports=t},5900:function(W,H,e){var g=e(39898),P=e(71828),i=e(91424),L=e(7901),A=e(77922),v=/"/g,p="TOBESTRIPPED",t=new RegExp('("'+p+")|("+p+'")',"g");function r(n){var l=g.select("body").append("div").style({display:"none"}).html(""),f=n.replace(/(&[^;]*;)/gi,function(u){return u==="&lt;"?"&#60;":u==="&rt;"?"&#62;":u.indexOf("<")!==-1||u.indexOf(">")!==-1?"":l.html(u).text()});return l.remove(),f}function s(n){return n.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}W.exports=function(l,f,u){var m=l._fullLayout,c=m._paper,w=m._toppaper,h=m.width,o=m.height,d;c.insert("rect",":first-child").call(i.setRect,0,0,h,o).call(L.fill,m.paper_bgcolor);var M=m._basePlotModules||[];for(d=0;d<M.length;d++){var T=M[d];T.toSVG&&T.toSVG(l)}if(w){var E=w.node().childNodes,x=Array.prototype.slice.call(E);for(d=0;d<x.length;d++){var S=x[d];S.childNodes.length&&c.node().appendChild(S)}}m._draggers&&m._draggers.remove(),c.node().style.background="",c.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var a=g.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){a.remove();return}else a.style({visibility:null,display:null});var C=this.style.fontFamily;C&&C.indexOf('"')!==-1&&a.style("font-family",C.replace(v,p))}),c.selectAll(".gradient_filled,.pattern_filled").each(function(){var a=g.select(this),C=this.style.fill;C&&C.indexOf("url(")!==-1&&a.style("fill",C.replace(v,p));var y=this.style.stroke;y&&y.indexOf("url(")!==-1&&a.style("stroke",y.replace(v,p))}),(f==="pdf"||f==="eps")&&c.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),c.node().setAttributeNS(A.xmlns,"xmlns",A.svg),c.node().setAttributeNS(A.xmlns,"xmlns:xlink",A.xlink),f==="svg"&&u&&(c.attr("width",u*h),c.attr("height",u*o),c.attr("viewBox","0 0 "+h+" "+o));var b=new window.XMLSerializer().serializeToString(c.node());return b=r(b),b=s(b),b=b.replace(t,"'"),P.isIE()&&(b=b.replace(/"/gi,"'"),b=b.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),b=b.replace(/(\\')/gi,'"')),b}},75341:function(W,H,e){var g=e(71828);W.exports=function(i,L){for(var A=0;A<i.length;A++)i[A].i=A;g.mergeArray(L.text,i,"tx"),g.mergeArray(L.hovertext,i,"htx");var v=L.marker;if(v){g.mergeArray(v.opacity,i,"mo",!0),g.mergeArray(v.color,i,"mc");var p=v.line;p&&(g.mergeArray(p.color,i,"mlc"),g.mergeArrayCastPositive(p.width,i,"mlw"))}}},1486:function(W,H,e){var g=e(82196),P=e(12663).axisHoverFormat,i=e(5386).fF,L=e(5386).si,A=e(50693),v=e(41940),p=e(97313),t=e(79952).u,r=e(1426).extendFlat,s=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=g.marker,l=n.line,f=r({},l.width,{dflt:0}),u=r({width:f,editType:"calc"},A("marker.line")),m=r({line:u,editType:"calc"},A("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:t});W.exports={x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),text:g.text,texttemplate:L({editType:"plot"},{keys:p.eventDataKeys}),hovertext:g.hovertext,hovertemplate:i({},{keys:p.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:r({},s,{}),insidetextfont:r({},s,{}),outsidetextfont:r({},s,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:r({},g.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:m,offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:{marker:{opacity:g.selected.marker.opacity,color:g.selected.marker.color,editType:"style"},textfont:g.selected.textfont,editType:"style"},unselected:{marker:{opacity:g.unselected.marker.opacity,color:g.unselected.marker.color,editType:"style"},textfont:g.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(W,H,e){var g=e(89298),P=e(42973),i=e(52075).hasColorscale,L=e(78803),A=e(75341),v=e(66279);W.exports=function(t,r){var s=g.getFromId(t,r.xaxis||"x"),n=g.getFromId(t,r.yaxis||"y"),l,f,u,m,c,w,h={msUTC:!!(r.base||r.base===0)};r.orientation==="h"?(l=s.makeCalcdata(r,"x",h),u=n.makeCalcdata(r,"y"),m=P(r,n,"y",u),c=!!r.yperiodalignment,w="y"):(l=n.makeCalcdata(r,"y",h),u=s.makeCalcdata(r,"x"),m=P(r,s,"x",u),c=!!r.xperiodalignment,w="x"),f=m.vals;for(var o=Math.min(f.length,l.length),d=new Array(o),M=0;M<o;M++)d[M]={p:f[M],s:l[M]},c&&(d[M].orig_p=u[M],d[M][w+"End"]=m.ends[M],d[M][w+"Start"]=m.starts[M]),r.ids&&(d[M].id=String(r.ids[M]));return i(r,"marker")&&L(t,r,{vals:r.marker.color,containerStr:"marker",cLetter:"c"}),i(r,"marker.line")&&L(t,r,{vals:r.marker.line.color,containerStr:"marker.line",cLetter:"c"}),A(d,r),v(d,r),d}},97313:function(W){W.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(W,H,e){var g=e(92770),P=e(71828).isArrayOrTypedArray,i=e(50606).BADNUM,L=e(73972),A=e(89298),v=e(99082).getAxisGroup,p=e(61546);function t(b,a){for(var C=a.xaxis,y=a.yaxis,z=b._fullLayout,I=b._fullData,B=b.calcdata,F=[],O=[],N=0;N<I.length;N++){var _=I[N];if(_.visible===!0&&L.traceIs(_,"bar")&&_.xaxis===C._id&&_.yaxis===y._id&&(_.orientation==="h"?F.push(B[N]):O.push(B[N]),_._computePh))for(var U=b.calcdata[N],Y=0;Y<U.length;Y++)typeof U[Y].ph0=="function"&&(U[Y].ph0=U[Y].ph0()),typeof U[Y].ph1=="function"&&(U[Y].ph1=U[Y].ph1())}var K={xCat:C.type==="category"||C.type==="multicategory",yCat:y.type==="category"||y.type==="multicategory",mode:z.barmode,norm:z.barnorm,gap:z.bargap,groupgap:z.bargroupgap};r(b,C,y,O,K),r(b,y,C,F,K)}function r(b,a,C,y,z){if(y.length){var I,B,F,O,N;switch(s(C,y),z.mode){case"overlay":n(a,C,y,z);break;case"group":for(I=[],B=[],F=0;F<y.length;F++)O=y[F],N=O[0].trace,N.offset===void 0?B.push(O):I.push(O);B.length&&l(b,a,C,B,z),I.length&&n(a,C,I,z);break;case"stack":case"relative":for(I=[],B=[],F=0;F<y.length;F++)O=y[F],N=O[0].trace,N.base===void 0?B.push(O):I.push(O);B.length&&f(b,a,C,B,z),I.length&&n(a,C,I,z);break}x(y,a)}}function s(b,a){var C,y;for(C=0;C<a.length;C++){var z=a[C],I=z[0].trace,B=I.type==="funnel"?I._base:I.base,F,O=I.orientation==="h"?I.xcalendar:I.ycalendar,N=b.type==="category"||b.type==="multicategory"?function(){return null}:b.d2c;if(P(B)){for(y=0;y<Math.min(B.length,z.length);y++)F=N(B[y],0,O),g(F)?(z[y].b=+F,z[y].hasB=1):z[y].b=0;for(;y<z.length;y++)z[y].b=0}else{F=N(B,0,O);var _=g(F);for(F=_?F:0,y=0;y<z.length;y++)z[y].b=F,_&&(z[y].hasB=1)}}}function n(b,a,C,y){for(var z=0;z<C.length;z++){var I=C[z],B=new p([I],{posAxis:b,sepNegVal:!1,overlapNoMerge:!y.norm});u(b,B,y),y.norm?(M(B),E(a,B,y)):o(a,B)}}function l(b,a,C,y,z){var I=new p(y,{posAxis:a,sepNegVal:!1,overlapNoMerge:!z.norm});m(b,a,I,z),T(I,a),z.norm?(M(I),E(C,I,z)):o(C,I)}function f(b,a,C,y,z){var I=new p(y,{posAxis:a,sepNegVal:z.mode==="relative",overlapNoMerge:!(z.norm||z.mode==="stack"||z.mode==="relative")});u(a,I,z),d(C,I,z);for(var B=0;B<y.length;B++)for(var F=y[B],O=0;O<F.length;O++){var N=F[O];if(N.s!==i){var _=N.b+N.s===I.get(N.p,N.s);_&&(N._outmost=!0)}}z.norm&&E(C,I,z)}function u(b,a,C){for(var y=a.minDiff,z=a.traces,I=y*(1-C.gap),B=I,F=B*(1-(C.groupgap||0)),O=-F/2,N=0;N<z.length;N++){var _=z[N],U=_[0].t;U.barwidth=F,U.poffset=O,U.bargroupwidth=I,U.bardelta=y}a.binWidth=z[0][0].t.barwidth/100,c(a),w(b,a),h(b,a)}function m(b,a,C,y){for(var z=b._fullLayout,I=C.positions,B=C.distinctPositions,F=C.minDiff,O=C.traces,N=O.length,_=I.length!==B.length,U=F*(1-y.gap),Y=v(z,a._id)+O[0][0].trace.orientation,K=z._alignmentOpts[Y]||{},re=0;re<N;re++){var ae=O[re],fe=ae[0].trace,Q=K[fe.alignmentgroup]||{},j=Object.keys(Q.offsetGroups||{}).length,X;j?X=U/j:X=_?U/N:U;var J=X*(1-(y.groupgap||0)),ee;j?ee=((2*fe._offsetIndex+1-j)*X-J)/2:ee=_?((2*re+1-N)*X-J)/2:-J/2;var se=ae[0].t;se.barwidth=J,se.poffset=ee,se.bargroupwidth=U,se.bardelta=F}C.binWidth=O[0][0].t.barwidth/100,c(C),w(a,C),h(a,C,_)}function c(b){var a=b.traces,C,y;for(C=0;C<a.length;C++){var z=a[C],I=z[0],B=I.trace,F=I.t,O=B._offset||B.offset,N=F.poffset,_;if(P(O)){for(_=Array.prototype.slice.call(O,0,z.length),y=0;y<_.length;y++)g(_[y])||(_[y]=N);for(y=_.length;y<z.length;y++)_.push(N);F.poffset=_}else O!==void 0&&(F.poffset=O);var U=B._width||B.width,Y=F.barwidth;if(P(U)){var K=Array.prototype.slice.call(U,0,z.length);for(y=0;y<K.length;y++)g(K[y])||(K[y]=Y);for(y=K.length;y<z.length;y++)K.push(Y);if(F.barwidth=K,O===void 0){for(_=[],y=0;y<z.length;y++)_.push(N+(Y-K[y])/2);F.poffset=_}}else U!==void 0&&(F.barwidth=U,O===void 0&&(F.poffset=N+(Y-U)/2))}}function w(b,a){for(var C=a.traces,y=S(b),z=0;z<C.length;z++)for(var I=C[z],B=I[0].t,F=B.poffset,O=Array.isArray(F),N=B.barwidth,_=Array.isArray(N),U=0;U<I.length;U++){var Y=I[U],K=Y.w=_?N[U]:N;Y.p===void 0&&(Y.p=Y[y],Y["orig_"+y]=Y[y]);var re=(O?F[U]:F)+K/2;Y[y]=Y.p+re}}function h(b,a,C){var y=a.traces,z=a.minDiff,I=z/2;A.minDtick(b,a.minDiff,a.distinctPositions[0],C);for(var B=0;B<y.length;B++){var F=y[B],O=F[0],N=O.trace,_=[],U,Y,K,re;for(re=0;re<F.length;re++)U=F[re],Y=U.p-I,K=U.p+I,_.push(Y,K);if(N.width||N.offset){var ae=O.t,fe=ae.poffset,Q=ae.barwidth,j=Array.isArray(fe),X=Array.isArray(Q);for(re=0;re<F.length;re++){U=F[re];var J=j?fe[re]:fe,ee=X?Q[re]:Q;Y=U.p+J,K=Y+ee,_.push(Y,K)}}N._extremes[b._id]=A.findExtremes(b,_,{padded:!1})}}function o(b,a){for(var C=a.traces,y=S(b),z=0;z<C.length;z++){for(var I=C[z],B=I[0].trace,F=B.type==="scatter",O=B.orientation==="v",N=[],_=!1,U=0;U<I.length;U++){var Y=I[U],K=F?0:Y.b,re=F?O?Y.y:Y.x:K+Y.s;Y[y]=re,N.push(re),Y.hasB&&N.push(K),(!Y.hasB||!Y.b)&&(_=!0)}B._extremes[b._id]=A.findExtremes(b,N,{tozero:_,padded:!0})}}function d(b,a,C){var y=S(b),z=a.traces,I,B,F,O,N,_;for(O=0;O<z.length;O++)if(I=z[O],B=I[0].trace,B.type==="funnel")for(N=0;N<I.length;N++)_=I[N],_.s!==i&&a.put(_.p,-.5*_.s);for(O=0;O<z.length;O++){I=z[O],B=I[0].trace,F=B.type==="funnel";var U=[];for(N=0;N<I.length;N++)if(_=I[N],_.s!==i){var Y;F?Y=_.s:Y=_.s+_.b;var K=a.put(_.p,Y),re=K+Y;_.b=K,_[y]=re,C.norm||(U.push(re),_.hasB&&U.push(K))}C.norm||(B._extremes[b._id]=A.findExtremes(b,U,{tozero:!0,padded:!0}))}}function M(b){for(var a=b.traces,C=0;C<a.length;C++)for(var y=a[C],z=0;z<y.length;z++){var I=y[z];I.s!==i&&b.put(I.p,I.b+I.s)}}function T(b,a){for(var C=b.traces,y=0;y<C.length;y++){var z=C[y],I=z[0].trace;if(I.base===void 0)for(var B=new p([z],{posAxis:a,sepNegVal:!0,overlapNoMerge:!0}),F=0;F<z.length;F++){var O=z[F];if(O.p!==i){var N=B.put(O.p,O.b+O.s);N&&(O.b=N)}}}}function E(b,a,C){var y=a.traces,z=S(b),I=C.norm==="fraction"?1:100,B=I/1e9,F=b.l2c(b.c2l(0)),O=C.mode==="stack"?I:F;function N(ee){return g(b.c2l(ee))&&(ee<F-B||ee>O+B||!g(F))}for(var _=0;_<y.length;_++){for(var U=y[_],Y=U[0].trace,K=[],re=!1,ae=!1,fe=0;fe<U.length;fe++){var Q=U[fe];if(Q.s!==i){var j=Math.abs(I/a.get(Q.p,Q.s));Q.b*=j,Q.s*=j;var X=Q.b,J=X+Q.s;Q[z]=J,K.push(J),ae=ae||N(J),Q.hasB&&(K.push(X),ae=ae||N(X)),(!Q.hasB||!Q.b)&&(re=!0)}}Y._extremes[b._id]=A.findExtremes(b,K,{tozero:re,padded:ae})}}function x(b,a){var C=S(a),y={},z,I,B,F=1/0,O=-1/0;for(z=0;z<b.length;z++)for(B=b[z],I=0;I<B.length;I++){var N=B[I].p;g(N)&&(F=Math.min(F,N),O=Math.max(O,N))}var _=1e4/(O-F),U=y.round=function(j){return String(Math.round(_*(j-F)))};for(z=0;z<b.length;z++){B=b[z],B[0].t.extents=y;var Y=B[0].t.poffset,K=Array.isArray(Y);for(I=0;I<B.length;I++){var re=B[I],ae=re[C]-re.w/2;if(g(ae)){var fe=re[C]+re.w/2,Q=U(re.p);y[Q]?y[Q]=[Math.min(ae,y[Q][0]),Math.max(fe,y[Q][1])]:y[Q]=[ae,fe]}re.p0=re.p+(K?Y[I]:Y),re.p1=re.p0+re.w,re.s0=re.b,re.s1=re.s0+re.s}}}function S(b){return b._id.charAt(0)}W.exports={crossTraceCalc:t,setGroupPositions:r}},90769:function(W,H,e){var g=e(71828),P=e(7901),i=e(73972),L=e(67513),A=e(73927),v=e(98340),p=e(26125),t=e(1486),r=g.coerceFont;function s(f,u,m,c){function w(T,E){return g.coerce(f,u,t,T,E)}var h=L(f,u,c,w);if(!h){u.visible=!1;return}A(f,u,c,w),w("xhoverformat"),w("yhoverformat"),w("orientation",u.x&&!u.y?"h":"v"),w("base"),w("offset"),w("width"),w("text"),w("hovertext"),w("hovertemplate");var o=w("textposition");l(f,u,c,w,o,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),v(f,u,w,m,c);var d=(u.marker.line||{}).color,M=i.getComponentMethod("errorbars","supplyDefaults");M(f,u,d||P.defaultLine,{axis:"y"}),M(f,u,d||P.defaultLine,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(u,w)}function n(f,u){var m,c;function w(o){return g.coerce(c._input,c,t,o)}if(u.barmode==="group")for(var h=0;h<f.length;h++)c=f[h],c.type==="bar"&&(m=c._input,p(m,c,u,w))}function l(f,u,m,c,w,h){h=h||{};var o=h.moduleHasSelected!==!1,d=h.moduleHasUnselected!==!1,M=h.moduleHasConstrain!==!1,T=h.moduleHasCliponaxis!==!1,E=h.moduleHasTextangle!==!1,x=h.moduleHasInsideanchor!==!1,S=!!h.hasPathbar,b=Array.isArray(w)||w==="auto",a=b||w==="inside",C=b||w==="outside";if(a||C){var y=r(c,"textfont",m.font),z=g.extendFlat({},y),I=f.textfont&&f.textfont.color,B=!I;if(B&&delete z.color,r(c,"insidetextfont",z),S){var F=g.extendFlat({},y);B&&delete F.color,r(c,"pathbar.textfont",F)}C&&r(c,"outsidetextfont",y),o&&c("selected.textfont.color"),d&&c("unselected.textfont.color"),M&&c("constraintext"),T&&c("cliponaxis"),E&&c("textangle"),c("texttemplate")}a&&x&&c("insidetextanchor")}W.exports={supplyDefaults:s,crossTraceDefaults:n,handleText:l}},58065:function(W){W.exports=function(e,g,P){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),P.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},69383:function(W,H,e){var g=e(92770),P=e(84267),i=e(71828).isArrayOrTypedArray;H.coerceString=function(L,A,v){if(typeof A=="string"){if(A||!L.noBlank)return A}else if((typeof A=="number"||A===!0)&&!L.strict)return String(A);return v!==void 0?v:L.dflt},H.coerceNumber=function(L,A,v){if(g(A)){A=+A;var p=L.min,t=L.max,r=p!==void 0&&A<p||t!==void 0&&A>t;if(!r)return A}return v!==void 0?v:L.dflt},H.coerceColor=function(L,A,v){return P(A).isValid()?A:v!==void 0?v:L.dflt},H.coerceEnumerated=function(L,A,v){return L.coerceNumber&&(A=+A),L.values.indexOf(A)!==-1?A:v!==void 0?v:L.dflt},H.getValue=function(L,A){var v;return Array.isArray(L)?A<L.length&&(v=L[A]):v=L,v},H.getLineWidth=function(L,A){var v=0<A.mlw?A.mlw:i(L.marker.line.width)?0:L.marker.line.width;return v}},95423:function(W,H,e){var g=e(30211),P=e(73972),i=e(7901),L=e(71828).fillText,A=e(69383).getLineWidth,v=e(89298).hoverLabelText,p=e(50606).BADNUM;function t(n,l,f,u,m){var c=r(n,l,f,u,m);if(c){var w=c.cd,h=w[0].trace,o=w[c.index];return c.color=s(h,o),P.getComponentMethod("errorbars","hoverInfo")(o,h,c),[c]}}function r(n,l,f,u,m){var c=n.cd,w=c[0].trace,h=c[0].t,o=u==="closest",d=w.type==="waterfall",M=n.maxHoverDistance,T=n.maxSpikeDistance,E,x,S,b,a,C,y;w.orientation==="h"?(E=f,x=l,S="y",b="x",a=fe,C=K):(E=l,x=f,S="x",b="y",C=fe,a=K);var z=w[S+"period"],I=o||z;function B(ce){return O(ce,-1)}function F(ce){return O(ce,1)}function O(ce,me){var Me=ce.w;return ce[S]+me*Me/2}function N(ce){return ce[S+"End"]-ce[S+"Start"]}var _=o?B:z?function(ce){return ce.p-N(ce)/2}:function(ce){return Math.min(B(ce),ce.p-h.bardelta/2)},U=o?F:z?function(ce){return ce.p+N(ce)/2}:function(ce){return Math.max(F(ce),ce.p+h.bardelta/2)};function Y(ce,me,Me){return m.finiteRange&&(Me=0),g.inbox(ce-E,me-E,Me+Math.min(1,Math.abs(me-ce)/y)-1)}function K(ce){return Y(_(ce),U(ce),M)}function re(ce){return Y(B(ce),F(ce),T)}function ae(ce){var me=ce[b];if(d){var Me=Math.abs(ce.rawS)||0;x>0?me+=Me:x<0&&(me-=Me)}return me}function fe(ce){var me=x,Me=ce.b,we=ae(ce);return g.inbox(Me-me,we-me,M+(we-me)/(we-Me)-1)}function Q(ce){var me=x,Me=ce.b,we=ae(ce);return g.inbox(Me-me,we-me,T+(we-me)/(we-Me)-1)}var j=n[S+"a"],X=n[b+"a"];y=Math.abs(j.r2c(j.range[1])-j.r2c(j.range[0]));function J(ce){return(a(ce)+C(ce))/2}var ee=g.getDistanceFunction(u,a,C,J);if(g.getClosest(c,ee,n),n.index!==!1&&c[n.index].p!==p){I||(_=function(ce){return Math.min(B(ce),ce.p-h.bargroupwidth/2)},U=function(ce){return Math.max(F(ce),ce.p+h.bargroupwidth/2)});var se=n.index,q=c[se],$=w.base?q.b+q.s:q.s;n[b+"0"]=n[b+"1"]=X.c2p(q[b],!0),n[b+"LabelVal"]=$;var le=h.extents[h.extents.round(q.p)];n[S+"0"]=j.c2p(o?_(q):le[0],!0),n[S+"1"]=j.c2p(o?U(q):le[1],!0);var ie=q.orig_p!==void 0;return n[S+"LabelVal"]=ie?q.orig_p:q.p,n.labelLabel=v(j,n[S+"LabelVal"],w[S+"hoverformat"]),n.valueLabel=v(X,n[b+"LabelVal"],w[b+"hoverformat"]),n.baseLabel=v(X,q.b,w[b+"hoverformat"]),n.spikeDistance=(Q(q)+re(q))/2,n[S+"Spike"]=j.c2p(q.p,!0),L(q,w,n),n.hovertemplate=w.hovertemplate,n}}function s(n,l){var f=l.mcc||n.marker.color,u=l.mlcc||n.marker.line.color,m=A(n,l);if(i.opacity(f))return f;if(i.opacity(u)&&m)return u}W.exports={hoverPoints:t,hoverOnBars:r,getTraceColor:s}},60822:function(W,H,e){W.exports={attributes:e(1486),layoutAttributes:e(43641),supplyDefaults:e(90769).supplyDefaults,crossTraceDefaults:e(90769).crossTraceDefaults,supplyLayoutDefaults:e(13957),calc:e(92290),crossTraceCalc:e(11661).crossTraceCalc,colorbar:e(4898),arraysToCalcdata:e(75341),plot:e(17295).plot,style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(95423).hoverPoints,eventData:e(58065),selectPoints:e(81974),moduleType:"trace",name:"bar",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(W){W.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(W,H,e){var g=e(73972),P=e(89298),i=e(71828),L=e(43641);W.exports=function(A,v,p){function t(h,o){return i.coerce(A,v,L,h,o)}for(var r=!1,s=!1,n=!1,l={},f=t("barmode"),u=0;u<p.length;u++){var m=p[u];if(g.traceIs(m,"bar")&&m.visible)r=!0;else continue;if(f==="group"){var c=m.xaxis+m.yaxis;l[c]&&(n=!0),l[c]=!0}if(m.visible&&m.type==="histogram"){var w=P.getFromId({_fullLayout:v},m[m.orientation==="v"?"xaxis":"yaxis"]);w.type!=="category"&&(s=!0)}}if(!r){delete v.barmode;return}f!=="overlay"&&t("barnorm"),t("bargap",s&&!n?0:.2),t("bargroupgap")}},17295:function(W,H,e){var g=e(39898),P=e(92770),i=e(71828),L=e(63893),A=e(7901),v=e(91424),p=e(73972),t=e(89298).tickText,r=e(72597),s=r.recordMinTextSize,n=r.clearMinTextSize,l=e(16688),f=e(69383),u=e(97313),m=e(1486),c=m.text,w=m.textposition,h=e(23469).appendArrayPointValue,o=u.TEXTPAD;function d(_){return _.id}function M(_){if(_.ids)return d}function T(_,U){return _<U?1:-1}function E(_,U,Y,K){var re=[],ae=[],fe=K?U:Y,Q=K?Y:U;return re[0]=fe.c2p(_.s0,!0),ae[0]=Q.c2p(_.p0,!0),re[1]=fe.c2p(_.s1,!0),ae[1]=Q.c2p(_.p1,!0),K?[re,ae]:[ae,re]}function x(_,U,Y,K){if(!U.uniformtext.mode&&S(Y)){var re;return K&&(re=K()),_.transition().duration(Y.duration).ease(Y.easing).each("end",function(){re&&re()}).each("interrupt",function(){re&&re()})}else return _}function S(_){return _&&_.duration>0}function b(_,U,Y,K,re,ae){var fe=U.xaxis,Q=U.yaxis,j=_._fullLayout,X=_._context.staticPlot;re||(re={mode:j.barmode,norm:j.barmode,gap:j.bargap,groupgap:j.bargroupgap},n("bar",j));var J=i.makeTraceGroups(K,Y,"trace bars").each(function(ee){var se=g.select(this),q=ee[0].trace,$=q.type==="waterfall",le=q.type==="funnel",ie=q.type==="bar",ce=ie||le,me=0;$&&q.connector.visible&&q.connector.mode==="between"&&(me=q.connector.line.width/2);var Me=q.orientation==="h",we=S(re),Oe=i.ensureSingle(se,"g","points"),Be=M(q),Ce=Oe.selectAll("g.point").data(i.identity,Be);Ce.enter().append("g").classed("point",!0),Ce.exit().remove(),Ce.each(function(Se,He){var Ge=g.select(this),ke=E(Se,fe,Q,Me),We=ke[0][0],it=ke[0][1],et=ke[1][0],tt=ke[1][1],at=(Me?it-We:tt-et)===0;at&&ce&&f.getLineWidth(q,Se)&&(at=!1),at||(at=!P(We)||!P(it)||!P(et)||!P(tt)),Se.isBlank=at,at&&(Me?it=We:tt=et),me&&!at&&(Me?(We-=T(We,it)*me,it+=T(We,it)*me):(et-=T(et,tt)*me,tt+=T(et,tt)*me));var ht,yt;if(q.type==="waterfall"){if(!at){var gt=q[Se.dir].marker;ht=gt.line.width,yt=gt.color}}else ht=f.getLineWidth(q,Se),yt=Se.mc||q.marker.color;function Et(ze){var Re=g.round(ht/2%1,2);return re.gap===0&&re.groupgap===0?g.round(Math.round(ze)-Re,2):ze}function Ct(ze,Re,be){return be&&ze===Re?ze:Math.abs(ze-Re)>=2?Et(ze):ze>Re?Math.ceil(ze):Math.floor(ze)}if(!_._context.staticPlot){var Vt=A.opacity(yt),Qe=Vt<1||ht>.01?Et:Ct;We=Qe(We,it,Me),it=Qe(it,We,Me),et=Qe(et,tt,!Me),tt=Qe(tt,et,!Me)}var Fe=x(i.ensureSingle(Ge,"path"),j,re,ae);if(Fe.style("vector-effect",X?"none":"non-scaling-stroke").attr("d",isNaN((it-We)*(tt-et))||at&&_._context.staticPlot?"M0,0Z":"M"+We+","+et+"V"+tt+"H"+it+"V"+et+"Z").call(v.setClipUrl,U.layerClipId,_),!j.uniformtext.mode&&we){var Ie=v.makePointStyleFns(q);v.singlePointStyle(Se,Fe,q,Ie,_)}a(_,U,Ge,ee,He,We,it,et,tt,re,ae),U.layerClipId&&v.hideOutsideRangePoint(Se,Ge.select("text"),fe,Q,q.xcalendar,q.ycalendar)});var xe=q.cliponaxis===!1;v.setClipUrl(se,xe?null:U.layerClipId,_)});p.getComponentMethod("errorbars","plot")(_,J,U,re)}function a(_,U,Y,K,re,ae,fe,Q,j,X,J){var ee=U.xaxis,se=U.yaxis,q=_._fullLayout,$;function le(ze,Re,be){var ye=i.ensureSingle(ze,"text").text(Re).attr({class:"bartext bartext-"+$,"text-anchor":"middle","data-notex":1}).call(v.font,be).call(L.convertToTspans,_);return ye}var ie=K[0].trace,ce=ie.orientation==="h",me=B(q,K,re,ee,se);$=F(ie,re);var Me=X.mode==="stack"||X.mode==="relative",we=K[re],Oe=!Me||we._outmost;if(!me||$==="none"||(we.isBlank||ae===fe||Q===j)&&($==="auto"||$==="inside")){Y.select("text").remove();return}var Be=q.font,Ce=l.getBarColor(K[re],ie),xe=l.getInsideTextFont(ie,re,Be,Ce),Se=l.getOutsideTextFont(ie,re,Be),He=Y.datum();ce?ee.type==="log"&&He.s0<=0&&(ee.range[0]<ee.range[1]?ae=0:ae=ee._length):se.type==="log"&&He.s0<=0&&(se.range[0]<se.range[1]?Q=se._length:Q=0);var Ge=Math.abs(fe-ae)-2*o,ke=Math.abs(j-Q)-2*o,We,it,et,tt,at;if($==="outside"&&!Oe&&!we.hasB&&($="inside"),$==="auto")if(Oe){$="inside",at=i.ensureUniformFontSize(_,xe),We=le(Y,me,at),it=v.bBox(We.node()),et=it.width,tt=it.height;var ht=et>0&&tt>0,yt=et<=Ge&&tt<=ke,gt=et<=ke&&tt<=Ge,Et=ce?Ge>=et*(ke/tt):ke>=tt*(Ge/et);ht&&(yt||gt||Et)?$="inside":($="outside",We.remove(),We=null)}else $="inside";if(!We){at=i.ensureUniformFontSize(_,$==="outside"?Se:xe),We=le(Y,me,at);var Ct=We.attr("transform");if(We.attr("transform",""),it=v.bBox(We.node()),et=it.width,tt=it.height,We.attr("transform",Ct),et<=0||tt<=0){We.remove();return}}var Vt=ie.textangle,Qe,Fe;$==="outside"?(Fe=ie.constraintext==="both"||ie.constraintext==="outside",Qe=I(ae,fe,Q,j,it,{isHorizontal:ce,constrained:Fe,angle:Vt})):(Fe=ie.constraintext==="both"||ie.constraintext==="inside",Qe=z(ae,fe,Q,j,it,{isHorizontal:ce,constrained:Fe,angle:Vt,anchor:ie.insidetextanchor})),Qe.fontSize=at.size,s(ie.type==="histogram"?"bar":ie.type,Qe,q),we.transform=Qe;var Ie=x(We,q,X,J);i.setTransormAndDisplay(Ie,Qe)}function C(_){return _==="auto"?0:_}function y(_,U){var Y=Math.PI/180*U,K=Math.abs(Math.sin(Y)),re=Math.abs(Math.cos(Y));return{x:_.width*re+_.height*K,y:_.width*K+_.height*re}}function z(_,U,Y,K,re,ae){var fe=!!ae.isHorizontal,Q=!!ae.constrained,j=ae.angle||0,X=ae.anchor||"end",J=X==="end",ee=X==="start",se=ae.leftToRight||0,q=(se+1)/2,$=1-q,le=re.width,ie=re.height,ce=Math.abs(U-_),me=Math.abs(K-Y),Me=ce>2*o&&me>2*o?o:0;ce-=2*Me,me-=2*Me;var we=C(j);j==="auto"&&!(le<=ce&&ie<=me)&&(le>ce||ie>me)&&(!(le>me||ie>ce)||le<ie!=ce<me)&&(we+=90);var Oe=y(re,we),Be=1;Q&&(Be=Math.min(1,ce/Oe.x,me/Oe.y));var Ce=re.left*$+re.right*q,xe=(re.top+re.bottom)/2,Se=(_+o)*$+(U-o)*q,He=(Y+K)/2,Ge=0,ke=0;if(ee||J){var We=(fe?Oe.x:Oe.y)/2,it=fe?T(_,U):T(Y,K);fe?ee?(Se=_+it*Me,Ge=-it*We):(Se=U-it*Me,Ge=it*We):ee?(He=Y+it*Me,ke=-it*We):(He=K-it*Me,ke=it*We)}return{textX:Ce,textY:xe,targetX:Se,targetY:He,anchorX:Ge,anchorY:ke,scale:Be,rotate:we}}function I(_,U,Y,K,re,ae){var fe=!!ae.isHorizontal,Q=!!ae.constrained,j=ae.angle||0,X=re.width,J=re.height,ee=Math.abs(U-_),se=Math.abs(K-Y),q;fe?q=se>2*o?o:0:q=ee>2*o?o:0;var $=1;Q&&($=fe?Math.min(1,se/J):Math.min(1,ee/X));var le=C(j),ie=y(re,le),ce=(fe?ie.x:ie.y)/2,me=(re.left+re.right)/2,Me=(re.top+re.bottom)/2,we=(_+U)/2,Oe=(Y+K)/2,Be=0,Ce=0,xe=fe?T(U,_):T(Y,K);return fe?(we=U-xe*q,Be=xe*ce):(Oe=K+xe*q,Ce=-xe*ce),{textX:me,textY:Me,targetX:we,targetY:Oe,anchorX:Be,anchorY:Ce,scale:$,rotate:le}}function B(_,U,Y,K,re){var ae=U[0].trace,fe=ae.texttemplate,Q;return fe?Q=O(_,U,Y,K,re):ae.textinfo?Q=N(U,Y,K,re):Q=f.getValue(ae.text,Y),f.coerceString(c,Q)}function F(_,U){var Y=f.getValue(_.textposition,U);return f.coerceEnumerated(w,Y)}function O(_,U,Y,K,re){var ae=U[0].trace,fe=i.castOption(ae,Y,"texttemplate");if(!fe)return"";var Q=ae.type==="histogram",j=ae.type==="waterfall",X=ae.type==="funnel",J=ae.orientation==="h",ee,se,q,$;J?(ee="y",se=re,q="x",$=K):(ee="x",se=K,q="y",$=re);function le(Be){return t(se,se.c2l(Be),!0).text}function ie(Be){return t($,$.c2l(Be),!0).text}var ce=U[Y],me={};me.label=ce.p,me.labelLabel=me[ee+"Label"]=le(ce.p);var Me=i.castOption(ae,ce.i,"text");(Me===0||Me)&&(me.text=Me),me.value=ce.s,me.valueLabel=me[q+"Label"]=ie(ce.s);var we={};h(we,ae,ce.i),(Q||we.x===void 0)&&(we.x=J?me.value:me.label),(Q||we.y===void 0)&&(we.y=J?me.label:me.value),(Q||we.xLabel===void 0)&&(we.xLabel=J?me.valueLabel:me.labelLabel),(Q||we.yLabel===void 0)&&(we.yLabel=J?me.labelLabel:me.valueLabel),j&&(me.delta=+ce.rawS||ce.s,me.deltaLabel=ie(me.delta),me.final=ce.v,me.finalLabel=ie(me.final),me.initial=me.final-me.delta,me.initialLabel=ie(me.initial)),X&&(me.value=ce.s,me.valueLabel=ie(me.value),me.percentInitial=ce.begR,me.percentInitialLabel=i.formatPercent(ce.begR),me.percentPrevious=ce.difR,me.percentPreviousLabel=i.formatPercent(ce.difR),me.percentTotal=ce.sumR,me.percenTotalLabel=i.formatPercent(ce.sumR));var Oe=i.castOption(ae,ce.i,"customdata");return Oe&&(me.customdata=Oe),i.texttemplateString(fe,me,_._d3locale,we,me,ae._meta||{})}function N(_,U,Y,K){var re=_[0].trace,ae=re.orientation==="h",fe=re.type==="waterfall",Q=re.type==="funnel";function j(Oe){var Be=ae?K:Y;return t(Be,Oe,!0).text}function X(Oe){var Be=ae?Y:K;return t(Be,+Oe,!0).text}var J=re.textinfo,ee=_[U],se=J.split("+"),q=[],$,le=function(Oe){return se.indexOf(Oe)!==-1};if(le("label")&&q.push(j(_[U].p)),le("text")&&($=i.castOption(re,ee.i,"text"),($===0||$)&&q.push($)),fe){var ie=+ee.rawS||ee.s,ce=ee.v,me=ce-ie;le("initial")&&q.push(X(me)),le("delta")&&q.push(X(ie)),le("final")&&q.push(X(ce))}if(Q){le("value")&&q.push(X(ee.s));var Me=0;le("percent initial")&&Me++,le("percent previous")&&Me++,le("percent total")&&Me++;var we=Me>1;le("percent initial")&&($=i.formatPercent(ee.begR),we&&($+=" of initial"),q.push($)),le("percent previous")&&($=i.formatPercent(ee.difR),we&&($+=" of previous"),q.push($)),le("percent total")&&($=i.formatPercent(ee.sumR),we&&($+=" of total"),q.push($))}return q.join("<br>")}W.exports={plot:b,toMoveInsideBar:z}},81974:function(W){W.exports=function(g,P){var i=g.cd,L=g.xaxis,A=g.yaxis,v=i[0].trace,p=v.type==="funnel",t=v.orientation==="h",r=[],s;if(P===!1)for(s=0;s<i.length;s++)i[s].selected=0;else for(s=0;s<i.length;s++){var n=i[s],l="ct"in n?n.ct:H(n,L,A,t,p);P.contains(l,!1,s,g)?(r.push({pointNumber:s,x:L.c2d(n.x),y:A.c2d(n.y)}),n.selected=1):n.selected=0}return r};function H(e,g,P,i,L){var A=g.c2p(i?e.s0:e.p0,!0),v=g.c2p(i?e.s1:e.p1,!0),p=P.c2p(i?e.p0:e.s0,!0),t=P.c2p(i?e.p1:e.s1,!0);return L?[(A+v)/2,(p+t)/2]:i?[v,(p+t)/2]:[(A+v)/2,t]}},61546:function(W,H,e){W.exports=P;var g=e(71828).distinctVals;function P(i,L){this.traces=i,this.sepNegVal=L.sepNegVal,this.overlapNoMerge=L.overlapNoMerge;for(var A=1/0,v=L.posAxis._id.charAt(0),p=[],t=0;t<i.length;t++){for(var r=i[t],s=0;s<r.length;s++){var n=r[s],l=n.p;l===void 0&&(l=n[v]),l!==void 0&&p.push(l)}r[0]&&r[0].width1&&(A=Math.min(r[0].width1,A))}this.positions=p;var f=g(p);this.distinctPositions=f.vals,f.vals.length===1&&A!==1/0?this.minDiff=A:this.minDiff=Math.min(f.minDiff,A);var u=(L.posAxis||{}).type;(u==="category"||u==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}P.prototype.put=function(L,A){var v=this.getLabel(L,A),p=this.bins[v]||0;return this.bins[v]=p+A,p},P.prototype.get=function(L,A){var v=this.getLabel(L,A);return this.bins[v]||0},P.prototype.getLabel=function(L,A){var v=A<0&&this.sepNegVal?"v":"^",p=this.overlapNoMerge?L:Math.round(L/this.binWidth);return v+p}},16688:function(W,H,e){var g=e(39898),P=e(7901),i=e(91424),L=e(71828),A=e(73972),v=e(72597).resizeText,p=e(1486),t=p.textfont,r=p.insidetextfont,s=p.outsidetextfont,n=e(69383);function l(x){var S=g.select(x).selectAll("g.barlayer").selectAll("g.trace");v(x,S,"bar");var b=S.size(),a=x._fullLayout;S.style("opacity",function(C){return C[0].trace.opacity}).each(function(C){(a.barmode==="stack"&&b>1||a.bargap===0&&a.bargroupgap===0&&!C[0].trace.marker.line.width)&&g.select(this).attr("shape-rendering","crispEdges")}),S.selectAll("g.points").each(function(C){var y=g.select(this),z=C[0].trace;f(y,z,x)}),A.getComponentMethod("errorbars","style")(S)}function f(x,S,b){i.pointStyle(x.selectAll("path"),S,b),u(x,S,b)}function u(x,S,b){x.selectAll("text").each(function(a){var C=g.select(this),y=L.ensureUniformFontSize(b,h(C,a,S,b));i.font(C,y)})}function m(x,S,b){var a=S[0].trace;a.selectedpoints?c(b,a,x):(f(b,a,x),A.getComponentMethod("errorbars","style")(b))}function c(x,S,b){i.selectedPointStyle(x.selectAll("path"),S),w(x.selectAll("text"),S,b)}function w(x,S,b){x.each(function(a){var C=g.select(this),y;if(a.selected){y=L.ensureUniformFontSize(b,h(C,a,S,b));var z=S.selected.textfont&&S.selected.textfont.color;z&&(y.color=z),i.font(C,y)}else i.selectedTextStyle(C,S)})}function h(x,S,b,a){var C=a._fullLayout.font,y=b.textfont;if(x.classed("bartext-inside")){var z=E(S,b);y=d(b,S.i,C,z)}else x.classed("bartext-outside")&&(y=M(b,S.i,C));return y}function o(x,S,b){return T(t,x.textfont,S,b)}function d(x,S,b,a){var C=o(x,S,b),y=x._input.textfont===void 0||x._input.textfont.color===void 0||Array.isArray(x.textfont.color)&&x.textfont.color[S]===void 0;return y&&(C={color:P.contrast(a),family:C.family,size:C.size}),T(r,x.insidetextfont,S,C)}function M(x,S,b){var a=o(x,S,b);return T(s,x.outsidetextfont,S,a)}function T(x,S,b,a){S=S||{};var C=n.getValue(S.family,b),y=n.getValue(S.size,b),z=n.getValue(S.color,b);return{family:n.coerceString(x.family,C,a.family),size:n.coerceNumber(x.size,y,a.size),color:n.coerceColor(x.color,z,a.color)}}function E(x,S){return S.type==="waterfall"?S[x.dir].marker.color:x.mcc||x.mc||S.marker.color}W.exports={style:l,styleTextPoints:u,styleOnSelect:m,getInsideTextFont:d,getOutsideTextFont:M,getBarColor:E,resizeText:v}},98340:function(W,H,e){var g=e(7901),P=e(52075).hasColorscale,i=e(1586),L=e(71828).coercePattern;W.exports=function(v,p,t,r,s){var n=t("marker.color",r),l=P(v,"marker");l&&i(v,p,s,t,{prefix:"marker.",cLetter:"c"}),t("marker.line.color",g.defaultLine),P(v,"marker.line")&&i(v,p,s,t,{prefix:"marker.line.",cLetter:"c"}),t("marker.line.width"),t("marker.opacity"),L(t,"marker.pattern",n,l),t("selected.marker.color"),t("unselected.marker.color")}},72597:function(W,H,e){var g=e(39898),P=e(71828);function i(p,t,r){var s=p._fullLayout,n=s["_"+r+"Text_minsize"];if(n){var l=s.uniformtext.mode==="hide",f;switch(r){case"funnelarea":case"pie":case"sunburst":f="g.slice";break;case"treemap":case"icicle":f="g.slice, g.pathbar";break;default:f="g.points > g.point"}t.selectAll(f).each(function(u){var m=u.transform;if(m){m.scale=l&&m.hide?0:n/m.fontSize;var c=g.select(this).select("text");P.setTransormAndDisplay(c,m)}})}}function L(p,t,r){if(r.uniformtext.mode){var s=v(p),n=r.uniformtext.minsize,l=t.scale*t.fontSize;t.hide=l<n,r[s]=r[s]||1/0,t.hide||(r[s]=Math.min(r[s],Math.max(l,n)))}}function A(p,t){var r=v(p);t[r]=void 0}function v(p){return"_"+p+"Text_minsize"}W.exports={recordMinTextSize:L,clearMinTextSize:A,resizeText:i}},55023:function(W,H,e){var g=e(5386).fF,P=e(1426).extendFlat,i=e(81245),L=e(1486);W.exports={r:i.r,theta:i.theta,r0:i.r0,dr:i.dr,theta0:i.theta0,dtheta:i.dtheta,thetaunit:i.thetaunit,base:P({},L.base,{}),offset:P({},L.offset,{}),width:P({},L.width,{}),text:P({},L.text,{}),hovertext:P({},L.hovertext,{}),marker:L.marker,hoverinfo:i.hoverinfo,hovertemplate:g(),selected:L.selected,unselected:L.unselected}},74692:function(W,H,e){var g=e(52075).hasColorscale,P=e(78803),i=e(75341),L=e(11661).setGroupPositions,A=e(66279),v=e(73972).traceIs,p=e(71828).extendFlat;function t(s,n){for(var l=s._fullLayout,f=n.subplot,u=l[f].radialaxis,m=l[f].angularaxis,c=u.makeCalcdata(n,"r"),w=m.makeCalcdata(n,"theta"),h=n._length,o=new Array(h),d=c,M=w,T=0;T<h;T++)o[T]={p:M[T],s:d[T]};function E(x){var S=n[x];S!==void 0&&(n["_"+x]=Array.isArray(S)?m.makeCalcdata(n,x):m.d2c(S,n.thetaunit))}return m.type==="linear"&&(E("width"),E("offset")),g(n,"marker")&&P(s,n,{vals:n.marker.color,containerStr:"marker",cLetter:"c"}),g(n,"marker.line")&&P(s,n,{vals:n.marker.line.color,containerStr:"marker.line",cLetter:"c"}),i(o,n),A(o,n),o}function r(s,n,l){for(var f=s.calcdata,u=[],m=0;m<f.length;m++){var c=f[m],w=c[0].trace;w.visible===!0&&v(w,"bar")&&w.subplot===l&&u.push(c)}var h=p({},n.radialaxis,{_id:"x"}),o=n.angularaxis;L(s,o,h,u,{mode:n.barmode,norm:n.barnorm,gap:n.bargap,groupgap:n.bargroupgap})}W.exports={calc:t,crossTraceCalc:r}},6135:function(W,H,e){var g=e(71828),P=e(22184).handleRThetaDefaults,i=e(98340),L=e(55023);W.exports=function(v,p,t,r){function s(l,f){return g.coerce(v,p,L,l,f)}var n=P(v,p,r,s);if(!n){p.visible=!1;return}s("thetaunit"),s("base"),s("offset"),s("width"),s("text"),s("hovertext"),s("hovertemplate"),i(v,p,s,t,r),g.coerceSelectionMarkerOpacity(p,s)}},27379:function(W,H,e){var g=e(30211),P=e(71828),i=e(95423).getTraceColor,L=P.fillText,A=e(59150).makeHoverPointText,v=e(10869).isPtInsidePolygon;W.exports=function(t,r,s){var n=t.cd,l=n[0].trace,f=t.subplot,u=f.radialAxis,m=f.angularAxis,c=f.vangles,w=c?v:P.isPtInsideSector,h=t.maxHoverDistance,o=m._period||2*Math.PI,d=Math.abs(u.g2p(Math.sqrt(r*r+s*s))),M=Math.atan2(s,r);u.range[0]>u.range[1]&&(M+=Math.PI);var T=function(b){return w(d,M,[b.rp0,b.rp1],[b.thetag0,b.thetag1],c)?h+Math.min(1,Math.abs(b.thetag1-b.thetag0)/o)-1+(b.rp1-d)/(b.rp1-b.rp0)-1:1/0};if(g.getClosest(n,T,t),t.index!==!1){var E=t.index,x=n[E];t.x0=t.x1=x.ct[0],t.y0=t.y1=x.ct[1];var S=P.extendFlat({},x,{r:x.s,theta:x.p});return L(x,l,t),A(S,l,f,t),t.hovertemplate=l.hovertemplate,t.color=i(l,x),t.xLabelVal=t.yLabelVal=void 0,x.s<0&&(t.idealAlign="left"),[t]}}},23381:function(W,H,e){W.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(23580),categories:["polar","bar","showLegend"],attributes:e(55023),layoutAttributes:e(40151),supplyDefaults:e(6135),supplyLayoutDefaults:e(19860),calc:e(74692).calc,crossTraceCalc:e(74692).crossTraceCalc,plot:e(60173),colorbar:e(4898),formatLabels:e(98608),style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(27379),selectPoints:e(81974),meta:{}}},40151:function(W){W.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(W,H,e){var g=e(71828),P=e(40151);W.exports=function(i,L,A){var v={},p;function t(n,l){return g.coerce(i[p]||{},L[p],P,n,l)}for(var r=0;r<A.length;r++){var s=A[r];s.type==="barpolar"&&s.visible===!0&&(p=s.subplot,v[p]||(t("barmode"),t("bargap"),v[p]=1))}}},60173:function(W,H,e){var g=e(39898),P=e(92770),i=e(71828),L=e(91424),A=e(10869);W.exports=function(t,r,s){var n=t._context.staticPlot,l=r.xaxis,f=r.yaxis,u=r.radialAxis,m=r.angularAxis,c=v(r),w=r.layers.frontplot.select("g.barlayer");i.makeTraceGroups(w,s,"trace bars").each(function(){var h=g.select(this),o=i.ensureSingle(h,"g","points"),d=o.selectAll("g.point").data(i.identity);d.enter().append("g").style("vector-effect",n?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),d.exit().remove(),d.each(function(M){var T=g.select(this),E=M.rp0=u.c2p(M.s0),x=M.rp1=u.c2p(M.s1),S=M.thetag0=m.c2g(M.p0),b=M.thetag1=m.c2g(M.p1),a;if(!P(E)||!P(x)||!P(S)||!P(b)||E===x||S===b)a="M0,0Z";else{var C=u.c2g(M.s1),y=(S+b)/2;M.ct=[l.c2p(C*Math.cos(y)),f.c2p(C*Math.sin(y))],a=c(E,x,S,b)}i.ensureSingle(T,"path").attr("d",a)}),L.setClipUrl(h,r._hasClipOnAxisFalse?r.clipIds.forTraces:null,t)})};function v(p){var t=p.cxx,r=p.cyy;return p.vangles?function(s,n,l,f){var u,m;i.angleDelta(l,f)>0?(u=l,m=f):(u=f,m=l);var c=A.findEnclosingVertexAngles(u,p.vangles)[0],w=A.findEnclosingVertexAngles(m,p.vangles)[1],h=[c,(u+m)/2,w];return A.pathPolygonAnnulus(s,n,u,m,h,t,r)}:function(s,n,l,f){return i.pathAnnulus(s,n,l,f,t,r)}}},53522:function(W,H,e){var g=e(82196),P=e(1486),i=e(22399),L=e(12663).axisHoverFormat,A=e(5386).fF,v=e(1426).extendFlat,p=g.marker,t=p.line;W.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:v({},p.symbol,{arrayOk:!1,editType:"plot"}),opacity:v({},p.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:v({},p.angle,{arrayOk:!1,editType:"calc"}),size:v({},p.size,{arrayOk:!1,editType:"calc"}),color:v({},p.color,{arrayOk:!1,editType:"style"}),line:{color:v({},t.color,{arrayOk:!1,dflt:i.defaultLine,editType:"style"}),width:v({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:g.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:P.offsetgroup,alignmentgroup:P.alignmentgroup,selected:{marker:g.selected.marker,editType:"style"},unselected:{marker:g.unselected.marker,editType:"style"},text:v({},g.text,{}),hovertext:v({},g.hovertext,{}),hovertemplate:A({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(W,H,e){var g=e(92770),P=e(89298),i=e(42973),L=e(71828),A=e(50606).BADNUM,v=L._;W.exports=function(M,T){var E=M._fullLayout,x=P.getFromId(M,T.xaxis||"x"),S=P.getFromId(M,T.yaxis||"y"),b=[],a=T.type==="violin"?"_numViolins":"_numBoxes",C,y,z,I,B,F,O;T.orientation==="h"?(z=x,I="x",B=S,F="y",O=!!T.yperiodalignment):(z=S,I="y",B=x,F="x",O=!!T.xperiodalignment);var N=p(T,F,B,E[a]),_=N[0],U=N[1],Y=L.distinctVals(_,B),K=Y.vals,re=Y.minDiff/2,ae,fe,Q,j,X,J,ee=(T.boxpoints||T.points)==="all"?L.identity:function(Ct){return Ct.v<ae.lf||Ct.v>ae.uf};if(T._hasPreCompStats){var se=T[I],q=function(Ct){return z.d2c((T[Ct]||[])[C])},$=1/0,le=-1/0;for(C=0;C<T._length;C++){var ie=_[C];if(g(ie)){if(ae={},ae.pos=ae[F]=ie,O&&U&&(ae.orig_p=U[C]),ae.q1=q("q1"),ae.med=q("median"),ae.q3=q("q3"),fe=[],se&&L.isArrayOrTypedArray(se[C]))for(y=0;y<se[C].length;y++)J=z.d2c(se[C][y]),J!==A&&(X={v:J,i:[C,y]},n(X,T,[C,y]),fe.push(X));if(ae.pts=fe.sort(f),Q=ae[I]=fe.map(u),j=Q.length,ae.med!==A&&ae.q1!==A&&ae.q3!==A&&ae.med>=ae.q1&&ae.q3>=ae.med){var ce=q("lowerfence");ae.lf=ce!==A&&ce<=ae.q1?ce:m(ae,Q,j);var me=q("upperfence");ae.uf=me!==A&&me>=ae.q3?me:c(ae,Q,j);var Me=q("mean");ae.mean=Me!==A?Me:j?L.mean(Q,j):(ae.q1+ae.q3)/2;var we=q("sd");ae.sd=Me!==A&&we>=0?we:j?L.stdev(Q,j,ae.mean):ae.q3-ae.q1,ae.lo=w(ae),ae.uo=h(ae);var Oe=q("notchspan");Oe=Oe!==A&&Oe>0?Oe:o(ae,j),ae.ln=ae.med-Oe,ae.un=ae.med+Oe;var Be=ae.lf,Ce=ae.uf;T.boxpoints&&Q.length&&(Be=Math.min(Be,Q[0]),Ce=Math.max(Ce,Q[j-1])),T.notched&&(Be=Math.min(Be,ae.ln),Ce=Math.max(Ce,ae.un)),ae.min=Be,ae.max=Ce}else{L.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+ae.q1,"median = "+ae.med,"q3 = "+ae.q3].join(`
`));var xe;ae.med!==A?xe=ae.med:ae.q1!==A?ae.q3!==A?xe=(ae.q1+ae.q3)/2:xe=ae.q1:ae.q3!==A?xe=ae.q3:xe=0,ae.med=xe,ae.q1=ae.q3=xe,ae.lf=ae.uf=xe,ae.mean=ae.sd=xe,ae.ln=ae.un=xe,ae.min=ae.max=xe}$=Math.min($,ae.min),le=Math.max(le,ae.max),ae.pts2=fe.filter(ee),b.push(ae)}}T._extremes[z._id]=P.findExtremes(z,[$,le],{padded:!0})}else{var Se=z.makeCalcdata(T,I),He=t(K,re),Ge=K.length,ke=r(Ge);for(C=0;C<T._length;C++)if(J=Se[C],!!g(J)){var We=L.findBin(_[C],He);We>=0&&We<Ge&&(X={v:J,i:C},n(X,T,C),ke[We].push(X))}var it=1/0,et=-1/0,tt=T.quartilemethod,at=tt==="exclusive",ht=tt==="inclusive";for(C=0;C<Ge;C++)if(ke[C].length>0){if(ae={},ae.pos=ae[F]=K[C],fe=ae.pts=ke[C].sort(f),Q=ae[I]=fe.map(u),j=Q.length,ae.min=Q[0],ae.max=Q[j-1],ae.mean=L.mean(Q,j),ae.sd=L.stdev(Q,j,ae.mean)*T.sdmultiple,ae.med=L.interp(Q,.5),j%2&&(at||ht)){var yt,gt;at?(yt=Q.slice(0,j/2),gt=Q.slice(j/2+1)):ht&&(yt=Q.slice(0,j/2+1),gt=Q.slice(j/2)),ae.q1=L.interp(yt,.5),ae.q3=L.interp(gt,.5)}else ae.q1=L.interp(Q,.25),ae.q3=L.interp(Q,.75);ae.lf=m(ae,Q,j),ae.uf=c(ae,Q,j),ae.lo=w(ae),ae.uo=h(ae);var Et=o(ae,j);ae.ln=ae.med-Et,ae.un=ae.med+Et,it=Math.min(it,ae.ln),et=Math.max(et,ae.un),ae.pts2=fe.filter(ee),b.push(ae)}T._extremes[z._id]=P.findExtremes(z,T.notched?Se.concat([it,et]):Se,{padded:!0})}return l(b,T),b.length>0?(b[0].t={num:E[a],dPos:re,posLetter:F,valLetter:I,labels:{med:v(M,"median:"),min:v(M,"min:"),q1:v(M,"q1:"),q3:v(M,"q3:"),max:v(M,"max:"),mean:T.boxmean==="sd"||T.sizemode==="sd"?v(M,"mean  :").replace("",T.sdmultiple===1?"":T.sdmultiple+""):v(M,"mean:"),lf:v(M,"lower fence:"),uf:v(M,"upper fence:")}},E[a]++,b):[{t:{empty:!0}}]};function p(d,M,T,E){var x=M in d,S=M+"0"in d,b="d"+M in d;if(x||S&&b){var a=T.makeCalcdata(d,M),C=i(d,T,M,a).vals;return[C,a]}var y;S?y=d[M+"0"]:"name"in d&&(T.type==="category"||g(d.name)&&["linear","log"].indexOf(T.type)!==-1||L.isDateTime(d.name)&&T.type==="date")?y=d.name:y=E;for(var z=T.type==="multicategory"?T.r2c_just_indices(y):T.d2c(y,0,d[M+"calendar"]),I=d._length,B=new Array(I),F=0;F<I;F++)B[F]=z;return[B]}function t(d,M){for(var T=d.length,E=new Array(T+1),x=0;x<T;x++)E[x]=d[x]-M;return E[T]=d[T-1]+M,E}function r(d){for(var M=new Array(d),T=0;T<d;T++)M[T]=[];return M}var s={text:"tx",hovertext:"htx"};function n(d,M,T){for(var E in s)L.isArrayOrTypedArray(M[E])&&(Array.isArray(T)?L.isArrayOrTypedArray(M[E][T[0]])&&(d[s[E]]=M[E][T[0]][T[1]]):d[s[E]]=M[E][T])}function l(d,M){if(L.isArrayOrTypedArray(M.selectedpoints))for(var T=0;T<d.length;T++){for(var E=d[T].pts||[],x={},S=0;S<E.length;S++)x[E[S].i]=S;L.tagSelected(E,M,x)}}function f(d,M){return d.v-M.v}function u(d){return d.v}function m(d,M,T){return T===0?d.q1:Math.min(d.q1,M[Math.min(L.findBin(2.5*d.q1-1.5*d.q3,M,!0)+1,T-1)])}function c(d,M,T){return T===0?d.q3:Math.max(d.q3,M[Math.max(L.findBin(2.5*d.q3-1.5*d.q1,M),0)])}function w(d){return 4*d.q1-3*d.q3}function h(d){return 4*d.q3-3*d.q1}function o(d,M){return M===0?0:1.57*(d.q3-d.q1)/Math.sqrt(M)}},37188:function(W,H,e){var g=e(89298),P=e(71828),i=e(99082).getAxisGroup,L=["v","h"];function A(p,t){for(var r=p.calcdata,s=t.xaxis,n=t.yaxis,l=0;l<L.length;l++){for(var f=L[l],u=f==="h"?n:s,m=[],c=0;c<r.length;c++){var w=r[c],h=w[0].t,o=w[0].trace;o.visible===!0&&(o.type==="box"||o.type==="candlestick")&&!h.empty&&(o.orientation||"v")===f&&o.xaxis===s._id&&o.yaxis===n._id&&m.push(c)}v("box",p,m,u)}}function v(p,t,r,s){var n=t.calcdata,l=t._fullLayout,f=s._id,u=f.charAt(0),m,c,w,h=[],o=0;for(m=0;m<r.length;m++)for(w=n[r[m]],c=0;c<w.length;c++)h.push(s.c2l(w[c].pos,!0)),o+=(w[c].pts2||[]).length;if(h.length){var d=P.distinctVals(h);(s.type==="category"||s.type==="multicategory")&&(d.minDiff=1);var M=d.minDiff/2;g.minDtick(s,d.minDiff,d.vals[0],!0);var T=p==="violin"?"_numViolins":"_numBoxes",E=l[T],x=l[p+"mode"]==="group"&&E>1,S=1-l[p+"gap"],b=1-l[p+"groupgap"];for(m=0;m<r.length;m++){w=n[r[m]];var a=w[0].trace,C=w[0].t,y=a.width,z=a.side,I,B,F,O;if(y)I=B=O=y/2,F=0;else if(I=M,x){var N=i(l,s._id)+a.orientation,_=l._alignmentOpts[N]||{},U=_[a.alignmentgroup]||{},Y=Object.keys(U.offsetGroups||{}).length,K=Y||E,re=Y?a._offsetIndex:C.num;B=I*S*b/K,F=2*I*(-.5+(re+.5)/K)*S,O=I*S/K}else B=I*S*b,F=0,O=I;C.dPos=I,C.bPos=F,C.bdPos=B,C.wHover=O;var ae,fe,Q=F+B,j,X,J,ee,se,q,$=!!y,le=(a.boxpoints||a.points)&&o>0;if(z==="positive"?(ae=I*(y?1:.5),j=Q,fe=j=F):z==="negative"?(ae=j=F,fe=I*(y?1:.5),X=Q):(ae=fe=I,j=X=Q),le){var ie=a.pointpos,ce=a.jitter,me=a.marker.size/2,Me=0;ie+ce>=0&&(Me=Q*(ie+ce),Me>ae?($=!0,se=me,J=Me):Me>j&&(se=me,J=ae)),Me<=ae&&(J=ae);var we=0;ie-ce<=0&&(we=-Q*(ie-ce),we>fe?($=!0,q=me,ee=we):we>X&&(q=me,ee=fe)),we<=fe&&(ee=fe)}else J=ae,ee=fe;var Oe=new Array(w.length);for(c=0;c<w.length;c++)Oe[c]=w[c].pos;a._extremes[f]=g.findExtremes(s,Oe,{padded:$,vpadminus:ee,vpadplus:J,vpadLinearized:!0,ppadminus:{x:q,y:se}[u],ppadplus:{x:se,y:q}[u]})}}}W.exports={crossTraceCalc:A,setPositionOffset:v}},36411:function(W,H,e){var g=e(71828),P=e(73972),i=e(7901),L=e(73927),A=e(26125),v=e(4322),p=e(53522);function t(l,f,u,m){function c(b,a){return g.coerce(l,f,p,b,a)}if(r(l,f,c,m),f.visible!==!1){L(l,f,m,c),c("xhoverformat"),c("yhoverformat");var w=f._hasPreCompStats;w&&(c("lowerfence"),c("upperfence")),c("line.color",(l.marker||{}).color||u),c("line.width"),c("fillcolor",i.addOpacity(f.line.color,.5));var h=!1;if(w){var o=c("mean"),d=c("sd");o&&o.length&&(h=!0,d&&d.length&&(h="sd"))}c("whiskerwidth");var M=c("sizemode"),T;M==="quartiles"&&(T=c("boxmean",h)),c("showwhiskers",M==="quartiles"),(M==="sd"||T==="sd")&&c("sdmultiple"),c("width"),c("quartilemethod");var E=!1;if(w){var x=c("notchspan");x&&x.length&&(E=!0)}else g.validate(l.notchwidth,p.notchwidth)&&(E=!0);var S=c("notched",E);S&&c("notchwidth"),s(l,f,c,{prefix:"box"})}}function r(l,f,u,m){function c(Y){var K=0;return Y&&Y.length&&(K+=1,g.isArrayOrTypedArray(Y[0])&&Y[0].length&&(K+=1)),K}function w(Y){return g.validate(l[Y],p[Y])}var h=u("y"),o=u("x"),d;if(f.type==="box"){var M=u("q1"),T=u("median"),E=u("q3");f._hasPreCompStats=M&&M.length&&T&&T.length&&E&&E.length,d=Math.min(g.minRowLength(M),g.minRowLength(T),g.minRowLength(E))}var x=c(h),S=c(o),b=x&&g.minRowLength(h),a=S&&g.minRowLength(o),C=m.calendar,y={autotypenumbers:m.autotypenumbers},z,I;if(f._hasPreCompStats)switch(String(S)+String(x)){case"00":var B=w("x0")||w("dx"),F=w("y0")||w("dy");F&&!B?z="h":z="v",I=d;break;case"10":z="v",I=Math.min(d,a);break;case"20":z="h",I=Math.min(d,o.length);break;case"01":z="h",I=Math.min(d,b);break;case"02":z="v",I=Math.min(d,h.length);break;case"12":z="v",I=Math.min(d,a,h.length);break;case"21":z="h",I=Math.min(d,o.length,b);break;case"11":I=0;break;case"22":var O=!1,N;for(N=0;N<o.length;N++)if(v(o[N],C,y)==="category"){O=!0;break}if(O)z="v",I=Math.min(d,a,h.length);else{for(N=0;N<h.length;N++)if(v(h[N],C,y)==="category"){O=!0;break}O?(z="h",I=Math.min(d,o.length,b)):(z="v",I=Math.min(d,a,h.length))}break}else x>0?(z="v",S>0?I=Math.min(a,b):I=Math.min(b)):S>0?(z="h",I=Math.min(a)):I=0;if(!I){f.visible=!1;return}f._length=I;var _=u("orientation",z);f._hasPreCompStats?_==="v"&&S===0?(u("x0",0),u("dx",1)):_==="h"&&x===0&&(u("y0",0),u("dy",1)):_==="v"&&S===0?u("x0"):_==="h"&&x===0&&u("y0");var U=P.getComponentMethod("calendars","handleTraceDefaults");U(l,f,["x","y"],m)}function s(l,f,u,m){var c=m.prefix,w=g.coerce2(l,f,p,"marker.outliercolor"),h=u("marker.line.outliercolor"),o="outliers";f._hasPreCompStats?o="all":(w||h)&&(o="suspectedoutliers");var d=u(c+"points",o);d?(u("jitter",d==="all"?.3:0),u("pointpos",d==="all"?-1.5:0),u("marker.symbol"),u("marker.opacity"),u("marker.size"),u("marker.angle"),u("marker.color",f.line.color),u("marker.line.color"),u("marker.line.width"),d==="suspectedoutliers"&&(u("marker.line.outliercolor",f.marker.color),u("marker.line.outlierwidth")),u("selected.marker.color"),u("unselected.marker.color"),u("selected.marker.size"),u("unselected.marker.size"),u("text"),u("hovertext")):delete f.marker;var M=u("hoveron");(M==="all"||M.indexOf("points")!==-1)&&u("hovertemplate"),g.coerceSelectionMarkerOpacity(f,u)}function n(l,f){var u,m;function c(o){return g.coerce(m._input,m,p,o)}for(var w=0;w<l.length;w++){m=l[w];var h=m.type;(h==="box"||h==="violin")&&(u=m._input,f[h+"mode"]==="group"&&A(u,m,f,c))}}W.exports={supplyDefaults:t,crossTraceDefaults:n,handleSampleDefaults:r,handlePointsDefaults:s}},74907:function(W){W.exports=function(e,g){return g.hoverOnBox&&(e.hoverOnBox=g.hoverOnBox),"xVal"in g&&(e.x=g.xVal),"yVal"in g&&(e.y=g.yVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},41868:function(W,H,e){var g=e(89298),P=e(71828),i=e(30211),L=e(7901),A=P.fillText;function v(r,s,n,l){var f=r.cd,u=f[0].trace,m=u.hoveron,c=[],w;return m.indexOf("boxes")!==-1&&(c=c.concat(p(r,s,n,l))),m.indexOf("points")!==-1&&(w=t(r,s,n)),l==="closest"?w?[w]:c:(w&&c.push(w),c)}function p(r,s,n,l){var f=r.cd,u=r.xa,m=r.ya,c=f[0].trace,w=f[0].t,h=c.type==="violin",o,d,M,T,E,x,S,b,a,C,y,z=w.bdPos,I,B,F=w.wHover,O=function(we){return M.c2l(we.pos)+w.bPos-M.c2l(x)};h&&c.side!=="both"?(c.side==="positive"&&(a=function(we){var Oe=O(we);return i.inbox(Oe,Oe+F,C)},I=z,B=0),c.side==="negative"&&(a=function(we){var Oe=O(we);return i.inbox(Oe-F,Oe,C)},I=0,B=z)):(a=function(we){var Oe=O(we);return i.inbox(Oe-F,Oe+F,C)},I=B=z);var N;h?N=function(we){return i.inbox(we.span[0]-E,we.span[1]-E,C)}:N=function(we){return i.inbox(we.min-E,we.max-E,C)},c.orientation==="h"?(E=s,x=n,S=N,b=a,o="y",M=m,d="x",T=u):(E=n,x=s,S=a,b=N,o="x",M=u,d="y",T=m);var _=Math.min(1,z/Math.abs(M.r2c(M.range[1])-M.r2c(M.range[0])));C=r.maxHoverDistance-_,y=r.maxSpikeDistance-_;function U(we){return(S(we)+b(we))/2}var Y=i.getDistanceFunction(l,S,b,U);if(i.getClosest(f,Y,r),r.index===!1)return[];var K=f[r.index],re=c.line.color,ae=(c.marker||{}).color;L.opacity(re)&&c.line.width?r.color=re:L.opacity(ae)&&c.boxpoints?r.color=ae:r.color=c.fillcolor,r[o+"0"]=M.c2p(K.pos+w.bPos-B,!0),r[o+"1"]=M.c2p(K.pos+w.bPos+I,!0),r[o+"LabelVal"]=K.orig_p!==void 0?K.orig_p:K.pos;var fe=o+"Spike";r.spikeDistance=U(K)*y/C,r[fe]=M.c2p(K.pos,!0);var Q=c.boxmean||c.sizemode==="sd"||(c.meanline||{}).visible,j=c.boxpoints||c.points,X=j&&Q?["max","uf","q3","med","mean","q1","lf","min"]:j&&!Q?["max","uf","q3","med","q1","lf","min"]:!j&&Q?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],J=T.range[1]<T.range[0];c.orientation===(J?"v":"h")&&X.reverse();for(var ee=r.spikeDistance,se=r[fe],q=[],$=0;$<X.length;$++){var le=X[$];if(le in K){var ie=K[le],ce=T.c2p(ie,!0),me=P.extendFlat({},r);me.attr=le,me[d+"0"]=me[d+"1"]=ce,me[d+"LabelVal"]=ie,me[d+"Label"]=(w.labels?w.labels[le]+" ":"")+g.hoverLabelText(T,ie,c[d+"hoverformat"]),me.hoverOnBox=!0,le==="mean"&&"sd"in K&&(c.boxmean==="sd"||c.sizemode==="sd")&&(me[d+"err"]=K.sd),me.hovertemplate=!1,q.push(me)}}r.name="",r.spikeDistance=void 0,r[fe]=void 0;for(var Me=0;Me<q.length;Me++)q[Me].attr!=="med"?(q[Me].name="",q[Me].spikeDistance=void 0,q[Me][fe]=void 0):(q[Me].spikeDistance=ee,q[Me][fe]=se);return q}function t(r,s,n){for(var l=r.cd,f=r.xa,u=r.ya,m=l[0].trace,c=f.c2p(s),w=u.c2p(n),h,o=function(N){var _=Math.max(3,N.mrc||0);return Math.max(Math.abs(f.c2p(N.x)-c)-_,1-3/_)},d=function(N){var _=Math.max(3,N.mrc||0);return Math.max(Math.abs(u.c2p(N.y)-w)-_,1-3/_)},M=i.quadrature(o,d),T=!1,E,x,S=0;S<l.length;S++){E=l[S];for(var b=0;b<(E.pts||[]).length;b++){x=E.pts[b];var a=M(x);a<=r.distance&&(r.distance=a,T=[S,b])}}if(!T)return!1;E=l[T[0]],x=E.pts[T[1]];var C=f.c2p(x.x,!0),y=u.c2p(x.y,!0),z=x.mrc||1;h=P.extendFlat({},r,{index:x.i,color:(m.marker||{}).color,name:m.name,x0:C-z,x1:C+z,y0:y-z,y1:y+z,spikeDistance:r.distance,hovertemplate:m.hovertemplate});var I=E.orig_p,B=I!==void 0?I:E.pos,F;m.orientation==="h"?(F=u,h.xLabelVal=x.x,h.yLabelVal=B):(F=f,h.xLabelVal=B,h.yLabelVal=x.y);var O=F._id.charAt(0);return h[O+"Spike"]=F.c2p(E.pos,!0),A(x,m,h),h}W.exports={hoverPoints:v,hoverOnBoxes:p,hoverOnPoints:t}},83832:function(W,H,e){W.exports={attributes:e(53522),layoutAttributes:e(40094),supplyDefaults:e(36411).supplyDefaults,crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(4199).supplyLayoutDefaults,calc:e(48518),crossTraceCalc:e(37188).crossTraceCalc,plot:e(86047).plot,style:e(58063).style,styleOnSelect:e(58063).styleOnSelect,hoverPoints:e(41868).hoverPoints,eventData:e(74907),selectPoints:e(24626),moduleType:"trace",name:"box",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(W){W.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(W,H,e){var g=e(73972),P=e(71828),i=e(40094);function L(v,p,t,r,s){for(var n=s+"Layout",l=!1,f=0;f<t.length;f++){var u=t[f];if(g.traceIs(u,n)){l=!0;break}}l&&(r(s+"mode"),r(s+"gap"),r(s+"groupgap"))}function A(v,p,t){function r(s,n){return P.coerce(v,p,i,s,n)}L(v,p,t,r,"box")}W.exports={supplyLayoutDefaults:A,_supply:L}},86047:function(W,H,e){var g=e(39898),P=e(71828),i=e(91424),L=5,A=.01;function v(s,n,l,f){var u=s._context.staticPlot,m=n.xaxis,c=n.yaxis;P.makeTraceGroups(f,l,"trace boxes").each(function(w){var h=g.select(this),o=w[0],d=o.t,M=o.trace;if(d.wdPos=d.bdPos*M.whiskerwidth,M.visible!==!0||d.empty){h.remove();return}var T,E;M.orientation==="h"?(T=c,E=m):(T=m,E=c),p(h,{pos:T,val:E},M,d,u),t(h,{x:m,y:c},M,d),r(h,{pos:T,val:E},M,d)})}function p(s,n,l,f,u){var m=l.orientation==="h",c=n.val,w=n.pos,h=!!w.rangebreaks,o=f.bPos,d=f.wdPos||0,M=f.bPosPxOffset||0,T=l.whiskerwidth||0,E=l.showwhiskers!==!1,x=l.notched||!1,S=x?1-2*l.notchwidth:1,b,a;Array.isArray(f.bdPos)?(b=f.bdPos[0],a=f.bdPos[1]):(b=f.bdPos,a=f.bdPos);var C=s.selectAll("path.box").data(l.type!=="violin"||l.box.visible?P.identity:[]);C.enter().append("path").style("vector-effect",u?"none":"non-scaling-stroke").attr("class","box"),C.exit().remove(),C.each(function(y){if(y.empty)return g.select(this).attr("d","M0,0Z");var z=w.c2l(y.pos+o,!0),I=w.l2p(z-b)+M,B=w.l2p(z+a)+M,F=h?(I+B)/2:w.l2p(z)+M,O=l.whiskerwidth,N=h?I*O+(1-O)*F:w.l2p(z-d)+M,_=h?B*O+(1-O)*F:w.l2p(z+d)+M,U=w.l2p(z-b*S)+M,Y=w.l2p(z+a*S)+M,K=l.sizemode==="sd",re=c.c2p(K?y.mean-y.sd:y.q1,!0),ae=K?c.c2p(y.mean+y.sd,!0):c.c2p(y.q3,!0),fe=P.constrain(K?c.c2p(y.mean,!0):c.c2p(y.med,!0),Math.min(re,ae)+1,Math.max(re,ae)-1),Q=y.lf===void 0||l.boxpoints===!1||K,j=c.c2p(Q?y.min:y.lf,!0),X=c.c2p(Q?y.max:y.uf,!0),J=c.c2p(y.ln,!0),ee=c.c2p(y.un,!0);m?g.select(this).attr("d","M"+fe+","+U+"V"+Y+"M"+re+","+I+"V"+B+(x?"H"+J+"L"+fe+","+Y+"L"+ee+","+B:"")+"H"+ae+"V"+I+(x?"H"+ee+"L"+fe+","+U+"L"+J+","+I:"")+"Z"+(E?"M"+re+","+F+"H"+j+"M"+ae+","+F+"H"+X+(T===0?"":"M"+j+","+N+"V"+_+"M"+X+","+N+"V"+_):"")):g.select(this).attr("d","M"+U+","+fe+"H"+Y+"M"+I+","+re+"H"+B+(x?"V"+J+"L"+Y+","+fe+"L"+B+","+ee:"")+"V"+ae+"H"+I+(x?"V"+ee+"L"+U+","+fe+"L"+I+","+J:"")+"Z"+(E?"M"+F+","+re+"V"+j+"M"+F+","+ae+"V"+X+(T===0?"":"M"+N+","+j+"H"+_+"M"+N+","+X+"H"+_):""))})}function t(s,n,l,f){var u=n.x,m=n.y,c=f.bdPos,w=f.bPos,h=l.boxpoints||l.points;P.seedPseudoRandom();var o=function(T){return T.forEach(function(E){E.t=f,E.trace=l}),T},d=s.selectAll("g.points").data(h?o:[]);d.enter().append("g").attr("class","points"),d.exit().remove();var M=d.selectAll("path").data(function(T){var E,x=T.pts2,S=Math.max((T.max-T.min)/10,T.q3-T.q1),b=S*1e-9,a=S*A,C=[],y=0,z;if(l.jitter){if(S===0)for(y=1,C=new Array(x.length),E=0;E<x.length;E++)C[E]=1;else for(E=0;E<x.length;E++){var I=Math.max(0,E-L),B=x[I].v,F=Math.min(x.length-1,E+L),O=x[F].v;h!=="all"&&(x[E].v<T.lf?O=Math.min(O,T.lf):B=Math.max(B,T.uf));var N=Math.sqrt(a*(F-I)/(O-B+b))||0;N=P.constrain(Math.abs(N),0,1),C.push(N),y=Math.max(N,y)}z=l.jitter*2/(y||1)}for(E=0;E<x.length;E++){var _=x[E],U=_.v,Y=l.jitter?z*C[E]*(P.pseudoRandom()-.5):0,K=T.pos+w+c*(l.pointpos+Y);l.orientation==="h"?(_.y=K,_.x=U):(_.x=K,_.y=U),h==="suspectedoutliers"&&U<T.uo&&U>T.lo&&(_.so=!0)}return x});M.enter().append("path").classed("point",!0),M.exit().remove(),M.call(i.translatePoints,u,m)}function r(s,n,l,f){var u=n.val,m=n.pos,c=!!m.rangebreaks,w=f.bPos,h=f.bPosPxOffset||0,o=l.boxmean||(l.meanline||{}).visible,d,M;Array.isArray(f.bdPos)?(d=f.bdPos[0],M=f.bdPos[1]):(d=f.bdPos,M=f.bdPos);var T=s.selectAll("path.mean").data(l.type==="box"&&l.boxmean||l.type==="violin"&&l.box.visible&&l.meanline.visible?P.identity:[]);T.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),T.exit().remove(),T.each(function(E){var x=m.c2l(E.pos+w,!0),S=m.l2p(x-d)+h,b=m.l2p(x+M)+h,a=c?(S+b)/2:m.l2p(x)+h,C=u.c2p(E.mean,!0),y=u.c2p(E.mean-E.sd,!0),z=u.c2p(E.mean+E.sd,!0);l.orientation==="h"?g.select(this).attr("d","M"+C+","+S+"V"+b+(o==="sd"?"m0,0L"+y+","+a+"L"+C+","+S+"L"+z+","+a+"Z":"")):g.select(this).attr("d","M"+S+","+C+"H"+b+(o==="sd"?"m0,0L"+a+","+y+"L"+S+","+C+"L"+a+","+z+"Z":""))})}W.exports={plot:v,plotBoxAndWhiskers:p,plotPoints:t,plotBoxMean:r}},24626:function(W){W.exports=function(e,g){var P=e.cd,i=e.xaxis,L=e.yaxis,A=[],v,p;if(g===!1)for(v=0;v<P.length;v++)for(p=0;p<(P[v].pts||[]).length;p++)P[v].pts[p].selected=0;else for(v=0;v<P.length;v++)for(p=0;p<(P[v].pts||[]).length;p++){var t=P[v].pts[p],r=i.c2p(t.x),s=L.c2p(t.y);g.contains([r,s],null,t.i,e)?(A.push({pointNumber:t.i,x:i.c2d(t.x),y:L.c2d(t.y)}),t.selected=1):t.selected=0}return A}},58063:function(W,H,e){var g=e(39898),P=e(7901),i=e(91424);function L(v,p,t){var r=t||g.select(v).selectAll("g.trace.boxes");r.style("opacity",function(s){return s[0].trace.opacity}),r.each(function(s){var n=g.select(this),l=s[0].trace,f=l.line.width;function u(w,h,o,d){w.style("stroke-width",h+"px").call(P.stroke,o).call(P.fill,d)}var m=n.selectAll("path.box");if(l.type==="candlestick")m.each(function(w){if(!w.empty){var h=g.select(this),o=l[w.dir];u(h,o.line.width,o.line.color,o.fillcolor),h.style("opacity",l.selectedpoints&&!w.selected?.3:1)}});else{u(m,f,l.line.color,l.fillcolor),n.selectAll("path.mean").style({"stroke-width":f,"stroke-dasharray":2*f+"px,"+f+"px"}).call(P.stroke,l.line.color);var c=n.selectAll("path.point");i.pointStyle(c,l,v)}})}function A(v,p,t){var r=p[0].trace,s=t.selectAll("path.point");r.selectedpoints?i.selectedPointStyle(s,r):i.pointStyle(s,r,v)}W.exports={style:L,styleOnSelect:A}},75343:function(W,H,e){var g=e(71828).extendFlat,P=e(12663).axisHoverFormat,i=e(2522),L=e(53522);function A(v){return{line:{color:g({},L.line.color,{dflt:v}),width:L.line.width,editType:"style"},fillcolor:L.fillcolor,editType:"style"}}W.exports={xperiod:i.xperiod,xperiod0:i.xperiod0,xperiodalignment:i.xperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),x:i.x,open:i.open,high:i.high,low:i.low,close:i.close,line:{width:g({},L.line.width,{}),editType:"style"},increasing:A(i.increasing.line.color.dflt),decreasing:A(i.decreasing.line.color.dflt),text:i.text,hovertext:i.hovertext,whiskerwidth:g({},L.whiskerwidth,{dflt:0}),hoverlabel:i.hoverlabel}},41197:function(W,H,e){var g=e(71828),P=e(89298),i=e(42973),L=e(3485).calcCommon;W.exports=function(v,p){var t=v._fullLayout,r=P.getFromId(v,p.xaxis),s=P.getFromId(v,p.yaxis),n=r.makeCalcdata(p,"x"),l=i(p,r,"x",n).vals,f=L(v,p,n,l,s,A);return f.length?(g.extendFlat(f[0].t,{num:t._numBoxes,dPos:g.distinctVals(l).minDiff/2,posLetter:"x",valLetter:"y"}),t._numBoxes++,f):[{t:{empty:!0}}]};function A(v,p,t,r){return{min:t,q1:Math.min(v,r),med:r,q3:Math.max(v,r),max:p}}},1026:function(W,H,e){var g=e(71828),P=e(7901),i=e(14555),L=e(73927),A=e(75343);W.exports=function(t,r,s,n){function l(u,m){return g.coerce(t,r,A,u,m)}var f=i(t,r,l,n);if(!f){r.visible=!1;return}L(t,r,n,l,{x:!0}),l("xhoverformat"),l("yhoverformat"),l("line.width"),v(t,r,l,"increasing"),v(t,r,l,"decreasing"),l("text"),l("hovertext"),l("whiskerwidth"),n._requestRangeslider[r.xaxis]=!0};function v(p,t,r,s){var n=r(s+".line.color");r(s+".line.width",t.line.width),r(s+".fillcolor",P.addOpacity(n,.5))}},91815:function(W,H,e){W.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(75343),layoutAttributes:e(40094),supplyLayoutDefaults:e(4199).supplyLayoutDefaults,crossTraceCalc:e(37188).crossTraceCalc,supplyDefaults:e(1026),calc:e(41197),plot:e(86047).plot,layerName:"boxlayer",style:e(58063).style,hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},13145:function(W,H,e){var g=e(11500),P=e(44467);W.exports=function(A,v,p,t,r){var s=t("a");s||(t("da"),t("a0"));var n=t("b");n||(t("db"),t("b0")),i(A,v,p,r)};function i(L,A,v,p){var t=["aaxis","baxis"];t.forEach(function(r){var s=r.charAt(0),n=L[r]||{},l=P.newContainer(A,r),f={noTicklabelstep:!0,tickfont:"x",id:s+"axis",letter:s,font:A.font,name:r,data:L[s],calendar:A.calendar,dfltColor:p,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v};g(n,l,f),l._categories=l._categories||[],!L[r]&&n.type!=="-"&&(L[r]={type:n.type})})}},402:function(W,H,e){var g=e(71828).isArrayOrTypedArray;W.exports=function(i){return P(i,0)};function P(i,L){if(!g(i)||L>=10)return null;for(var A=1/0,v=-1/0,p=i.length,t=0;t<p;t++){var r=i[t];if(g(r)){var s=P(r,L+1);s&&(A=Math.min(s[0],A),v=Math.max(s[1],v))}else A=Math.min(r,A),v=Math.max(r,v)}return[A,v]}},99798:function(W,H,e){var g=e(41940),P=e(1928),i=e(22399),L=g({editType:"calc"});L.family.dflt='"Open Sans", verdana, arial, sans-serif',L.size.dflt=12,L.color.dflt=i.defaultLine,W.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:P,baxis:P,font:L,color:{valType:"color",dflt:i.defaultLine,editType:"plot"},transforms:void 0}},4536:function(W,H,e){var g=e(71828).isArrayOrTypedArray;W.exports=function(P,i,L,A){var v,p,t,r,s,n,l,f,u,m,c,w,h,o=g(L)?"a":"b",d=o==="a"?P.aaxis:P.baxis,M=d.smoothing,T=o==="a"?P.a2i:P.b2j,E=o==="a"?L:A,x=o==="a"?A:L,S=o==="a"?i.a.length:i.b.length,b=o==="a"?i.b.length:i.a.length,a=Math.floor(o==="a"?P.b2j(x):P.a2i(x)),C=o==="a"?function(re){return P.evalxy([],re,a)}:function(re){return P.evalxy([],a,re)};M&&(t=Math.max(0,Math.min(b-2,a)),r=a-t,p=o==="a"?function(re,ae){return P.dxydi([],re,t,ae,r)}:function(re,ae){return P.dxydj([],t,re,r,ae)});var y=T(E[0]),z=T(E[1]),I=y<z?1:-1,B=(z-y)*1e-8,F=I>0?Math.floor:Math.ceil,O=I>0?Math.ceil:Math.floor,N=I>0?Math.min:Math.max,_=I>0?Math.max:Math.min,U=F(y+B),Y=O(z-B);l=C(y);var K=[[l]];for(v=U;v*I<Y*I;v+=I)s=[],c=_(y,v),w=N(z,v+I),h=w-c,n=Math.max(0,Math.min(S-2,Math.floor(.5*(c+w)))),f=C(w),M&&(u=p(n,c-n),m=p(n,w-n),s.push([l[0]+u[0]/3*h,l[1]+u[1]/3*h]),s.push([f[0]-m[0]/3*h,f[1]-m[1]/3*h])),s.push(f),K.push(s),l=f;return K}},1928:function(W,H,e){var g=e(41940),P=e(22399),i=e(13838),L=e(12663).descriptionWithDates,A=e(30962).overrideAll,v=e(79952).P,p=e(1426).extendFlat;W.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:g({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:i.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:p({},i.labelalias,{editType:"calc"}),tickfont:g({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:L("tick label")},tickformatstops:A(i.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:p({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:p({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:P.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:g({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(W,H,e){var g=e(99798),P=e(7901).addOpacity,i=e(73972),L=e(71828),A=e(26218),v=e(96115),p=e(89426),t=e(15258),r=e(21994),s=e(4322);W.exports=function(f,u,m){var c=m.letter,w=m.font||{},h=g[c+"axis"];function o(U,Y){return L.coerce(f,u,h,U,Y)}function d(U,Y){return L.coerce2(f,u,h,U,Y)}m.name&&(u._name=m.name,u._id=m.name),o("autotypenumbers",m.autotypenumbersDflt);var M=o("type");if(M==="-"&&(m.data&&n(u,m.data),u.type==="-"?u.type="linear":M=f.type=u.type),o("smoothing"),o("cheatertype"),o("showticklabels"),o("labelprefix",c+" = "),o("labelsuffix"),o("showtickprefix"),o("showticksuffix"),o("separatethousands"),o("tickformat"),o("exponentformat"),o("minexponent"),o("showexponent"),o("categoryorder"),o("tickmode"),o("tickvals"),o("ticktext"),o("tick0"),o("dtick"),u.tickmode==="array"&&(o("arraytick0"),o("arraydtick")),o("labelpadding"),u._hovertitle=c,M==="date"){var T=i.getComponentMethod("calendars","handleDefaults");T(f,u,"calendar",m.calendar)}r(u,m.fullLayout),u.c2p=L.identity;var E=o("color",m.dfltColor),x=E===f.color?E:w.color,S=o("title.text");S&&(L.coerceFont(o,"title.font",{family:w.family,size:L.bigFont(w.size),color:x}),o("title.offset")),o("tickangle");var b=o("autorange",!u.isValidRange(f.range));b&&o("rangemode"),o("range"),u.cleanRange(),o("fixedrange"),A(f,u,o,M),p(f,u,o,M,m),v(f,u,o,M,m),t(f,u,o,{data:m.data,dataAttr:c});var a=d("gridcolor",P(E,.3)),C=d("gridwidth"),y=d("griddash"),z=o("showgrid");z||(delete u.gridcolor,delete u.gridwidth,delete u.griddash);var I=d("startlinecolor",E),B=d("startlinewidth",C),F=o("startline",u.showgrid||!!I||!!B);F||(delete u.startlinecolor,delete u.startlinewidth);var O=d("endlinecolor",E),N=d("endlinewidth",C),_=o("endline",u.showgrid||!!O||!!N);return _||(delete u.endlinecolor,delete u.endlinewidth),z?(o("minorgridcount"),o("minorgridwidth",C),o("minorgriddash",y),o("minorgridcolor",P(a,.06)),u.minorgridcount||(delete u.minorgridwidth,delete u.minorgriddash,delete u.minorgridcolor)):(delete u.gridcolor,delete u.gridwidth,delete u.griddash),u.showticklabels==="none"&&(delete u.tickfont,delete u.tickangle,delete u.showexponent,delete u.exponentformat,delete u.minexponent,delete u.tickformat,delete u.showticksuffix,delete u.showtickprefix),u.showticksuffix||delete u.ticksuffix,u.showtickprefix||delete u.tickprefix,o("tickmode"),u};function n(l,f){if(l.type==="-"){var u=l._id,m=u.charAt(0),c=m+"calendar",w=l[c];l.type=s(f,w,{autotypenumbers:l.autotypenumbers})}}},25281:function(W,H,e){var g=e(89298),P=e(71828).isArray1D,i=e(53824),L=e(402),A=e(20347),v=e(83311),p=e(44807),t=e(4742),r=e(72505),s=e(68296),n=e(11435);W.exports=function(f,u){var m=g.getFromId(f,u.xaxis),c=g.getFromId(f,u.yaxis),w=u.aaxis,h=u.baxis,o=u.x,d=u.y,M=[];o&&P(o)&&M.push("x"),d&&P(d)&&M.push("y"),M.length&&s(u,w,h,"a","b",M);var T=u._a=u._a||u.a,E=u._b=u._b||u.b;o=u._x||u.x,d=u._y||u.y;var x={};if(u._cheater){var S=w.cheatertype==="index"?T.length:T,b=h.cheatertype==="index"?E.length:E;o=i(S,b,u.cheaterslope)}u._x=o=t(o),u._y=d=t(d),r(o,T,E),r(d,T,E),n(u),u.setScale();var a=L(o),C=L(d),y=.5*(a[1]-a[0]),z=.5*(a[1]+a[0]),I=.5*(C[1]-C[0]),B=.5*(C[1]+C[0]),F=1.3;return a=[z-y*F,z+y*F],C=[B-I*F,B+I*F],u._extremes[m._id]=g.findExtremes(m,a,{padded:!0}),u._extremes[c._id]=g.findExtremes(c,C,{padded:!0}),A(u,"a","b"),A(u,"b","a"),v(u,w),v(u,h),x.clipsegments=p(u._xctrl,u._yctrl,w,h),x.x=o,x.y=d,x.a=T,x.b=E,[x]}},44807:function(W){W.exports=function(e,g,P,i){var L,A,v,p=[],t=!!P.smoothing,r=!!i.smoothing,s=e[0].length-1,n=e.length-1;for(L=0,A=[],v=[];L<=s;L++)A[L]=e[0][L],v[L]=g[0][L];for(p.push({x:A,y:v,bicubic:t}),L=0,A=[],v=[];L<=n;L++)A[L]=e[L][s],v[L]=g[L][s];for(p.push({x:A,y:v,bicubic:r}),L=s,A=[],v=[];L>=0;L--)A[s-L]=e[n][L],v[s-L]=g[n][L];for(p.push({x:A,y:v,bicubic:t}),L=n,A=[],v=[];L>=0;L--)A[n-L]=e[L][0],v[n-L]=g[L][0];return p.push({x:A,y:v,bicubic:r}),p}},20347:function(W,H,e){var g=e(89298),P=e(1426).extendFlat;W.exports=function(L,A,v){var p,t,r,s,n,l,f,u,m,c,w,h,o,d,M=L["_"+A],T=L[A+"axis"],E=T._gridlines=[],x=T._minorgridlines=[],S=T._boundarylines=[],b=L["_"+v],a=L[v+"axis"];T.tickmode==="array"&&(T.tickvals=M.slice());var C=L._xctrl,y=L._yctrl,z=C[0].length,I=C.length,B=L._a.length,F=L._b.length;g.prepTicks(T),T.tickmode==="array"&&delete T.tickvals;var O=T.smoothing?3:1;function N(U){var Y,K,re,ae,fe,Q,j,X,J,ee,se,q,$=[],le=[],ie={};if(A==="b")for(K=L.b2j(U),re=Math.floor(Math.max(0,Math.min(F-2,K))),ae=K-re,ie.length=F,ie.crossLength=B,ie.xy=function(ce){return L.evalxy([],ce,K)},ie.dxy=function(ce,me){return L.dxydi([],ce,re,me,ae)},Y=0;Y<B;Y++)Q=Math.min(B-2,Y),j=Y-Q,X=L.evalxy([],Y,K),a.smoothing&&Y>0&&(J=L.dxydi([],Y-1,re,0,ae),$.push(fe[0]+J[0]/3),le.push(fe[1]+J[1]/3),ee=L.dxydi([],Y-1,re,1,ae),$.push(X[0]-ee[0]/3),le.push(X[1]-ee[1]/3)),$.push(X[0]),le.push(X[1]),fe=X;else for(Y=L.a2i(U),Q=Math.floor(Math.max(0,Math.min(B-2,Y))),j=Y-Q,ie.length=B,ie.crossLength=F,ie.xy=function(ce){return L.evalxy([],Y,ce)},ie.dxy=function(ce,me){return L.dxydj([],Q,ce,j,me)},K=0;K<F;K++)re=Math.min(F-2,K),ae=K-re,X=L.evalxy([],Y,K),a.smoothing&&K>0&&(se=L.dxydj([],Q,K-1,j,0),$.push(fe[0]+se[0]/3),le.push(fe[1]+se[1]/3),q=L.dxydj([],Q,K-1,j,1),$.push(X[0]-q[0]/3),le.push(X[1]-q[1]/3)),$.push(X[0]),le.push(X[1]),fe=X;return ie.axisLetter=A,ie.axis=T,ie.crossAxis=a,ie.value=U,ie.constvar=v,ie.index=u,ie.x=$,ie.y=le,ie.smoothing=a.smoothing,ie}function _(U){var Y,K,re,ae,fe,Q=[],j=[],X={};if(X.length=M.length,X.crossLength=b.length,A==="b")for(re=Math.max(0,Math.min(F-2,U)),fe=Math.min(1,Math.max(0,U-re)),X.xy=function(J){return L.evalxy([],J,U)},X.dxy=function(J,ee){return L.dxydi([],J,re,ee,fe)},Y=0;Y<z;Y++)Q[Y]=C[U*O][Y],j[Y]=y[U*O][Y];else for(K=Math.max(0,Math.min(B-2,U)),ae=Math.min(1,Math.max(0,U-K)),X.xy=function(J){return L.evalxy([],U,J)},X.dxy=function(J,ee){return L.dxydj([],K,J,ae,ee)},Y=0;Y<I;Y++)Q[Y]=C[Y][U*O],j[Y]=y[Y][U*O];return X.axisLetter=A,X.axis=T,X.crossAxis=a,X.value=M[U],X.constvar=v,X.index=U,X.x=Q,X.y=j,X.smoothing=a.smoothing,X}if(T.tickmode==="array"){for(s=5e-15,n=[Math.floor((M.length-1-T.arraytick0)/T.arraydtick*(1+s)),Math.ceil(-T.arraytick0/T.arraydtick/(1+s))].sort(function(U,Y){return U-Y}),l=n[0]-1,f=n[1]+1,u=l;u<f;u++)t=T.arraytick0+T.arraydtick*u,!(t<0||t>M.length-1)&&E.push(P(_(t),{color:T.gridcolor,width:T.gridwidth,dash:T.griddash}));for(u=l;u<f;u++)if(r=T.arraytick0+T.arraydtick*u,w=Math.min(r+T.arraydtick,M.length-1),!(r<0||r>M.length-1)&&!(w<0||w>M.length-1))for(h=M[r],o=M[w],p=0;p<T.minorgridcount;p++)d=w-r,!(d<=0)&&(c=h+(o-h)*(p+1)/(T.minorgridcount+1)*(T.arraydtick/d),!(c<M[0]||c>M[M.length-1])&&x.push(P(N(c),{color:T.minorgridcolor,width:T.minorgridwidth,dash:T.minorgriddash})));T.startline&&S.push(P(_(0),{color:T.startlinecolor,width:T.startlinewidth})),T.endline&&S.push(P(_(M.length-1),{color:T.endlinecolor,width:T.endlinewidth}))}else{for(s=5e-15,n=[Math.floor((M[M.length-1]-T.tick0)/T.dtick*(1+s)),Math.ceil((M[0]-T.tick0)/T.dtick/(1+s))].sort(function(U,Y){return U-Y}),l=n[0],f=n[1],u=l;u<=f;u++)m=T.tick0+T.dtick*u,E.push(P(N(m),{color:T.gridcolor,width:T.gridwidth,dash:T.griddash}));for(u=l-1;u<f+1;u++)for(m=T.tick0+T.dtick*u,p=0;p<T.minorgridcount;p++)c=m+T.dtick*(p+1)/(T.minorgridcount+1),!(c<M[0]||c>M[M.length-1])&&x.push(P(N(c),{color:T.minorgridcolor,width:T.minorgridwidth,dash:T.minorgriddash}));T.startline&&S.push(P(N(M[0]),{color:T.startlinecolor,width:T.startlinewidth})),T.endline&&S.push(P(N(M[M.length-1]),{color:T.endlinecolor,width:T.endlinewidth}))}}},83311:function(W,H,e){var g=e(89298),P=e(1426).extendFlat;W.exports=function(L,A){var v,p,t,r,s,n=A._labels=[],l=A._gridlines;for(v=0;v<l.length;v++)s=l[v],["start","both"].indexOf(A.showticklabels)!==-1&&(p=g.tickText(A,s.value),P(p,{prefix:t,suffix:r,endAnchor:!0,xy:s.xy(0),dxy:s.dxy(0,0),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:v===0,isLast:v===l.length-1}),n.push(p)),["end","both"].indexOf(A.showticklabels)!==-1&&(p=g.tickText(A,s.value),P(p,{endAnchor:!1,xy:s.xy(s.crossLength-1),dxy:s.dxy(s.crossLength-2,1),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:v===0,isLast:v===l.length-1}),n.push(p))}},42048:function(W){var H=.5;W.exports=function(g,P,i,L){var A=g[0]-P[0],v=g[1]-P[1],p=i[0]-P[0],t=i[1]-P[1],r=Math.pow(A*A+v*v,H/2),s=Math.pow(p*p+t*t,H/2),n=(s*s*A-r*r*p)*L,l=(s*s*v-r*r*t)*L,f=s*(r+s)*3,u=r*(r+s)*3;return[[P[0]+(f&&n/f),P[1]+(f&&l/f)],[P[0]-(u&&n/u),P[1]-(u&&l/u)]]}},53824:function(W,H,e){var g=e(71828).isArrayOrTypedArray;W.exports=function(P,i,L){var A,v,p,t,r,s,n=[],l=g(P)?P.length:P,f=g(i)?i.length:i,u=g(P)?P:null,m=g(i)?i:null;u&&(p=(u.length-1)/(u[u.length-1]-u[0])/(l-1)),m&&(t=(m.length-1)/(m[m.length-1]-m[0])/(f-1));var c,w=1/0,h=-1/0;for(v=0;v<f;v++)for(n[v]=[],s=m?(m[v]-m[0])*t:v/(f-1),A=0;A<l;A++)r=u?(u[A]-u[0])*p:A/(l-1),c=r-s*L,w=Math.min(c,w),h=Math.max(c,h),n[v][A]=c;var o=1/(h-w),d=-w*o;for(v=0;v<f;v++)for(A=0;A<l;A++)n[v][A]=o*n[v][A]+d;return n}},45664:function(W,H,e){var g=e(42048),P=e(71828).ensureArray;function i(L,A,v){var p=-.5*v[0]+1.5*A[0],t=-.5*v[1]+1.5*A[1];return[(2*p+L[0])/3,(2*t+L[1])/3]}W.exports=function(A,v,p,t,r,s){var n,l,f,u,m,c,w,h,o,d,M=p[0].length,T=p.length,E=r?3*M-2:M,x=s?3*T-2:T;for(A=P(A,x),v=P(v,x),f=0;f<x;f++)A[f]=P(A[f],E),v[f]=P(v[f],E);for(l=0,u=0;l<T;l++,u+=s?3:1)for(m=A[u],c=v[u],w=p[l],h=t[l],n=0,f=0;n<M;n++,f+=r?3:1)m[f]=w[n],c[f]=h[n];if(r)for(l=0,u=0;l<T;l++,u+=s?3:1){for(n=1,f=3;n<M-1;n++,f+=3)o=g([p[l][n-1],t[l][n-1]],[p[l][n],t[l][n]],[p[l][n+1],t[l][n+1]],r),A[u][f-1]=o[0][0],v[u][f-1]=o[0][1],A[u][f+1]=o[1][0],v[u][f+1]=o[1][1];d=i([A[u][0],v[u][0]],[A[u][2],v[u][2]],[A[u][3],v[u][3]]),A[u][1]=d[0],v[u][1]=d[1],d=i([A[u][E-1],v[u][E-1]],[A[u][E-3],v[u][E-3]],[A[u][E-4],v[u][E-4]]),A[u][E-2]=d[0],v[u][E-2]=d[1]}if(s)for(f=0;f<E;f++){for(u=3;u<x-3;u+=3)o=g([A[u-3][f],v[u-3][f]],[A[u][f],v[u][f]],[A[u+3][f],v[u+3][f]],s),A[u-1][f]=o[0][0],v[u-1][f]=o[0][1],A[u+1][f]=o[1][0],v[u+1][f]=o[1][1];d=i([A[0][f],v[0][f]],[A[2][f],v[2][f]],[A[3][f],v[3][f]]),A[1][f]=d[0],v[1][f]=d[1],d=i([A[x-1][f],v[x-1][f]],[A[x-3][f],v[x-3][f]],[A[x-4][f],v[x-4][f]]),A[x-2][f]=d[0],v[x-2][f]=d[1]}if(r&&s)for(u=1;u<x;u+=(u+1)%3===0?2:1){for(f=3;f<E-3;f+=3)o=g([A[u][f-3],v[u][f-3]],[A[u][f],v[u][f]],[A[u][f+3],v[u][f+3]],r),A[u][f-1]=.5*(A[u][f-1]+o[0][0]),v[u][f-1]=.5*(v[u][f-1]+o[0][1]),A[u][f+1]=.5*(A[u][f+1]+o[1][0]),v[u][f+1]=.5*(v[u][f+1]+o[1][1]);d=i([A[u][0],v[u][0]],[A[u][2],v[u][2]],[A[u][3],v[u][3]]),A[u][1]=.5*(A[u][1]+d[0]),v[u][1]=.5*(v[u][1]+d[1]),d=i([A[u][E-1],v[u][E-1]],[A[u][E-3],v[u][E-3]],[A[u][E-4],v[u][E-4]]),A[u][E-2]=.5*(A[u][E-2]+d[0]),v[u][E-2]=.5*(v[u][E-2]+d[1])}return[A,v]}},35509:function(W){W.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(W){W.exports=function(H,e,g){return e&&g?function(P,i,L,A,v){P||(P=[]);var p,t,r,s,n,l;i*=3,L*=3;var f=A*A,u=1-A,m=u*u,c=u*A*2,w=-3*m,h=3*(m-c),o=3*(c-f),d=3*f,M=v*v,T=M*v,E=1-v,x=E*E,S=x*E;for(l=0;l<H.length;l++)n=H[l],p=w*n[L][i]+h*n[L][i+1]+o*n[L][i+2]+d*n[L][i+3],t=w*n[L+1][i]+h*n[L+1][i+1]+o*n[L+1][i+2]+d*n[L+1][i+3],r=w*n[L+2][i]+h*n[L+2][i+1]+o*n[L+2][i+2]+d*n[L+2][i+3],s=w*n[L+3][i]+h*n[L+3][i+1]+o*n[L+3][i+2]+d*n[L+3][i+3],P[l]=S*p+3*(x*v*t+E*M*r)+T*s;return P}:e?function(P,i,L,A,v){P||(P=[]);var p,t,r,s;i*=3;var n=A*A,l=1-A,f=l*l,u=l*A*2,m=-3*f,c=3*(f-u),w=3*(u-n),h=3*n,o=1-v;for(r=0;r<H.length;r++)s=H[r],p=m*s[L][i]+c*s[L][i+1]+w*s[L][i+2]+h*s[L][i+3],t=m*s[L+1][i]+c*s[L+1][i+1]+w*s[L+1][i+2]+h*s[L+1][i+3],P[r]=o*p+v*t;return P}:g?function(P,i,L,A,v){P||(P=[]);var p,t,r,s,n,l;L*=3;var f=v*v,u=f*v,m=1-v,c=m*m,w=c*m;for(n=0;n<H.length;n++)l=H[n],p=l[L][i+1]-l[L][i],t=l[L+1][i+1]-l[L+1][i],r=l[L+2][i+1]-l[L+2][i],s=l[L+3][i+1]-l[L+3][i],P[n]=w*p+3*(c*v*t+m*f*r)+u*s;return P}:function(P,i,L,A,v){P||(P=[]);var p,t,r,s,n=1-v;for(r=0;r<H.length;r++)s=H[r],p=s[L][i+1]-s[L][i],t=s[L+1][i+1]-s[L+1][i],P[r]=n*p+v*t;return P}}},73057:function(W){W.exports=function(H,e,g){return e&&g?function(P,i,L,A,v){P||(P=[]);var p,t,r,s,n,l;i*=3,L*=3;var f=A*A,u=f*A,m=1-A,c=m*m,w=c*m,h=v*v,o=1-v,d=o*o,M=o*v*2,T=-3*d,E=3*(d-M),x=3*(M-h),S=3*h;for(l=0;l<H.length;l++)n=H[l],p=T*n[L][i]+E*n[L+1][i]+x*n[L+2][i]+S*n[L+3][i],t=T*n[L][i+1]+E*n[L+1][i+1]+x*n[L+2][i+1]+S*n[L+3][i+1],r=T*n[L][i+2]+E*n[L+1][i+2]+x*n[L+2][i+2]+S*n[L+3][i+2],s=T*n[L][i+3]+E*n[L+1][i+3]+x*n[L+2][i+3]+S*n[L+3][i+3],P[l]=w*p+3*(c*A*t+m*f*r)+u*s;return P}:e?function(P,i,L,A,v){P||(P=[]);var p,t,r,s,n,l;i*=3;var f=v*v,u=f*v,m=1-v,c=m*m,w=c*m;for(n=0;n<H.length;n++)l=H[n],p=l[L+1][i]-l[L][i],t=l[L+1][i+1]-l[L][i+1],r=l[L+1][i+2]-l[L][i+2],s=l[L+1][i+3]-l[L][i+3],P[n]=w*p+3*(c*v*t+m*f*r)+u*s;return P}:g?function(P,i,L,A,v){P||(P=[]);var p,t,r,s;L*=3;var n=1-A,l=v*v,f=1-v,u=f*f,m=f*v*2,c=-3*u,w=3*(u-m),h=3*(m-l),o=3*l;for(r=0;r<H.length;r++)s=H[r],p=c*s[L][i]+w*s[L+1][i]+h*s[L+2][i]+o*s[L+3][i],t=c*s[L][i+1]+w*s[L+1][i+1]+h*s[L+2][i+1]+o*s[L+3][i+1],P[r]=n*p+A*t;return P}:function(P,i,L,A,v){P||(P=[]);var p,t,r,s,n=1-A;for(r=0;r<H.length;r++)s=H[r],p=s[L+1][i]-s[L][i],t=s[L+1][i+1]-s[L][i+1],P[r]=n*p+A*t;return P}}},20349:function(W){W.exports=function(H,e,g,P,i){var L=e-2,A=g-2;return P&&i?function(v,p,t){v||(v=[]);var r,s,n,l,f,u,m=Math.max(0,Math.min(Math.floor(p),L)),c=Math.max(0,Math.min(Math.floor(t),A)),w=Math.max(0,Math.min(1,p-m)),h=Math.max(0,Math.min(1,t-c));m*=3,c*=3;var o=w*w,d=o*w,M=1-w,T=M*M,E=T*M,x=h*h,S=x*h,b=1-h,a=b*b,C=a*b;for(u=0;u<H.length;u++)f=H[u],r=E*f[c][m]+3*(T*w*f[c][m+1]+M*o*f[c][m+2])+d*f[c][m+3],s=E*f[c+1][m]+3*(T*w*f[c+1][m+1]+M*o*f[c+1][m+2])+d*f[c+1][m+3],n=E*f[c+2][m]+3*(T*w*f[c+2][m+1]+M*o*f[c+2][m+2])+d*f[c+2][m+3],l=E*f[c+3][m]+3*(T*w*f[c+3][m+1]+M*o*f[c+3][m+2])+d*f[c+3][m+3],v[u]=C*r+3*(a*h*s+b*x*n)+S*l;return v}:P?function(v,p,t){v||(v=[]);var r=Math.max(0,Math.min(Math.floor(p),L)),s=Math.max(0,Math.min(Math.floor(t),A)),n=Math.max(0,Math.min(1,p-r)),l=Math.max(0,Math.min(1,t-s)),f,u,m,c,w,h;r*=3;var o=n*n,d=o*n,M=1-n,T=M*M,E=T*M,x=1-l;for(w=0;w<H.length;w++)h=H[w],f=x*h[s][r]+l*h[s+1][r],u=x*h[s][r+1]+l*h[s+1][r+1],m=x*h[s][r+2]+l*h[s+1][r+1],c=x*h[s][r+3]+l*h[s+1][r+1],v[w]=E*f+3*(T*n*u+M*o*m)+d*c;return v}:i?function(v,p,t){v||(v=[]);var r=Math.max(0,Math.min(Math.floor(p),L)),s=Math.max(0,Math.min(Math.floor(t),A)),n=Math.max(0,Math.min(1,p-r)),l=Math.max(0,Math.min(1,t-s)),f,u,m,c,w,h;s*=3;var o=l*l,d=o*l,M=1-l,T=M*M,E=T*M,x=1-n;for(w=0;w<H.length;w++)h=H[w],f=x*h[s][r]+n*h[s][r+1],u=x*h[s+1][r]+n*h[s+1][r+1],m=x*h[s+2][r]+n*h[s+2][r+1],c=x*h[s+3][r]+n*h[s+3][r+1],v[w]=E*f+3*(T*l*u+M*o*m)+d*c;return v}:function(v,p,t){v||(v=[]);var r=Math.max(0,Math.min(Math.floor(p),L)),s=Math.max(0,Math.min(Math.floor(t),A)),n=Math.max(0,Math.min(1,p-r)),l=Math.max(0,Math.min(1,t-s)),f,u,m,c,w=1-l,h=1-n;for(m=0;m<H.length;m++)c=H[m],f=h*c[s][r]+n*c[s][r+1],u=h*c[s+1][r]+n*c[s+1][r+1],v[m]=w*f+l*u;return v}}},92087:function(W,H,e){var g=e(71828),P=e(19237),i=e(13145),L=e(99798),A=e(22399);W.exports=function(p,t,r,s){function n(u,m){return g.coerce(p,t,L,u,m)}t._clipPathId="clip"+t.uid+"carpet";var l=n("color",A.defaultLine);if(g.coerceFont(n,"font"),n("carpet"),i(p,t,s,n,l),!t.a||!t.b){t.visible=!1;return}t.a.length<3&&(t.aaxis.smoothing=0),t.b.length<3&&(t.baxis.smoothing=0);var f=P(p,t,n);f||(t.visible=!1),t._cheater&&n("cheaterslope")}},21462:function(W,H,e){W.exports={attributes:e(99798),supplyDefaults:e(92087),plot:e(89740),calc:e(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(W){W.exports=function(H,e){for(var g=H._fullData.length,P,i=0;i<g;i++){var L=H._fullData[i];if(L.index!==e.index&&L.type==="carpet"&&(P||(P=L),L.carpet===e.carpet))return L}return P}},67961:function(W){W.exports=function(e,g,P){if(e.length===0)return"";var i,L=[],A=P?3:1;for(i=0;i<e.length;i+=A)L.push(e[i]+","+g[i]),P&&i<e.length-A&&(L.push("C"),L.push([e[i+1]+","+g[i+1],e[i+2]+","+g[i+2]+" "].join(" ")));return L.join(P?"":"L")}},27669:function(W,H,e){var g=e(71828).isArrayOrTypedArray;W.exports=function(i,L,A){var v;for(g(i)?i.length>L.length&&(i=i.slice(0,L.length)):i=[],v=0;v<L.length;v++)i[v]=A(L[v]);return i}},11651:function(W){W.exports=function(e,g,P,i,L,A){var v=L[0]*e.dpdx(g),p=L[1]*e.dpdy(P),t=1,r=1;if(A){var s=Math.sqrt(L[0]*L[0]+L[1]*L[1]),n=Math.sqrt(A[0]*A[0]+A[1]*A[1]),l=(L[0]*A[0]+L[1]*A[1])/s/n;r=Math.max(0,l)}var f=Math.atan2(p,v)*180/Math.PI;return f<-90?(f+=180,t=-t):f>90&&(f-=180,t=-t),{angle:f,flip:t,p:e.c2p(i,g,P),offsetMultplier:r}}},89740:function(W,H,e){var g=e(39898),P=e(91424),i=e(27669),L=e(67961),A=e(11651),v=e(63893),p=e(71828),t=p.strRotate,r=p.strTranslate,s=e(18783);W.exports=function(o,d,M,T){var E=o._context.staticPlot,x=d.xaxis,S=d.yaxis,b=o._fullLayout,a=b._clips;p.makeTraceGroups(T,M,"trace").each(function(C){var y=g.select(this),z=C[0],I=z.trace,B=I.aaxis,F=I.baxis,O=p.ensureSingle(y,"g","minorlayer"),N=p.ensureSingle(y,"g","majorlayer"),_=p.ensureSingle(y,"g","boundarylayer"),U=p.ensureSingle(y,"g","labellayer");y.style("opacity",I.opacity),l(x,S,N,B,"a",B._gridlines,!0),l(x,S,N,F,"b",F._gridlines,!0),l(x,S,O,B,"a",B._minorgridlines,!0),l(x,S,O,F,"b",F._minorgridlines,!0),l(x,S,_,B,"a-boundary",B._boundarylines,E),l(x,S,_,F,"b-boundary",F._boundarylines,E);var Y=f(o,x,S,I,z,U,B._labels,"a-label"),K=f(o,x,S,I,z,U,F._labels,"b-label");u(o,U,I,z,x,S,Y,K),n(I,z,a,x,S)})};function n(h,o,d,M,T){var E,x,S,b,a=d.select("#"+h._clipPathId);a.size()||(a=d.append("clipPath").classed("carpetclip",!0));var C=p.ensureSingle(a,"path","carpetboundary"),y=o.clipsegments,z=[];for(b=0;b<y.length;b++)E=y[b],x=i([],E.x,M.c2p),S=i([],E.y,T.c2p),z.push(L(x,S,E.bicubic));var I="M"+z.join("L")+"Z";a.attr("id",h._clipPathId),C.attr("d",I)}function l(h,o,d,M,T,E,x){var S="const-"+T+"-lines",b=d.selectAll("."+S).data(E);b.enter().append("path").classed(S,!0).style("vector-effect",x?"none":"non-scaling-stroke"),b.each(function(a){var C=a,y=C.x,z=C.y,I=i([],y,h.c2p),B=i([],z,o.c2p),F="M"+L(I,B,C.smoothing),O=g.select(this);O.attr("d",F).style("stroke-width",C.width).style("stroke",C.color).style("stroke-dasharray",P.dashStyle(C.dash,C.width)).style("fill","none")}),b.exit().remove()}function f(h,o,d,M,T,E,x,S){var b=E.selectAll("text."+S).data(x);b.enter().append("text").classed(S,!0);var a=0,C={};return b.each(function(y,z){var I;if(y.axis.tickangle==="auto")I=A(M,o,d,y.xy,y.dxy);else{var B=(y.axis.tickangle+180)*Math.PI/180;I=A(M,o,d,y.xy,[Math.cos(B),Math.sin(B)])}z||(C={angle:I.angle,flip:I.flip});var F=(y.endAnchor?-1:1)*I.flip,O=g.select(this).attr({"text-anchor":F>0?"start":"end","data-notex":1}).call(P.font,y.font).text(y.text).call(v.convertToTspans,h),N=P.bBox(this);O.attr("transform",r(I.p[0],I.p[1])+t(I.angle)+r(y.axis.labelpadding*F,N.height*.3)),a=Math.max(a,N.width+y.axis.labelpadding)}),b.exit().remove(),C.maxExtent=a,C}function u(h,o,d,M,T,E,x,S){var b,a,C,y,z=p.aggNums(Math.min,null,d.a),I=p.aggNums(Math.max,null,d.a),B=p.aggNums(Math.min,null,d.b),F=p.aggNums(Math.max,null,d.b);b=.5*(z+I),a=B,C=d.ab2xy(b,a,!0),y=d.dxyda_rough(b,a),x.angle===void 0&&p.extendFlat(x,A(d,T,E,C,d.dxydb_rough(b,a))),w(h,o,d,M,C,y,d.aaxis,T,E,x,"a-title"),b=z,a=.5*(B+F),C=d.ab2xy(b,a,!0),y=d.dxydb_rough(b,a),S.angle===void 0&&p.extendFlat(S,A(d,T,E,C,d.dxyda_rough(b,a))),w(h,o,d,M,C,y,d.baxis,T,E,S,"b-title")}var m=s.LINE_SPACING,c=(1-s.MID_SHIFT)/m+1;function w(h,o,d,M,T,E,x,S,b,a,C){var y=[];x.title.text&&y.push(x.title.text);var z=o.selectAll("text."+C).data(y),I=a.maxExtent;z.enter().append("text").classed(C,!0),z.each(function(){var B=A(d,S,b,T,E);["start","both"].indexOf(x.showticklabels)===-1&&(I=0);var F=x.title.font.size;I+=F+x.title.offset;var O=a.angle+(a.flip<0?180:0),N=(O-B.angle+450)%360,_=N>90&&N<270,U=g.select(this);U.text(x.title.text).call(v.convertToTspans,h),_&&(I=(-v.lineCount(U)+c)*m*F-I),U.attr("transform",r(B.p[0],B.p[1])+t(B.angle)+r(0,I)).attr("text-anchor","middle").call(P.font,x.title.font)}),z.exit().remove()}},11435:function(W,H,e){var g=e(35509),P=e(65888).findBin,i=e(45664),L=e(20349),A=e(54495),v=e(73057);W.exports=function(t){var r=t._a,s=t._b,n=r.length,l=s.length,f=t.aaxis,u=t.baxis,m=r[0],c=r[n-1],w=s[0],h=s[l-1],o=r[r.length-1]-r[0],d=s[s.length-1]-s[0],M=o*g.RELATIVE_CULL_TOLERANCE,T=d*g.RELATIVE_CULL_TOLERANCE;m-=M,c+=M,w-=T,h+=T,t.isVisible=function(E,x){return E>m&&E<c&&x>w&&x<h},t.isOccluded=function(E,x){return E<m||E>c||x<w||x>h},t.setScale=function(){var E=t._x,x=t._y,S=i(t._xctrl,t._yctrl,E,x,f.smoothing,u.smoothing);t._xctrl=S[0],t._yctrl=S[1],t.evalxy=L([t._xctrl,t._yctrl],n,l,f.smoothing,u.smoothing),t.dxydi=A([t._xctrl,t._yctrl],f.smoothing,u.smoothing),t.dxydj=v([t._xctrl,t._yctrl],f.smoothing,u.smoothing)},t.i2a=function(E){var x=Math.max(0,Math.floor(E[0]),n-2),S=E[0]-x;return(1-S)*r[x]+S*r[x+1]},t.j2b=function(E){var x=Math.max(0,Math.floor(E[1]),n-2),S=E[1]-x;return(1-S)*s[x]+S*s[x+1]},t.ij2ab=function(E){return[t.i2a(E[0]),t.j2b(E[1])]},t.a2i=function(E){var x=Math.max(0,Math.min(P(E,r),n-2)),S=r[x],b=r[x+1];return Math.max(0,Math.min(n-1,x+(E-S)/(b-S)))},t.b2j=function(E){var x=Math.max(0,Math.min(P(E,s),l-2)),S=s[x],b=s[x+1];return Math.max(0,Math.min(l-1,x+(E-S)/(b-S)))},t.ab2ij=function(E){return[t.a2i(E[0]),t.b2j(E[1])]},t.i2c=function(E,x){return t.evalxy([],E,x)},t.ab2xy=function(E,x,S){if(!S&&(E<r[0]||E>r[n-1]|x<s[0]||x>s[l-1]))return[!1,!1];var b=t.a2i(E),a=t.b2j(x),C=t.evalxy([],b,a);if(S){var y=0,z=0,I=[],B,F,O,N;E<r[0]?(B=0,F=0,y=(E-r[0])/(r[1]-r[0])):E>r[n-1]?(B=n-2,F=1,y=(E-r[n-1])/(r[n-1]-r[n-2])):(B=Math.max(0,Math.min(n-2,Math.floor(b))),F=b-B),x<s[0]?(O=0,N=0,z=(x-s[0])/(s[1]-s[0])):x>s[l-1]?(O=l-2,N=1,z=(x-s[l-1])/(s[l-1]-s[l-2])):(O=Math.max(0,Math.min(l-2,Math.floor(a))),N=a-O),y&&(t.dxydi(I,B,O,F,N),C[0]+=I[0]*y,C[1]+=I[1]*y),z&&(t.dxydj(I,B,O,F,N),C[0]+=I[0]*z,C[1]+=I[1]*z)}return C},t.c2p=function(E,x,S){return[x.c2p(E[0]),S.c2p(E[1])]},t.p2x=function(E,x,S){return[x.p2c(E[0]),S.p2c(E[1])]},t.dadi=function(E){var x=Math.max(0,Math.min(r.length-2,E));return r[x+1]-r[x]},t.dbdj=function(E){var x=Math.max(0,Math.min(s.length-2,E));return s[x+1]-s[x]},t.dxyda=function(E,x,S,b){var a=t.dxydi(null,E,x,S,b),C=t.dadi(E,S);return[a[0]/C,a[1]/C]},t.dxydb=function(E,x,S,b){var a=t.dxydj(null,E,x,S,b),C=t.dbdj(x,b);return[a[0]/C,a[1]/C]},t.dxyda_rough=function(E,x,S){var b=o*(S||.1),a=t.ab2xy(E+b,x,!0),C=t.ab2xy(E-b,x,!0);return[(a[0]-C[0])*.5/b,(a[1]-C[1])*.5/b]},t.dxydb_rough=function(E,x,S){var b=d*(S||.1),a=t.ab2xy(E,x+b,!0),C=t.ab2xy(E,x-b,!0);return[(a[0]-C[0])*.5/b,(a[1]-C[1])*.5/b]},t.dpdx=function(E){return E._m},t.dpdy=function(E){return E._m}}},72505:function(W,H,e){var g=e(71828);W.exports=function(i,L,A){var v,p,t,r=[],s=[],n=i[0].length,l=i.length;function f(K,re){var ae=0,fe,Q=0;return K>0&&(fe=i[re][K-1])!==void 0&&(Q++,ae+=fe),K<n-1&&(fe=i[re][K+1])!==void 0&&(Q++,ae+=fe),re>0&&(fe=i[re-1][K])!==void 0&&(Q++,ae+=fe),re<l-1&&(fe=i[re+1][K])!==void 0&&(Q++,ae+=fe),ae/Math.max(1,Q)}var u=0;for(v=0;v<n;v++)for(p=0;p<l;p++)i[p][v]===void 0&&(r.push(v),s.push(p),i[p][v]=f(v,p)),u=Math.max(u,Math.abs(i[p][v]));if(!r.length)return i;var m,c,w,h,o,d,M,T,E,x,S,b=1e-5,a=0,C=100,y=0,z=r.length;do{for(a=0,t=0;t<z;t++){v=r[t],p=s[t];var I=0,B=0,F,O,N,_,U,Y;v===0?(U=Math.min(n-1,2),N=L[U],_=L[1],F=i[p][U],O=i[p][1],B+=O+(O-F)*(L[0]-_)/(_-N),I++):v===n-1&&(U=Math.max(0,n-3),N=L[U],_=L[n-2],F=i[p][U],O=i[p][n-2],B+=O+(O-F)*(L[n-1]-_)/(_-N),I++),(v===0||v===n-1)&&p>0&&p<l-1&&(m=A[p+1]-A[p],c=A[p]-A[p-1],B+=(c*i[p+1][v]+m*i[p-1][v])/(c+m),I++),p===0?(Y=Math.min(l-1,2),N=A[Y],_=A[1],F=i[Y][v],O=i[1][v],B+=O+(O-F)*(A[0]-_)/(_-N),I++):p===l-1&&(Y=Math.max(0,l-3),N=A[Y],_=A[l-2],F=i[Y][v],O=i[l-2][v],B+=O+(O-F)*(A[l-1]-_)/(_-N),I++),(p===0||p===l-1)&&v>0&&v<n-1&&(m=L[v+1]-L[v],c=L[v]-L[v-1],B+=(c*i[p][v+1]+m*i[p][v-1])/(c+m),I++),I?B/=I:(w=L[v+1]-L[v],h=L[v]-L[v-1],o=A[p+1]-A[p],d=A[p]-A[p-1],M=w*h*(w+h),T=o*d*(o+d),B=(M*(d*i[p+1][v]+o*i[p-1][v])+T*(h*i[p][v+1]+w*i[p][v-1]))/(T*(h+w)+M*(d+o))),E=B-i[p][v],x=E/u,a+=x*x,S=I?0:.85,i[p][v]+=E*(1+S)}a=Math.sqrt(a)}while(y++<C&&a>b);return g.log("Smoother converged to",a,"after",y,"iterations"),i}},19237:function(W,H,e){var g=e(71828).isArray1D;W.exports=function(i,L,A){var v=A("x"),p=v&&v.length,t=A("y"),r=t&&t.length;if(!p&&!r)return!1;if(L._cheater=!v,(!p||g(v))&&(!r||g(t))){var s=p?v.length:1/0;r&&(s=Math.min(s,t.length)),L.a&&L.a.length&&(s=Math.min(s,L.a.length)),L.b&&L.b.length&&(s=Math.min(s,L.b.length)),L._length=s}else L._length=null;return!0}},69568:function(W,H,e){var g=e(5386).fF,P=e(19316),i=e(50693),L=e(9012),A=e(22399).defaultLine,v=e(1426).extendFlat,p=P.marker.line;W.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:P.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},P.geojson,{}),featureidkey:P.featureidkey,text:v({},P.text,{}),hovertext:v({},P.hovertext,{}),marker:{line:{color:v({},p.color,{dflt:A}),width:v({},p.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:P.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:P.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},L.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:g(),showlegend:v({},L.showlegend,{dflt:!1})},i("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(W,H,e){var g=e(92770),P=e(50606).BADNUM,i=e(78803),L=e(75225),A=e(66279);function v(p){return p&&typeof p=="string"}W.exports=function(t,r){var s=r._length,n=new Array(s),l;r.geojson?l=function(w){return v(w)||g(w)}:l=v;for(var f=0;f<s;f++){var u=n[f]={},m=r.locations[f],c=r.z[f];l(m)&&g(c)?(u.loc=m,u.z=c):(u.loc=null,u.z=P),u.index=f}return L(n,r),i(t,r,{vals:r.z,containerStr:"",cLetter:"z"}),A(n,r),n}},61869:function(W,H,e){var g=e(71828),P=e(1586),i=e(69568);W.exports=function(A,v,p,t){function r(c,w){return g.coerce(A,v,i,c,w)}var s=r("locations"),n=r("z");if(!(s&&s.length&&g.isArrayOrTypedArray(n)&&n.length)){v.visible=!1;return}v._length=Math.min(s.length,n.length);var l=r("geojson"),f;(typeof l=="string"&&l!==""||g.isPlainObject(l))&&(f="geojson-id");var u=r("locationmode",f);u==="geojson-id"&&r("featureidkey"),r("text"),r("hovertext"),r("hovertemplate");var m=r("marker.line.width");m&&r("marker.line.color"),r("marker.opacity"),P(A,v,t,r,{prefix:"",cLetter:"z"}),g.coerceSelectionMarkerOpacity(v,r)}},92069:function(W){W.exports=function(e,g,P,i,L){e.location=g.location,e.z=g.z;var A=i[L];return A.fIn&&A.fIn.properties&&(e.properties=A.fIn.properties),e.ct=A.ct,e}},42300:function(W,H,e){var g=e(89298),P=e(69568),i=e(71828).fillText;W.exports=function(v,p,t){var r=v.cd,s=r[0].trace,n=v.subplot,l,f,u,m,c=[p,t],w=[p+360,t];for(f=0;f<r.length;f++)if(l=r[f],m=!1,l._polygons){for(u=0;u<l._polygons.length;u++)l._polygons[u].contains(c)&&(m=!m),l._polygons[u].contains(w)&&(m=!m);if(m)break}if(!(!m||!l))return v.x0=v.x1=v.xa.c2p(l.ct),v.y0=v.y1=v.ya.c2p(l.ct),v.index=l.index,v.location=l.loc,v.z=l.z,v.zLabel=g.tickText(n.mockAxis,n.mockAxis.c2l(l.z),"hover").text,v.hovertemplate=l.hovertemplate,L(v,s,l),[v]};function L(A,v,p){if(!v.hovertemplate){var t=p.hi||v.hoverinfo,r=String(p.loc),s=t==="all"?P.hoverinfo.flags:t.split("+"),n=s.indexOf("name")!==-1,l=s.indexOf("location")!==-1,f=s.indexOf("z")!==-1,u=s.indexOf("text")!==-1,m=!n&&l,c=[];m?A.nameOverride=r:(n&&(A.nameOverride=v.name),l&&c.push(r)),f&&c.push(A.zLabel),u&&i(p,v,c),A.extraText=c.join("<br>")}}},51319:function(W,H,e){W.exports={attributes:e(69568),supplyDefaults:e(61869),colorbar:e(61243),calc:e(38675),calcGeoJSON:e(99841).calcGeoJSON,plot:e(99841).plot,style:e(99636).style,styleOnSelect:e(99636).styleOnSelect,hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),moduleType:"trace",name:"choropleth",basePlotModule:e(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(W,H,e){var g=e(39898),P=e(71828),i=e(41327),L=e(90973).getTopojsonFeatures,A=e(71739).findExtremes,v=e(99636).style;function p(r,s,n){var l=s.layers.backplot.select(".choroplethlayer");P.makeTraceGroups(l,n,"trace choropleth").each(function(f){var u=g.select(this),m=u.selectAll("path.choroplethlocation").data(P.identity);m.enter().append("path").classed("choroplethlocation",!0),m.exit().remove(),v(r,f)})}function t(r,s){for(var n=r[0].trace,l=s[n.geo],f=l._subplot,u=n.locationmode,m=n._length,c=u==="geojson-id"?i.extractTraceFeature(r):L(n,f.topojson),w=[],h=[],o=0;o<m;o++){var d=r[o],M=u==="geojson-id"?d.fOut:i.locationToFeature(u,d.loc,c);if(M){d.geojson=M,d.ct=M.properties.ct,d._polygons=i.feature2polygons(M);var T=i.computeBbox(M);w.push(T[0],T[2]),h.push(T[1],T[3])}else d.geojson=null}if(l.fitbounds==="geojson"&&u==="geojson-id"){var E=i.computeBbox(i.getTraceGeojson(n));w=[E[0],E[2]],h=[E[1],E[3]]}var x={padded:!0};n._extremes.lon=A(l.lonaxis._ax,w,x),n._extremes.lat=A(l.lataxis._ax,h,x)}W.exports={calcGeoJSON:t,plot:p}},81253:function(W){W.exports=function(e,g){var P=e.cd,i=e.xaxis,L=e.yaxis,A=[],v,p,t,r,s;if(g===!1)for(v=0;v<P.length;v++)P[v].selected=0;else for(v=0;v<P.length;v++)p=P[v],t=p.ct,t&&(r=i.c2p(t),s=L.c2p(t),g.contains([r,s],null,v,e)?(A.push({pointNumber:v,lon:t[0],lat:t[1]}),p.selected=1):p.selected=0);return A}},99636:function(W,H,e){var g=e(39898),P=e(7901),i=e(91424),L=e(21081);function A(t,r){r&&v(t,r)}function v(t,r){var s=r[0].trace,n=r[0].node3,l=n.selectAll(".choroplethlocation"),f=s.marker||{},u=f.line||{},m=L.makeColorScaleFuncFromTrace(s);l.each(function(c){g.select(this).attr("fill",m(c.z)).call(P.stroke,c.mlc||u.color).call(i.dashLine,"",c.mlw||u.width||0).style("opacity",f.opacity)}),i.selectedPointStyle(l,s)}function p(t,r){var s=r[0].node3,n=r[0].trace;n.selectedpoints?i.selectedPointStyle(s.selectAll(".choroplethlocation"),n):v(t,r)}W.exports={style:A,styleOnSelect:p}},64496:function(W,H,e){var g=e(69568),P=e(50693),i=e(5386).fF,L=e(9012),A=e(1426).extendFlat;W.exports=A({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:A({},g.featureidkey,{}),below:{valType:"string",editType:"plot"},text:g.text,hovertext:g.hovertext,marker:{line:{color:A({},g.marker.line.color,{editType:"plot"}),width:A({},g.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:A({},g.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:A({},g.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:A({},g.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:g.hoverinfo,hovertemplate:i({},{keys:["properties"]}),showlegend:A({},L.showlegend,{dflt:!1})},P("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(W,H,e){var g=e(92770),P=e(71828),i=e(21081),L=e(91424),A=e(18214).makeBlank,v=e(41327);function p(r){var s=r[0].trace,n=s.visible===!0&&s._length!==0,l={layout:{visibility:"none"},paint:{}},f={layout:{visibility:"none"},paint:{}},u=s._opts={fill:l,line:f,geojson:A()};if(!n)return u;var m=v.extractTraceFeature(r);if(!m)return u;var c=i.makeColorScaleFuncFromTrace(s),w=s.marker,h=w.line||{},o;P.isArrayOrTypedArray(w.opacity)&&(o=function(a){var C=a.mo;return g(C)?+P.constrain(C,0,1):0});var d;P.isArrayOrTypedArray(h.color)&&(d=function(a){return a.mlc});var M;P.isArrayOrTypedArray(h.width)&&(M=function(a){return a.mlw});for(var T=0;T<r.length;T++){var E=r[T],x=E.fOut;if(x){var S=x.properties;S.fc=c(E.z),o&&(S.mo=o(E)),d&&(S.mlc=d(E)),M&&(S.mlw=M(E)),E.ct=S.ct,E._polygons=v.feature2polygons(x)}}var b=o?{type:"identity",property:"mo"}:w.opacity;return P.extendFlat(l.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":b}),P.extendFlat(f.paint,{"line-color":d?{type:"identity",property:"mlc"}:h.color,"line-width":M?{type:"identity",property:"mlw"}:h.width,"line-opacity":b}),l.layout.visibility="visible",f.layout.visibility="visible",u.geojson={type:"FeatureCollection",features:m},t(r),u}function t(r){var s=r[0].trace,n=s._opts,l;if(s.selectedpoints){for(var f=L.makeSelectedPointStyleFns(s),u=0;u<r.length;u++){var m=r[u];m.fOut&&(m.fOut.properties.mo2=f.selectedOpacityFn(m))}l={type:"identity",property:"mo2"}}else l=P.isArrayOrTypedArray(s.marker.opacity)?{type:"identity",property:"mo"}:s.marker.opacity;return P.extendFlat(n.fill.paint,{"fill-opacity":l}),P.extendFlat(n.line.paint,{"line-opacity":l}),n}W.exports={convert:p,convertOnSelect:t}},22654:function(W,H,e){var g=e(71828),P=e(1586),i=e(64496);W.exports=function(A,v,p,t){function r(u,m){return g.coerce(A,v,i,u,m)}var s=r("locations"),n=r("z"),l=r("geojson");if(!g.isArrayOrTypedArray(s)||!s.length||!g.isArrayOrTypedArray(n)||!n.length||!(typeof l=="string"&&l!==""||g.isPlainObject(l))){v.visible=!1;return}r("featureidkey"),v._length=Math.min(s.length,n.length),r("below"),r("text"),r("hovertext"),r("hovertemplate");var f=r("marker.line.width");f&&r("marker.line.color"),r("marker.opacity"),P(A,v,t,r,{prefix:"",cLetter:"z"}),g.coerceSelectionMarkerOpacity(v,r)}},57516:function(W,H,e){W.exports={attributes:e(64496),supplyDefaults:e(22654),colorbar:e(61243),calc:e(38675),plot:e(7852),hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),styleOnSelect:function(g,P){if(P){var i=P[0].trace;i._glTrace.updateOnSelect(P)}},getBelow:function(g,P){for(var i=P.getMapLayers(),L=i.length-2;L>=0;L--){var A=i[L].id;if(typeof A=="string"&&A.indexOf("water")===0){for(var v=L+1;v<i.length;v++)if(A=i[v].id,typeof A=="string"&&A.indexOf("plotly-")===-1)return A}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(W,H,e){var g=e(82004).convert,P=e(82004).convertOnSelect,i=e(77734).traceLayerPrefix;function L(v,p){this.type="choroplethmapbox",this.subplot=v,this.uid=p,this.sourceId="source-"+p,this.layerList=[["fill",i+p+"-fill"],["line",i+p+"-line"]],this.below=null}var A=L.prototype;A.update=function(v){this._update(g(v)),v[0].trace._glTrace=this},A.updateOnSelect=function(v){this._update(P(v))},A._update=function(v){var p=this.subplot,t=this.layerList,r=p.belowLookup["trace-"+this.uid];p.map.getSource(this.sourceId).setData(v.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(v,r),this.below=r);for(var s=0;s<t.length;s++){var n=t[s],l=n[0],f=n[1],u=v[l];p.setOptions(f,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&p.setOptions(f,"setPaintProperty",u.paint)}},A._addLayers=function(v,p){for(var t=this.subplot,r=this.layerList,s=this.sourceId,n=0;n<r.length;n++){var l=r[n],f=l[0],u=v[f];t.addLayer({type:f,id:l[1],source:s,layout:u.layout,paint:u.paint},p)}},A._removeLayers=function(){for(var v=this.subplot.map,p=this.layerList,t=p.length-1;t>=0;t--)v.removeLayer(p[t][1])},A.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},W.exports=function(p,t){var r=t[0].trace,s=new L(p,r.uid),n=s.sourceId,l=g(t),f=s.below=p.belowLookup["trace-"+r.uid];return p.map.addSource(n,{type:"geojson",data:l.geojson}),s._addLayers(l,f),t[0].trace._glTrace=s,s}},12674:function(W,H,e){var g=e(50693),P=e(12663).axisHoverFormat,i=e(5386).fF,L=e(2418),A=e(9012),v=e(1426).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:i({editType:"calc"},{keys:["norm"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:v({},A.showlegend,{dflt:!1})};v(p,g("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var t=["opacity","lightposition","lighting"];t.forEach(function(r){p[r]=L[r]}),p.hoverinfo=v({},A.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,W.exports=p},31371:function(W,H,e){var g=e(78803);W.exports=function(i,L){for(var A=L.u,v=L.v,p=L.w,t=Math.min(L.x.length,L.y.length,L.z.length,A.length,v.length,p.length),r=-1/0,s=1/0,n=0;n<t;n++){var l=A[n],f=v[n],u=p[n],m=Math.sqrt(l*l+f*f+u*u);r=Math.max(r,m),s=Math.min(s,m)}L._len=t,L._normMax=r,g(i,L,{vals:[s,r],containerStr:"",cLetter:"c"})}},5453:function(W,H,e){var g=e(9330).gl_cone3d,P=e(9330).gl_cone3d.createConeMesh,i=e(71828).simpleMap,L=e(81697).parseColorScale,A=e(21081).extractOpts,v=e(90060);function p(u,m){this.scene=u,this.uid=m,this.mesh=null,this.data=null}var t=p.prototype;t.handlePick=function(u){if(u.object===this.mesh){var m=u.index=u.data.index,c=this.data.x[m],w=this.data.y[m],h=this.data.z[m],o=this.data.u[m],d=this.data.v[m],M=this.data.w[m];u.traceCoordinate=[c,w,h,o,d,M,Math.sqrt(o*o+d*d+M*M)];var T=this.data.hovertext||this.data.text;return Array.isArray(T)&&T[m]!==void 0?u.textLabel=T[m]:T&&(u.textLabel=T),!0}};var r={xaxis:0,yaxis:1,zaxis:2},s={tip:1,tail:0,cm:.25,center:.5},n={tip:1,tail:1,cm:.75,center:.5};function l(u,m){var c=u.fullSceneLayout,w=u.dataScale,h={};function o(E,x){var S=c[x],b=w[r[x]];return i(E,function(a){return S.d2l(a)*b})}h.vectors=v(o(m.u,"xaxis"),o(m.v,"yaxis"),o(m.w,"zaxis"),m._len),h.positions=v(o(m.x,"xaxis"),o(m.y,"yaxis"),o(m.z,"zaxis"),m._len);var d=A(m);h.colormap=L(m),h.vertexIntensityBounds=[d.min/m._normMax,d.max/m._normMax],h.coneOffset=s[m.anchor],m.sizemode==="scaled"?h.coneSize=m.sizeref||.5:h.coneSize=m.sizeref&&m._normMax?m.sizeref/m._normMax:.5;var M=g(h),T=m.lightposition;return M.lightPosition=[T.x,T.y,T.z],M.ambient=m.lighting.ambient,M.diffuse=m.lighting.diffuse,M.specular=m.lighting.specular,M.roughness=m.lighting.roughness,M.fresnel=m.lighting.fresnel,M.opacity=m.opacity,m._pad=n[m.anchor]*M.vectorScale*M.coneScale*m._normMax,M}t.update=function(u){this.data=u;var m=l(this.scene,u);this.mesh.update(m)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function f(u,m){var c=u.glplot.gl,w=l(u,m),h=P(c,w),o=new p(u,m.uid);return o.mesh=h,o.data=m,h._trace=o,u.glplot.add(h),o}W.exports=f},91750:function(W,H,e){var g=e(71828),P=e(1586),i=e(12674);W.exports=function(A,v,p,t){function r(c,w){return g.coerce(A,v,i,c,w)}var s=r("u"),n=r("v"),l=r("w"),f=r("x"),u=r("y"),m=r("z");if(!s||!s.length||!n||!n.length||!l||!l.length||!f||!f.length||!u||!u.length||!m||!m.length){v.visible=!1;return}r("sizeref"),r("sizemode"),r("anchor"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),P(A,v,t,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),v._length=null}},98128:function(W,H,e){W.exports={moduleType:"trace",name:"cone",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(12674),supplyDefaults:e(91750),colorbar:{min:"cmin",max:"cmax"},calc:e(31371),plot:e(5453),eventData:function(g,P){return g.norm=P.traceCoordinate[6],g},meta:{}}},70600:function(W,H,e){var g=e(21606),P=e(82196),i=e(12663),L=i.axisHoverFormat,A=i.descriptionOnlyNumbers,v=e(50693),p=e(79952).P,t=e(41940),r=e(1426).extendFlat,s=e(74808),n=s.COMPARISON_OPS2,l=s.INTERVAL_OPS,f=P.line;W.exports=r({z:g.z,x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,text:g.text,hovertext:g.hovertext,transpose:g.transpose,xtype:g.xtype,ytype:g.ytype,xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:g.hovertemplate,texttemplate:r({},g.texttemplate,{}),textfont:r({},g.textfont,{}),hoverongaps:g.hoverongaps,connectgaps:r({},g.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:t({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:A("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(l),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:r({},f.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:p,smoothing:r({},f.smoothing,{}),editType:"plot"}},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(W,H,e){var g=e(21081),P=e(90757),i=e(18670),L=e(53572);W.exports=function(v,p){var t=P(v,p),r=t[0].z;i(p,r);var s=p.contours,n=g.extractOpts(p),l;if(s.coloring==="heatmap"&&n.auto&&p.autocontour===!1){var f=s.start,u=L(s),m=s.size||1,c=Math.floor((u-f)/m)+1;isFinite(m)||(m=1,c=1);var w=f-m/2,h=w+c*m;l=[w,h]}else l=r;return g.calc(v,p,{vals:l,cLetter:"z"}),t}},20083:function(W){W.exports=function(H,e){var g=H[0],P=g.z,i;switch(e.type){case"levels":var L=Math.min(P[0][0],P[0][1]);for(i=0;i<H.length;i++){var A=H[i];A.prefixBoundary=!A.edgepaths.length&&(L>A.level||A.starts.length&&L===A.level)}break;case"constraint":if(g.prefixBoundary=!1,g.edgepaths.length)return;var v=g.x.length,p=g.y.length,t=-1/0,r=1/0;for(i=0;i<p;i++)r=Math.min(r,P[i][0]),r=Math.min(r,P[i][v-1]),t=Math.max(t,P[i][0]),t=Math.max(t,P[i][v-1]);for(i=1;i<v-1;i++)r=Math.min(r,P[0][i]),r=Math.min(r,P[p-1][i]),t=Math.max(t,P[0][i]),t=Math.max(t,P[p-1][i]);var s=e.value,n,l;switch(e._operation){case">":s>t&&(g.prefixBoundary=!0);break;case"<":(s<r||g.starts.length&&s===r)&&(g.prefixBoundary=!0);break;case"[]":n=Math.min(s[0],s[1]),l=Math.max(s[0],s[1]),(l<r||n>t||g.starts.length&&l===r)&&(g.prefixBoundary=!0);break;case"][":n=Math.min(s[0],s[1]),l=Math.max(s[0],s[1]),n<r&&l>t&&(g.prefixBoundary=!0);break}break}}},90654:function(W,H,e){var g=e(21081),P=e(86068),i=e(53572);function L(A,v,p){var t=v.contours,r=v.line,s=t.size||1,n=t.coloring,l=P(v,{isColorbar:!0});if(n==="heatmap"){var f=g.extractOpts(v);p._fillgradient=f.reversescale?g.flipScale(f.colorscale):f.colorscale,p._zrange=[f.min,f.max]}else n==="fill"&&(p._fillcolor=l);p._line={color:n==="lines"?l:r.color,width:t.showlines!==!1?r.width:0,dash:r.dash},p._levels={start:t.start,end:i(t),size:s}}W.exports={min:"zmin",max:"zmax",calc:L}},36914:function(W){W.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(W,H,e){var g=e(92770),P=e(14523),i=e(7901),L=i.addOpacity,A=i.opacity,v=e(74808),p=v.CONSTRAINT_REDUCTION,t=v.COMPARISON_OPS2;W.exports=function(n,l,f,u,m,c){var w=l.contours,h,o,d,M=f("contours.operation");if(w._operation=p[M],r(f,w),M==="="?h=w.showlines=!0:(h=f("contours.showlines"),d=f("fillcolor",L((n.line||{}).color||m,.5))),h){var T=d&&A(d)?L(l.fillcolor,1):m;o=f("line.color",T),f("line.width",2),f("line.dash")}f("line.smoothing"),P(f,u,o,c)};function r(s,n){var l;t.indexOf(n.operation)===-1?(s("contours.value",[0,1]),Array.isArray(n.value)?n.value.length>2?n.value=n.value.slice(2):n.length===0?n.value=[0,1]:n.length<2?(l=parseFloat(n.value[0]),n.value=[l,l+1]):n.value=[parseFloat(n.value[0]),parseFloat(n.value[1])]:g(n.value)&&(l=parseFloat(n.value),n.value=[l,l+1])):(s("contours.value",0),g(n.value)||(Array.isArray(n.value)?n.value=parseFloat(n.value[0]):n.value=0))}},64237:function(W,H,e){var g=e(74808),P=e(92770);W.exports={"[]":L("[]"),"][":L("]["),">":A(">"),"<":A("<"),"=":A("=")};function i(v,p){var t=Array.isArray(p),r;function s(n){return P(n)?+n:null}return g.COMPARISON_OPS2.indexOf(v)!==-1?r=s(t?p[0]:p):g.INTERVAL_OPS.indexOf(v)!==-1?r=t?[s(p[0]),s(p[1])]:[s(p),s(p)]:g.SET_OPS.indexOf(v)!==-1&&(r=t?p.map(s):[s(p)]),r}function L(v){return function(p){p=i(v,p);var t=Math.min(p[0],p[1]),r=Math.max(p[0],p[1]);return{start:t,end:r,size:r-t}}}function A(v){return function(p){return p=i(v,p),{start:p,end:1/0,size:1/0}}}},67217:function(W){W.exports=function(e,g,P,i){var L=i("contours.start"),A=i("contours.end"),v=L===!1||A===!1,p=P("contours.size"),t;v?t=g.autocontour=!0:t=P("autocontour",!1),(t||!p)&&P("ncontours")}},84857:function(W,H,e){var g=e(71828);W.exports=function(i,L){var A,v,p,t=function(n){return n.reverse()},r=function(n){return n};switch(L){case"=":case"<":return i;case">":for(i.length!==1&&g.warn("Contour data invalid for the specified inequality operation."),v=i[0],A=0;A<v.edgepaths.length;A++)v.edgepaths[A]=t(v.edgepaths[A]);for(A=0;A<v.paths.length;A++)v.paths[A]=t(v.paths[A]);for(A=0;A<v.starts.length;A++)v.starts[A]=t(v.starts[A]);return i;case"][":var s=t;t=r,r=s;case"[]":for(i.length!==2&&g.warn("Contour data invalid for the specified inequality range operation."),v=P(i[0]),p=P(i[1]),A=0;A<v.edgepaths.length;A++)v.edgepaths[A]=t(v.edgepaths[A]);for(A=0;A<v.paths.length;A++)v.paths[A]=t(v.paths[A]);for(A=0;A<v.starts.length;A++)v.starts[A]=t(v.starts[A]);for(;p.edgepaths.length;)v.edgepaths.push(r(p.edgepaths.shift()));for(;p.paths.length;)v.paths.push(r(p.paths.shift()));for(;p.starts.length;)v.starts.push(r(p.starts.shift()));return[v]}};function P(i){return g.extendFlat({},i,{edgepaths:g.extendDeep([],i.edgepaths),paths:g.extendDeep([],i.paths),starts:g.extendDeep([],i.starts)})}},13031:function(W,H,e){var g=e(71828),P=e(67684),i=e(73927),L=e(83179),A=e(67217),v=e(8724),p=e(58623),t=e(70600);W.exports=function(s,n,l,f){function u(h,o){return g.coerce(s,n,t,h,o)}function m(h){return g.coerce2(s,n,t,h)}var c=P(s,n,u,f);if(!c){n.visible=!1;return}i(s,n,f,u),u("xhoverformat"),u("yhoverformat"),u("text"),u("hovertext"),u("hoverongaps"),u("hovertemplate");var w=u("contours.type")==="constraint";u("connectgaps",g.isArray1D(n.z)),w?L(s,n,u,f,l):(A(s,n,u,m),v(s,n,u,f)),n.contours&&n.contours.coloring==="heatmap"&&p(u,f)}},87558:function(W,H,e){var g=e(71828),P=e(64237),i=e(53572);W.exports=function(A,v,p){for(var t=A.type==="constraint"?P[A._operation](A.value):A,r=t.size,s=[],n=i(t),l=p.trace._carpetTrace,f=l?{xaxis:l.aaxis,yaxis:l.baxis,x:p.a,y:p.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:p.x,y:p.y},u=t.start;u<n;u+=r)if(s.push(g.extendFlat({level:u,crossings:{},starts:[],edgepaths:[],paths:[],z:p.z,smoothing:p.trace.line.smoothing},f)),s.length>1e3){g.warn("Too many contours, clipping at 1000",A);break}return s}},53572:function(W){W.exports=function(e){return e.end+e.size/1e6}},81696:function(W,H,e){var g=e(71828),P=e(36914);W.exports=function(r,s,n){var l,f,u,m,c;for(s=s||.01,n=n||.01,u=0;u<r.length;u++){for(m=r[u],c=0;c<m.starts.length;c++)f=m.starts[c],A(m,f,"edge",s,n);for(l=0;Object.keys(m.crossings).length&&l<1e4;)l++,f=Object.keys(m.crossings)[0].split(",").map(Number),A(m,f,void 0,s,n);l===1e4&&g.log("Infinite loop in contour?")}};function i(t,r,s,n){return Math.abs(t[0]-r[0])<s&&Math.abs(t[1]-r[1])<n}function L(t,r){var s=t[2]-r[2],n=t[3]-r[3];return Math.sqrt(s*s+n*n)}function A(t,r,s,n,l){var f=r.join(","),u=t.crossings[f],m=v(u,s,r),c=[p(t,r,[-m[0],-m[1]])],w=t.z.length,h=t.z[0].length,o=r.slice(),d=m.slice(),M;for(M=0;M<1e4;M++){if(u>20?(u=P.CHOOSESADDLE[u][(m[0]||m[1])<0?0:1],t.crossings[f]=P.SADDLEREMAINDER[u]):delete t.crossings[f],m=P.NEWDELTA[u],!m){g.log("Found bad marching index:",u,r,t.level);break}c.push(p(t,r,m)),r[0]+=m[0],r[1]+=m[1],f=r.join(","),i(c[c.length-1],c[c.length-2],n,l)&&c.pop();var T=m[0]&&(r[0]<0||r[0]>h-2)||m[1]&&(r[1]<0||r[1]>w-2),E=r[0]===o[0]&&r[1]===o[1]&&m[0]===d[0]&&m[1]===d[1];if(E||s&&T)break;u=t.crossings[f]}M===1e4&&g.log("Infinite loop in contour?");var x=i(c[0],c[c.length-1],n,l),S=0,b=.2*t.smoothing,a=[],C=0,y,z,I,B,F,O,N,_,U,Y,K;for(M=1;M<c.length;M++)N=L(c[M],c[M-1]),S+=N,a.push(N);var re=S/a.length*b;function ae(j){return c[j%c.length]}for(M=c.length-2;M>=C;M--)if(y=a[M],y<re){for(I=0,z=M-1;z>=C&&y+a[z]<re;z--)y+=a[z];if(x&&M===c.length-2)for(I=0;I<z&&y+a[I]<re;I++)y+=a[I];F=M-z+I+1,O=Math.floor((M+z+I+2)/2),!x&&M===c.length-2?B=c[c.length-1]:!x&&z===-1?B=c[0]:F%2?B=ae(O):B=[(ae(O)[0]+ae(O+1)[0])/2,(ae(O)[1]+ae(O+1)[1])/2],c.splice(z+1,M-z+1,B),M=z+1,I&&(C=I),x&&(M===c.length-2?c[I]=c[c.length-1]:M===0&&(c[c.length-1]=c[0]))}for(c.splice(0,C),M=0;M<c.length;M++)c[M].length=2;if(!(c.length<2))if(x)c.pop(),t.paths.push(c);else{s||g.log("Unclosed interior contour?",t.level,o.join(","),c.join("L"));var fe=!1;for(_=0;_<t.edgepaths.length;_++)if(Y=t.edgepaths[_],!fe&&i(Y[0],c[c.length-1],n,l)){c.pop(),fe=!0;var Q=!1;for(U=0;U<t.edgepaths.length;U++)if(K=t.edgepaths[U],i(K[K.length-1],c[0],n,l)){Q=!0,c.shift(),t.edgepaths.splice(_,1),U===_?t.paths.push(c.concat(K)):(U>_&&U--,t.edgepaths[U]=K.concat(c,Y));break}Q||(t.edgepaths[_]=c.concat(Y))}for(_=0;_<t.edgepaths.length&&!fe;_++)Y=t.edgepaths[_],i(Y[Y.length-1],c[0],n,l)&&(c.shift(),t.edgepaths[_]=Y.concat(c),fe=!0);fe||t.edgepaths.push(c)}}function v(t,r,s){var n=0,l=0;return t>20&&r?t===208||t===1114?n=s[0]===0?1:-1:l=s[1]===0?1:-1:P.BOTTOMSTART.indexOf(t)!==-1?l=1:P.LEFTSTART.indexOf(t)!==-1?n=1:P.TOPSTART.indexOf(t)!==-1?l=-1:n=-1,[n,l]}function p(t,r,s){var n=r[0]+Math.max(s[0],0),l=r[1]+Math.max(s[1],0),f=t.z[l][n],u=t.xaxis,m=t.yaxis;if(s[1]){var c=(t.level-f)/(t.z[l][n+1]-f),w=(c!==1?(1-c)*u.c2l(t.x[n]):0)+(c!==0?c*u.c2l(t.x[n+1]):0);return[u.c2p(u.l2c(w),!0),m.c2p(t.y[l],!0),n+c,l]}else{var h=(t.level-f)/(t.z[l+1][n]-f),o=(h!==1?(1-h)*m.c2l(t.y[l]):0)+(h!==0?h*m.c2l(t.y[l+1]):0);return[u.c2p(t.x[n],!0),m.c2p(m.l2c(o),!0),n,l+h]}}},52421:function(W,H,e){var g=e(7901),P=e(46248);W.exports=function(L,A,v,p,t){t||(t={}),t.isContour=!0;var r=P(L,A,v,p,t);return r&&r.forEach(function(s){var n=s.trace;n.contours.type==="constraint"&&(n.fillcolor&&g.opacity(n.fillcolor)?s.color=g.addOpacity(n.fillcolor,1):n.contours.showlines&&g.opacity(n.line.color)&&(s.color=g.addOpacity(n.line.color,1)))}),r}},99442:function(W,H,e){W.exports={attributes:e(70600),supplyDefaults:e(13031),calc:e(27529),plot:e(29854).plot,style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"contour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(W,H,e){var g=e(71828);W.exports=function(i,L,A,v){v||(v={});var p=i("contours.showlabels");if(p){var t=L.font;g.coerceFont(i,"contours.labelfont",{family:t.family,size:t.size,color:A}),i("contours.labelformat")}v.hasHover!==!1&&i("zhoverformat")}},86068:function(W,H,e){var g=e(39898),P=e(21081),i=e(53572);W.exports=function(A){var v=A.contours,p=v.start,t=i(v),r=v.size||1,s=Math.floor((t-p)/r)+1,n=v.coloring==="lines"?0:1,l=P.extractOpts(A);isFinite(r)||(r=1,s=1);var f=l.reversescale?P.flipScale(l.colorscale):l.colorscale,u=f.length,m=new Array(u),c=new Array(u),w,h,o=l.min,d=l.max;if(v.coloring==="heatmap"){for(h=0;h<u;h++)w=f[h],m[h]=w[0]*(d-o)+o,c[h]=w[1];var M=g.extent([o,d,v.start,v.start+r*(s-1)]),T=M[o<d?0:1],E=M[o<d?1:0];T!==o&&(m.splice(0,0,T),c.splice(0,0,c[0])),E!==d&&(m.push(E),c.push(c[c.length-1]))}else{var x=A._input&&typeof A._input.zmin=="number"&&typeof A._input.zmax=="number";for(x&&(p<=o||t>=d)&&(p<=o&&(p=o),t>=d&&(t=d),s=Math.floor((t-p)/r)+1,n=0),h=0;h<u;h++)w=f[h],m[h]=(w[0]*(s+n-1)-n/2)*r+p,c[h]=w[1];(x||A.autocontour)&&(m[0]>o&&(m.unshift(o),c.unshift(c[0])),m[m.length-1]<d&&(m.push(d),c.push(c[c.length-1])))}return P.makeColorScaleFunc({domain:m,range:c},{noNumericCheck:!0})}},87678:function(W,H,e){var g=e(36914);W.exports=function(L){var A=L[0].z,v=A.length,p=A[0].length,t=v===2||p===2,r,s,n,l,f,u,m,c,w;for(s=0;s<v-1;s++)for(l=[],s===0&&(l=l.concat(g.BOTTOMSTART)),s===v-2&&(l=l.concat(g.TOPSTART)),r=0;r<p-1;r++)for(n=l.slice(),r===0&&(n=n.concat(g.LEFTSTART)),r===p-2&&(n=n.concat(g.RIGHTSTART)),f=r+","+s,u=[[A[s][r],A[s][r+1]],[A[s+1][r],A[s+1][r+1]]],w=0;w<L.length;w++)c=L[w],m=P(c.level,u),m&&(c.crossings[f]=m,n.indexOf(m)!==-1&&(c.starts.push([r,s]),t&&n.indexOf(m,n.indexOf(m)+1)!==-1&&c.starts.push([r,s])))};function P(i,L){var A=(L[0][0]>i?0:1)+(L[0][1]>i?0:2)+(L[1][1]>i?0:4)+(L[1][0]>i?0:8);if(A===5||A===10){var v=(L[0][0]+L[0][1]+L[1][0]+L[1][1])/4;return i>v?A===5?713:1114:A===5?104:208}return A===15?0:A}},29854:function(W,H,e){var g=e(39898),P=e(71828),i=e(91424),L=e(21081),A=e(63893),v=e(89298),p=e(21994),t=e(50347),r=e(87678),s=e(81696),n=e(87558),l=e(84857),f=e(20083),u=e(36914),m=u.LABELOPTIMIZER;H.plot=function(x,S,b,a){var C=S.xaxis,y=S.yaxis;P.makeTraceGroups(a,b,"contour").each(function(z){var I=g.select(this),B=z[0],F=B.trace,O=B.x,N=B.y,_=F.contours,U=n(_,S,B),Y=P.ensureSingle(I,"g","heatmapcoloring"),K=[];_.coloring==="heatmap"&&(K=[z]),t(x,S,K,Y),r(U),s(U);var re=C.c2p(O[0],!0),ae=C.c2p(O[O.length-1],!0),fe=y.c2p(N[0],!0),Q=y.c2p(N[N.length-1],!0),j=[[re,Q],[ae,Q],[ae,fe],[re,fe]],X=U;_.type==="constraint"&&(X=l(U,_._operation)),c(I,j,_),w(I,X,j,_),o(I,U,x,B,_),M(I,S,x,B,j)})};function c(E,x,S){var b=P.ensureSingle(E,"g","contourbg"),a=b.selectAll("path").data(S.coloring==="fill"?[0]:[]);a.enter().append("path"),a.exit().remove(),a.attr("d","M"+x.join("L")+"Z").style("stroke","none")}function w(E,x,S,b){var a=b.coloring==="fill"||b.type==="constraint"&&b._operation!=="=",C="M"+S.join("L")+"Z";a&&f(x,b);var y=P.ensureSingle(E,"g","contourfill"),z=y.selectAll("path").data(a?x:[]);z.enter().append("path"),z.exit().remove(),z.each(function(I){var B=(I.prefixBoundary?C:"")+h(I,S);B?g.select(this).attr("d",B).style("stroke","none"):g.select(this).remove()})}function h(E,x){var S="",b=0,a=E.edgepaths.map(function(re,ae){return ae}),C=!0,y,z,I,B,F,O;function N(re){return Math.abs(re[1]-x[0][1])<.01}function _(re){return Math.abs(re[1]-x[2][1])<.01}function U(re){return Math.abs(re[0]-x[0][0])<.01}function Y(re){return Math.abs(re[0]-x[2][0])<.01}for(;a.length;){for(O=i.smoothopen(E.edgepaths[b],E.smoothing),S+=C?O:O.replace(/^M/,"L"),a.splice(a.indexOf(b),1),y=E.edgepaths[b][E.edgepaths[b].length-1],B=-1,I=0;I<4;I++){if(!y){P.log("Missing end?",b,E);break}for(N(y)&&!Y(y)?z=x[1]:U(y)?z=x[0]:_(y)?z=x[3]:Y(y)&&(z=x[2]),F=0;F<E.edgepaths.length;F++){var K=E.edgepaths[F][0];Math.abs(y[0]-z[0])<.01?Math.abs(y[0]-K[0])<.01&&(K[1]-y[1])*(z[1]-K[1])>=0&&(z=K,B=F):Math.abs(y[1]-z[1])<.01?Math.abs(y[1]-K[1])<.01&&(K[0]-y[0])*(z[0]-K[0])>=0&&(z=K,B=F):P.log("endpt to newendpt is not vert. or horz.",y,z,K)}if(y=z,B>=0)break;S+="L"+z}if(B===E.edgepaths.length){P.log("unclosed perimeter path");break}b=B,C=a.indexOf(b)===-1,C&&(b=a[0],S+="Z")}for(b=0;b<E.paths.length;b++)S+=i.smoothclosed(E.paths[b],E.smoothing);return S}function o(E,x,S,b,a){var C=S._context.staticPlot,y=P.ensureSingle(E,"g","contourlines"),z=a.showlines!==!1,I=a.showlabels,B=z&&I,F=H.createLines(y,z||I,x,C),O=H.createLineClip(y,B,S,b.trace.uid),N=E.selectAll("g.contourlabels").data(I?[0]:[]);if(N.exit().remove(),N.enter().append("g").classed("contourlabels",!0),I){var _=[],U=[];P.clearLocationCache();var Y=H.labelFormatter(S,b),K=i.tester.append("text").attr("data-notex",1).call(i.font,a.labelfont),re=x[0].xaxis,ae=x[0].yaxis,fe=re._length,Q=ae._length,j=re.range,X=ae.range,J=P.aggNums(Math.min,null,b.x),ee=P.aggNums(Math.max,null,b.x),se=P.aggNums(Math.min,null,b.y),q=P.aggNums(Math.max,null,b.y),$=Math.max(re.c2p(J,!0),0),le=Math.min(re.c2p(ee,!0),fe),ie=Math.max(ae.c2p(q,!0),0),ce=Math.min(ae.c2p(se,!0),Q),me={};j[0]<j[1]?(me.left=$,me.right=le):(me.left=le,me.right=$),X[0]<X[1]?(me.top=ie,me.bottom=ce):(me.top=ce,me.bottom=ie),me.middle=(me.top+me.bottom)/2,me.center=(me.left+me.right)/2,_.push([[me.left,me.top],[me.right,me.top],[me.right,me.bottom],[me.left,me.bottom]]);var Me=Math.sqrt(fe*fe+Q*Q),we=u.LABELDISTANCE*Me/Math.max(1,x.length/u.LABELINCREASE);F.each(function(Oe){var Be=H.calcTextOpts(Oe.level,Y,K,S);g.select(this).selectAll("path").each(function(){var Ce=this,xe=P.getVisibleSegment(Ce,me,Be.height/2);if(xe&&!(xe.len<(Be.width+Be.height)*u.LABELMIN))for(var Se=Math.min(Math.ceil(xe.len/we),u.LABELMAX),He=0;He<Se;He++){var Ge=H.findBestTextLocation(Ce,xe,Be,U,me);if(!Ge)break;H.addLabelData(Ge,Be,U,_)}})}),K.remove(),H.drawLabels(N,U,S,O,B?_:null)}I&&!z&&F.remove()}H.createLines=function(E,x,S,b){var a=S[0].smoothing,C=E.selectAll("g.contourlevel").data(x?S:[]);if(C.exit().remove(),C.enter().append("g").classed("contourlevel",!0),x){var y=C.selectAll("path.openline").data(function(I){return I.pedgepaths||I.edgepaths});y.exit().remove(),y.enter().append("path").classed("openline",!0),y.attr("d",function(I){return i.smoothopen(I,a)}).style("stroke-miterlimit",1).style("vector-effect",b?"none":"non-scaling-stroke");var z=C.selectAll("path.closedline").data(function(I){return I.ppaths||I.paths});z.exit().remove(),z.enter().append("path").classed("closedline",!0),z.attr("d",function(I){return i.smoothclosed(I,a)}).style("stroke-miterlimit",1).style("vector-effect",b?"none":"non-scaling-stroke")}return C},H.createLineClip=function(E,x,S,b){var a=S._fullLayout._clips,C=x?"clipline"+b:null,y=a.selectAll("#"+C).data(x?[0]:[]);return y.exit().remove(),y.enter().append("clipPath").classed("contourlineclip",!0).attr("id",C),i.setClipUrl(E,C,S),y},H.labelFormatter=function(E,x){var S=E._fullLayout,b=x.trace,a=b.contours,C={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(a.labelformat)C.tickformat=a.labelformat,p(C,S);else{var y=L.extractOpts(b);if(y&&y.colorbar&&y.colorbar._axis)C=y.colorbar._axis;else{if(a.type==="constraint"){var z=a.value;Array.isArray(z)?C.range=[z[0],z[z.length-1]]:C.range=[z,z]}else C.range=[a.start,a.end],C.nticks=(a.end-a.start)/a.size;C.range[0]===C.range[1]&&(C.range[1]+=C.range[0]||1),C.nticks||(C.nticks=1e3),p(C,S),v.prepTicks(C),C._tmin=null,C._tmax=null}}return function(I){return v.tickText(C,I).text}},H.calcTextOpts=function(E,x,S,b){var a=x(E);S.text(a).call(A.convertToTspans,b);var C=S.node(),y=i.bBox(C,!0);return{text:a,width:y.width,height:y.height,fontSize:+C.style["font-size"].replace("px",""),level:E,dy:(y.top+y.bottom)/2}},H.findBestTextLocation=function(E,x,S,b,a){var C=S.width,y,z,I,B,F;x.isClosed?(z=x.len/m.INITIALSEARCHPOINTS,y=x.min+z/2,I=x.max):(z=(x.len-C)/(m.INITIALSEARCHPOINTS+1),y=x.min+z+C/2,I=x.max-(z+C)/2);for(var O=1/0,N=0;N<m.ITERATIONS;N++){for(var _=y;_<I;_+=z){var U=P.getTextLocation(E,x.total,_,C),Y=d(U,S,b,a);Y<O&&(O=Y,F=U,B=_)}if(O>m.MAXCOST*2)break;N&&(z/=2),y=B-z/2,I=y+z*1.5}if(O<=m.MAXCOST)return F};function d(E,x,S,b){var a=x.width/2,C=x.height/2,y=E.x,z=E.y,I=E.theta,B=Math.cos(I)*a,F=Math.sin(I)*a,O=(y>b.center?b.right-y:y-b.left)/(B+Math.abs(Math.sin(I)*C)),N=(z>b.middle?b.bottom-z:z-b.top)/(Math.abs(F)+Math.cos(I)*C);if(O<1||N<1)return 1/0;var _=m.EDGECOST*(1/(O-1)+1/(N-1));_+=m.ANGLECOST*I*I;for(var U=y-B,Y=z-F,K=y+B,re=z+F,ae=0;ae<S.length;ae++){var fe=S[ae],Q=Math.cos(fe.theta)*fe.width/2,j=Math.sin(fe.theta)*fe.width/2,X=P.segmentDistance(U,Y,K,re,fe.x-Q,fe.y-j,fe.x+Q,fe.y+j)*2/(x.height+fe.height),J=fe.level===x.level,ee=J?m.SAMELEVELDISTANCE:1;if(X<=ee)return 1/0;var se=m.NEIGHBORCOST*(J?m.SAMELEVELFACTOR:1);_+=se/(X-ee)}return _}H.addLabelData=function(E,x,S,b){var a=x.fontSize,C=x.width+a/3,y=Math.max(0,x.height-a/3),z=E.x,I=E.y,B=E.theta,F=Math.sin(B),O=Math.cos(B),N=function(U,Y){return[z+U*O-Y*F,I+U*F+Y*O]},_=[N(-C/2,-y/2),N(-C/2,y/2),N(C/2,y/2),N(C/2,-y/2)];S.push({text:x.text,x:z,y:I,dy:x.dy,theta:B,level:x.level,width:C,height:y}),b.push(_)},H.drawLabels=function(E,x,S,b,a){var C=E.selectAll("text").data(x,function(B){return B.text+","+B.x+","+B.y+","+B.theta});if(C.exit().remove(),C.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(B){var F=B.x+Math.sin(B.theta)*B.dy,O=B.y-Math.cos(B.theta)*B.dy;g.select(this).text(B.text).attr({x:F,y:O,transform:"rotate("+180*B.theta/Math.PI+" "+F+" "+O+")"}).call(A.convertToTspans,S)}),a){for(var y="",z=0;z<a.length;z++)y+="M"+a[z].join("L")+"Z";var I=P.ensureSingle(b,"path","");I.attr("d",y)}};function M(E,x,S,b,a){var C=b.trace,y=S._fullLayout._clips,z="clip"+C.uid,I=y.selectAll("#"+z).data(C.connectgaps?[]:[0]);if(I.enter().append("clipPath").classed("contourclip",!0).attr("id",z),I.exit().remove(),C.connectgaps===!1){var B={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:x.xaxis,yaxis:x.yaxis,x:b.x,y:b.y,z:T(b),smoothing:0};r([B]),s([B]),f([B],{type:"levels"});var F=P.ensureSingle(I,"path","");F.attr("d",(B.prefixBoundary?"M"+a.join("L")+"Z":"")+h(B,a))}else z=null;i.setClipUrl(E,z,S)}function T(E){var x=E.trace._emptypoints,S=[],b=E.z.length,a=E.z[0].length,C,y=[],z;for(C=0;C<a;C++)y.push(1);for(C=0;C<b;C++)S.push(y.slice());for(C=0;C<x.length;C++)z=x[C],S[z[0]][z[1]]=0;return E.zmask=S,S}},18670:function(W,H,e){var g=e(89298),P=e(71828);W.exports=function(A,v){var p=A.contours;if(A.autocontour){var t=A.zmin,r=A.zmax;(A.zauto||t===void 0)&&(t=P.aggNums(Math.min,null,v)),(A.zauto||r===void 0)&&(r=P.aggNums(Math.max,null,v));var s=i(t,r,A.ncontours);p.size=s.dtick,p.start=g.tickFirst(s),s.range.reverse(),p.end=g.tickFirst(s),p.start===t&&(p.start+=p.size),p.end===r&&(p.end-=p.size),p.start>p.end&&(p.start=p.end=(p.start+p.end)/2),A._input.contours||(A._input.contours={}),P.extendFlat(A._input.contours,{start:p.start,end:p.end,size:p.size}),A._input.autocontour=!0}else if(p.type!=="constraint"){var n=p.start,l=p.end,f=A._input.contours;if(n>l&&(p.start=f.start=l,l=p.end=f.end=n,n=p.start),!(p.size>0)){var u;n===l?u=1:u=i(n,l,A.ncontours).dtick,f.size=p.size=u}}};function i(L,A,v){var p={type:"linear",range:[L,A]};return g.autoTicks(p,(A-L)/(v||15)),p}},84426:function(W,H,e){var g=e(39898),P=e(91424),i=e(70035),L=e(86068);W.exports=function(v){var p=g.select(v).selectAll("g.contour");p.style("opacity",function(t){return t[0].trace.opacity}),p.each(function(t){var r=g.select(this),s=t[0].trace,n=s.contours,l=s.line,f=n.size||1,u=n.start,m=n.type==="constraint",c=!m&&n.coloring==="lines",w=!m&&n.coloring==="fill",h=c||w?L(s):null;r.selectAll("g.contourlevel").each(function(M){g.select(this).selectAll("path").call(P.lineGroupStyle,l.width,c?h(M.level):l.color,l.dash)});var o=n.labelfont;if(r.selectAll("g.contourlabels text").each(function(M){P.font(g.select(this),{family:o.family,size:o.size,color:o.color||(c?h(M.level):l.color)})}),m)r.selectAll("g.contourfill path").style("fill",s.fillcolor);else if(w){var d;r.selectAll("g.contourfill path").style("fill",function(M){return d===void 0&&(d=M.level),h(M.level+.5*f)}),d===void 0&&(d=u),r.selectAll("g.contourbg path").style("fill",h(d-.5*f))}}),i(v)}},8724:function(W,H,e){var g=e(1586),P=e(14523);W.exports=function(L,A,v,p,t){var r=v("contours.coloring"),s,n="";r==="fill"&&(s=v("contours.showlines")),s!==!1&&(r!=="lines"&&(n=v("line.color","#000")),v("line.width",.5),v("line.dash")),r!=="none"&&(L.showlegend!==!0&&(A.showlegend=!1),A._dfltShowLegend=!1,g(L,A,p,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),P(v,p,n,t)}},88085:function(W,H,e){var g=e(21606),P=e(70600),i=e(50693),L=e(1426).extendFlat,A=P.contours;W.exports=L({carpet:{valType:"string",editType:"calc"},z:g.z,a:g.x,a0:g.x0,da:g.dx,b:g.y,b0:g.y0,db:g.dy,text:g.text,hovertext:g.hovertext,transpose:g.transpose,atype:g.xtype,btype:g.ytype,fillcolor:P.fillcolor,autocontour:P.autocontour,ncontours:P.ncontours,contours:{type:A.type,start:A.start,end:A.end,size:A.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:A.showlines,showlabels:A.showlabels,labelfont:A.labelfont,labelformat:A.labelformat,operation:A.operation,value:A.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:P.line.color,width:P.line.width,dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},transforms:void 0},i("",{cLetter:"z",autoColorDflt:!1}))},59885:function(W,H,e){var g=e(78803),P=e(71828),i=e(68296),L=e(4742),A=e(824),v=e(43907),p=e(70769),t=e(75005),r=e(22882),s=e(18670);W.exports=function(f,u){var m=u._carpetTrace=r(f,u);if(!(!m||!m.visible||m.visible==="legendonly")){if(!u.a||!u.b){var c=f.data[m.index],w=f.data[u.index];w.a||(w.a=c.a),w.b||(w.b=c.b),t(w,u,u._defaultColor,f._fullLayout)}var h=n(f,u);return s(u,u._z),h}};function n(l,f){var u=f._carpetTrace,m=u.aaxis,c=u.baxis,w,h,o,d,M,T,E;m._minDtick=0,c._minDtick=0,P.isArray1D(f.z)&&i(f,m,c,"a","b",["z"]),w=f._a=f._a||f.a,d=f._b=f._b||f.b,w=w?m.makeCalcdata(f,"_a"):[],d=d?c.makeCalcdata(f,"_b"):[],h=f.a0||0,o=f.da||1,M=f.b0||0,T=f.db||1,E=f._z=L(f._z||f.z,f.transpose),f._emptypoints=v(E),A(E,f._emptypoints);var x=P.maxRowLength(E),S=f.xtype==="scaled"?"":w,b=p(f,S,h,o,x,m),a=f.ytype==="scaled"?"":d,C=p(f,a,M,T,E.length,c),y={a:b,b:C,z:E};return f.contours.type==="levels"&&f.contours.coloring!=="none"&&g(l,f,{vals:E,containerStr:"",cLetter:"z"}),[y]}},75005:function(W,H,e){var g=e(71828),P=e(67684),i=e(88085),L=e(83179),A=e(67217),v=e(8724);W.exports=function(t,r,s,n){function l(c,w){return g.coerce(t,r,i,c,w)}function f(c){return g.coerce2(t,r,i,c)}if(l("carpet"),t.a&&t.b){var u=P(t,r,l,n,"a","b");if(!u){r.visible=!1;return}l("text");var m=l("contours.type")==="constraint";m?L(t,r,l,n,s,{hasHover:!1}):(A(t,r,l,f),v(t,r,l,n,{hasHover:!1}))}else r._defaultColor=s,r._length=null}},93740:function(W,H,e){W.exports={attributes:e(88085),supplyDefaults:e(75005),colorbar:e(90654),calc:e(59885),plot:e(51048),style:e(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(W,H,e){var g=e(39898),P=e(27669),i=e(67961),L=e(91424),A=e(71828),v=e(87678),p=e(81696),t=e(29854),r=e(36914),s=e(84857),n=e(87558),l=e(20083),f=e(22882),u=e(4536);W.exports=function(S,b,a,C){var y=b.xaxis,z=b.yaxis;A.makeTraceGroups(C,a,"contour").each(function(I){var B=g.select(this),F=I[0],O=F.trace,N=O._carpetTrace=f(S,O),_=S.calcdata[N.index][0];if(!N.visible||N.visible==="legendonly")return;var U=F.a,Y=F.b,K=O.contours,re=n(K,b,F),ae=K.type==="constraint",fe=K._operation,Q=ae?fe==="="?"lines":"fill":K.coloring;function j(Me){var we=N.ab2xy(Me[0],Me[1],!0);return[y.c2p(we[0]),z.c2p(we[1])]}var X=[[U[0],Y[Y.length-1]],[U[U.length-1],Y[Y.length-1]],[U[U.length-1],Y[0]],[U[0],Y[0]]];v(re);var J=(U[U.length-1]-U[0])*1e-8,ee=(Y[Y.length-1]-Y[0])*1e-8;p(re,J,ee);var se=re;K.type==="constraint"&&(se=s(re,fe)),m(re,j);var q,$,le,ie,ce=[];for(ie=_.clipsegments.length-1;ie>=0;ie--)q=_.clipsegments[ie],$=P([],q.x,y.c2p),le=P([],q.y,z.c2p),$.reverse(),le.reverse(),ce.push(i($,le,q.bicubic));var me="M"+ce.join("L")+"Z";M(B,_.clipsegments,y,z,ae,Q),T(O,B,y,z,se,X,j,N,_,Q,me),c(B,re,S,F,K,b,N),L.setClipUrl(B,N._clipPathId,S)})};function m(x,S){var b,a,C,y,z,I,B,F,O;for(b=0;b<x.length;b++){for(y=x[b],z=y.pedgepaths=[],I=y.ppaths=[],a=0;a<y.edgepaths.length;a++){for(O=y.edgepaths[a],B=[],C=0;C<O.length;C++)B[C]=S(O[C]);z.push(B)}for(a=0;a<y.paths.length;a++){for(O=y.paths[a],F=[],C=0;C<O.length;C++)F[C]=S(O[C]);I.push(F)}}}function c(x,S,b,a,C,y,z){var I=b._context.staticPlot,B=A.ensureSingle(x,"g","contourlines"),F=C.showlines!==!1,O=C.showlabels,N=F&&O,_=t.createLines(B,F||O,S,I),U=t.createLineClip(B,N,b,a.trace.uid),Y=x.selectAll("g.contourlabels").data(O?[0]:[]);if(Y.exit().remove(),Y.enter().append("g").classed("contourlabels",!0),O){var K=y.xaxis,re=y.yaxis,ae=K._length,fe=re._length,Q=[[[0,0],[ae,0],[ae,fe],[0,fe]]],j=[];A.clearLocationCache();var X=t.labelFormatter(b,a),J=L.tester.append("text").attr("data-notex",1).call(L.font,C.labelfont),ee={left:0,right:ae,center:ae/2,top:0,bottom:fe,middle:fe/2},se=Math.sqrt(ae*ae+fe*fe),q=r.LABELDISTANCE*se/Math.max(1,S.length/r.LABELINCREASE);_.each(function($){var le=t.calcTextOpts($.level,X,J,b);g.select(this).selectAll("path").each(function(ie){var ce=this,me=A.getVisibleSegment(ce,ee,le.height/2);if(me&&(w(ce,ie,$,me,z,le.height),!(me.len<(le.width+le.height)*r.LABELMIN)))for(var Me=Math.min(Math.ceil(me.len/q),r.LABELMAX),we=0;we<Me;we++){var Oe=t.findBestTextLocation(ce,me,le,j,ee);if(!Oe)break;t.addLabelData(Oe,le,j,Q)}})}),J.remove(),t.drawLabels(Y,j,b,U,N?Q:null)}O&&!F&&_.remove()}function w(x,S,b,a,C,y){for(var z,I=0;I<b.pedgepaths.length;I++)S===b.pedgepaths[I]&&(z=b.edgepaths[I]);if(!z)return;var B=C.a[0],F=C.a[C.a.length-1],O=C.b[0],N=C.b[C.b.length-1];function _(ae,fe){var Q=0,j,X=.1;return(Math.abs(ae[0]-B)<X||Math.abs(ae[0]-F)<X)&&(j=o(C.dxydb_rough(ae[0],ae[1],X)),Q=Math.max(Q,y*d(fe,j)/2)),(Math.abs(ae[1]-O)<X||Math.abs(ae[1]-N)<X)&&(j=o(C.dxyda_rough(ae[0],ae[1],X)),Q=Math.max(Q,y*d(fe,j)/2)),Q}var U=h(x,0,1),Y=h(x,a.total,a.total-1),K=_(z[0],U),re=a.total-_(z[z.length-1],Y);a.min<K&&(a.min=K),a.max>re&&(a.max=re),a.len=a.max-a.min}function h(x,S,b){var a=x.getPointAtLength(S),C=x.getPointAtLength(b),y=C.x-a.x,z=C.y-a.y,I=Math.sqrt(y*y+z*z);return[y/I,z/I]}function o(x){var S=Math.sqrt(x[0]*x[0]+x[1]*x[1]);return[x[0]/S,x[1]/S]}function d(x,S){var b=Math.abs(x[0]*S[0]+x[1]*S[1]),a=Math.sqrt(1-b*b);return a/b}function M(x,S,b,a,C,y){var z,I,B,F,O=A.ensureSingle(x,"g","contourbg"),N=O.selectAll("path").data(y==="fill"&&!C?[0]:[]);N.enter().append("path"),N.exit().remove();var _=[];for(F=0;F<S.length;F++)z=S[F],I=P([],z.x,b.c2p),B=P([],z.y,a.c2p),_.push(i(I,B,z.bicubic));N.attr("d","M"+_.join("L")+"Z").style("stroke","none")}function T(x,S,b,a,C,y,z,I,B,F,O){var N=F==="fill";N&&l(C,x.contours);var _=A.ensureSingle(S,"g","contourfill"),U=_.selectAll("path").data(N?C:[]);U.enter().append("path"),U.exit().remove(),U.each(function(Y){var K=(Y.prefixBoundary?O:"")+E(x,Y,y,z,I,B,b,a);K?g.select(this).attr("d",K).style("stroke","none"):g.select(this).remove()})}function E(x,S,b,a,C,y,z,I){var B,F="",O=S.edgepaths.map(function(le,ie){return ie}),N=!0,_,U,Y,K,re,ae,fe=Math.abs(b[0][0]-b[2][0])*1e-4,Q=Math.abs(b[0][1]-b[2][1])*1e-4;function j(le){return Math.abs(le[1]-b[0][1])<Q}function X(le){return Math.abs(le[1]-b[2][1])<Q}function J(le){return Math.abs(le[0]-b[0][0])<fe}function ee(le){return Math.abs(le[0]-b[2][0])<fe}function se(le,ie){var ce,me,Me,we,Oe="";for(j(le)&&!ee(le)||X(le)&&!J(le)?(we=C.aaxis,Me=u(C,y,[le[0],ie[0]],.5*(le[1]+ie[1]))):(we=C.baxis,Me=u(C,y,.5*(le[0]+ie[0]),[le[1],ie[1]])),ce=1;ce<Me.length;ce++)for(Oe+=we.smoothing?"C":"L",me=0;me<Me[ce].length;me++){var Be=Me[ce][me];Oe+=[z.c2p(Be[0]),I.c2p(Be[1])]+" "}return Oe}for(B=0,_=null;O.length;){var q=S.edgepaths[B][0];for(_&&(F+=se(_,q)),ae=L.smoothopen(S.edgepaths[B].map(a),S.smoothing),F+=N?ae:ae.replace(/^M/,"L"),O.splice(O.indexOf(B),1),_=S.edgepaths[B][S.edgepaths[B].length-1],K=-1,Y=0;Y<4;Y++){if(!_){A.log("Missing end?",B,S);break}for(j(_)&&!ee(_)?U=b[1]:J(_)?U=b[0]:X(_)?U=b[3]:ee(_)&&(U=b[2]),re=0;re<S.edgepaths.length;re++){var $=S.edgepaths[re][0];Math.abs(_[0]-U[0])<fe?Math.abs(_[0]-$[0])<fe&&($[1]-_[1])*(U[1]-$[1])>=0&&(U=$,K=re):Math.abs(_[1]-U[1])<Q?Math.abs(_[1]-$[1])<Q&&($[0]-_[0])*(U[0]-$[0])>=0&&(U=$,K=re):A.log("endpt to newendpt is not vert. or horz.",_,U,$)}if(K>=0)break;F+=se(_,U),_=U}if(K===S.edgepaths.length){A.log("unclosed perimeter path");break}B=K,N=O.indexOf(B)===-1,N&&(B=O[0],F+=se(_,U)+"Z",_=null)}for(B=0;B<S.paths.length;B++)F+=L.smoothclosed(S.paths[B].map(a),S.smoothing);return F}},64096:function(W,H,e){var g=e(50693),P=e(5386).fF,i=e(9012),L=e(99181),A=e(1426).extendFlat;W.exports=A({lon:L.lon,lat:L.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:L.text,hovertext:L.hovertext,hoverinfo:A({},i.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:P(),showlegend:A({},i.showlegend,{dflt:!1})},g("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(W,H,e){var g=e(92770),P=e(71828).isArrayOrTypedArray,i=e(50606).BADNUM,L=e(78803),A=e(71828)._;W.exports=function(p,t){for(var r=t._length,s=new Array(r),n=t.z,l=P(n)&&n.length,f=0;f<r;f++){var u=s[f]={},m=t.lon[f],c=t.lat[f];if(u.lonlat=g(m)&&g(c)?[+m,+c]:[i,i],l){var w=n[f];u.z=g(w)?w:i}}return L(p,t,{vals:l?n:[0,1],containerStr:"",cLetter:"z"}),r&&(s[0].t={labels:{lat:A(p,"lat:")+" ",lon:A(p,"lon:")+" "}}),s}},52414:function(W,H,e){var g=e(92770),P=e(71828),i=e(7901),L=e(21081),A=e(50606).BADNUM,v=e(18214).makeBlank;W.exports=function(t){var r=t[0].trace,s=r.visible===!0&&r._length!==0,n={layout:{visibility:"none"},paint:{}},l=r._opts={heatmap:n,geojson:v()};if(!s)return l;var f=[],u,m=r.z,c=r.radius,w=P.isArrayOrTypedArray(m)&&m.length,h=P.isArrayOrTypedArray(c);for(u=0;u<t.length;u++){var o=t[u],d=o.lonlat;if(d[0]!==A){var M={};if(w){var T=o.z;M.z=T!==A?T:0}h&&(M.r=g(c[u])&&c[u]>0?+c[u]:0),f.push({type:"Feature",geometry:{type:"Point",coordinates:d},properties:M})}}var E=L.extractOpts(r),x=E.reversescale?L.flipScale(E.colorscale):E.colorscale,S=x[0][1],b=i.opacity(S)<1?S:i.addOpacity(S,0),a=["interpolate",["linear"],["heatmap-density"],0,b];for(u=1;u<x.length;u++)a.push(x[u][0],x[u][1]);var C=["interpolate",["linear"],["get","z"],E.min,0,E.max,1];return P.extendFlat(l.heatmap.paint,{"heatmap-weight":w?C:1/(E.max-E.min),"heatmap-color":a,"heatmap-radius":h?{type:"identity",property:"r"}:r.radius,"heatmap-opacity":r.opacity}),l.geojson={type:"FeatureCollection",features:f},l.heatmap.layout.visibility="visible",l}},79429:function(W,H,e){var g=e(71828),P=e(1586),i=e(64096);W.exports=function(A,v,p,t){function r(f,u){return g.coerce(A,v,i,f,u)}var s=r("lon")||[],n=r("lat")||[],l=Math.min(s.length,n.length);if(!l){v.visible=!1;return}v._length=l,r("z"),r("radius"),r("below"),r("text"),r("hovertext"),r("hovertemplate"),P(A,v,t,r,{prefix:"",cLetter:"z"})}},62474:function(W){W.exports=function(e,g){return e.lon=g.lon,e.lat=g.lat,e.z=g.z,e}},84684:function(W,H,e){var g=e(89298),P=e(28178).hoverPoints,i=e(28178).getExtraText;W.exports=function(A,v,p){var t=P(A,v,p);if(t){var r=t[0],s=r.cd,n=s[0].trace,l=s[r.index];if(delete r.color,"z"in l){var f=r.subplot.mockAxis;r.z=l.z,r.zLabel=g.tickText(f,f.c2l(l.z),"hover").text}return r.extraText=i(n,l,s[0].t.labels),[r]}}},93814:function(W,H,e){W.exports={attributes:e(64096),supplyDefaults:e(79429),colorbar:e(61243),formatLabels:e(15636),calc:e(85070),plot:e(7336),hoverPoints:e(84684),eventData:e(62474),getBelow:function(g,P){for(var i=P.getMapLayers(),L=0;L<i.length;L++){var A=i[L],v=A.id;if(A.type==="symbol"&&typeof v=="string"&&v.indexOf("plotly-")===-1)return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(W,H,e){var g=e(52414),P=e(77734).traceLayerPrefix;function i(A,v){this.type="densitymapbox",this.subplot=A,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",P+v+"-heatmap"]],this.below=null}var L=i.prototype;L.update=function(A){var v=this.subplot,p=this.layerList,t=g(A),r=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(t.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(t,r),this.below=r);for(var s=0;s<p.length;s++){var n=p[s],l=n[0],f=n[1],u=t[l];v.setOptions(f,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&v.setOptions(f,"setPaintProperty",u.paint)}},L._addLayers=function(A,v){for(var p=this.subplot,t=this.layerList,r=this.sourceId,s=0;s<t.length;s++){var n=t[s],l=n[0],f=A[l];p.addLayer({type:l,id:n[1],source:r,layout:f.layout,paint:f.paint},v)}},L._removeLayers=function(){for(var A=this.subplot.map,v=this.layerList,p=v.length-1;p>=0;p--)A.removeLayer(v[p][1])},L.dispose=function(){var A=this.subplot.map;this._removeLayers(),A.removeSource(this.sourceId)},W.exports=function(v,p){var t=p[0].trace,r=new i(v,t.uid),s=r.sourceId,n=g(p),l=r.below=v.belowLookup["trace-"+t.uid];return v.map.addSource(s,{type:"geojson",data:n.geojson}),r._addLayers(n,l),r}},49789:function(W,H,e){var g=e(71828);W.exports=function(i,L){for(var A=0;A<i.length;A++)i[A].i=A;g.mergeArray(L.text,i,"tx"),g.mergeArray(L.hovertext,i,"htx");var v=L.marker;if(v){g.mergeArray(v.opacity,i,"mo"),g.mergeArray(v.color,i,"mc");var p=v.line;p&&(g.mergeArray(p.color,i,"mlc"),g.mergeArrayCastPositive(p.width,i,"mlw"))}}},1285:function(W,H,e){var g=e(1486),P=e(82196).line,i=e(9012),L=e(12663).axisHoverFormat,A=e(5386).fF,v=e(5386).si,p=e(18517),t=e(1426).extendFlat,r=e(7901);W.exports={x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:g.hovertext,hovertemplate:A({},{keys:p.eventDataKeys}),hoverinfo:t({},i.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),text:g.text,textposition:g.textposition,insidetextanchor:t({},g.insidetextanchor,{dflt:"middle"}),textangle:t({},g.textangle,{dflt:0}),textfont:g.textfont,insidetextfont:g.insidetextfont,outsidetextfont:g.outsidetextfont,constraintext:g.constraintext,cliponaxis:g.cliponaxis,orientation:t({},g.orientation,{}),offset:t({},g.offset,{arrayOk:!1}),width:t({},g.width,{arrayOk:!1}),marker:s(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:t({},P.color,{dflt:r.defaultLine}),width:t({},P.width,{dflt:0,editType:"plot"}),dash:P.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup};function s(){var n=t({},g.marker);return delete n.pattern,n}},9532:function(W,H,e){var g=e(89298),P=e(42973),i=e(49789),L=e(66279),A=e(50606).BADNUM;W.exports=function(t,r){var s=g.getFromId(t,r.xaxis||"x"),n=g.getFromId(t,r.yaxis||"y"),l,f,u,m,c,w,h,o;r.orientation==="h"?(l=s.makeCalcdata(r,"x"),u=n.makeCalcdata(r,"y"),m=P(r,n,"y",u),c=!!r.yperiodalignment,w="y"):(l=n.makeCalcdata(r,"y"),u=s.makeCalcdata(r,"x"),m=P(r,s,"x",u),c=!!r.xperiodalignment,w="x"),f=m.vals;var d=Math.min(f.length,l.length),M=new Array(d);for(r._base=[],h=0;h<d;h++){l[h]<0&&(l[h]=A);var T=!1;l[h]!==A&&h+1<d&&l[h+1]!==A&&(T=!0),o=M[h]={p:f[h],s:l[h],cNext:T},r._base[h]=-.5*o.s,c&&(M[h].orig_p=u[h],M[h][w+"End"]=m.ends[h],M[h][w+"Start"]=m.starts[h]),r.ids&&(o.id=String(r.ids[h])),h===0&&(M[0].vTotal=0),M[0].vTotal+=v(o.s),o.begR=v(o.s)/v(M[0].s)}var E;for(h=0;h<d;h++)o=M[h],o.s!==A&&(o.sumR=o.s/M[0].vTotal,o.difR=E!==void 0?o.s/E:1,E=o.s);return i(M,r),L(M,r),M};function v(p){return p===A?0:p}},18517:function(W){W.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(W,H,e){var g=e(11661).setGroupPositions;W.exports=function(i,L){var A=i._fullLayout,v=i._fullData,p=i.calcdata,t=L.xaxis,r=L.yaxis,s=[],n=[],l=[],f,u;for(u=0;u<v.length;u++){var m=v[u],c=m.orientation==="h";m.visible===!0&&m.xaxis===t._id&&m.yaxis===r._id&&m.type==="funnel"&&(f=p[u],c?l.push(f):n.push(f),s.push(f))}var w={mode:A.funnelmode,norm:A.funnelnorm,gap:A.funnelgap,groupgap:A.funnelgroupgap};for(g(i,t,r,n,w),g(i,r,t,l,w),u=0;u<s.length;u++){f=s[u];for(var h=0;h<f.length;h++)h+1<f.length&&(f[h].nextP0=f[h+1].p0,f[h].nextS0=f[h+1].s0,f[h].nextP1=f[h+1].p1,f[h].nextS1=f[h+1].s1)}}},26199:function(W,H,e){var g=e(71828),P=e(26125),i=e(90769).handleText,L=e(67513),A=e(73927),v=e(1285),p=e(7901);function t(n,l,f,u){function m(T,E){return g.coerce(n,l,v,T,E)}var c=L(n,l,u,m);if(!c){l.visible=!1;return}A(n,l,u,m),m("xhoverformat"),m("yhoverformat"),m("orientation",l.y&&!l.x?"v":"h"),m("offset"),m("width");var w=m("text");m("hovertext"),m("hovertemplate");var h=m("textposition");i(n,l,u,m,h,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),l.textposition!=="none"&&!l.texttemplate&&m("textinfo",Array.isArray(w)?"text+value":"value");var o=m("marker.color",f);m("marker.line.color",p.defaultLine),m("marker.line.width");var d=m("connector.visible");if(d){m("connector.fillcolor",r(o));var M=m("connector.line.width");M&&(m("connector.line.color"),m("connector.line.dash"))}}function r(n){var l=g.isArrayOrTypedArray(n)?"#000":n;return p.addOpacity(l,.5*p.opacity(l))}function s(n,l){var f,u;function m(w){return g.coerce(u._input,u,v,w)}if(l.funnelmode==="group")for(var c=0;c<n.length;c++)u=n[c],f=u._input,P(f,u,l,m)}W.exports={supplyDefaults:t,crossTraceDefaults:s}},34598:function(W){W.exports=function(e,g){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"percentInitial"in g&&(e.percentInitial=g.percentInitial),"percentPrevious"in g&&(e.percentPrevious=g.percentPrevious),"percentTotal"in g&&(e.percentTotal=g.percentTotal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},63341:function(W,H,e){var g=e(7901).opacity,P=e(95423).hoverOnBars,i=e(71828).formatPercent;W.exports=function(v,p,t,r,s){var n=P(v,p,t,r,s);if(n){var l=n.cd,f=l[0].trace,u=f.orientation==="h",m=n.index,c=l[m],w=u?"x":"y";n[w+"LabelVal"]=c.s,n.percentInitial=c.begR,n.percentInitialLabel=i(c.begR,1),n.percentPrevious=c.difR,n.percentPreviousLabel=i(c.difR,1),n.percentTotal=c.sumR,n.percentTotalLabel=i(c.sumR,1);var h=c.hi||f.hoverinfo,o=[];if(h&&h!=="none"&&h!=="skip"){var d=h==="all",M=h.split("+"),T=function(E){return d||M.indexOf(E)!==-1};T("percent initial")&&o.push(n.percentInitialLabel+" of initial"),T("percent previous")&&o.push(n.percentPreviousLabel+" of previous"),T("percent total")&&o.push(n.percentTotalLabel+" of total")}return n.extraText=o.join("<br>"),n.color=L(f,c),[n]}};function L(A,v){var p=A.marker,t=v.mc||p.color,r=v.mlc||p.line.color,s=v.mlw||p.line.width;if(g(t))return t;if(g(r)&&s)return r}},51759:function(W,H,e){W.exports={attributes:e(1285),layoutAttributes:e(10440),supplyDefaults:e(26199).supplyDefaults,crossTraceDefaults:e(26199).crossTraceDefaults,supplyLayoutDefaults:e(93138),calc:e(9532),crossTraceCalc:e(8984),plot:e(80461),style:e(68266).style,hoverPoints:e(63341),eventData:e(34598),selectPoints:e(81974),moduleType:"trace",name:"funnel",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(W){W.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(W,H,e){var g=e(71828),P=e(10440);W.exports=function(i,L,A){var v=!1;function p(s,n){return g.coerce(i,L,P,s,n)}for(var t=0;t<A.length;t++){var r=A[t];if(r.visible&&r.type==="funnel"){v=!0;break}}v&&(p("funnelmode"),p("funnelgap",.2),p("funnelgroupgap"))}},80461:function(W,H,e){var g=e(39898),P=e(71828),i=e(91424),L=e(50606).BADNUM,A=e(17295),v=e(72597).clearMinTextSize;W.exports=function(n,l,f,u){var m=n._fullLayout;v("funnel",m),p(n,l,f,u),t(n,l,f,u),A.plot(n,l,f,u,{mode:m.funnelmode,norm:m.funnelmode,gap:m.funnelgap,groupgap:m.funnelgroupgap})};function p(s,n,l,f){var u=n.xaxis,m=n.yaxis;P.makeTraceGroups(f,l,"trace bars").each(function(c){var w=g.select(this),h=c[0].trace,o=P.ensureSingle(w,"g","regions");if(!h.connector||!h.connector.visible){o.remove();return}var d=h.orientation==="h",M=o.selectAll("g.region").data(P.identity);M.enter().append("g").classed("region",!0),M.exit().remove();var T=M.size();M.each(function(E,x){if(!(x!==T-1&&!E.cNext)){var S=r(E,u,m,d),b=S[0],a=S[1],C="";b[0]!==L&&a[0]!==L&&b[1]!==L&&a[1]!==L&&b[2]!==L&&a[2]!==L&&b[3]!==L&&a[3]!==L&&(d?C+="M"+b[0]+","+a[1]+"L"+b[2]+","+a[2]+"H"+b[3]+"L"+b[1]+","+a[1]+"Z":C+="M"+b[1]+","+a[1]+"L"+b[2]+","+a[3]+"V"+a[2]+"L"+b[1]+","+a[0]+"Z"),C===""&&(C="M0,0Z"),P.ensureSingle(g.select(this),"path").attr("d",C).call(i.setClipUrl,n.layerClipId,s)}})})}function t(s,n,l,f){var u=n.xaxis,m=n.yaxis;P.makeTraceGroups(f,l,"trace bars").each(function(c){var w=g.select(this),h=c[0].trace,o=P.ensureSingle(w,"g","lines");if(!h.connector||!h.connector.visible||!h.connector.line.width){o.remove();return}var d=h.orientation==="h",M=o.selectAll("g.line").data(P.identity);M.enter().append("g").classed("line",!0),M.exit().remove();var T=M.size();M.each(function(E,x){if(!(x!==T-1&&!E.cNext)){var S=r(E,u,m,d),b=S[0],a=S[1],C="";b[3]!==void 0&&a[3]!==void 0&&(d?(C+="M"+b[0]+","+a[1]+"L"+b[2]+","+a[2],C+="M"+b[1]+","+a[1]+"L"+b[3]+","+a[2]):(C+="M"+b[1]+","+a[1]+"L"+b[2]+","+a[3],C+="M"+b[1]+","+a[0]+"L"+b[2]+","+a[2])),C===""&&(C="M0,0Z"),P.ensureSingle(g.select(this),"path").attr("d",C).call(i.setClipUrl,n.layerClipId,s)}})})}function r(s,n,l,f){var u=[],m=[],c=f?n:l,w=f?l:n;return u[0]=c.c2p(s.s0,!0),m[0]=w.c2p(s.p0,!0),u[1]=c.c2p(s.s1,!0),m[1]=w.c2p(s.p1,!0),u[2]=c.c2p(s.nextS0,!0),m[2]=w.c2p(s.nextP0,!0),u[3]=c.c2p(s.nextS1,!0),m[3]=w.c2p(s.nextP1,!0),f?[u,m]:[m,u]}},68266:function(W,H,e){var g=e(39898),P=e(91424),i=e(7901),L=e(37822).DESELECTDIM,A=e(16688),v=e(72597).resizeText,p=A.styleTextPoints;function t(r,s,n){var l=n||g.select(r).selectAll("g.funnellayer").selectAll("g.trace");v(r,l,"funnel"),l.style("opacity",function(f){return f[0].trace.opacity}),l.each(function(f){var u=g.select(this),m=f[0].trace;u.selectAll(".point > path").each(function(c){if(!c.isBlank){var w=m.marker;g.select(this).call(i.fill,c.mc||w.color).call(i.stroke,c.mlc||w.line.color).call(P.dashLine,w.line.dash,c.mlw||w.line.width).style("opacity",m.selectedpoints&&!c.selected?L:1)}}),p(u,m,r),u.selectAll(".regions").each(function(){g.select(this).selectAll("path").style("stroke-width",0).call(i.fill,m.connector.fillcolor)}),u.selectAll(".lines").each(function(){var c=m.connector.line;P.lineGroupStyle(g.select(this).selectAll("path"),c.width,c.color,c.dash)})})}W.exports={style:t}},86807:function(W,H,e){var g=e(34e3),P=e(9012),i=e(27670).Y,L=e(5386).fF,A=e(5386).si,v=e(1426).extendFlat;W.exports={labels:g.labels,label0:g.label0,dlabel:g.dlabel,values:g.values,marker:{colors:g.marker.colors,line:{color:v({},g.marker.line.color,{dflt:null}),width:v({},g.marker.line.width,{dflt:1}),editType:"calc"},pattern:g.marker.pattern,editType:"calc"},text:g.text,hovertext:g.hovertext,scalegroup:v({},g.scalegroup,{}),textinfo:v({},g.textinfo,{flags:["label","text","value","percent"]}),texttemplate:A({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},P.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:L({},{keys:["label","color","value","text","percent"]}),textposition:v({},g.textposition,{values:["inside","none"],dflt:"inside"}),textfont:g.textfont,insidetextfont:g.insidetextfont,title:{text:g.title.text,font:g.title.font,position:v({},g.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:i({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(W,H,e){var g=e(74875);H.name="funnelarea",H.plot=function(P,i,L,A){g.plotBasePlot(H.name,P,i,L,A)},H.clean=function(P,i,L,A){g.cleanBasePlot(H.name,P,i,L,A)}},89574:function(W,H,e){var g=e(32354);function P(L,A){return g.calc(L,A)}function i(L){g.crossTraceCalc(L,{type:"funnelarea"})}W.exports={calc:P,crossTraceCalc:i}},86282:function(W,H,e){var g=e(71828),P=e(86807),i=e(27670).c,L=e(90769).handleText,A=e(37434).handleLabelsAndValues,v=e(37434).handleMarkerDefaults;W.exports=function(t,r,s,n){function l(T,E){return g.coerce(t,r,P,T,E)}var f=l("labels"),u=l("values"),m=A(f,u),c=m.len;if(r._hasLabels=m.hasLabels,r._hasValues=m.hasValues,!r._hasLabels&&r._hasValues&&(l("label0"),l("dlabel")),!c){r.visible=!1;return}r._length=c,v(t,r,n,l),l("scalegroup");var w=l("text"),h=l("texttemplate"),o;if(h||(o=l("textinfo",Array.isArray(w)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),h||o&&o!=="none"){var d=l("textposition");L(t,r,n,l,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}i(r,n,l);var M=l("title.text");M&&(l("title.position"),g.coerceFont(l,"title.font",n.font)),l("aspectratio"),l("baseratio")}},10421:function(W,H,e){W.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(6452),categories:["pie-like","funnelarea","showLegend"],attributes:e(86807),layoutAttributes:e(80097),supplyDefaults:e(86282),supplyLayoutDefaults:e(57402),calc:e(89574).calc,crossTraceCalc:e(89574).crossTraceCalc,plot:e(79187),style:e(71858),styleOne:e(63463),meta:{}}},80097:function(W,H,e){var g=e(92774).hiddenlabels;W.exports={hiddenlabels:g,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(W,H,e){var g=e(71828),P=e(80097);W.exports=function(L,A){function v(p,t){return g.coerce(L,A,P,p,t)}v("hiddenlabels"),v("funnelareacolorway",A.colorway),v("extendfunnelareacolors")}},79187:function(W,H,e){var g=e(39898),P=e(91424),i=e(71828),L=i.strScale,A=i.strTranslate,v=e(63893),p=e(17295),t=p.toMoveInsideBar,r=e(72597),s=r.recordMinTextSize,n=r.clearMinTextSize,l=e(53581),f=e(14575),u=f.attachFxHandlers,m=f.determineInsideTextFont,c=f.layoutAreas,w=f.prerenderTitles,h=f.positionTitleOutside,o=f.formatSliceLabel;W.exports=function(x,S){var b=x._context.staticPlot,a=x._fullLayout;n("funnelarea",a),w(S,x),c(S,a._size),i.makeTraceGroups(a._funnelarealayer,S,"trace").each(function(C){var y=g.select(this),z=C[0],I=z.trace;T(C),y.each(function(){var B=g.select(this).selectAll("g.slice").data(C);B.enter().append("g").classed("slice",!0),B.exit().remove(),B.each(function(O,N){if(O.hidden){g.select(this).selectAll("path,g").remove();return}O.pointNumber=O.i,O.curveNumber=I.index;var _=z.cx,U=z.cy,Y=g.select(this),K=Y.selectAll("path.surface").data([O]);K.enter().append("path").classed("surface",!0).style({"pointer-events":b?"none":"all"}),Y.call(u,x,C);var re="M"+(_+O.TR[0])+","+(U+O.TR[1])+d(O.TR,O.BR)+d(O.BR,O.BL)+d(O.BL,O.TL)+"Z";K.attr("d",re),o(x,O,z);var ae=l.castOption(I.textposition,O.pts),fe=Y.selectAll("g.slicetext").data(O.text&&ae!=="none"?[0]:[]);fe.enter().append("g").classed("slicetext",!0),fe.exit().remove(),fe.each(function(){var Q=i.ensureSingle(g.select(this),"text","",function(le){le.attr("data-notex",1)}),j=i.ensureUniformFontSize(x,m(I,O,a.font));Q.text(O.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(P.font,j).call(v.convertToTspans,x);var X=P.bBox(Q.node()),J,ee,se,q=Math.min(O.BL[1],O.BR[1])+U,$=Math.max(O.TL[1],O.TR[1])+U;ee=Math.max(O.TL[0],O.BL[0])+_,se=Math.min(O.TR[0],O.BR[0])+_,J=t(ee,se,q,$,X,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),J.fontSize=j.size,s(I.type,J,a),C[N].transform=J,i.setTransormAndDisplay(Q,J)})});var F=g.select(this).selectAll("g.titletext").data(I.title.text?[0]:[]);F.enter().append("g").classed("titletext",!0),F.exit().remove(),F.each(function(){var O=i.ensureSingle(g.select(this),"text","",function(U){U.attr("data-notex",1)}),N=I.title.text;I._meta&&(N=i.templateString(N,I._meta)),O.text(N).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(P.font,I.title.font).call(v.convertToTspans,x);var _=h(z,a._size);O.attr("transform",A(_.x,_.y)+L(Math.min(1,_.scale))+A(_.tx,_.ty))})})})};function d(E,x){var S=x[0]-E[0],b=x[1]-E[1];return"l"+S+","+b}function M(E,x){return[.5*(E[0]+x[0]),.5*(E[1]+x[1])]}function T(E){if(!E.length)return;var x=E[0],S=x.trace,b=S.aspectratio,a=S.baseratio;a>.999&&(a=.999);var C=Math.pow(a,2),y=x.vTotal,z=y*C/(1-C),I=y,B=z/y;function F(){var ie=Math.sqrt(B);return{x:ie,y:-ie}}function O(){var ie=F();return[ie.x,ie.y]}var N,_=[];_.push(O());var U,Y;for(U=E.length-1;U>-1;U--)if(Y=E[U],!Y.hidden){var K=Y.v/I;B+=K,_.push(O())}var re=1/0,ae=-1/0;for(U=0;U<_.length;U++)N=_[U],re=Math.min(re,N[1]),ae=Math.max(ae,N[1]);for(U=0;U<_.length;U++)_[U][1]-=(ae+re)/2;var fe=_[_.length-1][0],Q=x.r,j=(ae-re)/2,X=Q/fe,J=Q/j*b;for(x.r=J*j,U=0;U<_.length;U++)_[U][0]*=X,_[U][1]*=J;N=_[0];var ee=[-N[0],N[1]],se=[N[0],N[1]],q=0;for(U=E.length-1;U>-1;U--)if(Y=E[U],!Y.hidden){q+=1;var $=_[q][0],le=_[q][1];Y.TL=[-$,le],Y.TR=[$,le],Y.BL=ee,Y.BR=se,Y.pxmid=M(Y.TR,Y.BR),ee=Y.TL,se=Y.TR}}},71858:function(W,H,e){var g=e(39898),P=e(63463),i=e(72597).resizeText;W.exports=function(A){var v=A._fullLayout._funnelarealayer.selectAll(".trace");i(A,v,"funnelarea"),v.each(function(p){var t=p[0],r=t.trace,s=g.select(this);s.style({opacity:r.opacity}),s.selectAll("path.surface").each(function(n){g.select(this).call(P,n,r,A)})})}},21606:function(W,H,e){var g=e(82196),P=e(9012),i=e(41940),L=e(12663).axisHoverFormat,A=e(5386).fF,v=e(5386).si,p=e(50693),t=e(1426).extendFlat;W.exports=t({z:{valType:"data_array",editType:"calc"},x:t({},g.x,{impliedEdits:{xtype:"array"}}),x0:t({},g.x0,{impliedEdits:{xtype:"scaled"}}),dx:t({},g.dx,{impliedEdits:{xtype:"scaled"}}),y:t({},g.y,{impliedEdits:{ytype:"array"}}),y0:t({},g.y0,{impliedEdits:{ytype:"scaled"}}),dy:t({},g.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:t({},g.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:t({},g.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:t({},g.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:t({},g.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:t({},g.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:t({},g.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:A(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:i({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:t({},P.showlegend,{dflt:!1})},{transforms:void 0},p("",{cLetter:"z",autoColorDflt:!1}))},90757:function(W,H,e){var g=e(73972),P=e(71828),i=e(89298),L=e(42973),A=e(17562),v=e(78803),p=e(68296),t=e(4742),r=e(824),s=e(43907),n=e(70769),l=e(50606).BADNUM;W.exports=function(c,w){var h=i.getFromId(c,w.xaxis||"x"),o=i.getFromId(c,w.yaxis||"y"),d=g.traceIs(w,"contour"),M=g.traceIs(w,"histogram"),T=g.traceIs(w,"gl2d"),E=d?"best":w.zsmooth,x,S,b,a,C,y,z,I,B,F,O;if(h._minDtick=0,o._minDtick=0,M)O=A(c,w),a=O.orig_x,x=O.x,S=O.x0,b=O.dx,I=O.orig_y,C=O.y,y=O.y0,z=O.dy,B=O.z;else{var N=w.z;P.isArray1D(N)?(p(w,h,o,"x","y",["z"]),x=w._x,C=w._y,N=w._z):(a=w.x?h.makeCalcdata(w,"x"):[],I=w.y?o.makeCalcdata(w,"y"):[],x=L(w,h,"x",a).vals,C=L(w,o,"y",I).vals,w._x=x,w._y=C),S=w.x0,b=w.dx,y=w.y0,z=w.dy,B=t(N,w,h,o)}(h.rangebreaks||o.rangebreaks)&&(B=u(x,C,B),M||(x=f(x),C=f(C),w._x=x,w._y=C)),!M&&(d||w.connectgaps)&&(w._emptypoints=s(B),r(B,w._emptypoints));function _(X){E=w._input.zsmooth=w.zsmooth=!1,P.warn('cannot use zsmooth: "fast": '+X)}function U(X){if(X.length>1){var J=(X[X.length-1]-X[0])/(X.length-1),ee=Math.abs(J/100);for(F=0;F<X.length-1;F++)if(Math.abs(X[F+1]-X[F]-J)>ee)return!1}return!0}w._islinear=!1,h.type==="log"||o.type==="log"?E==="fast"&&_("log axis found"):U(x)?U(C)?w._islinear=!0:E==="fast"&&_("y scale is not linear"):E==="fast"&&_("x scale is not linear");var Y=P.maxRowLength(B),K=w.xtype==="scaled"?"":x,re=n(w,K,S,b,Y,h),ae=w.ytype==="scaled"?"":C,fe=n(w,ae,y,z,B.length,o);T||(w._extremes[h._id]=i.findExtremes(h,re),w._extremes[o._id]=i.findExtremes(o,fe));var Q={x:re,y:fe,z:B,text:w._text||w.text,hovertext:w._hovertext||w.hovertext};if(w.xperiodalignment&&a&&(Q.orig_x=a),w.yperiodalignment&&I&&(Q.orig_y=I),K&&K.length===re.length-1&&(Q.xCenter=K),ae&&ae.length===fe.length-1&&(Q.yCenter=ae),M&&(Q.xRanges=O.xRanges,Q.yRanges=O.yRanges,Q.pts=O.pts),d||v(c,w,{vals:B,cLetter:"z"}),d&&w.contours&&w.contours.coloring==="heatmap"){var j={type:w.type==="contour"?"heatmap":"histogram2d",xcalendar:w.xcalendar,ycalendar:w.ycalendar};Q.xfill=n(j,K,S,b,Y,h),Q.yfill=n(j,ae,y,z,B.length,o)}return[Q]};function f(m){for(var c=[],w=m.length,h=0;h<w;h++){var o=m[h];o!==l&&c.push(o)}return c}function u(m,c,w){for(var h=[],o=-1,d=0;d<w.length;d++)if(c[d]!==l){o++,h[o]=[];for(var M=0;M<w[d].length;M++)m[M]!==l&&h[o].push(w[d][M])}return h}},4742:function(W,H,e){var g=e(92770),P=e(71828),i=e(50606).BADNUM;W.exports=function(A,v,p,t){var r,s,n,l,f,u;function m(M){if(g(M))return+M}if(v&&v.transpose){for(r=0,f=0;f<A.length;f++)r=Math.max(r,A[f].length);if(r===0)return!1;n=function(M){return M.length},l=function(M,T,E){return(M[E]||[])[T]}}else r=A.length,n=function(M,T){return M[T].length},l=function(M,T,E){return(M[T]||[])[E]};var c=function(M,T,E){return T===i||E===i?i:l(M,T,E)};function w(M){if(v&&v.type!=="carpet"&&v.type!=="contourcarpet"&&M&&M.type==="category"&&v["_"+M._id.charAt(0)].length){var T=M._id.charAt(0),E={},x=v["_"+T+"CategoryMap"]||v[T];for(f=0;f<x.length;f++)E[x[f]]=f;return function(S){var b=E[M._categories[S]];return b+1?b:i}}else return P.identity}var h=w(p),o=w(t);t&&t.type==="category"&&(r=t._categories.length);var d=new Array(r);for(f=0;f<r;f++)for(p&&p.type==="category"?s=p._categories.length:s=n(A,f),d[f]=new Array(s),u=0;u<s;u++)d[f][u]=m(c(A,o(f),h(u)));return d}},61243:function(W){W.exports={min:"zmin",max:"zmax"}},68296:function(W,H,e){var g=e(71828),P=e(50606).BADNUM,i=e(42973);W.exports=function(A,v,p,t,r,s){var n=A._length,l=v.makeCalcdata(A,t),f=p.makeCalcdata(A,r);l=i(A,v,t,l).vals,f=i(A,p,r,f).vals;var u=A.text,m=u!==void 0&&g.isArray1D(u),c=A.hovertext,w=c!==void 0&&g.isArray1D(c),h,o,d=g.distinctVals(l),M=d.vals,T=g.distinctVals(f),E=T.vals,x=[],S,b,a=E.length,C=M.length;for(h=0;h<s.length;h++)x[h]=g.init2dArray(a,C);m&&(S=g.init2dArray(a,C)),w&&(b=g.init2dArray(a,C));var y=g.init2dArray(a,C);for(h=0;h<n;h++)if(l[h]!==P&&f[h]!==P){var z=g.findBin(l[h]+d.minDiff/2,M),I=g.findBin(f[h]+T.minDiff/2,E);for(o=0;o<s.length;o++){var B=s[o],F=A[B],O=x[o];O[I][z]=F[h],y[I][z]=h}m&&(S[I][z]=u[h]),w&&(b[I][z]=c[h])}for(A["_"+t]=M,A["_"+r]=E,o=0;o<s.length;o++)A["_"+s[o]]=x[o];m&&(A._text=S),w&&(A._hovertext=b),v&&v.type==="category"&&(A["_"+t+"CategoryMap"]=M.map(function(N){return v._categories[N]})),p&&p.type==="category"&&(A["_"+r+"CategoryMap"]=E.map(function(N){return p._categories[N]})),A._after2before=y}},76382:function(W,H,e){var g=e(71828),P=e(67684),i=e(58623),L=e(73927),A=e(49901),v=e(1586),p=e(21606);W.exports=function(r,s,n,l){function f(m,c){return g.coerce(r,s,p,m,c)}var u=P(r,s,f,l);if(!u){s.visible=!1;return}L(r,s,l,f),f("xhoverformat"),f("yhoverformat"),f("text"),f("hovertext"),f("hovertemplate"),i(f,l),A(r,s,f,l),f("hoverongaps"),f("connectgaps",g.isArray1D(s.z)&&s.zsmooth!==!1),v(r,s,l,f,{prefix:"",cLetter:"z"})}},43907:function(W,H,e){var g=e(71828).maxRowLength;W.exports=function(i){var L=[],A={},v=[],p=i[0],t=[],r=[0,0,0],s=g(i),n,l,f,u,m,c,w,h;for(l=0;l<i.length;l++)for(n=t,t=p,p=i[l+1]||[],f=0;f<s;f++)t[f]===void 0&&(c=(t[f-1]!==void 0?1:0)+(t[f+1]!==void 0?1:0)+(n[f]!==void 0?1:0)+(p[f]!==void 0?1:0),c?(l===0&&c++,f===0&&c++,l===i.length-1&&c++,f===t.length-1&&c++,c<4&&(A[[l,f]]=[l,f,c]),L.push([l,f,c])):v.push([l,f]));for(;v.length;){for(w={},h=!1,m=v.length-1;m>=0;m--)u=v[m],l=u[0],f=u[1],c=((A[[l-1,f]]||r)[2]+(A[[l+1,f]]||r)[2]+(A[[l,f-1]]||r)[2]+(A[[l,f+1]]||r)[2])/20,c&&(w[u]=[l,f,c],v.splice(m,1),h=!0);if(!h)throw"findEmpties iterated with no new neighbors";for(u in w)A[u]=w[u],L.push(w[u])}return L.sort(function(o,d){return d[2]-o[2]})}},46248:function(W,H,e){var g=e(30211),P=e(71828),i=e(89298),L=e(21081).extractOpts;W.exports=function(v,p,t,r,s){s||(s={});var n=s.isContour,l=v.cd[0],f=l.trace,u=v.xa,m=v.ya,c=l.x,w=l.y,h=l.z,o=l.xCenter,d=l.yCenter,M=l.zmask,T=f.zhoverformat,E=c,x=w,S,b,a,C;if(v.index!==!1){try{a=Math.round(v.index[1]),C=Math.round(v.index[0])}catch{P.error("Error hovering on heatmap, pointNumber must be [row,col], found:",v.index);return}if(a<0||a>=h[0].length||C<0||C>h.length)return}else{if(g.inbox(p-c[0],p-c[c.length-1],0)>0||g.inbox(t-w[0],t-w[w.length-1],0)>0)return;if(n){var y;for(E=[2*c[0]-c[1]],y=1;y<c.length;y++)E.push((c[y]+c[y-1])/2);for(E.push([2*c[c.length-1]-c[c.length-2]]),x=[2*w[0]-w[1]],y=1;y<w.length;y++)x.push((w[y]+w[y-1])/2);x.push([2*w[w.length-1]-w[w.length-2]])}a=Math.max(0,Math.min(E.length-2,P.findBin(p,E))),C=Math.max(0,Math.min(x.length-2,P.findBin(t,x)))}var z=u.c2p(c[a]),I=u.c2p(c[a+1]),B=m.c2p(w[C]),F=m.c2p(w[C+1]),O,N;n?(O=l.orig_x||c,N=l.orig_y||w,I=z,S=O[a],F=B,b=N[C]):(O=l.orig_x||o||c,N=l.orig_y||d||w,S=o?O[a]:(O[a]+O[a+1])/2,b=d?N[C]:(N[C]+N[C+1])/2,u&&u.type==="category"&&(S=c[a]),m&&m.type==="category"&&(b=w[C]),f.zsmooth&&(z=I=u.c2p(S),B=F=m.c2p(b)));var _=h[C][a];if(M&&!M[C][a]&&(_=void 0),!(_===void 0&&!f.hoverongaps)){var U;Array.isArray(l.hovertext)&&Array.isArray(l.hovertext[C])?U=l.hovertext[C][a]:Array.isArray(l.text)&&Array.isArray(l.text[C])&&(U=l.text[C][a]);var Y=L(f),K={type:"linear",range:[Y.min,Y.max],hoverformat:T,_separators:u._separators,_numFormat:u._numFormat},re=i.tickText(K,_,"hover").text;return[P.extendFlat(v,{index:f._after2before?f._after2before[C][a]:[C,a],distance:v.maxHoverDistance,spikeDistance:v.maxSpikeDistance,x0:z,x1:I,y0:B,y1:F,xLabelVal:S,yLabelVal:b,zLabelVal:_,zLabel:re,text:U})]}}},92165:function(W,H,e){W.exports={attributes:e(21606),supplyDefaults:e(76382),calc:e(90757),plot:e(50347),colorbar:e(61243),style:e(70035),hoverPoints:e(46248),moduleType:"trace",name:"heatmap",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(W,H,e){var g=e(71828),P=.01,i=[[-1,0],[1,0],[0,-1],[0,1]];function L(v){return .5-.25*Math.min(1,v*.5)}W.exports=function(p,t){var r=1,s;for(A(p,t),s=0;s<t.length&&!(t[s][2]<4);s++);for(t=t.slice(s),s=0;s<100&&r>P;s++)r=A(p,t,L(r));return r>P&&g.log("interp2d didn't converge quickly",r),p};function A(v,p,t){var r=0,s,n,l,f,u,m,c,w,h,o,d,M,T;for(f=0;f<p.length;f++){for(s=p[f],n=s[0],l=s[1],d=v[n][l],o=0,h=0,u=0;u<4;u++)m=i[u],c=v[n+m[0]],c&&(w=c[l+m[1]],w!==void 0&&(o===0?M=T=w:(M=Math.min(M,w),T=Math.max(T,w)),h++,o+=w));if(h===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[n][l]=o/h,d===void 0?h<4&&(r=1):(v[n][l]=(1+t)*v[n][l]-t*d,T>M&&(r=Math.max(r,Math.abs(v[n][l]-d)/(T-M))))}return r}},58623:function(W,H,e){var g=e(71828);W.exports=function(i,L){i("texttemplate");var A=g.extendFlat({},L.font,{color:"auto",size:"auto"});g.coerceFont(i,"textfont",A)}},70769:function(W,H,e){var g=e(73972),P=e(71828).isArrayOrTypedArray;W.exports=function(L,A,v,p,t,r){var s=[],n=g.traceIs(L,"contour"),l=g.traceIs(L,"histogram"),f=g.traceIs(L,"gl2d"),u,m,c,w=P(A)&&A.length>1;if(w&&!l&&r.type!=="category"){var h=A.length;if(h<=t){if(n||f)s=A.slice(0,t);else if(t===1)s=[A[0]-.5,A[0]+.5];else{for(s=[1.5*A[0]-.5*A[1]],c=1;c<h;c++)s.push((A[c-1]+A[c])*.5);s.push(1.5*A[h-1]-.5*A[h-2])}if(h<t){var o=s[s.length-1],d=o-s[s.length-2];for(c=h;c<t;c++)o+=d,s.push(o)}}else return n?A.slice(0,t):A.slice(0,t+1)}else{var M=L[r._id.charAt(0)+"calendar"];if(l)u=r.r2c(v,0,M);else if(P(A)&&A.length===1)u=A[0];else if(v===void 0)u=0;else{var T=r.type==="log"?r.d2c:r.r2c;u=T(v,0,M)}for(m=p||1,c=n||f?0:-.5;c<t;c++)s.push(u+m*c)}return s}},50347:function(W,H,e){var g=e(39898),P=e(84267),i=e(73972),L=e(91424),A=e(89298),v=e(71828),p=e(63893),t=e(8225),r=e(7901),s=e(21081).extractOpts,n=e(21081).makeColorScaleFuncFromTrace,l=e(77922),f=e(18783),u=f.LINE_SPACING,m=e(3883),c=e(32396).STYLE,w="heatmap-label";function h(E){return E.selectAll("g."+w)}function o(E){h(E).remove()}W.exports=function(E,x,S,b){var a=x.xaxis,C=x.yaxis;v.makeTraceGroups(b,S,"hm").each(function(y){var z=g.select(this),I=y[0],B=I.trace,F=B.xgap||0,O=B.ygap||0,N=I.z,_=I.x,U=I.y,Y=I.xCenter,K=I.yCenter,re=i.traceIs(B,"contour"),ae=re?"best":B.zsmooth,fe=N.length,Q=v.maxRowLength(N),j=!1,X=!1,J,ee,se,q,$,le,ie,ce;for(le=0;J===void 0&&le<_.length-1;)J=a.c2p(_[le]),le++;for(le=_.length-1;ee===void 0&&le>0;)ee=a.c2p(_[le]),le--;for(ee<J&&(se=ee,ee=J,J=se,j=!0),le=0;q===void 0&&le<U.length-1;)q=C.c2p(U[le]),le++;for(le=U.length-1;$===void 0&&le>0;)$=C.c2p(U[le]),le--;$<q&&(se=q,q=$,$=se,X=!0),re&&(Y=_,K=U,_=I.xfill,U=I.yfill);var me="default";if(ae?me=ae==="best"?"smooth":"fast":B._islinear&&F===0&&O===0&&m()&&(me="fast"),me!=="fast"){var Me=ae==="best"?0:.5;J=Math.max(-Me*a._length,J),ee=Math.min((1+Me)*a._length,ee),q=Math.max(-Me*C._length,q),$=Math.min((1+Me)*C._length,$)}var we=Math.round(ee-J),Oe=Math.round($-q),Be=J>=a._length||ee<=0||q>=C._length||$<=0;if(Be){var Ce=z.selectAll("image").data([]);Ce.exit().remove(),o(z);return}var xe,Se;me==="fast"?(xe=Q,Se=fe):(xe=we,Se=Oe);var He=document.createElement("canvas");He.width=xe,He.height=Se;var Ge=He.getContext("2d",{willReadFrequently:!0}),ke=n(B,{noNumericCheck:!0,returnArray:!0}),We,it;me==="fast"?(We=j?function(nn){return Q-1-nn}:v.identity,it=X?function(nn){return fe-1-nn}:v.identity):(We=function(nn){return v.constrain(Math.round(a.c2p(_[nn])-J),0,we)},it=function(nn){return v.constrain(Math.round(C.c2p(U[nn])-q),0,Oe)});var et=it(0),tt=[et,et],at=j?0:1,ht=X?0:1,yt=0,gt=0,Et=0,Ct=0,Vt,Qe,Fe,Ie,ze;function Re(nn,gn){if(nn!==void 0){var mn=ke(nn);return mn[0]=Math.round(mn[0]),mn[1]=Math.round(mn[1]),mn[2]=Math.round(mn[2]),yt+=gn,gt+=mn[0]*gn,Et+=mn[1]*gn,Ct+=mn[2]*gn,mn}return[0,0,0,0]}function be(nn,gn,mn,Pn){var Fn=nn[mn.bin0];if(Fn===void 0)return Re(void 0,1);var ia=nn[mn.bin1],jn=gn[mn.bin0],$n=gn[mn.bin1],Wn=ia-Fn||0,Qn=jn-Fn||0,Tr;return ia===void 0?$n===void 0?Tr=0:jn===void 0?Tr=2*($n-Fn):Tr=(2*$n-jn-Fn)*2/3:$n===void 0?jn===void 0?Tr=0:Tr=(2*Fn-ia-jn)*2/3:jn===void 0?Tr=(2*$n-ia-Fn)*2/3:Tr=$n+Fn-ia-jn,Re(Fn+mn.frac*Wn+Pn.frac*(Qn+mn.frac*Tr))}if(me!=="default"){var ye=0,Ae;try{Ae=new Uint8Array(xe*Se*4)}catch{Ae=new Array(xe*Se*4)}if(me==="smooth"){var Ee=Y||_,Ne=K||U,Je=new Array(Ee.length),qe=new Array(Ne.length),vt=new Array(we),bt=Y?M:d,Wt=K?M:d,qt,At,zt;for(le=0;le<Ee.length;le++)Je[le]=Math.round(a.c2p(Ee[le])-J);for(le=0;le<Ne.length;le++)qe[le]=Math.round(C.c2p(Ne[le])-q);for(le=0;le<we;le++)vt[le]=bt(le,Je);for(ie=0;ie<Oe;ie++)for(qt=Wt(ie,qe),At=N[qt.bin0],zt=N[qt.bin1],le=0;le<we;le++,ye+=4)ze=be(At,zt,vt[le],qt),T(Ae,ye,ze)}else for(ie=0;ie<fe;ie++)for(Ie=N[ie],tt=it(ie),le=0;le<Q;le++)ze=Re(Ie[le],1),ye=(tt*Q+We(le))*4,T(Ae,ye,ze);var Jt=Ge.createImageData(xe,Se);try{Jt.data.set(Ae)}catch{var Mr=Jt.data,pt=Mr.length;for(ie=0;ie<pt;ie++)Mr[ie]=Ae[ie]}Ge.putImageData(Jt,0,0)}else{var Zt=Math.floor(F/2),Kt=Math.floor(O/2);for(ie=0;ie<fe;ie++)if(Ie=N[ie],tt.reverse(),tt[ht]=it(ie+1),!(tt[0]===tt[1]||tt[0]===void 0||tt[1]===void 0))for(Qe=We(0),Vt=[Qe,Qe],le=0;le<Q;le++)Vt.reverse(),Vt[at]=We(le+1),!(Vt[0]===Vt[1]||Vt[0]===void 0||Vt[1]===void 0)&&(Fe=Ie[le],ze=Re(Fe,(Vt[1]-Vt[0])*(tt[1]-tt[0])),Ge.fillStyle="rgba("+ze.join(",")+")",Ge.fillRect(Vt[0]+Zt,tt[0]+Kt,Vt[1]-Vt[0]-F,tt[1]-tt[0]-O))}gt=Math.round(gt/yt),Et=Math.round(Et/yt),Ct=Math.round(Ct/yt);var mr=P("rgb("+gt+","+Et+","+Ct+")");E._hmpixcount=(E._hmpixcount||0)+yt,E._hmlumcount=(E._hmlumcount||0)+yt*mr.getLuminance();var ur=z.selectAll("image").data(y);ur.enter().append("svg:image").attr({xmlns:l.svg,preserveAspectRatio:"none"}),ur.attr({height:Oe,width:we,x:J,y:q,"xlink:href":He.toDataURL("image/png")}),me==="fast"&&!ae&&ur.attr("style",c),o(z);var dt=B.texttemplate;if(dt){var st=s(B),xt={type:"linear",range:[st.min,st.max],_separators:a._separators,_numFormat:a._numFormat},Mt=B.type==="histogram2dcontour",Dt=B.type==="contour",Rt=Dt?1:0,Nt=Dt?fe-1:fe,Bt=Dt?1:0,Xt=Dt?Q-1:Q,lr=[];for(le=Rt;le<Nt;le++){var sr;if(Dt)sr=I.y[le];else if(Mt){if(le===0||le===fe-1)continue;sr=I.y[le]}else if(I.yCenter)sr=I.yCenter[le];else{if(le+1===fe&&I.y[le+1]===void 0)continue;sr=(I.y[le]+I.y[le+1])/2}var dr=Math.round(C.c2p(sr));if(!(0>dr||dr>C._length))for(ie=Bt;ie<Xt;ie++){var je;if(Dt)je=I.x[ie];else if(Mt){if(ie===0||ie===Q-1)continue;je=I.x[ie]}else if(I.xCenter)je=I.xCenter[ie];else{if(ie+1===Q&&I.x[ie+1]===void 0)continue;je=(I.x[ie]+I.x[ie+1])/2}var Ye=Math.round(a.c2p(je));if(!(0>Ye||Ye>a._length)){var It=t({x:je,y:sr},B,E._fullLayout);It.x=je,It.y=sr;var kt=I.z[le][ie];kt===void 0?(It.z="",It.zLabel=""):(It.z=kt,It.zLabel=A.tickText(xt,kt,"hover").text);var Yt=I.text&&I.text[le]&&I.text[le][ie];(Yt===void 0||Yt===!1)&&(Yt=""),It.text=Yt;var tr=v.texttemplateString(dt,It,E._fullLayout._d3locale,It,B._meta||{});if(tr){var or=tr.split("<br>"),rr=or.length,_t=0;for(ce=0;ce<rr;ce++)_t=Math.max(_t,or[ce].length);lr.push({l:rr,c:_t,t:tr,x:Ye,y:dr,z:kt})}}}}var hr=B.textfont,gr=hr.family,pr=hr.size,vr=E._fullLayout.font.size;if(!pr||pr==="auto"){var Hr=1/0,kr=1/0,Fr=0,pn=0;for(ce=0;ce<lr.length;ce++){var qr=lr[ce];if(Fr=Math.max(Fr,qr.l),pn=Math.max(pn,qr.c),ce<lr.length-1){var On=lr[ce+1],Tn=Math.abs(On.x-qr.x),Sr=Math.abs(On.y-qr.y);Tn&&(Hr=Math.min(Hr,Tn)),Sr&&(kr=Math.min(kr,Sr))}}!isFinite(Hr)||!isFinite(kr)?pr=vr:(Hr-=F,kr-=O,Hr/=pn,kr/=Fr,Hr/=u/2,kr/=u,pr=Math.min(Math.floor(Hr),Math.floor(kr),vr))}if(pr<=0||!isFinite(pr))return;var Er=function(nn){return nn.x},Gr=function(nn){return nn.y-pr*(nn.l*u/2-1)},Br=h(z).data(lr);Br.enter().append("g").classed(w,1).append("text").attr("text-anchor","middle").each(function(nn){var gn=g.select(this),mn=hr.color;(!mn||mn==="auto")&&(mn=r.contrast("rgba("+ke(nn.z).join()+")")),gn.attr("data-notex",1).call(p.positionText,Er(nn),Gr(nn)).call(L.font,gr,pr,mn).text(nn.t).call(p.convertToTspans,E)})}})};function d(E,x){var S=x.length-2,b=v.constrain(v.findBin(E,x),0,S),a=x[b],C=x[b+1],y=v.constrain(b+(E-a)/(C-a)-.5,0,S),z=Math.round(y),I=Math.abs(y-z);return!y||y===S||!I?{bin0:z,bin1:z,frac:0}:{bin0:z,frac:I,bin1:Math.round(z+I/(y-z))}}function M(E,x){var S=x.length-1,b=v.constrain(v.findBin(E,x),0,S),a=x[b],C=x[b+1],y=(E-a)/(C-a)||0;return y<=0?{bin0:b,bin1:b,frac:0}:y<.5?{bin0:b,bin1:b+1,frac:y}:{bin0:b+1,bin1:b,frac:1-y}}function T(E,x,S){E[x]=S[0],E[x+1]=S[1],E[x+2]=S[2],E[x+3]=Math.round(S[3]*255)}},70035:function(W,H,e){var g=e(39898);W.exports=function(i){g.select(i).selectAll(".hm image").style("opacity",function(L){return L.trace.opacity})}},49901:function(W){W.exports=function(e,g,P){var i=P("zsmooth");i===!1&&(P("xgap"),P("ygap")),P("zhoverformat")}},67684:function(W,H,e){var g=e(92770),P=e(71828),i=e(73972);W.exports=function(p,t,r,s,n,l){var f=r("z");n=n||"x",l=l||"y";var u,m;if(f===void 0||!f.length)return 0;if(P.isArray1D(p.z)){u=r(n),m=r(l);var c=P.minRowLength(u),w=P.minRowLength(m);if(c===0||w===0)return 0;t._length=Math.min(c,w,f.length)}else{if(u=L(n,r),m=L(l,r),!A(f))return 0;r("transpose"),t._length=null}if(p.type==="heatmapgl")return!0;var h=i.getComponentMethod("calendars","handleTraceDefaults");return h(p,t,[n,l],s),!0};function L(v,p){var t=p(v),r=t?p(v+"type","array"):"scaled";return r==="scaled"&&(p(v+"0"),p("d"+v)),t}function A(v){for(var p=!0,t=!1,r=!1,s,n=0;n<v.length;n++){if(s=v[n],!P.isArrayOrTypedArray(s)){p=!1;break}s.length>0&&(t=!0);for(var l=0;l<s.length;l++)if(g(s[l])){r=!0;break}}return p&&t&&r}},16063:function(W,H,e){for(var g=e(21606),P=e(50693),i=e(1426).extendFlat,L=e(30962).overrideAll,A=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},p=0;p<A.length;p++){var t=A[p];v[t]=g[t]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},i(v,P("",{cLetter:"z",autoColorDflt:!1})),W.exports=L(v,"calc","nested")},59560:function(W,H,e){var g=e(9330).gl_heatmap2d,P=e(89298),i=e(78614);function L(t,r){this.scene=t,this.uid=r,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=g(t.glplot,this.options),this.heatmap._trace=this}var A=L.prototype;A.handlePick=function(t){var r=this.options,s=r.shape,n=t.pointId,l=n%s[0],f=Math.floor(n/s[0]),u=n;return{trace:this,dataCoord:t.dataCoord,traceCoord:[r.x[l],r.y[f],r.z[u]],textLabel:this.textLabels[n],name:this.name,pointIndex:[f,l],hoverinfo:this.hoverinfo}},A.update=function(t,r){var s=r[0];this.index=t.index,this.name=t.name,this.hoverinfo=t.hoverinfo;var n=s.z;this.options.z=[].concat.apply([],n);var l=n[0].length,f=n.length;this.options.shape=[l,f],this.options.x=s.x,this.options.y=s.y,this.options.zsmooth=t.zsmooth;var u=v(t);this.options.colorLevels=u.colorLevels,this.options.colorValues=u.colorValues,this.textLabels=[].concat.apply([],t.text),this.heatmap.update(this.options);var m=this.scene.xaxis,c=this.scene.yaxis,w,h;t.zsmooth===!1&&(w={ppad:s.x[1]-s.x[0]},h={ppad:s.y[1]-s.y[0]}),t._extremes[m._id]=P.findExtremes(m,s.x,w),t._extremes[c._id]=P.findExtremes(c,s.y,h)},A.dispose=function(){this.heatmap.dispose()};function v(t){for(var r=t.colorscale,s=t.zmin,n=t.zmax,l=r.length,f=new Array(l),u=new Array(4*l),m=0;m<l;m++){var c=r[m],w=i(c[1]);f[m]=s+c[0]*(n-s);for(var h=0;h<4;h++)u[4*m+h]=w[h]}return{colorLevels:f,colorValues:u}}function p(t,r,s){var n=new L(t,r.uid);return n.update(r,s),n}W.exports=p},19600:function(W,H,e){var g=e(71828),P=e(67684),i=e(1586),L=e(16063);W.exports=function(v,p,t,r){function s(l,f){return g.coerce(v,p,L,l,f)}var n=P(v,p,s,r);if(!n){p.visible=!1;return}s("text"),s("zsmooth"),i(v,p,r,s,{prefix:"",cLetter:"z"})}},3325:function(W,H,e){W.exports={attributes:e(16063),supplyDefaults:e(19600),colorbar:e(61243),calc:e(90757),plot:e(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:e(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(W,H,e){var g=e(1486),P=e(12663).axisHoverFormat,i=e(5386).fF,L=e(5386).si,A=e(41940),v=e(17656),p=e(72406),t=e(1426).extendFlat;W.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:P("x"),yhoverformat:P("y"),text:t({},g.text,{}),hovertext:t({},g.hovertext,{}),orientation:g.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:i({},{keys:p.eventDataKeys}),texttemplate:L({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:t({},g.textposition,{arrayOk:!1}),textfont:A({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:A({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:A({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:g.insidetextanchor,textangle:g.textangle,cliponaxis:g.cliponaxis,constraintext:g.constraintext,marker:g.marker,offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:g.selected,unselected:g.unselected,_deprecated:{bardir:g._deprecated.bardir}}},42174:function(W){W.exports=function(e,g){for(var P=e.length,i=0,L=0;L<P;L++)g[L]?(e[L]/=g[L],i+=e[L]):e[L]=null;return i}},17656:function(W){W.exports=function(e,g){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(W,H,e){var g=e(92770);W.exports={count:function(P,i,L){return L[P]++,1},sum:function(P,i,L,A){var v=A[i];return g(v)?(v=Number(v),L[P]+=v,v):0},avg:function(P,i,L,A,v){var p=A[i];return g(p)&&(p=Number(p),L[P]+=p,v[P]++),0},min:function(P,i,L,A){var v=A[i];if(g(v))if(v=Number(v),g(L[P])){if(L[P]>v){var p=v-L[P];return L[P]=v,p}}else return L[P]=v,v;return 0},max:function(P,i,L,A){var v=A[i];if(g(v))if(v=Number(v),g(L[P])){if(L[P]<v){var p=v-L[P];return L[P]=v,p}}else return L[P]=v,v;return 0}}},40965:function(W,H,e){var g=e(50606),P=g.ONEAVGYEAR,i=g.ONEAVGMONTH,L=g.ONEDAY,A=g.ONEHOUR,v=g.ONEMIN,p=g.ONESEC,t=e(89298).tickIncrement;W.exports=function(u,m,c,w,h){var o=-1.1*m,d=-.1*m,M=u-d,T=c[0],E=c[1],x=Math.min(r(T+d,T+M,w,h),r(E+d,E+M,w,h)),S=Math.min(r(T+o,T+d,w,h),r(E+o,E+d,w,h)),b,a;if(x>S&&S<Math.abs(E-T)/4e3?(b=x,a=!1):(b=Math.min(x,S),a=!0),w.type==="date"&&b>L){var C=b===P?1:6,y=b===P?"M12":"M1";return function(z,I){var B=w.c2d(z,P,h),F=B.indexOf("-",C);F>0&&(B=B.substr(0,F));var O=w.d2c(B,0,h);if(O<z){var N=t(O,y,!1,h);(O+N)/2<z+u&&(O=N)}return I&&a?t(O,y,!0,h):O}}return function(z,I){var B=b*Math.round(z/b);return B+b/10<z&&B+b*.9<z+u&&(B+=b),I&&a&&(B-=b),B}};function r(f,u,m,c){if(f*u<=0)return 1/0;for(var w=Math.abs(u-f),h=m.type==="date",o=s(w,h),d=0;d<10;d++){var M=s(o*80,h);if(o===M)break;if(n(M,f,u,h,m,c))o=M;else break}return o}function s(f,u){return u&&f>p?f>L?f>P*1.1?P:f>i*1.1?i:L:f>A?A:f>v?v:p:Math.pow(10,Math.floor(Math.log(f)/Math.LN10))}function n(f,u,m,c,w,h){if(c&&f>L){var o=l(u,w,h),d=l(m,w,h),M=f===P?0:1;return o[M]!==d[M]}return Math.floor(m/f)-Math.floor(u/f)>.1}function l(f,u,m){var c=u.c2d(f,P,m).split("-");return c[0]===""&&(c.unshift(),c[0]="-"+c[0]),c}},72138:function(W,H,e){var g=e(92770),P=e(71828),i=e(73972),L=e(89298),A=e(75341),v=e(59575),p=e(36362),t=e(42174),r=e(40965);function s(m,c){var w=[],h=[],o=c.orientation==="h",d=L.getFromId(m,o?c.yaxis:c.xaxis),M=o?"y":"x",T={x:"y",y:"x"}[M],E=c[M+"calendar"],x=c.cumulative,S,b=n(m,c,d,M),a=b[0],C=b[1],y=typeof a.size=="string",z=[],I=y?z:a,B=[],F=[],O=[],N=0,_=c.histnorm,U=c.histfunc,Y=_.indexOf("density")!==-1,K,re,ae;x.enabled&&Y&&(_=_.replace(/ ?density$/,""),Y=!1);var fe=U==="max"||U==="min",Q=fe?null:0,j=v.count,X=p[_],J=!1,ee=function(Ge){return d.r2c(Ge,0,E)},se;for(P.isArrayOrTypedArray(c[T])&&U!=="count"&&(se=c[T],J=U==="avg",j=v[U]),S=ee(a.start),re=ee(a.end)+(S-L.tickIncrement(S,a.size,!1,E))/1e6;S<re&&w.length<1e6&&(K=L.tickIncrement(S,a.size,!1,E),w.push((S+K)/2),h.push(Q),O.push([]),z.push(S),Y&&B.push(1/(K-S)),J&&F.push(0),!(K<=S));)S=K;z.push(S),!y&&d.type==="date"&&(I={start:ee(I.start),end:ee(I.end),size:I.size}),m._fullLayout._roundFnOpts||(m._fullLayout._roundFnOpts={});var q=c["_"+M+"bingroup"],$={leftGap:1/0,rightGap:1/0};q&&(m._fullLayout._roundFnOpts[q]||(m._fullLayout._roundFnOpts[q]=$),$=m._fullLayout._roundFnOpts[q]);var le=h.length,ie=!0,ce=$.leftGap,me=$.rightGap,Me={};for(S=0;S<C.length;S++){var we=C[S];ae=P.findBin(we,I),ae>=0&&ae<le&&(N+=j(ae,S,h,se,F),ie&&O[ae].length&&we!==C[O[ae][0]]&&(ie=!1),O[ae].push(S),Me[S]=ae,ce=Math.min(ce,we-z[ae]),me=Math.min(me,z[ae+1]-we))}$.leftGap=ce,$.rightGap=me;var Oe;ie||(Oe=function(Ge,ke){return function(){var We=m._fullLayout._roundFnOpts[q];return r(We.leftGap,We.rightGap,z,d,E)(Ge,ke)}}),J&&(N=t(h,F)),X&&X(h,N,B),x.enabled&&u(h,x.direction,x.currentbin);var Be=Math.min(w.length,h.length),Ce=[],xe=0,Se=Be-1;for(S=0;S<Be;S++)if(h[S]){xe=S;break}for(S=Be-1;S>=xe;S--)if(h[S]){Se=S;break}for(S=xe;S<=Se;S++)if(g(w[S])&&g(h[S])){var He={p:w[S],s:h[S],b:0};x.enabled||(He.pts=O[S],ie?He.ph0=He.ph1=O[S].length?C[O[S][0]]:w[S]:(c._computePh=!0,He.ph0=Oe(z[S]),He.ph1=Oe(z[S+1],!0))),Ce.push(He)}return Ce.length===1&&(Ce[0].width1=L.tickIncrement(Ce[0].p,a.size,!1,E)-Ce[0].p),A(Ce,c),P.isArrayOrTypedArray(c.selectedpoints)&&P.tagSelected(Ce,c,Me),Ce}function n(m,c,w,h,o){var d=h+"bins",M=m._fullLayout,T=c["_"+h+"bingroup"],E=M._histogramBinOpts[T],x=M.barmode==="overlay",S,b,a,C,y,z,I,B=function(we){return w.r2c(we,0,C)},F=function(we){return w.c2r(we,0,C)},O=w.type==="date"?function(we){return we||we===0?P.cleanDate(we,null,C):null}:function(we){return g(we)?Number(we):null};function N(we,Oe,Be){Oe[we+"Found"]?(Oe[we]=O(Oe[we]),Oe[we]===null&&(Oe[we]=Be[we])):(z[we]=Oe[we]=Be[we],P.nestedProperty(b[0],d+"."+we).set(Be[we]))}if(c["_"+h+"autoBinFinished"])delete c["_"+h+"autoBinFinished"];else{b=E.traces;var _=[],U=!0,Y=!1,K=!1;for(S=0;S<b.length;S++)if(a=b[S],a.visible){var re=E.dirs[S];y=a["_"+re+"pos0"]=w.makeCalcdata(a,re),_=P.concat(_,y),delete a["_"+h+"autoBinFinished"],c.visible===!0&&(U?U=!1:(delete a._autoBin,a["_"+h+"autoBinFinished"]=1),i.traceIs(a,"2dMap")&&(Y=!0),a.type==="histogram2dcontour"&&(K=!0))}C=b[0][h+"calendar"];var ae=L.autoBin(_,w,E.nbins,Y,C,E.sizeFound&&E.size),fe=b[0]._autoBin={};if(z=fe[E.dirs[0]]={},K&&(E.size||(ae.start=F(L.tickIncrement(B(ae.start),ae.size,!0,C))),E.end===void 0&&(ae.end=F(L.tickIncrement(B(ae.end),ae.size,!1,C)))),x&&!i.traceIs(c,"2dMap")&&ae._dataSpan===0&&w.type!=="category"&&w.type!=="multicategory"&&c.bingroup===""&&typeof c.xbins>"u"){if(o)return[ae,y,!0];ae=l(m,c,w,h,d)}I=a.cumulative||{},I.enabled&&I.currentbin!=="include"&&(I.direction==="decreasing"?ae.start=F(L.tickIncrement(B(ae.start),ae.size,!0,C)):ae.end=F(L.tickIncrement(B(ae.end),ae.size,!1,C))),E.size=ae.size,E.sizeFound||(z.size=ae.size,P.nestedProperty(b[0],d+".size").set(ae.size)),N("start",E,ae),N("end",E,ae)}y=c["_"+h+"pos0"],delete c["_"+h+"pos0"];var Q=c._input[d]||{},j=P.extendFlat({},E),X=E.start,J=w.r2l(Q.start),ee=J!==void 0;if((E.startFound||ee)&&J!==w.r2l(X)){var se=ee?J:P.aggNums(Math.min,null,y),q={type:w.type==="category"||w.type==="multicategory"?"linear":w.type,r2l:w.r2l,dtick:E.size,tick0:X,calendar:C,range:[se,L.tickIncrement(se,E.size,!1,C)].map(w.l2r)},$=L.tickFirst(q);$>w.r2l(se)&&($=L.tickIncrement($,E.size,!0,C)),j.start=w.l2r($),ee||P.nestedProperty(c,d+".start").set(j.start)}var le=E.end,ie=w.r2l(Q.end),ce=ie!==void 0;if((E.endFound||ce)&&ie!==w.r2l(le)){var me=ce?ie:P.aggNums(Math.max,null,y);j.end=w.l2r(me),ce||P.nestedProperty(c,d+".start").set(j.end)}var Me="autobin"+h;return c._input[Me]===!1&&(c._input[d]=P.extendFlat({},c[d]||{}),delete c._input[Me],delete c[Me]),[j,y]}function l(m,c,w,h,o){var d=m._fullLayout,M=f(m,c),T=!1,E=1/0,x=[c],S,b,a;for(S=0;S<M.length;S++)if(b=M[S],b===c)T=!0;else if(!T)a=d._histogramBinOpts[b["_"+h+"bingroup"]],E=Math.min(E,a.size||b[o].size);else{var C=n(m,b,w,h,!0),y=C[0],z=C[2];b["_"+h+"autoBinFinished"]=1,b["_"+h+"pos0"]=C[1],z?x.push(b):E=Math.min(E,y.size)}var I=new Array(x.length);for(S=0;S<x.length;S++)for(var B=x[S]["_"+h+"pos0"],F=0;F<B.length;F++)if(B[F]!==void 0){I[S]=B[F];break}for(isFinite(E)||(E=P.distinctVals(I).minDiff),S=0;S<x.length;S++){b=x[S];var O=b[h+"calendar"],N={start:w.c2r(I[S]-E/2,0,O),end:w.c2r(I[S]+E/2,0,O),size:E};b._input[o]=b[o]=N,a=d._histogramBinOpts[b["_"+h+"bingroup"]],a&&P.extendFlat(a,N)}return c[o]}function f(m,c){for(var w=c.xaxis,h=c.yaxis,o=c.orientation,d=[],M=m._fullData,T=0;T<M.length;T++){var E=M[T];E.type==="histogram"&&E.visible===!0&&E.orientation===o&&E.xaxis===w&&E.yaxis===h&&d.push(E)}return d}function u(m,c,w){var h,o,d;function M(E){d=m[E],m[E]/=2}function T(E){o=m[E],m[E]=d+o/2,d+=o}if(w==="half")if(c==="increasing")for(M(0),h=1;h<m.length;h++)T(h);else for(M(m.length-1),h=m.length-2;h>=0;h--)T(h);else if(c==="increasing"){for(h=1;h<m.length;h++)m[h]+=m[h-1];w==="exclude"&&(m.unshift(0),m.pop())}else{for(h=m.length-2;h>=0;h--)m[h]+=m[h+1];w==="exclude"&&(m.push(0),m.shift())}}W.exports={calc:s,calcAllAutoBins:n}},72406:function(W){W.exports={eventDataKeys:["binNumber"]}},82222:function(W,H,e){var g=e(71828),P=e(41675),i=e(73972).traceIs,L=e(26125),A=g.nestedProperty,v=e(99082).getAxisGroup,p=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];W.exports=function(s,n){var l=n._histogramBinOpts={},f=[],u={},m=[],c,w,h,o,d,M,T;function E(K,re){return g.coerce(c._input,c,c._module.attributes,K,re)}function x(K){return K.orientation==="v"?"x":"y"}function S(K,re){var ae=P.getFromTrace({_fullLayout:n},K,re);return ae.type}function b(K,re,ae){var fe=K.uid+"__"+ae;re||(re=fe);var Q=S(K,ae),j=K[ae+"calendar"]||"",X=l[re],J=!0;X&&(Q===X.axType&&j===X.calendar?(J=!1,X.traces.push(K),X.dirs.push(ae)):(re=fe,Q!==X.axType&&g.warn(["Attempted to group the bins of trace",K.index,"set on a","type:"+Q,"axis","with bins on","type:"+X.axType,"axis."].join(" ")),j!==X.calendar&&g.warn(["Attempted to group the bins of trace",K.index,"set with a",j,"calendar","with bins",X.calendar?"on a "+X.calendar+" calendar":"w/o a set calendar"].join(" ")))),J&&(l[re]={traces:[K],dirs:[ae],axType:Q,calendar:K[ae+"calendar"]||""}),K["_"+ae+"bingroup"]=re}for(d=0;d<s.length;d++)c=s[d],i(c,"histogram")&&(f.push(c),delete c._xautoBinFinished,delete c._yautoBinFinished,i(c,"2dMap")||L(c._input,c,n,E));var a=n._alignmentOpts||{};for(d=0;d<f.length;d++){if(c=f[d],h="",!i(c,"2dMap")){if(o=x(c),n.barmode==="group"&&c.alignmentgroup){var C=c[o+"axis"],y=v(n,C)+c.orientation;(a[y]||{})[c.alignmentgroup]&&(h=y)}!h&&n.barmode!=="overlay"&&(h=v(n,c.xaxis)+v(n,c.yaxis)+x(c))}h?(u[h]||(u[h]=[]),u[h].push(c)):m.push(c)}for(h in u){if(w=u[h],w.length===1){m.push(w[0]);continue}var z=!1;for(w.length&&(c=w[0],z=E("bingroup")),h=z||h,d=0;d<w.length;d++){c=w[d];var I=c._input.bingroup;I&&I!==h&&g.warn(["Trace",c.index,"must match","within bingroup",h+".","Ignoring its bingroup:",I,"setting."].join(" ")),c.bingroup=h,b(c,h,x(c))}}for(d=0;d<m.length;d++){c=m[d];var B=E("bingroup");if(i(c,"2dMap"))for(T=0;T<2;T++){o=t[T];var F=E(o+"bingroup",B?B+"__"+o:null);b(c,F,o)}else b(c,B,x(c))}for(h in l){var O=l[h];for(w=O.traces,M=0;M<p.length;M++){var N=p[M],_=N.name,U,Y;if(!(_==="nbins"&&O.sizeFound)){for(d=0;d<w.length;d++){if(c=w[d],o=O.dirs[d],U=N.aStr[o],A(c._input,U).get()!==void 0){O[_]=E(U),O[_+"Found"]=!0;break}Y=(c._autoBin||{})[o]||{},Y[_]&&A(c,U).set(Y[_])}if(_==="start"||_==="end")for(;d<w.length;d++)c=w[d],c["_"+o+"bingroup"]&&(Y=(c._autoBin||{})[o]||{},E(U,Y[_]));_==="nbins"&&!O.sizeFound&&!O.nbinsFound&&(c=w[0],O[_]=E(U))}}}}},11385:function(W,H,e){var g=e(73972),P=e(71828),i=e(7901),L=e(90769).handleText,A=e(98340),v=e(7745);W.exports=function(t,r,s,n){function l(S,b){return P.coerce(t,r,v,S,b)}var f=l("x"),u=l("y"),m=l("cumulative.enabled");m&&(l("cumulative.direction"),l("cumulative.currentbin")),l("text");var c=l("textposition");L(t,r,n,l,c,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat");var w=l("orientation",u&&!f?"h":"v"),h=w==="v"?"x":"y",o=w==="v"?"y":"x",d=f&&u?Math.min(P.minRowLength(f)&&P.minRowLength(u)):P.minRowLength(r[h]||[]);if(!d){r.visible=!1;return}r._length=d;var M=g.getComponentMethod("calendars","handleTraceDefaults");M(t,r,["x","y"],n);var T=r[o];T&&l("histfunc"),l("histnorm"),l("autobin"+h),A(t,r,l,s,n),P.coerceSelectionMarkerOpacity(r,l);var E=(r.marker.line||{}).color,x=g.getComponentMethod("errorbars","supplyDefaults");x(t,r,E||i.defaultLine,{axis:"y"}),x(t,r,E||i.defaultLine,{axis:"x",inherit:"y"})}},84402:function(W){W.exports=function(e,g,P,i,L){if(e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"zLabelVal"in g&&(e.z=g.zLabelVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),!(P.cumulative||{}).enabled){var A=Array.isArray(L)?i[0].pts[L[0]][L[1]]:i[L].pts;e.pointNumbers=A,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var v;if(P._indexToPoints){v=[];for(var p=0;p<A.length;p++)v=v.concat(P._indexToPoints[A[p]])}else v=A;e.pointIndices=v}return e}},76440:function(W,H,e){var g=e(95423).hoverPoints,P=e(89298).hoverLabelText;W.exports=function(L,A,v,p,t){var r=g(L,A,v,p,t);if(r){L=r[0];var s=L.cd[L.index],n=L.cd[0].trace;if(!n.cumulative.enabled){var l=n.orientation==="h"?"y":"x";L[l+"Label"]=P(L[l+"a"],[s.ph0,s.ph1],n[l+"hoverformat"])}return r}}},36071:function(W,H,e){W.exports={attributes:e(7745),layoutAttributes:e(43641),supplyDefaults:e(11385),crossTraceDefaults:e(82222),supplyLayoutDefaults:e(13957),calc:e(72138).calc,crossTraceCalc:e(11661).crossTraceCalc,plot:e(17295).plot,layerName:"barlayer",style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,colorbar:e(4898),hoverPoints:e(76440),selectPoints:e(81974),eventData:e(84402),moduleType:"trace",name:"histogram",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(W){W.exports={percent:function(H,e){for(var g=H.length,P=100/e,i=0;i<g;i++)H[i]*=P},probability:function(H,e){for(var g=H.length,P=0;P<g;P++)H[P]/=e},density:function(H,e,g,P){var i=H.length;P=P||1;for(var L=0;L<i;L++)H[L]*=g[L]*P},"probability density":function(H,e,g,P){var i=H.length;P&&(e/=P);for(var L=0;L<i;L++)H[L]*=g[L]/e}}},35361:function(W,H,e){var g=e(7745),P=e(17656),i=e(21606),L=e(9012),A=e(12663).axisHoverFormat,v=e(5386).fF,p=e(5386).si,t=e(50693),r=e(1426).extendFlat;W.exports=r({x:g.x,y:g.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:g.histnorm,histfunc:g.histfunc,nbinsx:g.nbinsx,xbins:P("x"),nbinsy:g.nbinsy,ybins:P("y"),autobinx:g.autobinx,autobiny:g.autobiny,bingroup:r({},g.bingroup,{}),xbingroup:r({},g.bingroup,{}),ybingroup:r({},g.bingroup,{}),xgap:i.xgap,ygap:i.ygap,zsmooth:i.zsmooth,xhoverformat:A("x"),yhoverformat:A("y"),zhoverformat:A("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:p({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:i.textfont,showlegend:r({},L.showlegend,{dflt:!1})},t("",{cLetter:"z",autoColorDflt:!1}))},17562:function(W,H,e){var g=e(71828),P=e(89298),i=e(59575),L=e(36362),A=e(42174),v=e(40965),p=e(72138).calcAllAutoBins;W.exports=function(l,f){var u=P.getFromId(l,f.xaxis),m=P.getFromId(l,f.yaxis),c=f.xcalendar,w=f.ycalendar,h=function(ze){return u.r2c(ze,0,c)},o=function(ze){return m.r2c(ze,0,w)},d=function(ze){return u.c2r(ze,0,c)},M=function(ze){return m.c2r(ze,0,w)},T,E,x,S,b=p(l,f,u,"x"),a=b[0],C=b[1],y=p(l,f,m,"y"),z=y[0],I=y[1],B=f._length;C.length>B&&C.splice(B,C.length-B),I.length>B&&I.splice(B,I.length-B);var F=[],O=[],N=[],_=typeof a.size=="string",U=typeof z.size=="string",Y=[],K=[],re=_?Y:a,ae=U?K:z,fe=0,Q=[],j=[],X=f.histnorm,J=f.histfunc,ee=X.indexOf("density")!==-1,se=J==="max"||J==="min",q=se?null:0,$=i.count,le=L[X],ie=!1,ce=[],me=[],Me="z"in f?f.z:"marker"in f&&Array.isArray(f.marker.color)?f.marker.color:"";Me&&J!=="count"&&(ie=J==="avg",$=i[J]);var we=a.size,Oe=h(a.start),Be=h(a.end)+(Oe-P.tickIncrement(Oe,we,!1,c))/1e6;for(T=Oe;T<Be;T=P.tickIncrement(T,we,!1,c))O.push(q),Y.push(T),ie&&N.push(0);Y.push(T);var Ce=O.length,xe=(T-Oe)/Ce,Se=d(Oe+xe/2),He=z.size,Ge=o(z.start),ke=o(z.end)+(Ge-P.tickIncrement(Ge,He,!1,w))/1e6;for(T=Ge;T<ke;T=P.tickIncrement(T,He,!1,w)){F.push(O.slice()),K.push(T);var We=new Array(Ce);for(E=0;E<Ce;E++)We[E]=[];j.push(We),ie&&Q.push(N.slice())}K.push(T);var it=F.length,et=(T-Ge)/it,tt=M(Ge+et/2);ee&&(ce=t(O.length,re,xe,_),me=t(F.length,ae,et,U)),!_&&u.type==="date"&&(re=r(h,re)),!U&&m.type==="date"&&(ae=r(o,ae));var at=!0,ht=!0,yt=new Array(Ce),gt=new Array(it),Et=1/0,Ct=1/0,Vt=1/0,Qe=1/0;for(T=0;T<B;T++){var Fe=C[T],Ie=I[T];x=g.findBin(Fe,re),S=g.findBin(Ie,ae),x>=0&&x<Ce&&S>=0&&S<it&&(fe+=$(x,T,F[S],Me,Q[S]),j[S][x].push(T),at&&(yt[x]===void 0?yt[x]=Fe:yt[x]!==Fe&&(at=!1)),ht&&(gt[S]===void 0?gt[S]=Ie:gt[S]!==Ie&&(ht=!1)),Et=Math.min(Et,Fe-Y[x]),Ct=Math.min(Ct,Y[x+1]-Fe),Vt=Math.min(Vt,Ie-K[S]),Qe=Math.min(Qe,K[S+1]-Ie))}if(ie)for(S=0;S<it;S++)fe+=A(F[S],Q[S]);if(le)for(S=0;S<it;S++)le(F[S],fe,ce,me[S]);return{x:C,xRanges:s(Y,at&&yt,Et,Ct,u,c),x0:Se,dx:xe,y:I,yRanges:s(K,ht&&gt,Vt,Qe,m,w),y0:tt,dy:et,z:F,pts:j}};function t(n,l,f,u){var m=new Array(n),c;if(u)for(c=0;c<n;c++)m[c]=1/(l[c+1]-l[c]);else{var w=1/f;for(c=0;c<n;c++)m[c]=w}return m}function r(n,l){return{start:n(l.start),end:n(l.end),size:l.size}}function s(n,l,f,u,m,c){var w,h=n.length-1,o=new Array(h),d=v(f,u,n,m,c);for(w=0;w<h;w++){var M=(l||[])[w];o[w]=M===void 0?[d(n[w]),d(n[w+1],!0)]:[M,M]}return o}},93888:function(W,H,e){var g=e(71828),P=e(75238),i=e(49901),L=e(1586),A=e(58623),v=e(35361);W.exports=function(t,r,s,n){function l(f,u){return g.coerce(t,r,v,f,u)}P(t,r,l,n),r.visible!==!1&&(i(t,r,l,n),L(t,r,n,l,{prefix:"",cLetter:"z"}),l("hovertemplate"),A(l,n),l("xhoverformat"),l("yhoverformat"))}},76128:function(W,H,e){var g=e(46248),P=e(89298).hoverLabelText;W.exports=function(L,A,v,p,t){var r=g(L,A,v,p,t);if(r){L=r[0];var s=L.index,n=s[0],l=s[1],f=L.cd[0],u=f.trace,m=f.xRanges[l],c=f.yRanges[n];return L.xLabel=P(L.xa,[m[0],m[1]],u.xhoverformat),L.yLabel=P(L.ya,[c[0],c[1]],u.yhoverformat),r}}},43905:function(W,H,e){W.exports={attributes:e(35361),supplyDefaults:e(93888),crossTraceDefaults:e(82222),calc:e(90757),plot:e(50347),layerName:"heatmaplayer",colorbar:e(61243),style:e(70035),hoverPoints:e(76128),eventData:e(84402),moduleType:"trace",name:"histogram2d",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(W,H,e){var g=e(73972),P=e(71828);W.exports=function(L,A,v,p){var t=v("x"),r=v("y"),s=P.minRowLength(t),n=P.minRowLength(r);if(!s||!n){A.visible=!1;return}A._length=Math.min(s,n);var l=g.getComponentMethod("calendars","handleTraceDefaults");l(L,A,["x","y"],p);var f=v("z")||v("marker.color");f&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")}},99066:function(W,H,e){var g=e(35361),P=e(70600),i=e(50693),L=e(12663).axisHoverFormat,A=e(1426).extendFlat;W.exports=A({x:g.x,y:g.y,z:g.z,marker:g.marker,histnorm:g.histnorm,histfunc:g.histfunc,nbinsx:g.nbinsx,xbins:g.xbins,nbinsy:g.nbinsy,ybins:g.ybins,autobinx:g.autobinx,autobiny:g.autobiny,bingroup:g.bingroup,xbingroup:g.xbingroup,ybingroup:g.ybingroup,autocontour:P.autocontour,ncontours:P.ncontours,contours:P.contours,line:{color:P.line.color,width:A({},P.line.width,{dflt:.5}),dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:g.hovertemplate,texttemplate:P.texttemplate,textfont:P.textfont},i("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(W,H,e){var g=e(71828),P=e(75238),i=e(67217),L=e(8724),A=e(58623),v=e(99066);W.exports=function(t,r,s,n){function l(u,m){return g.coerce(t,r,v,u,m)}function f(u){return g.coerce2(t,r,v,u)}P(t,r,l,n),r.visible!==!1&&(i(t,r,l,f),L(t,r,l,n),l("xhoverformat"),l("yhoverformat"),l("hovertemplate"),r.contours&&r.contours.coloring==="heatmap"&&A(l,n))}},35902:function(W,H,e){W.exports={attributes:e(99066),supplyDefaults:e(62654),crossTraceDefaults:e(82222),calc:e(27529),plot:e(29854).plot,layerName:"contourlayer",style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(W,H,e){var g=e(5386).fF,P=e(5386).si,i=e(50693),L=e(27670).Y,A=e(34e3),v=e(57564),p=e(45802),t=e(43473),r=e(1426).extendFlat,s=e(79952).u;W.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:p.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:r({colors:v.marker.colors,line:v.marker.line,pattern:s,editType:"calc"},i("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:p.pathbar,text:A.text,textinfo:v.textinfo,texttemplate:P({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),hovertext:A.hovertext,hoverinfo:v.hoverinfo,hovertemplate:g({},{keys:t.eventDataKeys}),textfont:A.textfont,insidetextfont:A.insidetextfont,outsidetextfont:p.outsidetextfont,textposition:p.textposition,sort:A.sort,root:v.root,domain:L({name:"icicle",trace:!0,editType:"calc"})}},96346:function(W,H,e){var g=e(74875);H.name="icicle",H.plot=function(P,i,L,A){g.plotBasePlot(H.name,P,i,L,A)},H.clean=function(P,i,L,A){g.cleanBasePlot(H.name,P,i,L,A)}},46584:function(W,H,e){var g=e(52147);H.y=function(P,i){return g.calc(P,i)},H.T=function(P){return g._runCrossTraceCalc("icicle",P)}},56524:function(W,H,e){var g=e(71828),P=e(46291),i=e(7901),L=e(27670).c,A=e(90769).handleText,v=e(97313).TEXTPAD,p=e(37434).handleMarkerDefaults,t=e(21081),r=t.hasColorscale,s=t.handleDefaults;W.exports=function(l,f,u,m){function c(x,S){return g.coerce(l,f,P,x,S)}var w=c("labels"),h=c("parents");if(!w||!w.length||!h||!h.length){f.visible=!1;return}var o=c("values");o&&o.length?c("branchvalues"):c("count"),c("level"),c("maxdepth"),c("tiling.orientation"),c("tiling.flip"),c("tiling.pad");var d=c("text");c("texttemplate"),f.texttemplate||c("textinfo",Array.isArray(d)?"text+label":"label"),c("hovertext"),c("hovertemplate");var M=c("pathbar.visible"),T="auto";A(l,f,m,c,T,{hasPathbar:M,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),c("textposition"),p(l,f,m,c);var E=f._hasColorscale=r(l,"marker","colors")||(l.marker||{}).coloraxis;E&&s(l,f,m,c,{prefix:"marker.",cLetter:"c"}),c("leaf.opacity",E?1:.7),f._hovered={marker:{line:{width:2,color:i.contrast(m.paper_bgcolor)}}},M&&(c("pathbar.thickness",f.pathbar.textfont.size+2*v),c("pathbar.side"),c("pathbar.edgeshape")),c("sort"),c("root.color"),L(f,m,c),f._length=null}},90666:function(W,H,e){var g=e(39898),P=e(71828),i=e(91424),L=e(63893),A=e(21538),v=e(82454).styleOne,p=e(43473),t=e(2791),r=e(83523),s=e(24714).formatSliceLabel,n=!1;W.exports=function(f,u,m,c,w){var h=w.width,o=w.height,d=w.viewX,M=w.viewY,T=w.pathSlice,E=w.toMoveInsideSlice,x=w.strTransform,S=w.hasTransition,b=w.handleSlicesExit,a=w.makeUpdateSliceInterpolator,C=w.makeUpdateTextInterpolator,y=w.prevEntry,z={},I=f._context.staticPlot,B=f._fullLayout,F=u[0],O=F.trace,N=O.textposition.indexOf("left")!==-1,_=O.textposition.indexOf("right")!==-1,U=O.textposition.indexOf("bottom")!==-1,Y=A(m,[h,o],{flipX:O.tiling.flip.indexOf("x")>-1,flipY:O.tiling.flip.indexOf("y")>-1,orientation:O.tiling.orientation,pad:{inner:O.tiling.pad},maxDepth:O._maxDepth}),K=Y.descendants(),re=1/0,ae=-1/0;K.forEach(function(J){var ee=J.depth;ee>=O._maxDepth?(J.x0=J.x1=(J.x0+J.x1)/2,J.y0=J.y1=(J.y0+J.y1)/2):(re=Math.min(re,ee),ae=Math.max(ae,ee))}),c=c.data(K,t.getPtId),O._maxVisibleLayers=isFinite(ae)?ae-re+1:0,c.enter().append("g").classed("slice",!0),b(c,n,z,[h,o],T),c.order();var fe=null;if(S&&y){var Q=t.getPtId(y);c.each(function(J){fe===null&&t.getPtId(J)===Q&&(fe={x0:J.x0,x1:J.x1,y0:J.y0,y1:J.y1})})}var j=function(){return fe||{x0:0,x1:h,y0:0,y1:o}},X=c;return S&&(X=X.transition().each("end",function(){var J=g.select(this);t.setSliceCursor(J,f,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),X.each(function(J){J._x0=d(J.x0),J._x1=d(J.x1),J._y0=M(J.y0),J._y1=M(J.y1),J._hoverX=d(J.x1-O.tiling.pad),J._hoverY=M(U?J.y1-O.tiling.pad/2:J.y0+O.tiling.pad/2);var ee=g.select(this),se=P.ensureSingle(ee,"path","surface",function(ie){ie.style("pointer-events",I?"none":"all")});S?se.transition().attrTween("d",function(ie){var ce=a(ie,n,j(),[h,o],{orientation:O.tiling.orientation,flipX:O.tiling.flip.indexOf("x")>-1,flipY:O.tiling.flip.indexOf("y")>-1});return function(me){return T(ce(me))}}):se.attr("d",T),ee.call(r,m,f,u,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,f,{isTransitioning:f._transitioning}),se.call(v,J,O,f,{hovered:!1}),J.x0===J.x1||J.y0===J.y1?J._text="":J._text=s(J,m,O,u,B)||"";var q=P.ensureSingle(ee,"g","slicetext"),$=P.ensureSingle(q,"text","",function(ie){ie.attr("data-notex",1)}),le=P.ensureUniformFontSize(f,t.determineTextFont(O,J,B.font));$.text(J._text||" ").classed("slicetext",!0).attr("text-anchor",_?"end":N?"start":"middle").call(i.font,le).call(L.convertToTspans,f),J.textBB=i.bBox($.node()),J.transform=E(J,{fontSize:le.size}),J.transform.fontSize=le.size,S?$.transition().attrTween("transform",function(ie){var ce=C(ie,n,j(),[h,o]);return function(me){return x(ce(me))}}):$.attr("transform",x(J))}),fe}},69816:function(W,H,e){W.exports={moduleType:"trace",name:"icicle",basePlotModule:e(96346),categories:[],animatable:!0,attributes:e(46291),layoutAttributes:e(92894),supplyDefaults:e(56524),supplyLayoutDefaults:e(21070),calc:e(46584).y,crossTraceCalc:e(46584).T,plot:e(85596),style:e(82454).style,colorbar:e(4898),meta:{}}},92894:function(W){W.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(W,H,e){var g=e(71828),P=e(92894);W.exports=function(L,A){function v(p,t){return g.coerce(L,A,P,p,t)}v("iciclecolorway",A.colorway),v("extendiciclecolors")}},21538:function(W,H,e){var g=e(674),P=e(14102);W.exports=function(L,A,v){var p=v.flipX,t=v.flipY,r=v.orientation==="h",s=v.maxDepth,n=A[0],l=A[1];s&&(n=(L.height+1)*A[0]/Math.min(L.height+1,s),l=(L.height+1)*A[1]/Math.min(L.height+1,s));var f=g.partition().padding(v.pad.inner).size(r?[A[1],n]:[A[0],l])(L);return(r||p||t)&&P(f,A,{swapXY:r,flipX:p,flipY:t}),f}},85596:function(W,H,e){var g=e(80694),P=e(90666);W.exports=function(L,A,v,p){return g(L,A,v,p,{type:"icicle",drawDescendants:P})}},82454:function(W,H,e){var g=e(39898),P=e(7901),i=e(71828),L=e(72597).resizeText,A=e(43467);function v(t){var r=t._fullLayout._iciclelayer.selectAll(".trace");L(t,r,"icicle"),r.each(function(s){var n=g.select(this),l=s[0],f=l.trace;n.style("opacity",f.opacity),n.selectAll("path.surface").each(function(u){g.select(this).call(p,u,f,t)})})}function p(t,r,s,n){var l=r.data.data,f=!r.children,u=l.i,m=i.castOption(s,u,"marker.line.color")||P.defaultLine,c=i.castOption(s,u,"marker.line.width")||0;t.call(A,r,s,n).style("stroke-width",c).call(P.stroke,m).style("opacity",f?s.leaf.opacity:null)}W.exports={style:v,styleOne:p}},17230:function(W,H,e){for(var g=e(9012),P=e(5386).fF,i=e(1426).extendFlat,L=e(51877).colormodel,A=["rgb","rgba","rgba256","hsl","hsla"],v=[],p=[],t=0;t<A.length;t++){var r=L[A[t]];v.push("For the `"+A[t]+"` colormodel, it is ["+(r.zminDflt||r.min).join(", ")+"]."),p.push("For the `"+A[t]+"` colormodel, it is ["+(r.zmaxDflt||r.max).join(", ")+"].")}W.exports=i({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:A,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:i({},g.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:P({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(W,H,e){var g=e(71828),P=e(51877),i=e(92770),L=e(89298),A=e(71828).maxRowLength,v=e(67395).A;W.exports=function(n,l){var f,u;if(l._hasZ)f=l.z.length,u=A(l.z);else if(l._hasSource){var m=v(l.source);f=m.height,u=m.width}var c=L.getFromId(n,l.xaxis||"x"),w=L.getFromId(n,l.yaxis||"y"),h=c.d2c(l.x0)-l.dx/2,o=w.d2c(l.y0)-l.dy/2,d,M=[h,h+u*l.dx],T=[o,o+f*l.dy];if(c&&c.type==="log")for(d=0;d<u;d++)M.push(h+d*l.dx);if(w&&w.type==="log")for(d=0;d<f;d++)T.push(o+d*l.dy);l._extremes[c._id]=L.findExtremes(c,M),l._extremes[w._id]=L.findExtremes(w,T),l._scaler=r(l);var E={x0:h,y0:o,z:l.z,w:u,h:f};return[E]};function p(s,n,l,f){return function(u){return g.constrain((u-s)*n,l,f)}}function t(s,n){return function(l){return g.constrain(l,s,n)}}function r(s){var n=P.colormodel[s.colormodel],l=n.colormodel||s.colormodel,f=l.length;s._sArray=[];for(var u=0;u<f;u++)n.min[u]!==s.zmin[u]||n.max[u]!==s.zmax[u]?s._sArray.push(p(s.zmin[u],(n.max[u]-n.min[u])/(s.zmax[u]-s.zmin[u]),n.min[u],n.max[u])):s._sArray.push(t(n.min[u],n.max[u]));return function(m){for(var c=m.slice(0,f),w=0;w<f;w++){var h=c[w];if(!i(h))return!1;c[w]=s._sArray[w](h)}return c}}},51877:function(W){W.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(H){return H.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(H){return H.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(H){return H.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(H){var e=H.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(H){var e=H.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%",""]}}}},13245:function(W,H,e){var g=e(71828),P=e(17230),i=e(51877),L=e(25095).IMAGE_URL_PREFIX;W.exports=function(v,p){function t(n,l){return g.coerce(v,p,P,n,l)}t("source"),p.source&&!p.source.match(L)&&delete p.source,p._hasSource=!!p.source;var r=t("z");if(p._hasZ=!(r===void 0||!r.length||!r[0]||!r[0].length),!p._hasZ&&!p._hasSource){p.visible=!1;return}t("x0"),t("y0"),t("dx"),t("dy");var s;p._hasZ?(t("colormodel","rgb"),s=i.colormodel[p.colormodel],t("zmin",s.zminDflt||s.min),t("zmax",s.zmaxDflt||s.max)):p._hasSource&&(p.colormodel="rgba256",s=i.colormodel[p.colormodel],p.zmin=s.zminDflt,p.zmax=s.zmaxDflt),t("zsmooth"),t("text"),t("hovertext"),t("hovertemplate"),p._length=null}},30835:function(W){W.exports=function(e,g){return"xVal"in g&&(e.x=g.xVal),"yVal"in g&&(e.y=g.yVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e.color=g.color,e.colormodel=g.trace.colormodel,e.z||(e.z=g.color),e}},67395:function(W,H,e){var g=e(33575),P=e(25095).IMAGE_URL_PREFIX,i=e(12856).Buffer;H.A=function(L){var A=L.replace(P,""),v=new i(A,"base64");return g(v)}},28749:function(W,H,e){var g=e(30211),P=e(71828),i=e(51877);W.exports=function(A,v,p){var t=A.cd[0],r=t.trace,s=A.xa,n=A.ya;if(!(g.inbox(v-t.x0,v-(t.x0+t.w*r.dx),0)>0||g.inbox(p-t.y0,p-(t.y0+t.h*r.dy),0)>0)){var l=Math.floor((v-t.x0)/r.dx),f=Math.floor(Math.abs(p-t.y0)/r.dy),u;if(r._hasZ?u=t.z[f][l]:r._hasSource&&(u=r._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(l,f,1,1).data),!!u){var m=t.hi||r.hoverinfo,c;if(m){var w=m.split("+");w.indexOf("all")!==-1&&(w=["color"]),w.indexOf("color")!==-1&&(c=!0)}var h=i.colormodel[r.colormodel],o=h.colormodel||r.colormodel,d=o.length,M=r._scaler(u),T=h.suffix,E=[];(r.hovertemplate||c)&&(E.push("["+[M[0]+T[0],M[1]+T[1],M[2]+T[2]].join(", ")),d===4&&E.push(", "+M[3]+T[3]),E.push("]"),E=E.join(""),A.extraText=o.toUpperCase()+": "+E);var x;Array.isArray(r.hovertext)&&Array.isArray(r.hovertext[f])?x=r.hovertext[f][l]:Array.isArray(r.text)&&Array.isArray(r.text[f])&&(x=r.text[f][l]);var S=n.c2p(t.y0+(f+.5)*r.dy),b=t.x0+(l+.5)*r.dx,a=t.y0+(f+.5)*r.dy,C="["+u.slice(0,r.colormodel.length).join(", ")+"]";return[P.extendFlat(A,{index:[f,l],x0:s.c2p(t.x0+l*r.dx),x1:s.c2p(t.x0+(l+1)*r.dx),y0:S,y1:S,color:M,xVal:b,xLabelVal:b,yVal:a,yLabelVal:a,zLabelVal:C,text:x,hovertemplateLabels:{zLabel:C,colorLabel:E,"color[0]Label":M[0]+T[0],"color[1]Label":M[1]+T[1],"color[2]Label":M[2]+T[2],"color[3]Label":M[3]+T[3]}})]}}}},94507:function(W,H,e){W.exports={attributes:e(17230),supplyDefaults:e(13245),calc:e(71113),plot:e(60775),style:e(12826),hoverPoints:e(28749),eventData:e(30835),moduleType:"trace",name:"image",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(W,H,e){var g=e(39898),P=e(71828),i=P.strTranslate,L=e(77922),A=e(51877),v=e(3883),p=e(32396).STYLE;W.exports=function(r,s,n,l){var f=s.xaxis,u=s.yaxis,m=!r._context._exportedPlot&&v();P.makeTraceGroups(l,n,"im").each(function(c){var w=g.select(this),h=c[0],o=h.trace,d=(o.zsmooth==="fast"||o.zsmooth===!1&&m)&&!o._hasZ&&o._hasSource&&f.type==="linear"&&u.type==="linear";o._realImage=d;var M=h.z,T=h.x0,E=h.y0,x=h.w,S=h.h,b=o.dx,a=o.dy,C,y,z,I,B,F;for(F=0;C===void 0&&F<x;)C=f.c2p(T+F*b),F++;for(F=x;y===void 0&&F>0;)y=f.c2p(T+F*b),F--;for(F=0;I===void 0&&F<S;)I=u.c2p(E+F*a),F++;for(F=S;B===void 0&&F>0;)B=u.c2p(E+F*a),F--;if(y<C&&(z=y,y=C,C=z),B<I&&(z=I,I=B,B=z),!d){var O=.5;C=Math.max(-O*f._length,C),y=Math.min((1+O)*f._length,y),I=Math.max(-O*u._length,I),B=Math.min((1+O)*u._length,B)}var N=Math.round(y-C),_=Math.round(B-I),U=N<=0||_<=0;if(U){var Y=w.selectAll("image").data([]);Y.exit().remove();return}function K(q){var $=document.createElement("canvas");$.width=N,$.height=_;var le=$.getContext("2d",{willReadFrequently:!0}),ie=function(Ge){return P.constrain(Math.round(f.c2p(T+Ge*b)-C),0,N)},ce=function(Ge){return P.constrain(Math.round(u.c2p(E+Ge*a)-I),0,_)},me=A.colormodel[o.colormodel],Me=me.colormodel||o.colormodel,we=me.fmt,Oe;for(F=0;F<h.w;F++){var Be=ie(F),Ce=ie(F+1);if(!(Ce===Be||isNaN(Ce)||isNaN(Be)))for(var xe=0;xe<h.h;xe++){var Se=ce(xe),He=ce(xe+1);He===Se||isNaN(He)||isNaN(Se)||!q(F,xe)||(Oe=o._scaler(q(F,xe)),Oe?le.fillStyle=Me+"("+we(Oe).join(",")+")":le.fillStyle="rgba(0,0,0,0)",le.fillRect(Be,Se,Ce-Be,He-Se))}}return $}var re=w.selectAll("image").data([c]);re.enter().append("svg:image").attr({xmlns:L.svg,preserveAspectRatio:"none"}),re.exit().remove();var ae=o.zsmooth===!1?p:"";if(d){var fe=P.simpleMap(f.range,f.r2l),Q=P.simpleMap(u.range,u.r2l),j=fe[1]<fe[0],X=Q[1]>Q[0];if(j||X){var J=C+N/2,ee=I+_/2;ae+="transform:"+i(J+"px",ee+"px")+"scale("+(j?-1:1)+","+(X?-1:1)+")"+i(-J+"px",-ee+"px")+";"}}re.attr("style",ae);var se=new Promise(function(q){if(o._hasZ)q();else if(o._hasSource)if(o._canvas&&o._canvas.el.width===x&&o._canvas.el.height===S&&o._canvas.source===o.source)q();else{var $=document.createElement("canvas");$.width=x,$.height=S;var le=$.getContext("2d",{willReadFrequently:!0});o._image=o._image||new Image;var ie=o._image;ie.onload=function(){le.drawImage(ie,0,0),o._canvas={el:$,source:o.source},q()},ie.setAttribute("src",o.source)}}).then(function(){var q,$;if(o._hasZ)$=K(function(ce,me){return M[me][ce]}),q=$.toDataURL("image/png");else if(o._hasSource)if(d)q=o.source;else{var le=o._canvas.el.getContext("2d",{willReadFrequently:!0}),ie=le.getImageData(0,0,x,S).data;$=K(function(ce,me){var Me=4*(me*x+ce);return[ie[Me],ie[Me+1],ie[Me+2],ie[Me+3]]}),q=$.toDataURL("image/png")}re.attr({"xlink:href":q,height:_,width:N,x:C,y:I})});r._promises.push(se)})}},12826:function(W,H,e){var g=e(39898);W.exports=function(i){g.select(i).selectAll(".im image").style("opacity",function(L){return L[0].trace.opacity})}},54846:function(W,H,e){var g=e(1426).extendFlat,P=e(1426).extendDeep,i=e(30962).overrideAll,L=e(41940),A=e(22399),v=e(27670).Y,p=e(13838),t=e(44467).templatedArray,r=e(22372),s=e(12663).descriptionOnlyNumbers,n=L({editType:"plot",colorEditType:"plot"}),l={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:A.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},f={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},u=t("step",P({},l,{range:f}));W.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:g({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:s("value")},font:g({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:s("value")},increasing:{symbol:{valType:"string",dflt:r.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:r.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:g({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:P({},l,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:A.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:i({range:f,visible:g({},p.visible,{dflt:!0}),tickmode:p.minor.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:g({},p.ticks,{dflt:"outside"}),ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,labelalias:p.labelalias,tickfont:L({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,editType:"plot"},"plot"),steps:u,threshold:{line:{color:g({},l.line.color,{}),width:g({},l.line.width,{dflt:1}),editType:"plot"},thickness:g({},l.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(W,H,e){var g=e(74875);H.name="indicator",H.plot=function(P,i,L,A){g.plotBasePlot(H.name,P,i,L,A)},H.clean=function(P,i,L,A){g.cleanBasePlot(H.name,P,i,L,A)}},24667:function(W){function H(e,g){var P=[],i=g.value;typeof g._lastValue!="number"&&(g._lastValue=g.value);var L=g._lastValue,A=L;return g._hasDelta&&typeof g.delta.reference=="number"&&(A=g.delta.reference),P[0]={y:i,lastY:L,delta:i-A,relativeDelta:(i-A)/A},P}W.exports={calc:H}},84577:function(W){W.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(W,H,e){var g=e(71828),P=e(54846),i=e(27670).c,L=e(44467),A=e(85501),v=e(84577),p=e(26218),t=e(38701),r=e(96115),s=e(89426);function n(f,u,m,c){function w(B,F){return g.coerce(f,u,P,B,F)}i(u,c,w),w("mode"),u._hasNumber=u.mode.indexOf("number")!==-1,u._hasDelta=u.mode.indexOf("delta")!==-1,u._hasGauge=u.mode.indexOf("gauge")!==-1;var h=w("value");u._range=[0,typeof h=="number"?1.5*h:1];var o=new Array(2),d;u._hasNumber&&(w("number.valueformat"),w("number.font.color",c.font.color),w("number.font.family",c.font.family),w("number.font.size"),u.number.font.size===void 0&&(u.number.font.size=v.defaultNumberFontSize,o[0]=!0),w("number.prefix"),w("number.suffix"),d=u.number.font.size);var M;u._hasDelta&&(w("delta.font.color",c.font.color),w("delta.font.family",c.font.family),w("delta.font.size"),u.delta.font.size===void 0&&(u.delta.font.size=(u._hasNumber?.5:1)*(d||v.defaultNumberFontSize),o[1]=!0),w("delta.reference",u.value),w("delta.relative"),w("delta.valueformat",u.delta.relative?"2%":""),w("delta.increasing.symbol"),w("delta.increasing.color"),w("delta.decreasing.symbol"),w("delta.decreasing.color"),w("delta.position"),w("delta.prefix"),w("delta.suffix"),M=u.delta.font.size),u._scaleNumbers=(!u._hasNumber||o[0])&&(!u._hasDelta||o[1])||!1,w("title.font.color",c.font.color),w("title.font.family",c.font.family),w("title.font.size",.25*(d||M||v.defaultNumberFontSize)),w("title.text");var T,E,x,S;function b(B,F){return g.coerce(T,E,P.gauge,B,F)}function a(B,F){return g.coerce(x,S,P.gauge.axis,B,F)}if(u._hasGauge){T=f.gauge,T||(T={}),E=L.newContainer(u,"gauge"),b("shape");var C=u._isBullet=u.gauge.shape==="bullet";C||w("title.align","center");var y=u._isAngular=u.gauge.shape==="angular";y||w("align","center"),b("bgcolor",c.paper_bgcolor),b("borderwidth"),b("bordercolor"),b("bar.color"),b("bar.line.color"),b("bar.line.width");var z=v.valueThickness*(u.gauge.shape==="bullet"?.5:1);b("bar.thickness",z),A(T,E,{name:"steps",handleItemDefaults:l}),b("threshold.value"),b("threshold.thickness"),b("threshold.line.width"),b("threshold.line.color"),x={},T&&(x=T.axis||{}),S=L.newContainer(E,"axis"),a("visible"),u._range=a("range",u._range);var I={outerTicks:!0};p(x,S,a,"linear"),s(x,S,a,"linear",I),r(x,S,a,"linear",I),t(x,S,a,I)}else w("title.align","center"),w("align","center"),u._isAngular=u._isBullet=!1;u._length=null}function l(f,u){function m(c,w){return g.coerce(f,u,P.gauge.steps,c,w)}m("color"),m("line.color"),m("line.width"),m("range"),m("thickness")}W.exports={supplyDefaults:n}},15154:function(W,H,e){W.exports={moduleType:"trace",name:"indicator",basePlotModule:e(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(54846),supplyDefaults:e(94425).supplyDefaults,calc:e(24667).calc,plot:e(75634),meta:{}}},75634:function(W,H,e){var g=e(39898),P=e(81684).sX,i=e(81684).k4,L=e(71828),A=L.strScale,v=L.strTranslate,p=L.rad2deg,t=e(18783).MID_SHIFT,r=e(91424),s=e(84577),n=e(63893),l=e(89298),f=e(71453),u=e(52830),m=e(13838),c=e(7901),w={left:"start",center:"middle",right:"end"},h={left:0,center:.5,right:1},o=/[yzafpnmkMGTPEZY]/;function d(I){return I&&I.duration>0}W.exports=function(B,F,O,N){var _=B._fullLayout,U;d(O)&&N&&(U=N()),L.makeTraceGroups(_._indicatorlayer,F,"trace").each(function(Y){var K=Y[0],re=K.trace,ae=g.select(this),fe=re._hasGauge,Q=re._isAngular,j=re._isBullet,X=re.domain,J={w:_._size.w*(X.x[1]-X.x[0]),h:_._size.h*(X.y[1]-X.y[0]),l:_._size.l+_._size.w*X.x[0],r:_._size.r+_._size.w*(1-X.x[1]),t:_._size.t+_._size.h*(1-X.y[1]),b:_._size.b+_._size.h*X.y[0]},ee=J.l+J.w/2,se=J.t+J.h/2,q=Math.min(J.w/2,J.h),$=s.innerRadius*q,le,ie,ce,me=re.align||"center";if(ie=se,!fe)le=J.l+h[me]*J.w,ce=function(ke){return a(ke,J.w,J.h)};else if(Q&&(le=ee,ie=se+q/2,ce=function(ke){return C(ke,.9*$)}),j){var Me=s.bulletPadding,we=1-s.bulletNumberDomainSize+Me;le=J.l+(we+(1-we)*h[me])*J.w,ce=function(ke){return a(ke,(s.bulletNumberDomainSize-Me)*J.w,J.h)}}E(B,ae,Y,{numbersX:le,numbersY:ie,numbersScaler:ce,transitionOpts:O,onComplete:U});var Oe,Be;fe&&(Oe={range:re.gauge.axis.range,color:re.gauge.bgcolor,line:{color:re.gauge.bordercolor,width:0},thickness:1},Be={range:re.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:re.gauge.bordercolor,width:re.gauge.borderwidth},thickness:1});var Ce=ae.selectAll("g.angular").data(Q?Y:[]);Ce.exit().remove();var xe=ae.selectAll("g.angularaxis").data(Q?Y:[]);xe.exit().remove(),Q&&T(B,ae,Y,{radius:q,innerRadius:$,gauge:Ce,layer:xe,size:J,gaugeBg:Oe,gaugeOutline:Be,transitionOpts:O,onComplete:U});var Se=ae.selectAll("g.bullet").data(j?Y:[]);Se.exit().remove();var He=ae.selectAll("g.bulletaxis").data(j?Y:[]);He.exit().remove(),j&&M(B,ae,Y,{gauge:Se,layer:He,size:J,gaugeBg:Oe,gaugeOutline:Be,transitionOpts:O,onComplete:U});var Ge=ae.selectAll("text.title").data(Y);Ge.exit().remove(),Ge.enter().append("text").classed("title",!0),Ge.attr("text-anchor",function(){return j?w.right:w[re.title.align]}).text(re.title.text).call(r.font,re.title.font).call(n.convertToTspans,B),Ge.attr("transform",function(){var ke=J.l+J.w*h[re.title.align],We,it=s.titlePadding,et=r.bBox(Ge.node());if(fe){if(Q)if(re.gauge.axis.visible){var tt=r.bBox(xe.node());We=tt.top-it-et.bottom}else We=J.t+J.h/2-q/2-et.bottom-it;j&&(We=ie-(et.top+et.bottom)/2,ke=J.l-s.bulletPadding*J.w)}else We=re._numbersTop-it-et.bottom;return v(ke,We)})})};function M(I,B,F,O){var N=F[0].trace,_=O.gauge,U=O.layer,Y=O.gaugeBg,K=O.gaugeOutline,re=O.size,ae=N.domain,fe=O.transitionOpts,Q=O.onComplete,j,X,J,ee,se;_.enter().append("g").classed("bullet",!0),_.attr("transform",v(re.l,re.t)),U.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),U.selectAll("g.xbulletaxistick,path,text").remove();var q=re.h,$=N.gauge.bar.thickness*q,le=ae.x[0],ie=ae.x[0]+(ae.x[1]-ae.x[0])*(N._hasNumber||N._hasDelta?1-s.bulletNumberDomainSize:1);j=b(I,N.gauge.axis),j._id="xbulletaxis",j.domain=[le,ie],j.setScale(),X=l.calcTicks(j),J=l.makeTransTickFn(j),ee=l.getTickSigns(j)[2],se=re.t+re.h,j.visible&&(l.drawTicks(I,j,{vals:j.ticks==="inside"?l.clipEnds(j,X):X,layer:U,path:l.makeTickPath(j,se,ee),transFn:J}),l.drawLabels(I,j,{vals:X,layer:U,transFn:J,labelFns:l.makeLabelFns(j,se)}));function ce(xe){xe.attr("width",function(Se){return Math.max(0,j.c2p(Se.range[1])-j.c2p(Se.range[0]))}).attr("x",function(Se){return j.c2p(Se.range[0])}).attr("y",function(Se){return .5*(1-Se.thickness)*q}).attr("height",function(Se){return Se.thickness*q})}var me=[Y].concat(N.gauge.steps),Me=_.selectAll("g.bg-bullet").data(me);Me.enter().append("g").classed("bg-bullet",!0).append("rect"),Me.select("rect").call(ce).call(x),Me.exit().remove();var we=_.selectAll("g.value-bullet").data([N.gauge.bar]);we.enter().append("g").classed("value-bullet",!0).append("rect"),we.select("rect").attr("height",$).attr("y",(q-$)/2).call(x),d(fe)?we.select("rect").transition().duration(fe.duration).ease(fe.easing).each("end",function(){Q&&Q()}).each("interrupt",function(){Q&&Q()}).attr("width",Math.max(0,j.c2p(Math.min(N.gauge.axis.range[1],F[0].y)))):we.select("rect").attr("width",typeof F[0].y=="number"?Math.max(0,j.c2p(Math.min(N.gauge.axis.range[1],F[0].y))):0),we.exit().remove();var Oe=F.filter(function(){return N.gauge.threshold.value||N.gauge.threshold.value===0}),Be=_.selectAll("g.threshold-bullet").data(Oe);Be.enter().append("g").classed("threshold-bullet",!0).append("line"),Be.select("line").attr("x1",j.c2p(N.gauge.threshold.value)).attr("x2",j.c2p(N.gauge.threshold.value)).attr("y1",(1-N.gauge.threshold.thickness)/2*q).attr("y2",(1-(1-N.gauge.threshold.thickness)/2)*q).call(c.stroke,N.gauge.threshold.line.color).style("stroke-width",N.gauge.threshold.line.width),Be.exit().remove();var Ce=_.selectAll("g.gauge-outline").data([K]);Ce.enter().append("g").classed("gauge-outline",!0).append("rect"),Ce.select("rect").call(ce).call(x),Ce.exit().remove()}function T(I,B,F,O){var N=F[0].trace,_=O.size,U=O.radius,Y=O.innerRadius,K=O.gaugeBg,re=O.gaugeOutline,ae=[_.l+_.w/2,_.t+_.h/2+U/2],fe=O.gauge,Q=O.layer,j=O.transitionOpts,X=O.onComplete,J=Math.PI/2;function ee(at){var ht=N.gauge.axis.range[0],yt=N.gauge.axis.range[1],gt=(at-ht)/(yt-ht)*Math.PI-J;return gt<-J?-J:gt>J?J:gt}function se(at){return g.svg.arc().innerRadius((Y+U)/2-at/2*(U-Y)).outerRadius((Y+U)/2+at/2*(U-Y)).startAngle(-J)}function q(at){at.attr("d",function(ht){return se(ht.thickness).startAngle(ee(ht.range[0])).endAngle(ee(ht.range[1]))()})}var $,le,ie,ce;fe.enter().append("g").classed("angular",!0),fe.attr("transform",v(ae[0],ae[1])),Q.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),Q.selectAll("g.xangularaxistick,path,text").remove(),$=b(I,N.gauge.axis),$.type="linear",$.range=N.gauge.axis.range,$._id="xangularaxis",$.ticklabeloverflow="allow",$.setScale();var me=function(at){return($.range[0]-at.x)/($.range[1]-$.range[0])*Math.PI+Math.PI},Me={},we=l.makeLabelFns($,0),Oe=we.labelStandoff;Me.xFn=function(at){var ht=me(at);return Math.cos(ht)*Oe},Me.yFn=function(at){var ht=me(at),yt=Math.sin(ht)>0?.2:1;return-Math.sin(ht)*(Oe+at.fontSize*yt)+Math.abs(Math.cos(ht))*(at.fontSize*t)},Me.anchorFn=function(at){var ht=me(at),yt=Math.cos(ht);return Math.abs(yt)<.1?"middle":yt>0?"start":"end"},Me.heightFn=function(at,ht,yt){var gt=me(at);return-.5*(1+Math.sin(gt))*yt};var Be=function(at){return v(ae[0]+U*Math.cos(at),ae[1]-U*Math.sin(at))};ie=function(at){return Be(me(at))};var Ce=function(at){var ht=me(at);return Be(ht)+"rotate("+-p(ht)+")"};if(le=l.calcTicks($),ce=l.getTickSigns($)[2],$.visible){ce=$.ticks==="inside"?-1:1;var xe=($.linewidth||1)/2;l.drawTicks(I,$,{vals:le,layer:Q,path:"M"+ce*xe+",0h"+ce*$.ticklen,transFn:Ce}),l.drawLabels(I,$,{vals:le,layer:Q,transFn:ie,labelFns:Me})}var Se=[K].concat(N.gauge.steps),He=fe.selectAll("g.bg-arc").data(Se);He.enter().append("g").classed("bg-arc",!0).append("path"),He.select("path").call(q).call(x),He.exit().remove();var Ge=se(N.gauge.bar.thickness),ke=fe.selectAll("g.value-arc").data([N.gauge.bar]);ke.enter().append("g").classed("value-arc",!0).append("path");var We=ke.select("path");d(j)?(We.transition().duration(j.duration).ease(j.easing).each("end",function(){X&&X()}).each("interrupt",function(){X&&X()}).attrTween("d",S(Ge,ee(F[0].lastY),ee(F[0].y))),N._lastValue=F[0].y):We.attr("d",typeof F[0].y=="number"?Ge.endAngle(ee(F[0].y)):"M0,0Z"),We.call(x),ke.exit().remove(),Se=[];var it=N.gauge.threshold.value;(it||it===0)&&Se.push({range:[it,it],color:N.gauge.threshold.color,line:{color:N.gauge.threshold.line.color,width:N.gauge.threshold.line.width},thickness:N.gauge.threshold.thickness});var et=fe.selectAll("g.threshold-arc").data(Se);et.enter().append("g").classed("threshold-arc",!0).append("path"),et.select("path").call(q).call(x),et.exit().remove();var tt=fe.selectAll("g.gauge-outline").data([re]);tt.enter().append("g").classed("gauge-outline",!0).append("path"),tt.select("path").call(q).call(x),tt.exit().remove()}function E(I,B,F,O){var N=F[0].trace,_=O.numbersX,U=O.numbersY,Y=N.align||"center",K=w[Y],re=O.transitionOpts,ae=O.onComplete,fe=L.ensureSingle(B,"g","numbers"),Q,j,X,J=[];N._hasNumber&&J.push("number"),N._hasDelta&&(J.push("delta"),N.delta.position==="left"&&J.reverse());var ee=fe.selectAll("text").data(J);ee.enter().append("text"),ee.attr("text-anchor",function(){return K}).attr("class",function(Be){return Be}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),ee.exit().remove();function se(Be,Ce,xe,Se){if(Be.match("s")&&xe>=0!=Se>=0&&!Ce(xe).slice(-1).match(o)&&!Ce(Se).slice(-1).match(o)){var He=Be.slice().replace("s","f").replace(/\d+/,function(ke){return parseInt(ke)-1}),Ge=b(I,{tickformat:He});return function(ke){return Math.abs(ke)<1?l.tickText(Ge,ke).text:Ce(ke)}}else return Ce}function q(){var Be=b(I,{tickformat:N.number.valueformat},N._range);Be.setScale(),l.prepTicks(Be);var Ce=function(ke){return l.tickText(Be,ke).text},xe=N.number.suffix,Se=N.number.prefix,He=fe.select("text.number");function Ge(){var ke=typeof F[0].y=="number"?Se+Ce(F[0].y)+xe:"-";He.text(ke).call(r.font,N.number.font).call(n.convertToTspans,I)}return d(re)?He.transition().duration(re.duration).ease(re.easing).each("end",function(){Ge(),ae&&ae()}).each("interrupt",function(){Ge(),ae&&ae()}).attrTween("text",function(){var ke=g.select(this),We=i(F[0].lastY,F[0].y);N._lastValue=F[0].y;var it=se(N.number.valueformat,Ce,F[0].lastY,F[0].y);return function(et){ke.text(Se+it(We(et))+xe)}}):Ge(),Q=y(Se+Ce(F[0].y)+xe,N.number.font,K,I),He}function $(){var Be=b(I,{tickformat:N.delta.valueformat},N._range);Be.setScale(),l.prepTicks(Be);var Ce=function(et){return l.tickText(Be,et).text},xe=N.delta.suffix,Se=N.delta.prefix,He=function(et){var tt=N.delta.relative?et.relativeDelta:et.delta;return tt},Ge=function(et,tt){return et===0||typeof et!="number"||isNaN(et)?"-":(et>0?N.delta.increasing.symbol:N.delta.decreasing.symbol)+Se+tt(et)+xe},ke=function(et){return et.delta>=0?N.delta.increasing.color:N.delta.decreasing.color};N._deltaLastValue===void 0&&(N._deltaLastValue=He(F[0]));var We=fe.select("text.delta");We.call(r.font,N.delta.font).call(c.fill,ke({delta:N._deltaLastValue}));function it(){We.text(Ge(He(F[0]),Ce)).call(c.fill,ke(F[0])).call(n.convertToTspans,I)}return d(re)?We.transition().duration(re.duration).ease(re.easing).tween("text",function(){var et=g.select(this),tt=He(F[0]),at=N._deltaLastValue,ht=se(N.delta.valueformat,Ce,at,tt),yt=i(at,tt);return N._deltaLastValue=tt,function(gt){et.text(Ge(yt(gt),ht)),et.call(c.fill,ke({delta:yt(gt)}))}}).each("end",function(){it(),ae&&ae()}).each("interrupt",function(){it(),ae&&ae()}):it(),j=y(Ge(He(F[0]),Ce),N.delta.font,K,I),We}var le=N.mode+N.align,ie;if(N._hasDelta&&(ie=$(),le+=N.delta.position+N.delta.font.size+N.delta.font.family+N.delta.valueformat,le+=N.delta.increasing.symbol+N.delta.decreasing.symbol,X=j),N._hasNumber&&(q(),le+=N.number.font.size+N.number.font.family+N.number.valueformat+N.number.suffix+N.number.prefix,X=Q),N._hasDelta&&N._hasNumber){var ce=[(Q.left+Q.right)/2,(Q.top+Q.bottom)/2],me=[(j.left+j.right)/2,(j.top+j.bottom)/2],Me,we,Oe=.75*N.delta.font.size;N.delta.position==="left"&&(Me=z(N,"deltaPos",0,-1*(Q.width*h[N.align]+j.width*(1-h[N.align])+Oe),le,Math.min),we=ce[1]-me[1],X={width:Q.width+j.width+Oe,height:Math.max(Q.height,j.height),left:j.left+Me,right:Q.right,top:Math.min(Q.top,j.top+we),bottom:Math.max(Q.bottom,j.bottom+we)}),N.delta.position==="right"&&(Me=z(N,"deltaPos",0,Q.width*(1-h[N.align])+j.width*h[N.align]+Oe,le,Math.max),we=ce[1]-me[1],X={width:Q.width+j.width+Oe,height:Math.max(Q.height,j.height),left:Q.left,right:j.right+Me,top:Math.min(Q.top,j.top+we),bottom:Math.max(Q.bottom,j.bottom+we)}),N.delta.position==="bottom"&&(Me=null,we=j.height,X={width:Math.max(Q.width,j.width),height:Q.height+j.height,left:Math.min(Q.left,j.left),right:Math.max(Q.right,j.right),top:Q.bottom-Q.height,bottom:Q.bottom+j.height}),N.delta.position==="top"&&(Me=null,we=Q.top,X={width:Math.max(Q.width,j.width),height:Q.height+j.height,left:Math.min(Q.left,j.left),right:Math.max(Q.right,j.right),top:Q.bottom-Q.height-j.height,bottom:Q.bottom}),ie.attr({dx:Me,dy:we})}(N._hasNumber||N._hasDelta)&&fe.attr("transform",function(){var Be=O.numbersScaler(X);le+=Be[2];var Ce=z(N,"numbersScale",1,Be[0],le,Math.min),xe;N._scaleNumbers||(Ce=1),N._isAngular?xe=U-Ce*X.bottom:xe=U-Ce*(X.top+X.bottom)/2,N._numbersTop=Ce*X.top+xe;var Se=X[Y];Y==="center"&&(Se=(X.left+X.right)/2);var He=_-Ce*Se;return He=z(N,"numbersTranslate",0,He,le,Math.max),v(He,xe)+A(Ce)})}function x(I){I.each(function(B){c.stroke(g.select(this),B.line.color)}).each(function(B){c.fill(g.select(this),B.color)}).style("stroke-width",function(B){return B.line.width})}function S(I,B,F){return function(){var O=P(B,F);return function(N){return I.endAngle(O(N))()}}}function b(I,B,F){var O=I._fullLayout,N=L.extendFlat({type:"linear",ticks:"outside",range:F,showline:!0},B),_={type:"linear",_id:"x"+B._id},U={letter:"x",font:O.font,noHover:!0,noTickson:!0};function Y(K,re){return L.coerce(N,_,m,K,re)}return f(N,_,Y,U,O),u(N,_,Y,U),_}function a(I,B,F){var O=Math.min(B/I.width,F/I.height);return[O,I,B+"x"+F]}function C(I,B){var F=Math.sqrt(I.width/2*(I.width/2)+I.height*I.height),O=B/F;return[O,I,B]}function y(I,B,F,O){var N=document.createElementNS("http://www.w3.org/2000/svg","text"),_=g.select(N);return _.text(I).attr("x",0).attr("y",0).attr("text-anchor",F).attr("data-unformatted",I).call(n.convertToTspans,O).call(r.font,B),r.bBox(_.node())}function z(I,B,F,O,N,_){var U="_cache"+B;I[U]&&I[U].key===N||(I[U]={key:N,value:F});var Y=L.aggNums(_,null,[I[U].value,O],2);return I[U].value=Y,Y}},16249:function(W,H,e){var g=e(50693),P=e(12663).axisHoverFormat,i=e(5386).fF,L=e(2418),A=e(9012),v=e(1426).extendFlat,p=e(30962).overrideAll;function t(n){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function r(n){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var s=W.exports=p(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:t(),y:t(),z:t()},caps:{x:r(),y:r(),z:r()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:i(),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),valuehoverformat:P("value",1),showlegend:v({},A.showlegend,{dflt:!1})},g("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,lightposition:L.lightposition,lighting:L.lighting,flatshading:L.flatshading,contour:L.contour,hoverinfo:v({},A.hoverinfo)}),"calc","nested");s.flatshading.dflt=!0,s.lighting.facenormalsepsilon.dflt=0,s.x.editType=s.y.editType=s.z.editType=s.value.editType="calc+clearAxisTypes",s.transforms=void 0},56959:function(W,H,e){var g=e(78803),P=e(88489).processGrid,i=e(88489).filter;W.exports=function(A,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=i(v.x,v._len),v._y=i(v.y,v._len),v._z=i(v.z,v._len),v._value=i(v.value,v._len);var p=P(v);v._gridFill=p.fill,v._Xs=p.Xs,v._Ys=p.Ys,v._Zs=p.Zs,v._len=p.len;for(var t=1/0,r=-1/0,s=0;s<v._len;s++){var n=v._value[s];t=Math.min(t,n),r=Math.max(r,n)}v._minValues=t,v._maxValues=r,v._vMin=v.isomin===void 0||v.isomin===null?t:v.isomin,v._vMax=v.isomax===void 0||v.isomin===null?r:v.isomax,g(A,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},22674:function(W,H,e){var g=e(9330).gl_mesh3d,P=e(81697).parseColorScale,i=e(78614),L=e(21081).extractOpts,A=e(90060),v=function(l,f){for(var u=f.length-1;u>0;u--){var m=Math.min(f[u],f[u-1]),c=Math.max(f[u],f[u-1]);if(c>m&&m<l&&l<=c)return{id:u,distRatio:(c-l)/(c-m)}}return{id:0,distRatio:0}};function p(l,f,u){this.scene=l,this.uid=u,this.mesh=f,this.name="",this.data=null,this.showContour=!1}var t=p.prototype;t.handlePick=function(l){if(l.object===this.mesh){var f=l.data.index,u=this.data._meshX[f],m=this.data._meshY[f],c=this.data._meshZ[f],w=this.data._Ys.length,h=this.data._Zs.length,o=v(u,this.data._Xs).id,d=v(m,this.data._Ys).id,M=v(c,this.data._Zs).id,T=l.index=M+h*d+h*w*o;l.traceCoordinate=[this.data._meshX[T],this.data._meshY[T],this.data._meshZ[T],this.data._value[T]];var E=this.data.hovertext||this.data.text;return Array.isArray(E)&&E[T]!==void 0?l.textLabel=E[T]:E&&(l.textLabel=E),!0}},t.update=function(l){var f=this.scene,u=f.fullSceneLayout;this.data=s(l);function m(d,M,T,E){return M.map(function(x){return d.d2l(x,0,E)*T})}var c=A(m(u.xaxis,l._meshX,f.dataScale[0],l.xcalendar),m(u.yaxis,l._meshY,f.dataScale[1],l.ycalendar),m(u.zaxis,l._meshZ,f.dataScale[2],l.zcalendar)),w=A(l._meshI,l._meshJ,l._meshK),h={positions:c,cells:w,lightPosition:[l.lightposition.x,l.lightposition.y,l.lightposition.z],ambient:l.lighting.ambient,diffuse:l.lighting.diffuse,specular:l.lighting.specular,roughness:l.lighting.roughness,fresnel:l.lighting.fresnel,vertexNormalsEpsilon:l.lighting.vertexnormalsepsilon,faceNormalsEpsilon:l.lighting.facenormalsepsilon,opacity:l.opacity,contourEnable:l.contour.show,contourColor:i(l.contour.color).slice(0,3),contourWidth:l.contour.width,useFacetNormals:l.flatshading},o=L(l);h.vertexIntensity=l._meshIntensity,h.vertexIntensityBounds=[o.min,o.max],h.colormap=P(l),this.mesh.update(h)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var r=["xyz","xzy","yxz","yzx","zxy","zyx"];function s(l){l._meshI=[],l._meshJ=[],l._meshK=[];var f=l.surface.show,u=l.spaceframe.show,m=l.surface.fill,c=l.spaceframe.fill,w=!1,h=!1,o=0,d,M,T=l._Xs,E=l._Ys,x=l._Zs,S=T.length,b=E.length,a=x.length,C=r.indexOf(l._gridFill.replace(/-/g,"").replace(/\+/g,"")),y=function(Fe,Ie,ze){switch(C){case 5:return ze+a*Ie+a*b*Fe;case 4:return ze+a*Fe+a*S*Ie;case 3:return Ie+b*ze+b*a*Fe;case 2:return Ie+b*Fe+b*S*ze;case 1:return Fe+S*ze+S*a*Ie;default:return Fe+S*Ie+S*b*ze}},z=l._minValues,I=l._maxValues,B=l._vMin,F=l._vMax,O,N,_,U;function Y(Fe,Ie,ze){for(var Re=U.length,be=M;be<Re;be++)if(Fe===O[be]&&Ie===N[be]&&ze===_[be])return be;return-1}function K(){M=d}function re(){O=[],N=[],_=[],U=[],d=0,K()}function ae(Fe,Ie,ze,Re){return O.push(Fe),N.push(Ie),_.push(ze),U.push(Re),d++,d-1}function fe(Fe,Ie,ze){return l._meshI.push(Fe),l._meshJ.push(Ie),l._meshK.push(ze),o++,o-1}function Q(Fe,Ie,ze){for(var Re=[],be=0;be<Fe.length;be++)Re[be]=(Fe[be]+Ie[be]+ze[be])/3;return Re}function j(Fe,Ie,ze){for(var Re=[],be=0;be<Fe.length;be++)Re[be]=Fe[be]*(1-ze)+ze*Ie[be];return Re}var X;function J(Fe){X=Fe}function ee(Fe,Ie){var ze=Fe[0],Re=Fe[1],be=Fe[2],ye=Q(ze,Re,be),Ae=Math.sqrt(1-X),Ee=j(ye,ze,Ae),Ne=j(ye,Re,Ae),Je=j(ye,be,Ae),qe=Ie[0],vt=Ie[1],bt=Ie[2];return{xyzv:[[ze,Re,Ne],[Ne,Ee,ze],[Re,be,Je],[Je,Ne,Re],[be,ze,Ee],[Ee,Je,be]],abc:[[qe,vt,-1],[-1,-1,qe],[vt,bt,-1],[-1,-1,vt],[bt,qe,-1],[-1,-1,bt]]}}function se(Fe,Ie){return Fe==="all"||Fe===null?!0:Fe.indexOf(Ie)>-1}function q(Fe,Ie){return Fe===null?Ie:Fe}function $(Fe,Ie,ze){K();var Re=[Ie],be=[ze];if(X>=1)Re=[Ie],be=[ze];else if(X>0){var ye=ee(Ie,ze);Re=ye.xyzv,be=ye.abc}for(var Ae=0;Ae<Re.length;Ae++){Ie=Re[Ae],ze=be[Ae];for(var Ee=[],Ne=0;Ne<3;Ne++){var Je=Ie[Ne][0],qe=Ie[Ne][1],vt=Ie[Ne][2],bt=Ie[Ne][3],Wt=ze[Ne]>-1?ze[Ne]:Y(Je,qe,vt);Wt>-1?Ee[Ne]=Wt:Ee[Ne]=ae(Je,qe,vt,q(Fe,bt))}fe(Ee[0],Ee[1],Ee[2])}}function le(Fe,Ie,ze){var Re=function(be,ye,Ae){$(Fe,[Ie[be],Ie[ye],Ie[Ae]],[ze[be],ze[ye],ze[Ae]])};Re(0,1,2),Re(2,3,0)}function ie(Fe,Ie,ze){var Re=function(be,ye,Ae){$(Fe,[Ie[be],Ie[ye],Ie[Ae]],[ze[be],ze[ye],ze[Ae]])};Re(0,1,2),Re(3,0,1),Re(2,3,0),Re(1,2,3)}function ce(Fe,Ie,ze,Re){var be=Fe[3];be<ze&&(be=ze),be>Re&&(be=Re);for(var ye=(Fe[3]-be)/(Fe[3]-Ie[3]+1e-9),Ae=[],Ee=0;Ee<4;Ee++)Ae[Ee]=(1-ye)*Fe[Ee]+ye*Ie[Ee];return Ae}function me(Fe,Ie,ze){return Fe>=Ie&&Fe<=ze}function Me(Fe){var Ie=.001*(F-B);return Fe>=B-Ie&&Fe<=F+Ie}function we(Fe){for(var Ie=[],ze=0;ze<4;ze++){var Re=Fe[ze];Ie.push([l._x[Re],l._y[Re],l._z[Re],l._value[Re]])}return Ie}var Oe=3;function Be(Fe,Ie,ze,Re,be,ye){ye||(ye=1),ze=[-1,-1,-1];var Ae=!1,Ee=[me(Ie[0][3],Re,be),me(Ie[1][3],Re,be),me(Ie[2][3],Re,be)];if(!Ee[0]&&!Ee[1]&&!Ee[2])return!1;var Ne=function(qe,vt,bt){return Me(vt[0][3])&&Me(vt[1][3])&&Me(vt[2][3])?($(qe,vt,bt),!0):ye<Oe?Be(qe,vt,bt,B,F,++ye):!1};if(Ee[0]&&Ee[1]&&Ee[2])return Ne(Fe,Ie,ze)||Ae;var Je=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(qe){if(Ee[qe[0]]&&Ee[qe[1]]&&!Ee[qe[2]]){var vt=Ie[qe[0]],bt=Ie[qe[1]],Wt=Ie[qe[2]],qt=ce(Wt,vt,Re,be),At=ce(Wt,bt,Re,be);Ae=Ne(Fe,[At,qt,vt],[-1,-1,ze[qe[0]]])||Ae,Ae=Ne(Fe,[vt,bt,At],[ze[qe[0]],ze[qe[1]],-1])||Ae,Je=!0}}),Je||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(qe){if(Ee[qe[0]]&&!Ee[qe[1]]&&!Ee[qe[2]]){var vt=Ie[qe[0]],bt=Ie[qe[1]],Wt=Ie[qe[2]],qt=ce(bt,vt,Re,be),At=ce(Wt,vt,Re,be);Ae=Ne(Fe,[At,qt,vt],[-1,-1,ze[qe[0]]])||Ae,Je=!0}}),Ae}function Ce(Fe,Ie,ze,Re){var be=!1,ye=we(Ie),Ae=[me(ye[0][3],ze,Re),me(ye[1][3],ze,Re),me(ye[2][3],ze,Re),me(ye[3][3],ze,Re)];if(!Ae[0]&&!Ae[1]&&!Ae[2]&&!Ae[3])return be;if(Ae[0]&&Ae[1]&&Ae[2]&&Ae[3])return h&&(be=ie(Fe,ye,Ie)||be),be;var Ee=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Ne){if(Ae[Ne[0]]&&Ae[Ne[1]]&&Ae[Ne[2]]&&!Ae[Ne[3]]){var Je=ye[Ne[0]],qe=ye[Ne[1]],vt=ye[Ne[2]],bt=ye[Ne[3]];if(h)be=$(Fe,[Je,qe,vt],[Ie[Ne[0]],Ie[Ne[1]],Ie[Ne[2]]])||be;else{var Wt=ce(bt,Je,ze,Re),qt=ce(bt,qe,ze,Re),At=ce(bt,vt,ze,Re);be=$(null,[Wt,qt,At],[-1,-1,-1])||be}Ee=!0}}),Ee||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Ne){if(Ae[Ne[0]]&&Ae[Ne[1]]&&!Ae[Ne[2]]&&!Ae[Ne[3]]){var Je=ye[Ne[0]],qe=ye[Ne[1]],vt=ye[Ne[2]],bt=ye[Ne[3]],Wt=ce(vt,Je,ze,Re),qt=ce(vt,qe,ze,Re),At=ce(bt,qe,ze,Re),zt=ce(bt,Je,ze,Re);h?(be=$(Fe,[Je,zt,Wt],[Ie[Ne[0]],-1,-1])||be,be=$(Fe,[qe,qt,At],[Ie[Ne[1]],-1,-1])||be):be=le(null,[Wt,qt,At,zt],[-1,-1,-1,-1])||be,Ee=!0}}),Ee)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Ne){if(Ae[Ne[0]]&&!Ae[Ne[1]]&&!Ae[Ne[2]]&&!Ae[Ne[3]]){var Je=ye[Ne[0]],qe=ye[Ne[1]],vt=ye[Ne[2]],bt=ye[Ne[3]],Wt=ce(qe,Je,ze,Re),qt=ce(vt,Je,ze,Re),At=ce(bt,Je,ze,Re);h?(be=$(Fe,[Je,Wt,qt],[Ie[Ne[0]],-1,-1])||be,be=$(Fe,[Je,qt,At],[Ie[Ne[0]],-1,-1])||be,be=$(Fe,[Je,At,Wt],[Ie[Ne[0]],-1,-1])||be):be=$(null,[Wt,qt,At],[-1,-1,-1])||be,Ee=!0}}),be}function xe(Fe,Ie,ze,Re,be,ye,Ae,Ee,Ne,Je,qe){var vt=!1;return w&&(se(Fe,"A")&&(vt=Ce(null,[Ie,ze,Re,ye],Je,qe)||vt),se(Fe,"B")&&(vt=Ce(null,[ze,Re,be,Ne],Je,qe)||vt),se(Fe,"C")&&(vt=Ce(null,[ze,ye,Ae,Ne],Je,qe)||vt),se(Fe,"D")&&(vt=Ce(null,[Re,ye,Ee,Ne],Je,qe)||vt),se(Fe,"E")&&(vt=Ce(null,[ze,Re,ye,Ne],Je,qe)||vt)),h&&(vt=Ce(Fe,[ze,Re,ye,Ne],Je,qe)||vt),vt}function Se(Fe,Ie,ze,Re,be,ye,Ae,Ee){return[Ee[0]===!0?!0:Be(Fe,we([Ie,ze,Re]),[Ie,ze,Re],ye,Ae),Ee[1]===!0?!0:Be(Fe,we([Re,be,Ie]),[Re,be,Ie],ye,Ae)]}function He(Fe,Ie,ze,Re,be,ye,Ae,Ee,Ne){return Ee?Se(Fe,Ie,ze,be,Re,ye,Ae,Ne):Se(Fe,ze,be,Re,Ie,ye,Ae,Ne)}function Ge(Fe,Ie,ze,Re,be,ye,Ae){var Ee=!1,Ne,Je,qe,vt,bt=function(){Ee=Be(Fe,[Ne,Je,qe],[-1,-1,-1],be,ye)||Ee,Ee=Be(Fe,[qe,vt,Ne],[-1,-1,-1],be,ye)||Ee},Wt=Ae[0],qt=Ae[1],At=Ae[2];return Wt&&(Ne=j(we([y(Ie,ze-0,Re-0)])[0],we([y(Ie-1,ze-0,Re-0)])[0],Wt),Je=j(we([y(Ie,ze-0,Re-1)])[0],we([y(Ie-1,ze-0,Re-1)])[0],Wt),qe=j(we([y(Ie,ze-1,Re-1)])[0],we([y(Ie-1,ze-1,Re-1)])[0],Wt),vt=j(we([y(Ie,ze-1,Re-0)])[0],we([y(Ie-1,ze-1,Re-0)])[0],Wt),bt()),qt&&(Ne=j(we([y(Ie-0,ze,Re-0)])[0],we([y(Ie-0,ze-1,Re-0)])[0],qt),Je=j(we([y(Ie-0,ze,Re-1)])[0],we([y(Ie-0,ze-1,Re-1)])[0],qt),qe=j(we([y(Ie-1,ze,Re-1)])[0],we([y(Ie-1,ze-1,Re-1)])[0],qt),vt=j(we([y(Ie-1,ze,Re-0)])[0],we([y(Ie-1,ze-1,Re-0)])[0],qt),bt()),At&&(Ne=j(we([y(Ie-0,ze-0,Re)])[0],we([y(Ie-0,ze-0,Re-1)])[0],At),Je=j(we([y(Ie-0,ze-1,Re)])[0],we([y(Ie-0,ze-1,Re-1)])[0],At),qe=j(we([y(Ie-1,ze-1,Re)])[0],we([y(Ie-1,ze-1,Re-1)])[0],At),vt=j(we([y(Ie-1,ze-0,Re)])[0],we([y(Ie-1,ze-0,Re-1)])[0],At),bt()),Ee}function ke(Fe,Ie,ze,Re,be,ye,Ae,Ee,Ne,Je,qe,vt){var bt=Fe;return vt?(w&&Fe==="even"&&(bt=null),xe(bt,Ie,ze,Re,be,ye,Ae,Ee,Ne,Je,qe)):(w&&Fe==="odd"&&(bt=null),xe(bt,Ne,Ee,Ae,ye,be,Re,ze,Ie,Je,qe))}function We(Fe,Ie,ze,Re,be){for(var ye=[],Ae=0,Ee=0;Ee<Ie.length;Ee++)for(var Ne=Ie[Ee],Je=1;Je<a;Je++)for(var qe=1;qe<b;qe++)ye.push(He(Fe,y(Ne,qe-1,Je-1),y(Ne,qe-1,Je),y(Ne,qe,Je-1),y(Ne,qe,Je),ze,Re,(Ne+qe+Je)%2,be&&be[Ae]?be[Ae]:[])),Ae++;return ye}function it(Fe,Ie,ze,Re,be){for(var ye=[],Ae=0,Ee=0;Ee<Ie.length;Ee++)for(var Ne=Ie[Ee],Je=1;Je<S;Je++)for(var qe=1;qe<a;qe++)ye.push(He(Fe,y(Je-1,Ne,qe-1),y(Je,Ne,qe-1),y(Je-1,Ne,qe),y(Je,Ne,qe),ze,Re,(Je+Ne+qe)%2,be&&be[Ae]?be[Ae]:[])),Ae++;return ye}function et(Fe,Ie,ze,Re,be){for(var ye=[],Ae=0,Ee=0;Ee<Ie.length;Ee++)for(var Ne=Ie[Ee],Je=1;Je<b;Je++)for(var qe=1;qe<S;qe++)ye.push(He(Fe,y(qe-1,Je-1,Ne),y(qe-1,Je,Ne),y(qe,Je-1,Ne),y(qe,Je,Ne),ze,Re,(qe+Je+Ne)%2,be&&be[Ae]?be[Ae]:[])),Ae++;return ye}function tt(Fe,Ie,ze){for(var Re=1;Re<a;Re++)for(var be=1;be<b;be++)for(var ye=1;ye<S;ye++)ke(Fe,y(ye-1,be-1,Re-1),y(ye-1,be-1,Re),y(ye-1,be,Re-1),y(ye-1,be,Re),y(ye,be-1,Re-1),y(ye,be-1,Re),y(ye,be,Re-1),y(ye,be,Re),Ie,ze,(ye+be+Re)%2)}function at(Fe,Ie,ze){h=!0,tt(Fe,Ie,ze),h=!1}function ht(Fe,Ie,ze){w=!0,tt(Fe,Ie,ze),w=!1}function yt(Fe,Ie,ze,Re,be,ye){for(var Ae=[],Ee=0,Ne=0;Ne<Ie.length;Ne++)for(var Je=Ie[Ne],qe=1;qe<a;qe++)for(var vt=1;vt<b;vt++)Ae.push(Ge(Fe,Je,vt,qe,ze,Re,be[Ne],ye&&ye[Ee]?ye[Ee]:[])),Ee++;return Ae}function gt(Fe,Ie,ze,Re,be,ye){for(var Ae=[],Ee=0,Ne=0;Ne<Ie.length;Ne++)for(var Je=Ie[Ne],qe=1;qe<S;qe++)for(var vt=1;vt<a;vt++)Ae.push(Ge(Fe,qe,Je,vt,ze,Re,be[Ne],ye&&ye[Ee]?ye[Ee]:[])),Ee++;return Ae}function Et(Fe,Ie,ze,Re,be,ye){for(var Ae=[],Ee=0,Ne=0;Ne<Ie.length;Ne++)for(var Je=Ie[Ne],qe=1;qe<b;qe++)for(var vt=1;vt<S;vt++)Ae.push(Ge(Fe,vt,qe,Je,ze,Re,be[Ne],ye&&ye[Ee]?ye[Ee]:[])),Ee++;return Ae}function Ct(Fe,Ie){for(var ze=[],Re=Fe;Re<Ie;Re++)ze.push(Re);return ze}function Vt(){for(var Fe=0;Fe<S;Fe++)for(var Ie=0;Ie<b;Ie++)for(var ze=0;ze<a;ze++){var Re=y(Fe,Ie,ze);ae(l._x[Re],l._y[Re],l._z[Re],l._value[Re])}}function Qe(){re(),Vt();var Fe=null;if(u&&c&&(J(c),at(Fe,B,F)),f&&m){J(m);for(var Ie=l.surface.pattern,ze=l.surface.count,Re=0;Re<ze;Re++){var be=ze===1?.5:Re/(ze-1),ye=(1-be)*B+be*F,Ae=Math.abs(ye-z),Ee=Math.abs(ye-I),Ne=Ae>Ee?[z,ye]:[ye,I];ht(Ie,Ne[0],Ne[1])}}var Je=[[Math.min(B,I),Math.max(B,I)],[Math.min(z,F),Math.max(z,F)]];["x","y","z"].forEach(function(qe){for(var vt=[],bt=0;bt<Je.length;bt++){var Wt=0,qt=Je[bt][0],At=Je[bt][1],zt=l.slices[qe];if(zt.show&&zt.fill){J(zt.fill);var Jt=[],Mr=[],pt=[];if(zt.locations.length)for(var Zt=0;Zt<zt.locations.length;Zt++){var Kt=v(zt.locations[Zt],qe==="x"?T:qe==="y"?E:x);Kt.distRatio===0?Jt.push(Kt.id):Kt.id>0&&(Mr.push(Kt.id),qe==="x"?pt.push([Kt.distRatio,0,0]):qe==="y"?pt.push([0,Kt.distRatio,0]):pt.push([0,0,Kt.distRatio]))}else qe==="x"?Jt=Ct(1,S-1):qe==="y"?Jt=Ct(1,b-1):Jt=Ct(1,a-1);Mr.length>0&&(qe==="x"?vt[Wt]=yt(Fe,Mr,qt,At,pt,vt[Wt]):qe==="y"?vt[Wt]=gt(Fe,Mr,qt,At,pt,vt[Wt]):vt[Wt]=Et(Fe,Mr,qt,At,pt,vt[Wt]),Wt++),Jt.length>0&&(qe==="x"?vt[Wt]=We(Fe,Jt,qt,At,vt[Wt]):qe==="y"?vt[Wt]=it(Fe,Jt,qt,At,vt[Wt]):vt[Wt]=et(Fe,Jt,qt,At,vt[Wt]),Wt++)}var mr=l.caps[qe];mr.show&&mr.fill&&(J(mr.fill),qe==="x"?vt[Wt]=We(Fe,[0,S-1],qt,At,vt[Wt]):qe==="y"?vt[Wt]=it(Fe,[0,b-1],qt,At,vt[Wt]):vt[Wt]=et(Fe,[0,a-1],qt,At,vt[Wt]),Wt++)}}),o===0&&re(),l._meshX=O,l._meshY=N,l._meshZ=_,l._meshIntensity=U,l._Xs=T,l._Ys=E,l._Zs=x}return Qe(),l}function n(l,f){var u=l.glplot.gl,m=g({gl:u}),c=new p(l,m,f.uid);return m._trace=c,c.update(f),l.glplot.add(m),c}W.exports={findNearestOnAxis:v,generateIsoMeshes:s,createIsosurfaceTrace:n}},82738:function(W,H,e){var g=e(71828),P=e(73972),i=e(16249),L=e(1586);function A(p,t,r,s){function n(l,f){return g.coerce(p,t,i,l,f)}v(p,t,r,s,n)}function v(p,t,r,s,n){var l=n("isomin"),f=n("isomax");f!=null&&l!==void 0&&l!==null&&l>f&&(t.isomin=null,t.isomax=null);var u=n("x"),m=n("y"),c=n("z"),w=n("value");if(!u||!u.length||!m||!m.length||!c||!c.length||!w||!w.length){t.visible=!1;return}var h=P.getComponentMethod("calendars","handleTraceDefaults");h(p,t,["x","y","z"],s),n("valuehoverformat"),["x","y","z"].forEach(function(T){n(T+"hoverformat");var E="caps."+T,x=n(E+".show");x&&n(E+".fill");var S="slices."+T,b=n(S+".show");b&&(n(S+".fill"),n(S+".locations"))});var o=n("spaceframe.show");o&&n("spaceframe.fill");var d=n("surface.show");d&&(n("surface.count"),n("surface.fill"),n("surface.pattern"));var M=n("contour.show");M&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(T){n(T)}),L(p,t,s,n,{prefix:"",cLetter:"c"}),t._length=null}W.exports={supplyDefaults:A,supplyIsoDefaults:v}},64943:function(W,H,e){W.exports={attributes:e(16249),supplyDefaults:e(82738).supplyDefaults,calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(W,H,e){var g=e(50693),P=e(12663).axisHoverFormat,i=e(5386).fF,L=e(54532),A=e(9012),v=e(1426).extendFlat;W.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:i({editType:"calc"}),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},g("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},L.contours.x.show,{}),color:L.contours.x.color,width:L.contours.x.width,editType:"calc"},lightposition:{x:v({},L.lightposition.x,{dflt:1e5}),y:v({},L.lightposition.y,{dflt:1e5}),z:v({},L.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},L.lighting),hoverinfo:v({},A.hoverinfo,{editType:"calc"}),showlegend:v({},A.showlegend,{dflt:!1})})},82932:function(W,H,e){var g=e(78803);W.exports=function(i,L){L.intensity&&g(i,L,{vals:L.intensity,containerStr:"",cLetter:"c"})}},91134:function(W,H,e){var g=e(9330).gl_mesh3d,P=e(9330).delaunay_triangulate,i=e(9330).alpha_shape,L=e(9330).convex_hull,A=e(81697).parseColorScale,v=e(78614),p=e(21081).extractOpts,t=e(90060);function r(w,h,o){this.scene=w,this.uid=o,this.mesh=h,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var s=r.prototype;s.handlePick=function(w){if(w.object===this.mesh){var h=w.index=w.data.index;w.data._cellCenter?w.traceCoordinate=w.data.dataCoordinate:w.traceCoordinate=[this.data.x[h],this.data.y[h],this.data.z[h]];var o=this.data.hovertext||this.data.text;return Array.isArray(o)&&o[h]!==void 0?w.textLabel=o[h]:o&&(w.textLabel=o),!0}};function n(w){for(var h=[],o=w.length,d=0;d<o;d++)h[d]=v(w[d]);return h}function l(w,h,o,d){for(var M=[],T=h.length,E=0;E<T;E++)M[E]=w.d2l(h[E],0,d)*o;return M}function f(w){for(var h=[],o=w.length,d=0;d<o;d++)h[d]=Math.round(w[d]);return h}function u(w,h){for(var o=["x","y","z"].indexOf(w),d=[],M=h.length,T=0;T<M;T++)d[T]=[h[T][(o+1)%3],h[T][(o+2)%3]];return P(d)}function m(w,h){for(var o=w.length,d=0;d<o;d++)if(w[d]<=-.5||w[d]>=h-.5)return!1;return!0}s.update=function(w){var h=this.scene,o=h.fullSceneLayout;this.data=w;var d=w.x.length,M=t(l(o.xaxis,w.x,h.dataScale[0],w.xcalendar),l(o.yaxis,w.y,h.dataScale[1],w.ycalendar),l(o.zaxis,w.z,h.dataScale[2],w.zcalendar)),T;if(w.i&&w.j&&w.k){if(w.i.length!==w.j.length||w.j.length!==w.k.length||!m(w.i,d)||!m(w.j,d)||!m(w.k,d))return;T=t(f(w.i),f(w.j),f(w.k))}else w.alphahull===0?T=L(M):w.alphahull>0?T=i(w.alphahull,M):T=u(w.delaunayaxis,M);var E={positions:M,cells:T,lightPosition:[w.lightposition.x,w.lightposition.y,w.lightposition.z],ambient:w.lighting.ambient,diffuse:w.lighting.diffuse,specular:w.lighting.specular,roughness:w.lighting.roughness,fresnel:w.lighting.fresnel,vertexNormalsEpsilon:w.lighting.vertexnormalsepsilon,faceNormalsEpsilon:w.lighting.facenormalsepsilon,opacity:w.opacity,contourEnable:w.contour.show,contourColor:v(w.contour.color).slice(0,3),contourWidth:w.contour.width,useFacetNormals:w.flatshading};if(w.intensity){var x=p(w);this.color="#fff";var S=w.intensitymode;E[S+"Intensity"]=w.intensity,E[S+"IntensityBounds"]=[x.min,x.max],E.colormap=A(w)}else w.vertexcolor?(this.color=w.vertexcolor[0],E.vertexColors=n(w.vertexcolor)):w.facecolor?(this.color=w.facecolor[0],E.cellColors=n(w.facecolor)):(this.color=w.color,E.meshColor=v(w.color));this.mesh.update(E)},s.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function c(w,h){var o=w.glplot.gl,d=g({gl:o}),M=new r(w,d,h.uid);return d._trace=M,M.update(h),w.glplot.add(d),M}W.exports=c},58669:function(W,H,e){var g=e(73972),P=e(71828),i=e(1586),L=e(2418);W.exports=function(v,p,t,r){function s(m,c){return P.coerce(v,p,L,m,c)}function n(m){var c=m.map(function(w){var h=s(w);return h&&P.isArrayOrTypedArray(h)?h:null});return c.every(function(w){return w&&w.length===c[0].length})&&c}var l=n(["x","y","z"]);if(!l){p.visible=!1;return}if(n(["i","j","k"]),p.i&&(!p.j||!p.k)||p.j&&(!p.k||!p.i)||p.k&&(!p.i||!p.j)){p.visible=!1;return}var f=g.getComponentMethod("calendars","handleTraceDefaults");f(v,p,["x","y","z"],r),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(m){s(m)});var u=s("contour.show");u&&(s("contour.color"),s("contour.width")),"intensity"in v?(s("intensity"),s("intensitymode"),i(v,p,r,s,{prefix:"",cLetter:"c"})):(p.showscale=!1,"facecolor"in v?s("facecolor"):"vertexcolor"in v?s("vertexcolor"):s("color",t)),s("text"),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat"),s("zhoverformat"),p._length=null}},21164:function(W,H,e){W.exports={attributes:e(2418),supplyDefaults:e(58669),calc:e(82932),colorbar:{min:"cmin",max:"cmax"},plot:e(91134),moduleType:"trace",name:"mesh3d",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(W,H,e){var g=e(71828).extendFlat,P=e(82196),i=e(12663).axisHoverFormat,L=e(79952).P,A=e(77914),v=e(22372),p=v.INCREASING.COLOR,t=v.DECREASING.COLOR,r=P.line;function s(n){return{line:{color:g({},r.color,{dflt:n}),width:r.width,dash:L,editType:"style"},editType:"style"}}W.exports={xperiod:P.xperiod,xperiod0:P.xperiod0,xperiodalignment:P.xperiodalignment,xhoverformat:i("x"),yhoverformat:i("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:g({},r.width,{}),dash:g({},L,{}),editType:"style"},increasing:s(p),decreasing:s(t),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:g({},A.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(W,H,e){var g=e(71828),P=g._,i=e(89298),L=e(42973),A=e(50606).BADNUM;function v(s,n){var l=i.getFromId(s,n.xaxis),f=i.getFromId(s,n.yaxis),u=r(s,l,n),m=n._minDiff;n._minDiff=null;var c=n._origX;n._origX=null;var w=n._xcalc;n._xcalc=null;var h=t(s,n,c,w,f,p);return n._extremes[l._id]=i.findExtremes(l,w,{vpad:m/2}),h.length?(g.extendFlat(h[0].t,{wHover:m/2,tickLen:u}),h):[{t:{empty:!0}}]}function p(s,n,l,f){return{o:s,h:n,l,c:f}}function t(s,n,l,f,u,m){for(var c=u.makeCalcdata(n,"open"),w=u.makeCalcdata(n,"high"),h=u.makeCalcdata(n,"low"),o=u.makeCalcdata(n,"close"),d=Array.isArray(n.text),M=Array.isArray(n.hovertext),T=!0,E=null,x=!!n.xperiodalignment,S=[],b=0;b<f.length;b++){var a=f[b],C=c[b],y=w[b],z=h[b],I=o[b];if(a!==A&&C!==A&&y!==A&&z!==A&&I!==A){I===C?E!==null&&I!==E&&(T=I>E):T=I>C,E=I;var B=m(C,y,z,I);B.pos=a,B.yc=(C+I)/2,B.i=b,B.dir=T?"increasing":"decreasing",B.x=B.pos,B.y=[z,y],x&&(B.orig_p=l[b]),d&&(B.tx=n.text[b]),M&&(B.htx=n.hovertext[b]),S.push(B)}else S.push({pos:a,empty:!0})}return n._extremes[u._id]=i.findExtremes(u,g.concat(h,w),{padded:!0}),S.length&&(S[0].t={labels:{open:P(s,"open:")+" ",high:P(s,"high:")+" ",low:P(s,"low:")+" ",close:P(s,"close:")+" "}}),S}function r(s,n,l){var f=l._minDiff;if(!f){var u=s._fullData,m=[];f=1/0;var c;for(c=0;c<u.length;c++){var w=u[c];if(w.type==="ohlc"&&w.visible===!0&&w.xaxis===n._id){m.push(w);var h=n.makeCalcdata(w,"x");w._origX=h;var o=L(l,n,"x",h).vals;w._xcalc=o;var d=g.distinctVals(o).minDiff;d&&isFinite(d)&&(f=Math.min(f,d))}}for(f===1/0&&(f=1),c=0;c<m.length;c++)m[c]._minDiff=f}return f*l.tickwidth}W.exports={calc:v,calcCommon:t}},16169:function(W,H,e){var g=e(71828),P=e(14555),i=e(73927),L=e(2522);W.exports=function(p,t,r,s){function n(f,u){return g.coerce(p,t,L,f,u)}var l=P(p,t,n,s);if(!l){t.visible=!1;return}i(p,t,s,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),A(p,t,n,"increasing"),A(p,t,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),s._requestRangeslider[t.xaxis]=!0};function A(v,p,t,r){t(r+".line.color"),t(r+".line.width",p.line.width),t(r+".line.dash",p.line.dash)}},66449:function(W,H,e){var g=e(89298),P=e(71828),i=e(30211),L=e(7901),A=e(71828).fillText,v=e(22372),p={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function t(l,f,u,m){var c=l.cd,w=c[0].trace;return w.hoverlabel.split?s(l,f,u,m):n(l,f,u,m)}function r(l,f,u,m){var c=l.cd,w=l.xa,h=c[0].trace,o=c[0].t,d=h.type,M=d==="ohlc"?"l":"min",T=d==="ohlc"?"h":"max",E,x,S=o.bPos||0,b=function(Y){return Y.pos+S-f},a=o.bdPos||o.tickLen,C=o.wHover,y=Math.min(1,a/Math.abs(w.r2c(w.range[1])-w.r2c(w.range[0])));E=l.maxHoverDistance-y,x=l.maxSpikeDistance-y;function z(Y){var K=b(Y);return i.inbox(K-C,K+C,E)}function I(Y){var K=Y[M],re=Y[T];return K===re||i.inbox(K-u,re-u,E)}function B(Y){return(z(Y)+I(Y))/2}var F=i.getDistanceFunction(m,z,I,B);if(i.getClosest(c,F,l),l.index===!1)return null;var O=c[l.index];if(O.empty)return null;var N=O.dir,_=h[N],U=_.line.color;return L.opacity(U)&&_.line.width?l.color=U:l.color=_.fillcolor,l.x0=w.c2p(O.pos+S-a,!0),l.x1=w.c2p(O.pos+S+a,!0),l.xLabelVal=O.orig_p!==void 0?O.orig_p:O.pos,l.spikeDistance=B(O)*x/E,l.xSpike=w.c2p(O.pos,!0),l}function s(l,f,u,m){var c=l.cd,w=l.ya,h=c[0].trace,o=c[0].t,d=[],M=r(l,f,u,m);if(!M)return[];var T=M.index,E=c[T],x=E.hi||h.hoverinfo,S=x.split("+"),b=x==="all",a=b||S.indexOf("y")!==-1;if(!a)return[];for(var C=["high","open","close","low"],y={},z=0;z<C.length;z++){var I=C[z],B=h[I][M.index],F=w.c2p(B,!0),O;B in y?(O=y[B],O.yLabel+="<br>"+o.labels[I]+g.hoverLabelText(w,B,h.yhoverformat)):(O=P.extendFlat({},M),O.y0=O.y1=F,O.yLabelVal=B,O.yLabel=o.labels[I]+g.hoverLabelText(w,B,h.yhoverformat),O.name="",d.push(O),y[B]=O)}return d}function n(l,f,u,m){var c=l.cd,w=l.ya,h=c[0].trace,o=c[0].t,d=r(l,f,u,m);if(!d)return[];var M=d.index,T=c[M],E=d.index=T.i,x=T.dir;function S(B){return o.labels[B]+g.hoverLabelText(w,h[B][E],h.yhoverformat)}var b=T.hi||h.hoverinfo,a=b.split("+"),C=b==="all",y=C||a.indexOf("y")!==-1,z=C||a.indexOf("text")!==-1,I=y?[S("open"),S("high"),S("low"),S("close")+"  "+p[x]]:[];return z&&A(T,h,I),d.extraText=I.join("<br>"),d.y0=d.y1=w.c2p(T.yc,!0),[d]}W.exports={hoverPoints:t,hoverSplit:s,hoverOnPoints:n}},54186:function(W,H,e){W.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(2522),supplyDefaults:e(16169),calc:e(3485).calc,plot:e(72314),style:e(53101),hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},14555:function(W,H,e){var g=e(73972),P=e(71828);W.exports=function(L,A,v,p){var t=v("x"),r=v("open"),s=v("high"),n=v("low"),l=v("close");v("hoverlabel.split");var f=g.getComponentMethod("calendars","handleTraceDefaults");if(f(L,A,["x"],p),!!(r&&s&&n&&l)){var u=Math.min(r.length,s.length,n.length,l.length);return t&&(u=Math.min(u,P.minRowLength(t))),A._length=u,u}}},72314:function(W,H,e){var g=e(39898),P=e(71828);W.exports=function(L,A,v,p){var t=A.yaxis,r=A.xaxis,s=!!r.rangebreaks;P.makeTraceGroups(p,v,"trace ohlc").each(function(n){var l=g.select(this),f=n[0],u=f.t,m=f.trace;if(m.visible!==!0||u.empty){l.remove();return}var c=u.tickLen,w=l.selectAll("path").data(P.identity);w.enter().append("path"),w.exit().remove(),w.attr("d",function(h){if(h.empty)return"M0,0Z";var o=r.c2p(h.pos-c,!0),d=r.c2p(h.pos+c,!0),M=s?(o+d)/2:r.c2p(h.pos,!0),T=t.c2p(h.o,!0),E=t.c2p(h.h,!0),x=t.c2p(h.l,!0),S=t.c2p(h.c,!0);return"M"+o+","+T+"H"+M+"M"+M+","+E+"V"+x+"M"+d+","+S+"H"+M})})}},67324:function(W){W.exports=function(e,g){var P=e.cd,i=e.xaxis,L=e.yaxis,A=[],v,p=P[0].t.bPos||0;if(g===!1)for(v=0;v<P.length;v++)P[v].selected=0;else for(v=0;v<P.length;v++){var t=P[v];g.contains([i.c2p(t.pos+p),L.c2p(t.yc)],null,t.i,e)?(A.push({pointNumber:t.i,x:i.c2d(t.pos),y:L.c2d(t.yc)}),t.selected=1):t.selected=0}return A}},53101:function(W,H,e){var g=e(39898),P=e(91424),i=e(7901);W.exports=function(A,v,p){var t=p||g.select(A).selectAll("g.ohlclayer").selectAll("g.trace");t.style("opacity",function(r){return r[0].trace.opacity}),t.each(function(r){var s=r[0].trace;g.select(this).selectAll("path").each(function(n){if(!n.empty){var l=s[n.dir].line;g.select(this).style("fill","none").call(i.stroke,l.color).call(P.dashLine,l.dash,l.width).style("opacity",s.selectedpoints&&!n.selected?.3:1)}})})}},99506:function(W,H,e){var g=e(1426).extendFlat,P=e(9012),i=e(41940),L=e(50693),A=e(5386).fF,v=e(27670).Y,p=g({editType:"calc"},L("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:A({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});W.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:g({},P.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:A({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:i({editType:"calc"}),tickfont:i({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:p,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(W,H,e){var g=e(27659).a0,P=e(45784),i="parcats";H.name=i,H.plot=function(L,A,v,p){var t=g(L.calcdata,i);if(t.length){var r=t[0];P(L,r,v,p)}},H.clean=function(L,A,v,p){var t=p._has&&p._has("parcats"),r=A._has&&A._has("parcats");t&&!r&&p._paperdiv.selectAll(".parcats").remove()}},28699:function(W,H,e){var g=e(28984).wrap,P=e(52075).hasColorscale,i=e(78803),L=e(75744),A=e(91424),v=e(71828),p=e(92770);W.exports=function(o,d){var M=v.filterVisible(d.dimensions);if(M.length===0)return[];var T=M.map(function(Q){var j;if(Q.categoryorder==="trace")j=null;else if(Q.categoryorder==="array")j=Q.categoryarray;else{j=L(Q.values);for(var X=!0,J=0;J<j.length;J++)if(!p(j[J])){X=!1;break}j.sort(X?v.sorterAsc:void 0),Q.categoryorder==="category descending"&&(j=j.reverse())}return u(Q.values,j)}),E,x,S;v.isArrayOrTypedArray(d.counts)?E=d.counts:E=[d.counts],m(M),M.forEach(function(Q,j){c(Q,T[j])});var b=d.line,a;b?(P(d,"line")&&i(o,d,{vals:d.line.color,containerStr:"line",cLetter:"c"}),a=A.tryColorscale(b)):a=v.identity;function C(Q){var j,X;return v.isArrayOrTypedArray(b.color)?(j=b.color[Q%b.color.length],X=j):j=b.color,{color:a(j),rawColor:X}}var y=M[0].values.length,z={},I=T.map(function(Q){return Q.inds});S=0;var B,F;for(B=0;B<y;B++){var O=[];for(F=0;F<I.length;F++)O.push(I[F][B]);x=E[B%E.length],S+=x;var N=C(B),_=O+"-"+N.rawColor;z[_]===void 0&&(z[_]=l(O,N.color,N.rawColor)),f(z[_],B,x)}var U=M.map(function(Q,j){return r(j,Q._index,Q._displayindex,Q.label,S)});for(B=0;B<y;B++)for(x=E[B%E.length],F=0;F<U.length;F++){var Y=U[F].containerInd,K=T[F].inds[B],re=U[F].categories;if(re[K]===void 0){var ae=d.dimensions[Y]._categoryarray[K],fe=d.dimensions[Y]._ticktext[K];re[K]=s(F,K,ae,fe)}n(re[K],B,x)}return g(t(U,z,S))};function t(h,o,d){var M=h.map(function(T){return T.categories.length}).reduce(function(T,E){return Math.max(T,E)});return{dimensions:h,paths:o,trace:void 0,maxCats:M,count:d}}function r(h,o,d,M,T){return{dimensionInd:h,containerInd:o,displayInd:d,dimensionLabel:M,count:T,categories:[],dragX:null}}function s(h,o,d,M){return{dimensionInd:h,categoryInd:o,categoryValue:d,displayInd:o,categoryLabel:M,valueInds:[],count:0,dragY:null}}function n(h,o,d){h.valueInds.push(o),h.count+=d}function l(h,o,d){return{categoryInds:h,color:o,rawColor:d,valueInds:[],count:0}}function f(h,o,d){h.valueInds.push(o),h.count+=d}function u(h,o){o==null?o=[]:o=o.map(function(a){return a});var d={},M={},T=[];o.forEach(function(a,C){d[a]=0,M[a]=C});for(var E=0;E<h.length;E++){var x=h[E],S;d[x]===void 0?(d[x]=1,S=o.push(x)-1,M[x]=S):(d[x]++,S=M[x]),T.push(S)}var b=o.map(function(a){return d[a]});return{uniqueValues:o,uniqueCounts:b,inds:T}}function m(h){var o=h.map(function(M){return M.displayindex}),d;if(w(o))for(d=0;d<h.length;d++)h[d]._displayindex=h[d].displayindex;else for(d=0;d<h.length;d++)h[d]._displayindex=d}function c(h,o){h._categoryarray=o.uniqueValues,h.ticktext===null||h.ticktext===void 0?h._ticktext=[]:h._ticktext=h.ticktext.slice();for(var d=h._ticktext.length;d<o.uniqueValues.length;d++)h._ticktext.push(o.uniqueValues[d])}function w(h){for(var o=new Array(h.length),d=0;d<h.length;d++){if(h[d]<0||h[d]>=h.length||o[h[d]]!==void 0)return!1;o[h[d]]=!0}return!0}},14647:function(W,H,e){var g=e(71828),P=e(52075).hasColorscale,i=e(1586),L=e(27670).c,A=e(85501),v=e(99506),p=e(94397);function t(s,n,l,f,u){u("line.shape"),u("line.hovertemplate");var m=u("line.color",f.colorway[0]);if(P(s,"line")&&g.isArrayOrTypedArray(m)){if(m.length)return u("line.colorscale"),i(s,n,f,u,{prefix:"line.",cLetter:"c"}),m.length;n.line.color=l}return 1/0}function r(s,n){function l(o,d){return g.coerce(s,n,v.dimensions,o,d)}var f=l("values"),u=l("visible");if(f&&f.length||(u=n.visible=!1),u){l("label"),l("displayindex",n._index);var m=s.categoryarray,c=Array.isArray(m)&&m.length>0,w;c&&(w="array");var h=l("categoryorder",w);h==="array"?(l("categoryarray"),l("ticktext")):(delete s.categoryarray,delete s.ticktext),!c&&h==="array"&&(n.categoryorder="trace")}}W.exports=function(n,l,f,u){function m(d,M){return g.coerce(n,l,v,d,M)}var c=A(n,l,{name:"dimensions",handleItemDefaults:r}),w=t(n,l,f,u,m);L(l,u,m),(!Array.isArray(c)||!c.length)&&(l.visible=!1),p(l,c,"values",w),m("hoveron"),m("hovertemplate"),m("arrangement"),m("bundlecolors"),m("sortpaths"),m("counts");var h={family:u.font.family,size:Math.round(u.font.size),color:u.font.color};g.coerceFont(m,"labelfont",h);var o={family:u.font.family,size:Math.round(u.font.size/1.2),color:u.font.color};g.coerceFont(m,"tickfont",o)}},94873:function(W,H,e){W.exports={attributes:e(99506),supplyDefaults:e(14647),calc:e(28699),plot:e(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(27677),categories:["noOpacity"],meta:{}}},45460:function(W,H,e){var g=e(39898),P=e(81684).k4,i=e(72391),L=e(30211),A=e(71828),v=A.strTranslate,p=e(91424),t=e(84267),r=e(63893);function s(J,ee,se,q){var $=ee._context.staticPlot,le=J.map(ae.bind(0,ee,se)),ie=q.selectAll("g.parcatslayer").data([null]);ie.enter().append("g").attr("class","parcatslayer").style("pointer-events",$?"none":"all");var ce=ie.selectAll("g.trace.parcats").data(le,n),me=ce.enter().append("g").attr("class","trace parcats");ce.attr("transform",function(We){return v(We.x,We.y)}),me.append("g").attr("class","paths");var Me=ce.select("g.paths"),we=Me.selectAll("path.path").data(function(We){return We.paths},n);we.attr("fill",function(We){return We.model.color});var Oe=we.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(We){return We.model.color}).attr("fill-opacity",0);o(Oe),we.attr("d",function(We){return We.svgD}),Oe.empty()||we.sort(f),we.exit().remove(),we.on("mouseover",u).on("mouseout",m).on("click",h),me.append("g").attr("class","dimensions");var Be=ce.select("g.dimensions"),Ce=Be.selectAll("g.dimension").data(function(We){return We.dimensions},n);Ce.enter().append("g").attr("class","dimension"),Ce.attr("transform",function(We){return v(We.x,0)}),Ce.exit().remove();var xe=Ce.selectAll("g.category").data(function(We){return We.categories},n),Se=xe.enter().append("g").attr("class","category");xe.attr("transform",function(We){return v(0,We.y)}),Se.append("rect").attr("class","catrect").attr("pointer-events","none"),xe.select("rect.catrect").attr("fill","none").attr("width",function(We){return We.width}).attr("height",function(We){return We.height}),T(Se);var He=xe.selectAll("rect.bandrect").data(function(We){return We.bands},n);He.each(function(){A.raiseToTop(this)}),He.attr("fill",function(We){return We.color});var Ge=He.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(We){return We.color}).attr("fill-opacity",0);He.attr("fill",function(We){return We.color}).attr("width",function(We){return We.width}).attr("height",function(We){return We.height}).attr("y",function(We){return We.y}).attr("cursor",function(We){return We.parcatsViewModel.arrangement==="fixed"?"default":We.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),x(Ge),He.exit().remove(),Se.append("text").attr("class","catlabel").attr("pointer-events","none");var ke=ee._fullLayout.paper_bgcolor;xe.select("text.catlabel").attr("text-anchor",function(We){return l(We)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",r.makeTextShadow(ke)).style("fill","rgb(0, 0, 0)").attr("x",function(We){return l(We)?We.width+5:-5}).attr("y",function(We){return We.height/2}).text(function(We){return We.model.categoryLabel}).each(function(We){p.font(g.select(this),We.parcatsViewModel.categorylabelfont),r.convertToTspans(g.select(this),ee)}),Se.append("text").attr("class","dimlabel"),xe.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(We){return We.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(We){return We.width/2}).attr("y",-5).text(function(We,it){return it===0?We.parcatsViewModel.model.dimensions[We.model.dimensionInd].dimensionLabel:null}).each(function(We){p.font(g.select(this),We.parcatsViewModel.labelfont)}),xe.selectAll("rect.bandrect").on("mouseover",F).on("mouseout",O),xe.exit().remove(),Ce.call(g.behavior.drag().origin(function(We){return{x:We.x,y:0}}).on("dragstart",N).on("drag",_).on("dragend",U)),ce.each(function(We){We.traceSelection=g.select(this),We.pathSelection=g.select(this).selectAll("g.paths").selectAll("path.path"),We.dimensionSelection=g.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),ce.exit().remove()}W.exports=function(J,ee,se,q){s(se,J,q,ee)};function n(J){return J.key}function l(J){var ee=J.parcatsViewModel.dimensions.length,se=J.parcatsViewModel.dimensions[ee-1].model.dimensionInd;return J.model.dimensionInd===se}function f(J,ee){return J.model.rawColor>ee.model.rawColor?1:J.model.rawColor<ee.model.rawColor?-1:0}function u(J){if(!J.parcatsViewModel.dragDimension&&J.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){A.raiseToTop(this),d(g.select(this));var ee=c(J),se=w(J);if(J.parcatsViewModel.graphDiv.emit("plotly_hover",{points:ee,event:g.event,constraints:se}),J.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var q=g.mouse(this)[0],$=J.parcatsViewModel.graphDiv,le=J.parcatsViewModel.trace,ie=$._fullLayout,ce=ie._paperdiv.node().getBoundingClientRect(),me=J.parcatsViewModel.graphDiv.getBoundingClientRect(),Me,we,Oe;for(Oe=0;Oe<J.leftXs.length-1;Oe++)if(J.leftXs[Oe]+J.dimWidths[Oe]-2<=q&&q<=J.leftXs[Oe+1]+2){var Be=J.parcatsViewModel.dimensions[Oe],Ce=J.parcatsViewModel.dimensions[Oe+1];Me=(Be.x+Be.width+Ce.x)/2,we=(J.topYs[Oe]+J.topYs[Oe+1]+J.height)/2;break}var xe=J.parcatsViewModel.x+Me,Se=J.parcatsViewModel.y+we,He=t.mostReadable(J.model.color,["black","white"]),Ge=J.model.count,ke=Ge/J.parcatsViewModel.model.count,We={countLabel:Ge,probabilityLabel:ke.toFixed(3)},it=[];J.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&it.push(["Count:",We.countLabel].join(" ")),J.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&it.push(["P:",We.probabilityLabel].join(" "));var et=it.join("<br>"),tt=g.mouse($)[0];L.loneHover({trace:le,x:xe-ce.left+me.left,y:Se-ce.top+me.top,text:et,color:J.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:He,idealAlign:tt<xe?"right":"left",hovertemplate:(le.line||{}).hovertemplate,hovertemplateLabels:We,eventData:[{data:le._input,fullData:le,count:Ge,probability:ke}]},{container:ie._hoverlayer.node(),outerContainer:ie._paper.node(),gd:$})}}}function m(J){if(!J.parcatsViewModel.dragDimension&&(o(g.select(this)),L.loneUnhover(J.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),J.parcatsViewModel.pathSelection.sort(f),J.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var ee=c(J),se=w(J);J.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:ee,event:g.event,constraints:se})}}function c(J){for(var ee=[],se=Y(J.parcatsViewModel),q=0;q<J.model.valueInds.length;q++){var $=J.model.valueInds[q];ee.push({curveNumber:se,pointNumber:$})}return ee}function w(J){for(var ee={},se=J.parcatsViewModel.model.dimensions,q=0;q<se.length;q++){var $=se[q],le=$.categories[J.model.categoryInds[q]];ee[$.containerInd]=le.categoryValue}return J.model.rawColor!==void 0&&(ee.color=J.model.rawColor),ee}function h(J){if(J.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var ee=c(J),se=w(J);J.parcatsViewModel.graphDiv.emit("plotly_click",{points:ee,event:g.event,constraints:se})}}function o(J){J.attr("fill",function(ee){return ee.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function d(J){J.attr("fill-opacity",.8).attr("stroke",function(ee){return t.mostReadable(ee.model.color,["black","white"])}).attr("stroke-width",.3)}function M(J){J.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function T(J){J.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function E(J){J.attr("stroke","black").attr("stroke-width",1.5)}function x(J){J.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function S(J){var ee=J.parcatsViewModel.pathSelection,se=J.categoryViewModel.model.dimensionInd,q=J.categoryViewModel.model.categoryInd;return ee.filter(function($){return $.model.categoryInds[se]===q&&$.model.color===J.color})}function b(J){var ee=g.select(J.parentNode).selectAll("rect.bandrect");ee.each(function(se){var q=S(se);d(q),q.each(function(){A.raiseToTop(this)})}),M(g.select(J.parentNode))}function a(J){var ee=g.select(J).datum(),se=S(ee);d(se),se.each(function(){A.raiseToTop(this)}),g.select(J.parentNode).selectAll("rect.bandrect").filter(function(q){return q.color===ee.color}).each(function(){A.raiseToTop(this),E(g.select(this))})}function C(J,ee,se){var q=g.select(J).datum(),$=q.categoryViewModel.model,le=q.parcatsViewModel.graphDiv,ie=g.select(J.parentNode).selectAll("rect.bandrect"),ce=[];ie.each(function(Me){var we=S(Me);we.each(function(Oe){Array.prototype.push.apply(ce,c(Oe))})});var me={};me[$.dimensionInd]=$.categoryValue,le.emit(ee,{points:ce,event:se,constraints:me})}function y(J,ee,se){var q=g.select(J).datum(),$=q.categoryViewModel.model,le=q.parcatsViewModel.graphDiv,ie=S(q),ce=[];ie.each(function(Me){Array.prototype.push.apply(ce,c(Me))});var me={};me[$.dimensionInd]=$.categoryValue,q.rawColor!==void 0&&(me.color=q.rawColor),le.emit(ee,{points:ce,event:se,constraints:me})}function z(J,ee,se){J._fullLayout._calcInverseTransform(J);var q=J._fullLayout._invScaleX,$=J._fullLayout._invScaleY,le=g.select(se.parentNode).select("rect.catrect"),ie=le.node().getBoundingClientRect(),ce=le.datum(),me=ce.parcatsViewModel,Me=me.model.dimensions[ce.model.dimensionInd],we=me.trace,Oe=ie.top+ie.height/2,Be,Ce;me.dimensions.length>1&&Me.displayInd===me.dimensions.length-1?(Be=ie.left,Ce="left"):(Be=ie.left+ie.width,Ce="right");var xe=ce.model.count,Se=ce.model.categoryLabel,He=xe/ce.parcatsViewModel.model.count,Ge={countLabel:xe,categoryLabel:Se,probabilityLabel:He.toFixed(3)},ke=[];ce.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&ke.push(["Count:",Ge.countLabel].join(" ")),ce.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&ke.push(["P("+Ge.categoryLabel+"):",Ge.probabilityLabel].join(" "));var We=ke.join("<br>");return{trace:we,x:q*(Be-ee.left),y:$*(Oe-ee.top),text:We,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Ce,hovertemplate:we.hovertemplate,hovertemplateLabels:Ge,eventData:[{data:we._input,fullData:we,count:xe,category:Se,probability:He}]}}function I(J,ee,se){var q=[];return g.select(se.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var $=this;q.push(z(J,ee,$))}),q}function B(J,ee,se){J._fullLayout._calcInverseTransform(J);var q=J._fullLayout._invScaleX,$=J._fullLayout._invScaleY,le=se.getBoundingClientRect(),ie=g.select(se).datum(),ce=ie.categoryViewModel,me=ce.parcatsViewModel,Me=me.model.dimensions[ce.model.dimensionInd],we=me.trace,Oe=le.y+le.height/2,Be,Ce;me.dimensions.length>1&&Me.displayInd===me.dimensions.length-1?(Be=le.left,Ce="left"):(Be=le.left+le.width,Ce="right");var xe=ce.model.categoryLabel,Se=ie.parcatsViewModel.model.count,He=0;ie.categoryViewModel.bands.forEach(function(gt){gt.color===ie.color&&(He+=gt.count)});var Ge=ce.model.count,ke=0;me.pathSelection.each(function(gt){gt.model.color===ie.color&&(ke+=gt.model.count)});var We=He/Se,it=He/ke,et=He/Ge,tt={countLabel:Se,categoryLabel:xe,probabilityLabel:We.toFixed(3)},at=[];ce.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&at.push(["Count:",tt.countLabel].join(" ")),ce.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(at.push("P(color  "+xe+"): "+tt.probabilityLabel),at.push("P("+xe+" | color): "+it.toFixed(3)),at.push("P(color | "+xe+"): "+et.toFixed(3)));var ht=at.join("<br>"),yt=t.mostReadable(ie.color,["black","white"]);return{trace:we,x:q*(Be-ee.left),y:$*(Oe-ee.top),text:ht,color:ie.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:yt,fontSize:10,idealAlign:Ce,hovertemplate:we.hovertemplate,hovertemplateLabels:tt,eventData:[{data:we._input,fullData:we,category:xe,count:Se,probability:We,categorycount:Ge,colorcount:ke,bandcolorcount:He}]}}function F(J){if(!J.parcatsViewModel.dragDimension&&J.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var ee=g.mouse(this)[1];if(ee<-1)return;var se=J.parcatsViewModel.graphDiv,q=se._fullLayout,$=q._paperdiv.node().getBoundingClientRect(),le=J.parcatsViewModel.hoveron,ie=this;if(le==="color"?(a(ie),y(ie,"plotly_hover",g.event)):(b(ie),C(ie,"plotly_hover",g.event)),J.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var ce;le==="category"?ce=z(se,$,ie):le==="color"?ce=B(se,$,ie):le==="dimension"&&(ce=I(se,$,ie)),ce&&L.loneHover(ce,{container:q._hoverlayer.node(),outerContainer:q._paper.node(),gd:se})}}}function O(J){var ee=J.parcatsViewModel;if(!ee.dragDimension&&(o(ee.pathSelection),T(ee.dimensionSelection.selectAll("g.category")),x(ee.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),L.loneUnhover(ee.graphDiv._fullLayout._hoverlayer.node()),ee.pathSelection.sort(f),ee.hoverinfoItems.indexOf("skip")===-1)){var se=J.parcatsViewModel.hoveron,q=this;se==="color"?y(q,"plotly_unhover",g.event):C(q,"plotly_unhover",g.event)}}function N(J){J.parcatsViewModel.arrangement!=="fixed"&&(J.dragDimensionDisplayInd=J.model.displayInd,J.initialDragDimensionDisplayInds=J.parcatsViewModel.model.dimensions.map(function(ee){return ee.displayInd}),J.dragHasMoved=!1,J.dragCategoryDisplayInd=null,g.select(this).selectAll("g.category").select("rect.catrect").each(function(ee){var se=g.mouse(this)[0],q=g.mouse(this)[1];-2<=se&&se<=ee.width+2&&-2<=q&&q<=ee.height+2&&(J.dragCategoryDisplayInd=ee.model.displayInd,J.initialDragCategoryDisplayInds=J.model.categories.map(function($){return $.displayInd}),ee.model.dragY=ee.y,A.raiseToTop(this.parentNode),g.select(this.parentNode).selectAll("rect.bandrect").each(function($){$.y<q&&q<=$.y+$.height&&(J.potentialClickBand=this)}))}),J.parcatsViewModel.dragDimension=J,L.loneUnhover(J.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function _(J){if(J.parcatsViewModel.arrangement!=="fixed"&&(J.dragHasMoved=!0,J.dragDimensionDisplayInd!==null)){var ee=J.dragDimensionDisplayInd,se=ee-1,q=ee+1,$=J.parcatsViewModel.dimensions[ee];if(J.dragCategoryDisplayInd!==null){var le=$.categories[J.dragCategoryDisplayInd];le.model.dragY+=g.event.dy;var ie=le.model.dragY,ce=le.model.displayInd,me=$.categories,Me=me[ce-1],we=me[ce+1];Me!==void 0&&ie<Me.y+Me.height/2&&(le.model.displayInd=Me.model.displayInd,Me.model.displayInd=ce),we!==void 0&&ie+le.height>we.y+we.height/2&&(le.model.displayInd=we.model.displayInd,we.model.displayInd=ce),J.dragCategoryDisplayInd=le.model.displayInd}if(J.dragCategoryDisplayInd===null||J.parcatsViewModel.arrangement==="freeform"){$.model.dragX=g.event.x;var Oe=J.parcatsViewModel.dimensions[se],Be=J.parcatsViewModel.dimensions[q];Oe!==void 0&&$.model.dragX<Oe.x+Oe.width&&($.model.displayInd=Oe.model.displayInd,Oe.model.displayInd=ee),Be!==void 0&&$.model.dragX+$.width>Be.x&&($.model.displayInd=Be.model.displayInd,Be.model.displayInd=J.dragDimensionDisplayInd),J.dragDimensionDisplayInd=$.model.displayInd}j(J.parcatsViewModel),Q(J.parcatsViewModel),re(J.parcatsViewModel),K(J.parcatsViewModel)}}function U(J){if(J.parcatsViewModel.arrangement!=="fixed"&&J.dragDimensionDisplayInd!==null){g.select(this).selectAll("text").attr("font-weight","normal");var ee={},se=Y(J.parcatsViewModel),q=J.parcatsViewModel.model.dimensions.map(function(Be){return Be.displayInd}),$=J.initialDragDimensionDisplayInds.some(function(Be,Ce){return Be!==q[Ce]});$&&q.forEach(function(Be,Ce){var xe=J.parcatsViewModel.model.dimensions[Ce].containerInd;ee["dimensions["+xe+"].displayindex"]=Be});var le=!1;if(J.dragCategoryDisplayInd!==null){var ie=J.model.categories.map(function(Be){return Be.displayInd});if(le=J.initialDragCategoryDisplayInds.some(function(Be,Ce){return Be!==ie[Ce]}),le){var ce=J.model.categories.slice().sort(function(Be,Ce){return Be.displayInd-Ce.displayInd}),me=ce.map(function(Be){return Be.categoryValue}),Me=ce.map(function(Be){return Be.categoryLabel});ee["dimensions["+J.model.containerInd+"].categoryarray"]=[me],ee["dimensions["+J.model.containerInd+"].ticktext"]=[Me],ee["dimensions["+J.model.containerInd+"].categoryorder"]="array"}}if(J.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!J.dragHasMoved&&J.potentialClickBand&&(J.parcatsViewModel.hoveron==="color"?y(J.potentialClickBand,"plotly_click",g.event.sourceEvent):C(J.potentialClickBand,"plotly_click",g.event.sourceEvent)),J.model.dragX=null,J.dragCategoryDisplayInd!==null){var we=J.parcatsViewModel.dimensions[J.dragDimensionDisplayInd].categories[J.dragCategoryDisplayInd];we.model.dragY=null,J.dragCategoryDisplayInd=null}J.dragDimensionDisplayInd=null,J.parcatsViewModel.dragDimension=null,J.dragHasMoved=null,J.potentialClickBand=null,j(J.parcatsViewModel),Q(J.parcatsViewModel);var Oe=g.transition().duration(300).ease("cubic-in-out");Oe.each(function(){re(J.parcatsViewModel,!0),K(J.parcatsViewModel,!0)}).each("end",function(){($||le)&&i.restyle(J.parcatsViewModel.graphDiv,ee,[se])})}}function Y(J){for(var ee,se=J.graphDiv._fullData,q=0;q<se.length;q++)if(J.key===se[q].uid){ee=q;break}return ee}function K(J,ee){ee===void 0&&(ee=!1);function se(q){return ee?q.transition():q}J.pathSelection.data(function(q){return q.paths},n),se(J.pathSelection).attr("d",function(q){return q.svgD})}function re(J,ee){ee===void 0&&(ee=!1);function se(me){return ee?me.transition():me}J.dimensionSelection.data(function(me){return me.dimensions},n);var q=J.dimensionSelection.selectAll("g.category").data(function(me){return me.categories},n);se(J.dimensionSelection).attr("transform",function(me){return v(me.x,0)}),se(q).attr("transform",function(me){return v(0,me.y)});var $=q.select(".dimlabel");$.text(function(me,Me){return Me===0?me.parcatsViewModel.model.dimensions[me.model.dimensionInd].dimensionLabel:null});var le=q.select(".catlabel");le.attr("text-anchor",function(me){return l(me)?"start":"end"}).attr("x",function(me){return l(me)?me.width+5:-5}).each(function(me){var Me,we;l(me)?(Me=me.width+5,we="start"):(Me=-5,we="end"),g.select(this).selectAll("tspan").attr("x",Me).attr("text-anchor",we)});var ie=q.selectAll("rect.bandrect").data(function(me){return me.bands},n),ce=ie.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(me){return me.color}).attr("fill-opacity",0);ie.attr("fill",function(me){return me.color}).attr("width",function(me){return me.width}).attr("height",function(me){return me.height}).attr("y",function(me){return me.y}),x(ce),ie.each(function(){A.raiseToTop(this)}),ie.exit().remove()}function ae(J,ee,se){var q=se[0],$=ee.margin||{l:80,r:80,t:100,b:80},le=q.trace,ie=le.domain,ce=ee.width,me=ee.height,Me=Math.floor(ce*(ie.x[1]-ie.x[0])),we=Math.floor(me*(ie.y[1]-ie.y[0])),Oe=ie.x[0]*ce+$.l,Be=ee.height-ie.y[1]*ee.height+$.t,Ce=le.line.shape,xe;le.hoverinfo==="all"?xe=["count","probability"]:xe=(le.hoverinfo||"").split("+");var Se={trace:le,key:le.uid,model:q,x:Oe,y:Be,width:Me,height:we,hoveron:le.hoveron,hoverinfoItems:xe,arrangement:le.arrangement,bundlecolors:le.bundlecolors,sortpaths:le.sortpaths,labelfont:le.labelfont,categorylabelfont:le.tickfont,pathShape:Ce,dragDimension:null,margin:$,paths:[],dimensions:[],graphDiv:J,traceSelection:null,pathSelection:null,dimensionSelection:null};return q.dimensions&&(j(Se),Q(Se)),Se}function fe(J,ee,se,q,$){var le=[],ie=[],ce,me;for(me=0;me<se.length-1;me++)ce=P(se[me]+J[me],J[me+1]),le.push(ce($)),ie.push(ce(1-$));var Me="M "+J[0]+","+ee[0];for(Me+="l"+se[0]+",0 ",me=1;me<se.length;me++)Me+="C"+le[me-1]+","+ee[me-1]+" "+ie[me-1]+","+ee[me]+" "+J[me]+","+ee[me],Me+="l"+se[me]+",0 ";for(Me+="l0,"+q+" ",Me+="l -"+se[se.length-1]+",0 ",me=se.length-2;me>=0;me--)Me+="C"+ie[me]+","+(ee[me+1]+q)+" "+le[me]+","+(ee[me]+q)+" "+(J[me]+se[me])+","+(ee[me]+q),Me+="l-"+se[me]+",0 ";return Me+="Z",Me}function Q(J){var ee=J.dimensions,se=J.model,q=ee.map(function(Vt){return Vt.categories.map(function(Qe){return Qe.y})}),$=J.model.dimensions.map(function(Vt){return Vt.categories.map(function(Qe){return Qe.displayInd})}),le=J.model.dimensions.map(function(Vt){return Vt.displayInd}),ie=J.dimensions.map(function(Vt){return Vt.model.dimensionInd}),ce=ee.map(function(Vt){return Vt.x}),me=ee.map(function(Vt){return Vt.width}),Me=[];for(var we in se.paths)se.paths.hasOwnProperty(we)&&Me.push(se.paths[we]);function Oe(Vt){var Qe=Vt.categoryInds.map(function(Ie,ze){return $[ze][Ie]}),Fe=ie.map(function(Ie){return Qe[Ie]});return Fe}Me.sort(function(Vt,Qe){var Fe=Oe(Vt),Ie=Oe(Qe);return J.sortpaths==="backward"&&(Fe.reverse(),Ie.reverse()),Fe.push(Vt.valueInds[0]),Ie.push(Qe.valueInds[0]),J.bundlecolors&&(Fe.unshift(Vt.rawColor),Ie.unshift(Qe.rawColor)),Fe<Ie?-1:Fe>Ie?1:0});for(var Be=new Array(Me.length),Ce=ee[0].model.count,xe=ee[0].categories.map(function(Vt){return Vt.height}).reduce(function(Vt,Qe){return Vt+Qe}),Se=0;Se<Me.length;Se++){var He=Me[Se],Ge;Ce>0?Ge=xe*(He.count/Ce):Ge=0;for(var ke=new Array(q.length),We=0;We<He.categoryInds.length;We++){var it=He.categoryInds[We],et=$[We][it],tt=le[We];ke[tt]=q[tt][et],q[tt][et]+=Ge;var at=J.dimensions[tt].categories[et],ht=at.bands.length,yt=at.bands[ht-1];if(yt===void 0||He.rawColor!==yt.rawColor){var gt=yt===void 0?0:yt.y+yt.height;at.bands.push({key:gt,color:He.color,rawColor:He.rawColor,height:Ge,width:at.width,count:He.count,y:gt,categoryViewModel:at,parcatsViewModel:J})}else{var Et=at.bands[ht-1];Et.height+=Ge,Et.count+=He.count}}var Ct;J.pathShape==="hspline"?Ct=fe(ce,ke,me,Ge,.5):Ct=fe(ce,ke,me,Ge,0),Be[Se]={key:He.valueInds[0],model:He,height:Ge,leftXs:ce,topYs:ke,dimWidths:me,svgD:Ct,parcatsViewModel:J}}J.paths=Be}function j(J){var ee=J.model.dimensions.map(function(ie){return{displayInd:ie.displayInd,dimensionInd:ie.dimensionInd}});ee.sort(function(ie,ce){return ie.displayInd-ce.displayInd});var se=[];for(var q in ee){var $=ee[q].dimensionInd,le=J.model.dimensions[$];se.push(X(J,le))}J.dimensions=se}function X(J,ee){var se=40,q=16,$=J.model.dimensions.length,le=ee.displayInd,ie,ce,me;$>1?ie=(J.width-2*se-q)/($-1):ie=0,ce=se,me=ce+ie*le;var Me=[],we=J.model.maxCats,Oe=ee.categories.length,Be=8,Ce=ee.count,xe=J.height-Be*(we-1),Se,He,Ge,ke,We,it=(we-Oe)*Be/2,et=ee.categories.map(function(tt){return{displayInd:tt.displayInd,categoryInd:tt.categoryInd}});for(et.sort(function(tt,at){return tt.displayInd-at.displayInd}),We=0;We<Oe;We++)ke=et[We].categoryInd,He=ee.categories[ke],Ce>0?Se=He.count/Ce*xe:Se=0,Ge={key:He.valueInds[0],model:He,width:q,height:Se,y:He.dragY!==null?He.dragY:it,bands:[],parcatsViewModel:J},it=it+Se+Be,Me.push(Ge);return{key:ee.dimensionInd,x:ee.dragX!==null?ee.dragX:me,y:0,width:q,model:ee,categories:Me,parcatsViewModel:J,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},45784:function(W,H,e){var g=e(45460);W.exports=function(i,L,A,v){var p=i._fullLayout,t=p._paper,r=p._size;g(i,t,L,{width:r.w,height:r.h,margin:{t:r.t,r:r.r,b:r.b,l:r.l}},A,v)}},73362:function(W,H,e){var g=e(50693),P=e(13838),i=e(41940),L=e(27670).Y,A=e(1426).extendFlat,v=e(44467).templatedArray;W.exports={domain:L({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:i({editType:"plot"}),tickfont:i({editType:"plot"}),rangefont:i({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:A({},P.tickvals,{editType:"plot"}),ticktext:A({},P.ticktext,{editType:"plot"}),tickformat:A({},P.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:A({editType:"calc"},g("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(W,H,e){var g=e(25706),P=e(39898),i=e(28984).keyFun,L=e(28984).repeat,A=e(71828).sorterAsc,v=e(71828).strTranslate,p=g.bar.snapRatio;function t(U,Y){return U*(1-p)+Y*p}var r=g.bar.snapClose;function s(U,Y){return U*(1-r)+Y*r}function n(U,Y,K,re){if(l(K,re))return K;var ae=U?-1:1,fe=0,Q=Y.length-1;if(ae<0){var j=fe;fe=Q,Q=j}for(var X=Y[fe],J=X,ee=fe;ae*ee<ae*Q;ee+=ae){var se=ee+ae,q=Y[se];if(ae*K<ae*s(X,q))return t(X,J);if(ae*K<ae*q||se===Q)return t(q,X);J=X,X=q}}function l(U,Y){for(var K=0;K<Y.length;K++)if(U>=Y[K][0]&&U<=Y[K][1])return!0;return!1}function f(U){U.attr("x",-g.bar.captureWidth/2).attr("width",g.bar.captureWidth)}function u(U){U.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function m(U){if(!U.brush.filterSpecified)return"0,"+U.height;for(var Y=c(U.brush.filter.getConsolidated(),U.height),K=[0],re,ae,fe,Q=Y.length?Y[0][0]:null,j=0;j<Y.length;j++)re=Y[j],ae=re[1]-re[0],K.push(Q),K.push(ae),fe=j+1,fe<Y.length&&(Q=Y[fe][0]-re[1]);return K.push(U.height),K}function c(U,Y){return U.map(function(K){return K.map(function(re){return Math.max(0,re*Y)}).sort(A)})}function w(U,Y){var K=g.bar.handleHeight;if(!(Y>U[1]+K||Y<U[0]-K))return Y>=.9*U[1]+.1*U[0]?"n":Y<=.9*U[0]+.1*U[1]?"s":"ns"}function h(){P.select(document.body).style("cursor",null)}function o(U){U.attr("stroke-dasharray",m)}function d(U,Y){var K=P.select(U).selectAll(".highlight, .highlight-shadow"),re=Y?K.transition().duration(g.bar.snapDuration).each("end",Y):K;o(re)}function M(U,Y){var K=U.brush,re=K.filterSpecified,ae=NaN,fe={},Q;if(re){var j=U.height,X=K.filter.getConsolidated(),J=c(X,j),ee=NaN,se=NaN,q=NaN;for(Q=0;Q<=J.length;Q++){var $=J[Q];if($&&$[0]<=Y&&Y<=$[1]){ee=Q;break}else if(se=Q?Q-1:NaN,$&&$[0]>Y){q=Q;break}}if(ae=ee,isNaN(ae)&&(isNaN(se)||isNaN(q)?ae=isNaN(se)?q:se:ae=Y-J[se][1]<J[q][0]-Y?se:q),!isNaN(ae)){var le=J[ae],ie=w(le,Y);ie&&(fe.interval=X[ae],fe.intervalPix=le,fe.region=ie)}}if(U.ordinal&&!fe.region){var ce=U.unitTickvals,me=U.unitToPaddedPx.invert(Y);for(Q=0;Q<ce.length;Q++){var Me=[ce[Math.max(Q-1,0)]*.25+ce[Q]*.75,ce[Math.min(Q+1,ce.length-1)]*.25+ce[Q]*.75];if(me>=Me[0]&&me<=Me[1]){fe.clickableOrdinalRange=Me;break}}}return fe}function T(U,Y){P.event.sourceEvent.stopPropagation();var K=Y.height-P.mouse(U)[1]-2*g.verticalPadding,re=Y.unitToPaddedPx.invert(K),ae=Y.brush,fe=M(Y,K),Q=fe.interval,j=ae.svgBrush;if(j.wasDragged=!1,j.grabbingBar=fe.region==="ns",j.grabbingBar){var X=Q.map(Y.unitToPaddedPx);j.grabPoint=K-X[0]-g.verticalPadding,j.barLength=X[1]-X[0]}j.clickableOrdinalRange=fe.clickableOrdinalRange,j.stayingIntervals=Y.multiselect&&ae.filterSpecified?ae.filter.getConsolidated():[],Q&&(j.stayingIntervals=j.stayingIntervals.filter(function(J){return J[0]!==Q[0]&&J[1]!==Q[1]})),j.startExtent=fe.region?Q[fe.region==="s"?1:0]:re,Y.parent.inBrushDrag=!0,j.brushStartCallback()}function E(U,Y){P.event.sourceEvent.stopPropagation();var K=Y.height-P.mouse(U)[1]-2*g.verticalPadding,re=Y.brush.svgBrush;re.wasDragged=!0,re._dragging=!0,re.grabbingBar?re.newExtent=[K-re.grabPoint,K+re.barLength-re.grabPoint].map(Y.unitToPaddedPx.invert):re.newExtent=[re.startExtent,Y.unitToPaddedPx.invert(K)].sort(A),Y.brush.filterSpecified=!0,re.extent=re.stayingIntervals.concat([re.newExtent]),re.brushCallback(Y),d(U.parentNode)}function x(U,Y){var K=Y.brush,re=K.filter,ae=K.svgBrush;ae._dragging||(S(U,Y),E(U,Y),Y.brush.svgBrush.wasDragged=!1),ae._dragging=!1;var fe=P.event;fe.sourceEvent.stopPropagation();var Q=ae.grabbingBar;if(ae.grabbingBar=!1,ae.grabLocation=void 0,Y.parent.inBrushDrag=!1,h(),!ae.wasDragged){ae.wasDragged=void 0,ae.clickableOrdinalRange?K.filterSpecified&&Y.multiselect?ae.extent.push(ae.clickableOrdinalRange):(ae.extent=[ae.clickableOrdinalRange],K.filterSpecified=!0):Q?(ae.extent=ae.stayingIntervals,ae.extent.length===0&&I(K)):I(K),ae.brushCallback(Y),d(U.parentNode),ae.brushEndCallback(K.filterSpecified?re.getConsolidated():[]);return}var j=function(){re.set(re.getConsolidated())};if(Y.ordinal){var X=Y.unitTickvals;X[X.length-1]<X[0]&&X.reverse(),ae.newExtent=[n(0,X,ae.newExtent[0],ae.stayingIntervals),n(1,X,ae.newExtent[1],ae.stayingIntervals)];var J=ae.newExtent[1]>ae.newExtent[0];ae.extent=ae.stayingIntervals.concat(J?[ae.newExtent]:[]),ae.extent.length||I(K),ae.brushCallback(Y),J?d(U.parentNode,j):(j(),d(U.parentNode))}else j();ae.brushEndCallback(K.filterSpecified?re.getConsolidated():[])}function S(U,Y){var K=Y.height-P.mouse(U)[1]-2*g.verticalPadding,re=M(Y,K),ae="crosshair";re.clickableOrdinalRange?ae="pointer":re.region&&(ae=re.region+"-resize"),P.select(document.body).style("cursor",ae)}function b(U){U.on("mousemove",function(Y){P.event.preventDefault(),Y.parent.inBrushDrag||S(this,Y)}).on("mouseleave",function(Y){Y.parent.inBrushDrag||h()}).call(P.behavior.drag().on("dragstart",function(Y){T(this,Y)}).on("drag",function(Y){E(this,Y)}).on("dragend",function(Y){x(this,Y)}))}function a(U,Y){return U[0]-Y[0]}function C(U,Y,K){var re=K._context.staticPlot,ae=U.selectAll(".background").data(L);ae.enter().append("rect").classed("background",!0).call(f).call(u).style("pointer-events",re?"none":"auto").attr("transform",v(0,g.verticalPadding)),ae.call(b).attr("height",function(j){return j.height-g.verticalPadding});var fe=U.selectAll(".highlight-shadow").data(L);fe.enter().append("line").classed("highlight-shadow",!0).attr("x",-g.bar.width/2).attr("stroke-width",g.bar.width+g.bar.strokeWidth).attr("stroke",Y).attr("opacity",g.bar.strokeOpacity).attr("stroke-linecap","butt"),fe.attr("y1",function(j){return j.height}).call(o);var Q=U.selectAll(".highlight").data(L);Q.enter().append("line").classed("highlight",!0).attr("x",-g.bar.width/2).attr("stroke-width",g.bar.width-g.bar.strokeWidth).attr("stroke",g.bar.fillColor).attr("opacity",g.bar.fillOpacity).attr("stroke-linecap","butt"),Q.attr("y1",function(j){return j.height}).call(o)}function y(U,Y,K){var re=U.selectAll("."+g.cn.axisBrush).data(L,i);re.enter().append("g").classed(g.cn.axisBrush,!0),C(re,Y,K)}function z(U){return U.svgBrush.extent.map(function(Y){return Y.slice()})}function I(U){U.filterSpecified=!1,U.svgBrush.extent=[[-1/0,1/0]]}function B(U){return function(K){var re=K.brush,ae=z(re),fe=ae.slice();re.filter.set(fe),U()}}function F(U){for(var Y=U.slice(),K=[],re,ae=Y.shift();ae;){for(re=ae.slice();(ae=Y.shift())&&ae[0]<=re[1];)re[1]=Math.max(re[1],ae[1]);K.push(re)}return K.length===1&&K[0][0]>K[0][1]&&(K=[]),K}function O(){var U=[],Y,K;return{set:function(re){U=re.map(function(ae){return ae.slice().sort(A)}).sort(a),U.length===1&&U[0][0]===-1/0&&U[0][1]===1/0&&(U=[[0,-1]]),Y=F(U),K=U.reduce(function(ae,fe){return[Math.min(ae[0],fe[0]),Math.max(ae[1],fe[1])]},[1/0,-1/0])},get:function(){return U.slice()},getConsolidated:function(){return Y},getBounds:function(){return K}}}function N(U,Y,K,re,ae,fe){var Q=O();return Q.set(K),{filter:Q,filterSpecified:Y,svgBrush:{extent:[],brushStartCallback:re,brushCallback:B(ae),brushEndCallback:fe}}}function _(U,Y){if(Array.isArray(U[0])?(U=U.map(function(re){return re.sort(A)}),Y.multiselect?U=F(U.sort(a)):U=[U[0]]):U=[U.sort(A)],Y.tickvals){var K=Y.tickvals.slice().sort(A);if(U=U.map(function(re){var ae=[n(0,K,re[0],[]),n(1,K,re[1],[])];if(ae[1]>ae[0])return ae}).filter(function(re){return re}),!U.length)return}return U.length>1?U:U[0]}W.exports={makeBrush:N,ensureAxisBrush:y,cleanRanges:_}},71791:function(W,H,e){W.exports={attributes:e(73362),supplyDefaults:e(3633),calc:e(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(W,H,e){var g=e(39898),P=e(27659).a0,i=e(21341),L=e(77922);H.name="parcoords",H.plot=function(A){var v=P(A.calcdata,"parcoords")[0];v.length&&i(A,v)},H.clean=function(A,v,p,t){var r=t._has&&t._has("parcoords"),s=v._has&&v._has("parcoords");r&&!s&&(t._paperdiv.selectAll(".parcoords").remove(),t._glimages.selectAll("*").remove())},H.toSVG=function(A){var v=A._fullLayout._glimages,p=g.select(A).selectAll(".svg-container"),t=p.filter(function(s,n){return n===p.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function r(){var s=this,n=s.toDataURL("image/png"),l=v.append("svg:image");l.attr({xmlns:L.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:s.style.width,height:s.style.height})}t.each(r),window.setTimeout(function(){g.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(W,H,e){var g=e(71828).isArrayOrTypedArray,P=e(21081),i=e(28984).wrap;W.exports=function(v,p){var t,r;return P.hasColorscale(p,"line")&&g(p.line.color)?(t=p.line.color,r=P.extractOpts(p.line).colorscale,P.calc(v,p,{vals:t,containerStr:"line",cLetter:"c"})):(t=L(p._length),r=[[0,p.line.color],[1,p.line.color]]),i({lineColor:t,cscale:r})};function L(A){for(var v=new Array(A),p=0;p<A;p++)v[p]=.5;return v}},25706:function(W){W.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(W,H,e){var g=e(71828),P=e(52075).hasColorscale,i=e(1586),L=e(27670).c,A=e(85501),v=e(89298),p=e(73362),t=e(57920),r=e(25706).maxDimensionCount,s=e(94397);function n(f,u,m,c,w){var h=w("line.color",m);if(P(f,"line")&&g.isArrayOrTypedArray(h)){if(h.length)return w("line.colorscale"),i(f,u,c,w,{prefix:"line.",cLetter:"c"}),h.length;u.line.color=m}return 1/0}function l(f,u,m,c){function w(T,E){return g.coerce(f,u,p.dimensions,T,E)}var h=w("values"),o=w("visible");if(h&&h.length||(o=u.visible=!1),o){w("label"),w("tickvals"),w("ticktext"),w("tickformat");var d=w("range");u._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:d},v.setConvert(u._ax,c.layout),w("multiselect");var M=w("constraintrange");M&&(u.constraintrange=t.cleanRanges(M,u))}}W.exports=function(u,m,c,w){function h(E,x){return g.coerce(u,m,p,E,x)}var o=u.dimensions;Array.isArray(o)&&o.length>r&&(g.log("parcoords traces support up to "+r+" dimensions at the moment"),o.splice(r));var d=A(u,m,{name:"dimensions",layout:w,handleItemDefaults:l}),M=n(u,m,c,w,h);L(m,w,h),(!Array.isArray(d)||!d.length)&&(m.visible=!1),s(m,d,"values",M);var T={family:w.font.family,size:Math.round(w.font.size/1.2),color:w.font.color};g.coerceFont(h,"labelfont",T),g.coerceFont(h,"tickfont",T),g.coerceFont(h,"rangefont",T),h("labelangle"),h("labelside"),h("unselected.line.color"),h("unselected.line.opacity")}},1602:function(W,H,e){var g=e(71828).isTypedArray;H.convertTypedArray=function(P){return g(P)?Array.prototype.slice.call(P):P},H.isOrdinal=function(P){return!!P.tickvals},H.isVisible=function(P){return P.visible||!("visible"in P)}},67618:function(W,H,e){var g=e(71791);g.plot=e(21341),W.exports=g},83398:function(W,H,e){var g=e(56068),P=g([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

attribute vec4 p01_04, p05_08, p09_12, p13_16,
               p17_20, p21_24, p25_28, p29_32,
               p33_36, p37_40, p41_44, p45_48,
               p49_52, p53_56, p57_60, colors;

uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,
             loA, hiA, loB, hiB, loC, hiC, loD, hiD;

uniform vec2 resolution, viewBoxPos, viewBoxSize;
uniform float maskHeight;
uniform float drwLayer; // 0: context, 1: focus, 2: pick
uniform vec4 contextColor;
uniform sampler2D maskTexture, palette;

bool isPick    = (drwLayer > 1.5);
bool isContext = (drwLayer < 0.5);

const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);
const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);

float val(mat4 p, mat4 v) {
    return dot(matrixCompMult(p, v) * UNITS, UNITS);
}

float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {
    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);
    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);
    return y1 * (1.0 - ratio) + y2 * ratio;
}

int iMod(int a, int b) {
    return a - b * (a / b);
}

bool fOutside(float p, float lo, float hi) {
    return (lo < hi) && (lo > p || p > hi);
}

bool vOutside(vec4 p, vec4 lo, vec4 hi) {
    return (
        fOutside(p[0], lo[0], hi[0]) ||
        fOutside(p[1], lo[1], hi[1]) ||
        fOutside(p[2], lo[2], hi[2]) ||
        fOutside(p[3], lo[3], hi[3])
    );
}

bool mOutside(mat4 p, mat4 lo, mat4 hi) {
    return (
        vOutside(p[0], lo[0], hi[0]) ||
        vOutside(p[1], lo[1], hi[1]) ||
        vOutside(p[2], lo[2], hi[2]) ||
        vOutside(p[3], lo[3], hi[3])
    );
}

bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {
    return mOutside(A, loA, hiA) ||
           mOutside(B, loB, hiB) ||
           mOutside(C, loC, hiC) ||
           mOutside(D, loD, hiD);
}

bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {
    mat4 pnts[4];
    pnts[0] = A;
    pnts[1] = B;
    pnts[2] = C;
    pnts[3] = D;

    for(int i = 0; i < 4; ++i) {
        for(int j = 0; j < 4; ++j) {
            for(int k = 0; k < 4; ++k) {
                if(0 == iMod(
                    int(255.0 * texture2D(maskTexture,
                        vec2(
                            (float(i * 2 + j / 2) + 0.5) / 8.0,
                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight
                        ))[3]
                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),
                    2
                )) return true;
            }
        }
    }
    return false;
}

vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {
    float x = 0.5 * sign(v) + 0.5;
    float y = axisY(x, A, B, C, D);
    float z = 1.0 - abs(v);

    z += isContext ? 0.0 : 2.0 * float(
        outsideBoundingBox(A, B, C, D) ||
        outsideRasterMask(A, B, C, D)
    );

    return vec4(
        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,
        z,
        1.0
    );
}

void main() {
    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);
    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);
    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);
    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);

    float v = colors[3];

    gl_Position = position(isContext, v, A, B, C, D);

    fragColor =
        isContext ? vec4(contextColor) :
        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));
}
`]),i=g([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
    gl_FragColor = fragColor;
}
`]),L=e(25706).maxDimensionCount,A=e(71828),v=1e-6,p=2048,t=new Uint8Array(4),r=new Uint8Array(4),s={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function n(S){S.read({x:0,y:0,width:1,height:1,data:t})}function l(S,b,a,C,y){var z=S._gl;z.enable(z.SCISSOR_TEST),z.scissor(b,a,C,y),S.clear({color:[0,0,0,0],depth:1})}function f(S,b,a,C,y,z){var I=z.key;function B(F){var O=Math.min(C,y-F*C);F===0&&(window.cancelAnimationFrame(a.currentRafs[I]),delete a.currentRafs[I],l(S,z.scissorX,z.scissorY,z.scissorWidth,z.viewBoxSize[1])),!a.clearOnly&&(z.count=2*O,z.offset=2*F*C,b(z),F*C+O<y&&(a.currentRafs[I]=window.requestAnimationFrame(function(){B(F+1)})),a.drawCompleted=!1)}a.drawCompleted||(n(S),a.drawCompleted=!0),B(0)}function u(S){return Math.max(v,Math.min(1-v,S))}function m(S,b){for(var a=new Array(256),C=0;C<256;C++)a[C]=S(C/255).concat(b);return a}function c(S,b){return(S>>>8*b)%256/255}function w(S,b,a){for(var C=new Array(S*(L+4)),y=0,z=0;z<S;z++){for(var I=0;I<L;I++)C[y++]=I<b.length?b[I].paddedUnitValues[z]:.5;C[y++]=c(z,2),C[y++]=c(z,1),C[y++]=c(z,0),C[y++]=u(a[z])}return C}function h(S,b,a){for(var C=new Array(b*8),y=0,z=0;z<b;z++)for(var I=0;I<2;I++)for(var B=0;B<4;B++){var F=S*4+B,O=a[z*64+F];F===63&&I===0&&(O*=-1),C[y++]=O}return C}function o(S){var b="0"+S;return b.substr(b.length-2)}function d(S){return S<L?"p"+o(S+1)+"_"+o(S+4):"colors"}function M(S,b,a){for(var C=0;C<=L;C+=4)S[d(C)](h(C/4,b,a))}function T(S){for(var b={},a=0;a<=L;a+=4)b[d(a)]=S.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return b}function E(S,b,a,C,y,z,I,B,F,O,N,_,U,Y){for(var K=[[],[]],re=0;re<64;re++)K[0][re]=re===y?1:0,K[1][re]=re===z?1:0;I*=Y,B*=Y,F*=Y,O*=Y;var ae=S.lines.canvasOverdrag*Y,fe=S.domain,Q=S.canvasWidth*Y,j=S.canvasHeight*Y,X=S.pad.l*Y,J=S.pad.b*Y,ee=S.layoutHeight*Y,se=S.layoutWidth*Y,q=S.deselectedLines.color,$=S.deselectedLines.opacity,le=A.extendFlat({key:N,resolution:[Q,j],viewBoxPos:[I+ae,B],viewBoxSize:[F,O],i0:y,i1:z,dim0A:K[0].slice(0,16),dim0B:K[0].slice(16,32),dim0C:K[0].slice(32,48),dim0D:K[0].slice(48,64),dim1A:K[1].slice(0,16),dim1B:K[1].slice(16,32),dim1C:K[1].slice(32,48),dim1D:K[1].slice(48,64),drwLayer:_,contextColor:[q[0]/255,q[1]/255,q[2]/255,$!=="auto"?q[3]*$:Math.max(1/255,Math.pow(1/S.lines.color.length,1/3))],scissorX:(C===b?0:I+ae)+(X-ae)+se*fe.x[0],scissorWidth:(C===a?Q-I+ae:F+.5)+(C===b?I+ae:0),scissorY:B+J+ee*fe.y[0],scissorHeight:O,viewportX:X-ae+se*fe.x[0],viewportY:J+ee*fe.y[0],viewportWidth:Q,viewportHeight:j},U);return le}function x(S){var b=p-1,a=Math.max(0,Math.floor(S[0]*b),0),C=Math.min(b,Math.ceil(S[1]*b),b);return[Math.min(a,C),Math.max(a,C)]}W.exports=function(S,b){var a=b.context,C=b.pick,y=b.regl,z=y._gl,I=z.getParameter(z.ALIASED_LINE_WIDTH_RANGE),B=Math.max(I[0],Math.min(I[1],b.viewModel.plotGlPixelRatio)),F={currentRafs:{},drawCompleted:!0,clearOnly:!1},O,N,_,U,Y=T(y),K,re=y.texture(s),ae=[];Q(b);var fe=y({profile:!1,blend:{enable:a,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!a,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:y.prop("scissorX"),y:y.prop("scissorY"),width:y.prop("scissorWidth"),height:y.prop("scissorHeight")}},viewport:{x:y.prop("viewportX"),y:y.prop("viewportY"),width:y.prop("viewportWidth"),height:y.prop("viewportHeight")},dither:!1,vert:P,frag:i,primitive:"lines",lineWidth:B,attributes:Y,uniforms:{resolution:y.prop("resolution"),viewBoxPos:y.prop("viewBoxPos"),viewBoxSize:y.prop("viewBoxSize"),dim0A:y.prop("dim0A"),dim1A:y.prop("dim1A"),dim0B:y.prop("dim0B"),dim1B:y.prop("dim1B"),dim0C:y.prop("dim0C"),dim1C:y.prop("dim1C"),dim0D:y.prop("dim0D"),dim1D:y.prop("dim1D"),loA:y.prop("loA"),hiA:y.prop("hiA"),loB:y.prop("loB"),hiB:y.prop("hiB"),loC:y.prop("loC"),hiC:y.prop("hiC"),loD:y.prop("loD"),hiD:y.prop("hiD"),palette:re,contextColor:y.prop("contextColor"),maskTexture:y.prop("maskTexture"),drwLayer:y.prop("drwLayer"),maskHeight:y.prop("maskHeight")},offset:y.prop("offset"),count:y.prop("count")});function Q(q){O=q.model,N=q.viewModel,_=N.dimensions.slice(),U=_[0]?_[0].values.length:0;var $=O.lines,le=C?$.color.map(function(ce,me){return me/$.color.length}):$.color,ie=w(U,_,le);M(Y,U,ie),!a&&!C&&(re=y.texture(A.extendFlat({data:m(O.unitToColor,255)},s)))}function j(q){var $,le,ie,ce=[[],[]];for(ie=0;ie<64;ie++){var me=!q&&ie<_.length?_[ie].brush.filter.getBounds():[-1/0,1/0];ce[0][ie]=me[0],ce[1][ie]=me[1]}var Me=p*8,we=new Array(Me);for($=0;$<Me;$++)we[$]=255;if(!q)for($=0;$<_.length;$++){var Oe=$%8,Be=($-Oe)/8,Ce=Math.pow(2,Oe),xe=_[$],Se=xe.brush.filter.get();if(!(Se.length<2)){var He=x(Se[0])[1];for(le=1;le<Se.length;le++){var Ge=x(Se[le]);for(ie=He+1;ie<Ge[0];ie++)we[ie*8+Be]&=~Ce;He=Math.max(He,Ge[1])}}}var ke={shape:[8,p],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:we};return K?K(ke):K=y.texture(ke),{maskTexture:K,maskHeight:p,loA:ce[0].slice(0,16),loB:ce[0].slice(16,32),loC:ce[0].slice(32,48),loD:ce[0].slice(48,64),hiA:ce[1].slice(0,16),hiB:ce[1].slice(16,32),hiC:ce[1].slice(32,48),hiD:ce[1].slice(48,64)}}function X(q,$,le){var ie=q.length,ce,me,Me,we=1/0,Oe=-1/0;for(ce=0;ce<ie;ce++)q[ce].dim0.canvasX<we&&(we=q[ce].dim0.canvasX,me=ce),q[ce].dim1.canvasX>Oe&&(Oe=q[ce].dim1.canvasX,Me=ce);ie===0&&l(y,0,0,O.canvasWidth,O.canvasHeight);var Be=j(a);for(ce=0;ce<ie;ce++){var Ce=q[ce],xe=Ce.dim0.crossfilterDimensionIndex,Se=Ce.dim1.crossfilterDimensionIndex,He=Ce.canvasX,Ge=Ce.canvasY,ke=He+Ce.panelSizeX,We=Ce.plotGlPixelRatio;if($||!ae[xe]||ae[xe][0]!==He||ae[xe][1]!==ke){ae[xe]=[He,ke];var it=E(O,me,Me,ce,xe,Se,He,Ge,Ce.panelSizeX,Ce.panelSizeY,Ce.dim0.crossfilterDimensionIndex,a?0:C?2:1,Be,We);F.clearOnly=le;var et=$?O.lines.blockLineCount:U;f(y,fe,F,et,U,it)}}}function J(q,$){return y.read({x:q,y:$,width:1,height:1,data:r}),r}function ee(q,$,le,ie){var ce=new Uint8Array(4*le*ie);return y.read({x:q,y:$,width:le,height:ie,data:ce}),ce}function se(){S.style["pointer-events"]="none",re.destroy(),K&&K.destroy();for(var q in Y)Y[q].destroy()}return{render:X,readPixel:J,readPixels:ee,destroy:se,update:Q}}},94397:function(W){W.exports=function(H,e,g,P){P||(P=1/0);var i,L;for(i=0;i<e.length;i++)L=e[i],L.visible&&(P=Math.min(P,L[g].length));for(P===1/0&&(P=0),H._length=P,i=0;i<e.length;i++)L=e[i],L.visible&&(L._length=P);return P}},17171:function(W,H,e){var g=e(39898),P=e(71828),i=P.numberFormat,L=e(36652),A=e(89298),v=P.strRotate,p=P.strTranslate,t=e(63893),r=e(91424),s=e(21081),n=e(28984),l=n.keyFun,f=n.repeat,u=n.unwrap,m=e(1602),c=e(25706),w=e(57920),h=e(83398);function o(K,re,ae){return P.aggNums(K,null,re,ae)}function d(K,re){return T(o(Math.min,K,re),o(Math.max,K,re))}function M(K){var re=K.range;return re?T(re[0],re[1]):d(K.values,K._length)}function T(K,re){return(isNaN(K)||!isFinite(K))&&(K=0),(isNaN(re)||!isFinite(re))&&(re=0),K===re&&(K===0?(K-=1,re+=1):(K*=.9,re*=1.1)),[K,re]}function E(K,re){return re?function(ae,fe){var Q=re[fe];return Q??K(ae)}:K}function x(K,re,ae,fe,Q){var j=M(ae);return fe?g.scale.ordinal().domain(fe.map(E(i(ae.tickformat),Q))).range(fe.map(function(X){var J=(X-j[0])/(j[1]-j[0]);return K-re+J*(2*re-K)})):g.scale.linear().domain(j).range([K-re,re])}function S(K,re){return g.scale.linear().range([re,K-re])}function b(K,re){return g.scale.linear().domain(M(K)).range([re,1-re])}function a(K){if(K.tickvals){var re=M(K);return g.scale.ordinal().domain(K.tickvals).range(K.tickvals.map(function(ae){return(ae-re[0])/(re[1]-re[0])}))}}function C(K){var re=K.map(function(j){return j[0]}),ae=K.map(function(j){var X=L(j[1]);return g.rgb("rgb("+X[0]+","+X[1]+","+X[2]+")")}),fe=function(j){return function(X){return X[j]}},Q="rgb".split("").map(function(j){return g.scale.linear().clamp(!0).domain(re).range(ae.map(fe(j)))});return function(j){return Q.map(function(X){return X(j)})}}function y(K){return K.dimensions.some(function(re){return re.brush.filterSpecified})}function z(K,re,ae){var fe=u(re),Q=fe.trace,j=m.convertTypedArray(fe.lineColor),X=Q.line,J={color:L(Q.unselected.line.color),opacity:Q.unselected.line.opacity},ee=s.extractOpts(X),se=ee.reversescale?s.flipScale(fe.cscale):fe.cscale,q=Q.domain,$=Q.dimensions,le=K.width,ie=Q.labelangle,ce=Q.labelside,me=Q.labelfont,Me=Q.tickfont,we=Q.rangefont,Oe=P.extendDeepNoArrays({},X,{color:j.map(g.scale.linear().domain(M({values:j,range:[ee.min,ee.max],_length:Q._length}))),blockLineCount:c.blockLineCount,canvasOverdrag:c.overdrag*c.canvasPixelRatio}),Be=Math.floor(le*(q.x[1]-q.x[0])),Ce=Math.floor(K.height*(q.y[1]-q.y[0])),xe=K.margin||{l:80,r:80,t:100,b:80},Se=Be,He=Ce;return{key:ae,colCount:$.filter(m.isVisible).length,dimensions:$,tickDistance:c.tickDistance,unitToColor:C(se),lines:Oe,deselectedLines:J,labelAngle:ie,labelSide:ce,labelFont:me,tickFont:Me,rangeFont:we,layoutWidth:le,layoutHeight:K.height,domain:q,translateX:q.x[0]*le,translateY:K.height-q.y[1]*K.height,pad:xe,canvasWidth:Se*c.canvasPixelRatio+2*Oe.canvasOverdrag,canvasHeight:He*c.canvasPixelRatio,width:Se,height:He,canvasPixelRatio:c.canvasPixelRatio}}function I(K,re,ae){var fe=ae.width,Q=ae.height,j=ae.dimensions,X=ae.canvasPixelRatio,J=function(le){return fe*le/Math.max(1,ae.colCount-1)},ee=c.verticalPadding/Q,se=S(Q,c.verticalPadding),q={key:ae.key,xScale:J,model:ae,inBrushDrag:!1},$={};return q.dimensions=j.filter(m.isVisible).map(function(le,ie){var ce=b(le,ee),me=$[le.label];$[le.label]=(me||0)+1;var Me=le.label+(me?"__"+me:""),we=le.constraintrange,Oe=we&&we.length;Oe&&!Array.isArray(we[0])&&(we=[we]);var Be=Oe?we.map(function(tt){return tt.map(ce)}):[[-1/0,1/0]],Ce=function(){var tt=q;tt.focusLayer&&tt.focusLayer.render(tt.panels,!0);var at=y(tt);!K.contextShown()&&at?(tt.contextLayer&&tt.contextLayer.render(tt.panels,!0),K.contextShown(!0)):K.contextShown()&&!at&&(tt.contextLayer&&tt.contextLayer.render(tt.panels,!0,!0),K.contextShown(!1))},xe=le.values;xe.length>le._length&&(xe=xe.slice(0,le._length));var Se=le.tickvals,He;function Ge(tt,at){return{val:tt,text:He[at]}}function ke(tt,at){return tt.val-at.val}if(Array.isArray(Se)&&Se.length){He=le.ticktext,!Array.isArray(He)||!He.length?He=Se.map(i(le.tickformat)):He.length>Se.length?He=He.slice(0,Se.length):Se.length>He.length&&(Se=Se.slice(0,He.length));for(var We=1;We<Se.length;We++)if(Se[We]<Se[We-1]){for(var it=Se.map(Ge).sort(ke),et=0;et<Se.length;et++)Se[et]=it[et].val,He[et]=it[et].text;break}}else Se=void 0;return xe=m.convertTypedArray(xe),{key:Me,label:le.label,tickFormat:le.tickformat,tickvals:Se,ticktext:He,ordinal:m.isOrdinal(le),multiselect:le.multiselect,xIndex:ie,crossfilterDimensionIndex:ie,visibleIndex:le._index,height:Q,values:xe,paddedUnitValues:xe.map(ce),unitTickvals:Se&&Se.map(ce),xScale:J,x:J(ie),canvasX:J(ie)*X,unitToPaddedPx:se,domainScale:x(Q,c.verticalPadding,le,Se,He),ordinalScale:a(le),parent:q,model:ae,brush:w.makeBrush(K,Oe,Be,function(){K.linePickActive(!1)},Ce,function(tt){if(q.focusLayer.render(q.panels,!0),q.pickLayer&&q.pickLayer.render(q.panels,!0),K.linePickActive(!0),re&&re.filterChanged){var at=ce.invert,ht=tt.map(function(yt){return yt.map(at).sort(P.sorterAsc)}).sort(function(yt,gt){return yt[0]-gt[0]});re.filterChanged(q.key,le._index,ht)}})}}),q}function B(K){K.classed(c.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function F(){var K=!0,re=!1;return{linePickActive:function(ae){return arguments.length?K=!!ae:K},contextShown:function(ae){return arguments.length?re=!!ae:re}}}function O(K,re){var ae=re==="top"?1:-1,fe=K*Math.PI/180,Q=Math.sin(fe),j=Math.cos(fe);return{dir:ae,dx:Q,dy:j,degrees:K}}function N(K,re,ae){for(var fe=re.panels||(re.panels=[]),Q=K.data(),j=0;j<Q.length-1;j++){var X=fe[j]||(fe[j]={}),J=Q[j],ee=Q[j+1];X.dim0=J,X.dim1=ee,X.canvasX=J.canvasX,X.panelSizeX=ee.canvasX-J.canvasX,X.panelSizeY=re.model.canvasHeight,X.y=0,X.canvasY=0,X.plotGlPixelRatio=ae}}function _(K){for(var re=0;re<K.length;re++)for(var ae=0;ae<K[re].length;ae++)for(var fe=K[re][ae].trace,Q=fe.dimensions,j=0;j<Q.length;j++){var X=Q[j].values,J=Q[j]._ax;J&&(J.range?J.range=T(J.range[0],J.range[1]):J.range=d(X,fe._length),J.dtick||(J.dtick=.01*(Math.abs(J.range[1]-J.range[0])||1)),J.tickformat=Q[j].tickformat,A.calcTicks(J),J.cleanRange())}}function U(K,re){return A.tickText(K._ax,re,!1).text}function Y(K,re){if(K.ordinal)return"";var ae=K.domainScale.domain(),fe=ae[re?ae.length-1:0];return U(K.model.dimensions[K.visibleIndex],fe)}W.exports=function(re,ae,fe,Q){var j=re._context.staticPlot,X=re._fullLayout,J=X._toppaper,ee=X._glcontainer,se=re._context.plotGlPixelRatio,q=re._fullLayout.paper_bgcolor;_(ae);var $=F(),le=ae.filter(function(et){return u(et).trace.visible}).map(z.bind(0,fe)).map(I.bind(0,$,Q));ee.each(function(et,tt){return P.extendFlat(et,le[tt])});var ie=ee.selectAll(".gl-canvas").each(function(et){et.viewModel=le[0],et.viewModel.plotGlPixelRatio=se,et.viewModel.paperColor=q,et.model=et.viewModel?et.viewModel.model:null}),ce=null,me=ie.filter(function(et){return et.pick});me.style("pointer-events",j?"none":"auto").on("mousemove",function(et){if($.linePickActive()&&et.lineLayer&&Q&&Q.hover){var tt=g.event,at=this.width,ht=this.height,yt=g.mouse(this),gt=yt[0],Et=yt[1];if(gt<0||Et<0||gt>=at||Et>=ht)return;var Ct=et.lineLayer.readPixel(gt,ht-1-Et),Vt=Ct[3]!==0,Qe=Vt?Ct[2]+256*(Ct[1]+256*Ct[0]):null,Fe={x:gt,y:Et,clientX:tt.clientX,clientY:tt.clientY,dataIndex:et.model.key,curveNumber:Qe};Qe!==ce&&(Vt?Q.hover(Fe):Q.unhover&&Q.unhover(Fe),ce=Qe)}}),ie.style("opacity",function(et){return et.pick?0:1}),J.style("background","rgba(255, 255, 255, 0)");var Me=J.selectAll("."+c.cn.parcoords).data(le,l);Me.exit().remove(),Me.enter().append("g").classed(c.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Me.attr("transform",function(et){return p(et.model.translateX,et.model.translateY)});var we=Me.selectAll("."+c.cn.parcoordsControlView).data(f,l);we.enter().append("g").classed(c.cn.parcoordsControlView,!0),we.attr("transform",function(et){return p(et.model.pad.l,et.model.pad.t)});var Oe=we.selectAll("."+c.cn.yAxis).data(function(et){return et.dimensions},l);Oe.enter().append("g").classed(c.cn.yAxis,!0),we.each(function(et){N(Oe,et,se)}),ie.each(function(et){if(et.viewModel){!et.lineLayer||Q?et.lineLayer=h(this,et):et.lineLayer.update(et),(et.key||et.key===0)&&(et.viewModel[et.key]=et.lineLayer);var tt=!et.context||Q;et.lineLayer.render(et.viewModel.panels,tt)}}),Oe.attr("transform",function(et){return p(et.xScale(et.xIndex),0)}),Oe.call(g.behavior.drag().origin(function(et){return et}).on("drag",function(et){var tt=et.parent;$.linePickActive(!1),et.x=Math.max(-c.overdrag,Math.min(et.model.width+c.overdrag,g.event.x)),et.canvasX=et.x*et.model.canvasPixelRatio,Oe.sort(function(at,ht){return at.x-ht.x}).each(function(at,ht){at.xIndex=ht,at.x=et===at?at.x:at.xScale(at.xIndex),at.canvasX=at.x*at.model.canvasPixelRatio}),N(Oe,tt,se),Oe.filter(function(at){return Math.abs(et.xIndex-at.xIndex)!==0}).attr("transform",function(at){return p(at.xScale(at.xIndex),0)}),g.select(this).attr("transform",p(et.x,0)),Oe.each(function(at,ht,yt){yt===et.parent.key&&(tt.dimensions[ht]=at)}),tt.contextLayer&&tt.contextLayer.render(tt.panels,!1,!y(tt)),tt.focusLayer.render&&tt.focusLayer.render(tt.panels)}).on("dragend",function(et){var tt=et.parent;et.x=et.xScale(et.xIndex),et.canvasX=et.x*et.model.canvasPixelRatio,N(Oe,tt,se),g.select(this).attr("transform",function(at){return p(at.x,0)}),tt.contextLayer&&tt.contextLayer.render(tt.panels,!1,!y(tt)),tt.focusLayer&&tt.focusLayer.render(tt.panels),tt.pickLayer&&tt.pickLayer.render(tt.panels,!0),$.linePickActive(!0),Q&&Q.axesMoved&&Q.axesMoved(tt.key,tt.dimensions.map(function(at){return at.crossfilterDimensionIndex}))})),Oe.exit().remove();var Be=Oe.selectAll("."+c.cn.axisOverlays).data(f,l);Be.enter().append("g").classed(c.cn.axisOverlays,!0),Be.selectAll("."+c.cn.axis).remove();var Ce=Be.selectAll("."+c.cn.axis).data(f,l);Ce.enter().append("g").classed(c.cn.axis,!0),Ce.each(function(et){var tt=et.model.height/et.model.tickDistance,at=et.domainScale,ht=at.domain();g.select(this).call(g.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(tt,et.tickFormat).tickValues(et.ordinal?ht:null).tickFormat(function(yt){return m.isOrdinal(et)?yt:U(et.model.dimensions[et.visibleIndex],yt)}).scale(at)),r.font(Ce.selectAll("text"),et.model.tickFont)}),Ce.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Ce.selectAll("text").style("text-shadow",t.makeTextShadow(q)).style("cursor","default");var xe=Be.selectAll("."+c.cn.axisHeading).data(f,l);xe.enter().append("g").classed(c.cn.axisHeading,!0);var Se=xe.selectAll("."+c.cn.axisTitle).data(f,l);Se.enter().append("text").classed(c.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",j?"none":"auto"),Se.text(function(et){return et.label}).each(function(et){var tt=g.select(this);r.font(tt,et.model.labelFont),t.convertToTspans(tt,re)}).attr("transform",function(et){var tt=O(et.model.labelAngle,et.model.labelSide),at=c.axisTitleOffset;return(tt.dir>0?"":p(0,2*at+et.model.height))+v(tt.degrees)+p(-at*tt.dx,-at*tt.dy)}).attr("text-anchor",function(et){var tt=O(et.model.labelAngle,et.model.labelSide),at=Math.abs(tt.dx),ht=Math.abs(tt.dy);return 2*at>ht?tt.dir*tt.dx<0?"start":"end":"middle"});var He=Be.selectAll("."+c.cn.axisExtent).data(f,l);He.enter().append("g").classed(c.cn.axisExtent,!0);var Ge=He.selectAll("."+c.cn.axisExtentTop).data(f,l);Ge.enter().append("g").classed(c.cn.axisExtentTop,!0),Ge.attr("transform",p(0,-c.axisExtentOffset));var ke=Ge.selectAll("."+c.cn.axisExtentTopText).data(f,l);ke.enter().append("text").classed(c.cn.axisExtentTopText,!0).call(B),ke.text(function(et){return Y(et,!0)}).each(function(et){r.font(g.select(this),et.model.rangeFont)});var We=He.selectAll("."+c.cn.axisExtentBottom).data(f,l);We.enter().append("g").classed(c.cn.axisExtentBottom,!0),We.attr("transform",function(et){return p(0,et.model.height+c.axisExtentOffset)});var it=We.selectAll("."+c.cn.axisExtentBottomText).data(f,l);it.enter().append("text").classed(c.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(B),it.text(function(et){return Y(et,!1)}).each(function(et){r.font(g.select(this),et.model.rangeFont)}),w.ensureAxisBrush(Be,q,re)}},21341:function(W,H,e){var g=e(17171),P=e(79749),i=e(1602).isVisible,L={};function A(t,r,s){var n=r.indexOf(s),l=t.indexOf(n);return l===-1&&(l+=r.length),l}function v(t,r){return function(n,l){return A(t,r,n)-A(t,r,l)}}var p=W.exports=function(r,s){var n=r._fullLayout,l=P(r,[],L);if(l){var f={},u={},m={},c={},w=n._size;s.forEach(function(T,E){var x=T[0].trace;m[E]=x.index;var S=c[E]=x._fullInput.index;f[E]=r.data[S].dimensions,u[E]=r.data[S].dimensions.slice()});var h=function(T,E,x){var S=u[T][E],b=x.map(function(B){return B.slice()}),a="dimensions["+E+"].constraintrange",C=n._tracePreGUI[r._fullData[m[T]]._fullInput.uid];if(C[a]===void 0){var y=S.constraintrange;C[a]=y||null}var z=r._fullData[m[T]].dimensions[E];b.length?(b.length===1&&(b=b[0]),S.constraintrange=b,z.constraintrange=b.slice(),b=[b]):(delete S.constraintrange,delete z.constraintrange,b=null);var I={};I[a]=b,r.emit("plotly_restyle",[I,[c[T]]])},o=function(T){r.emit("plotly_hover",T)},d=function(T){r.emit("plotly_unhover",T)},M=function(T,E){var x=v(E,u[T].filter(i));f[T].sort(x),u[T].filter(function(S){return!i(S)}).sort(function(S){return u[T].indexOf(S)}).forEach(function(S){f[T].splice(f[T].indexOf(S),1),f[T].splice(u[T].indexOf(S),0,S)}),r.emit("plotly_restyle",[{dimensions:[f[T]]},[c[T]]])};g(r,s,{width:w.w,height:w.h,margin:{t:w.t,r:w.r,b:w.b,l:w.l}},{filterChanged:h,hover:o,unhover:d,axesMoved:M})}};p.reglPrecompiled=L},34e3:function(W,H,e){var g=e(9012),P=e(27670).Y,i=e(41940),L=e(22399),A=e(5386).fF,v=e(5386).si,p=e(1426).extendFlat,t=e(79952).u,r=i({editType:"plot",arrayOk:!0,colorEditType:"plot"});W.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:L.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:t,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:p({},g.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:A({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:p({},r,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:p({},r,{}),outsidetextfont:p({},r,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:p({},r,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:P({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:p({},r,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(W,H,e){var g=e(74875);H.name="pie",H.plot=function(P,i,L,A){g.plotBasePlot(H.name,P,i,L,A)},H.clean=function(P,i,L,A){g.cleanBasePlot(H.name,P,i,L,A)}},32354:function(W,H,e){var g=e(92770),P=e(84267),i=e(7901),L={};function A(r,s){var n=[],l=r._fullLayout,f=l.hiddenlabels||[],u=s.labels,m=s.marker.colors||[],c=s.values,w=s._length,h=s._hasValues&&w,o,d;if(s.dlabel)for(u=new Array(w),o=0;o<w;o++)u[o]=String(s.label0+o*s.dlabel);var M={},T=v(l["_"+s.type+"colormap"]),E=0,x=!1;for(o=0;o<w;o++){var S,b,a;if(h){if(S=c[o],!g(S))continue;S=+S}else S=1;b=u[o],(b===void 0||b==="")&&(b=o),b=String(b);var C=M[b];C===void 0?(M[b]=n.length,a=f.indexOf(b)!==-1,a||(E+=S),n.push({v:S,label:b,color:T(m[o],b),i:o,pts:[o],hidden:a})):(x=!0,d=n[C],d.v+=S,d.pts.push(o),d.hidden||(E+=S),d.color===!1&&m[o]&&(d.color=T(m[o],b)))}n=n.filter(function(z){return z.v>=0});var y=s.type==="funnelarea"?x:s.sort;return y&&n.sort(function(z,I){return I.v-z.v}),n[0]&&(n[0].vTotal=E),n}function v(r){return function(n,l){return!n||(n=P(n),!n.isValid())?!1:(n=i.addOpacity(n,n.getAlpha()),r[l]||(r[l]=n),n)}}function p(r,s){var n=(s||{}).type;n||(n="pie");var l=r._fullLayout,f=r.calcdata,u=l[n+"colorway"],m=l["_"+n+"colormap"];l["extend"+n+"colors"]&&(u=t(u,L));for(var c=0,w=0;w<f.length;w++){var h=f[w],o=h[0].trace.type;if(o===n)for(var d=0;d<h.length;d++){var M=h[d];M.color===!1&&(m[M.label]?M.color=m[M.label]:(m[M.label]=M.color=u[c%u.length],c++))}}}function t(r,s){var n,l=JSON.stringify(r),f=s[l];if(!f){for(f=r.slice(),n=0;n<r.length;n++)f.push(P(r[n]).lighten(20).toHexString());for(n=0;n<r.length;n++)f.push(P(r[n]).darken(20).toHexString());s[l]=f}return f}W.exports={calc:A,crossTraceCalc:p,makePullColorFn:v,generateExtendedColors:t}},37434:function(W,H,e){var g=e(92770),P=e(71828),i=e(34e3),L=e(27670).c,A=e(90769).handleText,v=e(71828).coercePattern;function p(s,n){var l=Array.isArray(s),f=P.isArrayOrTypedArray(n),u=Math.min(l?s.length:1/0,f?n.length:1/0);if(isFinite(u)||(u=0),u&&f){for(var m,c=0;c<u;c++){var w=n[c];if(g(w)&&w>0){m=!0;break}}m||(u=0)}return{hasLabels:l,hasValues:f,len:u}}function t(s,n,l,f,u){var m=f("marker.line.width");m&&f("marker.line.color",u?void 0:l.paper_bgcolor);var c=f("marker.colors");v(f,"marker.pattern",c),s.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=s.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=l.paper_bgcolor)}function r(s,n,l,f){function u(C,y){return P.coerce(s,n,i,C,y)}var m=u("labels"),c=u("values"),w=p(m,c),h=w.len;if(n._hasLabels=w.hasLabels,n._hasValues=w.hasValues,!n._hasLabels&&n._hasValues&&(u("label0"),u("dlabel")),!h){n.visible=!1;return}n._length=h,t(s,n,f,u,!0),u("scalegroup");var o=u("text"),d=u("texttemplate"),M;if(d||(M=u("textinfo",Array.isArray(o)?"text+percent":"percent")),u("hovertext"),u("hovertemplate"),d||M&&M!=="none"){var T=u("textposition");A(s,n,f,u,T,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var E=Array.isArray(T)||T==="auto",x=E||T==="outside";x&&u("automargin"),(T==="inside"||T==="auto"||Array.isArray(T))&&u("insidetextorientation")}L(n,f,u);var S=u("hole"),b=u("title.text");if(b){var a=u("title.position",S?"middle center":"top center");!S&&a==="middle center"&&(n.title.position="top center"),P.coerceFont(u,"title.font",f.font)}u("sort"),u("direction"),u("rotation"),u("pull")}W.exports={handleLabelsAndValues:p,handleMarkerDefaults:t,supplyDefaults:r}},20007:function(W,H,e){var g=e(23469).appendArrayMultiPointValues;W.exports=function(i,L){var A={curveNumber:L.index,pointNumbers:i.pts,data:L._input,fullData:L,label:i.label,color:i.color,value:i.v,percent:i.percent,text:i.text,bbox:i.bbox,v:i.v};return i.pts.length===1&&(A.pointNumber=A.i=i.pts[0]),g(A,L,i.pts),L.type==="funnelarea"&&(delete A.v,delete A.i),A}},22209:function(W,H,e){var g=e(91424),P=e(7901);W.exports=function(L,A,v,p){var t=v.marker.pattern;t&&t.shape?g.pointStyle(L,v,p,A):P.fill(L,A.color)}},53581:function(W,H,e){var g=e(71828);function P(i){return i.indexOf("e")!==-1?i.replace(/[.]?0+e/,"e"):i.indexOf(".")!==-1?i.replace(/[.]?0+$/,""):i}H.formatPiePercent=function(L,A){var v=P((L*100).toPrecision(3));return g.numSeparate(v,A)+"%"},H.formatPieValue=function(L,A){var v=P(L.toPrecision(10));return g.numSeparate(v,A)},H.getFirstFilled=function(L,A){if(Array.isArray(L))for(var v=0;v<A.length;v++){var p=L[A[v]];if(p||p===0||p==="")return p}},H.castOption=function(L,A){if(Array.isArray(L))return H.getFirstFilled(L,A);if(L)return L},H.getRotationAngle=function(i){return(i==="auto"?0:i)*Math.PI/180}},58810:function(W,H,e){W.exports={attributes:e(34e3),supplyDefaults:e(37434).supplyDefaults,supplyLayoutDefaults:e(92097),layoutAttributes:e(92774),calc:e(32354).calc,crossTraceCalc:e(32354).crossTraceCalc,plot:e(14575).plot,style:e(68357),styleOne:e(63463),moduleType:"trace",name:"pie",basePlotModule:e(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(W){W.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(W,H,e){var g=e(71828),P=e(92774);W.exports=function(L,A){function v(p,t){return g.coerce(L,A,P,p,t)}v("hiddenlabels"),v("piecolorway",A.colorway),v("extendpiecolors")}},14575:function(W,H,e){var g=e(39898),P=e(74875),i=e(30211),L=e(7901),A=e(91424),v=e(71828),p=v.strScale,t=v.strTranslate,r=e(63893),s=e(72597),n=s.recordMinTextSize,l=s.clearMinTextSize,f=e(97313).TEXTPAD,u=e(53581),m=e(20007),c=e(71828).isValidTextValue;function w(j,X){var J=j._context.staticPlot,ee=j._fullLayout,se=ee._size;l("pie",ee),T(X,j),Y(X,se);var q=v.makeTraceGroups(ee._pielayer,X,"trace").each(function($){var le=g.select(this),ie=$[0],ce=ie.trace;re($),le.attr("stroke-linejoin","round"),le.each(function(){var me=g.select(this).selectAll("g.slice").data($);me.enter().append("g").classed("slice",!0),me.exit().remove();var Me=[[[],[]],[[],[]]],we=!1;me.each(function(ke,We){if(ke.hidden){g.select(this).selectAll("path,g").remove();return}ke.pointNumber=ke.i,ke.curveNumber=ce.index,Me[ke.pxmid[1]<0?0:1][ke.pxmid[0]<0?0:1].push(ke);var it=ie.cx,et=ie.cy,tt=g.select(this),at=tt.selectAll("path.surface").data([ke]);if(at.enter().append("path").classed("surface",!0).style({"pointer-events":J?"none":"all"}),tt.call(o,j,$),ce.pull){var ht=+u.castOption(ce.pull,ke.pts)||0;ht>0&&(it+=ht*ke.pxmid[0],et+=ht*ke.pxmid[1])}ke.cxFinal=it,ke.cyFinal=et;function yt(Ie,ze,Re,be){var ye=be*(ze[0]-Ie[0]),Ae=be*(ze[1]-Ie[1]);return"a"+be*ie.r+","+be*ie.r+" 0 "+ke.largeArc+(Re?" 1 ":" 0 ")+ye+","+Ae}var gt=ce.hole;if(ke.v===ie.vTotal){var Et="M"+(it+ke.px0[0])+","+(et+ke.px0[1])+yt(ke.px0,ke.pxmid,!0,1)+yt(ke.pxmid,ke.px0,!0,1)+"Z";gt?at.attr("d","M"+(it+gt*ke.px0[0])+","+(et+gt*ke.px0[1])+yt(ke.px0,ke.pxmid,!1,gt)+yt(ke.pxmid,ke.px0,!1,gt)+"Z"+Et):at.attr("d",Et)}else{var Ct=yt(ke.px0,ke.px1,!0,1);if(gt){var Vt=1-gt;at.attr("d","M"+(it+gt*ke.px1[0])+","+(et+gt*ke.px1[1])+yt(ke.px1,ke.px0,!1,gt)+"l"+Vt*ke.px0[0]+","+Vt*ke.px0[1]+Ct+"Z")}else at.attr("d","M"+it+","+et+"l"+ke.px0[0]+","+ke.px0[1]+Ct+"Z")}fe(j,ke,ie);var Qe=u.castOption(ce.textposition,ke.pts),Fe=tt.selectAll("g.slicetext").data(ke.text&&Qe!=="none"?[0]:[]);Fe.enter().append("g").classed("slicetext",!0),Fe.exit().remove(),Fe.each(function(){var Ie=v.ensureSingle(g.select(this),"text","",function(Je){Je.attr("data-notex",1)}),ze=v.ensureUniformFontSize(j,Qe==="outside"?d(ce,ke,ee.font):M(ce,ke,ee.font));Ie.text(ke.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(A.font,ze).call(r.convertToTspans,j);var Re=A.bBox(Ie.node()),be;if(Qe==="outside")be=I(Re,ke);else if(be=E(Re,ke,ie),Qe==="auto"&&be.scale<1){var ye=v.ensureUniformFontSize(j,ce.outsidetextfont);Ie.call(A.font,ye),Re=A.bBox(Ie.node()),be=I(Re,ke)}var Ae=be.textPosAngle,Ee=Ae===void 0?ke.pxmid:ae(ie.r,Ae);if(be.targetX=it+Ee[0]*be.rCenter+(be.x||0),be.targetY=et+Ee[1]*be.rCenter+(be.y||0),Q(be,Re),be.outside){var Ne=be.targetY;ke.yLabelMin=Ne-Re.height/2,ke.yLabelMid=Ne,ke.yLabelMax=Ne+Re.height/2,ke.labelExtraX=0,ke.labelExtraY=0,we=!0}be.fontSize=ze.size,n(ce.type,be,ee),$[We].transform=be,v.setTransormAndDisplay(Ie,be)})});var Oe=g.select(this).selectAll("g.titletext").data(ce.title.text?[0]:[]);if(Oe.enter().append("g").classed("titletext",!0),Oe.exit().remove(),Oe.each(function(){var ke=v.ensureSingle(g.select(this),"text","",function(et){et.attr("data-notex",1)}),We=ce.title.text;ce._meta&&(We=v.templateString(We,ce._meta)),ke.text(We).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(A.font,ce.title.font).call(r.convertToTspans,j);var it;ce.title.position==="middle center"?it=B(ie):it=F(ie,se),ke.attr("transform",t(it.x,it.y)+p(Math.min(1,it.scale))+t(it.tx,it.ty))}),we&&U(Me,ce),h(me,ce),we&&ce.automargin){var Be=A.bBox(le.node()),Ce=ce.domain,xe=se.w*(Ce.x[1]-Ce.x[0]),Se=se.h*(Ce.y[1]-Ce.y[0]),He=(.5*xe-ie.r)/se.w,Ge=(.5*Se-ie.r)/se.h;P.autoMargin(j,"pie."+ce.uid+".automargin",{xl:Ce.x[0]-He,xr:Ce.x[1]+He,yb:Ce.y[0]-Ge,yt:Ce.y[1]+Ge,l:Math.max(ie.cx-ie.r-Be.left,0),r:Math.max(Be.right-(ie.cx+ie.r),0),b:Math.max(Be.bottom-(ie.cy+ie.r),0),t:Math.max(ie.cy-ie.r-Be.top,0),pad:5})}})});setTimeout(function(){q.selectAll("tspan").each(function(){var $=g.select(this);$.attr("dy")&&$.attr("dy",$.attr("dy"))})},0)}function h(j,X){j.each(function(J){var ee=g.select(this);if(!J.labelExtraX&&!J.labelExtraY){ee.select("path.textline").remove();return}var se=ee.select("g.slicetext text");J.transform.targetX+=J.labelExtraX,J.transform.targetY+=J.labelExtraY,v.setTransormAndDisplay(se,J.transform);var q=J.cxFinal+J.pxmid[0],$=J.cyFinal+J.pxmid[1],le="M"+q+","+$,ie=(J.yLabelMax-J.yLabelMin)*(J.pxmid[0]<0?-1:1)/4;if(J.labelExtraX){var ce=J.labelExtraX*J.pxmid[1]/J.pxmid[0],me=J.yLabelMid+J.labelExtraY-(J.cyFinal+J.pxmid[1]);Math.abs(ce)>Math.abs(me)?le+="l"+me*J.pxmid[0]/J.pxmid[1]+","+me+"H"+(q+J.labelExtraX+ie):le+="l"+J.labelExtraX+","+ce+"v"+(me-ce)+"h"+ie}else le+="V"+(J.yLabelMid+J.labelExtraY)+"h"+ie;v.ensureSingle(ee,"path","textline").call(L.stroke,X.outsidetextfont.color).attr({"stroke-width":Math.min(2,X.outsidetextfont.size/8),d:le,fill:"none"})})}function o(j,X,J){var ee=J[0],se=ee.cx,q=ee.cy,$=ee.trace,le=$.type==="funnelarea";"_hasHoverLabel"in $||($._hasHoverLabel=!1),"_hasHoverEvent"in $||($._hasHoverEvent=!1),j.on("mouseover",function(ie){var ce=X._fullLayout,me=X._fullData[$.index];if(!(X._dragging||ce.hovermode===!1)){var Me=me.hoverinfo;if(Array.isArray(Me)&&(Me=i.castHoverinfo({hoverinfo:[u.castOption(Me,ie.pts)],_module:$._module},ce,0)),Me==="all"&&(Me="label+text+value+percent+name"),me.hovertemplate||Me!=="none"&&Me!=="skip"&&Me){var we=ie.rInscribed||0,Oe=se+ie.pxmid[0]*(1-we),Be=q+ie.pxmid[1]*(1-we),Ce=ce.separators,xe=[];if(Me&&Me.indexOf("label")!==-1&&xe.push(ie.label),ie.text=u.castOption(me.hovertext||me.text,ie.pts),Me&&Me.indexOf("text")!==-1){var Se=ie.text;v.isValidTextValue(Se)&&xe.push(Se)}ie.value=ie.v,ie.valueLabel=u.formatPieValue(ie.v,Ce),Me&&Me.indexOf("value")!==-1&&xe.push(ie.valueLabel),ie.percent=ie.v/ee.vTotal,ie.percentLabel=u.formatPiePercent(ie.percent,Ce),Me&&Me.indexOf("percent")!==-1&&xe.push(ie.percentLabel);var He=me.hoverlabel,Ge=He.font,ke=[];i.loneHover({trace:$,x0:Oe-we*ee.r,x1:Oe+we*ee.r,y:Be,_x0:le?se+ie.TL[0]:Oe-we*ee.r,_x1:le?se+ie.TR[0]:Oe+we*ee.r,_y0:le?q+ie.TL[1]:Be-we*ee.r,_y1:le?q+ie.BL[1]:Be+we*ee.r,text:xe.join("<br>"),name:me.hovertemplate||Me.indexOf("name")!==-1?me.name:void 0,idealAlign:ie.pxmid[0]<0?"left":"right",color:u.castOption(He.bgcolor,ie.pts)||ie.color,borderColor:u.castOption(He.bordercolor,ie.pts),fontFamily:u.castOption(Ge.family,ie.pts),fontSize:u.castOption(Ge.size,ie.pts),fontColor:u.castOption(Ge.color,ie.pts),nameLength:u.castOption(He.namelength,ie.pts),textAlign:u.castOption(He.align,ie.pts),hovertemplate:u.castOption(me.hovertemplate,ie.pts),hovertemplateLabels:ie,eventData:[m(ie,me)]},{container:ce._hoverlayer.node(),outerContainer:ce._paper.node(),gd:X,inOut_bbox:ke}),ie.bbox=ke[0],$._hasHoverLabel=!0}$._hasHoverEvent=!0,X.emit("plotly_hover",{points:[m(ie,me)],event:g.event})}}),j.on("mouseout",function(ie){var ce=X._fullLayout,me=X._fullData[$.index],Me=g.select(this).datum();$._hasHoverEvent&&(ie.originalEvent=g.event,X.emit("plotly_unhover",{points:[m(Me,me)],event:g.event}),$._hasHoverEvent=!1),$._hasHoverLabel&&(i.loneUnhover(ce._hoverlayer.node()),$._hasHoverLabel=!1)}),j.on("click",function(ie){var ce=X._fullLayout,me=X._fullData[$.index];X._dragging||ce.hovermode===!1||(X._hoverdata=[m(ie,me)],i.click(X,g.event))})}function d(j,X,J){var ee=u.castOption(j.outsidetextfont.color,X.pts)||u.castOption(j.textfont.color,X.pts)||J.color,se=u.castOption(j.outsidetextfont.family,X.pts)||u.castOption(j.textfont.family,X.pts)||J.family,q=u.castOption(j.outsidetextfont.size,X.pts)||u.castOption(j.textfont.size,X.pts)||J.size;return{color:ee,family:se,size:q}}function M(j,X,J){var ee=u.castOption(j.insidetextfont.color,X.pts);!ee&&j._input.textfont&&(ee=u.castOption(j._input.textfont.color,X.pts));var se=u.castOption(j.insidetextfont.family,X.pts)||u.castOption(j.textfont.family,X.pts)||J.family,q=u.castOption(j.insidetextfont.size,X.pts)||u.castOption(j.textfont.size,X.pts)||J.size;return{color:ee||L.contrast(X.color),family:se,size:q}}function T(j,X){for(var J,ee,se=0;se<j.length;se++)if(J=j[se][0],ee=J.trace,ee.title.text){var q=ee.title.text;ee._meta&&(q=v.templateString(q,ee._meta));var $=A.tester.append("text").attr("data-notex",1).text(q).call(A.font,ee.title.font).call(r.convertToTspans,X),le=A.bBox($.node(),!0);J.titleBox={width:le.width,height:le.height},$.remove()}}function E(j,X,J){var ee=J.r||X.rpx1,se=X.rInscribed,q=X.startangle===X.stopangle;if(q)return{rCenter:1-se,scale:0,rotate:0,textPosAngle:0};var $=X.ring,le=$===1&&Math.abs(X.startangle-X.stopangle)===Math.PI*2,ie=X.halfangle,ce=X.midangle,me=J.trace.insidetextorientation,Me=me==="horizontal",we=me==="tangential",Oe=me==="radial",Be=me==="auto",Ce=[],xe;if(!Be){var Se=function(tt,at){if(x(X,tt)){var ht=Math.abs(tt-X.startangle),yt=Math.abs(tt-X.stopangle),gt=ht<yt?ht:yt;at==="tan"?xe=b(j,ee,$,gt,0):xe=S(j,ee,$,gt,Math.PI/2),xe.textPosAngle=tt,Ce.push(xe)}},He;if(Me||we){for(He=4;He>=-4;He-=2)Se(Math.PI*He,"tan");for(He=4;He>=-4;He-=2)Se(Math.PI*(He+1),"tan")}if(Me||Oe){for(He=4;He>=-4;He-=2)Se(Math.PI*(He+1.5),"rad");for(He=4;He>=-4;He-=2)Se(Math.PI*(He+.5),"rad")}}if(le||Be||Me){var Ge=Math.sqrt(j.width*j.width+j.height*j.height);if(xe={scale:se*ee*2/Ge,rCenter:1-se,rotate:0},xe.textPosAngle=(X.startangle+X.stopangle)/2,xe.scale>=1)return xe;Ce.push(xe)}(Be||Oe)&&(xe=S(j,ee,$,ie,ce),xe.textPosAngle=(X.startangle+X.stopangle)/2,Ce.push(xe)),(Be||we)&&(xe=b(j,ee,$,ie,ce),xe.textPosAngle=(X.startangle+X.stopangle)/2,Ce.push(xe));for(var ke=0,We=0,it=0;it<Ce.length;it++){var et=Ce[it].scale;if(We<et&&(We=et,ke=it),!Be&&We>=1)break}return Ce[ke]}function x(j,X){var J=j.startangle,ee=j.stopangle;return J>X&&X>ee||J<X&&X<ee}function S(j,X,J,ee,se){X=Math.max(0,X-2*f);var q=j.width/j.height,$=y(q,ee,X,J);return{scale:$*2/j.height,rCenter:a(q,$/X),rotate:C(se)}}function b(j,X,J,ee,se){X=Math.max(0,X-2*f);var q=j.height/j.width,$=y(q,ee,X,J);return{scale:$*2/j.width,rCenter:a(q,$/X),rotate:C(se+Math.PI/2)}}function a(j,X){return Math.cos(X)-j*X}function C(j){return(180/Math.PI*j+720)%180-90}function y(j,X,J,ee){var se=j+1/(2*Math.tan(X));return J*Math.min(1/(Math.sqrt(se*se+.5)+se),ee/(Math.sqrt(j*j+ee/2)+j))}function z(j,X){return j.v===X.vTotal&&!X.trace.hole?1:Math.min(1/(1+1/Math.sin(j.halfangle)),j.ring/2)}function I(j,X){var J=X.pxmid[0],ee=X.pxmid[1],se=j.width/2,q=j.height/2;return J<0&&(se*=-1),ee<0&&(q*=-1),{scale:1,rCenter:1,rotate:0,x:se+Math.abs(q)*(se>0?1:-1)/2,y:q/(1+J*J/(ee*ee)),outside:!0}}function B(j){var X=Math.sqrt(j.titleBox.width*j.titleBox.width+j.titleBox.height*j.titleBox.height);return{x:j.cx,y:j.cy,scale:j.trace.hole*j.r*2/X,tx:0,ty:-j.titleBox.height/2+j.trace.title.font.size}}function F(j,X){var J=1,ee=1,se,q=j.trace,$={x:j.cx,y:j.cy},le={tx:0,ty:0};le.ty+=q.title.font.size,se=_(q),q.title.position.indexOf("top")!==-1?($.y-=(1+se)*j.r,le.ty-=j.titleBox.height):q.title.position.indexOf("bottom")!==-1&&($.y+=(1+se)*j.r);var ie=O(j.r,j.trace.aspectratio),ce=X.w*(q.domain.x[1]-q.domain.x[0])/2;return q.title.position.indexOf("left")!==-1?(ce=ce+ie,$.x-=(1+se)*ie,le.tx+=j.titleBox.width/2):q.title.position.indexOf("center")!==-1?ce*=2:q.title.position.indexOf("right")!==-1&&(ce=ce+ie,$.x+=(1+se)*ie,le.tx-=j.titleBox.width/2),J=ce/j.titleBox.width,ee=N(j,X)/j.titleBox.height,{x:$.x,y:$.y,scale:Math.min(J,ee),tx:le.tx,ty:le.ty}}function O(j,X){return j/(X===void 0?1:X)}function N(j,X){var J=j.trace,ee=X.h*(J.domain.y[1]-J.domain.y[0]);return Math.min(j.titleBox.height,ee/2)}function _(j){var X=j.pull;if(!X)return 0;var J;if(Array.isArray(X))for(X=0,J=0;J<j.pull.length;J++)j.pull[J]>X&&(X=j.pull[J]);return X}function U(j,X){var J,ee,se,q,$,le,ie,ce,me,Me,we,Oe,Be;function Ce(Ge,ke){return Ge.pxmid[1]-ke.pxmid[1]}function xe(Ge,ke){return ke.pxmid[1]-Ge.pxmid[1]}function Se(Ge,ke){ke||(ke={});var We=ke.labelExtraY+(ee?ke.yLabelMax:ke.yLabelMin),it=ee?Ge.yLabelMin:Ge.yLabelMax,et=ee?Ge.yLabelMax:Ge.yLabelMin,tt=Ge.cyFinal+$(Ge.px0[1],Ge.px1[1]),at=We-it,ht,yt,gt,Et,Ct,Vt;if(at*ie>0&&(Ge.labelExtraY=at),!!Array.isArray(X.pull))for(yt=0;yt<Me.length;yt++)gt=Me[yt],!(gt===Ge||(u.castOption(X.pull,Ge.pts)||0)>=(u.castOption(X.pull,gt.pts)||0))&&((Ge.pxmid[1]-gt.pxmid[1])*ie>0?(Et=gt.cyFinal+$(gt.px0[1],gt.px1[1]),at=Et-it-Ge.labelExtraY,at*ie>0&&(Ge.labelExtraY+=at)):(et+Ge.labelExtraY-tt)*ie>0&&(ht=3*le*Math.abs(yt-Me.indexOf(Ge)),Ct=gt.cxFinal+q(gt.px0[0],gt.px1[0]),Vt=Ct+ht-(Ge.cxFinal+Ge.pxmid[0])-Ge.labelExtraX,Vt*le>0&&(Ge.labelExtraX+=Vt)))}for(ee=0;ee<2;ee++)for(se=ee?Ce:xe,$=ee?Math.max:Math.min,ie=ee?1:-1,J=0;J<2;J++){for(q=J?Math.max:Math.min,le=J?1:-1,ce=j[ee][J],ce.sort(se),me=j[1-ee][J],Me=me.concat(ce),Oe=[],we=0;we<ce.length;we++)ce[we].yLabelMid!==void 0&&Oe.push(ce[we]);for(Be=!1,we=0;ee&&we<me.length;we++)if(me[we].yLabelMid!==void 0){Be=me[we];break}for(we=0;we<Oe.length;we++){var He=we&&Oe[we-1];Be&&!we&&(He=Be),Se(Oe[we],He)}}}function Y(j,X){for(var J=[],ee=0;ee<j.length;ee++){var se=j[ee][0],q=se.trace,$=q.domain,le=X.w*($.x[1]-$.x[0]),ie=X.h*($.y[1]-$.y[0]);q.title.text&&q.title.position!=="middle center"&&(ie-=N(se,X));var ce=le/2,me=ie/2;q.type==="funnelarea"&&!q.scalegroup&&(me/=q.aspectratio),se.r=Math.min(ce,me)/(1+_(q)),se.cx=X.l+X.w*(q.domain.x[1]+q.domain.x[0])/2,se.cy=X.t+X.h*(1-q.domain.y[0])-ie/2,q.title.text&&q.title.position.indexOf("bottom")!==-1&&(se.cy-=N(se,X)),q.scalegroup&&J.indexOf(q.scalegroup)===-1&&J.push(q.scalegroup)}K(j,J)}function K(j,X){for(var J,ee,se,q=0;q<X.length;q++){var $=1/0,le=X[q];for(ee=0;ee<j.length;ee++)if(J=j[ee][0],se=J.trace,se.scalegroup===le){var ie;if(se.type==="pie")ie=J.r*J.r;else if(se.type==="funnelarea"){var ce,me;se.aspectratio>1?(ce=J.r,me=ce/se.aspectratio):(me=J.r,ce=me*se.aspectratio),ce*=(1+se.baseratio)/2,ie=ce*me}$=Math.min($,ie/J.vTotal)}for(ee=0;ee<j.length;ee++)if(J=j[ee][0],se=J.trace,se.scalegroup===le){var Me=$*J.vTotal;se.type==="funnelarea"&&(Me/=(1+se.baseratio)/2,Me/=se.aspectratio),J.r=Math.sqrt(Me)}}}function re(j){var X=j[0],J=X.r,ee=X.trace,se=u.getRotationAngle(ee.rotation),q=2*Math.PI/X.vTotal,$="px0",le="px1",ie,ce,me;if(ee.direction==="counterclockwise"){for(ie=0;ie<j.length&&j[ie].hidden;ie++);if(ie===j.length)return;se+=q*j[ie].v,q*=-1,$="px1",le="px0"}for(me=ae(J,se),ie=0;ie<j.length;ie++)ce=j[ie],!ce.hidden&&(ce[$]=me,ce.startangle=se,se+=q*ce.v/2,ce.pxmid=ae(J,se),ce.midangle=se,se+=q*ce.v/2,me=ae(J,se),ce.stopangle=se,ce[le]=me,ce.largeArc=ce.v>X.vTotal/2?1:0,ce.halfangle=Math.PI*Math.min(ce.v/X.vTotal,.5),ce.ring=1-ee.hole,ce.rInscribed=z(ce,X))}function ae(j,X){return[j*Math.sin(X),-j*Math.cos(X)]}function fe(j,X,J){var ee=j._fullLayout,se=J.trace,q=se.texttemplate,$=se.textinfo;if(!q&&$&&$!=="none"){var le=$.split("+"),ie=function(ke){return le.indexOf(ke)!==-1},ce=ie("label"),me=ie("text"),Me=ie("value"),we=ie("percent"),Oe=ee.separators,Be;if(Be=ce?[X.label]:[],me){var Ce=u.getFirstFilled(se.text,X.pts);c(Ce)&&Be.push(Ce)}Me&&Be.push(u.formatPieValue(X.v,Oe)),we&&Be.push(u.formatPiePercent(X.v/J.vTotal,Oe)),X.text=Be.join("<br>")}function xe(ke){return{label:ke.label,value:ke.v,valueLabel:u.formatPieValue(ke.v,ee.separators),percent:ke.v/J.vTotal,percentLabel:u.formatPiePercent(ke.v/J.vTotal,ee.separators),color:ke.color,text:ke.text,customdata:v.castOption(se,ke.i,"customdata")}}if(q){var Se=v.castOption(se,X.i,"texttemplate");if(!Se)X.text="";else{var He=xe(X),Ge=u.getFirstFilled(se.text,X.pts);(c(Ge)||Ge==="")&&(He.text=Ge),X.text=v.texttemplateString(Se,He,j._fullLayout._d3locale,He,se._meta||{})}}}function Q(j,X){var J=j.rotate*Math.PI/180,ee=Math.cos(J),se=Math.sin(J),q=(X.left+X.right)/2,$=(X.top+X.bottom)/2;j.textX=q*ee-$*se,j.textY=q*se+$*ee,j.noCenter=!0}W.exports={plot:w,formatSliceLabel:fe,transformInsideText:E,determineInsideTextFont:M,positionTitleOutside:F,prerenderTitles:T,layoutAreas:Y,attachFxHandlers:o,computeTransform:Q}},68357:function(W,H,e){var g=e(39898),P=e(63463),i=e(72597).resizeText;W.exports=function(A){var v=A._fullLayout._pielayer.selectAll(".trace");i(A,v,"pie"),v.each(function(p){var t=p[0],r=t.trace,s=g.select(this);s.style({opacity:r.opacity}),s.selectAll("path.surface").each(function(n){g.select(this).call(P,n,r,A)})})}},63463:function(W,H,e){var g=e(7901),P=e(53581).castOption,i=e(22209);W.exports=function(A,v,p,t){var r=p.marker.line,s=P(r.color,v.pts)||g.defaultLine,n=P(r.width,v.pts)||0;A.call(i,v,p,t).style("stroke-width",n).call(g.stroke,s)}},10959:function(W,H,e){var g=e(82196);W.exports={x:g.x,y:g.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:g.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(W,H,e){var g=e(9330).gl_pointcloud2d,P=e(78614),i=e(71739).findExtremes,L=e(34603);function A(t,r){this.scene=t,this.uid=r,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=g(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var v=A.prototype;v.handlePick=function(t){var r=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[r*2],this.pickXYData[r*2+1]]:[this.pickXData[r],this.pickYData[r]],textLabel:Array.isArray(this.textLabels)?this.textLabels[r]:this.textLabels,color:this.color,name:this.name,pointIndex:r,hoverinfo:this.hoverinfo}},v.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=L(t,{})},v.updateFast=function(t){var r=this.xData=this.pickXData=t.x,s=this.yData=this.pickYData=t.y,n=this.pickXYData=t.xy,l=t.xbounds&&t.ybounds,f=t.indices,u,m,c,w=this.bounds,h,o,d;if(n){if(c=n,u=n.length>>>1,l)w[0]=t.xbounds[0],w[2]=t.xbounds[1],w[1]=t.ybounds[0],w[3]=t.ybounds[1];else for(d=0;d<u;d++)h=c[d*2],o=c[d*2+1],h<w[0]&&(w[0]=h),h>w[2]&&(w[2]=h),o<w[1]&&(w[1]=o),o>w[3]&&(w[3]=o);if(f)m=f;else for(m=new Int32Array(u),d=0;d<u;d++)m[d]=d}else for(u=r.length,c=new Float32Array(2*u),m=new Int32Array(u),d=0;d<u;d++)h=r[d],o=s[d],m[d]=d,c[d*2]=h,c[d*2+1]=o,h<w[0]&&(w[0]=h),h>w[2]&&(w[2]=h),o<w[1]&&(w[1]=o),o>w[3]&&(w[3]=o);this.idToIndex=m,this.pointcloudOptions.idToIndex=m,this.pointcloudOptions.positions=c;var M=P(t.marker.color),T=P(t.marker.border.color),E=t.opacity*t.marker.opacity;M[3]*=E,this.pointcloudOptions.color=M;var x=t.marker.blend;if(x===null){var S=100;x=r.length<S||s.length<S}this.pointcloudOptions.blend=x,T[3]*=E,this.pointcloudOptions.borderColor=T;var b=t.marker.sizemin,a=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=b,this.pointcloudOptions.sizeMax=a,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var C=this.scene.xaxis,y=this.scene.yaxis,z=a/2||.5;t._extremes[C._id]=i(C,[w[0],w[2]],{ppad:z}),t._extremes[y._id]=i(y,[w[1],w[3]],{ppad:z})},v.dispose=function(){this.pointcloud.dispose()};function p(t,r){var s=new A(t,r.uid);return s.update(r),s}W.exports=p},33876:function(W,H,e){var g=e(71828),P=e(10959);W.exports=function(L,A,v){function p(t,r){return g.coerce(L,A,P,t,r)}p("x"),p("y"),p("xbounds"),p("ybounds"),L.xy&&L.xy instanceof Float32Array&&(A.xy=L.xy),L.indices&&L.indices instanceof Int32Array&&(A.indices=L.indices),p("text"),p("marker.color",v),p("marker.opacity"),p("marker.blend"),p("marker.sizemin"),p("marker.sizemax"),p("marker.border.color",v),p("marker.border.arearatio"),A._length=null}},20593:function(W,H,e){W.exports={attributes:e(10959),supplyDefaults:e(33876),calc:e(36563),plot:e(42743),moduleType:"trace",name:"pointcloud",basePlotModule:e(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(W,H,e){var g=e(41940),P=e(9012),i=e(22399),L=e(77914),A=e(27670).Y,v=e(5386).fF,p=e(50693),t=e(44467).templatedArray,r=e(12663).descriptionOnlyNumbers,s=e(1426).extendFlat,n=e(30962).overrideAll,l=W.exports=n({hoverinfo:s({},P.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:L.hoverlabel,domain:A({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:r("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:g({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:i.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:v({},{keys:["value","label"]})},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:i.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:t("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:s(p().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");l.transforms=void 0},75536:function(W,H,e){var g=e(30962).overrideAll,P=e(27659).a0,i=e(60436),L=e(528),A=e(6964),v=e(28569),p=e(47322).prepSelect,t=e(71828),r=e(73972),s="sankey";H.name=s,H.baseLayoutAttrOverrides=g({hoverlabel:L.hoverlabel},"plot","nested"),H.plot=function(l){var f=P(l.calcdata,s)[0];i(l,f),H.updateFx(l)},H.clean=function(l,f,u,m){var c=m._has&&m._has(s),w=f._has&&f._has(s);c&&!w&&(m._paperdiv.selectAll(".sankey").remove(),m._paperdiv.selectAll(".bgsankey").remove())},H.updateFx=function(l){for(var f=0;f<l._fullData.length;f++)n(l,f)};function n(l,f){var u=l._fullData[f],m=l._fullLayout,c=m.dragmode,w=m.dragmode==="pan"?"move":"crosshair",h=u._bgRect;if(h&&!(c==="pan"||c==="zoom")){A(h,w);var o={_id:"x",c2p:t.identity,_offset:u._sankey.translateX,_length:u._sankey.width},d={_id:"y",c2p:t.identity,_offset:u._sankey.translateY,_length:u._sankey.height},M={gd:l,element:h.node(),plotinfo:{id:f,xaxis:o,yaxis:d,fillRangeItems:t.noop},subplot:f,xaxes:[o],yaxes:[d],doneFnCompleted:function(T){var E=l._fullData[f],x,S=E.node.groups.slice(),b=[];function a(I){for(var B=E._sankey.graph.nodes,F=0;F<B.length;F++)if(B[F].pointNumber===I)return B[F]}for(var C=0;C<T.length;C++){var y=a(T[C].pointNumber);if(y)if(y.group){for(var z=0;z<y.childrenNodes.length;z++)b.push(y.childrenNodes[z].pointNumber);S[y.pointNumber-E.node._count]=!1}else b.push(y.pointNumber)}x=S.filter(Boolean).concat([b]),r.call("_guiRestyle",l,{"node.groups":[x]},f)}};M.prepFn=function(T,E,x){p(T,E,x,M,c)},v.init(M)}}},92930:function(W,H,e){var g=e(68664),P=e(71828),i=e(28984).wrap,L=P.isArrayOrTypedArray,A=P.isIndex,v=e(21081);function p(r){var s=r.node,n=r.link,l=[],f=L(n.color),u=L(n.customdata),m={},c={},w=n.colorscales.length,h;for(h=0;h<w;h++){var o=n.colorscales[h],d=v.extractScale(o,{cLetter:"c"}),M=v.makeColorScaleFunc(d);c[o.label]=M}var T=0;for(h=0;h<n.value.length;h++)n.source[h]>T&&(T=n.source[h]),n.target[h]>T&&(T=n.target[h]);var E=T+1;r.node._count=E;var x,S=r.node.groups,b={};for(h=0;h<S.length;h++){var a=S[h];for(x=0;x<a.length;x++){var C=a[x],y=E+h;b.hasOwnProperty(C)?P.warn("Node "+C+" is already part of a group."):b[C]=y}}var z={source:[],target:[]};for(h=0;h<n.value.length;h++){var I=n.value[h],B=n.source[h],F=n.target[h];if(I>0&&A(B,E)&&A(F,E)&&!(b.hasOwnProperty(B)&&b.hasOwnProperty(F)&&b[B]===b[F])){b.hasOwnProperty(F)&&(F=b[F]),b.hasOwnProperty(B)&&(B=b[B]),B=+B,F=+F,m[B]=m[F]=!0;var O="";n.label&&n.label[h]&&(O=n.label[h]);var N=null;O&&c.hasOwnProperty(O)&&(N=c[O]),l.push({pointNumber:h,label:O,color:f?n.color[h]:n.color,customdata:u?n.customdata[h]:n.customdata,concentrationscale:N,source:B,target:F,value:+I}),z.source.push(B),z.target.push(F)}}var _=E+S.length,U=L(s.color),Y=L(s.customdata),K=[];for(h=0;h<_;h++)if(m[h]){var re=s.label[h];K.push({group:h>E-1,childrenNodes:[],pointNumber:h,label:re,color:U?s.color[h]:s.color,customdata:Y?s.customdata[h]:s.customdata})}var ae=!1;return t(_,z.source,z.target)&&(ae=!0),{circular:ae,links:l,nodes:K,groups:S,groupLookup:b}}function t(r,s,n){for(var l=P.init2dArray(r,0),f=0;f<Math.min(s.length,n.length);f++)if(P.isIndex(s[f],r)&&P.isIndex(n[f],r)){if(s[f]===n[f])return!0;l[s[f]].push(n[f])}var u=g(l);return u.components.some(function(m){return m.length>1})}W.exports=function(s,n){var l=p(n);return i({circular:l.circular,_nodes:l.nodes,_links:l.links,_groups:l.groups,_groupLookup:l.groupLookup})}},85247:function(W){W.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(W,H,e){var g=e(71828),P=e(39953),i=e(7901),L=e(84267),A=e(27670).c,v=e(38048),p=e(44467),t=e(85501);W.exports=function(n,l,f,u){function m(a,C){return g.coerce(n,l,P,a,C)}var c=g.extendDeep(u.hoverlabel,n.hoverlabel),w=n.node,h=p.newContainer(l,"node");function o(a,C){return g.coerce(w,h,P.node,a,C)}o("label"),o("groups"),o("x"),o("y"),o("pad"),o("thickness"),o("line.color"),o("line.width"),o("hoverinfo",n.hoverinfo),v(w,h,o,c),o("hovertemplate");var d=u.colorway,M=function(a){return d[a%d.length]};o("color",h.label.map(function(a,C){return i.addOpacity(M(C),.8)})),o("customdata");var T=n.link||{},E=p.newContainer(l,"link");function x(a,C){return g.coerce(T,E,P.link,a,C)}x("label"),x("arrowlen"),x("source"),x("target"),x("value"),x("line.color"),x("line.width"),x("hoverinfo",n.hoverinfo),v(T,E,x,c),x("hovertemplate");var S=L(u.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";x("color",g.repeat(S,E.value.length)),x("customdata"),t(T,E,{name:"colorscales",handleItemDefaults:r}),A(l,u,m),m("orientation"),m("valueformat"),m("valuesuffix");var b;h.x.length&&h.y.length&&(b="freeform"),m("arrangement",b),g.coerceFont(m,"textfont",g.extendFlat({},u.font)),l._length=null};function r(s,n){function l(f,u){return g.coerce(s,n,P.link.colorscales,f,u)}l("label"),l("cmin"),l("cmax"),l("colorscale")}},29396:function(W,H,e){W.exports={attributes:e(39953),supplyDefaults:e(26857),calc:e(92930),plot:e(60436),moduleType:"trace",name:"sankey",basePlotModule:e(75536),selectPoints:e(84564),categories:["noOpacity"],meta:{}}},60436:function(W,H,e){var g=e(39898),P=e(71828),i=P.numberFormat,L=e(3393),A=e(30211),v=e(7901),p=e(85247).cn,t=P._;function r(d){return d!==""}function s(d,M){return d.filter(function(T){return T.key===M.traceId})}function n(d,M){g.select(d).select("path").style("fill-opacity",M),g.select(d).select("rect").style("fill-opacity",M)}function l(d){g.select(d).select("text.name").style("fill","black")}function f(d){return function(M){return d.node.sourceLinks.indexOf(M.link)!==-1||d.node.targetLinks.indexOf(M.link)!==-1}}function u(d){return function(M){return M.node.sourceLinks.indexOf(d.link)!==-1||M.node.targetLinks.indexOf(d.link)!==-1}}function m(d,M,T){M&&T&&s(T,M).selectAll("."+p.sankeyLink).filter(f(M)).call(w.bind(0,M,T,!1))}function c(d,M,T){M&&T&&s(T,M).selectAll("."+p.sankeyLink).filter(f(M)).call(h.bind(0,M,T,!1))}function w(d,M,T,E){var x=E.datum().link.label;E.style("fill-opacity",function(S){if(!S.link.concentrationscale)return .4}),x&&s(M,d).selectAll("."+p.sankeyLink).filter(function(S){return S.link.label===x}).style("fill-opacity",function(S){if(!S.link.concentrationscale)return .4}),T&&s(M,d).selectAll("."+p.sankeyNode).filter(u(d)).call(m)}function h(d,M,T,E){var x=E.datum().link.label;E.style("fill-opacity",function(S){return S.tinyColorAlpha}),x&&s(M,d).selectAll("."+p.sankeyLink).filter(function(S){return S.link.label===x}).style("fill-opacity",function(S){return S.tinyColorAlpha}),T&&s(M,d).selectAll(p.sankeyNode).filter(u(d)).call(c)}function o(d,M){var T=d.hoverlabel||{},E=P.nestedProperty(T,M).get();return Array.isArray(E)?!1:E}W.exports=function(M,T){for(var E=M._fullLayout,x=E._paper,S=E._size,b=0;b<M._fullData.length;b++)if(M._fullData[b].visible&&M._fullData[b].type===p.sankey&&!M._fullData[b]._viewInitial){var a=M._fullData[b].node;M._fullData[b]._viewInitial={node:{groups:a.groups.slice(),x:a.x.slice(),y:a.y.slice()}}}var C=function(ae,fe){var Q=fe.link;Q.originalEvent=g.event,M._hoverdata=[Q],A.click(M,{target:!0})},y=function(ae,fe,Q){M._fullLayout.hovermode!==!1&&(g.select(ae).call(w.bind(0,fe,Q,!0)),fe.link.trace.link.hoverinfo!=="skip"&&(fe.link.fullData=fe.link.trace,M.emit("plotly_hover",{event:g.event,points:[fe.link]})))},z=t(M,"source:")+" ",I=t(M,"target:")+" ",B=t(M,"concentration:")+" ",F=t(M,"incoming flow count:")+" ",O=t(M,"outgoing flow count:")+" ",N=function(ae,fe){if(M._fullLayout.hovermode===!1)return;var Q=fe.link.trace.link;if(Q.hoverinfo==="none"||Q.hoverinfo==="skip")return;var j=[];function X(ie){var ce,me;ie.circular?(ce=(ie.circularPathData.leftInnerExtent+ie.circularPathData.rightInnerExtent)/2,me=ie.circularPathData.verticalFullExtent):(ce=(ie.source.x1+ie.target.x0)/2,me=(ie.y0+ie.y1)/2);var Me=[ce,me];return ie.trace.orientation==="v"&&Me.reverse(),Me[0]+=fe.parent.translateX,Me[1]+=fe.parent.translateY,Me}for(var J=0,ee=0;ee<fe.flow.links.length;ee++){var se=fe.flow.links[ee];if(!(M._fullLayout.hovermode==="closest"&&fe.link.pointNumber!==se.pointNumber)){fe.link.pointNumber===se.pointNumber&&(J=ee),se.fullData=se.trace,Q=fe.link.trace.link;var q=X(se),$={valueLabel:i(fe.valueFormat)(se.value)+fe.valueSuffix};j.push({x:q[0],y:q[1],name:$.valueLabel,text:[se.label||"",z+se.source.label,I+se.target.label,se.concentrationscale?B+i("%0.2f")(se.flow.labelConcentration):""].filter(r).join("<br>"),color:o(Q,"bgcolor")||v.addOpacity(se.color,1),borderColor:o(Q,"bordercolor"),fontFamily:o(Q,"font.family"),fontSize:o(Q,"font.size"),fontColor:o(Q,"font.color"),nameLength:o(Q,"namelength"),textAlign:o(Q,"align"),idealAlign:g.event.x<q[0]?"right":"left",hovertemplate:Q.hovertemplate,hovertemplateLabels:$,eventData:[se]})}}var le=A.loneHover(j,{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:M,anchorIndex:J});le.each(function(){var ie=this;fe.link.concentrationscale||n(ie,.65),l(ie)})},_=function(ae,fe,Q){M._fullLayout.hovermode!==!1&&(g.select(ae).call(h.bind(0,fe,Q,!0)),fe.link.trace.link.hoverinfo!=="skip"&&(fe.link.fullData=fe.link.trace,M.emit("plotly_unhover",{event:g.event,points:[fe.link]})),A.loneUnhover(E._hoverlayer.node()))},U=function(ae,fe,Q){var j=fe.node;j.originalEvent=g.event,M._hoverdata=[j],g.select(ae).call(c,fe,Q),A.click(M,{target:!0})},Y=function(ae,fe,Q){M._fullLayout.hovermode!==!1&&(g.select(ae).call(m,fe,Q),fe.node.trace.node.hoverinfo!=="skip"&&(fe.node.fullData=fe.node.trace,M.emit("plotly_hover",{event:g.event,points:[fe.node]})))},K=function(ae,fe){if(M._fullLayout.hovermode!==!1){var Q=fe.node.trace.node;if(!(Q.hoverinfo==="none"||Q.hoverinfo==="skip")){var j=g.select(ae).select("."+p.nodeRect),X=M._fullLayout._paperdiv.node().getBoundingClientRect(),J=j.node().getBoundingClientRect(),ee=J.left-2-X.left,se=J.right+2-X.left,q=J.top+J.height/4-X.top,$={valueLabel:i(fe.valueFormat)(fe.node.value)+fe.valueSuffix};fe.node.fullData=fe.node.trace,M._fullLayout._calcInverseTransform(M);var le=M._fullLayout._invScaleX,ie=M._fullLayout._invScaleY,ce=A.loneHover({x0:le*ee,x1:le*se,y:ie*q,name:i(fe.valueFormat)(fe.node.value)+fe.valueSuffix,text:[fe.node.label,F+fe.node.targetLinks.length,O+fe.node.sourceLinks.length].filter(r).join("<br>"),color:o(Q,"bgcolor")||fe.tinyColorHue,borderColor:o(Q,"bordercolor"),fontFamily:o(Q,"font.family"),fontSize:o(Q,"font.size"),fontColor:o(Q,"font.color"),nameLength:o(Q,"namelength"),textAlign:o(Q,"align"),idealAlign:"left",hovertemplate:Q.hovertemplate,hovertemplateLabels:$,eventData:[fe.node]},{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:M});n(ce,.85),l(ce)}}},re=function(ae,fe,Q){M._fullLayout.hovermode!==!1&&(g.select(ae).call(c,fe,Q),fe.node.trace.node.hoverinfo!=="skip"&&(fe.node.fullData=fe.node.trace,M.emit("plotly_unhover",{event:g.event,points:[fe.node]})),A.loneUnhover(E._hoverlayer.node()))};L(M,x,T,{width:S.w,height:S.h,margin:{t:S.t,r:S.r,b:S.b,l:S.l}},{linkEvents:{hover:y,follow:N,unhover:_,select:C},nodeEvents:{hover:Y,follow:K,unhover:re,select:U}})}},3393:function(W,H,e){var g=e(49887),P=e(81684).k4,i=e(39898),L=e(30838),A=e(86781),v=e(85247),p=e(84267),t=e(7901),r=e(91424),s=e(71828),n=s.strTranslate,l=s.strRotate,f=e(28984),u=f.keyFun,m=f.repeat,c=f.unwrap,w=e(63893),h=e(73972),o=e(18783),d=o.CAP_SHIFT,M=o.LINE_SPACING,T=3;function E(X,J,ee){var se=c(J),q=se.trace,$=q.domain,le=q.orientation==="h",ie=q.node.pad,ce=q.node.thickness,me=X.width*($.x[1]-$.x[0]),Me=X.height*($.y[1]-$.y[0]),we=se._nodes,Oe=se._links,Be=se.circular,Ce;Be?Ce=A.sankeyCircular().circularLinkGap(0):Ce=L.sankey(),Ce.iterations(v.sankeyIterations).size(le?[me,Me]:[Me,me]).nodeWidth(ce).nodePadding(ie).nodeId(function(Ct){return Ct.pointNumber}).nodes(we).links(Oe);var xe=Ce();Ce.nodePadding()<ie&&s.warn("node.pad was reduced to ",Ce.nodePadding()," to fit within the figure.");var Se,He,Ge;for(var ke in se._groupLookup){var We=parseInt(se._groupLookup[ke]),it;for(Se=0;Se<xe.nodes.length;Se++)if(xe.nodes[Se].pointNumber===We){it=xe.nodes[Se];break}if(it){var et={pointNumber:parseInt(ke),x0:it.x0,x1:it.x1,y0:it.y0,y1:it.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};xe.nodes.unshift(et),it.childrenNodes.unshift(et)}}function tt(){for(Se=0;Se<xe.nodes.length;Se++){var Ct=xe.nodes[Se],Vt={},Qe,Fe;for(He=0;He<Ct.targetLinks.length;He++)Fe=Ct.targetLinks[He],Qe=Fe.source.pointNumber+":"+Fe.target.pointNumber,Vt.hasOwnProperty(Qe)||(Vt[Qe]=[]),Vt[Qe].push(Fe);var Ie=Object.keys(Vt);for(He=0;He<Ie.length;He++){Qe=Ie[He];var ze=Vt[Qe],Re=0,be={};for(Ge=0;Ge<ze.length;Ge++)Fe=ze[Ge],be[Fe.label]||(be[Fe.label]=0),be[Fe.label]+=Fe.value,Re+=Fe.value;for(Ge=0;Ge<ze.length;Ge++)Fe=ze[Ge],Fe.flow={value:Re,labelConcentration:be[Fe.label]/Re,concentration:Fe.value/Re,links:ze},Fe.concentrationscale&&(Fe.color=p(Fe.concentrationscale(Fe.flow.labelConcentration)))}var ye=0;for(He=0;He<Ct.sourceLinks.length;He++)ye+=Ct.sourceLinks[He].value;for(He=0;He<Ct.sourceLinks.length;He++)Fe=Ct.sourceLinks[He],Fe.concentrationOut=Fe.value/ye;var Ae=0;for(He=0;He<Ct.targetLinks.length;He++)Ae+=Ct.targetLinks[He].value;for(He=0;He<Ct.targetLinks.length;He++)Fe=Ct.targetLinks[He],Fe.concenrationIn=Fe.value/Ae}}tt();function at(Ct){Ct.forEach(function(Vt){var Qe,Fe,Ie=0,ze=Vt.length,Re;for(Vt.sort(function(be,ye){return be.y0-ye.y0}),Re=0;Re<ze;++Re)Qe=Vt[Re],Qe.y0>=Ie||(Fe=Ie-Qe.y0,Fe>1e-6&&(Qe.y0+=Fe,Qe.y1+=Fe)),Ie=Qe.y1+ie})}function ht(Ct){var Vt=Ct.map(function(ye,Ae){return{x0:ye.x0,index:Ae}}).sort(function(ye,Ae){return ye.x0-Ae.x0}),Qe=[],Fe=-1,Ie,ze=-1/0,Re;for(Se=0;Se<Vt.length;Se++){var be=Ct[Vt[Se].index];be.x0>ze+ce&&(Fe+=1,Ie=be.x0),ze=be.x0,Qe[Fe]||(Qe[Fe]=[]),Qe[Fe].push(be),Re=Ie-be.x0,be.x0+=Re,be.x1+=Re}return Qe}if(q.node.x.length&&q.node.y.length){for(Se=0;Se<Math.min(q.node.x.length,q.node.y.length,xe.nodes.length);Se++)if(q.node.x[Se]&&q.node.y[Se]){var yt=[q.node.x[Se]*me,q.node.y[Se]*Me];xe.nodes[Se].x0=yt[0]-ce/2,xe.nodes[Se].x1=yt[0]+ce/2;var gt=xe.nodes[Se].y1-xe.nodes[Se].y0;xe.nodes[Se].y0=yt[1]-gt/2,xe.nodes[Se].y1=yt[1]+gt/2}if(q.arrangement==="snap"){we=xe.nodes;var Et=ht(we);at(Et)}Ce.update(xe)}return{circular:Be,key:ee,trace:q,guid:s.randstr(),horizontal:le,width:me,height:Me,nodePad:q.node.pad,nodeLineColor:q.node.line.color,nodeLineWidth:q.node.line.width,linkLineColor:q.link.line.color,linkLineWidth:q.link.line.width,linkArrowLength:q.link.arrowlen,valueFormat:q.valueformat,valueSuffix:q.valuesuffix,textFont:q.textfont,translateX:$.x[0]*X.width+X.margin.l,translateY:X.height-$.y[1]*X.height+X.margin.t,dragParallel:le?Me:me,dragPerpendicular:le?me:Me,arrangement:q.arrangement,sankey:Ce,graph:xe,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function x(X,J,ee){var se=p(J.color),q=J.source.label+"|"+J.target.label,$=q+"__"+ee;return J.trace=X.trace,J.curveNumber=X.trace.index,{circular:X.circular,key:$,traceId:X.key,pointNumber:J.pointNumber,link:J,tinyColorHue:t.tinyRGB(se),tinyColorAlpha:se.getAlpha(),linkPath:b,linkLineColor:X.linkLineColor,linkLineWidth:X.linkLineWidth,linkArrowLength:X.linkArrowLength,valueFormat:X.valueFormat,valueSuffix:X.valueSuffix,sankey:X.sankey,parent:X,interactionState:X.interactionState,flow:J.flow}}function S(X,J){var ee="",se=X.width/2,q=X.circularPathData;return X.circularLinkType==="top"?ee="M "+(q.targetX-J)+" "+(q.targetY+se)+" L"+(q.rightInnerExtent-J)+" "+(q.targetY+se)+"A"+(q.rightLargeArcRadius+se)+" "+(q.rightSmallArcRadius+se)+" 0 0 1 "+(q.rightFullExtent-se-J)+" "+(q.targetY-q.rightSmallArcRadius)+"L"+(q.rightFullExtent-se-J)+" "+q.verticalRightInnerExtent+"A"+(q.rightLargeArcRadius+se)+" "+(q.rightLargeArcRadius+se)+" 0 0 1 "+(q.rightInnerExtent-J)+" "+(q.verticalFullExtent-se)+"L"+q.leftInnerExtent+" "+(q.verticalFullExtent-se)+"A"+(q.leftLargeArcRadius+se)+" "+(q.leftLargeArcRadius+se)+" 0 0 1 "+(q.leftFullExtent+se)+" "+q.verticalLeftInnerExtent+"L"+(q.leftFullExtent+se)+" "+(q.sourceY-q.leftSmallArcRadius)+"A"+(q.leftLargeArcRadius+se)+" "+(q.leftSmallArcRadius+se)+" 0 0 1 "+q.leftInnerExtent+" "+(q.sourceY+se)+"L"+q.sourceX+" "+(q.sourceY+se)+"L"+q.sourceX+" "+(q.sourceY-se)+"L"+q.leftInnerExtent+" "+(q.sourceY-se)+"A"+(q.leftLargeArcRadius-se)+" "+(q.leftSmallArcRadius-se)+" 0 0 0 "+(q.leftFullExtent-se)+" "+(q.sourceY-q.leftSmallArcRadius)+"L"+(q.leftFullExtent-se)+" "+q.verticalLeftInnerExtent+"A"+(q.leftLargeArcRadius-se)+" "+(q.leftLargeArcRadius-se)+" 0 0 0 "+q.leftInnerExtent+" "+(q.verticalFullExtent+se)+"L"+(q.rightInnerExtent-J)+" "+(q.verticalFullExtent+se)+"A"+(q.rightLargeArcRadius-se)+" "+(q.rightLargeArcRadius-se)+" 0 0 0 "+(q.rightFullExtent+se-J)+" "+q.verticalRightInnerExtent+"L"+(q.rightFullExtent+se-J)+" "+(q.targetY-q.rightSmallArcRadius)+"A"+(q.rightLargeArcRadius-se)+" "+(q.rightSmallArcRadius-se)+" 0 0 0 "+(q.rightInnerExtent-J)+" "+(q.targetY-se)+"L"+(q.targetX-J)+" "+(q.targetY-se)+(J>0?"L"+q.targetX+" "+q.targetY:"")+"Z":ee="M "+(q.targetX-J)+" "+(q.targetY-se)+" L"+(q.rightInnerExtent-J)+" "+(q.targetY-se)+"A"+(q.rightLargeArcRadius+se)+" "+(q.rightSmallArcRadius+se)+" 0 0 0 "+(q.rightFullExtent-se-J)+" "+(q.targetY+q.rightSmallArcRadius)+"L"+(q.rightFullExtent-se-J)+" "+q.verticalRightInnerExtent+"A"+(q.rightLargeArcRadius+se)+" "+(q.rightLargeArcRadius+se)+" 0 0 0 "+(q.rightInnerExtent-J)+" "+(q.verticalFullExtent+se)+"L"+q.leftInnerExtent+" "+(q.verticalFullExtent+se)+"A"+(q.leftLargeArcRadius+se)+" "+(q.leftLargeArcRadius+se)+" 0 0 0 "+(q.leftFullExtent+se)+" "+q.verticalLeftInnerExtent+"L"+(q.leftFullExtent+se)+" "+(q.sourceY+q.leftSmallArcRadius)+"A"+(q.leftLargeArcRadius+se)+" "+(q.leftSmallArcRadius+se)+" 0 0 0 "+q.leftInnerExtent+" "+(q.sourceY-se)+"L"+q.sourceX+" "+(q.sourceY-se)+"L"+q.sourceX+" "+(q.sourceY+se)+"L"+q.leftInnerExtent+" "+(q.sourceY+se)+"A"+(q.leftLargeArcRadius-se)+" "+(q.leftSmallArcRadius-se)+" 0 0 1 "+(q.leftFullExtent-se)+" "+(q.sourceY+q.leftSmallArcRadius)+"L"+(q.leftFullExtent-se)+" "+q.verticalLeftInnerExtent+"A"+(q.leftLargeArcRadius-se)+" "+(q.leftLargeArcRadius-se)+" 0 0 1 "+q.leftInnerExtent+" "+(q.verticalFullExtent-se)+"L"+(q.rightInnerExtent-J)+" "+(q.verticalFullExtent-se)+"A"+(q.rightLargeArcRadius-se)+" "+(q.rightLargeArcRadius-se)+" 0 0 1 "+(q.rightFullExtent+se-J)+" "+q.verticalRightInnerExtent+"L"+(q.rightFullExtent+se-J)+" "+(q.targetY+q.rightSmallArcRadius)+"A"+(q.rightLargeArcRadius-se)+" "+(q.rightSmallArcRadius-se)+" 0 0 1 "+(q.rightInnerExtent-J)+" "+(q.targetY+se)+"L"+(q.targetX-J)+" "+(q.targetY+se)+(J>0?"L"+q.targetX+" "+q.targetY:"")+"Z",ee}function b(){var X=.5;function J(ee){var se=ee.linkArrowLength;if(ee.link.circular)return S(ee.link,se);var q=Math.abs((ee.link.target.x0-ee.link.source.x1)/2);se>q&&(se=q);var $=ee.link.source.x1,le=ee.link.target.x0-se,ie=P($,le),ce=ie(X),me=ie(1-X),Me=ee.link.y0-ee.link.width/2,we=ee.link.y0+ee.link.width/2,Oe=ee.link.y1-ee.link.width/2,Be=ee.link.y1+ee.link.width/2,Ce="M"+$+","+Me,xe="C"+ce+","+Me+" "+me+","+Oe+" "+le+","+Oe,Se="C"+me+","+Be+" "+ce+","+we+" "+$+","+we,He=se>0?"L"+(le+se)+","+(Oe+ee.link.width/2):"";return He+="L"+le+","+Be,Ce+xe+He+Se+"Z"}return J}function a(X,J){var ee=p(J.color),se=v.nodePadAcross,q=X.nodePad/2;J.dx=J.x1-J.x0,J.dy=J.y1-J.y0;var $=J.dx,le=Math.max(.5,J.dy),ie="node_"+J.pointNumber;return J.group&&(ie=s.randstr()),J.trace=X.trace,J.curveNumber=X.trace.index,{index:J.pointNumber,key:ie,partOfGroup:J.partOfGroup||!1,group:J.group,traceId:X.key,trace:X.trace,node:J,nodePad:X.nodePad,nodeLineColor:X.nodeLineColor,nodeLineWidth:X.nodeLineWidth,textFont:X.textFont,size:X.horizontal?X.height:X.width,visibleWidth:Math.ceil($),visibleHeight:le,zoneX:-se,zoneY:-q,zoneWidth:$+2*se,zoneHeight:le+2*q,labelY:X.horizontal?J.dy/2+1:J.dx/2+1,left:J.originalLayer===1,sizeAcross:X.width,forceLayouts:X.forceLayouts,horizontal:X.horizontal,darkBackground:ee.getBrightness()<=128,tinyColorHue:t.tinyRGB(ee),tinyColorAlpha:ee.getAlpha(),valueFormat:X.valueFormat,valueSuffix:X.valueSuffix,sankey:X.sankey,graph:X.graph,arrangement:X.arrangement,uniqueNodeLabelPathId:[X.guid,X.key,ie].join("_"),interactionState:X.interactionState,figure:X}}function C(X){X.attr("transform",function(J){return n(J.node.x0.toFixed(3),J.node.y0.toFixed(3))})}function y(X){X.call(C)}function z(X,J){X.call(y),J.attr("d",b())}function I(X){X.attr("width",function(J){return J.node.x1-J.node.x0}).attr("height",function(J){return J.visibleHeight})}function B(X){return X.link.width>1||X.linkLineWidth>0}function F(X){var J=n(X.translateX,X.translateY);return J+(X.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function O(X,J,ee){X.on(".basic",null).on("mouseover.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(ee.hover(this,se,J),se.interactionState.hovered=[this,se])}).on("mousemove.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(ee.follow(this,se),se.interactionState.hovered=[this,se])}).on("mouseout.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(ee.unhover(this,se,J),se.interactionState.hovered=!1)}).on("click.basic",function(se){se.interactionState.hovered&&(ee.unhover(this,se,J),se.interactionState.hovered=!1),!se.interactionState.dragInProgress&&!se.partOfGroup&&ee.select(this,se,J)})}function N(X,J,ee,se){var q=i.behavior.drag().origin(function($){return{x:$.node.x0+$.visibleWidth/2,y:$.node.y0+$.visibleHeight/2}}).on("dragstart",function($){if($.arrangement!=="fixed"&&(s.ensureSingle(se._fullLayout._infolayer,"g","dragcover",function(ie){se._fullLayout._dragCover=ie}),s.raiseToTop(this),$.interactionState.dragInProgress=$.node,ae($.node),$.interactionState.hovered&&(ee.nodeEvents.unhover.apply(0,$.interactionState.hovered),$.interactionState.hovered=!1),$.arrangement==="snap")){var le=$.traceId+"|"+$.key;$.forceLayouts[le]?$.forceLayouts[le].alpha(1):_(X,le,$),U(X,J,$,le,se)}}).on("drag",function($){if($.arrangement!=="fixed"){var le=i.event.x,ie=i.event.y;$.arrangement==="snap"?($.node.x0=le-$.visibleWidth/2,$.node.x1=le+$.visibleWidth/2,$.node.y0=ie-$.visibleHeight/2,$.node.y1=ie+$.visibleHeight/2):($.arrangement==="freeform"&&($.node.x0=le-$.visibleWidth/2,$.node.x1=le+$.visibleWidth/2),ie=Math.max(0,Math.min($.size-$.visibleHeight/2,ie)),$.node.y0=ie-$.visibleHeight/2,$.node.y1=ie+$.visibleHeight/2),ae($.node),$.arrangement!=="snap"&&($.sankey.update($.graph),z(X.filter(fe($)),J))}}).on("dragend",function($){if($.arrangement!=="fixed"){$.interactionState.dragInProgress=!1;for(var le=0;le<$.node.childrenNodes.length;le++)$.node.childrenNodes[le].x=$.node.x,$.node.childrenNodes[le].y=$.node.y;$.arrangement!=="snap"&&K($,se)}});X.on(".drag",null).call(q)}function _(X,J,ee,se){Q(ee.graph.nodes);var q=ee.graph.nodes.filter(function($){return $.originalX===ee.node.originalX}).filter(function($){return!$.partOfGroup});ee.forceLayouts[J]=g.forceSimulation(q).alphaDecay(0).force("collide",g.forceCollide().radius(function($){return $.dy/2+ee.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",Y(X,J,q,ee)).stop()}function U(X,J,ee,se,q){window.requestAnimationFrame(function $(){var le;for(le=0;le<v.forceTicksPerFrame;le++)ee.forceLayouts[se].tick();var ie=ee.graph.nodes;if(j(ie),ee.sankey.update(ee.graph),z(X.filter(fe(ee)),J),ee.forceLayouts[se].alpha()>0)window.requestAnimationFrame($);else{var ce=ee.node.originalX;ee.node.x0=ce-ee.visibleWidth/2,ee.node.x1=ce+ee.visibleWidth/2,K(ee,q)}})}function Y(X,J,ee,se){return function(){for(var $=0,le=0;le<ee.length;le++){var ie=ee[le];ie===se.interactionState.dragInProgress?(ie.x=ie.lastDraggedX,ie.y=ie.lastDraggedY):(ie.vx=(ie.originalX-ie.x)/v.forceTicksPerFrame,ie.y=Math.min(se.size-ie.dy/2,Math.max(ie.dy/2,ie.y))),$=Math.max($,Math.abs(ie.vx),Math.abs(ie.vy))}!se.interactionState.dragInProgress&&$<.1&&se.forceLayouts[J].alpha()>0&&se.forceLayouts[J].alpha(0)}}function K(X,J){for(var ee=[],se=[],q=0;q<X.graph.nodes.length;q++){var $=(X.graph.nodes[q].x0+X.graph.nodes[q].x1)/2,le=(X.graph.nodes[q].y0+X.graph.nodes[q].y1)/2;ee.push($/X.figure.width),se.push(le/X.figure.height)}h.call("_guiRestyle",J,{"node.x":[ee],"node.y":[se]},X.trace.index).then(function(){J._fullLayout._dragCover&&J._fullLayout._dragCover.remove()})}function re(X){var J=[],ee;for(ee=0;ee<X.length;ee++)X[ee].originalX=(X[ee].x0+X[ee].x1)/2,X[ee].originalY=(X[ee].y0+X[ee].y1)/2,J.indexOf(X[ee].originalX)===-1&&J.push(X[ee].originalX);for(J.sort(function(se,q){return se-q}),ee=0;ee<X.length;ee++)X[ee].originalLayerIndex=J.indexOf(X[ee].originalX),X[ee].originalLayer=X[ee].originalLayerIndex/(J.length-1)}function ae(X){X.lastDraggedX=X.x0+X.dx/2,X.lastDraggedY=X.y0+X.dy/2}function fe(X){return function(J){return J.node.originalX===X.node.originalX}}function Q(X){for(var J=0;J<X.length;J++)X[J].y=(X[J].y0+X[J].y1)/2,X[J].x=(X[J].x0+X[J].x1)/2}function j(X){for(var J=0;J<X.length;J++)X[J].y0=X[J].y-X[J].dy/2,X[J].y1=X[J].y0+X[J].dy,X[J].x0=X[J].x-X[J].dx/2,X[J].x1=X[J].x0+X[J].dx}W.exports=function(X,J,ee,se,q){var $=X._context.staticPlot,le=!1;s.ensureSingle(X._fullLayout._infolayer,"g","first-render",function(){le=!0});var ie=X._fullLayout._dragCover,ce=ee.filter(function(Se){return c(Se).trace.visible}).map(E.bind(null,se)),me=J.selectAll("."+v.cn.sankey).data(ce,u);me.exit().remove(),me.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",$?"none":"auto").attr("transform",F),me.each(function(Se,He){X._fullData[He]._sankey=Se;var Ge="bgsankey-"+Se.trace.uid+"-"+He;s.ensureSingle(X._fullLayout._draggers,"rect",Ge),X._fullData[He]._bgRect=i.select("."+Ge),X._fullData[He]._bgRect.style("pointer-events",$?"none":"all").attr("width",Se.width).attr("height",Se.height).attr("x",Se.translateX).attr("y",Se.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),me.transition().ease(v.ease).duration(v.duration).attr("transform",F);var Me=me.selectAll("."+v.cn.sankeyLinks).data(m,u);Me.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var we=Me.selectAll("."+v.cn.sankeyLink).data(function(Se){var He=Se.graph.links;return He.filter(function(Ge){return Ge.value}).map(x.bind(null,Se))},u);we.enter().append("path").classed(v.cn.sankeyLink,!0).call(O,me,q.linkEvents),we.style("stroke",function(Se){return B(Se)?t.tinyRGB(p(Se.linkLineColor)):Se.tinyColorHue}).style("stroke-opacity",function(Se){return B(Se)?t.opacity(Se.linkLineColor):Se.tinyColorAlpha}).style("fill",function(Se){return Se.tinyColorHue}).style("fill-opacity",function(Se){return Se.tinyColorAlpha}).style("stroke-width",function(Se){return B(Se)?Se.linkLineWidth:1}).attr("d",b()),we.style("opacity",function(){return X._context.staticPlot||le||ie?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),we.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Oe=me.selectAll("."+v.cn.sankeyNodeSet).data(m,u);Oe.enter().append("g").classed(v.cn.sankeyNodeSet,!0),Oe.style("cursor",function(Se){switch(Se.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var Be=Oe.selectAll("."+v.cn.sankeyNode).data(function(Se){var He=Se.graph.nodes;return re(He),He.map(a.bind(null,Se))},u);Be.enter().append("g").classed(v.cn.sankeyNode,!0).call(C).style("opacity",function(Se){return(X._context.staticPlot||le)&&!Se.partOfGroup?1:0}),Be.call(O,me,q.nodeEvents).call(N,we,q,X),Be.transition().ease(v.ease).duration(v.duration).call(C).style("opacity",function(Se){return Se.partOfGroup?0:1}),Be.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Ce=Be.selectAll("."+v.cn.nodeRect).data(m);Ce.enter().append("rect").classed(v.cn.nodeRect,!0).call(I),Ce.style("stroke-width",function(Se){return Se.nodeLineWidth}).style("stroke",function(Se){return t.tinyRGB(p(Se.nodeLineColor))}).style("stroke-opacity",function(Se){return t.opacity(Se.nodeLineColor)}).style("fill",function(Se){return Se.tinyColorHue}).style("fill-opacity",function(Se){return Se.tinyColorAlpha}),Ce.transition().ease(v.ease).duration(v.duration).call(I);var xe=Be.selectAll("."+v.cn.nodeLabel).data(m);xe.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),xe.attr("data-notex",1).text(function(Se){return Se.node.label}).each(function(Se){var He=i.select(this);r.font(He,Se.textFont),w.convertToTspans(He,X)}).style("text-shadow",w.makeTextShadow(X._fullLayout.paper_bgcolor)).attr("text-anchor",function(Se){return Se.horizontal&&Se.left?"end":"start"}).attr("transform",function(Se){var He=i.select(this),Ge=w.lineCount(He),ke=Se.textFont.size*((Ge-1)*M-d),We=Se.nodeLineWidth/2+T,it=((Se.horizontal?Se.visibleHeight:Se.visibleWidth)-ke)/2;Se.horizontal&&(Se.left?We=-We:We+=Se.visibleWidth);var et=Se.horizontal?"":"scale(-1,1)"+l(90);return n(Se.horizontal?We:it,Se.horizontal?it:We)+et}),xe.transition().ease(v.ease).duration(v.duration)}},84564:function(W){W.exports=function(e,g){for(var P=e.cd,i=[],L=P[0].trace,A=L._sankey.graph.nodes,v=0;v<A.length;v++){var p=A[v];if(!p.partOfGroup){var t=[(p.x0+p.x1)/2,(p.y0+p.y1)/2];L.orientation==="v"&&t.reverse(),g&&g.contains(t,!1,v,e)&&i.push({pointNumber:p.pointNumber})}}return i}},75225:function(W,H,e){var g=e(71828);W.exports=function(i,L){for(var A=0;A<i.length;A++)i[A].i=A;g.mergeArray(L.text,i,"tx"),g.mergeArray(L.texttemplate,i,"txt"),g.mergeArray(L.hovertext,i,"htx"),g.mergeArray(L.customdata,i,"data"),g.mergeArray(L.textposition,i,"tp"),L.textfont&&(g.mergeArrayCastPositive(L.textfont.size,i,"ts"),g.mergeArray(L.textfont.color,i,"tc"),g.mergeArray(L.textfont.family,i,"tf"));var v=L.marker;if(v){g.mergeArrayCastPositive(v.size,i,"ms"),g.mergeArrayCastPositive(v.opacity,i,"mo"),g.mergeArray(v.symbol,i,"mx"),g.mergeArray(v.angle,i,"ma"),g.mergeArray(v.standoff,i,"mf"),g.mergeArray(v.color,i,"mc");var p=v.line;v.line&&(g.mergeArray(p.color,i,"mlc"),g.mergeArrayCastPositive(p.width,i,"mlw"));var t=v.gradient;t&&t.type!=="none"&&(g.mergeArray(t.type,i,"mgt"),g.mergeArray(t.color,i,"mgc"))}}},82196:function(W,H,e){var g=e(12663).axisHoverFormat,P=e(5386).si,i=e(5386).fF,L=e(50693),A=e(41940),v=e(79952).P,p=e(79952).u,t=e(91424),r=e(47581),s=e(1426).extendFlat;function n(u){return{valType:"any",dflt:0,editType:"calc"}}function l(u){return{valType:"any",editType:"calc"}}function f(u){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}W.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:n(),yperiod:n(),xperiod0:l(),yperiod0:l(),xperiodalignment:f(),yperiodalignment:f(),xhoverformat:g("x"),yhoverformat:g("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:P({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:i({},{keys:r.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:s({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:p,marker:s({symbol:{valType:"enumerated",values:t.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:s({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},L("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},L("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:A({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(W,H,e){var g=e(92770),P=e(71828),i=e(89298),L=e(42973),A=e(50606).BADNUM,v=e(34098),p=e(36922),t=e(75225),r=e(66279);function s(c,w){var h=c._fullLayout,o=w._xA=i.getFromId(c,w.xaxis||"x","x"),d=w._yA=i.getFromId(c,w.yaxis||"y","y"),M=o.makeCalcdata(w,"x"),T=d.makeCalcdata(w,"y"),E=L(w,o,"x",M),x=L(w,d,"y",T),S=E.vals,b=x.vals,a=w._length,C=new Array(a),y=w.ids,z=m(w,h,o,d),I=!1,B,F,O,N,_,U;f(h,w);var Y="x",K="y",re;if(z)P.pushUnique(z.traceIndices,w._expandedIndex),B=z.orientation==="v",B?(K="s",re="x"):(Y="s",re="y"),_=z.stackgaps==="interpolate";else{var ae=l(w,a);n(c,w,o,d,S,b,ae)}var fe=!!w.xperiodalignment,Q=!!w.yperiodalignment;for(F=0;F<a;F++){var j=C[F]={},X=g(S[F]),J=g(b[F]);X&&J?(j[Y]=S[F],j[K]=b[F],fe&&(j.orig_x=M[F],j.xEnd=E.ends[F],j.xStart=E.starts[F]),Q&&(j.orig_y=T[F],j.yEnd=x.ends[F],j.yStart=x.starts[F])):z&&(B?X:J)?(j[re]=B?S[F]:b[F],j.gap=!0,_?(j.s=A,I=!0):j.s=0):j[Y]=j[K]=A,y&&(j.id=String(y[F]))}if(t(C,w),p(c,w),r(C,w),z){for(F=0;F<C.length;)C[F][re]===A?C.splice(F,1):F++;if(P.sort(C,function($,le){return $[re]-le[re]||$.i-le.i}),I){for(F=0;F<C.length-1&&C[F].gap;)F++;for(U=C[F].s,U||(U=C[F].s=0),O=0;O<F;O++)C[O].s=U;for(N=C.length-1;N>F&&C[N].gap;)N--;for(U=C[N].s,O=C.length-1;O>N;O--)C[O].s=U;for(;F<N;)if(F++,C[F].gap){for(O=F+1;C[O].gap;)O++;for(var ee=C[F-1][re],se=C[F-1].s,q=(C[O].s-se)/(C[O][re]-ee);F<O;)C[F].s=se+(C[F][re]-ee)*q,F++}}}return C}function n(c,w,h,o,d,M,T){var E=w._length,x=c._fullLayout,S=h._id,b=o._id,a=x._firstScatter[u(w)]===w.uid,C=(m(w,x,h,o)||{}).orientation,y=w.fill;h._minDtick=0,o._minDtick=0;var z={padded:!0},I={padded:!0};T&&(z.ppad=I.ppad=T);var B=E<2||d[0]!==d[E-1]||M[0]!==M[E-1];B&&(y==="tozerox"||y==="tonextx"&&(a||C==="h"))?z.tozero=!0:!(w.error_y||{}).visible&&(y==="tonexty"||y==="tozeroy"||!v.hasMarkers(w)&&!v.hasText(w))&&(z.padded=!1,z.ppad=0),B&&(y==="tozeroy"||y==="tonexty"&&(a||C==="v"))?I.tozero=!0:(y==="tonextx"||y==="tozerox")&&(I.padded=!1),S&&(w._extremes[S]=i.findExtremes(h,d,z)),b&&(w._extremes[b]=i.findExtremes(o,M,I))}function l(c,w){if(v.hasMarkers(c)){var h=c.marker,o=1.6*(c.marker.sizeref||1),d;if(c.marker.sizemode==="area"?d=function(S){return Math.max(Math.sqrt((S||0)/o),3)}:d=function(S){return Math.max((S||0)/o,3)},P.isArrayOrTypedArray(h.size)){var M={type:"linear"};i.setConvert(M);for(var T=M.makeCalcdata(c.marker,"size"),E=new Array(w),x=0;x<w;x++)E[x]=d(T[x]);return E}else return d(h.size)}}function f(c,w){var h=u(w),o=c._firstScatter;o[h]||(o[h]=w.uid)}function u(c){var w=c.stackgroup;return c.xaxis+c.yaxis+c.type+(w?"-"+w:"")}function m(c,w,h,o){var d=c.stackgroup;if(d){var M=w._scatterStackOpts[h._id+o._id][d],T=M.orientation==="v"?o:h;if(T.type==="linear"||T.type==="log")return M}}W.exports={calc:s,calcMarkerSize:l,calcAxisExpansion:n,setFirstScatter:f,getStackOpts:m}},66279:function(W,H,e){var g=e(71828);W.exports=function(i,L){g.isArrayOrTypedArray(L.selectedpoints)&&g.tagSelected(i,L)}},36922:function(W,H,e){var g=e(52075).hasColorscale,P=e(78803),i=e(34098);W.exports=function(A,v){i.hasLines(v)&&g(v,"line")&&P(A,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),i.hasMarkers(v)&&(g(v,"marker")&&P(A,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),g(v,"marker.line")&&P(A,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(W){W.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(W,H,e){var g=e(47761),P=e(11661).setGroupPositions;function i(v,p){for(var t=p.xaxis,r=p.yaxis,s=v._fullLayout,n=v._fullData,l=v.calcdata,f=[],u=[],m=0;m<n.length;m++){var c=n[m];c.visible===!0&&c.type==="scatter"&&c.xaxis===t._id&&c.yaxis===r._id&&(c.orientation==="h"?f.push(l[m]):c.orientation==="v"&&u.push(l[m]))}var w={mode:s.scattermode,gap:s.scattergap};P(v,t,r,u,w),P(v,r,t,f,w)}W.exports=function(p,t){p._fullLayout.scattermode==="group"&&i(p,t);var r=t.xaxis,s=t.yaxis,n=r._id+s._id,l=p._fullLayout._scatterStackOpts[n];if(l){var f=p.calcdata,u,m,c,w,h,o,d,M,T,E,x,S,b,a,C;for(var y in l){E=l[y];var z=E.traceIndices;if(z.length){for(x=E.stackgaps==="interpolate",S=E.groupnorm,E.orientation==="v"?(b="x",a="y"):(b="y",a="x"),C=new Array(z.length),u=0;u<C.length;u++)C[u]=!1;o=f[z[0]];var I=new Array(o.length);for(u=0;u<o.length;u++)I[u]=o[u][b];for(u=1;u<z.length;u++){for(h=f[z[u]],m=c=0;m<h.length;m++){for(d=h[m][b];d>I[c]&&c<I.length;c++)L(h,m,I[c],u,C,x,b),m++;if(d!==I[c]){for(w=0;w<u;w++)L(f[z[w]],c,d,w,C,x,b);I.splice(c,0,d)}c++}for(;c<I.length;c++)L(h,m,I[c],u,C,x,b),m++}var B=I.length;for(m=0;m<o.length;m++){for(M=o[m][a]=o[m].s,u=1;u<z.length;u++)h=f[z[u]],h[0].trace._rawLength=h[0].trace._length,h[0].trace._length=B,M+=h[m].s,h[m][a]=M;if(S)for(T=(S==="fraction"?M:M/100)||1,u=0;u<z.length;u++){var F=f[z[u]][m];F[a]/=T,F.sNorm=F.s/T}}for(u=0;u<z.length;u++){h=f[z[u]];var O=h[0].trace,N=g.calcMarkerSize(O,O._rawLength),_=Array.isArray(N);if(N&&C[u]||_){var U=N;for(N=new Array(B),m=0;m<B;m++)N[m]=h[m].gap?0:_?U[h[m].i]:U}var Y=new Array(B),K=new Array(B);for(m=0;m<B;m++)Y[m]=h[m].x,K[m]=h[m].y;g.calcAxisExpansion(p,O,r,s,Y,K,N),h[0].t.orientation=E.orientation}}}}};function L(v,p,t,r,s,n,l){s[r]=!0;var f={i:null,gap:!0,s:0};if(f[l]=t,v.splice(p,0,f),p&&t===v[p-1][l]){var u=v[p-1];f.s=u.s,f.i=u.i,f.gap=u.gap}else n&&(f.s=A(v,p,t,l));p||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}function A(v,p,t,r){var s=v[p-1],n=v[p+1];return n?s?s.s+(n.s-s.s)*(t-s[r])/(n[r]-s[r]):n.s:s.s}},34936:function(W,H,e){var g=e(71828),P=e(26125),i=e(82196);W.exports=function(A,v){var p,t,r;function s(m){return g.coerce(t._input,t,i,m)}if(v.scattermode==="group")for(r=0;r<A.length;r++)t=A[r],t.type==="scatter"&&(p=t._input,P(p,t,v,s));for(r=0;r<A.length;r++){var n=A[r];if(n.type==="scatter"){var l=n.fill;if(!(l==="none"||l==="toself")&&(n.opacity=void 0,l==="tonexty"||l==="tonextx"))for(var f=r-1;f>=0;f--){var u=A[f];if(u.type==="scatter"&&u.xaxis===n.xaxis&&u.yaxis===n.yaxis){u.opacity=void 0;break}}}}}},17438:function(W,H,e){var g=e(71828),P=e(73972),i=e(82196),L=e(47581),A=e(34098),v=e(67513),p=e(73927),t=e(565),r=e(49508),s=e(11058),n=e(94039),l=e(82410),f=e(28908),u=e(71828).coercePattern;W.exports=function(c,w,h,o){function d(C,y){return g.coerce(c,w,i,C,y)}var M=v(c,w,o,d);if(M||(w.visible=!1),!!w.visible){p(c,w,o,d),d("xhoverformat"),d("yhoverformat");var T=t(c,w,o,d);o.scattermode==="group"&&w.orientation===void 0&&d("orientation","v");var E=!T&&M<L.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",E),A.hasLines(w)&&(s(c,w,h,o,d,{backoff:!0}),n(c,w,d),d("connectgaps"),d("line.simplify")),A.hasMarkers(w)&&r(c,w,h,o,d,{gradient:!0}),A.hasText(w)&&(d("texttemplate"),l(c,w,o,d));var x=[];(A.hasMarkers(w)||A.hasText(w))&&(d("cliponaxis"),d("marker.maxdisplayed"),x.push("points")),d("fill",T?T.fillDflt:"none"),w.fill!=="none"&&(f(c,w,h,d),A.hasLines(w)||n(c,w,d),u(d,"fillpattern",w.fillcolor,!1));var S=(w.line||{}).color,b=(w.marker||{}).color;(w.fill==="tonext"||w.fill==="toself")&&x.push("fills"),d("hoveron",x.join("+")||"points"),w.hoveron!=="fills"&&d("hovertemplate");var a=P.getComponentMethod("errorbars","supplyDefaults");a(c,w,S||b||h,{axis:"y"}),a(c,w,S||b||h,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(w,d)}}},28908:function(W,H,e){var g=e(7901),P=e(71828).isArrayOrTypedArray;W.exports=function(L,A,v,p){var t=!1;if(A.marker){var r=A.marker.color,s=(A.marker.line||{}).color;r&&!P(r)?t=r:s&&!P(s)&&(t=s)}p("fillcolor",g.addOpacity((A.line||{}).color||t||v,.5))}},8225:function(W,H,e){var g=e(89298);W.exports=function(i,L,A){var v={},p={_fullLayout:A},t=g.getFromTrace(p,L,"x"),r=g.getFromTrace(p,L,"y"),s=i.orig_x;s===void 0&&(s=i.x);var n=i.orig_y;return n===void 0&&(n=i.y),v.xLabel=g.tickText(t,t.c2l(s),!0).text,v.yLabel=g.tickText(r,r.c2l(n),!0).text,v}},34603:function(W,H,e){var g=e(7901),P=e(34098);W.exports=function(L,A){var v,p;if(L.mode==="lines")return v=L.line.color,v&&g.opacity(v)?v:L.fillcolor;if(L.mode==="none")return L.fill?L.fillcolor:"";var t=A.mcc||(L.marker||{}).color,r=A.mlcc||((L.marker||{}).line||{}).color;return p=t&&g.opacity(t)?t:r&&g.opacity(r)&&(A.mlw||((L.marker||{}).line||{}).width)?r:"",p?g.opacity(p)<.3?g.addOpacity(p,.3):p:(v=(L.line||{}).color,v&&g.opacity(v)&&P.hasLines(L)&&L.line.width?v:L.fillcolor)}},26125:function(W,H,e){var g=e(99082).getAxisGroup;W.exports=function(i,L,A,v){var p=L.orientation,t=L[{v:"x",h:"y"}[p]+"axis"],r=g(A,t)+p,s=A._alignmentOpts||{},n=v("alignmentgroup"),l=s[r];l||(l=s[r]={});var f=l[n];f?f.traces.push(L):f=l[n]={traces:[L],alignmentIndex:Object.keys(l).length,offsetGroups:{}};var u=v("offsetgroup"),m=f.offsetGroups,c=m[u];u&&(c||(c=m[u]={offsetIndex:Object.keys(m).length}),L._offsetIndex=c.offsetIndex)}},33720:function(W,H,e){var g=e(71828),P=e(30211),i=e(73972),L=e(34603),A=e(7901),v=g.fillText;W.exports=function(t,r,s,n){var l=t.cd,f=l[0].trace,u=t.xa,m=t.ya,c=u.c2p(r),w=m.c2p(s),h=[c,w],o=f.hoveron||"",d=f.mode.indexOf("markers")!==-1?3:.5,M=!!f.xperiodalignment,T=!!f.yperiodalignment;if(o.indexOf("points")!==-1){var E=function(ce){if(M){var me=u.c2p(ce.xStart),Me=u.c2p(ce.xEnd);return c>=Math.min(me,Me)&&c<=Math.max(me,Me)?0:1/0}var we=Math.max(3,ce.mrc||0),Oe=1-1/we,Be=Math.abs(u.c2p(ce.x)-c);return Be<we?Oe*Be/we:Be-we+Oe},x=function(ce){if(T){var me=m.c2p(ce.yStart),Me=m.c2p(ce.yEnd);return w>=Math.min(me,Me)&&w<=Math.max(me,Me)?0:1/0}var we=Math.max(3,ce.mrc||0),Oe=1-1/we,Be=Math.abs(m.c2p(ce.y)-w);return Be<we?Oe*Be/we:Be-we+Oe},S=function(ce){var me=Math.max(d,ce.mrc||0),Me=u.c2p(ce.x)-c,we=m.c2p(ce.y)-w;return Math.max(Math.sqrt(Me*Me+we*we)-me,1-d/me)},b=P.getDistanceFunction(n,E,x,S);if(P.getClosest(l,b,t),t.index!==!1){var a=l[t.index],C=u.c2p(a.x,!0),y=m.c2p(a.y,!0),z=a.mrc||1;t.index=a.i;var I=l[0].t.orientation,B=I&&(a.sNorm||a.s),F=I==="h"?B:a.orig_x!==void 0?a.orig_x:a.x,O=I==="v"?B:a.orig_y!==void 0?a.orig_y:a.y;return g.extendFlat(t,{color:L(f,a),x0:C-z,x1:C+z,xLabelVal:F,y0:y-z,y1:y+z,yLabelVal:O,spikeDistance:S(a),hovertemplate:f.hovertemplate}),v(a,f,t),i.getComponentMethod("errorbars","hoverInfo")(a,f,t),[t]}}if(o.indexOf("fills")!==-1&&f._polygons){var N=f._polygons,_=[],U=!1,Y=1/0,K=-1/0,re=1/0,ae=-1/0,fe,Q,j,X,J,ee,se,q,$;for(fe=0;fe<N.length;fe++)j=N[fe],j.contains(h)&&(U=!U,_.push(j),re=Math.min(re,j.ymin),ae=Math.max(ae,j.ymax));if(U){re=Math.max(re,0),ae=Math.min(ae,m._length);var le=(re+ae)/2;for(fe=0;fe<_.length;fe++)for(X=_[fe].pts,Q=1;Q<X.length;Q++)q=X[Q-1][1],$=X[Q][1],q>le!=$>=le&&(ee=X[Q-1][0],se=X[Q][0],$-q&&(J=ee+(se-ee)*(le-q)/($-q),Y=Math.min(Y,J),K=Math.max(K,J)));Y=Math.max(Y,0),K=Math.min(K,u._length);var ie=A.defaultLine;return A.opacity(f.fillcolor)?ie=f.fillcolor:A.opacity((f.line||{}).color)&&(ie=f.line.color),g.extendFlat(t,{distance:t.maxHoverDistance,x0:Y,x1:K,y0:le,y1:le,color:ie,hovertemplate:!1}),delete t.index,f.text&&!Array.isArray(f.text)?t.text=String(f.text):t.text=f.name,[t]}}}},67368:function(W,H,e){var g=e(34098);W.exports={hasLines:g.hasLines,hasMarkers:g.hasMarkers,hasText:g.hasText,isBubble:g.isBubble,attributes:e(82196),layoutAttributes:e(21479),supplyDefaults:e(17438),crossTraceDefaults:e(34936),supplyLayoutDefaults:e(79334),calc:e(47761).calc,crossTraceCalc:e(72626),arraysToCalcdata:e(75225),plot:e(32663),colorbar:e(4898),formatLabels:e(8225),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(33720),selectPoints:e(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(W){W.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(W,H,e){var g=e(71828),P=e(21479);W.exports=function(i,L){function A(p,t){return g.coerce(i,L,P,p,t)}var v=L.barmode==="group";L.scattermode==="group"&&A("scattergap",v?L.bargap:.2)}},11058:function(W,H,e){var g=e(71828).isArrayOrTypedArray,P=e(52075).hasColorscale,i=e(1586);W.exports=function(A,v,p,t,r,s){s||(s={});var n=(A.marker||{}).color;if(r("line.color",p),P(A,"line"))i(A,v,t,r,{prefix:"line.",cLetter:"c"});else{var l=(g(n)?!1:n)||p;r("line.color",l)}r("line.width"),s.noDash||r("line.dash"),s.backoff&&r("line.backoff")}},34621:function(W,H,e){var g=e(91424),P=e(50606),i=P.BADNUM,L=P.LOG_CLIP,A=L+.5,v=L-.5,p=e(71828),t=p.segmentsIntersect,r=p.constrain,s=e(47581);W.exports=function(l,f){var u=f.trace||{},m=f.xaxis,c=f.yaxis,w=m.type==="log",h=c.type==="log",o=m._length,d=c._length,M=f.backoff,T=u.marker,E=f.connectGaps,x=f.baseTolerance,S=f.shape,b=S==="linear",a=u.fill&&u.fill!=="none",C=[],y=s.minTolerance,z=l.length,I=new Array(z),B=0,F,O,N,_,U,Y,K,re,ae,fe,Q,j,X,J,ee,se;function q(vt){var bt=l[vt];if(!bt)return!1;var Wt=f.linearized?m.l2p(bt.x):m.c2p(bt.x),qt=f.linearized?c.l2p(bt.y):c.c2p(bt.y);if(Wt===i){if(w&&(Wt=m.c2p(bt.x,!0)),Wt===i)return!1;h&&qt===i&&(Wt*=Math.abs(m._m*d*(m._m>0?A:v)/(c._m*o*(c._m>0?A:v)))),Wt*=1e3}if(qt===i){if(h&&(qt=c.c2p(bt.y,!0)),qt===i)return!1;qt*=1e3}return[Wt,qt]}function $(vt,bt,Wt,qt){var At=Wt-vt,zt=qt-bt,Jt=.5-vt,Mr=.5-bt,pt=At*At+zt*zt,Zt=At*Jt+zt*Mr;if(Zt>0&&Zt<pt){var Kt=Jt*zt-Mr*At;if(Kt*Kt<pt)return!0}}var le,ie;function ce(vt,bt){var Wt=vt[0]/o,qt=vt[1]/d,At=Math.max(0,-Wt,Wt-1,-qt,qt-1);return At&&le!==void 0&&$(Wt,qt,le,ie)&&(At=0),At&&bt&&$(Wt,qt,bt[0]/o,bt[1]/d)&&(At=0),(1+s.toleranceGrowth*At)*x}function me(vt,bt){var Wt=vt[0]-bt[0],qt=vt[1]-bt[1];return Math.sqrt(Wt*Wt+qt*qt)}var Me=s.maxScreensAway,we=-o*Me,Oe=o*(1+Me),Be=-d*Me,Ce=d*(1+Me),xe=[[we,Be,Oe,Be],[Oe,Be,Oe,Ce],[Oe,Ce,we,Ce],[we,Ce,we,Be]],Se,He,Ge,ke,We,it;function et(vt,bt){for(var Wt=[],qt=0,At=0;At<4;At++){var zt=xe[At],Jt=t(vt[0],vt[1],bt[0],bt[1],zt[0],zt[1],zt[2],zt[3]);Jt&&(!qt||Math.abs(Jt.x-Wt[0][0])>1||Math.abs(Jt.y-Wt[0][1])>1)&&(Jt=[Jt.x,Jt.y],qt&&me(Jt,vt)<me(Wt[0],vt)?Wt.unshift(Jt):Wt.push(Jt),qt++)}return Wt}function tt(vt){if(vt[0]<we||vt[0]>Oe||vt[1]<Be||vt[1]>Ce)return[r(vt[0],we,Oe),r(vt[1],Be,Ce)]}function at(vt,bt){if(vt[0]===bt[0]&&(vt[0]===we||vt[0]===Oe)||vt[1]===bt[1]&&(vt[1]===Be||vt[1]===Ce))return!0}function ht(vt,bt){var Wt=[],qt=tt(vt),At=tt(bt);return qt&&At&&at(qt,At)||(qt&&Wt.push(qt),At&&Wt.push(At)),Wt}function yt(vt,bt,Wt){return function(qt,At){var zt=tt(qt),Jt=tt(At),Mr=[];if(zt&&Jt&&at(zt,Jt))return Mr;zt&&Mr.push(zt),Jt&&Mr.push(Jt);var pt=2*p.constrain((qt[vt]+At[vt])/2,bt,Wt)-((zt||qt)[vt]+(Jt||At)[vt]);if(pt){var Zt;zt&&Jt?Zt=pt>0==zt[vt]>Jt[vt]?zt:Jt:Zt=zt||Jt,Zt[vt]+=pt}return Mr}}var gt;S==="linear"||S==="spline"?gt=et:S==="hv"||S==="vh"?gt=ht:S==="hvh"?gt=yt(0,we,Oe):S==="vhv"&&(gt=yt(1,Be,Ce));function Et(vt,bt){var Wt=bt[0]-vt[0],qt=(bt[1]-vt[1])/Wt,At=(vt[1]*bt[0]-bt[1]*vt[0])/Wt;return At>0?[qt>0?we:Oe,Ce]:[qt>0?Oe:we,Be]}function Ct(vt){var bt=vt[0],Wt=vt[1],qt=bt===I[B-1][0],At=Wt===I[B-1][1];if(!(qt&&At))if(B>1){var zt=bt===I[B-2][0],Jt=Wt===I[B-2][1];qt&&(bt===we||bt===Oe)&&zt?Jt?B--:I[B-1]=vt:At&&(Wt===Be||Wt===Ce)&&Jt?zt?B--:I[B-1]=vt:I[B++]=vt}else I[B++]=vt}function Vt(vt){I[B-1][0]!==vt[0]&&I[B-1][1]!==vt[1]&&Ct([Ge,ke]),Ct(vt),We=null,Ge=ke=0}var Qe=p.isArrayOrTypedArray(T);function Fe(vt){if(vt&&M&&(vt.i=F,vt.d=l,vt.trace=u,vt.marker=Qe?T[vt.i]:T,vt.backoff=M),le=vt[0]/o,ie=vt[1]/d,Se=vt[0]<we?we:vt[0]>Oe?Oe:0,He=vt[1]<Be?Be:vt[1]>Ce?Ce:0,Se||He){if(!B)I[B++]=[Se||vt[0],He||vt[1]];else if(We){var bt=gt(We,vt);bt.length>1&&(Vt(bt[0]),I[B++]=bt[1])}else it=gt(I[B-1],vt)[0],I[B++]=it;var Wt=I[B-1];Se&&He&&(Wt[0]!==Se||Wt[1]!==He)?(We&&(Ge!==Se&&ke!==He?Ct(Ge&&ke?Et(We,vt):[Ge||Se,ke||He]):Ge&&ke&&Ct([Ge,ke])),Ct([Se,He])):Ge-Se&&ke-He&&Ct([Se||Ge,He||ke]),We=vt,Ge=Se,ke=He}else We&&Vt(gt(We,vt)[0]),I[B++]=vt}for(F=0;F<z;F++)if(O=q(F),!!O){for(B=0,We=null,Fe(O),F++;F<z;F++){if(_=q(F),!_){if(E)continue;break}if(!b||!f.simplify){Fe(_);continue}var Ie=q(F+1);if(fe=me(_,O),!(!(a&&(B===0||B===z-1))&&fe<ce(_,Ie)*y)){for(re=[(_[0]-O[0])/fe,(_[1]-O[1])/fe],U=O,Q=fe,j=J=ee=0,K=!1,N=_,F++;F<l.length;F++){if(Y=Ie,Ie=q(F+1),!Y){if(E)continue;break}if(ae=[Y[0]-O[0],Y[1]-O[1]],se=ae[0]*re[1]-ae[1]*re[0],J=Math.min(J,se),ee=Math.max(ee,se),ee-J>ce(Y,Ie))break;N=Y,X=ae[0]*re[0]+ae[1]*re[1],X>Q?(Q=X,_=Y,K=!1):X<j&&(j=X,U=Y,K=!0)}if(K?(Fe(_),N!==U&&Fe(U)):(U!==O&&Fe(U),N!==_&&Fe(_)),Fe(N),F>=l.length||!Y)break;Fe(Y),O=Y}}We&&Ct([Ge||We[0],ke||We[1]]),C.push(I.slice(0,B))}var ze=S.slice(S.length-1);if(M&&ze!=="h"&&ze!=="v"){for(var Re=!1,be=-1,ye=[],Ae=0;Ae<C.length;Ae++)for(var Ee=0;Ee<C[Ae].length-1;Ee++){var Ne=C[Ae][Ee],Je=C[Ae][Ee+1],qe=g.applyBackoff(Je,Ne);(qe[0]!==Je[0]||qe[1]!==Je[1])&&(Re=!0),ye[be+1]||(be++,ye[be]=[Ne,[qe[0],qe[1]]])}return Re?ye:C}return C}},94039:function(W){W.exports=function(e,g,P){var i=P("line.shape");i==="spline"&&P("line.smoothing")}},68687:function(W){var H={tonextx:1,tonexty:1,tonext:1};W.exports=function(g,P,i){var L,A,v,p,t,r={},s=!1,n=-1,l=0,f=-1;for(A=0;A<i.length;A++)L=i[A][0].trace,v=L.stackgroup||"",v?v in r?t=r[v]:(t=r[v]=l,l++):L.fill in H&&f>=0?t=f:(t=f=l,l++),t<n&&(s=!0),L._groupIndex=n=t;var u=i.slice();s&&u.sort(function(c,w){var h=c[0].trace,o=w[0].trace;return h._groupIndex-o._groupIndex||h.index-o.index});var m={};for(A=0;A<u.length;A++)L=u[A][0].trace,v=L.stackgroup||"",L.visible===!0?(L._nexttrace=null,L.fill in H&&(p=m[v],L._prevtrace=p||null,p&&(p._nexttrace=L)),L._ownfill=L.fill&&(L.fill.substr(0,6)==="tozero"||L.fill==="toself"||L.fill.substr(0,2)==="to"&&!L._prevtrace),m[v]=L):L._prevtrace=L._nexttrace=L._ownfill=null;return u}},39984:function(W,H,e){var g=e(92770);W.exports=function(i,L){L||(L=2);var A=i.marker,v=A.sizeref||1,p=A.sizemin||0,t=A.sizemode==="area"?function(r){return Math.sqrt(r/v)}:function(r){return r/v};return function(r){var s=t(r/L);return g(s)&&s>0?Math.max(s,p):0}}},4898:function(W){W.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(W,H,e){var g=e(7901),P=e(52075).hasColorscale,i=e(1586),L=e(34098);W.exports=function(v,p,t,r,s,n){var l=L.isBubble(v),f=(v.line||{}).color,u;if(n=n||{},f&&(t=f),s("marker.symbol"),s("marker.opacity",l?.7:1),s("marker.size"),n.noAngle||(s("marker.angle"),n.noAngleRef||s("marker.angleref"),n.noStandOff||s("marker.standoff")),s("marker.color",t),P(v,"marker")&&i(v,p,r,s,{prefix:"marker.",cLetter:"c"}),n.noSelect||(s("selected.marker.color"),s("unselected.marker.color"),s("selected.marker.size"),s("unselected.marker.size")),n.noLine||(f&&!Array.isArray(f)&&p.marker.color!==f?u=f:l?u=g.background:u=g.defaultLine,s("marker.line.color",u),P(v,"marker.line")&&i(v,p,r,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width",l?1:0)),l&&(s("marker.sizeref"),s("marker.sizemin"),s("marker.sizemode")),n.gradient){var m=s("marker.gradient.type");m!=="none"&&s("marker.gradient.color")}}},73927:function(W,H,e){var g=e(71828).dateTick0,P=e(50606),i=P.ONEWEEK;function L(A,v){return A%i===0?g(v,1):g(v,0)}W.exports=function(v,p,t,r,s){if(s||(s={x:!0,y:!0}),s.x){var n=r("xperiod");n&&(r("xperiod0",L(n,p.xcalendar)),r("xperiodalignment"))}if(s.y){var l=r("yperiod");l&&(r("yperiod0",L(l,p.ycalendar)),r("yperiodalignment"))}}},32663:function(W,H,e){var g=e(39898),P=e(73972),i=e(71828),L=i.ensureSingle,A=i.identity,v=e(91424),p=e(34098),t=e(34621),r=e(68687),s=e(61082).tester;W.exports=function(m,c,w,h,o,d){var M,T,E=!o,x=!!o&&o.duration>0,S=r(m,c,w);if(M=h.selectAll("g.trace").data(S,function(a){return a[0].trace.uid}),M.enter().append("g").attr("class",function(a){return"trace scatter trace"+a[0].trace.uid}).style("stroke-miterlimit",2),M.order(),n(m,M,c),x){d&&(T=d());var b=g.transition().duration(o.duration).ease(o.easing).each("end",function(){T&&T()}).each("interrupt",function(){T&&T()});b.each(function(){h.selectAll("g.trace").each(function(a,C){l(m,C,c,a,S,this,o)})})}else M.each(function(a,C){l(m,C,c,a,S,this,o)});E&&M.exit().remove(),h.selectAll("path:not([d])").remove()};function n(u,m,c){m.each(function(w){var h=L(g.select(this),"g","fills");v.setClipUrl(h,c.layerClipId,u);var o=w[0].trace,d=[];o._ownfill&&d.push("_ownFill"),o._nexttrace&&d.push("_nextFill");var M=h.selectAll("g").data(d,A);M.enter().append("g"),M.exit().each(function(T){o[T]=null}).remove(),M.order().each(function(T){o[T]=L(g.select(this),"path","js-fill")})})}function l(u,m,c,w,h,o,d){var M=u._context.staticPlot,T;f(u,m,c,w,h);var E=!!d&&d.duration>0;function x(ke){return E?ke.transition():ke}var S=c.xaxis,b=c.yaxis,a=w[0].trace,C=a.line,y=g.select(o),z=L(y,"g","errorbars"),I=L(y,"g","lines"),B=L(y,"g","points"),F=L(y,"g","text");if(P.getComponentMethod("errorbars","plot")(u,z,c,d),a.visible!==!0)return;x(y).style("opacity",a.opacity);var O,N,_=a.fill.charAt(a.fill.length-1);_!=="x"&&_!=="y"&&(_=""),w[0][c.isRangePlot?"nodeRangePlot3":"node3"]=y;var U="",Y=[],K=a._prevtrace;K&&(U=K._prevRevpath||"",N=K._nextFill,Y=K._polygons);var re,ae,fe="",Q="",j,X,J,ee,se,q,$,le=[],ie=i.noop;if(O=a._ownFill,p.hasLines(a)||a.fill!=="none"){for(N&&N.datum(w),["hv","vh","hvh","vhv"].indexOf(C.shape)!==-1?(j=v.steps(C.shape),X=v.steps(C.shape.split("").reverse().join(""))):C.shape==="spline"?j=X=function(ke){var We=ke[ke.length-1];return ke.length>1&&ke[0][0]===We[0]&&ke[0][1]===We[1]?v.smoothclosed(ke.slice(1),C.smoothing):v.smoothopen(ke,C.smoothing)}:j=X=function(ke){return"M"+ke.join("L")},J=function(ke){return X(ke.reverse())},le=t(w,{xaxis:S,yaxis:b,trace:a,connectGaps:a.connectgaps,baseTolerance:Math.max(C.width||1,3)/4,shape:C.shape,backoff:C.backoff,simplify:C.simplify,fill:a.fill}),$=a._polygons=new Array(le.length),T=0;T<le.length;T++)a._polygons[T]=s(le[T]);le.length&&(ee=le[0][0],se=le[le.length-1],q=se[se.length-1]),ie=function(ke){return function(We){if(re=j(We),ae=J(We),fe?_?(fe+="L"+re.substr(1),Q=ae+("L"+Q.substr(1))):(fe+="Z"+re,Q=ae+"Z"+Q):(fe=re,Q=ae),p.hasLines(a)){var it=g.select(this);if(it.datum(w),ke)x(it.style("opacity",0).attr("d",re).call(v.lineGroupStyle)).style("opacity",1);else{var et=x(it);et.attr("d",re),v.singleLineStyle(w,et)}}}}}var ce=I.selectAll(".js-line").data(le);x(ce.exit()).style("opacity",0).remove(),ce.each(ie(!1)),ce.enter().append("path").classed("js-line",!0).style("vector-effect",M?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(ie(!0)),v.setClipUrl(ce,c.layerClipId,u);function me(ke){x(ke).attr("d","M0,0Z")}le.length?(O?(O.datum(w),ee&&q&&(_?(_==="y"?ee[1]=q[1]=b.c2p(0,!0):_==="x"&&(ee[0]=q[0]=S.c2p(0,!0)),x(O).attr("d","M"+q+"L"+ee+"L"+fe.substr(1)).call(v.singleFillStyle,u)):x(O).attr("d",fe+"Z").call(v.singleFillStyle,u))):N&&(a.fill.substr(0,6)==="tonext"&&fe&&U?(a.fill==="tonext"?x(N).attr("d",fe+"Z"+U+"Z").call(v.singleFillStyle,u):x(N).attr("d",fe+"L"+U.substr(1)+"Z").call(v.singleFillStyle,u),a._polygons=a._polygons.concat(Y)):(me(N),a._polygons=null)),a._prevRevpath=Q,a._prevPolygons=$):(O?me(O):N&&me(N),a._polygons=a._prevRevpath=a._prevPolygons=null);function Me(ke){return ke.filter(function(We){return!We.gap&&We.vis})}function we(ke){return ke.filter(function(We){return We.vis})}function Oe(ke){return ke.filter(function(We){return!We.gap})}function Be(ke){return ke.id}function Ce(ke){if(ke.ids)return Be}function xe(){return!1}function Se(ke,We,it){var et,tt,at,ht=it[0].trace,yt=p.hasMarkers(ht),gt=p.hasText(ht),Et=Ce(ht),Ct=xe,Vt=xe;if(yt||gt){var Qe=A,Fe=ht.stackgroup,Ie=Fe&&u._fullLayout._scatterStackOpts[S._id+b._id][Fe].stackgaps==="infer zero";ht.marker.maxdisplayed||ht._needsCull?Qe=Ie?we:Me:Fe&&!Ie&&(Qe=Oe),yt&&(Ct=Qe),gt&&(Vt=Qe)}tt=ke.selectAll("path.point"),et=tt.data(Ct,Et);var ze=et.enter().append("path").classed("point",!0);E&&ze.call(v.pointStyle,ht,u).call(v.translatePoints,S,b).style("opacity",0).transition().style("opacity",1),et.order();var Re;yt&&(Re=v.makePointStyleFns(ht)),et.each(function(be){var ye=g.select(this),Ae=x(ye);at=v.translatePoint(be,Ae,S,b),at?(v.singlePointStyle(be,Ae,ht,Re,u),c.layerClipId&&v.hideOutsideRangePoint(be,Ae,S,b,ht.xcalendar,ht.ycalendar),ht.customdata&&ye.classed("plotly-customdata",be.data!==null&&be.data!==void 0)):Ae.remove()}),E?et.exit().transition().style("opacity",0).remove():et.exit().remove(),tt=We.selectAll("g"),et=tt.data(Vt,Et),et.enter().append("g").classed("textpoint",!0).append("text"),et.order(),et.each(function(be){var ye=g.select(this),Ae=x(ye.select("text"));at=v.translatePoint(be,Ae,S,b),at?c.layerClipId&&v.hideOutsideRangePoint(be,ye,S,b,ht.xcalendar,ht.ycalendar):ye.remove()}),et.selectAll("text").call(v.textPointStyle,ht,u).each(function(be){var ye=S.c2p(be.x),Ae=b.c2p(be.y);g.select(this).selectAll("tspan.line").each(function(){x(g.select(this)).attr({x:ye,y:Ae})})}),et.exit().remove()}B.datum(w),F.datum(w),Se(B,F,w);var He=a.cliponaxis===!1,Ge=He?null:c.layerClipId;v.setClipUrl(B,Ge,u),v.setClipUrl(F,Ge,u)}function f(u,m,c,w,h){var o=c.xaxis,d=c.yaxis,M=g.extent(i.simpleMap(o.range,o.r2c)),T=g.extent(i.simpleMap(d.range,d.r2c)),E=w[0].trace;if(p.hasMarkers(E)){var x=E.marker.maxdisplayed;if(x!==0){var S=w.filter(function(y){return y.x>=M[0]&&y.x<=M[1]&&y.y>=T[0]&&y.y<=T[1]}),b=Math.ceil(S.length/x),a=0;h.forEach(function(y,z){var I=y[0].trace;p.hasMarkers(I)&&I.marker.maxdisplayed>0&&z<m&&a++});var C=Math.round(a*b/3+Math.floor(a/3)*b/7.1);w.forEach(function(y){delete y.vis}),S.forEach(function(y,z){Math.round((z+C)%b)===0&&(y.vis=!0)})}}}},98002:function(W,H,e){var g=e(34098);W.exports=function(i,L){var A=i.cd,v=i.xaxis,p=i.yaxis,t=[],r=A[0].trace,s,n,l,f,u=!g.hasMarkers(r)&&!g.hasText(r);if(u)return[];if(L===!1)for(s=0;s<A.length;s++)A[s].selected=0;else for(s=0;s<A.length;s++)n=A[s],l=v.c2p(n.x),f=p.c2p(n.y),n.i!==null&&L.contains([l,f],!1,s,i)?(t.push({pointNumber:n.i,x:v.c2d(n.x),y:p.c2d(n.y)}),n.selected=1):n.selected=0;return t}},565:function(W){var H=["orientation","groupnorm","stackgaps"];W.exports=function(g,P,i,L){var A=i._scatterStackOpts,v=L("stackgroup");if(v){var p=P.xaxis+P.yaxis,t=A[p];t||(t=A[p]={});var r=t[v],s=!1;r?r.traces.push(P):(r=t[v]={traceIndices:[],traces:[P]},s=!0);for(var n={orientation:P.x&&!P.y?"h":"v"},l=0;l<H.length;l++){var f=H[l],u=f+"Found";if(!r[u]){var m=g[f]!==void 0,c=f==="orientation";if((m||s)&&(r[f]=L(f,n[f]),c&&(r.fillDflt=r[f]==="h"?"tonextx":"tonexty"),m&&(r[u]=!0,!s&&(delete r.traces[0][f],c))))for(var w=0;w<r.traces.length-1;w++){var h=r.traces[w];h._input.fill!==h.fill&&(h.fill=r.fillDflt)}}}return r}}},16296:function(W,H,e){var g=e(39898),P=e(91424),i=e(73972);function L(t){var r=g.select(t).selectAll("g.trace.scatter");r.style("opacity",function(s){return s[0].trace.opacity}),r.selectAll("g.points").each(function(s){var n=g.select(this),l=s.trace||s[0].trace;A(n,l,t)}),r.selectAll("g.text").each(function(s){var n=g.select(this),l=s.trace||s[0].trace;v(n,l,t)}),r.selectAll("g.trace path.js-line").call(P.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(P.fillGroupStyle,t),i.getComponentMethod("errorbars","style")(r)}function A(t,r,s){P.pointStyle(t.selectAll("path.point"),r,s)}function v(t,r,s){P.textPointStyle(t.selectAll("text"),r,s)}function p(t,r,s){var n=r[0].trace;n.selectedpoints?(P.selectedPointStyle(s.selectAll("path.point"),n),P.selectedTextStyle(s.selectAll("text"),n)):(A(s,n,t),v(s,n,t))}W.exports={style:L,stylePoints:A,styleText:v,styleOnSelect:p}},34098:function(W,H,e){var g=e(71828);W.exports={hasLines:function(P){return P.visible&&P.mode&&P.mode.indexOf("lines")!==-1},hasMarkers:function(P){return P.visible&&(P.mode&&P.mode.indexOf("markers")!==-1||P.type==="splom")},hasText:function(P){return P.visible&&P.mode&&P.mode.indexOf("text")!==-1},isBubble:function(P){return g.isPlainObject(P.marker)&&g.isArrayOrTypedArray(P.marker.size)}}},82410:function(W,H,e){var g=e(71828);W.exports=function(P,i,L,A,v){v=v||{},A("textposition"),g.coerceFont(A,"textfont",v.font||L.font),v.noSelect||(A("selected.textfont.color"),A("unselected.textfont.color"))}},67513:function(W,H,e){var g=e(71828),P=e(73972);W.exports=function(L,A,v,p){var t=p("x"),r=p("y"),s,n=P.getComponentMethod("calendars","handleTraceDefaults");if(n(L,A,["x","y"],v),t){var l=g.minRowLength(t);r?s=Math.min(l,g.minRowLength(r)):(s=l,p("y0"),p("dy"))}else{if(!r)return 0;s=g.minRowLength(r),p("x0"),p("dx")}return A._length=s,s}},44542:function(W,H,e){var g=e(82196),P=e(50693),i=e(12663).axisHoverFormat,L=e(5386).fF,A=e(5386).si,v=e(9012),p=e(29659),t=e(87381),r=e(1426).extendFlat,s=e(30962).overrideAll,n=e(78607),l=g.line,f=g.marker,u=f.line,m=r({width:l.width,dash:{valType:"enumerated",values:n(p),dflt:"solid"}},P("line"));function c(h){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var w=W.exports=s({x:g.x,y:g.y,z:{valType:"data_array"},text:r({},g.text,{}),texttemplate:A({},{}),hovertext:r({},g.hovertext,{}),hovertemplate:L(),xhoverformat:i("x"),yhoverformat:i("y"),zhoverformat:i("z"),mode:r({},g.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:c(),y:c(),z:c()},connectgaps:g.connectgaps,line:m,marker:r({symbol:{valType:"enumerated",values:n(t),dflt:"circle",arrayOk:!0},size:r({},f.size,{dflt:8}),sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode,opacity:r({},f.opacity,{arrayOk:!1}),colorbar:f.colorbar,line:r({width:r({},u.width,{arrayOk:!1})},P("marker.line"))},P("marker")),textposition:r({},g.textposition,{dflt:"top center"}),textfont:{color:g.textfont.color,size:g.textfont.size,family:r({},g.textfont.family,{arrayOk:!1})},opacity:v.opacity,hoverinfo:r({},v.hoverinfo)},"calc","nested");w.x.editType=w.y.editType=w.z.editType="calc+clearAxisTypes"},36563:function(W,H,e){var g=e(75225),P=e(36922);W.exports=function(L,A){var v=[{x:!1,y:!1,trace:A,t:{}}];return g(v,A),P(L,A),v}},67336:function(W,H,e){var g=e(73972);function P(A,v,p,t){if(!v||!v.visible)return null;for(var r=g.getComponentMethod("errorbars","makeComputeError")(v),s=new Array(A.length),n=0;n<A.length;n++){var l=r(+A[n],n);if(t.type==="log"){var f=t.c2l(A[n]),u=A[n]-l[0],m=A[n]+l[1];if(s[n]=[(t.c2l(u,!0)-f)*p,(t.c2l(m,!0)-f)*p],u>0){var c=t.c2l(u);t._lowerLogErrorBound||(t._lowerLogErrorBound=c),t._lowerErrorBound=Math.min(t._lowerLogErrorBound,c)}}else s[n]=[-l[0]*p,l[1]*p]}return s}function i(A){for(var v=0;v<A.length;v++)if(A[v])return A[v].length;return 0}function L(A,v,p){var t=[P(A.x,A.error_x,v[0],p.xaxis),P(A.y,A.error_y,v[1],p.yaxis),P(A.z,A.error_z,v[2],p.zaxis)],r=i(t);if(r===0)return null;for(var s=new Array(r),n=0;n<r;n++){for(var l=[[0,0,0],[0,0,0]],f=0;f<3;f++)if(t[f])for(var u=0;u<2;u++)l[u][f]=t[f][n][u];s[n]=l}return s}W.exports=L},58925:function(W,H,e){var g=e(9330).gl_line3d,P=e(9330).gl_scatter3d,i=e(9330).gl_error3d,L=e(9330).gl_mesh3d,A=e(9330).delaunay_triangulate,v=e(71828),p=e(78614),t=e(81697).formatColor,r=e(39984),s=e(29659),n=e(87381),l=e(89298),f=e(23469).appendArrayPointValue,u=e(67336);function m(y,z){this.scene=y,this.uid=z,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var c=m.prototype;c.handlePick=function(y){if(y.object&&(y.object===this.linePlot||y.object===this.delaunayMesh||y.object===this.textMarkers||y.object===this.scatterPlot)){var z=y.index=y.data.index;return y.object.highlight&&y.object.highlight(null),this.scatterPlot&&(y.object=this.scatterPlot,this.scatterPlot.highlight(y.data)),y.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[z]||this.textLabels[z]===0)&&(y.textLabel=this.textLabels[z]):y.textLabel=this.textLabels),y.traceCoordinate=[this.data.x[z],this.data.y[z],this.data.z[z]],!0}};function w(y,z,I){var B=(I+1)%3,F=(I+2)%3,O=[],N=[],_;for(_=0;_<y.length;++_){var U=y[_];isNaN(U[B])||!isFinite(U[B])||isNaN(U[F])||!isFinite(U[F])||(O.push([U[B],U[F]]),N.push(_))}var Y=A(O);for(_=0;_<Y.length;++_)for(var K=Y[_],re=0;re<K.length;++re)K[re]=N[K[re]];return{positions:y,cells:Y,meshColor:z}}function h(y){for(var z=[0,0,0],I=[[0,0,0],[0,0,0],[0,0,0]],B=[1,1,1],F=0;F<3;F++){var O=y[F];O&&O.copy_zstyle!==!1&&y[2].visible!==!1&&(O=y[2]),!(!O||!O.visible)&&(z[F]=O.width/2,I[F]=p(O.color),B[F]=O.thickness)}return{capSize:z,color:I,lineWidth:B}}function o(y){return y==null?0:y.indexOf("left")>-1?-1:y.indexOf("right")>-1?1:0}function d(y){return y==null?0:y.indexOf("top")>-1?-1:y.indexOf("bottom")>-1?1:0}function M(y){var z=0,I=0,B=[z,I];if(Array.isArray(y))for(var F=0;F<y.length;F++)B[F]=[z,I],y[F]&&(B[F][0]=o(y[F]),B[F][1]=d(y[F]));else B[0]=o(y),B[1]=d(y);return B}function T(y,z){return z(y*4)}function E(y){return n[y]}function x(y,z,I,B,F){var O=null;if(v.isArrayOrTypedArray(y)){O=[];for(var N=0;N<z;N++)y[N]===void 0?O[N]=B:O[N]=I(y[N],F)}else O=I(y,v.identity);return O}function S(y,z){var I=[],B=y.fullSceneLayout,F=y.dataScale,O=B.xaxis,N=B.yaxis,_=B.zaxis,U=z.marker,Y=z.line,K=z.x||[],re=z.y||[],ae=z.z||[],fe=K.length,Q=z.xcalendar,j=z.ycalendar,X=z.zcalendar,J,ee,se,q,$,le;for($=0;$<fe;$++)J=O.d2l(K[$],0,Q)*F[0],ee=N.d2l(re[$],0,j)*F[1],se=_.d2l(ae[$],0,X)*F[2],I[$]=[J,ee,se];if(Array.isArray(z.text))le=z.text;else if(z.text!==void 0)for(le=new Array(fe),$=0;$<fe;$++)le[$]=z.text;function ie(et,tt){var at=B[et];return l.tickText(at,at.d2l(tt),!0).text}var ce=z.texttemplate;if(ce){var me=y.fullLayout,Me=me._d3locale,we=Array.isArray(ce),Oe=we?Math.min(ce.length,fe):fe,Be=we?function(et){return ce[et]}:function(){return ce};for(le=new Array(Oe),$=0;$<Oe;$++){var Ce={x:K[$],y:re[$],z:ae[$]},xe={xLabel:ie("xaxis",K[$]),yLabel:ie("yaxis",re[$]),zLabel:ie("zaxis",ae[$])},Se={};f(Se,z,$);var He=z._meta||{};le[$]=v.texttemplateString(Be($),xe,Me,Se,Ce,He)}}if(q={position:I,mode:z.mode,text:le},"line"in z&&(q.lineColor=t(Y,1,fe),q.lineWidth=Y.width,q.lineDashes=Y.dash),"marker"in z){var Ge=r(z);q.scatterColor=t(U,1,fe),q.scatterSize=x(U.size,fe,T,20,Ge),q.scatterMarker=x(U.symbol,fe,E,""),q.scatterLineWidth=U.line.width,q.scatterLineColor=t(U.line,1,fe),q.scatterAngle=0}"textposition"in z&&(q.textOffset=M(z.textposition),q.textColor=t(z.textfont,1,fe),q.textSize=x(z.textfont.size,fe,v.identity,12),q.textFont=z.textfont.family,q.textAngle=0);var ke=["x","y","z"];for(q.project=[!1,!1,!1],q.projectScale=[1,1,1],q.projectOpacity=[1,1,1],$=0;$<3;++$){var We=z.projection[ke[$]];(q.project[$]=We.show)&&(q.projectOpacity[$]=We.opacity,q.projectScale[$]=We.scale)}q.errorBounds=u(z,F,B);var it=h([z.error_x,z.error_y,z.error_z]);return q.errorColor=it.color,q.errorLineWidth=it.lineWidth,q.errorCapSize=it.capSize,q.delaunayAxis=z.surfaceaxis,q.delaunayColor=p(z.surfacecolor),q}function b(y){if(v.isArrayOrTypedArray(y)){var z=y[0];return v.isArrayOrTypedArray(z)&&(y=z),"rgb("+y.slice(0,3).map(function(I){return Math.round(I*255)})+")"}return null}function a(y){return v.isArrayOrTypedArray(y)?y.length===4&&typeof y[0]=="number"?b(y):y.map(b):null}c.update=function(y){var z=this.scene.glplot.gl,I,B,F,O,N=s.solid;this.data=y;var _=S(this.scene,y);"mode"in _&&(this.mode=_.mode),"lineDashes"in _&&_.lineDashes in s&&(N=s[_.lineDashes]),this.color=a(_.scatterColor)||a(_.lineColor),this.dataPoints=_.position,I={gl:this.scene.glplot.gl,position:_.position,color:_.lineColor,lineWidth:_.lineWidth||1,dashes:N[0],dashScale:N[1],opacity:y.opacity,connectGaps:y.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(I):(this.linePlot=g(I),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var U=y.opacity;if(y.marker&&y.marker.opacity!==void 0&&(U*=y.marker.opacity),B={gl:this.scene.glplot.gl,position:_.position,color:_.scatterColor,size:_.scatterSize,glyph:_.scatterMarker,opacity:U,orthographic:!0,lineWidth:_.scatterLineWidth,lineColor:_.scatterLineColor,project:_.project,projectScale:_.projectScale,projectOpacity:_.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(B):(this.scatterPlot=P(B),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),O={gl:this.scene.glplot.gl,position:_.position,glyph:_.text,color:_.textColor,size:_.textSize,angle:_.textAngle,alignment:_.textOffset,font:_.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:y.opacity},this.textLabels=y.hovertext||y.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(O):(this.textMarkers=P(O),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),F={gl:this.scene.glplot.gl,position:_.position,color:_.errorColor,error:_.errorBounds,lineWidth:_.errorLineWidth,capSize:_.errorCapSize,opacity:y.opacity},this.errorBars?_.errorBounds?this.errorBars.update(F):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):_.errorBounds&&(this.errorBars=i(F),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),_.delaunayAxis>=0){var Y=w(_.position,_.delaunayColor,_.delaunayAxis);Y.opacity=y.opacity,this.delaunayMesh?this.delaunayMesh.update(Y):(Y.gl=z,this.delaunayMesh=L(Y),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},c.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function C(y,z){var I=new m(y,z.uid);return I.update(z),I}W.exports=C},21428:function(W,H,e){var g=e(73972),P=e(71828),i=e(34098),L=e(49508),A=e(11058),v=e(82410),p=e(44542);W.exports=function(s,n,l,f){function u(T,E){return P.coerce(s,n,p,T,E)}var m=t(s,n,u,f);if(!m){n.visible=!1;return}u("text"),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat"),u("zhoverformat"),u("mode"),i.hasLines(n)&&(u("connectgaps"),A(s,n,l,f,u)),i.hasMarkers(n)&&L(s,n,l,f,u,{noSelect:!0,noAngle:!0}),i.hasText(n)&&(u("texttemplate"),v(s,n,f,u,{noSelect:!0}));var c=(n.line||{}).color,w=(n.marker||{}).color;u("surfaceaxis")>=0&&u("surfacecolor",c||w);for(var h=["x","y","z"],o=0;o<3;++o){var d="projection."+h[o];u(d+".show")&&(u(d+".opacity"),u(d+".scale"))}var M=g.getComponentMethod("errorbars","supplyDefaults");M(s,n,c||w||l,{axis:"z"}),M(s,n,c||w||l,{axis:"y",inherit:"z"}),M(s,n,c||w||l,{axis:"x",inherit:"z"})};function t(r,s,n,l){var f=0,u=n("x"),m=n("y"),c=n("z"),w=g.getComponentMethod("calendars","handleTraceDefaults");return w(r,s,["x","y","z"],l),u&&m&&c&&(f=Math.min(u.length,m.length,c.length),s._length=s._xlength=s._ylength=s._zlength=f),f}},13551:function(W,H,e){W.exports={plot:e(58925),attributes:e(44542),markerSymbols:e(87381),supplyDefaults:e(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(36563),moduleType:"trace",name:"scatter3d",basePlotModule:e(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(W,H,e){var g=e(82196),P=e(9012),i=e(5386).fF,L=e(5386).si,A=e(50693),v=e(1426).extendFlat,p=g.marker,t=g.line,r=p.line;W.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:v({},g.mode,{dflt:"markers"}),text:v({},g.text,{}),texttemplate:L({editType:"plot"},{keys:["a","b","text"]}),hovertext:v({},g.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:v({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:g.connectgaps,fill:v({},g.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:g.fillcolor,marker:v({symbol:p.symbol,opacity:p.opacity,maxdisplayed:p.maxdisplayed,angle:p.angle,angleref:p.angleref,standoff:p.standoff,size:p.size,sizeref:p.sizeref,sizemin:p.sizemin,sizemode:p.sizemode,line:v({width:r.width,editType:"calc"},A("marker.line")),gradient:p.gradient,editType:"calc"},A("marker")),textfont:g.textfont,textposition:g.textposition,selected:g.selected,unselected:g.unselected,hoverinfo:v({},P.hoverinfo,{flags:["a","b","text","name"]}),hoveron:g.hoveron,hovertemplate:i()}},34618:function(W,H,e){var g=e(92770),P=e(36922),i=e(75225),L=e(66279),A=e(47761).calcMarkerSize,v=e(22882);W.exports=function(t,r){var s=r._carpetTrace=v(t,r);if(!(!s||!s.visible||s.visible==="legendonly")){var n;r.xaxis=s.xaxis,r.yaxis=s.yaxis;var l=r._length,f=new Array(l),u,m,c=!1;for(n=0;n<l;n++)if(u=r.a[n],m=r.b[n],g(u)&&g(m)){var w=s.ab2xy(+u,+m,!0),h=s.isVisible(+u,+m);h||(c=!0),f[n]={x:w[0],y:w[1],a:u,b:m,vis:h}}else f[n]={x:!1,y:!1};return r._needsCull=c,f[0].carpet=s,f[0].trace=r,A(r,l),P(t,r),i(f,r),L(f,r),f}}},98965:function(W,H,e){var g=e(71828),P=e(47581),i=e(34098),L=e(49508),A=e(11058),v=e(94039),p=e(82410),t=e(28908),r=e(97001);W.exports=function(n,l,f,u){function m(T,E){return g.coerce(n,l,r,T,E)}m("carpet"),l.xaxis="x",l.yaxis="y";var c=m("a"),w=m("b"),h=Math.min(c.length,w.length);if(!h){l.visible=!1;return}l._length=h,m("text"),m("texttemplate"),m("hovertext");var o=h<P.PTS_LINESONLY?"lines+markers":"lines";m("mode",o),i.hasLines(l)&&(A(n,l,f,u,m,{backoff:!0}),v(n,l,m),m("connectgaps")),i.hasMarkers(l)&&L(n,l,f,u,m,{gradient:!0}),i.hasText(l)&&p(n,l,u,m);var d=[];(i.hasMarkers(l)||i.hasText(l))&&(m("marker.maxdisplayed"),d.push("points")),m("fill"),l.fill!=="none"&&(t(n,l,f,m),i.hasLines(l)||v(n,l,m)),(l.fill==="tonext"||l.fill==="toself")&&d.push("fills");var M=m("hoveron",d.join("+")||"points");M!=="fills"&&m("hovertemplate"),g.coerceSelectionMarkerOpacity(l,m)}},16165:function(W){W.exports=function(e,g,P,i,L){var A=i[L];return e.a=A.a,e.b=A.b,e.y=A.y,e}},48953:function(W){W.exports=function(e,g){var P={},i=g._carpet,L=i.ab2ij([e.a,e.b]),A=Math.floor(L[0]),v=L[0]-A,p=Math.floor(L[1]),t=L[1]-p,r=i.evalxy([],A,p,v,t);return P.yLabel=r[1].toFixed(3),P}},22931:function(W,H,e){var g=e(33720),P=e(71828).fillText;W.exports=function(L,A,v,p){var t=g(L,A,v,p);if(!t||t[0].index===!1)return;var r=t[0];if(r.index===void 0){var s=1-r.y0/L.ya._length,n=L.xa._length,l=n*s/2,f=n-l;return r.x0=Math.max(Math.min(r.x0,f),l),r.x1=Math.max(Math.min(r.x1,f),l),t}var u=r.cd[r.index];r.a=u.a,r.b=u.b,r.xLabelVal=void 0,r.yLabelVal=void 0;var m=r.trace,c=m._carpet,w=m._module.formatLabels(u,m);r.yLabel=w.yLabel,delete r.text;var h=[];function o(T,E){var x;T.labelprefix&&T.labelprefix.length>0?x=T.labelprefix.replace(/ = $/,""):x=T._hovertitle,h.push(x+": "+E.toFixed(3)+T.labelsuffix)}if(!m.hovertemplate){var d=u.hi||m.hoverinfo,M=d.split("+");M.indexOf("all")!==-1&&(M=["a","b","text"]),M.indexOf("a")!==-1&&o(c.aaxis,u.a),M.indexOf("b")!==-1&&o(c.baxis,u.b),h.push("y: "+r.yLabel),M.indexOf("text")!==-1&&P(u,m,h),r.extraText=h.join("<br>")}return t}},46858:function(W,H,e){W.exports={attributes:e(97001),supplyDefaults:e(98965),colorbar:e(4898),formatLabels:e(48953),calc:e(34618),plot:e(1913),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(22931),selectPoints:e(98002),eventData:e(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:e(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(W,H,e){var g=e(32663),P=e(89298),i=e(91424);W.exports=function(A,v,p,t){var r,s,n,l=p[0][0].carpet,f=P.getFromId(A,l.xaxis||"x"),u=P.getFromId(A,l.yaxis||"y"),m={xaxis:f,yaxis:u,plot:v.plot};for(r=0;r<p.length;r++)s=p[r][0].trace,s._xA=f,s._yA=u;for(g(A,m,p,t),r=0;r<p.length;r++)s=p[r][0].trace,n=t.selectAll("g.trace"+s.uid+" .js-line"),i.setClipUrl(n,p[r][0].carpet._clipPathId,A)}},19316:function(W,H,e){var g=e(5386).fF,P=e(5386).si,i=e(82196),L=e(9012),A=e(50693),v=e(79952).P,p=e(1426).extendFlat,t=e(30962).overrideAll,r=i.marker,s=i.line,n=r.line;W.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:p({},i.mode,{dflt:"markers"}),text:p({},i.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:p({},i.hovertext,{}),textfont:i.textfont,textposition:i.textposition,line:{color:s.color,width:s.width,dash:v},connectgaps:i.connectgaps,marker:p({symbol:r.symbol,opacity:r.opacity,angle:r.angle,angleref:p({},r.angleref,{values:["previous","up","north"]}),standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,colorbar:r.colorbar,line:p({width:n.width},A("marker.line")),gradient:r.gradient},A("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:i.fillcolor,selected:i.selected,unselected:i.unselected,hoverinfo:p({},L.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:g()},"calc","nested")},84622:function(W,H,e){var g=e(92770),P=e(50606).BADNUM,i=e(36922),L=e(75225),A=e(66279),v=e(71828)._;function p(t){return t&&typeof t=="string"}W.exports=function(r,s){var n=Array.isArray(s.locations),l=n?s.locations.length:s._length,f=new Array(l),u;s.geojson?u=function(d){return p(d)||g(d)}:u=p;for(var m=0;m<l;m++){var c=f[m]={};if(n){var w=s.locations[m];c.loc=u(w)?w:null}else{var h=s.lon[m],o=s.lat[m];g(h)&&g(o)?c.lonlat=[+h,+o]:c.lonlat=[P,P]}}return L(f,s),i(r,s),A(f,s),l&&(f[0].t={labels:{lat:v(r,"lat:")+" ",lon:v(r,"lon:")+" "}}),f}},10659:function(W,H,e){var g=e(71828),P=e(34098),i=e(49508),L=e(11058),A=e(82410),v=e(28908),p=e(19316);W.exports=function(r,s,n,l){function f(M,T){return g.coerce(r,s,p,M,T)}var u=f("locations"),m;if(u&&u.length){var c=f("geojson"),w;(typeof c=="string"&&c!==""||g.isPlainObject(c))&&(w="geojson-id");var h=f("locationmode",w);h==="geojson-id"&&f("featureidkey"),m=u.length}else{var o=f("lon")||[],d=f("lat")||[];m=Math.min(o.length,d.length)}if(!m){s.visible=!1;return}s._length=m,f("text"),f("hovertext"),f("hovertemplate"),f("mode"),P.hasLines(s)&&(L(r,s,n,l,f),f("connectgaps")),P.hasMarkers(s)&&i(r,s,n,l,f,{gradient:!0}),P.hasText(s)&&(f("texttemplate"),A(r,s,l,f)),f("fill"),s.fill!=="none"&&v(r,s,n,f),g.coerceSelectionMarkerOpacity(s,f)}},84084:function(W){W.exports=function(e,g,P,i,L){e.lon=g.lon,e.lat=g.lat,e.location=g.loc?g.loc:null;var A=i[L];return A.fIn&&A.fIn.properties&&(e.properties=A.fIn.properties),e}},82719:function(W,H,e){var g=e(89298);W.exports=function(i,L,A){var v={},p=A[L.geo]._subplot,t=p.mockAxis,r=i.lonlat;return v.lonLabel=g.tickText(t,t.c2l(r[0]),!0).text,v.latLabel=g.tickText(t,t.c2l(r[1]),!0).text,v}},14977:function(W,H,e){var g=e(30211),P=e(50606).BADNUM,i=e(34603),L=e(71828).fillText,A=e(19316);W.exports=function(t,r,s){var n=t.cd,l=n[0].trace,f=t.xa,u=t.ya,m=t.subplot,c=m.projection.isLonLatOverEdges,w=m.project;function h(S){var b=S.lonlat;if(b[0]===P||c(b))return 1/0;var a=w(b),C=w([r,s]),y=Math.abs(a[0]-C[0]),z=Math.abs(a[1]-C[1]),I=Math.max(3,S.mrc||0);return Math.max(Math.sqrt(y*y+z*z)-I,1-3/I)}if(g.getClosest(n,h,t),t.index!==!1){var o=n[t.index],d=o.lonlat,M=[f.c2p(d),u.c2p(d)],T=o.mrc||1;t.x0=M[0]-T,t.x1=M[0]+T,t.y0=M[1]-T,t.y1=M[1]+T,t.loc=o.loc,t.lon=d[0],t.lat=d[1];var E={};E[l.geo]={_subplot:m};var x=l._module.formatLabels(o,l,E);return t.lonLabel=x.lonLabel,t.latLabel=x.latLabel,t.color=i(l,o),t.extraText=v(l,o,t,n[0].t.labels),t.hovertemplate=l.hovertemplate,[t]}};function v(p,t,r,s){if(p.hovertemplate)return;var n=t.hi||p.hoverinfo,l=n==="all"?A.hoverinfo.flags:n.split("+"),f=l.indexOf("location")!==-1&&Array.isArray(p.locations),u=l.indexOf("lon")!==-1,m=l.indexOf("lat")!==-1,c=l.indexOf("text")!==-1,w=[];function h(o){return o+""}return f?w.push(t.loc):u&&m?w.push("("+h(r.latLabel)+", "+h(r.lonLabel)+")"):u?w.push(s.lon+h(r.lonLabel)):m&&w.push(s.lat+h(r.latLabel)),c&&L(t,p,w),w.join("<br>")}},17988:function(W,H,e){W.exports={attributes:e(19316),supplyDefaults:e(10659),colorbar:e(4898),formatLabels:e(82719),calc:e(84622),calcGeoJSON:e(89171).calcGeoJSON,plot:e(89171).plot,style:e(33095),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(14977),eventData:e(84084),selectPoints:e(20548),moduleType:"trace",name:"scattergeo",basePlotModule:e(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(W,H,e){var g=e(39898),P=e(71828),i=e(90973).getTopojsonFeatures,L=e(18214),A=e(41327),v=e(71739).findExtremes,p=e(50606).BADNUM,t=e(47761).calcMarkerSize,r=e(34098),s=e(33095);function n(f,u,m){var c=u.layers.frontplot.select(".scatterlayer"),w=P.makeTraceGroups(c,m,"trace scattergeo");function h(o,d){o.lonlat[0]===p&&g.select(d).remove()}w.selectAll("*").remove(),w.each(function(o){var d=g.select(this),M=o[0].trace;if(r.hasLines(M)||M.fill!=="none"){var T=L.calcTraceToLineCoords(o),E=M.fill!=="none"?L.makePolygon(T):L.makeLine(T);d.selectAll("path.js-line").data([{geojson:E,trace:M}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}r.hasMarkers(M)&&d.selectAll("path.point").data(P.identity).enter().append("path").classed("point",!0).each(function(x){h(x,this)}),r.hasText(M)&&d.selectAll("g").data(P.identity).enter().append("g").append("text").each(function(x){h(x,this)}),s(f,o)})}function l(f,u){var m=f[0].trace,c=u[m.geo],w=c._subplot,h=m._length,o,d;if(Array.isArray(m.locations)){var M=m.locationmode,T=M==="geojson-id"?A.extractTraceFeature(f):i(m,w.topojson);for(o=0;o<h;o++){d=f[o];var E=M==="geojson-id"?d.fOut:A.locationToFeature(M,d.loc,T);d.lonlat=E?E.properties.ct:[p,p]}}var x={padded:!0},S,b;if(c.fitbounds==="geojson"&&m.locationmode==="geojson-id"){var a=A.computeBbox(A.getTraceGeojson(m));S=[a[0],a[2]],b=[a[1],a[3]]}else{for(S=new Array(h),b=new Array(h),o=0;o<h;o++)d=f[o],S[o]=d.lonlat[0],b[o]=d.lonlat[1];x.ppad=t(m,h)}m._extremes.lon=v(c.lonaxis._ax,S,x),m._extremes.lat=v(c.lataxis._ax,b,x)}W.exports={calcGeoJSON:l,plot:n}},20548:function(W,H,e){var g=e(34098),P=e(50606).BADNUM;W.exports=function(L,A){var v=L.cd,p=L.xaxis,t=L.yaxis,r=[],s=v[0].trace,n,l,f,u,m,c=!g.hasMarkers(s)&&!g.hasText(s);if(c)return[];if(A===!1)for(m=0;m<v.length;m++)v[m].selected=0;else for(m=0;m<v.length;m++)n=v[m],l=n.lonlat,l[0]!==P&&(f=p.c2p(l),u=t.c2p(l),A.contains([f,u],null,m,L)?(r.push({pointNumber:m,lon:l[0],lat:l[1]}),n.selected=1):n.selected=0);return r}},33095:function(W,H,e){var g=e(39898),P=e(91424),i=e(7901),L=e(16296),A=L.stylePoints,v=L.styleText;W.exports=function(r,s){s&&p(r,s)};function p(t,r){var s=r[0].trace,n=r[0].node3;n.style("opacity",r[0].trace.opacity),A(n,s,t),v(n,s,t),n.selectAll("path.js-line").style("fill","none").each(function(l){var f=g.select(this),u=l.trace,m=u.line||{};f.call(i.stroke,m.color).call(P.dashLine,m.dash||"",m.width||0),u.fill!=="none"&&f.call(i.fill,u.fillcolor)})}},42341:function(W,H,e){var g=e(9012),P=e(82196),i=e(12663).axisHoverFormat,L=e(50693),A=e(78607),v=e(1426).extendFlat,p=e(30962).overrideAll,t=e(78232).DASHES,r=P.line,s=P.marker,n=s.line,l=W.exports=p({x:P.x,x0:P.x0,dx:P.dx,y:P.y,y0:P.y0,dy:P.dy,xperiod:P.xperiod,yperiod:P.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:P.xperiodalignment,yperiodalignment:P.yperiodalignment,xhoverformat:i("x"),yhoverformat:i("y"),text:P.text,hovertext:P.hovertext,textposition:P.textposition,textfont:P.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:r.color,width:r.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:A(t),dflt:"solid"}},marker:v({},L("marker"),{symbol:s.symbol,angle:s.angle,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,opacity:s.opacity,colorbar:s.colorbar,line:v({},L("marker.line"),{width:n.width})}),connectgaps:P.connectgaps,fill:v({},P.fill,{dflt:"none"}),fillcolor:P.fillcolor,selected:{marker:P.selected.marker,textfont:P.selected.textfont},unselected:{marker:P.unselected.marker,textfont:P.unselected.textfont},opacity:g.opacity},"calc","nested");l.x.editType=l.y.editType=l.x0.editType=l.y0.editType="calc+clearAxisTypes",l.hovertemplate=P.hovertemplate,l.texttemplate=P.texttemplate},72156:function(W,H,e){var g=e(20794);W.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(42341),supplyDefaults:e(47148),crossTraceDefaults:e(34936),colorbar:e(4898),formatLabels:e(68101),calc:e(45032),hoverPoints:g.hoverPoints,selectPoints:e(58147),meta:{}}},45032:function(W,H,e){var g=e(88294),P=e(71828),i=e(41675),L=e(71739).findExtremes,A=e(42973),v=e(47761),p=v.calcMarkerSize,t=v.calcAxisExpansion,r=v.setFirstScatter,s=e(36922),n=e(19635),l=e(38967),f=e(50606).BADNUM,u=e(78232).TOO_MANY_POINTS;W.exports=function(h,o){var d=h._fullLayout,M=o._xA=i.getFromId(h,o.xaxis,"x"),T=o._yA=i.getFromId(h,o.yaxis,"y"),E=d._plots[o.xaxis+o.yaxis],x=o._length,S=x>=u,b=x*2,a={},C,y=M.makeCalcdata(o,"x"),z=T.makeCalcdata(o,"y"),I=A(o,M,"x",y),B=A(o,T,"y",z),F=I.vals,O=B.vals;o._x=F,o._y=O,o.xperiodalignment&&(o._origX=y,o._xStarts=I.starts,o._xEnds=I.ends),o.yperiodalignment&&(o._origY=z,o._yStarts=B.starts,o._yEnds=B.ends);var N=new Array(b),_=new Array(x);for(C=0;C<x;C++)N[C*2]=F[C]===f?NaN:F[C],N[C*2+1]=O[C]===f?NaN:O[C],_[C]=C;if(M.type==="log")for(C=0;C<b;C+=2)N[C]=M.c2l(N[C]);if(T.type==="log")for(C=1;C<b;C+=2)N[C]=T.c2l(N[C]);S&&M.type!=="log"&&T.type!=="log"?a.tree=g(N):a.ids=_,s(h,o);var U=c(h,E,o,N,F,O),Y=l(h,E);r(d,o);var K;return S?U.marker&&(K=U.marker.sizeAvg||Math.max(U.marker.size,3)):K=p(o,x),t(h,o,M,T,F,O,K),U.errorX&&m(o,M,U.errorX),U.errorY&&m(o,T,U.errorY),U.fill&&!Y.fill2d&&(Y.fill2d=!0),U.marker&&!Y.scatter2d&&(Y.scatter2d=!0),U.line&&!Y.line2d&&(Y.line2d=!0),(U.errorX||U.errorY)&&!Y.error2d&&(Y.error2d=!0),U.text&&!Y.glText&&(Y.glText=!0),U.marker&&(U.marker.snap=x),Y.lineOptions.push(U.line),Y.errorXOptions.push(U.errorX),Y.errorYOptions.push(U.errorY),Y.fillOptions.push(U.fill),Y.markerOptions.push(U.marker),Y.markerSelectedOptions.push(U.markerSel),Y.markerUnselectedOptions.push(U.markerUnsel),Y.textOptions.push(U.text),Y.textSelectedOptions.push(U.textSel),Y.textUnselectedOptions.push(U.textUnsel),Y.selectBatch.push([]),Y.unselectBatch.push([]),a._scene=Y,a.index=Y.count,a.x=F,a.y=O,a.positions=N,Y.count++,[{x:!1,y:!1,t:a,trace:o}]};function m(w,h,o){var d=w._extremes[h._id],M=L(h,o._bnds,{padded:!0});d.min=d.min.concat(M.min),d.max=d.max.concat(M.max)}function c(w,h,o,d,M,T){var E=n.style(w,o);if(E.marker&&(E.marker.positions=d),E.line&&d.length>1&&P.extendFlat(E.line,n.linePositions(w,o,d)),E.errorX||E.errorY){var x=n.errorBarPositions(w,o,d,M,T);E.errorX&&P.extendFlat(E.errorX,x.x),E.errorY&&P.extendFlat(E.errorY,x.y)}return E.text&&(P.extendFlat(E.text,{positions:d},n.textPosition(w,o,E.text,E.marker)),P.extendFlat(E.textSel,{positions:d},n.textPosition(w,o,E.text,E.markerSel)),P.extendFlat(E.textUnsel,{positions:d},n.textPosition(w,o,E.text,E.markerUnsel))),E}},78232:function(W){var H=20;W.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:H,SYMBOL_STROKE:H/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(W,H,e){var g=e(92770),P=e(82019),i=e(25075),L=e(73972),A=e(71828),v=e(91424),p=e(41675),t=e(81697).formatColor,r=e(34098),s=e(39984),n=e(68645),l=e(78232),f=e(37822).DESELECTDIM,u={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},m=e(23469).appendArrayPointValue;function c(I,B){var F,O={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},N=I._context.plotGlPixelRatio;if(B.visible!==!0)return O;if(r.hasText(B)&&(O.text=w(I,B),O.textSel=d(I,B,B.selected),O.textUnsel=d(I,B,B.unselected)),r.hasMarkers(B)&&(O.marker=h(I,B),O.markerSel=o(I,B,B.selected),O.markerUnsel=o(I,B,B.unselected),!B.unselected&&A.isArrayOrTypedArray(B.marker.opacity))){var _=B.marker.opacity;for(O.markerUnsel.opacity=new Array(_.length),F=0;F<_.length;F++)O.markerUnsel.opacity[F]=f*_[F]}if(r.hasLines(B)){O.line={overlay:!0,thickness:B.line.width*N,color:B.line.color,opacity:B.opacity};var U=(l.DASHES[B.line.dash]||[1]).slice();for(F=0;F<U.length;++F)U[F]*=B.line.width*N;O.line.dashes=U}return B.error_x&&B.error_x.visible&&(O.errorX=M(B,B.error_x,N)),B.error_y&&B.error_y.visible&&(O.errorY=M(B,B.error_y,N)),B.fill&&B.fill!=="none"&&(O.fill={closed:!0,fill:B.fillcolor,thickness:0}),O}function w(I,B){var F=I._fullLayout,O=B._length,N=B.textfont,_=B.textposition,U=Array.isArray(_)?_:[_],Y=N.color,K=N.size,re=N.family,ae={},fe,Q=I._context.plotGlPixelRatio,j=B.texttemplate;if(j){ae.text=[];var X=F._d3locale,J=Array.isArray(j),ee=J?Math.min(j.length,O):O,se=J?function(Me){return j[Me]}:function(){return j};for(fe=0;fe<ee;fe++){var q={i:fe},$=B._module.formatLabels(q,B,F),le={};m(le,B,fe);var ie=B._meta||{};ae.text.push(A.texttemplateString(se(fe),$,X,le,q,ie))}}else Array.isArray(B.text)&&B.text.length<O?ae.text=B.text.slice():ae.text=B.text;if(Array.isArray(ae.text))for(fe=ae.text.length;fe<O;fe++)ae.text[fe]="";for(ae.opacity=B.opacity,ae.font={},ae.align=[],ae.baseline=[],fe=0;fe<U.length;fe++){var ce=U[fe].split(/\s+/);switch(ce[1]){case"left":ae.align.push("right");break;case"right":ae.align.push("left");break;default:ae.align.push(ce[1])}switch(ce[0]){case"top":ae.baseline.push("bottom");break;case"bottom":ae.baseline.push("top");break;default:ae.baseline.push(ce[0])}}if(Array.isArray(Y))for(ae.color=new Array(O),fe=0;fe<O;fe++)ae.color[fe]=Y[fe];else ae.color=Y;if(A.isArrayOrTypedArray(K)||Array.isArray(re))for(ae.font=new Array(O),fe=0;fe<O;fe++){var me=ae.font[fe]={};me.size=(A.isTypedArray(K)?K[fe]:Array.isArray(K)?g(K[fe])?K[fe]:0:K)*Q,me.family=Array.isArray(re)?re[fe]:re}else ae.font={size:K*Q,family:re};return ae}function h(I,B){var F=B._length,O=B.marker,N={},_,U=A.isArrayOrTypedArray(O.symbol),Y=A.isArrayOrTypedArray(O.angle),K=A.isArrayOrTypedArray(O.color),re=A.isArrayOrTypedArray(O.line.color),ae=A.isArrayOrTypedArray(O.opacity),fe=A.isArrayOrTypedArray(O.size),Q=A.isArrayOrTypedArray(O.line.width),j;if(U||(j=n.isOpenSymbol(O.symbol)),U||K||re||ae||Y){N.symbols=new Array(F),N.angles=new Array(F),N.colors=new Array(F),N.borderColors=new Array(F);var X=O.symbol,J=O.angle,ee=t(O,O.opacity,F),se=t(O.line,O.opacity,F);if(!Array.isArray(se[0])){var q=se;for(se=Array(F),_=0;_<F;_++)se[_]=q}if(!Array.isArray(ee[0])){var $=ee;for(ee=Array(F),_=0;_<F;_++)ee[_]=$}if(!Array.isArray(X)){var le=X;for(X=Array(F),_=0;_<F;_++)X[_]=le}if(!Array.isArray(J)){var ie=J;for(J=Array(F),_=0;_<F;_++)J[_]=ie}for(N.symbols=X,N.angles=J,N.colors=ee,N.borderColors=se,_=0;_<F;_++)U&&(j=n.isOpenSymbol(O.symbol[_])),j&&(se[_]=ee[_].slice(),ee[_]=ee[_].slice(),ee[_][3]=0);for(N.opacity=B.opacity,N.markers=new Array(F),_=0;_<F;_++)N.markers[_]=a({mx:N.symbols[_],ma:N.angles[_]},B)}else j?(N.color=i(O.color,"uint8"),N.color[3]=0,N.borderColor=i(O.color,"uint8")):(N.color=i(O.color,"uint8"),N.borderColor=i(O.line.color,"uint8")),N.opacity=B.opacity*O.opacity,N.marker=a({mx:O.symbol,ma:O.angle},B);var ce=1,me=s(B,ce),Me;if(fe||Q){var we=N.sizes=new Array(F),Oe=N.borderSizes=new Array(F),Be=0,Ce;if(fe){for(_=0;_<F;_++)we[_]=me(O.size[_]),Be+=we[_];Ce=Be/F}else for(Me=me(O.size),_=0;_<F;_++)we[_]=Me;if(Q)for(_=0;_<F;_++)Oe[_]=O.line.width[_];else for(Me=O.line.width,_=0;_<F;_++)Oe[_]=Me;N.sizeAvg=Ce}else N.size=me(O&&O.size||10),N.borderSizes=me(O.line.width);return N}function o(I,B,F){var O=B.marker,N={};return F&&(F.marker&&F.marker.symbol?N=h(I,A.extendFlat({},O,F.marker)):F.marker&&(F.marker.size&&(N.size=F.marker.size),F.marker.color&&(N.colors=F.marker.color),F.marker.opacity!==void 0&&(N.opacity=F.marker.opacity))),N}function d(I,B,F){var O={};if(!F)return O;if(F.textfont){var N={opacity:1,text:B.text,texttemplate:B.texttemplate,textposition:B.textposition,textfont:A.extendFlat({},B.textfont)};F.textfont&&A.extendFlat(N.textfont,F.textfont),O=w(I,N)}return O}function M(I,B,F){var O={capSize:B.width*2*F,lineWidth:B.thickness*F,color:B.color};return B.copy_ystyle&&(O=I.error_y),O}var T=l.SYMBOL_SDF_SIZE,E=l.SYMBOL_SIZE,x=l.SYMBOL_STROKE,S={},b=v.symbolFuncs[0](E*.05);function a(I,B){var F=I.mx;if(F==="circle")return null;var O,N,_=v.symbolNumber(F),U=v.symbolFuncs[_%100],Y=!!v.symbolNoDot[_%100],K=!!v.symbolNoFill[_%100],re=n.isDotSymbol(F);if(I.ma&&(F+="_"+I.ma),S[F])return S[F];var ae=v.getMarkerAngle(I,B);return re&&!Y?O=U(E*1.1,ae)+b:O=U(E,ae),N=P(O,{w:T,h:T,viewBox:[-E,-E,E,E],stroke:K?x:-x}),S[F]=N,N||null}function C(I,B,F){var O=F.length,N=O/2,_,U;if(r.hasLines(B)&&N)if(B.line.shape==="hv"){for(_=[],U=0;U<N-1;U++)isNaN(F[U*2])||isNaN(F[U*2+1])?_.push(NaN,NaN,NaN,NaN):(_.push(F[U*2],F[U*2+1]),!isNaN(F[U*2+2])&&!isNaN(F[U*2+3])?_.push(F[U*2+2],F[U*2+1]):_.push(NaN,NaN));_.push(F[O-2],F[O-1])}else if(B.line.shape==="hvh"){for(_=[],U=0;U<N-1;U++)if(isNaN(F[U*2])||isNaN(F[U*2+1])||isNaN(F[U*2+2])||isNaN(F[U*2+3]))!isNaN(F[U*2])&&!isNaN(F[U*2+1])?_.push(F[U*2],F[U*2+1]):_.push(NaN,NaN),_.push(NaN,NaN);else{var Y=(F[U*2]+F[U*2+2])/2;_.push(F[U*2],F[U*2+1],Y,F[U*2+1],Y,F[U*2+3])}_.push(F[O-2],F[O-1])}else if(B.line.shape==="vhv"){for(_=[],U=0;U<N-1;U++)if(isNaN(F[U*2])||isNaN(F[U*2+1])||isNaN(F[U*2+2])||isNaN(F[U*2+3]))!isNaN(F[U*2])&&!isNaN(F[U*2+1])?_.push(F[U*2],F[U*2+1]):_.push(NaN,NaN),_.push(NaN,NaN);else{var K=(F[U*2+1]+F[U*2+3])/2;_.push(F[U*2],F[U*2+1],F[U*2],K,F[U*2+2],K)}_.push(F[O-2],F[O-1])}else if(B.line.shape==="vh"){for(_=[],U=0;U<N-1;U++)isNaN(F[U*2])||isNaN(F[U*2+1])?_.push(NaN,NaN,NaN,NaN):(_.push(F[U*2],F[U*2+1]),!isNaN(F[U*2+2])&&!isNaN(F[U*2+3])?_.push(F[U*2],F[U*2+3]):_.push(NaN,NaN));_.push(F[O-2],F[O-1])}else _=F;var re=!1;for(U=0;U<_.length;U++)if(isNaN(_[U])){re=!0;break}var ae=re||_.length>l.TOO_MANY_POINTS||r.hasMarkers(B)?"rect":"round";if(re&&B.connectgaps){var fe=_[0],Q=_[1];for(U=0;U<_.length;U+=2)isNaN(_[U])||isNaN(_[U+1])?(_[U]=fe,_[U+1]=Q):(fe=_[U],Q=_[U+1])}return{join:ae,positions:_}}function y(I,B,F,O,N){var _=L.getComponentMethod("errorbars","makeComputeError"),U=p.getFromId(I,B.xaxis,"x"),Y=p.getFromId(I,B.yaxis,"y"),K=F.length/2,re={};function ae(fe,Q){var j=Q._id.charAt(0),X=B["error_"+j];if(X&&X.visible&&(Q.type==="linear"||Q.type==="log")){for(var J=_(X),ee={x:0,y:1}[j],se={x:[0,1,2,3],y:[2,3,0,1]}[j],q=new Float64Array(4*K),$=1/0,le=-1/0,ie=0,ce=0;ie<K;ie++,ce+=4){var me=fe[ie];if(g(me)){var Me=F[ie*2+ee],we=J(me,ie),Oe=we[0],Be=we[1];if(g(Oe)&&g(Be)){var Ce=me-Oe,xe=me+Be;q[ce+se[0]]=Me-Q.c2l(Ce),q[ce+se[1]]=Q.c2l(xe)-Me,q[ce+se[2]]=0,q[ce+se[3]]=0,$=Math.min($,me-Oe),le=Math.max(le,me+Be)}}}re[j]={positions:F,errors:q,_bnds:[$,le]}}}return ae(O,U),ae(N,Y),re}function z(I,B,F,O){var N=B._length,_={},U;if(r.hasMarkers(B)){var Y=F.font,K=F.align,re=F.baseline;for(_.offset=new Array(N),U=0;U<N;U++){var ae=O.sizes?O.sizes[U]:O.size,fe=Array.isArray(Y)?Y[U].size:Y.size,Q=Array.isArray(K)?K.length>1?K[U]:K[0]:K,j=Array.isArray(re)?re.length>1?re[U]:re[0]:re,X=u[Q],J=u[j],ee=ae?ae/.8+1:0,se=-J*ee-J*.5;_.offset[U]=[X*ee/fe,se/fe]}}return _}W.exports={style:c,markerStyle:h,markerSelection:o,linePositions:C,errorBarPositions:y,textPosition:z}},47148:function(W,H,e){var g=e(71828),P=e(73972),i=e(68645),L=e(42341),A=e(47581),v=e(34098),p=e(67513),t=e(73927),r=e(49508),s=e(11058),n=e(28908),l=e(82410);W.exports=function(u,m,c,w){function h(b,a){return g.coerce(u,m,L,b,a)}var o=u.marker?i.isOpenSymbol(u.marker.symbol):!1,d=v.isBubble(u),M=p(u,m,w,h);if(!M){m.visible=!1;return}t(u,m,w,h),h("xhoverformat"),h("yhoverformat");var T=M<A.PTS_LINESONLY?"lines+markers":"lines";h("text"),h("hovertext"),h("hovertemplate"),h("mode",T),v.hasLines(m)&&(h("connectgaps"),s(u,m,c,w,h),h("line.shape")),v.hasMarkers(m)&&(r(u,m,c,w,h,{noAngleRef:!0,noStandOff:!0}),h("marker.line.width",o||d?1:0)),v.hasText(m)&&(h("texttemplate"),l(u,m,w,h));var E=(m.line||{}).color,x=(m.marker||{}).color;h("fill"),m.fill!=="none"&&n(u,m,c,h);var S=P.getComponentMethod("errorbars","supplyDefaults");S(u,m,E||x||c,{axis:"y"}),S(u,m,E||x||c,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(m,h)}},5345:function(W,H,e){var g=e(71828),P=e(7901),i=e(37822).DESELECTDIM;function L(A){var v=A[0],p=v.trace,t=v.t,r=t._scene,s=t.index,n=r.selectBatch[s],l=r.unselectBatch[s],f=r.textOptions[s],u=r.textSelectedOptions[s]||{},m=r.textUnselectedOptions[s]||{},c=g.extendFlat({},f),w,h;if(n.length||l.length){var o=u.color,d=m.color,M=f.color,T=Array.isArray(M);for(c.color=new Array(p._length),w=0;w<n.length;w++)h=n[w],c.color[h]=o||(T?M[h]:M);for(w=0;w<l.length;w++){h=l[w];var E=T?M[h]:M;c.color[h]=d||(o?E:P.addOpacity(E,i))}}r.glText[s].update(c)}W.exports={styleTextSelection:L}},68101:function(W,H,e){var g=e(8225);W.exports=function(i,L,A){var v=i.i;return"x"in i||(i.x=L._x[v]),"y"in i||(i.y=L._y[v]),g(i,L,A)}},68645:function(W,H,e){var g=e(78232);H.isOpenSymbol=function(P){return typeof P=="string"?g.OPEN_RE.test(P):P%200>100},H.isDotSymbol=function(P){return typeof P=="string"?g.DOT_RE.test(P):P>200}},20794:function(W,H,e){var g=e(73972),P=e(71828),i=e(34603);function L(v,p,t,r){var s=v.cd,n=s[0].t,l=s[0].trace,f=v.xa,u=v.ya,m=n.x,c=n.y,w=f.c2p(p),h=u.c2p(t),o=v.distance,d;if(n.tree){var M=f.p2c(w-o),T=f.p2c(w+o),E=u.p2c(h-o),x=u.p2c(h+o);r==="x"?d=n.tree.range(Math.min(M,T),Math.min(u._rl[0],u._rl[1]),Math.max(M,T),Math.max(u._rl[0],u._rl[1])):d=n.tree.range(Math.min(M,T),Math.min(E,x),Math.max(M,T),Math.max(E,x))}else d=n.ids;var S,b,a,C,y,z,I,B,F,O=o;if(r==="x"){var N=!!l.xperiodalignment,_=!!l.yperiodalignment;for(y=0;y<d.length;y++){if(S=d[y],a=m[S],z=Math.abs(f.c2p(a)-w),N){var U=f.c2p(l._xStarts[S]),Y=f.c2p(l._xEnds[S]);z=w>=Math.min(U,Y)&&w<=Math.max(U,Y)?0:1/0}if(z<O){if(O=z,C=c[S],I=u.c2p(C)-h,_){var K=u.c2p(l._yStarts[S]),re=u.c2p(l._yEnds[S]);I=h>=Math.min(K,re)&&h<=Math.max(K,re)?0:1/0}F=Math.sqrt(z*z+I*I),b=d[y]}}}else for(y=d.length-1;y>-1;y--)S=d[y],a=m[S],C=c[S],z=f.c2p(a)-w,I=u.c2p(C)-h,B=Math.sqrt(z*z+I*I),B<O&&(O=F=B,b=S);return v.index=b,v.distance=O,v.dxy=F,b===void 0?[v]:[A(v,m,c,l)]}function A(v,p,t,r){var s=v.xa,n=v.ya,l=v.distance,f=v.dxy,u=v.index,m={pointNumber:u,x:p[u],y:t[u]};m.tx=Array.isArray(r.text)?r.text[u]:r.text,m.htx=Array.isArray(r.hovertext)?r.hovertext[u]:r.hovertext,m.data=Array.isArray(r.customdata)?r.customdata[u]:r.customdata,m.tp=Array.isArray(r.textposition)?r.textposition[u]:r.textposition;var c=r.textfont;c&&(m.ts=P.isArrayOrTypedArray(c.size)?c.size[u]:c.size,m.tc=Array.isArray(c.color)?c.color[u]:c.color,m.tf=Array.isArray(c.family)?c.family[u]:c.family);var w=r.marker;w&&(m.ms=P.isArrayOrTypedArray(w.size)?w.size[u]:w.size,m.mo=P.isArrayOrTypedArray(w.opacity)?w.opacity[u]:w.opacity,m.mx=P.isArrayOrTypedArray(w.symbol)?w.symbol[u]:w.symbol,m.ma=P.isArrayOrTypedArray(w.angle)?w.angle[u]:w.angle,m.mc=P.isArrayOrTypedArray(w.color)?w.color[u]:w.color);var h=w&&w.line;h&&(m.mlc=Array.isArray(h.color)?h.color[u]:h.color,m.mlw=P.isArrayOrTypedArray(h.width)?h.width[u]:h.width);var o=w&&w.gradient;o&&o.type!=="none"&&(m.mgt=Array.isArray(o.type)?o.type[u]:o.type,m.mgc=Array.isArray(o.color)?o.color[u]:o.color);var d=s.c2p(m.x,!0),M=n.c2p(m.y,!0),T=m.mrc||1,E=r.hoverlabel;E&&(m.hbg=Array.isArray(E.bgcolor)?E.bgcolor[u]:E.bgcolor,m.hbc=Array.isArray(E.bordercolor)?E.bordercolor[u]:E.bordercolor,m.hts=P.isArrayOrTypedArray(E.font.size)?E.font.size[u]:E.font.size,m.htc=Array.isArray(E.font.color)?E.font.color[u]:E.font.color,m.htf=Array.isArray(E.font.family)?E.font.family[u]:E.font.family,m.hnl=P.isArrayOrTypedArray(E.namelength)?E.namelength[u]:E.namelength);var x=r.hoverinfo;x&&(m.hi=Array.isArray(x)?x[u]:x);var S=r.hovertemplate;S&&(m.ht=Array.isArray(S)?S[u]:S);var b={};b[v.index]=m;var a=r._origX,C=r._origY,y=P.extendFlat({},v,{color:i(r,m),x0:d-T,x1:d+T,xLabelVal:a?a[u]:m.x,y0:M-T,y1:M+T,yLabelVal:C?C[u]:m.y,cd:b,distance:l,spikeDistance:f,hovertemplate:m.ht});return m.htx?y.text=m.htx:m.tx?y.text=m.tx:r.text&&(y.text=r.text),P.fillText(m,r,y),g.getComponentMethod("errorbars","hoverInfo")(m,r,y),y}W.exports={hoverPoints:L,calcHover:A}},68868:function(W,H,e){var g=e(72156);g.plot=e(26787),W.exports=g},26787:function(W,H,e){var g=e(11870),P=e(46075),i=e(3593),L=e(42505),A=e(71828),v=e(64505).selectMode,p=e(79749),t=e(34098),r=e(68687),s=e(5345).styleTextSelection,n={};function l(u,m,c,w){var h=u._size,o=u.width*w,d=u.height*w,M=h.l*w,T=h.b*w,E=h.r*w,x=h.t*w,S=h.w*w,b=h.h*w;return[M+m.domain[0]*S,T+c.domain[0]*b,o-E-(1-m.domain[1])*S,d-x-(1-c.domain[1])*b]}var f=W.exports=function(m,c,w){if(w.length){var h=m._fullLayout,o=c._scene,d=c.xaxis,M=c.yaxis,T,E;if(o){var x=p(m,["ANGLE_instanced_arrays","OES_element_index_uint"],n);if(!x){o.init();return}var S=o.count,b=h._glcanvas.data()[0].regl;if(r(m,c,w),o.dirty){if(o.error2d===!0&&(o.error2d=i(b)),o.line2d===!0&&(o.line2d=P(b)),o.scatter2d===!0&&(o.scatter2d=g(b)),o.fill2d===!0&&(o.fill2d=P(b)),o.glText===!0)for(o.glText=new Array(S),T=0;T<S;T++)o.glText[T]=new L(b);if(o.glText){if(S>o.glText.length){var a=S-o.glText.length;for(T=0;T<a;T++)o.glText.push(new L(b))}else if(S<o.glText.length){var C=o.glText.length-S,y=o.glText.splice(S,C);y.forEach(function(q){q.destroy()})}for(T=0;T<S;T++)o.glText[T].update(o.textOptions[T])}if(o.line2d&&(o.line2d.update(o.lineOptions),o.lineOptions=o.lineOptions.map(function(q){if(q&&q.positions){for(var $=q.positions,le=0;le<$.length&&(isNaN($[le])||isNaN($[le+1]));)le+=2;for(var ie=$.length-2;ie>le&&(isNaN($[ie])||isNaN($[ie+1]));)ie-=2;q.positions=$.slice(le,ie+2)}return q}),o.line2d.update(o.lineOptions)),o.error2d){var z=(o.errorXOptions||[]).concat(o.errorYOptions||[]);o.error2d.update(z)}o.scatter2d&&o.scatter2d.update(o.markerOptions),o.fillOrder=A.repeat(null,S),o.fill2d&&(o.fillOptions=o.fillOptions.map(function(q,$){var le=w[$];if(!(!q||!le||!le[0]||!le[0].trace)){var ie=le[0],ce=ie.trace,me=ie.t,Me=o.lineOptions[$],we,Oe,Be=[];ce._ownfill&&Be.push($),ce._nexttrace&&Be.push($+1),Be.length&&(o.fillOrder[$]=Be);var Ce=[],xe=Me&&Me.positions||me.positions,Se,He;if(ce.fill==="tozeroy"){for(Se=0;Se<xe.length&&isNaN(xe[Se+1]);)Se+=2;for(He=xe.length-2;He>Se&&isNaN(xe[He+1]);)He-=2;xe[Se+1]!==0&&(Ce=[xe[Se],0]),Ce=Ce.concat(xe.slice(Se,He+2)),xe[He+1]!==0&&(Ce=Ce.concat([xe[He],0]))}else if(ce.fill==="tozerox"){for(Se=0;Se<xe.length&&isNaN(xe[Se]);)Se+=2;for(He=xe.length-2;He>Se&&isNaN(xe[He]);)He-=2;xe[Se]!==0&&(Ce=[0,xe[Se+1]]),Ce=Ce.concat(xe.slice(Se,He+2)),xe[He]!==0&&(Ce=Ce.concat([0,xe[He+1]]))}else if(ce.fill==="toself"||ce.fill==="tonext"){for(Ce=[],we=0,q.splitNull=!0,Oe=0;Oe<xe.length;Oe+=2)(isNaN(xe[Oe])||isNaN(xe[Oe+1]))&&(Ce=Ce.concat(xe.slice(we,Oe)),Ce.push(xe[we],xe[we+1]),Ce.push(null,null),we=Oe+2);Ce=Ce.concat(xe.slice(we)),we&&Ce.push(xe[we],xe[we+1])}else{var Ge=ce._nexttrace;if(Ge){var ke=o.lineOptions[$+1];if(ke){var We=ke.positions;if(ce.fill==="tonexty"){for(Ce=xe.slice(),$=Math.floor(We.length/2);$--;){var it=We[$*2],et=We[$*2+1];isNaN(it)||isNaN(et)||Ce.push(it,et)}q.fill=Ge.fillcolor}}}}if(ce._prevtrace&&ce._prevtrace.fill==="tonext"){var tt=o.lineOptions[$-1].positions,at=Ce.length/2;we=at;var ht=[we];for(Oe=0;Oe<tt.length;Oe+=2)(isNaN(tt[Oe])||isNaN(tt[Oe+1]))&&(ht.push(Oe/2+at+1),we=Oe+2);Ce=Ce.concat(tt),q.hole=ht}return q.fillmode=ce.fill,q.opacity=ce.opacity,q.positions=Ce,q}}),o.fill2d.update(o.fillOptions))}var I=h.dragmode,B=v(I),F=h.clickmode.indexOf("select")>-1;for(T=0;T<S;T++){var O=w[T][0],N=O.trace,_=O.t,U=_.index,Y=N._length,K=_.x,re=_.y;if(N.selectedpoints||B||F){if(B||(B=!0),N.selectedpoints){var ae=o.selectBatch[U]=A.selIndices2selPoints(N),fe={};for(E=0;E<ae.length;E++)fe[ae[E]]=1;var Q=[];for(E=0;E<Y;E++)fe[E]||Q.push(E);o.unselectBatch[U]=Q}var j=_.xpx=new Array(Y),X=_.ypx=new Array(Y);for(E=0;E<Y;E++)j[E]=d.c2p(K[E]),X[E]=M.c2p(re[E])}else _.xpx=_.ypx=null}if(B){if(o.select2d||(o.select2d=g(h._glcanvas.data()[1].regl)),o.scatter2d){var J=new Array(S);for(T=0;T<S;T++)J[T]=o.selectBatch[T].length||o.unselectBatch[T].length?o.markerUnselectedOptions[T]:{};o.scatter2d.update(J)}o.select2d&&(o.select2d.update(o.markerOptions),o.select2d.update(o.markerSelectedOptions)),o.glText&&w.forEach(function(q){var $=((q||[])[0]||{}).trace||{};t.hasText($)&&s(q)})}else o.scatter2d&&o.scatter2d.update(o.markerOptions);var ee={viewport:l(h,d,M,m._context.plotGlPixelRatio),range:[(d._rl||d.range)[0],(M._rl||M.range)[0],(d._rl||d.range)[1],(M._rl||M.range)[1]]},se=A.repeat(ee,o.count);o.fill2d&&o.fill2d.update(se),o.line2d&&o.line2d.update(se),o.error2d&&o.error2d.update(se.concat(se)),o.scatter2d&&o.scatter2d.update(se),o.select2d&&o.select2d.update(se),o.glText&&o.glText.forEach(function(q){q.update(ee)})}}};f.reglPrecompiled=n},38967:function(W,H,e){var g=e(71828);W.exports=function(i,L){var A=L._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},p={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return L._scene||(A=L._scene={},A.init=function(){g.extendFlat(A,p,v)},A.init(),A.update=function(r){var s=g.repeat(r,A.count);if(A.fill2d&&A.fill2d.update(s),A.scatter2d&&A.scatter2d.update(s),A.line2d&&A.line2d.update(s),A.error2d&&A.error2d.update(s.concat(s)),A.select2d&&A.select2d.update(s),A.glText)for(var n=0;n<A.count;n++)A.glText[n].update(r)},A.draw=function(){for(var r=A.count,s=A.fill2d,n=A.error2d,l=A.line2d,f=A.scatter2d,u=A.glText,m=A.select2d,c=A.selectBatch,w=A.unselectBatch,h=0;h<r;h++){if(s&&A.fillOrder[h]&&s.draw(A.fillOrder[h]),l&&A.lineOptions[h]&&l.draw(h),n&&(A.errorXOptions[h]&&n.draw(h),A.errorYOptions[h]&&n.draw(h+r)),f&&A.markerOptions[h])if(w[h].length){var o=g.repeat([],A.count);o[h]=w[h],f.draw(o)}else c[h].length||f.draw(h);u[h]&&A.textOptions[h]&&u[h].render()}m&&m.draw(c),A.dirty=!1},A.destroy=function(){A.fill2d&&A.fill2d.destroy&&A.fill2d.destroy(),A.scatter2d&&A.scatter2d.destroy&&A.scatter2d.destroy(),A.error2d&&A.error2d.destroy&&A.error2d.destroy(),A.line2d&&A.line2d.destroy&&A.line2d.destroy(),A.select2d&&A.select2d.destroy&&A.select2d.destroy(),A.glText&&A.glText.forEach(function(r){r.destroy&&r.destroy()}),A.lineOptions=null,A.fillOptions=null,A.markerOptions=null,A.markerSelectedOptions=null,A.markerUnselectedOptions=null,A.errorXOptions=null,A.errorYOptions=null,A.textOptions=null,A.textSelectedOptions=null,A.textUnselectedOptions=null,A.selectBatch=null,A.unselectBatch=null,L._scene=null}),A.dirty||g.extendFlat(A,v),A}},58147:function(W,H,e){var g=e(34098),P=e(5345).styleTextSelection;W.exports=function(L,A){var v=L.cd,p=L.xaxis,t=L.yaxis,r=[],s=v[0].trace,n=v[0].t,l=s._length,f=n.x,u=n.y,m=n._scene,c=n.index;if(!m)return r;var w=g.hasText(s),h=g.hasMarkers(s),o=!h&&!w;if(s.visible!==!0||o)return r;var d=[],M=[];if(A!==!1&&!A.degenerate)for(var T=0;T<l;T++)A.contains([n.xpx[T],n.ypx[T]],!1,T,L)?(d.push(T),r.push({pointNumber:T,x:p.c2d(f[T]),y:t.c2d(u[T])})):M.push(T);if(h){var E=m.scatter2d;if(!d.length&&!M.length){var x=new Array(m.count);x[c]=m.markerOptions[c],E.update.apply(E,x)}else if(!m.selectBatch[c].length&&!m.unselectBatch[c].length){var S=new Array(m.count);S[c]=m.markerUnselectedOptions[c],E.update.apply(E,S)}}return m.selectBatch[c]=d,m.unselectBatch[c]=M,w&&P(v),r}},99181:function(W,H,e){var g=e(5386).fF,P=e(5386).si,i=e(19316),L=e(82196),A=e(23585),v=e(9012),p=e(50693),t=e(1426).extendFlat,r=e(30962).overrideAll,s=e(23585),n=i.line,l=i.marker;W.exports=r({lon:i.lon,lat:i.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},s.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},l.opacity,{dflt:1})},mode:t({},L.mode,{dflt:"markers"}),text:t({},L.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},L.hovertext,{}),line:{color:n.color,width:n.width},connectgaps:L.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:l.opacity,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode},p("marker")),fill:i.fill,fillcolor:L.fillcolor,textfont:A.layers.symbol.textfont,textposition:A.layers.symbol.textposition,below:{valType:"string"},selected:{marker:L.selected.marker},unselected:{marker:L.unselected.marker},hoverinfo:t({},v.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:g()},"calc","nested")},15790:function(W,H,e){var g=e(92770),P=e(71828),i=e(50606).BADNUM,L=e(18214),A=e(21081),v=e(91424),p=e(39984),t=e(34098),r=e(13056),s=e(23469).appendArrayPointValue,n=e(63893).NEWLINES,l=e(63893).BR_TAG_ALL;W.exports=function(M,T){var E=T[0].trace,x=E.visible===!0&&E._length!==0,S=E.fill!=="none",b=t.hasLines(E),a=t.hasMarkers(E),C=t.hasText(E),y=a&&E.marker.symbol==="circle",z=a&&E.marker.symbol!=="circle",I=E.cluster&&E.cluster.enabled,B=f("fill"),F=f("line"),O=f("circle"),N=f("symbol"),_={fill:B,line:F,circle:O,symbol:N};if(!x)return _;var U;if((S||b)&&(U=L.calcTraceToLineCoords(T)),S&&(B.geojson=L.makePolygon(U),B.layout.visibility="visible",P.extendFlat(B.paint,{"fill-color":E.fillcolor})),b&&(F.geojson=L.makeLine(U),F.layout.visibility="visible",P.extendFlat(F.paint,{"line-width":E.line.width,"line-color":E.line.color,"line-opacity":E.opacity})),y){var Y=u(T);O.geojson=Y.geojson,O.layout.visibility="visible",I&&(O.filter=["!",["has","point_count"]],_.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":o(E.cluster.color,E.cluster.step),"circle-radius":o(E.cluster.size,E.cluster.step),"circle-opacity":o(E.cluster.opacity,E.cluster.step)}},_.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),P.extendFlat(O.paint,{"circle-color":Y.mcc,"circle-radius":Y.mrc,"circle-opacity":Y.mo})}if(y&&I&&(O.filter=["!",["has","point_count"]]),(z||C)&&(N.geojson=m(T,M),P.extendFlat(N.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),z&&(P.extendFlat(N.layout,{"icon-size":E.marker.size/10}),"angle"in E.marker&&E.marker.angle!=="auto"&&P.extendFlat(N.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),N.layout["icon-allow-overlap"]=E.marker.allowoverlap,P.extendFlat(N.paint,{"icon-opacity":E.opacity*E.marker.opacity,"icon-color":E.marker.color})),C)){var K=(E.marker||{}).size,re=r(E.textposition,K);P.extendFlat(N.layout,{"text-size":E.textfont.size,"text-anchor":re.anchor,"text-offset":re.offset,"text-font":E.textfont.family.split(", ")}),P.extendFlat(N.paint,{"text-color":E.textfont.color,"text-opacity":E.opacity})}return _};function f(d){return{type:d,geojson:L.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function u(d){var M=d[0].trace,T=M.marker,E=M.selectedpoints,x=P.isArrayOrTypedArray(T.color),S=P.isArrayOrTypedArray(T.size),b=P.isArrayOrTypedArray(T.opacity),a;function C(K){return M.opacity*K}function y(K){return K/2}var z;x&&(A.hasColorscale(M,"marker")?z=A.makeColorScaleFuncFromTrace(T):z=P.identity);var I;S&&(I=p(M));var B;b&&(B=function(K){var re=g(K)?+P.constrain(K,0,1):0;return C(re)});var F=[];for(a=0;a<d.length;a++){var O=d[a],N=O.lonlat;if(!h(N)){var _={};z&&(_.mcc=O.mcc=z(O.mc)),I&&(_.mrc=O.mrc=I(O.ms)),B&&(_.mo=B(O.mo)),E&&(_.selected=O.selected||0),F.push({type:"Feature",id:a+1,geometry:{type:"Point",coordinates:N},properties:_})}}var U;if(E)for(U=v.makeSelectedPointStyleFns(M),a=0;a<F.length;a++){var Y=F[a].properties;U.selectedOpacityFn&&(Y.mo=C(U.selectedOpacityFn(Y))),U.selectedColorFn&&(Y.mcc=U.selectedColorFn(Y)),U.selectedSizeFn&&(Y.mrc=U.selectedSizeFn(Y))}return{geojson:{type:"FeatureCollection",features:F},mcc:x||U&&U.selectedColorFn?{type:"identity",property:"mcc"}:T.color,mrc:S||U&&U.selectedSizeFn?{type:"identity",property:"mrc"}:y(T.size),mo:b||U&&U.selectedOpacityFn?{type:"identity",property:"mo"}:C(T.opacity)}}function m(d,M){for(var T=M._fullLayout,E=d[0].trace,x=E.marker||{},S=x.symbol,b=x.angle,a=S!=="circle"?c(S):w,C=b!=="auto"?c(b,!0):w,y=t.hasText(E)?c(E.text):w,z=[],I=0;I<d.length;I++){var B=d[I];if(!h(B.lonlat)){var F=E.texttemplate,O;if(F){var N=Array.isArray(F)?F[I]||"":F,_=E._module.formatLabels(B,E,T),U={};s(U,E,B.i);var Y=E._meta||{};O=P.texttemplateString(N,_,T._d3locale,U,B,Y)}else O=y(I);O&&(O=O.replace(n,"").replace(l,`
`)),z.push({type:"Feature",geometry:{type:"Point",coordinates:B.lonlat},properties:{symbol:a(I),angle:C(I),text:O}})}}return{type:"FeatureCollection",features:z}}function c(d,M){return P.isArrayOrTypedArray(d)?M?function(T){return g(d[T])?+d[T]:0}:function(T){return d[T]}:d?function(){return d}:w}function w(){return""}function h(d){return d[0]===i}function o(d,M){var T;if(P.isArrayOrTypedArray(d)&&P.isArrayOrTypedArray(M)){T=["step",["get","point_count"],d[0]];for(var E=1;E<d.length;E++)T.push(M[E-1],d[E])}else T=d;return T}},76645:function(W,H,e){var g=e(71828),P=e(34098),i=e(49508),L=e(11058),A=e(82410),v=e(28908),p=e(99181),t=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];W.exports=function(n,l,f,u){function m(S,b){return g.coerce(n,l,p,S,b)}function c(S,b){return g.coerce2(n,l,p,S,b)}var w=r(n,l,m);if(!w){l.visible=!1;return}if(m("text"),m("texttemplate"),m("hovertext"),m("hovertemplate"),m("mode"),m("below"),P.hasLines(l)&&(L(n,l,f,u,m,{noDash:!0}),m("connectgaps")),P.hasMarkers(l)){i(n,l,f,u,m,{noLine:!0,noAngle:!0}),m("marker.allowoverlap"),m("marker.angle");var h=l.marker;h.symbol!=="circle"&&(g.isArrayOrTypedArray(h.size)&&(h.size=h.size[0]),g.isArrayOrTypedArray(h.color)&&(h.color=h.color[0]))}var o=c("cluster.maxzoom"),d=c("cluster.step"),M=c("cluster.color",l.marker&&l.marker.color||f),T=c("cluster.size"),E=c("cluster.opacity"),x=o!==!1||d!==!1||M!==!1||T!==!1||E!==!1;m("cluster.enabled",x),P.hasText(l)&&A(n,l,u,m,{noSelect:!0,font:{family:t.indexOf(u.font.family)!==-1?u.font.family:"Open Sans Regular",size:u.font.size,color:u.font.color}}),m("fill"),l.fill!=="none"&&v(n,l,f,m),g.coerceSelectionMarkerOpacity(l,m)};function r(s,n,l){var f=l("lon")||[],u=l("lat")||[],m=Math.min(f.length,u.length);return n._length=m,m}},53353:function(W){W.exports=function(e,g){return e.lon=g.lon,e.lat=g.lat,e}},15636:function(W,H,e){var g=e(89298);W.exports=function(i,L,A){var v={},p=A[L.subplot]._subplot,t=p.mockAxis,r=i.lonlat;return v.lonLabel=g.tickText(t,t.c2l(r[0]),!0).text,v.latLabel=g.tickText(t,t.c2l(r[1]),!0).text,v}},28178:function(W,H,e){var g=e(30211),P=e(71828),i=e(34603),L=P.fillText,A=e(50606).BADNUM,v=e(77734).traceLayerPrefix;function p(r,s,n){var l=r.cd,f=l[0].trace,u=r.xa,m=r.ya,c=r.subplot,w=[],h=v+f.uid+"-circle",o=f.cluster&&f.cluster.enabled;if(o){var d=c.map.queryRenderedFeatures(null,{layers:[h]});w=d.map(function(F){return F.id})}var M=s>=0?Math.floor((s+180)/360):Math.ceil((s-180)/360),T=M*360,E=s-T;function x(F){var O=F.lonlat;if(O[0]===A||o&&w.indexOf(F.i+1)===-1)return 1/0;var N=P.modHalf(O[0],360),_=O[1],U=c.project([N,_]),Y=U.x-u.c2p([E,_]),K=U.y-m.c2p([N,n]),re=Math.max(3,F.mrc||0);return Math.max(Math.sqrt(Y*Y+K*K)-re,1-3/re)}if(g.getClosest(l,x,r),r.index!==!1){var S=l[r.index],b=S.lonlat,a=[P.modHalf(b[0],360)+T,b[1]],C=u.c2p(a),y=m.c2p(a),z=S.mrc||1;r.x0=C-z,r.x1=C+z,r.y0=y-z,r.y1=y+z;var I={};I[f.subplot]={_subplot:c};var B=f._module.formatLabels(S,f,I);return r.lonLabel=B.lonLabel,r.latLabel=B.latLabel,r.color=i(f,S),r.extraText=t(f,S,l[0].t.labels),r.hovertemplate=f.hovertemplate,[r]}}function t(r,s,n){if(r.hovertemplate)return;var l=s.hi||r.hoverinfo,f=l.split("+"),u=f.indexOf("all")!==-1,m=f.indexOf("lon")!==-1,c=f.indexOf("lat")!==-1,w=s.lonlat,h=[];function o(d){return d+""}return u||m&&c?h.push("("+o(w[1])+", "+o(w[0])+")"):m?h.push(n.lon+o(w[0])):c&&h.push(n.lat+o(w[1])),(u||f.indexOf("text")!==-1)&&L(s,r,h),h.join("<br>")}W.exports={hoverPoints:p,getExtraText:t}},20467:function(W,H,e){W.exports={attributes:e(99181),supplyDefaults:e(76645),colorbar:e(4898),formatLabels:e(15636),calc:e(84622),plot:e(86951),hoverPoints:e(28178).hoverPoints,eventData:e(53353),selectPoints:e(86387),styleOnSelect:function(g,P){if(P){var i=P[0].trace;i._glTrace.update(P)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(W,H,e){var g=e(71828),P=e(15790),i=e(77734).traceLayerPrefix,L={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function A(p,t,r,s){this.type="scattermapbox",this.subplot=p,this.uid=t,this.clusterEnabled=r,this.isHidden=s,this.sourceIds={fill:"source-"+t+"-fill",line:"source-"+t+"-line",circle:"source-"+t+"-circle",symbol:"source-"+t+"-symbol",cluster:"source-"+t+"-circle",clusterCount:"source-"+t+"-circle"},this.layerIds={fill:i+t+"-fill",line:i+t+"-line",circle:i+t+"-circle",symbol:i+t+"-symbol",cluster:i+t+"-cluster",clusterCount:i+t+"-cluster-count"},this.below=null}var v=A.prototype;v.addSource=function(p,t,r){var s={type:"geojson",data:t.geojson};r&&r.enabled&&g.extendFlat(s,{cluster:!0,clusterMaxZoom:r.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[p]);n?n.setData(t.geojson):this.subplot.map.addSource(this.sourceIds[p],s)},v.setSourceData=function(p,t){this.subplot.map.getSource(this.sourceIds[p]).setData(t.geojson)},v.addLayer=function(p,t,r){var s={type:t.type,id:this.layerIds[p],source:this.sourceIds[p],layout:t.layout,paint:t.paint};t.filter&&(s.filter=t.filter);for(var n=this.layerIds[p],l,f=this.subplot.getMapLayers(),u=0;u<f.length;u++)if(f[u].id===n){l=!0;break}l?(this.subplot.setOptions(n,"setLayoutProperty",s.layout),s.layout.visibility==="visible"&&this.subplot.setOptions(n,"setPaintProperty",s.paint)):this.subplot.addLayer(s,r)},v.update=function(t){var r=t[0].trace,s=this.subplot,n=s.map,l=P(s.gd,t),f=s.belowLookup["trace-"+this.uid],u=!!(r.cluster&&r.cluster.enabled),m=!!this.clusterEnabled,c=this;function w(b){b||c.addSource("circle",l.circle,r.cluster);for(var a=L.cluster,C=0;C<a.length;C++){var y=a[C],z=l[y];c.addLayer(y,z,f)}}function h(b){for(var a=L.cluster,C=a.length-1;C>=0;C--){var y=a[C];n.removeLayer(c.layerIds[y])}b||n.removeSource(c.sourceIds.circle)}function o(b){for(var a=L.nonCluster,C=0;C<a.length;C++){var y=a[C],z=l[y];b||c.addSource(y,z),c.addLayer(y,z,f)}}function d(b){for(var a=L.nonCluster,C=a.length-1;C>=0;C--){var y=a[C];n.removeLayer(c.layerIds[y]),b||n.removeSource(c.sourceIds[y])}}function M(b){m?h(b):d(b)}function T(b){u?w(b):o(b)}function E(){for(var b=u?L.cluster:L.nonCluster,a=0;a<b.length;a++){var C=b[a],y=l[C];y&&(s.setOptions(c.layerIds[C],"setLayoutProperty",y.layout),y.layout.visibility==="visible"&&(C!=="cluster"&&c.setSourceData(C,y),s.setOptions(c.layerIds[C],"setPaintProperty",y.paint)))}}var x=this.isHidden,S=r.visible!==!0;S?x||M():x?S||T():m!==u?(M(),T()):(this.below!==f&&(M(!0),T(!0)),E()),this.clusterEnabled=u,this.isHidden=S,this.below=f,t[0].trace._glTrace=this},v.dispose=function(){for(var t=this.subplot.map,r=this.clusterEnabled?L.cluster:L.nonCluster,s=r.length-1;s>=0;s--){var n=r[s];t.removeLayer(this.layerIds[n]),t.removeSource(this.sourceIds[n])}},W.exports=function(t,r){var s=r[0].trace,n=s.cluster&&s.cluster.enabled,l=s.visible!==!0,f=new A(t,s.uid,n,l),u=P(t.gd,r),m=f.below=t.belowLookup["trace-"+s.uid],c,w,h;if(n)for(f.addSource("circle",u.circle,s.cluster),c=0;c<L.cluster.length;c++)w=L.cluster[c],h=u[w],f.addLayer(w,h,m);else for(c=0;c<L.nonCluster.length;c++)w=L.nonCluster[c],h=u[w],f.addSource(w,h,s.cluster),f.addLayer(w,h,m);return r[0].trace._glTrace=f,f}},86387:function(W,H,e){var g=e(71828),P=e(34098),i=e(50606).BADNUM;W.exports=function(A,v){var p=A.cd,t=A.xaxis,r=A.yaxis,s=[],n=p[0].trace,l;if(!P.hasMarkers(n))return[];if(v===!1)for(l=0;l<p.length;l++)p[l].selected=0;else for(l=0;l<p.length;l++){var f=p[l],u=f.lonlat;if(u[0]!==i){var m=[g.modHalf(u[0],360),u[1]],c=[t.c2p(m),r.c2p(m)];v.contains(c,null,l,A)?(s.push({pointNumber:l,lon:u[0],lat:u[1]}),f.selected=1):f.selected=0}}return s}},81245:function(W,H,e){var g=e(5386).fF,P=e(5386).si,i=e(1426).extendFlat,L=e(82196),A=e(9012),v=L.line;W.exports={mode:L.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:L.text,texttemplate:P({editType:"plot"},{keys:["r","theta","text"]}),hovertext:L.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:i({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:L.connectgaps,marker:L.marker,cliponaxis:i({},L.cliponaxis,{dflt:!1}),textposition:L.textposition,textfont:L.textfont,fill:i({},L.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L.fillcolor,hoverinfo:i({},A.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:L.hoveron,hovertemplate:g(),selected:L.selected,unselected:L.unselected}},26442:function(W,H,e){var g=e(92770),P=e(50606).BADNUM,i=e(89298),L=e(36922),A=e(75225),v=e(66279),p=e(47761).calcMarkerSize;W.exports=function(r,s){for(var n=r._fullLayout,l=s.subplot,f=n[l].radialaxis,u=n[l].angularaxis,m=f.makeCalcdata(s,"r"),c=u.makeCalcdata(s,"theta"),w=s._length,h=new Array(w),o=0;o<w;o++){var d=m[o],M=c[o],T=h[o]={};g(d)&&g(M)?(T.r=d,T.theta=M):T.r=P}var E=p(s,w);return s._extremes.x=i.findExtremes(f,m,{ppad:E}),L(r,s),A(h,s),v(h,s),h}},22184:function(W,H,e){var g=e(71828),P=e(34098),i=e(49508),L=e(11058),A=e(94039),v=e(82410),p=e(28908),t=e(47581).PTS_LINESONLY,r=e(81245);function s(l,f,u,m){function c(o,d){return g.coerce(l,f,r,o,d)}var w=n(l,f,m,c);if(!w){f.visible=!1;return}c("thetaunit"),c("mode",w<t?"lines+markers":"lines"),c("text"),c("hovertext"),f.hoveron!=="fills"&&c("hovertemplate"),P.hasLines(f)&&(L(l,f,u,m,c,{backoff:!0}),A(l,f,c),c("connectgaps")),P.hasMarkers(f)&&i(l,f,u,m,c,{gradient:!0}),P.hasText(f)&&(c("texttemplate"),v(l,f,m,c));var h=[];(P.hasMarkers(f)||P.hasText(f))&&(c("cliponaxis"),c("marker.maxdisplayed"),h.push("points")),c("fill"),f.fill!=="none"&&(p(l,f,u,c),P.hasLines(f)||A(l,f,c)),(f.fill==="tonext"||f.fill==="toself")&&h.push("fills"),c("hoveron",h.join("+")||"points"),g.coerceSelectionMarkerOpacity(f,c)}function n(l,f,u,m){var c=m("r"),w=m("theta"),h;if(c)w?h=Math.min(c.length,w.length):(h=c.length,m("theta0"),m("dtheta"));else{if(!w)return 0;h=f.theta.length,m("r0"),m("dr")}return f._length=h,h}W.exports={handleRThetaDefaults:n,supplyDefaults:s}},98608:function(W,H,e){var g=e(71828),P=e(89298);W.exports=function(L,A,v){var p={},t=v[A.subplot]._subplot,r,s;t?(r=t.radialAxis,s=t.angularAxis):(t=v[A.subplot],r=t.radialaxis,s=t.angularaxis);var n=r.c2l(L.r);p.rLabel=P.tickText(r,n,!0).text;var l=s.thetaunit==="degrees"?g.rad2deg(L.theta):L.theta;return p.thetaLabel=P.tickText(s,l,!0).text,p}},59150:function(W,H,e){var g=e(33720);function P(L,A,v,p){var t=g(L,A,v,p);if(!(!t||t[0].index===!1)){var r=t[0];if(r.index===void 0)return t;var s=L.subplot,n=r.cd[r.index],l=r.trace;if(s.isPtInside(n))return r.xLabelVal=void 0,r.yLabelVal=void 0,i(n,l,s,r),r.hovertemplate=l.hovertemplate,t}}function i(L,A,v,p){var t=v.radialAxis,r=v.angularAxis;t._hovertitle="r",r._hovertitle="";var s={};s[A.subplot]={_subplot:v};var n=A._module.formatLabels(L,A,s);p.rLabel=n.rLabel,p.thetaLabel=n.thetaLabel;var l=L.hi||A.hoverinfo,f=[];function u(c,w){f.push(c._hovertitle+": "+w)}if(!A.hovertemplate){var m=l.split("+");m.indexOf("all")!==-1&&(m=["r","theta","text"]),m.indexOf("r")!==-1&&u(t,p.rLabel),m.indexOf("theta")!==-1&&u(r,p.thetaLabel),m.indexOf("text")!==-1&&p.text&&(f.push(p.text),delete p.text),p.extraText=f.join("<br>")}}W.exports={hoverPoints:P,makeHoverPointText:i}},91271:function(W,H,e){W.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(81245),supplyDefaults:e(22184).supplyDefaults,colorbar:e(4898),formatLabels:e(98608),calc:e(26442),plot:e(45162),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(59150).hoverPoints,selectPoints:e(98002),meta:{}}},45162:function(W,H,e){var g=e(32663),P=e(50606).BADNUM;W.exports=function(L,A,v){for(var p=A.layers.frontplot.select("g.scatterlayer"),t=A.xaxis,r=A.yaxis,s={xaxis:t,yaxis:r,plot:A.framework,layerClipId:A._hasClipOnAxisFalse?A.clipIds.forTraces:null},n=A.radialAxis,l=A.angularAxis,f=0;f<v.length;f++)for(var u=v[f],m=0;m<u.length;m++){m===0&&(u[0].trace._xA=t,u[0].trace._yA=r);var c=u[m],w=c.r;if(w===P)c.x=c.y=P;else{var h=n.c2g(w),o=l.c2g(c.theta);c.x=h*Math.cos(o),c.y=h*Math.sin(o)}}g(L,s,v,p)}},53286:function(W,H,e){var g=e(81245),P=e(42341),i=e(5386).si;W.exports={mode:g.mode,r:g.r,theta:g.theta,r0:g.r0,dr:g.dr,theta0:g.theta0,dtheta:g.dtheta,thetaunit:g.thetaunit,text:g.text,texttemplate:i({editType:"plot"},{keys:["r","theta","text"]}),hovertext:g.hovertext,hovertemplate:g.hovertemplate,line:P.line,connectgaps:P.connectgaps,marker:P.marker,fill:P.fill,fillcolor:P.fillcolor,textposition:P.textposition,textfont:P.textfont,hoverinfo:g.hoverinfo,selected:g.selected,unselected:g.unselected}},65746:function(W,H,e){W.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(53286),supplyDefaults:e(75485),colorbar:e(4898),formatLabels:e(46255),calc:e(37499),hoverPoints:e(29347).hoverPoints,selectPoints:e(58147),meta:{}}},37499:function(W,H,e){var g=e(36922),P=e(47761).calcMarkerSize,i=e(19635),L=e(89298),A=e(78232).TOO_MANY_POINTS;W.exports=function(p,t){var r=p._fullLayout,s=t.subplot,n=r[s].radialaxis,l=r[s].angularaxis,f=t._r=n.makeCalcdata(t,"r"),u=t._theta=l.makeCalcdata(t,"theta"),m=t._length,c={};m<f.length&&(f=f.slice(0,m)),m<u.length&&(u=u.slice(0,m)),c.r=f,c.theta=u,g(p,t);var w=c.opts=i.style(p,t),h;return m<A?h=P(t,m):w.marker&&(h=2*(w.marker.sizeAvg||Math.max(w.marker.size,3))),t._extremes.x=L.findExtremes(n,f,{ppad:h}),[{x:!1,y:!1,t:c,trace:t}]}},75485:function(W,H,e){var g=e(71828),P=e(34098),i=e(22184).handleRThetaDefaults,L=e(49508),A=e(11058),v=e(82410),p=e(28908),t=e(47581).PTS_LINESONLY,r=e(53286);W.exports=function(n,l,f,u){function m(w,h){return g.coerce(n,l,r,w,h)}var c=i(n,l,u,m);if(!c){l.visible=!1;return}m("thetaunit"),m("mode",c<t?"lines+markers":"lines"),m("text"),m("hovertext"),l.hoveron!=="fills"&&m("hovertemplate"),P.hasLines(l)&&(A(n,l,f,u,m),m("connectgaps")),P.hasMarkers(l)&&L(n,l,f,u,m,{noAngleRef:!0,noStandOff:!0}),P.hasText(l)&&(m("texttemplate"),v(n,l,u,m)),m("fill"),l.fill!=="none"&&p(n,l,f,m),g.coerceSelectionMarkerOpacity(l,m)}},46255:function(W,H,e){var g=e(98608);W.exports=function(i,L,A){var v=i.i;return"r"in i||(i.r=L._r[v]),"theta"in i||(i.theta=L._theta[v]),g(i,L,A)}},29347:function(W,H,e){var g=e(20794),P=e(59150).makeHoverPointText;function i(L,A,v,p){var t=L.cd,r=t[0].t,s=r.r,n=r.theta,l=g.hoverPoints(L,A,v,p);if(!(!l||l[0].index===!1)){var f=l[0];if(f.index===void 0)return l;var u=L.subplot,m=f.cd[f.index],c=f.trace;if(m.r=s[f.index],m.theta=n[f.index],!!u.isPtInside(m))return f.xLabelVal=void 0,f.yLabelVal=void 0,P(m,c,u,f),l}}W.exports={hoverPoints:i}},21461:function(W,H,e){var g=e(65746);g.plot=e(49741),W.exports=g},49741:function(W,H,e){var g=e(88294),P=e(92770),i=e(26787),L=e(38967),A=e(19635),v=e(71828),p=e(78232).TOO_MANY_POINTS,t={};W.exports=function(s,n,l){if(l.length){var f=n.radialAxis,u=n.angularAxis,m=L(s,n);return l.forEach(function(c){if(!(!c||!c[0]||!c[0].trace)){var w=c[0],h=w.trace,o=w.t,d=h._length,M=o.r,T=o.theta,E=o.opts,x,S=M.slice(),b=T.slice();for(x=0;x<M.length;x++)n.isPtInside({r:M[x],theta:T[x]})||(S[x]=NaN,b[x]=NaN);var a=new Array(d*2),C=Array(d),y=Array(d);for(x=0;x<d;x++){var z=S[x],I,B;if(P(z)){var F=f.c2g(z),O=u.c2g(b[x],h.thetaunit);I=F*Math.cos(O),B=F*Math.sin(O)}else I=B=NaN;C[x]=a[x*2]=I,y[x]=a[x*2+1]=B}o.tree=g(a),E.marker&&d>=p&&(E.marker.cluster=o.tree),E.marker&&(E.markerSel.positions=E.markerUnsel.positions=E.marker.positions=a),E.line&&a.length>1&&v.extendFlat(E.line,A.linePositions(s,h,a)),E.text&&(v.extendFlat(E.text,{positions:a},A.textPosition(s,h,E.text,E.marker)),v.extendFlat(E.textSel,{positions:a},A.textPosition(s,h,E.text,E.markerSel)),v.extendFlat(E.textUnsel,{positions:a},A.textPosition(s,h,E.text,E.markerUnsel))),E.fill&&!m.fill2d&&(m.fill2d=!0),E.marker&&!m.scatter2d&&(m.scatter2d=!0),E.line&&!m.line2d&&(m.line2d=!0),E.text&&!m.glText&&(m.glText=!0),m.lineOptions.push(E.line),m.fillOptions.push(E.fill),m.markerOptions.push(E.marker),m.markerSelectedOptions.push(E.markerSel),m.markerUnselectedOptions.push(E.markerUnsel),m.textOptions.push(E.text),m.textSelectedOptions.push(E.textSel),m.textUnselectedOptions.push(E.textUnsel),m.selectBatch.push([]),m.unselectBatch.push([]),o.x=C,o.y=y,o.rawx=C,o.rawy=y,o.r=M,o.theta=T,o.positions=a,o._scene=m,o.index=m.count,m.count++}}),i(s,n,l)}},W.exports.reglPrecompiled=t},48300:function(W,H,e){var g=e(5386).fF,P=e(5386).si,i=e(1426).extendFlat,L=e(82196),A=e(9012),v=L.line;W.exports={mode:L.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:L.text,texttemplate:P({editType:"plot"},{keys:["real","imag","text"]}),hovertext:L.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:i({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:L.connectgaps,marker:L.marker,cliponaxis:i({},L.cliponaxis,{dflt:!1}),textposition:L.textposition,textfont:L.textfont,fill:i({},L.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L.fillcolor,hoverinfo:i({},A.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:L.hoveron,hovertemplate:g(),selected:L.selected,unselected:L.unselected}},30621:function(W,H,e){var g=e(92770),P=e(50606).BADNUM,i=e(36922),L=e(75225),A=e(66279),v=e(47761).calcMarkerSize;W.exports=function(t,r){for(var s=t._fullLayout,n=r.subplot,l=s[n].realaxis,f=s[n].imaginaryaxis,u=l.makeCalcdata(r,"real"),m=f.makeCalcdata(r,"imag"),c=r._length,w=new Array(c),h=0;h<c;h++){var o=u[h],d=m[h],M=w[h]={};g(o)&&g(d)?(M.real=o,M.imag=d):M.real=P}return v(r,c),i(t,r),L(w,r),A(w,r),w}},65269:function(W,H,e){var g=e(71828),P=e(34098),i=e(49508),L=e(11058),A=e(94039),v=e(82410),p=e(28908),t=e(47581).PTS_LINESONLY,r=e(48300);W.exports=function(l,f,u,m){function c(o,d){return g.coerce(l,f,r,o,d)}var w=s(l,f,m,c);if(!w){f.visible=!1;return}c("mode",w<t?"lines+markers":"lines"),c("text"),c("hovertext"),f.hoveron!=="fills"&&c("hovertemplate"),P.hasLines(f)&&(L(l,f,u,m,c,{backoff:!0}),A(l,f,c),c("connectgaps")),P.hasMarkers(f)&&i(l,f,u,m,c,{gradient:!0}),P.hasText(f)&&(c("texttemplate"),v(l,f,m,c));var h=[];(P.hasMarkers(f)||P.hasText(f))&&(c("cliponaxis"),c("marker.maxdisplayed"),h.push("points")),c("fill"),f.fill!=="none"&&(p(l,f,u,c),P.hasLines(f)||A(l,f,c)),(f.fill==="tonext"||f.fill==="toself")&&h.push("fills"),c("hoveron",h.join("+")||"points"),g.coerceSelectionMarkerOpacity(f,c)};function s(n,l,f,u){var m=u("real"),c=u("imag"),w;return m&&c&&(w=Math.min(m.length,c.length)),l._length=w,w}},62047:function(W,H,e){var g=e(89298);W.exports=function(i,L,A){var v={},p=A[L.subplot]._subplot;return v.realLabel=g.tickText(p.radialAxis,i.real,!0).text,v.imagLabel=g.tickText(p.angularAxis,i.imag,!0).text,v}},11350:function(W,H,e){var g=e(33720);function P(L,A,v,p){var t=g(L,A,v,p);if(!(!t||t[0].index===!1)){var r=t[0];if(r.index===void 0)return t;var s=L.subplot,n=r.cd[r.index],l=r.trace;if(s.isPtInside(n))return r.xLabelVal=void 0,r.yLabelVal=void 0,i(n,l,s,r),r.hovertemplate=l.hovertemplate,t}}function i(L,A,v,p){var t=v.radialAxis,r=v.angularAxis;t._hovertitle="real",r._hovertitle="imag";var s={};s[A.subplot]={_subplot:v};var n=A._module.formatLabels(L,A,s);p.realLabel=n.realLabel,p.imagLabel=n.imagLabel;var l=L.hi||A.hoverinfo,f=[];function u(c,w){f.push(c._hovertitle+": "+w)}if(!A.hovertemplate){var m=l.split("+");m.indexOf("all")!==-1&&(m=["real","imag","text"]),m.indexOf("real")!==-1&&u(t,p.realLabel),m.indexOf("imag")!==-1&&u(r,p.imagLabel),m.indexOf("text")!==-1&&p.text&&(f.push(p.text),delete p.text),p.extraText=f.join("<br>")}}W.exports={hoverPoints:P,makeHoverPointText:i}},85956:function(W,H,e){W.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(48300),supplyDefaults:e(65269),colorbar:e(4898),formatLabels:e(62047),calc:e(30621),plot:e(12480),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(11350).hoverPoints,selectPoints:e(98002),meta:{}}},12480:function(W,H,e){var g=e(32663),P=e(50606).BADNUM,i=e(23893),L=i.smith;W.exports=function(v,p,t){for(var r=p.layers.frontplot.select("g.scatterlayer"),s=p.xaxis,n=p.yaxis,l={xaxis:s,yaxis:n,plot:p.framework,layerClipId:p._hasClipOnAxisFalse?p.clipIds.forTraces:null},f=0;f<t.length;f++)for(var u=t[f],m=0;m<u.length;m++){m===0&&(u[0].trace._xA=s,u[0].trace._yA=n);var c=u[m],w=c.real;if(w===P)c.x=c.y=P;else{var h=L([w,c.imag]);c.x=h[0],c.y=h[1]}}g(v,l,t,r)}},50413:function(W,H,e){var g=e(5386).fF,P=e(5386).si,i=e(82196),L=e(9012),A=e(50693),v=e(79952).P,p=e(1426).extendFlat,t=i.marker,r=i.line,s=t.line;W.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:p({},i.mode,{dflt:"markers"}),text:p({},i.text,{}),texttemplate:P({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:p({},i.hovertext,{}),line:{color:r.color,width:r.width,dash:v,backoff:r.backoff,shape:p({},r.shape,{values:["linear","spline"]}),smoothing:r.smoothing,editType:"calc"},connectgaps:i.connectgaps,cliponaxis:i.cliponaxis,fill:p({},i.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:i.fillcolor,marker:p({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:p({width:s.width,editType:"calc"},A("marker.line")),gradient:t.gradient,editType:"calc"},A("marker")),textfont:i.textfont,textposition:i.textposition,selected:i.selected,unselected:i.unselected,hoverinfo:p({},L.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:i.hoveron,hovertemplate:g()}},54337:function(W,H,e){var g=e(92770),P=e(36922),i=e(75225),L=e(66279),A=e(47761).calcMarkerSize,v=["a","b","c"],p={a:["b","c"],b:["a","c"],c:["a","b"]};W.exports=function(r,s){var n=r._fullLayout[s.subplot],l=n.sum,f=s.sum||l,u={a:s.a,b:s.b,c:s.c},m,c,w,h,o,d;for(m=0;m<v.length;m++)if(w=v[m],!u[w]){for(o=u[p[w][0]],d=u[p[w][1]],h=new Array(o.length),c=0;c<o.length;c++)h[c]=f-o[c]-d[c];u[w]=h}var M=s._length,T=new Array(M),E,x,S,b,a,C;for(m=0;m<M;m++)E=u.a[m],x=u.b[m],S=u.c[m],g(E)&&g(x)&&g(S)?(E=+E,x=+x,S=+S,b=l/(E+x+S),b!==1&&(E*=b,x*=b,S*=b),C=E,a=S-x,T[m]={x:a,y:C,a:E,b:x,c:S}):T[m]={x:!1,y:!1};return A(s,M),P(r,s),i(T,s),L(T,s),T}},46008:function(W,H,e){var g=e(71828),P=e(47581),i=e(34098),L=e(49508),A=e(11058),v=e(94039),p=e(82410),t=e(28908),r=e(50413);W.exports=function(n,l,f,u){function m(T,E){return g.coerce(n,l,r,T,E)}var c=m("a"),w=m("b"),h=m("c"),o;if(c?(o=c.length,w?(o=Math.min(o,w.length),h&&(o=Math.min(o,h.length))):h?o=Math.min(o,h.length):o=0):w&&h&&(o=Math.min(w.length,h.length)),!o){l.visible=!1;return}l._length=o,m("sum"),m("text"),m("hovertext"),l.hoveron!=="fills"&&m("hovertemplate");var d=o<P.PTS_LINESONLY?"lines+markers":"lines";m("mode",d),i.hasLines(l)&&(A(n,l,f,u,m,{backoff:!0}),v(n,l,m),m("connectgaps")),i.hasMarkers(l)&&L(n,l,f,u,m,{gradient:!0}),i.hasText(l)&&(m("texttemplate"),p(n,l,u,m));var M=[];(i.hasMarkers(l)||i.hasText(l))&&(m("cliponaxis"),m("marker.maxdisplayed"),M.push("points")),m("fill"),l.fill!=="none"&&(t(n,l,f,m),i.hasLines(l)||v(n,l,m)),(l.fill==="tonext"||l.fill==="toself")&&M.push("fills"),m("hoveron",M.join("+")||"points"),g.coerceSelectionMarkerOpacity(l,m)}},4524:function(W){W.exports=function(e,g,P,i,L){if(g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),i[L]){var A=i[L];e.a=A.a,e.b=A.b,e.c=A.c}else e.a=g.a,e.b=g.b,e.c=g.c;return e}},93645:function(W,H,e){var g=e(89298);W.exports=function(i,L,A){var v={},p=A[L.subplot]._subplot;return v.aLabel=g.tickText(p.aaxis,i.a,!0).text,v.bLabel=g.tickText(p.baxis,i.b,!0).text,v.cLabel=g.tickText(p.caxis,i.c,!0).text,v}},47250:function(W,H,e){var g=e(33720);W.exports=function(i,L,A,v){var p=g(i,L,A,v);if(!p||p[0].index===!1)return;var t=p[0];if(t.index===void 0){var r=1-t.y0/i.ya._length,s=i.xa._length,n=s*r/2,l=s-n;return t.x0=Math.max(Math.min(t.x0,l),n),t.x1=Math.max(Math.min(t.x1,l),n),p}var f=t.cd[t.index],u=t.trace,m=t.subplot;t.a=f.a,t.b=f.b,t.c=f.c,t.xLabelVal=void 0,t.yLabelVal=void 0;var c={};c[u.subplot]={_subplot:m};var w=u._module.formatLabels(f,u,c);t.aLabel=w.aLabel,t.bLabel=w.bLabel,t.cLabel=w.cLabel;var h=f.hi||u.hoverinfo,o=[];function d(T,E){o.push(T._hovertitle+": "+E)}if(!u.hovertemplate){var M=h.split("+");M.indexOf("all")!==-1&&(M=["a","b","c"]),M.indexOf("a")!==-1&&d(m.aaxis,t.aLabel),M.indexOf("b")!==-1&&d(m.baxis,t.bLabel),M.indexOf("c")!==-1&&d(m.caxis,t.cLabel)}return t.extraText=o.join("<br>"),t.hovertemplate=u.hovertemplate,p}},52979:function(W,H,e){W.exports={attributes:e(50413),supplyDefaults:e(46008),colorbar:e(4898),formatLabels:e(93645),calc:e(54337),plot:e(7507),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(47250),selectPoints:e(98002),eventData:e(4524),moduleType:"trace",name:"scatterternary",basePlotModule:e(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(W,H,e){var g=e(32663);W.exports=function(i,L,A){var v=L.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var p=L.xaxis,t=L.yaxis,r={xaxis:p,yaxis:t,plot:v,layerClipId:L._hasClipOnAxisFalse?L.clipIdRelative:null},s=L.layers.frontplot.select("g.scatterlayer"),n=0;n<A.length;n++){var l=A[n];l.length&&(l[0].trace._xA=p,l[0].trace._yA=t)}g(i,r,A,s)}},46880:function(W,H,e){var g=e(82196),P=e(50693),i=e(12663).axisHoverFormat,L=e(5386).fF,A=e(42341),v=e(85555).idRegex,p=e(44467).templatedArray,t=e(1426).extendFlat,r=g.marker,s=r.line,n=t(P("marker.line",{editTypeOverride:"calc"}),{width:t({},s.width,{editType:"calc"}),editType:"calc"}),l=t(P("marker"),{symbol:r.symbol,angle:r.angle,size:t({},r.size,{editType:"markerSize"}),sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,opacity:r.opacity,colorbar:r.colorbar,line:n,editType:"calc"});l.color.editType=l.cmin.editType=l.cmax.editType="style";function f(u){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[u],editType:"plot"}}}W.exports={dimensions:p("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:t({},A.text,{}),hovertext:t({},A.hovertext,{}),hovertemplate:L(),xhoverformat:i("x"),yhoverformat:i("y"),marker:l,xaxes:f("x"),yaxes:f("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:A.selected.marker,editType:"calc"},unselected:{marker:A.unselected.marker,editType:"calc"},opacity:A.opacity}},65017:function(W,H,e){var g=e(73972),P=e(83312);W.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(46880),supplyDefaults:e(25784),colorbar:e(4898),calc:e(87625),plot:e(79410),hoverPoints:e(8567).hoverPoints,selectPoints:e(8689),editStyle:e(28801),meta:{}},g.register(P)},16947:function(W,H,e){var g=e(46075),P=e(73972),i=e(79749),L=e(27659).a0,A=e(93612),v=e(41675).getFromId,p=e(89298).shouldShowZeroLine,t="splom",r={};function s(c){var w=c._fullLayout,h=P.getModule(t),o=L(c.calcdata,h)[0],d=i(c,["ANGLE_instanced_arrays","OES_element_index_uint"],r);d&&(w._hasOnlyLargeSploms&&f(c),h.plot(c,{},o))}function n(c){var w=c.calcdata,h=c._fullLayout;h._hasOnlyLargeSploms&&f(c);for(var o=0;o<w.length;o++){var d=w[o][0],M=d.trace,T=h._splomScenes[M.uid];M.type==="splom"&&T&&T.matrix&&l(c,M,T)}}function l(c,w,h){for(var o=h.matrixOptions.data.length,d=w._visibleDims,M=h.viewOpts.ranges=new Array(o),T=0;T<d.length;T++){var E=d[T],x=M[T]=new Array(4),S=v(c,w._diag[E][0]);S&&(x[0]=S.r2l(S.range[0]),x[2]=S.r2l(S.range[1]));var b=v(c,w._diag[E][1]);b&&(x[1]=b.r2l(b.range[0]),x[3]=b.r2l(b.range[1]))}h.selectBatch.length||h.unselectBatch.length?h.matrix.update({ranges:M},{ranges:M}):h.matrix.update({ranges:M})}function f(c){var w=c._fullLayout,h=w._glcanvas.data()[0].regl,o=w._splomGrid;o||(o=w._splomGrid=g(h)),o.update(u(c))}function u(c){var w=c._context.plotGlPixelRatio,h=c._fullLayout,o=h._size,d=[0,0,h.width*w,h.height*w],M={},T;function E(Y,K,re,ae,fe,Q){re*=w,ae*=w,fe*=w,Q*=w;var j=K[Y+"color"],X=K[Y+"width"],J=String(j+X);J in M?M[J].data.push(NaN,NaN,re,ae,fe,Q):M[J]={data:[re,ae,fe,Q],join:"rect",thickness:X*w,color:j,viewport:d,range:d,overlay:!1}}for(T in h._splomSubplots){var x=h._plots[T],S=x.xaxis,b=x.yaxis,a=S._gridVals,C=b._gridVals,y=S._offset,z=S._length,I=b._length,B=o.b+b.domain[0]*o.h,F=-b._m,O=-F*b.r2l(b.range[0],b.calendar),N,_;if(S.showgrid)for(T=0;T<a.length;T++)N=y+S.l2p(a[T].x),E("grid",S,N,B,N,B+I);if(b.showgrid)for(T=0;T<C.length;T++)_=B+O+F*C[T].x,E("grid",b,y,_,y+z,_);p(c,S,b)&&(N=y+S.l2p(0),E("zeroline",S,N,B,N,B+I)),p(c,b,S)&&(_=B+O+0,E("zeroline",b,y,_,y+z,_))}var U=[];for(T in M)U.push(M[T]);return U}function m(c,w,h,o){var d={},M;if(o._splomScenes){for(M=0;M<c.length;M++){var T=c[M];T.type==="splom"&&(d[T.uid]=1)}for(M=0;M<h.length;M++){var E=h[M];if(!d[E.uid]){var x=o._splomScenes[E.uid];x&&x.destroy&&x.destroy(),o._splomScenes[E.uid]=null,delete o._splomScenes[E.uid]}}}Object.keys(o._splomScenes||{}).length===0&&delete o._splomScenes,o._splomGrid&&!w._hasOnlyLargeSploms&&o._hasOnlyLargeSploms&&(o._splomGrid.destroy(),o._splomGrid=null,delete o._splomGrid),A.clean(c,w,h,o)}W.exports={name:t,attr:A.attr,attrRegex:A.attrRegex,layoutAttributes:A.layoutAttributes,supplyLayoutDefaults:A.supplyLayoutDefaults,drawFramework:A.drawFramework,plot:s,drag:n,updateGrid:f,clean:m,updateFx:A.updateFx,toSVG:A.toSVG,reglPrecompiled:r}},87625:function(W,H,e){var g=e(71828),P=e(41675),i=e(47761).calcMarkerSize,L=e(47761).calcAxisExpansion,A=e(36922),v=e(19635).markerSelection,p=e(19635).markerStyle,t=e(10164),r=e(50606).BADNUM,s=e(78232).TOO_MANY_POINTS;W.exports=function(l,f){var u=f.dimensions,m=f._length,c={},w=c.cdata=[],h=c.data=[],o=f._visibleDims=[],d,M,T,E,x;function S(z,I){for(var B=z.makeCalcdata({v:I.values,vcalendar:f.calendar},"v"),F=0;F<B.length;F++)B[F]=B[F]===r?NaN:B[F];w.push(B),h.push(z.type==="log"?g.simpleMap(B,z.c2l):B)}for(d=0;d<u.length;d++)if(T=u[d],T.visible){if(E=P.getFromId(l,f._diag[d][0]),x=P.getFromId(l,f._diag[d][1]),E&&x&&E.type!==x.type){g.log("Skipping splom dimension "+d+" with conflicting axis types");continue}E?(S(E,T),x&&x.type==="category"&&(x._categories=E._categories.slice())):S(x,T),o.push(d)}A(l,f),g.extendFlat(c,p(l,f));var b=w.length,a=b*m>s,C;for(a?C=c.sizeAvg||Math.max(c.size,3):C=i(f,m),M=0;M<o.length;M++)d=o[M],T=u[d],E=P.getFromId(l,f._diag[d][0])||{},x=P.getFromId(l,f._diag[d][1])||{},L(l,f,E,x,w[M],w[M],C);var y=t(l,f);return y.matrix||(y.matrix=!0),y.matrixOptions=c,y.selectedOptions=v(l,f,f.selected),y.unselectedOptions=v(l,f,f.unselected),[{x:!1,y:!1,t:{},trace:f}]}},25784:function(W,H,e){var g=e(71828),P=e(85501),i=e(46880),L=e(34098),A=e(49508),v=e(94397),p=e(68645).isOpenSymbol;W.exports=function(n,l,f,u){function m(E,x){return g.coerce(n,l,i,E,x)}var c=P(n,l,{name:"dimensions",handleItemDefaults:t}),w=m("diagonal.visible"),h=m("showupperhalf"),o=m("showlowerhalf"),d=v(l,c,"values");if(!d||!w&&!h&&!o){l.visible=!1;return}m("text"),m("hovertext"),m("hovertemplate"),m("xhoverformat"),m("yhoverformat"),A(n,l,f,u,m,{noAngleRef:!0,noStandOff:!0});var M=p(l.marker.symbol),T=L.isBubble(l);m("marker.line.width",M||T?1:0),r(n,l,u,m),g.coerceSelectionMarkerOpacity(l,m)};function t(s,n){function l(u,m){return g.coerce(s,n,i.dimensions,u,m)}l("label");var f=l("values");f&&f.length?l("visible"):n.visible=!1,l("axis.type"),l("axis.matches")}function r(s,n,l,f){var u=n.dimensions,m=u.length,c=n.showupperhalf,w=n.showlowerhalf,h=n.diagonal.visible,o,d,M=new Array(m),T=new Array(m);for(o=0;o<m;o++){var E=o?o+1:"";M[o]="x"+E,T[o]="y"+E}var x=f("xaxes",M),S=f("yaxes",T),b=n._diag=new Array(m);n._xaxes={},n._yaxes={};var a=[],C=[];function y(Y,K,re,ae){if(Y){var fe=Y.charAt(0),Q=l._splomAxes[fe];if(n["_"+fe+"axes"][Y]=1,ae.push(Y),!(Y in Q)){var j=Q[Y]={};re&&(j.label=re.label||"",re.visible&&re.axis&&(re.axis.type&&(j.type=re.axis.type),re.axis.matches&&(j.matches=K)))}}}var z=!h&&!w,I=!h&&!c;for(n._axesDim={},o=0;o<m;o++){var B=u[o],F=o===0,O=o===m-1,N=F&&z||O&&I?void 0:x[o],_=F&&I||O&&z?void 0:S[o];y(N,_,B,a),y(_,N,B,C),b[o]=[N,_],n._axesDim[N]=o,n._axesDim[_]=o}for(o=0;o<a.length;o++)for(d=0;d<C.length;d++){var U=a[o]+C[d];(o>d&&c||o<d&&w||o===d&&(h||!w||!c))&&(l._splomSubplots[U]=1)}(!w||!h&&c&&w)&&(l._splomGridDflt.xside="bottom",l._splomGridDflt.yside="left")}},28801:function(W,H,e){var g=e(71828),P=e(36922),i=e(19635).markerStyle;W.exports=function(A,v){var p=v.trace,t=A._fullLayout._splomScenes[p.uid];if(t){P(A,p),g.extendFlat(t.matrixOptions,i(A,p));var r=g.extendFlat({},t.matrixOptions,t.viewOpts);t.matrix.update(r,null)}}},35948:function(W,H){H.getDimIndex=function(g,P){for(var i=P._id,L=i.charAt(0),A={x:0,y:1}[L],v=g._visibleDims,p=0;p<v.length;p++){var t=v[p];if(g._diag[t][A]===i)return p}return!1}},8567:function(W,H,e){var g=e(35948),P=e(20794).calcHover;function i(L,A,v){var p=L.cd,t=p[0].trace,r=L.scene,s=r.matrixOptions.cdata,n=L.xa,l=L.ya,f=n.c2p(A),u=l.c2p(v),m=L.distance,c=g.getDimIndex(t,n),w=g.getDimIndex(t,l);if(c===!1||w===!1)return[L];for(var h=s[c],o=s[w],d,M,T=m,E=0;E<h.length;E++){var x=h[E],S=o[E],b=n.c2p(x)-f,a=l.c2p(S)-u,C=Math.sqrt(b*b+a*a);C<T&&(T=M=C,d=E)}return L.index=d,L.distance=T,L.dxy=M,d===void 0?[L]:[P(L,h,o,t)]}W.exports={hoverPoints:i}},6419:function(W,H,e){var g=e(65017);g.basePlotModule=e(16947),W.exports=g},79410:function(W,H,e){var g=e(60487),P=e(71828),i=e(41675),L=e(64505).selectMode;W.exports=function(p,t,r){if(r.length)for(var s=0;s<r.length;s++)A(p,r[s][0])};function A(v,p){var t=v._fullLayout,r=t._size,s=p.trace,n=p.t,l=t._splomScenes[s.uid],f=l.matrixOptions,u=f.cdata,m=t._glcanvas.data()[0].regl,c=t.dragmode,w,h,o,d,M;if(u.length!==0){f.lower=s.showupperhalf,f.upper=s.showlowerhalf,f.diagonal=s.diagonal.visible;var T=s._visibleDims,E=u.length,x=l.viewOpts={};for(x.ranges=new Array(E),x.domains=new Array(E),M=0;M<T.length;M++){o=T[M];var S=x.ranges[M]=new Array(4),b=x.domains[M]=new Array(4);w=i.getFromId(v,s._diag[o][0]),w&&(S[0]=w._rl[0],S[2]=w._rl[1],b[0]=w.domain[0],b[2]=w.domain[1]),h=i.getFromId(v,s._diag[o][1]),h&&(S[1]=h._rl[0],S[3]=h._rl[1],b[1]=h.domain[0],b[3]=h.domain[1])}var a=v._context.plotGlPixelRatio,C=r.l*a,y=r.b*a,z=r.w*a,I=r.h*a;x.viewport=[C,y,z+C,I+y],l.matrix===!0&&(l.matrix=g(m));var B=t.clickmode.indexOf("select")>-1,F=L(c)||!!s.selectedpoints||B,O=!0;if(F){var N=s._length;if(s.selectedpoints){l.selectBatch=s.selectedpoints;var _=s.selectedpoints,U={};for(o=0;o<_.length;o++)U[_[o]]=!0;var Y=[];for(o=0;o<N;o++)U[o]||Y.push(o);l.unselectBatch=Y}var K=n.xpx=new Array(E),re=n.ypx=new Array(E);for(M=0;M<T.length;M++){if(o=T[M],w=i.getFromId(v,s._diag[o][0]),w)for(K[M]=new Array(N),d=0;d<N;d++)K[M][d]=w.c2p(u[M][d]);if(h=i.getFromId(v,s._diag[o][1]),h)for(re[M]=new Array(N),d=0;d<N;d++)re[M][d]=h.c2p(u[M][d])}if(l.selectBatch.length||l.unselectBatch.length){var ae=P.extendFlat({},f,l.unselectedOptions,x),fe=P.extendFlat({},f,l.selectedOptions,x);l.matrix.update(ae,fe),O=!1}}else n.xpx=n.ypx=null;if(O){var Q=P.extendFlat({},f,x);l.matrix.update(Q,null)}}}},10164:function(W,H,e){var g=e(71828);W.exports=function(i,L){var A=i._fullLayout,v=L.uid,p=A._splomScenes;p||(p=A._splomScenes={});var t={dirty:!0,selectBatch:[],unselectBatch:[]},r={matrix:!1,selectBatch:[],unselectBatch:[]},s=p[L.uid];return s||(s=p[v]=g.extendFlat({},t,r),s.draw=function(){s.matrix&&s.matrix.draw&&(s.selectBatch.length||s.unselectBatch.length?s.matrix.draw(s.unselectBatch,s.selectBatch):s.matrix.draw()),s.dirty=!1},s.destroy=function(){s.matrix&&s.matrix.destroy&&s.matrix.destroy(),s.matrixOptions=null,s.selectBatch=null,s.unselectBatch=null,s=null}),s.dirty||g.extendFlat(s,t),s}},8689:function(W,H,e){var g=e(71828),P=g.pushUnique,i=e(34098),L=e(35948);W.exports=function(v,p){var t=v.cd,r=t[0].trace,s=t[0].t,n=v.scene,l=n.matrixOptions.cdata,f=v.xaxis,u=v.yaxis,m=[];if(!n)return m;var c=!i.hasMarkers(r)&&!i.hasText(r);if(r.visible!==!0||c)return m;var w=L.getDimIndex(r,f),h=L.getDimIndex(r,u);if(w===!1||h===!1)return m;var o=s.xpx[w],d=s.ypx[h],M=l[w],T=l[h],E=(v.scene.selectBatch||[]).slice(),x=[];if(p!==!1&&!p.degenerate)for(var S=0;S<M.length;S++)p.contains([o[S],d[S]],null,S,v)?(m.push({pointNumber:S,x:M[S],y:T[S]}),P(E,S)):E.indexOf(S)!==-1?P(E,S):x.push(S);var b=n.matrixOptions;return!E.length&&!x.length?n.matrix.update(b,null):!n.selectBatch.length&&!n.unselectBatch.length&&n.matrix.update(n.unselectedOptions,g.extendFlat({},b,n.selectedOptions,n.viewOpts)),n.selectBatch=E,n.unselectBatch=x,m}},21850:function(W,H,e){var g=e(50693),P=e(12663).axisHoverFormat,i=e(5386).fF,L=e(2418),A=e(9012),v=e(1426).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:i({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:v({},A.showlegend,{dflt:!1})};v(p,g("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var t=["opacity","lightposition","lighting"];t.forEach(function(r){p[r]=L[r]}),p.hoverinfo=v({},A.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,W.exports=p},88489:function(W,H,e){var g=e(71828),P=e(78803);function i(p,t){t._len=Math.min(t.u.length,t.v.length,t.w.length,t.x.length,t.y.length,t.z.length),t._u=v(t.u,t._len),t._v=v(t.v,t._len),t._w=v(t.w,t._len),t._x=v(t.x,t._len),t._y=v(t.y,t._len),t._z=v(t.z,t._len);var r=L(t);t._gridFill=r.fill,t._Xs=r.Xs,t._Ys=r.Ys,t._Zs=r.Zs,t._len=r.len;var s=0,n,l,f;t.starts&&(n=v(t.starts.x||[]),l=v(t.starts.y||[]),f=v(t.starts.z||[]),s=Math.min(n.length,l.length,f.length)),t._startsX=n||[],t._startsY=l||[],t._startsZ=f||[];var u=0,m=1/0,c;for(c=0;c<t._len;c++){var w=t._u[c],h=t._v[c],o=t._w[c],d=Math.sqrt(w*w+h*h+o*o);u=Math.max(u,d),m=Math.min(m,d)}for(P(p,t,{vals:[m,u],containerStr:"",cLetter:"c"}),c=0;c<s;c++){var M=n[c];r.xMax=Math.max(r.xMax,M),r.xMin=Math.min(r.xMin,M);var T=l[c];r.yMax=Math.max(r.yMax,T),r.yMin=Math.min(r.yMin,T);var E=f[c];r.zMax=Math.max(r.zMax,E),r.zMin=Math.min(r.zMin,E)}t._slen=s,t._normMax=u,t._xbnds=[r.xMin,r.xMax],t._ybnds=[r.yMin,r.yMax],t._zbnds=[r.zMin,r.zMax]}function L(p){var t=p._x,r=p._y,s=p._z,n=p._len,l,f,u,m=-1/0,c=1/0,w=-1/0,h=1/0,o=-1/0,d=1/0,M="",T,E,x,S,b,a,C,y,z;for(n&&(S=t[0],a=r[0],y=s[0]),n>1&&(b=t[n-1],C=r[n-1],z=s[n-1]),l=0;l<n;l++)m=Math.max(m,t[l]),c=Math.min(c,t[l]),w=Math.max(w,r[l]),h=Math.min(h,r[l]),o=Math.max(o,s[l]),d=Math.min(d,s[l]),!T&&t[l]!==S&&(T=!0,M+="x"),!E&&r[l]!==a&&(E=!0,M+="y"),!x&&s[l]!==y&&(x=!0,M+="z");T||(M+="x"),E||(M+="y"),x||(M+="z");var I=A(p._x),B=A(p._y),F=A(p._z);M=M.replace("x",(S>b?"-":"+")+"x"),M=M.replace("y",(a>C?"-":"+")+"y"),M=M.replace("z",(y>z?"-":"+")+"z");var O=function(){n=0,I=[],B=[],F=[]};(!n||n<I.length*B.length*F.length)&&O();var N=function(ce){return ce==="x"?t:ce==="y"?r:s},_=function(ce){return ce==="x"?I:ce==="y"?B:F},U=function(ce){return ce[n-1]<ce[0]?-1:1},Y=N(M[1]),K=N(M[3]),re=N(M[5]),ae=_(M[1]).length,fe=_(M[3]).length,Q=_(M[5]).length,j=!1,X=function(ce,me,Me){return ae*(fe*ce+me)+Me},J=U(N(M[1])),ee=U(N(M[3])),se=U(N(M[5]));for(l=0;l<Q-1;l++){for(f=0;f<fe-1;f++){for(u=0;u<ae-1;u++){var q=X(l,f,u),$=X(l,f,u+1),le=X(l,f+1,u),ie=X(l+1,f,u);if((!(Y[q]*J<Y[$]*J)||!(K[q]*ee<K[le]*ee)||!(re[q]*se<re[ie]*se))&&(j=!0),j)break}if(j)break}if(j)break}return j&&(g.warn("Encountered arbitrary coordinates! Unable to input data grid."),O()),{xMin:c,yMin:h,zMin:d,xMax:m,yMax:w,zMax:o,Xs:I,Ys:B,Zs:F,len:n,fill:M}}function A(p){return g.distinctVals(p).vals}function v(p,t){if(t===void 0&&(t=p.length),g.isTypedArray(p))return p.subarray(0,t);for(var r=[],s=0;s<t;s++)r[s]=+p[s];return r}W.exports={calc:i,filter:v,processGrid:L}},90154:function(W,H,e){var g=e(9330).gl_streamtube3d,P=g.createTubeMesh,i=e(71828),L=e(81697).parseColorScale,A=e(21081).extractOpts,v=e(90060),p={xaxis:0,yaxis:1,zaxis:2};function t(u,m){this.scene=u,this.uid=m,this.mesh=null,this.data=null}var r=t.prototype;r.handlePick=function(u){var m=this.scene.fullSceneLayout,c=this.scene.dataScale;function w(d,M){var T=m[M],E=c[p[M]];return T.l2c(d)/E}if(u.object===this.mesh){var h=u.data.position,o=u.data.velocity;return u.traceCoordinate=[w(h[0],"xaxis"),w(h[1],"yaxis"),w(h[2],"zaxis"),w(o[0],"xaxis"),w(o[1],"yaxis"),w(o[2],"zaxis"),u.data.intensity*this.data._normMax,u.data.divergence],u.textLabel=this.data.hovertext||this.data.text,!0}};function s(u){var m=u.length,c;return m>2?c=u.slice(1,m-1):m===2?c=[(u[0]+u[1])/2]:c=u,c}function n(u){var m=u.length;return m===1?[.5,.5]:[u[1]-u[0],u[m-1]-u[m-2]]}function l(u,m){var c=u.fullSceneLayout,w=u.dataScale,h=m._len,o={};function d(fe,Q){var j=c[Q],X=w[p[Q]];return i.simpleMap(fe,function(J){return j.d2l(J)*X})}if(o.vectors=v(d(m._u,"xaxis"),d(m._v,"yaxis"),d(m._w,"zaxis"),h),!h)return{positions:[],cells:[]};var M=d(m._Xs,"xaxis"),T=d(m._Ys,"yaxis"),E=d(m._Zs,"zaxis");o.meshgrid=[M,T,E],o.gridFill=m._gridFill;var x=m._slen;if(x)o.startingPositions=v(d(m._startsX,"xaxis"),d(m._startsY,"yaxis"),d(m._startsZ,"zaxis"));else{for(var S=T[0],b=s(M),a=s(E),C=new Array(b.length*a.length),y=0,z=0;z<b.length;z++)for(var I=0;I<a.length;I++)C[y++]=[b[z],S,a[I]];o.startingPositions=C}o.colormap=L(m),o.tubeSize=m.sizeref,o.maxLength=m.maxdisplayed;var B=d(m._xbnds,"xaxis"),F=d(m._ybnds,"yaxis"),O=d(m._zbnds,"zaxis"),N=n(M),_=n(T),U=n(E),Y=[[B[0]-N[0],F[0]-_[0],O[0]-U[0]],[B[1]+N[1],F[1]+_[1],O[1]+U[1]]],K=g(o,Y),re=A(m);K.vertexIntensityBounds=[re.min/m._normMax,re.max/m._normMax];var ae=m.lightposition;return K.lightPosition=[ae.x,ae.y,ae.z],K.ambient=m.lighting.ambient,K.diffuse=m.lighting.diffuse,K.specular=m.lighting.specular,K.roughness=m.lighting.roughness,K.fresnel=m.lighting.fresnel,K.opacity=m.opacity,m._pad=K.tubeScale*m.sizeref*2,K}r.update=function(u){this.data=u;var m=l(this.scene,u);this.mesh.update(m)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function f(u,m){var c=u.glplot.gl,w=l(u,m),h=P(c,w),o=new t(u,m.uid);return o.mesh=h,o.data=m,h._trace=o,u.glplot.add(h),o}W.exports=f},22459:function(W,H,e){var g=e(71828),P=e(1586),i=e(21850);W.exports=function(A,v,p,t){function r(c,w){return g.coerce(A,v,i,c,w)}var s=r("u"),n=r("v"),l=r("w"),f=r("x"),u=r("y"),m=r("z");if(!s||!s.length||!n||!n.length||!l||!l.length||!f||!f.length||!u||!u.length||!m||!m.length){v.visible=!1;return}r("starts.x"),r("starts.y"),r("starts.z"),r("maxdisplayed"),r("sizeref"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),P(A,v,t,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),v._length=null}},61510:function(W,H,e){W.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(21850),supplyDefaults:e(22459),colorbar:{min:"cmin",max:"cmax"},calc:e(88489).calc,plot:e(90154),eventData:function(g,P){return g.tubex=g.x,g.tubey=g.y,g.tubez=g.z,g.tubeu=P.traceCoordinate[3],g.tubev=P.traceCoordinate[4],g.tubew=P.traceCoordinate[5],g.norm=P.traceCoordinate[6],g.divergence=P.traceCoordinate[7],delete g.x,delete g.y,delete g.z,g},meta:{}}},57564:function(W,H,e){var g=e(9012),P=e(5386).fF,i=e(5386).si,L=e(50693),A=e(27670).Y,v=e(34e3),p=e(7055),t=e(1426).extendFlat,r=e(79952).u;W.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:t({colors:{valType:"data_array",editType:"calc"},line:{color:t({},v.marker.line.color,{dflt:null}),width:t({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:r,editType:"calc"},L("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:i({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:t({},g.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:P({},{keys:p.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:t({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:A({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(W,H,e){var g=e(74875);H.name="sunburst",H.plot=function(P,i,L,A){g.plotBasePlot(H.name,P,i,L,A)},H.clean=function(P,i,L,A){g.cleanBasePlot(H.name,P,i,L,A)}},52147:function(W,H,e){var g=e(674),P=e(92770),i=e(71828),L=e(21081).makeColorScaleFuncFromTrace,A=e(32354).makePullColorFn,v=e(32354).generateExtendedColors,p=e(21081).calc,t=e(50606).ALMOST_EQUAL,r={},s={},n={};H.calc=function(f,u){var m=f._fullLayout,c=u.ids,w=i.isArrayOrTypedArray(c),h=u.labels,o=u.parents,d=u.values,M=i.isArrayOrTypedArray(d),T=[],E={},x={},S=function(J,ee){E[J]?E[J].push(ee):E[J]=[ee],x[ee]=1},b=function(J){return J||typeof J=="number"},a=function(J){return!M||P(d[J])&&d[J]>=0},C,y,z;w?(C=Math.min(c.length,o.length),y=function(J){return b(c[J])&&a(J)},z=function(J){return String(c[J])}):(C=Math.min(h.length,o.length),y=function(J){return b(h[J])&&a(J)},z=function(J){return String(h[J])}),M&&(C=Math.min(C,d.length));for(var I=0;I<C;I++)if(y(I)){var B=z(I),F=b(o[I])?String(o[I]):"",O={i:I,id:B,pid:F,label:b(h[I])?String(h[I]):""};M&&(O.v=+d[I]),T.push(O),S(F,B)}if(E[""]){if(E[""].length>1){for(var U=i.randstr(),Y=0;Y<T.length;Y++)T[Y].pid===""&&(T[Y].pid=U);T.unshift({hasMultipleRoots:!0,id:U,pid:"",label:""})}}else{var N=[],_;for(_ in E)x[_]||N.push(_);if(N.length===1)_=N[0],T.unshift({hasImpliedRoot:!0,id:_,pid:"",label:_});else return i.warn(["Multiple implied roots, cannot build",u.type,"hierarchy of",u.name+".","These roots include:",N.join(", ")].join(" "))}var K;try{K=g.stratify().id(function(J){return J.id}).parentId(function(J){return J.pid})(T)}catch(J){return i.warn(["Failed to build",u.type,"hierarchy of",u.name+".","Error:",J.message].join(" "))}var re=g.hierarchy(K),ae=!1;if(M)switch(u.branchvalues){case"remainder":re.sum(function(J){return J.data.v});break;case"total":re.each(function(J){var ee=J.data.data,se=ee.v;if(J.children){var q=J.children.reduce(function($,le){return $+le.data.data.v},0);if((ee.hasImpliedRoot||ee.hasMultipleRoots)&&(se=q),se<q*t)return ae=!0,i.warn(["Total value for node",J.data.data.id,"of",u.name,"is smaller than the sum of its children.",`
parent value =`,se,`
children sum =`,q].join(" "))}J.value=se});break}else l(re,u,{branches:u.count.indexOf("branches")!==-1,leaves:u.count.indexOf("leaves")!==-1});if(!ae){u.sort&&re.sort(function(J,ee){return ee.value-J.value});var fe,Q,j=u.marker.colors||[],X=!!j.length;return u._hasColorscale?(X||(j=M?u.values:u._values),p(f,u,{vals:j,containerStr:"marker",cLetter:"c"}),Q=L(u.marker)):fe=A(m["_"+u.type+"colormap"]),re.each(function(J){var ee=J.data.data;ee.color=u._hasColorscale?Q(j[ee.i]):fe(j[ee.i],ee.id)}),T[0].hierarchy=re,T}},H._runCrossTraceCalc=function(f,u){var m=u._fullLayout,c=u.calcdata,w=m[f+"colorway"],h=m["_"+f+"colormap"];m["extend"+f+"colors"]&&(w=v(w,f==="icicle"?n:f==="treemap"?s:r));var o=0,d;function M(S){var b=S.data.data,a=b.id;b.color===!1&&(h[a]?b.color=h[a]:S.parent?S.parent.parent?b.color=S.parent.data.data.color:(h[a]=b.color=w[o%w.length],o++):b.color=d)}for(var T=0;T<c.length;T++){var E=c[T],x=E[0];x.trace.type===f&&x.hierarchy&&(d=x.trace.root.color,x.hierarchy.each(M))}},H.crossTraceCalc=function(f){return H._runCrossTraceCalc("sunburst",f)};function l(f,u,m){var c=0,w=f.children;if(w){for(var h=w.length,o=0;o<h;o++)c+=l(w[o],u,m);m.branches&&c++}else m.leaves&&c++;return f.value=f.data.data.value=c,u._values||(u._values=[]),u._values[f.data.data.i]=c,c}},7055:function(W){W.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(W,H,e){var g=e(71828),P=e(57564),i=e(27670).c,L=e(90769).handleText,A=e(37434).handleMarkerDefaults,v=e(21081),p=v.hasColorscale,t=v.handleDefaults;W.exports=function(s,n,l,f){function u(M,T){return g.coerce(s,n,P,M,T)}var m=u("labels"),c=u("parents");if(!m||!m.length||!c||!c.length){n.visible=!1;return}var w=u("values");w&&w.length?u("branchvalues"):u("count"),u("level"),u("maxdepth"),A(s,n,f,u);var h=n._hasColorscale=p(s,"marker","colors")||(s.marker||{}).coloraxis;h&&t(s,n,f,u,{prefix:"marker.",cLetter:"c"}),u("leaf.opacity",h?1:.7);var o=u("text");u("texttemplate"),n.texttemplate||u("textinfo",Array.isArray(o)?"text+label":"label"),u("hovertext"),u("hovertemplate");var d="auto";L(s,n,f,u,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),u("insidetextorientation"),u("sort"),u("rotation"),u("root.color"),i(n,f,u),n._length=null}},43467:function(W,H,e){var g=e(91424),P=e(7901);W.exports=function(L,A,v,p,t){var r=A.data.data,s=r.i,n=t||r.color;if(s>=0){A.i=r.i;var l=v.marker;l.pattern?(!l.colors||!l.pattern.shape)&&(l.color=n,A.color=n):(l.color=n,A.color=n),g.pointStyle(L,v,p,A)}else P.fill(L,n)}},83523:function(W,H,e){var g=e(39898),P=e(73972),i=e(23469).appendArrayPointValue,L=e(30211),A=e(71828),v=e(11086),p=e(2791),t=e(53581),r=t.formatPieValue;W.exports=function(l,f,u,m,c){var w=m[0],h=w.trace,o=w.hierarchy,d=h.type==="sunburst",M=h.type==="treemap"||h.type==="icicle";"_hasHoverLabel"in h||(h._hasHoverLabel=!1),"_hasHoverEvent"in h||(h._hasHoverEvent=!1);var T=function(S){var b=u._fullLayout;if(!(u._dragging||b.hovermode===!1)){var a=u._fullData[h.index],C=S.data.data,y=C.i,z=p.isHierarchyRoot(S),I=p.getParent(o,S),B=p.getValue(S),F=function($){return A.castOption(a,y,$)},O=F("hovertemplate"),N=L.castHoverinfo(a,b,y),_=b.separators,U;if(O||N&&N!=="none"&&N!=="skip"){var Y,K;d&&(Y=w.cx+S.pxmid[0]*(1-S.rInscribed),K=w.cy+S.pxmid[1]*(1-S.rInscribed)),M&&(Y=S._hoverX,K=S._hoverY);var re={},ae=[],fe=[],Q=function($){return ae.indexOf($)!==-1};N&&(ae=N==="all"?a._module.attributes.hoverinfo.flags:N.split("+")),re.label=C.label,Q("label")&&re.label&&fe.push(re.label),C.hasOwnProperty("v")&&(re.value=C.v,re.valueLabel=r(re.value,_),Q("value")&&fe.push(re.valueLabel)),re.currentPath=S.currentPath=p.getPath(S.data),Q("current path")&&!z&&fe.push(re.currentPath);var j,X=[],J=function(){X.indexOf(j)===-1&&(fe.push(j),X.push(j))};re.percentParent=S.percentParent=B/p.getValue(I),re.parent=S.parentString=p.getPtLabel(I),Q("percent parent")&&(j=p.formatPercent(re.percentParent,_)+" of "+re.parent,J()),re.percentEntry=S.percentEntry=B/p.getValue(f),re.entry=S.entry=p.getPtLabel(f),Q("percent entry")&&!z&&!S.onPathbar&&(j=p.formatPercent(re.percentEntry,_)+" of "+re.entry,J()),re.percentRoot=S.percentRoot=B/p.getValue(o),re.root=S.root=p.getPtLabel(o),Q("percent root")&&!z&&(j=p.formatPercent(re.percentRoot,_)+" of "+re.root,J()),re.text=F("hovertext")||F("text"),Q("text")&&(j=re.text,A.isValidTextValue(j)&&fe.push(j)),U=[s(S,a,c.eventDataKeys)];var ee={trace:a,y:K,_x0:S._x0,_x1:S._x1,_y0:S._y0,_y1:S._y1,text:fe.join("<br>"),name:O||Q("name")?a.name:void 0,color:F("hoverlabel.bgcolor")||C.color,borderColor:F("hoverlabel.bordercolor"),fontFamily:F("hoverlabel.font.family"),fontSize:F("hoverlabel.font.size"),fontColor:F("hoverlabel.font.color"),nameLength:F("hoverlabel.namelength"),textAlign:F("hoverlabel.align"),hovertemplate:O,hovertemplateLabels:re,eventData:U};d&&(ee.x0=Y-S.rInscribed*S.rpx1,ee.x1=Y+S.rInscribed*S.rpx1,ee.idealAlign=S.pxmid[0]<0?"left":"right"),M&&(ee.x=Y,ee.idealAlign=Y<0?"left":"right");var se=[];L.loneHover(ee,{container:b._hoverlayer.node(),outerContainer:b._paper.node(),gd:u,inOut_bbox:se}),U[0].bbox=se[0],h._hasHoverLabel=!0}if(M){var q=l.select("path.surface");c.styleOne(q,S,a,u,{hovered:!0})}h._hasHoverEvent=!0,u.emit("plotly_hover",{points:U||[s(S,a,c.eventDataKeys)],event:g.event})}},E=function(S){var b=u._fullLayout,a=u._fullData[h.index],C=g.select(this).datum();if(h._hasHoverEvent&&(S.originalEvent=g.event,u.emit("plotly_unhover",{points:[s(C,a,c.eventDataKeys)],event:g.event}),h._hasHoverEvent=!1),h._hasHoverLabel&&(L.loneUnhover(b._hoverlayer.node()),h._hasHoverLabel=!1),M){var y=l.select("path.surface");c.styleOne(y,C,a,u,{hovered:!1})}},x=function(S){var b=u._fullLayout,a=u._fullData[h.index],C=d&&(p.isHierarchyRoot(S)||p.isLeaf(S)),y=p.getPtId(S),z=p.isEntry(S)?p.findEntryWithChild(o,y):p.findEntryWithLevel(o,y),I=p.getPtId(z),B={points:[s(S,a,c.eventDataKeys)],event:g.event};C||(B.nextLevel=I);var F=v.triggerHandler(u,"plotly_"+h.type+"click",B);if(F!==!1&&b.hovermode&&(u._hoverdata=[s(S,a,c.eventDataKeys)],L.click(u,g.event)),!C&&F!==!1&&!u._dragging&&!u._transitioning){P.call("_storeDirectGUIEdit",a,b._tracePreGUI[a.uid],{level:a.level});var O={data:[{level:I}],traces:[h.index]},N={frame:{redraw:!1,duration:c.transitionTime},transition:{duration:c.transitionTime,easing:c.transitionEasing},mode:"immediate",fromcurrent:!0};L.loneUnhover(b._hoverlayer.node()),P.call("animate",u,O,N)}};l.on("mouseover",T),l.on("mouseout",E),l.on("click",x)};function s(n,l,f){for(var u=n.data.data,m={curveNumber:l.index,pointNumber:u.i,data:l._input,fullData:l},c=0;c<f.length;c++){var w=f[c];w in n&&(m[w]=n[w])}return"parentString"in n&&!p.isHierarchyRoot(n)&&(m.parent=n.parentString),i(m,l,u.i),m}},2791:function(W,H,e){var g=e(71828),P=e(7901),i=e(6964),L=e(53581);H.findEntryWithLevel=function(t,r){var s;return r&&t.eachAfter(function(n){if(H.getPtId(n)===r)return s=n.copy()}),s||t},H.findEntryWithChild=function(t,r){var s;return t.eachAfter(function(n){for(var l=n.children||[],f=0;f<l.length;f++){var u=l[f];if(H.getPtId(u)===r)return s=n.copy()}}),s||t},H.isEntry=function(t){return!t.parent},H.isLeaf=function(t){return!t.children},H.getPtId=function(t){return t.data.data.id},H.getPtLabel=function(t){return t.data.data.label},H.getValue=function(t){return t.value},H.isHierarchyRoot=function(t){return p(t)===""},H.setSliceCursor=function(t,r,s){var n=s.isTransitioning;if(!n){var l=t.datum();n=s.hideOnRoot&&H.isHierarchyRoot(l)||s.hideOnLeaves&&H.isLeaf(l)}i(t,n?null:"pointer")};function A(t,r,s){return{color:H.getOutsideTextFontKey("color",t,r,s),family:H.getOutsideTextFontKey("family",t,r,s),size:H.getOutsideTextFontKey("size",t,r,s)}}function v(t,r,s,n){var l=(n||{}).onPathbar,f=r.data.data,u=f.i,m=g.castOption(t,u,(l?"pathbar.textfont":"insidetextfont")+".color");return!m&&t._input.textfont&&(m=g.castOption(t._input,u,"textfont.color")),{color:m||P.contrast(f.color),family:H.getInsideTextFontKey("family",t,r,s,n),size:H.getInsideTextFontKey("size",t,r,s,n)}}H.getInsideTextFontKey=function(t,r,s,n,l){var f=(l||{}).onPathbar,u=f?"pathbar.textfont":"insidetextfont",m=s.data.data.i;return g.castOption(r,m,u+"."+t)||g.castOption(r,m,"textfont."+t)||n.size},H.getOutsideTextFontKey=function(t,r,s,n){var l=s.data.data.i;return g.castOption(r,l,"outsidetextfont."+t)||g.castOption(r,l,"textfont."+t)||n.size},H.isOutsideText=function(t,r){return!t._hasColorscale&&H.isHierarchyRoot(r)},H.determineTextFont=function(t,r,s,n){return H.isOutsideText(t,r)?A(t,r,s):v(t,r,s,n)},H.hasTransition=function(t){return!!(t&&t.duration>0)},H.getMaxDepth=function(t){return t.maxdepth>=0?t.maxdepth:1/0},H.isHeader=function(t,r){return!(H.isLeaf(t)||t.depth===r._maxDepth-1)};function p(t){return t.data.data.pid}H.getParent=function(t,r){return H.findEntryWithLevel(t,p(r))},H.listPath=function(t,r){var s=t.parent;if(!s)return[];var n=r?[s.data[r]]:[s];return H.listPath(s,r).concat(n)},H.getPath=function(t){return H.listPath(t,"label").join("/")+"/"},H.formatValue=L.formatPieValue,H.formatPercent=function(t,r){var s=g.formatPercent(t,0);return s==="0%"&&(s=L.formatPiePercent(t,r)),s}},87619:function(W,H,e){W.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(66888),categories:[],animatable:!0,attributes:e(57564),layoutAttributes:e(2654),supplyDefaults:e(17094),supplyLayoutDefaults:e(57034),calc:e(52147).calc,crossTraceCalc:e(52147).crossTraceCalc,plot:e(24714).plot,style:e(29969).style,colorbar:e(4898),meta:{}}},2654:function(W){W.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(W,H,e){var g=e(71828),P=e(2654);W.exports=function(L,A){function v(p,t){return g.coerce(L,A,P,p,t)}v("sunburstcolorway",A.colorway),v("extendsunburstcolors")}},24714:function(W,H,e){var g=e(39898),P=e(674),i=e(81684).sX,L=e(91424),A=e(71828),v=e(63893),p=e(72597),t=p.recordMinTextSize,r=p.clearMinTextSize,s=e(14575),n=e(53581).getRotationAngle,l=s.computeTransform,f=s.transformInsideText,u=e(29969).styleOne,m=e(16688).resizeText,c=e(83523),w=e(7055),h=e(2791);H.plot=function(x,S,b,a){var C=x._fullLayout,y=C._sunburstlayer,z,I,B=!b,F=!C.uniformtext.mode&&h.hasTransition(b);if(r("sunburst",C),z=y.selectAll("g.trace.sunburst").data(S,function(N){return N[0].trace.uid}),z.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),z.order(),F){a&&(I=a());var O=g.transition().duration(b.duration).ease(b.easing).each("end",function(){I&&I()}).each("interrupt",function(){I&&I()});O.each(function(){y.selectAll("g.trace").each(function(N){o(x,N,this,b)})})}else z.each(function(N){o(x,N,this,b)}),C.uniformtext.mode&&m(x,C._sunburstlayer.selectAll(".trace"),"sunburst");B&&z.exit().remove()};function o(x,S,b,a){var C=x._context.staticPlot,y=x._fullLayout,z=!y.uniformtext.mode&&h.hasTransition(a),I=g.select(b),B=I.selectAll("g.slice"),F=S[0],O=F.trace,N=F.hierarchy,_=h.findEntryWithLevel(N,O.level),U=h.getMaxDepth(O),Y=y._size,K=O.domain,re=Y.w*(K.x[1]-K.x[0]),ae=Y.h*(K.y[1]-K.y[0]),fe=.5*Math.min(re,ae),Q=F.cx=Y.l+Y.w*(K.x[1]+K.x[0])/2,j=F.cy=Y.t+Y.h*(1-K.y[0])-ae/2;if(!_)return B.remove();var X=null,J={};z&&B.each(function(We){J[h.getPtId(We)]={rpx0:We.rpx0,rpx1:We.rpx1,x0:We.x0,x1:We.x1,transform:We.transform},!X&&h.isEntry(We)&&(X=We)});var ee=d(_).descendants(),se=_.height+1,q=0,$=U;F.hasMultipleRoots&&h.isHierarchyRoot(_)&&(ee=ee.slice(1),se-=1,q=1,$+=1),ee=ee.filter(function(We){return We.y1<=$});var le=n(O.rotation);le&&ee.forEach(function(We){We.x0+=le,We.x1+=le});var ie=Math.min(se,U),ce=function(We){return(We-q)/ie*fe},me=function(We,it){return[We*Math.cos(it),-We*Math.sin(it)]},Me=function(We){return A.pathAnnulus(We.rpx0,We.rpx1,We.x0,We.x1,Q,j)},we=function(We){return Q+T(We)[0]*(We.transform.rCenter||0)+(We.transform.x||0)},Oe=function(We){return j+T(We)[1]*(We.transform.rCenter||0)+(We.transform.y||0)};B=B.data(ee,h.getPtId),B.enter().append("g").classed("slice",!0),z?B.exit().transition().each(function(){var We=g.select(this),it=We.select("path.surface");it.transition().attrTween("d",function(tt){var at=Se(tt);return function(ht){return Me(at(ht))}});var et=We.select("g.slicetext");et.attr("opacity",0)}).remove():B.exit().remove(),B.order();var Be=null;if(z&&X){var Ce=h.getPtId(X);B.each(function(We){Be===null&&h.getPtId(We)===Ce&&(Be=We.x1)})}var xe=B;z&&(xe=xe.transition().each("end",function(){var We=g.select(this);h.setSliceCursor(We,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),xe.each(function(We){var it=g.select(this),et=A.ensureSingle(it,"path","surface",function(Et){Et.style("pointer-events",C?"none":"all")});We.rpx0=ce(We.y0),We.rpx1=ce(We.y1),We.xmid=(We.x0+We.x1)/2,We.pxmid=me(We.rpx1,We.xmid),We.midangle=-(We.xmid-Math.PI/2),We.startangle=-(We.x0-Math.PI/2),We.stopangle=-(We.x1-Math.PI/2),We.halfangle=.5*Math.min(A.angleDelta(We.x0,We.x1)||Math.PI,Math.PI),We.ring=1-We.rpx0/We.rpx1,We.rInscribed=M(We),z?et.transition().attrTween("d",function(Et){var Ct=He(Et);return function(Vt){return Me(Ct(Vt))}}):et.attr("d",Me),it.call(c,_,x,S,{eventDataKeys:w.eventDataKeys,transitionTime:w.CLICK_TRANSITION_TIME,transitionEasing:w.CLICK_TRANSITION_EASING}).call(h.setSliceCursor,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:x._transitioning}),et.call(u,We,O,x);var tt=A.ensureSingle(it,"g","slicetext"),at=A.ensureSingle(tt,"text","",function(Et){Et.attr("data-notex",1)}),ht=A.ensureUniformFontSize(x,h.determineTextFont(O,We,y.font));at.text(H.formatSliceLabel(We,_,O,S,y)).classed("slicetext",!0).attr("text-anchor","middle").call(L.font,ht).call(v.convertToTspans,x);var yt=L.bBox(at.node());We.transform=f(yt,We,F),We.transform.targetX=we(We),We.transform.targetY=Oe(We);var gt=function(Et,Ct){var Vt=Et.transform;return l(Vt,Ct),Vt.fontSize=ht.size,t(O.type,Vt,y),A.getTextTransform(Vt)};z?at.transition().attrTween("transform",function(Et){var Ct=Ge(Et);return function(Vt){return gt(Ct(Vt),yt)}}):at.attr("transform",gt(We,yt))});function Se(We){var it=h.getPtId(We),et=J[it],tt=J[h.getPtId(_)],at;if(tt){var ht=(We.x1>tt.x1?2*Math.PI:0)+le;at=We.rpx1<tt.rpx1?{x0:We.x0,x1:We.x1,rpx0:0,rpx1:0}:{x0:ht,x1:ht,rpx0:We.rpx0,rpx1:We.rpx1}}else{var yt,gt=h.getPtId(We.parent);B.each(function(Fe){if(h.getPtId(Fe)===gt)return yt=Fe});var Et=yt.children,Ct;Et.forEach(function(Fe,Ie){if(h.getPtId(Fe)===it)return Ct=Ie});var Vt=Et.length,Qe=i(yt.x0,yt.x1);at={rpx0:fe,rpx1:fe,x0:Qe(Ct/Vt),x1:Qe((Ct+1)/Vt)}}return i(et,at)}function He(We){var it=J[h.getPtId(We)],et,tt={x0:We.x0,x1:We.x1,rpx0:We.rpx0,rpx1:We.rpx1};if(it)et=it;else if(X)if(We.parent)if(Be){var at=(We.x1>Be?2*Math.PI:0)+le;et={x0:at,x1:at}}else et={rpx0:fe,rpx1:fe},A.extendFlat(et,ke(We));else et={rpx0:0,rpx1:0};else et={x0:le,x1:le};return i(et,tt)}function Ge(We){var it=J[h.getPtId(We)],et,tt=We.transform;if(it)et=it;else if(et={rpx1:We.rpx1,transform:{textPosAngle:tt.textPosAngle,scale:0,rotate:tt.rotate,rCenter:tt.rCenter,x:tt.x,y:tt.y}},X)if(We.parent)if(Be){var at=We.x1>Be?2*Math.PI:0;et.x0=et.x1=at}else A.extendFlat(et,ke(We));else et.x0=et.x1=le;else et.x0=et.x1=le;var ht=i(et.transform.textPosAngle,We.transform.textPosAngle),yt=i(et.rpx1,We.rpx1),gt=i(et.x0,We.x0),Et=i(et.x1,We.x1),Ct=i(et.transform.scale,tt.scale),Vt=i(et.transform.rotate,tt.rotate),Qe=tt.rCenter===0?3:et.transform.rCenter===0?1/3:1,Fe=i(et.transform.rCenter,tt.rCenter),Ie=function(ze){return Fe(Math.pow(ze,Qe))};return function(ze){var Re=yt(ze),be=gt(ze),ye=Et(ze),Ae=Ie(ze),Ee=me(Re,(be+ye)/2),Ne=ht(ze),Je={pxmid:Ee,rpx1:Re,transform:{textPosAngle:Ne,rCenter:Ae,x:tt.x,y:tt.y}};return t(O.type,tt,y),{transform:{targetX:we(Je),targetY:Oe(Je),scale:Ct(ze),rotate:Vt(ze),rCenter:Ae}}}}function ke(We){var it=We.parent,et=J[h.getPtId(it)],tt={};if(et){var at=it.children,ht=at.indexOf(We),yt=at.length,gt=i(et.x0,et.x1);tt.x0=gt(ht/yt),tt.x1=gt(ht/yt)}else tt.x0=tt.x1=0;return tt}}function d(x){return P.partition().size([2*Math.PI,x.height+1])(x)}H.formatSliceLabel=function(x,S,b,a,C){var y=b.texttemplate,z=b.textinfo;if(!y&&(!z||z==="none"))return"";var I=C.separators,B=a[0],F=x.data.data,O=B.hierarchy,N=h.isHierarchyRoot(x),_=h.getParent(O,x),U=h.getValue(x);if(!y){var Y=z.split("+"),K=function(q){return Y.indexOf(q)!==-1},re=[],ae;if(K("label")&&F.label&&re.push(F.label),F.hasOwnProperty("v")&&K("value")&&re.push(h.formatValue(F.v,I)),!N){K("current path")&&re.push(h.getPath(x.data));var fe=0;K("percent parent")&&fe++,K("percent entry")&&fe++,K("percent root")&&fe++;var Q=fe>1;if(fe){var j,X=function(q){ae=h.formatPercent(j,I),Q&&(ae+=" of "+q),re.push(ae)};K("percent parent")&&!N&&(j=U/h.getValue(_),X("parent")),K("percent entry")&&(j=U/h.getValue(S),X("entry")),K("percent root")&&(j=U/h.getValue(O),X("root"))}}return K("text")&&(ae=A.castOption(b,F.i,"text"),A.isValidTextValue(ae)&&re.push(ae)),re.join("<br>")}var J=A.castOption(b,F.i,"texttemplate");if(!J)return"";var ee={};F.label&&(ee.label=F.label),F.hasOwnProperty("v")&&(ee.value=F.v,ee.valueLabel=h.formatValue(F.v,I)),ee.currentPath=h.getPath(x.data),N||(ee.percentParent=U/h.getValue(_),ee.percentParentLabel=h.formatPercent(ee.percentParent,I),ee.parent=h.getPtLabel(_)),ee.percentEntry=U/h.getValue(S),ee.percentEntryLabel=h.formatPercent(ee.percentEntry,I),ee.entry=h.getPtLabel(S),ee.percentRoot=U/h.getValue(O),ee.percentRootLabel=h.formatPercent(ee.percentRoot,I),ee.root=h.getPtLabel(O),F.hasOwnProperty("color")&&(ee.color=F.color);var se=A.castOption(b,F.i,"text");return(A.isValidTextValue(se)||se==="")&&(ee.text=se),ee.customdata=A.castOption(b,F.i,"customdata"),A.texttemplateString(J,ee,C._d3locale,ee,b._meta||{})};function M(x){return x.rpx0===0&&A.isFullCircle([x.x0,x.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(x.halfangle)),x.ring/2))}function T(x){return E(x.rpx1,x.transform.textPosAngle)}function E(x,S){return[x*Math.sin(S),-x*Math.cos(S)]}},29969:function(W,H,e){var g=e(39898),P=e(7901),i=e(71828),L=e(72597).resizeText,A=e(43467);function v(t){var r=t._fullLayout._sunburstlayer.selectAll(".trace");L(t,r,"sunburst"),r.each(function(s){var n=g.select(this),l=s[0],f=l.trace;n.style("opacity",f.opacity),n.selectAll("path.surface").each(function(u){g.select(this).call(p,u,f,t)})})}function p(t,r,s,n){var l=r.data.data,f=!r.children,u=l.i,m=i.castOption(s,u,"marker.line.color")||P.defaultLine,c=i.castOption(s,u,"marker.line.width")||0;t.call(A,r,s,n).style("stroke-width",c).call(P.stroke,m).style("opacity",f?s.leaf.opacity:null)}W.exports={style:v,styleOne:p}},54532:function(W,H,e){var g=e(7901),P=e(50693),i=e(12663).axisHoverFormat,L=e(5386).fF,A=e(9012),v=e(1426).extendFlat,p=e(30962).overrideAll;function t(n){return{valType:"boolean",dflt:!1}}function r(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:t(),y:t(),z:t()},color:{valType:"color",dflt:g.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:g.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var s=W.exports=p(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:L(),xhoverformat:i("x"),yhoverformat:i("y"),zhoverformat:i("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},P("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:r(),y:r(),z:r()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},P.zauto,{}),zmin:v({},P.zmin,{}),zmax:v({},P.zmax,{})},hoverinfo:v({},A.hoverinfo),showlegend:v({},A.showlegend,{dflt:!1})}),"calc","nested");s.x.editType=s.y.editType=s.z.editType="calc+clearAxisTypes",s.transforms=void 0},18396:function(W,H,e){var g=e(78803);W.exports=function(i,L){L.surfacecolor?g(i,L,{vals:L.surfacecolor,containerStr:"",cLetter:"c"}):g(i,L,{vals:L.z,containerStr:"",cLetter:"c"})}},43768:function(W,H,e){var g=e(9330).gl_surface3d,P=e(9330).ndarray,i=e(9330).ndarray_linear_interpolate.d2,L=e(824),A=e(43907),v=e(71828).isArrayOrTypedArray,p=e(81697).parseColorScale,t=e(78614),r=e(21081).extractOpts;function s(a,C,y){this.scene=a,this.uid=y,this.surface=C,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=s.prototype;n.getXat=function(a,C,y,z){var I=v(this.data.x)?v(this.data.x[0])?this.data.x[C][a]:this.data.x[a]:a;return y===void 0?I:z.d2l(I,0,y)},n.getYat=function(a,C,y,z){var I=v(this.data.y)?v(this.data.y[0])?this.data.y[C][a]:this.data.y[C]:C;return y===void 0?I:z.d2l(I,0,y)},n.getZat=function(a,C,y,z){var I=this.data.z[C][a];return I===null&&this.data.connectgaps&&this.data._interpolatedZ&&(I=this.data._interpolatedZ[C][a]),y===void 0?I:z.d2l(I,0,y)},n.handlePick=function(a){if(a.object===this.surface){var C=(a.data.index[0]-1)/this.dataScaleX-1,y=(a.data.index[1]-1)/this.dataScaleY-1,z=Math.max(Math.min(Math.round(C),this.data.z[0].length-1),0),I=Math.max(Math.min(Math.round(y),this.data._ylength-1),0);a.index=[z,I],a.traceCoordinate=[this.getXat(z,I),this.getYat(z,I),this.getZat(z,I)],a.dataCoordinate=[this.getXat(z,I,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(z,I,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(z,I,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var B=0;B<3;B++){var F=a.dataCoordinate[B];F!=null&&(a.dataCoordinate[B]*=this.scene.dataScale[B])}var O=this.data.hovertext||this.data.text;return Array.isArray(O)&&O[I]&&O[I][z]!==void 0?a.textLabel=O[I][z]:O?a.textLabel=O:a.textLabel="",a.data.dataCoordinate=a.dataCoordinate.slice(),this.surface.highlight(a.data),this.scene.glplot.spikes.position=a.dataCoordinate,!0}};function l(a){var C=a[0].rgb,y=a[a.length-1].rgb;return C[0]===y[0]&&C[1]===y[1]&&C[2]===y[2]&&C[3]===y[3]}var f=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function u(a,C){if(a<C)return 0;for(var y=0;Math.floor(a%C)===0;)a/=C,y++;return y}function m(a){for(var C=[],y=0;y<f.length;y++){var z=f[y];C.push(u(a,z))}return C}function c(a){for(var C=m(a),y=a,z=0;z<f.length;z++)if(C[z]>0){y=f[z];break}return y}function w(a,C){if(!(a<1||C<1)){for(var y=m(a),z=m(C),I=1,B=0;B<f.length;B++)I*=Math.pow(f[B],Math.max(y[B],z[B]));return I}}function h(a){if(a.length!==0){for(var C=1,y=0;y<a.length;y++)C=w(C,a[y]);return C}}n.calcXnums=function(a){var C,y=[];for(C=1;C<a;C++){var z=this.getXat(C-1,0),I=this.getXat(C,0);I!==z&&z!==void 0&&z!==null&&I!==void 0&&I!==null?y[C-1]=Math.abs(I-z):y[C-1]=0}var B=0;for(C=1;C<a;C++)B+=y[C-1];for(C=1;C<a;C++)y[C-1]===0?y[C-1]=1:y[C-1]=Math.round(B/y[C-1]);return y},n.calcYnums=function(a){var C,y=[];for(C=1;C<a;C++){var z=this.getYat(0,C-1),I=this.getYat(0,C);I!==z&&z!==void 0&&z!==null&&I!==void 0&&I!==null?y[C-1]=Math.abs(I-z):y[C-1]=0}var B=0;for(C=1;C<a;C++)B+=y[C-1];for(C=1;C<a;C++)y[C-1]===0?y[C-1]=1:y[C-1]=Math.round(B/y[C-1]);return y};var o=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],d=o[9],M=o[13];n.estimateScale=function(a,C){for(var y=C===0?this.calcXnums(a):this.calcYnums(a),z=1+h(y);z<d;)z*=2;for(;z>M;)z--,z/=c(z),z++,z<d&&(z=M);var I=Math.round(z/a);return I>1?I:1};function T(a,C,y){var z=y[8]+y[2]*C[0]+y[5]*C[1];return a[0]=(y[6]+y[0]*C[0]+y[3]*C[1])/z,a[1]=(y[7]+y[1]*C[0]+y[4]*C[1])/z,a}function E(a,C,y){return x(a,C,T,y),a}function x(a,C,y,z){for(var I=[0,0],B=a.shape[0],F=a.shape[1],O=0;O<B;O++)for(var N=0;N<F;N++)y(I,[O,N],z),a.set(O,N,i(C,I[0],I[1]));return a}n.refineCoords=function(a){for(var C=this.dataScaleX,y=this.dataScaleY,z=a[0].shape[0],I=a[0].shape[1],B=Math.floor(a[0].shape[0]*C+1)|0,F=Math.floor(a[0].shape[1]*y+1)|0,O=1+z+1,N=1+I+1,_=P(new Float32Array(O*N),[O,N]),U=[1/C,0,0,0,1/y,0,0,0,1],Y=0;Y<a.length;++Y){this.surface.padField(_,a[Y]);var K=P(new Float32Array(B*F),[B,F]);E(K,_,U),a[Y]=K}};function S(a,C){for(var y=!1,z=0;z<a.length;z++)if(C===a[z]){y=!0;break}y===!1&&a.push(C)}n.setContourLevels=function(){var a=[[],[],[]],C=[!1,!1,!1],y=!1,z,I,B;for(z=0;z<3;++z)if(this.showContour[z]&&(y=!0,this.contourSize[z]>0&&this.contourStart[z]!==null&&this.contourEnd[z]!==null&&this.contourEnd[z]>this.contourStart[z]))for(C[z]=!0,I=this.contourStart[z];I<this.contourEnd[z];I+=this.contourSize[z])B=I*this.scene.dataScale[z],S(a[z],B);if(y){var F=[[],[],[]];for(z=0;z<3;++z)this.showContour[z]&&(F[z]=C[z]?a[z]:this.scene.contourLevels[z]);this.surface.update({levels:F})}},n.update=function(a){var C=this.scene,y=C.fullSceneLayout,z=this.surface,I=p(a),B=C.dataScale,F=a.z[0].length,O=a._ylength,N=C.contourLevels;this.data=a;var _,U,Y,K,re=[];for(_=0;_<3;_++)for(re[_]=[],U=0;U<F;U++)re[_][U]=[];for(U=0;U<F;U++)for(Y=0;Y<O;Y++)re[0][U][Y]=this.getXat(U,Y,a.xcalendar,y.xaxis),re[1][U][Y]=this.getYat(U,Y,a.ycalendar,y.yaxis),re[2][U][Y]=this.getZat(U,Y,a.zcalendar,y.zaxis);if(a.connectgaps)for(a._emptypoints=A(re[2]),L(re[2],a._emptypoints),a._interpolatedZ=[],U=0;U<F;U++)for(a._interpolatedZ[U]=[],Y=0;Y<O;Y++)a._interpolatedZ[U][Y]=re[2][U][Y];for(_=0;_<3;_++)for(U=0;U<F;U++)for(Y=0;Y<O;Y++)K=re[_][U][Y],K==null?re[_][U][Y]=NaN:K=re[_][U][Y]*=B[_];for(_=0;_<3;_++)for(U=0;U<F;U++)for(Y=0;Y<O;Y++)K=re[_][U][Y],K!=null&&(this.minValues[_]>K&&(this.minValues[_]=K),this.maxValues[_]<K&&(this.maxValues[_]=K));for(_=0;_<3;_++)this.objectOffset[_]=.5*(this.minValues[_]+this.maxValues[_]);for(_=0;_<3;_++)for(U=0;U<F;U++)for(Y=0;Y<O;Y++)K=re[_][U][Y],K!=null&&(re[_][U][Y]-=this.objectOffset[_]);var ae=[P(new Float32Array(F*O),[F,O]),P(new Float32Array(F*O),[F,O]),P(new Float32Array(F*O),[F,O])];for(_=0;_<3;_++)for(U=0;U<F;U++)for(Y=0;Y<O;Y++)ae[_].set(U,Y,re[_][U][Y]);re=[];var fe={colormap:I,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!a.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:a.opacityscale,opacity:a.opacity},Q=r(a);if(fe.intensityBounds=[Q.min,Q.max],a.surfacecolor){var j=P(new Float32Array(F*O),[F,O]);for(U=0;U<F;U++)for(Y=0;Y<O;Y++)j.set(U,Y,a.surfacecolor[Y][U]);ae.push(j)}else fe.intensityBounds[0]*=B[2],fe.intensityBounds[1]*=B[2];(M<ae[0].shape[0]||M<ae[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(ae[0].shape[0],0),this.dataScaleY=this.estimateScale(ae[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(ae)),a.surfacecolor&&(fe.intensity=ae.pop());var X=[!0,!0,!0],J=["x","y","z"];for(_=0;_<3;++_){var ee=a.contours[J[_]];X[_]=ee.highlight,fe.showContour[_]=ee.show||ee.highlight,fe.showContour[_]&&(fe.contourProject[_]=[ee.project.x,ee.project.y,ee.project.z],ee.show?(this.showContour[_]=!0,fe.levels[_]=N[_],z.highlightColor[_]=fe.contourColor[_]=t(ee.color),ee.usecolormap?z.highlightTint[_]=fe.contourTint[_]=0:z.highlightTint[_]=fe.contourTint[_]=1,fe.contourWidth[_]=ee.width,this.contourStart[_]=ee.start,this.contourEnd[_]=ee.end,this.contourSize[_]=ee.size):(this.showContour[_]=!1,this.contourStart[_]=null,this.contourEnd[_]=null,this.contourSize[_]=0),ee.highlight&&(fe.dynamicColor[_]=t(ee.highlightcolor),fe.dynamicWidth[_]=ee.highlightwidth))}l(I)&&(fe.vertexColor=!0),fe.objectOffset=this.objectOffset,fe.coords=ae,z.update(fe),z.visible=a.visible,z.enableDynamic=X,z.enableHighlight=X,z.snapToData=!0,"lighting"in a&&(z.ambientLight=a.lighting.ambient,z.diffuseLight=a.lighting.diffuse,z.specularLight=a.lighting.specular,z.roughness=a.lighting.roughness,z.fresnel=a.lighting.fresnel),"lightposition"in a&&(z.lightPosition=[a.lightposition.x,a.lightposition.y,a.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function b(a,C){var y=a.glplot.gl,z=g({gl:y}),I=new s(a,z,C.uid);return z._trace=I,I.update(C),a.glplot.add(z),I}W.exports=b},91831:function(W,H,e){var g=e(73972),P=e(71828),i=e(1586),L=e(54532),A=.1;function v(n,l){for(var f=[],u=32,m=0;m<u;m++){var c=m/(u-1),w=l+(1-l)*(1-Math.pow(Math.sin(n*c*Math.PI),2));f.push([c,Math.max(0,Math.min(1,w))])}return f}function p(n){var l=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var f=0;f<n.length;f++){var u=n[f];if(u.length!==2||+u[0]<l)return!1;l=+u[0]}return!0}function t(n,l,f,u){var m,c;function w(a,C){return P.coerce(n,l,L,a,C)}var h=w("x"),o=w("y"),d=w("z");if(!d||!d.length||h&&h.length<1||o&&o.length<1){l.visible=!1;return}l._xlength=Array.isArray(h)&&P.isArrayOrTypedArray(h[0])?d.length:d[0].length,l._ylength=d.length;var M=g.getComponentMethod("calendars","handleTraceDefaults");M(n,l,["x","y","z"],u),w("text"),w("hovertext"),w("hovertemplate"),w("xhoverformat"),w("yhoverformat"),w("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(a){w(a)});var T=w("surfacecolor"),E=["x","y","z"];for(m=0;m<3;++m){var x="contours."+E[m],S=w(x+".show"),b=w(x+".highlight");if(S||b)for(c=0;c<3;++c)w(x+".project."+E[c]);S&&(w(x+".color"),w(x+".width"),w(x+".usecolormap")),b&&(w(x+".highlightcolor"),w(x+".highlightwidth")),w(x+".start"),w(x+".end"),w(x+".size")}T||(s(n,"zmin","cmin"),s(n,"zmax","cmax"),s(n,"zauto","cauto")),i(n,l,u,w,{prefix:"",cLetter:"c"}),r(n,l,u,w),l._length=null}function r(n,l,f,u){var m=u("opacityscale");m==="max"?l.opacityscale=[[0,A],[1,1]]:m==="min"?l.opacityscale=[[0,1],[1,A]]:m==="extremes"?l.opacityscale=v(1,A):p(m)||(l.opacityscale=void 0)}function s(n,l,f){l in n&&!(f in n)&&(n[f]=n[l])}W.exports={supplyDefaults:t,opacityscaleDefaults:r}},93601:function(W,H,e){W.exports={attributes:e(54532),supplyDefaults:e(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(18396),plot:e(43768),moduleType:"trace",name:"surface",basePlotModule:e(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(W,H,e){var g=e(50215),P=e(1426).extendFlat,i=e(30962).overrideAll,L=e(41940),A=e(27670).Y,v=e(12663).descriptionOnlyNumbers,p=W.exports=i({domain:A({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:P({},g.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},L({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:P({},g.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},L({arrayOk:!0}))}},"calc","from-root");p.transforms=void 0},99469:function(W,H,e){var g=e(27659).a0,P=e(36736),i="table";H.name=i,H.plot=function(L){var A=g(L.calcdata,i)[0];A.length&&P(L,A)},H.clean=function(L,A,v,p){var t=p._has&&p._has(i),r=A._has&&A._has(i);t&&!r&&p._paperdiv.selectAll(".table").remove()}},76333:function(W,H,e){var g=e(28984).wrap;W.exports=function(){return g({})}},49850:function(W){W.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(W,H,e){var g=e(49850),P=e(1426).extendFlat,i=e(92770);W.exports=function(f,u){var m=v(u.cells.values),c=function(U){return U.slice(u.header.values.length,U.length)},w=v(u.header.values);w.length&&!w[0].length&&(w[0]=[""],w=v(w));var h=w.concat(c(m).map(function(){return p((w[0]||[""]).length)})),o=u.domain,d=Math.floor(f._fullLayout._size.w*(o.x[1]-o.x[0])),M=Math.floor(f._fullLayout._size.h*(o.y[1]-o.y[0])),T=u.header.values.length?h[0].map(function(){return u.header.height}):[g.emptyHeaderHeight],E=m.length?m[0].map(function(){return u.cells.height}):[],x=T.reduce(A,0),S=M-x,b=S+g.uplift,a=s(E,b),C=s(T,x),y=r(C,[]),z=r(a,y),I={},B=u._fullInput.columnorder.concat(c(m.map(function(U,Y){return Y}))),F=h.map(function(U,Y){var K=Array.isArray(u.columnwidth)?u.columnwidth[Math.min(Y,u.columnwidth.length-1)]:u.columnwidth;return i(K)?Number(K):1}),O=F.reduce(A,0);F=F.map(function(U){return U/O*d});var N=Math.max(L(u.header.line.width),L(u.cells.line.width)),_={key:u.uid+f._context.staticPlot,translateX:o.x[0]*f._fullLayout._size.w,translateY:f._fullLayout._size.h*(1-o.y[1]),size:f._fullLayout._size,width:d,maxLineWidth:N,height:M,columnOrder:B,groupHeight:M,rowBlocks:z,headerRowBlocks:y,scrollY:0,cells:P({},u.cells,{values:m}),headerCells:P({},u.header,{values:h}),gdColumns:h.map(function(U){return U[0]}),gdColumnsOriginalOrder:h.map(function(U){return U[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:h.map(function(U,Y){var K=I[U];I[U]=(K||0)+1;var re=U+"__"+I[U];return{key:re,label:U,specIndex:Y,xIndex:B[Y],xScale:t,x:void 0,calcdata:void 0,columnWidth:F[Y]}})};return _.columns.forEach(function(U){U.calcdata=_,U.x=t(U)}),_};function L(l){if(Array.isArray(l)){for(var f=0,u=0;u<l.length;u++)f=Math.max(f,L(l[u]));return f}return l}function A(l,f){return l+f}function v(l){var f=l.slice(),u=1/0,m=0,c;for(c=0;c<f.length;c++)Array.isArray(f[c])||(f[c]=[f[c]]),u=Math.min(u,f[c].length),m=Math.max(m,f[c].length);if(u!==m)for(c=0;c<f.length;c++){var w=m-f[c].length;w&&(f[c]=f[c].concat(p(w)))}return f}function p(l){for(var f=new Array(l),u=0;u<l;u++)f[u]="";return f}function t(l){return l.calcdata.columns.reduce(function(f,u){return u.xIndex<l.xIndex?f+u.columnWidth:f},0)}function r(l,f){var u=Object.keys(l);return u.map(function(m){return P({},l[m],{auxiliaryBlocks:f})})}function s(l,f){for(var u={},m,c=0,w=0,h=n(),o=0,d=0,M=0;M<l.length;M++)m=l[M],h.rows.push({rowIndex:M,rowHeight:m}),w+=m,(w>=f||M===l.length-1)&&(u[c]=h,h.key=d++,h.firstRowIndex=o,h.lastRowIndex=M,h=n(),c+=w,o=M+1,w=0);return u}function n(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},56269:function(W,H,e){var g=e(1426).extendFlat;H.splitToPanels=function(i){var L=[0,0],A=g({},i,{key:"header",type:"header",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!0,values:i.calcdata.headerCells.values[i.specIndex],rowBlocks:i.calcdata.headerRowBlocks,calcdata:g({},i.calcdata,{cells:i.calcdata.headerCells})}),v=g({},i,{key:"cells1",type:"cells",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:i.calcdata.cells.values[i.specIndex],rowBlocks:i.calcdata.rowBlocks}),p=g({},i,{key:"cells2",type:"cells",page:1,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:i.calcdata.cells.values[i.specIndex],rowBlocks:i.calcdata.rowBlocks});return[v,p,A]},H.splitToCells=function(i){var L=P(i);return(i.values||[]).slice(L[0],L[1]).map(function(A,v){var p=typeof A=="string"&&A.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:v+p,key:L[0]+v,column:i,calcdata:i.calcdata,page:i.page,rowBlocks:i.rowBlocks,value:A}})};function P(i){var L=i.rowBlocks[i.page],A=L?L.rows[0].rowIndex:0,v=L?A+L.rows.length:0;return[A,v]}},39754:function(W,H,e){var g=e(71828),P=e(44464),i=e(27670).c;function L(A,v){for(var p=A.columnorder||[],t=A.header.values.length,r=p.slice(0,t),s=r.slice().sort(function(f,u){return f-u}),n=r.map(function(f){return s.indexOf(f)}),l=n.length;l<t;l++)n.push(l);v("columnorder",n)}W.exports=function(v,p,t,r){function s(n,l){return g.coerce(v,p,P,n,l)}i(p,r,s),s("columnwidth"),s("header.values"),s("header.format"),s("header.align"),s("header.prefix"),s("header.suffix"),s("header.height"),s("header.line.width"),s("header.line.color"),s("header.fill.color"),g.coerceFont(s,"header.font",g.extendFlat({},r.font)),L(p,s),s("cells.values"),s("cells.format"),s("cells.align"),s("cells.prefix"),s("cells.suffix"),s("cells.height"),s("cells.line.width"),s("cells.line.color"),s("cells.fill.color"),g.coerceFont(s,"cells.font",g.extendFlat({},r.font)),p._length=null}},96595:function(W,H,e){W.exports={attributes:e(44464),supplyDefaults:e(39754),calc:e(76333),plot:e(36736),moduleType:"trace",name:"table",basePlotModule:e(99469),categories:["noOpacity"],meta:{}}},36736:function(W,H,e){var g=e(49850),P=e(39898),i=e(71828),L=i.numberFormat,A=e(28984),v=e(91424),p=e(63893),t=e(71828).raiseToTop,r=e(71828).strTranslate,s=e(71828).cancelTransition,n=e(51018),l=e(56269),f=e(7901);W.exports=function(le,ie){var ce=!le._context.staticPlot,me=le._fullLayout._paper.selectAll("."+g.cn.table).data(ie.map(function(tt){var at=A.unwrap(tt),ht=at.trace;return n(le,ht)}),A.keyFun);me.exit().remove(),me.enter().append("g").classed(g.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),me.attr("width",function(tt){return tt.width+tt.size.l+tt.size.r}).attr("height",function(tt){return tt.height+tt.size.t+tt.size.b}).attr("transform",function(tt){return r(tt.translateX,tt.translateY)});var Me=me.selectAll("."+g.cn.tableControlView).data(A.repeat,A.keyFun),we=Me.enter().append("g").classed(g.cn.tableControlView,!0).style("box-sizing","content-box");if(ce){var Oe="onwheel"in document?"wheel":"mousewheel";we.on("mousemove",function(tt){Me.filter(function(at){return tt===at}).call(h,le)}).on(Oe,function(tt){if(!tt.scrollbarState.wheeling){tt.scrollbarState.wheeling=!0;var at=tt.scrollY+P.event.deltaY,ht=K(le,Me,null,at)(tt);ht||(P.event.stopPropagation(),P.event.preventDefault()),tt.scrollbarState.wheeling=!1}}).call(h,le,!0)}Me.attr("transform",function(tt){return r(tt.size.l,tt.size.t)});var Be=Me.selectAll("."+g.cn.scrollBackground).data(A.repeat,A.keyFun);Be.enter().append("rect").classed(g.cn.scrollBackground,!0).attr("fill","none"),Be.attr("width",function(tt){return tt.width}).attr("height",function(tt){return tt.height}),Me.each(function(tt){v.setClipUrl(P.select(this),m(le,tt),le)});var Ce=Me.selectAll("."+g.cn.yColumn).data(function(tt){return tt.columns},A.keyFun);Ce.enter().append("g").classed(g.cn.yColumn,!0),Ce.exit().remove(),Ce.attr("transform",function(tt){return r(tt.x,0)}),ce&&Ce.call(P.behavior.drag().origin(function(tt){var at=P.select(this);return F(at,tt,-g.uplift),t(this),tt.calcdata.columnDragInProgress=!0,h(Me.filter(function(ht){return tt.calcdata.key===ht.key}),le),tt}).on("drag",function(tt){var at=P.select(this),ht=function(Et){return(tt===Et?P.event.x:Et.x)+Et.columnWidth/2};tt.x=Math.max(-g.overdrag,Math.min(tt.calcdata.width+g.overdrag-tt.columnWidth,P.event.x));var yt=w(Ce).filter(function(Et){return Et.calcdata.key===tt.calcdata.key}),gt=yt.sort(function(Et,Ct){return ht(Et)-ht(Ct)});gt.forEach(function(Et,Ct){Et.xIndex=Ct,Et.x=tt===Et?Et.x:Et.xScale(Et)}),Ce.filter(function(Et){return tt!==Et}).transition().ease(g.transitionEase).duration(g.transitionDuration).attr("transform",function(Et){return r(Et.x,0)}),at.call(s).attr("transform",r(tt.x,-g.uplift))}).on("dragend",function(tt){var at=P.select(this),ht=tt.calcdata;tt.x=tt.xScale(tt),tt.calcdata.columnDragInProgress=!1,F(at,tt,0),I(le,ht,ht.columns.map(function(yt){return yt.xIndex}))})),Ce.each(function(tt){v.setClipUrl(P.select(this),c(le,tt),le)});var xe=Ce.selectAll("."+g.cn.columnBlock).data(l.splitToPanels,A.keyFun);xe.enter().append("g").classed(g.cn.columnBlock,!0).attr("id",function(tt){return tt.key}),xe.style("cursor",function(tt){return tt.dragHandle?"ew-resize":tt.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Se=xe.filter(N),He=xe.filter(O);ce&&He.call(P.behavior.drag().origin(function(tt){return P.event.stopPropagation(),tt}).on("drag",K(le,Me,-1)).on("dragend",function(){})),o(le,Me,Se,xe),o(le,Me,He,xe);var Ge=Me.selectAll("."+g.cn.scrollAreaClip).data(A.repeat,A.keyFun);Ge.enter().append("clipPath").classed(g.cn.scrollAreaClip,!0).attr("id",function(tt){return m(le,tt)});var ke=Ge.selectAll("."+g.cn.scrollAreaClipRect).data(A.repeat,A.keyFun);ke.enter().append("rect").classed(g.cn.scrollAreaClipRect,!0).attr("x",-g.overdrag).attr("y",-g.uplift).attr("fill","none"),ke.attr("width",function(tt){return tt.width+2*g.overdrag}).attr("height",function(tt){return tt.height+g.uplift});var We=Ce.selectAll("."+g.cn.columnBoundary).data(A.repeat,A.keyFun);We.enter().append("g").classed(g.cn.columnBoundary,!0);var it=Ce.selectAll("."+g.cn.columnBoundaryClippath).data(A.repeat,A.keyFun);it.enter().append("clipPath").classed(g.cn.columnBoundaryClippath,!0),it.attr("id",function(tt){return c(le,tt)});var et=it.selectAll("."+g.cn.columnBoundaryRect).data(A.repeat,A.keyFun);et.enter().append("rect").classed(g.cn.columnBoundaryRect,!0).attr("fill","none"),et.attr("width",function(tt){return tt.columnWidth+2*u(tt)}).attr("height",function(tt){return tt.calcdata.height+2*u(tt)+g.uplift}).attr("x",function(tt){return-u(tt)}).attr("y",function(tt){return-u(tt)}),Y(null,He,Me)};function u($){return Math.ceil($.calcdata.maxLineWidth/2)}function m($,le){return"clip"+$._fullLayout._uid+"_scrollAreaBottomClip_"+le.key}function c($,le){return"clip"+$._fullLayout._uid+"_columnBoundaryClippath_"+le.calcdata.key+"_"+le.specIndex}function w($){return[].concat.apply([],$.map(function(le){return le})).map(function(le){return le.__data__})}function h($,le,ie){function ce(Ce){var xe=Ce.rowBlocks;return X(xe,xe.length-1)+(xe.length?J(xe[xe.length-1],1/0):1)}var me=$.selectAll("."+g.cn.scrollbarKit).data(A.repeat,A.keyFun);me.enter().append("g").classed(g.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),me.each(function(Ce){var xe=Ce.scrollbarState;xe.totalHeight=ce(Ce),xe.scrollableAreaHeight=Ce.groupHeight-_(Ce),xe.currentlyVisibleHeight=Math.min(xe.totalHeight,xe.scrollableAreaHeight),xe.ratio=xe.currentlyVisibleHeight/xe.totalHeight,xe.barLength=Math.max(xe.ratio*xe.currentlyVisibleHeight,g.goldenRatio*g.scrollbarWidth),xe.barWiggleRoom=xe.currentlyVisibleHeight-xe.barLength,xe.wiggleRoom=Math.max(0,xe.totalHeight-xe.scrollableAreaHeight),xe.topY=xe.barWiggleRoom===0?0:Ce.scrollY/xe.wiggleRoom*xe.barWiggleRoom,xe.bottomY=xe.topY+xe.barLength,xe.dragMultiplier=xe.wiggleRoom/xe.barWiggleRoom}).attr("transform",function(Ce){var xe=Ce.width+g.scrollbarWidth/2+g.scrollbarOffset;return r(xe,_(Ce))});var Me=me.selectAll("."+g.cn.scrollbar).data(A.repeat,A.keyFun);Me.enter().append("g").classed(g.cn.scrollbar,!0);var we=Me.selectAll("."+g.cn.scrollbarSlider).data(A.repeat,A.keyFun);we.enter().append("g").classed(g.cn.scrollbarSlider,!0),we.attr("transform",function(Ce){return r(0,Ce.scrollbarState.topY||0)});var Oe=we.selectAll("."+g.cn.scrollbarGlyph).data(A.repeat,A.keyFun);Oe.enter().append("line").classed(g.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",g.scrollbarWidth).attr("stroke-linecap","round").attr("y1",g.scrollbarWidth/2),Oe.attr("y2",function(Ce){return Ce.scrollbarState.barLength-g.scrollbarWidth/2}).attr("stroke-opacity",function(Ce){return Ce.columnDragInProgress||!Ce.scrollbarState.barWiggleRoom||ie?0:.4}),Oe.transition().delay(0).duration(0),Oe.transition().delay(g.scrollbarHideDelay).duration(g.scrollbarHideDuration).attr("stroke-opacity",0);var Be=Me.selectAll("."+g.cn.scrollbarCaptureZone).data(A.repeat,A.keyFun);Be.enter().append("line").classed(g.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",g.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Ce){var xe=P.event.y,Se=this.getBoundingClientRect(),He=Ce.scrollbarState,Ge=xe-Se.top,ke=P.scale.linear().domain([0,He.scrollableAreaHeight]).range([0,He.totalHeight]).clamp(!0);He.topY<=Ge&&Ge<=He.bottomY||K(le,$,null,ke(Ge-He.barLength/2))(Ce)}).call(P.behavior.drag().origin(function(Ce){return P.event.stopPropagation(),Ce.scrollbarState.scrollbarScrollInProgress=!0,Ce}).on("drag",K(le,$)).on("dragend",function(){})),Be.attr("y2",function(Ce){return Ce.scrollbarState.scrollableAreaHeight}),le._context.staticPlot&&(Oe.remove(),Be.remove())}function o($,le,ie,ce){var me=d(ie),Me=M(me);S(Me);var we=T(Me);a(we);var Oe=x(Me),Be=E(Oe);b(Be),C(Be,le,ce,$),j(Me)}function d($){var le=$.selectAll("."+g.cn.columnCells).data(A.repeat,A.keyFun);return le.enter().append("g").classed(g.cn.columnCells,!0),le.exit().remove(),le}function M($){var le=$.selectAll("."+g.cn.columnCell).data(l.splitToCells,function(ie){return ie.keyWithinBlock});return le.enter().append("g").classed(g.cn.columnCell,!0),le.exit().remove(),le}function T($){var le=$.selectAll("."+g.cn.cellRect).data(A.repeat,function(ie){return ie.keyWithinBlock});return le.enter().append("rect").classed(g.cn.cellRect,!0),le}function E($){var le=$.selectAll("."+g.cn.cellText).data(A.repeat,function(ie){return ie.keyWithinBlock});return le.enter().append("text").classed(g.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){P.event.stopPropagation()}),le}function x($){var le=$.selectAll("."+g.cn.cellTextHolder).data(A.repeat,function(ie){return ie.keyWithinBlock});return le.enter().append("g").classed(g.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),le}function S($){$.each(function(le,ie){var ce=le.calcdata.cells.font,me=le.column.specIndex,Me={size:B(ce.size,me,ie),color:B(ce.color,me,ie),family:B(ce.family,me,ie)};le.rowNumber=le.key,le.align=B(le.calcdata.cells.align,me,ie),le.cellBorderWidth=B(le.calcdata.cells.line.width,me,ie),le.font=Me})}function b($){$.each(function(le){v.font(P.select(this),le.font)})}function a($){$.attr("width",function(le){return le.column.columnWidth}).attr("stroke-width",function(le){return le.cellBorderWidth}).each(function(le){var ie=P.select(this);f.stroke(ie,B(le.calcdata.cells.line.color,le.column.specIndex,le.rowNumber)),f.fill(ie,B(le.calcdata.cells.fill.color,le.column.specIndex,le.rowNumber))})}function C($,le,ie,ce){$.text(function(me){var Me=me.column.specIndex,we=me.rowNumber,Oe=me.value,Be=typeof Oe=="string",Ce=Be&&Oe.match(/<br>/i),xe=!Be||Ce;me.mayHaveMarkup=Be&&Oe.match(/[<&>]/);var Se=y(Oe);me.latex=Se;var He=Se?"":B(me.calcdata.cells.prefix,Me,we)||"",Ge=Se?"":B(me.calcdata.cells.suffix,Me,we)||"",ke=Se?null:B(me.calcdata.cells.format,Me,we)||null,We=He+(ke?L(ke)(me.value):me.value)+Ge,it;me.wrappingNeeded=!me.wrapped&&!xe&&!Se&&(it=z(We)),me.cellHeightMayIncrease=Ce||Se||me.mayHaveMarkup||(it===void 0?z(We):it),me.needsConvertToTspans=me.mayHaveMarkup||me.wrappingNeeded||me.latex;var et;if(me.wrappingNeeded){var tt=g.wrapSplitCharacter===" "?We.replace(/<a href=/ig,"<a_href="):We,at=tt.split(g.wrapSplitCharacter),ht=g.wrapSplitCharacter===" "?at.map(function(yt){return yt.replace(/<a_href=/ig,"<a href=")}):at;me.fragments=ht.map(function(yt){return{text:yt,width:null}}),me.fragments.push({fragment:g.wrapSpacer,width:null}),et=ht.join(g.lineBreaker)+g.lineBreaker+g.wrapSpacer}else delete me.fragments,et=We;return et}).attr("dy",function(me){return me.needsConvertToTspans?0:"0.75em"}).each(function(me){var Me=this,we=P.select(Me),Oe=me.wrappingNeeded?ae:fe;me.needsConvertToTspans?p.convertToTspans(we,ce,Oe(ie,Me,le,ce,me)):P.select(Me.parentNode).attr("transform",function(Be){return r(Q(Be),g.cellPad)}).attr("text-anchor",function(Be){return{left:"start",center:"middle",right:"end"}[Be.align]})})}function y($){return typeof $=="string"&&$.match(g.latexCheck)}function z($){return $.indexOf(g.wrapSplitCharacter)!==-1}function I($,le,ie){var ce=le.gdColumnsOriginalOrder;le.gdColumns.sort(function(me,Me){return ie[ce.indexOf(me)]-ie[ce.indexOf(Me)]}),le.columnorder=ie,$.emit("plotly_restyle")}function B($,le,ie){if(Array.isArray($)){var ce=$[Math.min(le,$.length-1)];return Array.isArray(ce)?ce[Math.min(ie,ce.length-1)]:ce}else return $}function F($,le,ie){$.transition().ease(g.releaseTransitionEase).duration(g.releaseTransitionDuration).attr("transform",r(le.x,ie))}function O($){return $.type==="cells"}function N($){return $.type==="header"}function _($){var le=$.rowBlocks.length?$.rowBlocks[0].auxiliaryBlocks:[];return le.reduce(function(ie,ce){return ie+J(ce,1/0)},0)}function U($,le,ie){for(var ce=[],me=0,Me=0;Me<$.length;Me++){for(var we=$[Me],Oe=we.rows,Be=0,Ce=0;Ce<Oe.length;Ce++)Be+=Oe[Ce].rowHeight;we.allRowsHeight=Be;var xe=me+Be,Se=le,He=Se+ie;Se<xe&&He>me&&ce.push(Me),me+=Be}return ce}function Y($,le,ie){var ce=w(le)[0];if(ce!==void 0){var me=ce.rowBlocks,Me=ce.calcdata,we=X(me,me.length),Oe=ce.calcdata.groupHeight-_(ce),Be=Me.scrollY=Math.max(0,Math.min(we-Oe,Me.scrollY)),Ce=U(me,Be,Oe);Ce.length===1&&(Ce[0]===me.length-1?Ce.unshift(Ce[0]-1):Ce.push(Ce[0]+1)),Ce[0]%2&&Ce.reverse(),le.each(function(xe,Se){xe.page=Ce[Se],xe.scrollY=Be}),le.attr("transform",function(xe){var Se=X(xe.rowBlocks,xe.page)-xe.scrollY;return r(0,Se)}),$&&(re($,ie,le,Ce,ce.prevPages,ce,0),re($,ie,le,Ce,ce.prevPages,ce,1),h(ie,$))}}function K($,le,ie,ce){return function(Me){var we=Me.calcdata?Me.calcdata:Me,Oe=le.filter(function(Se){return we.key===Se.key}),Be=ie||we.scrollbarState.dragMultiplier,Ce=we.scrollY;we.scrollY=ce===void 0?we.scrollY+Be*P.event.dy:ce;var xe=Oe.selectAll("."+g.cn.yColumn).selectAll("."+g.cn.columnBlock).filter(O);return Y($,xe,Oe),we.scrollY===Ce}}function re($,le,ie,ce,me,Me,we){var Oe=ce[we]!==me[we];Oe&&(clearTimeout(Me.currentRepaint[we]),Me.currentRepaint[we]=setTimeout(function(){var Be=ie.filter(function(Ce,xe){return xe===we&&ce[xe]!==me[xe]});o($,le,Be,ie),me[we]=ce[we]}))}function ae($,le,ie,ce){return function(){var Me=P.select(le.parentNode);Me.each(function(we){var Oe=we.fragments;Me.selectAll("tspan.line").each(function(We,it){Oe[it].width=this.getComputedTextLength()});var Be=Oe[Oe.length-1].width,Ce=Oe.slice(0,-1),xe=[],Se,He,Ge=0,ke=we.column.columnWidth-2*g.cellPad;for(we.value="";Ce.length;)Se=Ce.shift(),He=Se.width+Be,Ge+He>ke&&(we.value+=xe.join(g.wrapSpacer)+g.lineBreaker,xe=[],Ge=0),xe.push(Se.text),Ge+=He;Ge&&(we.value+=xe.join(g.wrapSpacer)),we.wrapped=!0}),Me.selectAll("tspan.line").remove(),C(Me.select("."+g.cn.cellText),ie,$,ce),P.select(le.parentNode.parentNode).call(j)}}function fe($,le,ie,ce,me){return function(){if(!me.settledY){var we=P.select(le.parentNode),Oe=se(me),Be=me.key-Oe.firstRowIndex,Ce=Oe.rows[Be].rowHeight,xe=me.cellHeightMayIncrease?le.parentNode.getBoundingClientRect().height+2*g.cellPad:Ce,Se=Math.max(xe,Ce),He=Se-Oe.rows[Be].rowHeight;He&&(Oe.rows[Be].rowHeight=Se,$.selectAll("."+g.cn.columnCell).call(j),Y(null,$.filter(O),0),h(ie,ce,!0)),we.attr("transform",function(){var Ge=this,ke=Ge.parentNode,We=ke.getBoundingClientRect(),it=P.select(Ge.parentNode).select("."+g.cn.cellRect).node().getBoundingClientRect(),et=Ge.transform.baseVal.consolidate(),tt=it.top-We.top+(et?et.matrix.f:g.cellPad);return r(Q(me,P.select(Ge.parentNode).select("."+g.cn.cellTextHolder).node().getBoundingClientRect().width),tt)}),me.settledY=!0}}}function Q($,le){switch($.align){case"left":return g.cellPad;case"right":return $.column.columnWidth-(le||0)-g.cellPad;case"center":return($.column.columnWidth-(le||0))/2;default:return g.cellPad}}function j($){$.attr("transform",function(le){var ie=le.rowBlocks[0].auxiliaryBlocks.reduce(function(we,Oe){return we+J(Oe,1/0)},0),ce=se(le),me=J(ce,le.key),Me=me+ie;return r(0,Me)}).selectAll("."+g.cn.cellRect).attr("height",function(le){return q(se(le),le.key).rowHeight})}function X($,le){for(var ie=0,ce=le-1;ce>=0;ce--)ie+=ee($[ce]);return ie}function J($,le){for(var ie=0,ce=0;ce<$.rows.length&&$.rows[ce].rowIndex<le;ce++)ie+=$.rows[ce].rowHeight;return ie}function ee($){var le=$.allRowsHeight;if(le!==void 0)return le;for(var ie=0,ce=0;ce<$.rows.length;ce++)ie+=$.rows[ce].rowHeight;return $.allRowsHeight=ie,ie}function se($){return $.rowBlocks[$.page]}function q($,le){return $.rows[le-$.firstRowIndex]}},45802:function(W,H,e){var g=e(5386).fF,P=e(5386).si,i=e(50693),L=e(27670).Y,A=e(34e3),v=e(57564),p=e(43473),t=e(1426).extendFlat,r=e(79952).u;W.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:t({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:r,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},i("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:t({},A.textfont,{}),editType:"calc"},text:A.text,textinfo:v.textinfo,texttemplate:P({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:A.hovertext,hoverinfo:v.hoverinfo,hovertemplate:g({},{keys:p.eventDataKeys}),textfont:A.textfont,insidetextfont:A.insidetextfont,outsidetextfont:t({},A.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:A.sort,root:v.root,domain:L({name:"treemap",trace:!0,editType:"calc"})}},78018:function(W,H,e){var g=e(74875);H.name="treemap",H.plot=function(P,i,L,A){g.plotBasePlot(H.name,P,i,L,A)},H.clean=function(P,i,L,A){g.cleanBasePlot(H.name,P,i,L,A)}},65039:function(W,H,e){var g=e(52147);H.y=function(P,i){return g.calc(P,i)},H.T=function(P){return g._runCrossTraceCalc("treemap",P)}},43473:function(W){W.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(W,H,e){var g=e(71828),P=e(45802),i=e(7901),L=e(27670).c,A=e(90769).handleText,v=e(97313).TEXTPAD,p=e(37434).handleMarkerDefaults,t=e(21081),r=t.hasColorscale,s=t.handleDefaults;W.exports=function(l,f,u,m){function c(a,C){return g.coerce(l,f,P,a,C)}var w=c("labels"),h=c("parents");if(!w||!w.length||!h||!h.length){f.visible=!1;return}var o=c("values");o&&o.length?c("branchvalues"):c("count"),c("level"),c("maxdepth");var d=c("tiling.packing");d==="squarify"&&c("tiling.squarifyratio"),c("tiling.flip"),c("tiling.pad");var M=c("text");c("texttemplate"),f.texttemplate||c("textinfo",Array.isArray(M)?"text+label":"label"),c("hovertext"),c("hovertemplate");var T=c("pathbar.visible"),E="auto";A(l,f,m,c,E,{hasPathbar:T,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),c("textposition");var x=f.textposition.indexOf("bottom")!==-1;p(l,f,m,c);var S=f._hasColorscale=r(l,"marker","colors")||(l.marker||{}).coloraxis;S?s(l,f,m,c,{prefix:"marker.",cLetter:"c"}):c("marker.depthfade",!(f.marker.colors||[]).length);var b=f.textfont.size*2;c("marker.pad.t",x?b/4:b),c("marker.pad.l",b/4),c("marker.pad.r",b/4),c("marker.pad.b",x?b:b/4),c("marker.cornerradius"),f._hovered={marker:{line:{width:2,color:i.contrast(m.paper_bgcolor)}}},T&&(c("pathbar.thickness",f.pathbar.textfont.size+2*v),c("pathbar.side"),c("pathbar.edgeshape")),c("sort"),c("root.color"),L(f,m,c),f._length=null}},80694:function(W,H,e){var g=e(39898),P=e(2791),i=e(72597),L=i.clearMinTextSize,A=e(16688).resizeText,v=e(46650);W.exports=function(t,r,s,n,l){var f=l.type,u=l.drawDescendants,m=t._fullLayout,c=m["_"+f+"layer"],w,h,o=!s;if(L(f,m),w=c.selectAll("g.trace."+f).data(r,function(M){return M[0].trace.uid}),w.enter().append("g").classed("trace",!0).classed(f,!0),w.order(),!m.uniformtext.mode&&P.hasTransition(s)){n&&(h=n());var d=g.transition().duration(s.duration).ease(s.easing).each("end",function(){h&&h()}).each("interrupt",function(){h&&h()});d.each(function(){c.selectAll("g.trace").each(function(M){v(t,M,this,s,u)})})}else w.each(function(M){v(t,M,this,s,u)}),m.uniformtext.mode&&A(t,c.selectAll(".trace"),f);o&&w.exit().remove()}},66209:function(W,H,e){var g=e(39898),P=e(71828),i=e(91424),L=e(63893),A=e(37210),v=e(96362).styleOne,p=e(43473),t=e(2791),r=e(83523),s=!0;W.exports=function(l,f,u,m,c){var w=c.barDifY,h=c.width,o=c.height,d=c.viewX,M=c.viewY,T=c.pathSlice,E=c.toMoveInsideSlice,x=c.strTransform,S=c.hasTransition,b=c.handleSlicesExit,a=c.makeUpdateSliceInterpolator,C=c.makeUpdateTextInterpolator,y={},z=l._context.staticPlot,I=l._fullLayout,B=f[0],F=B.trace,O=B.hierarchy,N=h/F._entryDepth,_=t.listPath(u.data,"id"),U=A(O.copy(),[h,o],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();U=U.filter(function(K){var re=_.indexOf(K.data.id);return re===-1?!1:(K.x0=N*re,K.x1=N*(re+1),K.y0=w,K.y1=w+o,K.onPathbar=!0,!0)}),U.reverse(),m=m.data(U,t.getPtId),m.enter().append("g").classed("pathbar",!0),b(m,s,y,[h,o],T),m.order();var Y=m;S&&(Y=Y.transition().each("end",function(){var K=g.select(this);t.setSliceCursor(K,l,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),Y.each(function(K){K._x0=d(K.x0),K._x1=d(K.x1),K._y0=M(K.y0),K._y1=M(K.y1),K._hoverX=d(K.x1-Math.min(h,o)/2),K._hoverY=M(K.y1-o/2);var re=g.select(this),ae=P.ensureSingle(re,"path","surface",function(X){X.style("pointer-events",z?"none":"all")});S?ae.transition().attrTween("d",function(X){var J=a(X,s,y,[h,o]);return function(ee){return T(J(ee))}}):ae.attr("d",T),re.call(r,u,l,f,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,l,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:l._transitioning}),ae.call(v,K,F,l,{hovered:!1}),K._text=(t.getPtLabel(K)||"").split("<br>").join(" ")||"";var fe=P.ensureSingle(re,"g","slicetext"),Q=P.ensureSingle(fe,"text","",function(X){X.attr("data-notex",1)}),j=P.ensureUniformFontSize(l,t.determineTextFont(F,K,I.font,{onPathbar:!0}));Q.text(K._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(i.font,j).call(L.convertToTspans,l),K.textBB=i.bBox(Q.node()),K.transform=E(K,{fontSize:j.size,onPathbar:!0}),K.transform.fontSize=j.size,S?Q.transition().attrTween("transform",function(X){var J=C(X,s,y,[h,o]);return function(ee){return x(J(ee))}}):Q.attr("transform",x(K))})}},52583:function(W,H,e){var g=e(39898),P=e(71828),i=e(91424),L=e(63893),A=e(37210),v=e(96362).styleOne,p=e(43473),t=e(2791),r=e(83523),s=e(24714).formatSliceLabel,n=!1;W.exports=function(f,u,m,c,w){var h=w.width,o=w.height,d=w.viewX,M=w.viewY,T=w.pathSlice,E=w.toMoveInsideSlice,x=w.strTransform,S=w.hasTransition,b=w.handleSlicesExit,a=w.makeUpdateSliceInterpolator,C=w.makeUpdateTextInterpolator,y=w.prevEntry,z={},I=f._context.staticPlot,B=f._fullLayout,F=u[0],O=F.trace,N=O.textposition.indexOf("left")!==-1,_=O.textposition.indexOf("right")!==-1,U=O.textposition.indexOf("bottom")!==-1,Y=!U&&!O.marker.pad.t||U&&!O.marker.pad.b,K=A(m,[h,o],{packing:O.tiling.packing,squarifyratio:O.tiling.squarifyratio,flipX:O.tiling.flip.indexOf("x")>-1,flipY:O.tiling.flip.indexOf("y")>-1,pad:{inner:O.tiling.pad,top:O.marker.pad.t,left:O.marker.pad.l,right:O.marker.pad.r,bottom:O.marker.pad.b}}),re=K.descendants(),ae=1/0,fe=-1/0;re.forEach(function(ee){var se=ee.depth;se>=O._maxDepth?(ee.x0=ee.x1=(ee.x0+ee.x1)/2,ee.y0=ee.y1=(ee.y0+ee.y1)/2):(ae=Math.min(ae,se),fe=Math.max(fe,se))}),c=c.data(re,t.getPtId),O._maxVisibleLayers=isFinite(fe)?fe-ae+1:0,c.enter().append("g").classed("slice",!0),b(c,n,z,[h,o],T),c.order();var Q=null;if(S&&y){var j=t.getPtId(y);c.each(function(ee){Q===null&&t.getPtId(ee)===j&&(Q={x0:ee.x0,x1:ee.x1,y0:ee.y0,y1:ee.y1})})}var X=function(){return Q||{x0:0,x1:h,y0:0,y1:o}},J=c;return S&&(J=J.transition().each("end",function(){var ee=g.select(this);t.setSliceCursor(ee,f,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),J.each(function(ee){var se=t.isHeader(ee,O);ee._x0=d(ee.x0),ee._x1=d(ee.x1),ee._y0=M(ee.y0),ee._y1=M(ee.y1),ee._hoverX=d(ee.x1-O.marker.pad.r),ee._hoverY=M(U?ee.y1-O.marker.pad.b/2:ee.y0+O.marker.pad.t/2);var q=g.select(this),$=P.ensureSingle(q,"path","surface",function(me){me.style("pointer-events",I?"none":"all")});S?$.transition().attrTween("d",function(me){var Me=a(me,n,X(),[h,o]);return function(we){return T(Me(we))}}):$.attr("d",T),q.call(r,m,f,u,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,f,{isTransitioning:f._transitioning}),$.call(v,ee,O,f,{hovered:!1}),ee.x0===ee.x1||ee.y0===ee.y1?ee._text="":se?ee._text=Y?"":t.getPtLabel(ee)||"":ee._text=s(ee,m,O,u,B)||"";var le=P.ensureSingle(q,"g","slicetext"),ie=P.ensureSingle(le,"text","",function(me){me.attr("data-notex",1)}),ce=P.ensureUniformFontSize(f,t.determineTextFont(O,ee,B.font));ie.text(ee._text||" ").classed("slicetext",!0).attr("text-anchor",_?"end":N||se?"start":"middle").call(i.font,ce).call(L.convertToTspans,f),ee.textBB=i.bBox(ie.node()),ee.transform=E(ee,{fontSize:ce.size,isHeader:se}),ee.transform.fontSize=ce.size,S?ie.transition().attrTween("transform",function(me){var Me=C(me,n,X(),[h,o]);return function(we){return x(Me(we))}}):ie.attr("transform",x(ee))}),Q}},14102:function(W){W.exports=function H(e,g,P){var i;P.swapXY&&(i=e.x0,e.x0=e.y0,e.y0=i,i=e.x1,e.x1=e.y1,e.y1=i),P.flipX&&(i=e.x0,e.x0=g[0]-e.x1,e.x1=g[0]-i),P.flipY&&(i=e.y0,e.y0=g[1]-e.y1,e.y1=g[1]-i);var L=e.children;if(L)for(var A=0;A<L.length;A++)H(L[A],g,P)}},70954:function(W,H,e){W.exports={moduleType:"trace",name:"treemap",basePlotModule:e(78018),categories:[],animatable:!0,attributes:e(45802),layoutAttributes:e(55479),supplyDefaults:e(91174),supplyLayoutDefaults:e(77182),calc:e(65039).y,crossTraceCalc:e(65039).T,plot:e(5893),style:e(96362).style,colorbar:e(4898),meta:{}}},55479:function(W){W.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(W,H,e){var g=e(71828),P=e(55479);W.exports=function(L,A){function v(p,t){return g.coerce(L,A,P,p,t)}v("treemapcolorway",A.colorway),v("extendtreemapcolors")}},37210:function(W,H,e){var g=e(674),P=e(14102);W.exports=function(A,v,p){var t=p.flipX,r=p.flipY,s=p.packing==="dice-slice",n=p.pad[r?"bottom":"top"],l=p.pad[t?"right":"left"],f=p.pad[t?"left":"right"],u=p.pad[r?"top":"bottom"],m;s&&(m=l,l=n,n=m,m=f,f=u,u=m);var c=g.treemap().tile(i(p.packing,p.squarifyratio)).paddingInner(p.pad.inner).paddingLeft(l).paddingRight(f).paddingTop(n).paddingBottom(u).size(s?[v[1],v[0]]:v)(A);return(s||t||r)&&P(c,v,{swapXY:s,flipX:t,flipY:r}),c};function i(L,A){switch(L){case"squarify":return g.treemapSquarify.ratio(A);case"binary":return g.treemapBinary;case"dice":return g.treemapDice;case"slice":return g.treemapSlice;default:return g.treemapSliceDice}}},5893:function(W,H,e){var g=e(80694),P=e(52583);W.exports=function(L,A,v,p){return g(L,A,v,p,{type:"treemap",drawDescendants:P})}},46650:function(W,H,e){var g=e(39898),P=e(81684).sX,i=e(2791),L=e(71828),A=e(97313).TEXTPAD,v=e(17295),p=v.toMoveInsideBar,t=e(72597),r=t.recordMinTextSize,s=e(43473),n=e(66209);function l(f){return i.isHierarchyRoot(f)?"":i.getPtId(f)}W.exports=function(u,m,c,w,h){var o=u._fullLayout,d=m[0],M=d.trace,T=M.type,E=T==="icicle",x=d.hierarchy,S=i.findEntryWithLevel(x,M.level),b=g.select(c),a=b.selectAll("g.pathbar"),C=b.selectAll("g.slice");if(!S){a.remove(),C.remove();return}var y=i.isHierarchyRoot(S),z=!o.uniformtext.mode&&i.hasTransition(w),I=i.getMaxDepth(M),B=function(Qe){return Qe.data.depth-S.data.depth<I},F=o._size,O=M.domain,N=F.w*(O.x[1]-O.x[0]),_=F.h*(O.y[1]-O.y[0]),U=N,Y=M.pathbar.thickness,K=M.marker.line.width+s.gapWithPathbar,re=M.pathbar.visible?M.pathbar.side.indexOf("bottom")>-1?_+K:-(Y+K):0,ae={x0:U,x1:U,y0:re,y1:re+Y},fe=function(Qe,Fe,Ie){var ze=M.tiling.pad,Re=function(Ee){return Ee-ze<=Fe.x0},be=function(Ee){return Ee+ze>=Fe.x1},ye=function(Ee){return Ee-ze<=Fe.y0},Ae=function(Ee){return Ee+ze>=Fe.y1};return Qe.x0===Fe.x0&&Qe.x1===Fe.x1&&Qe.y0===Fe.y0&&Qe.y1===Fe.y1?{x0:Qe.x0,x1:Qe.x1,y0:Qe.y0,y1:Qe.y1}:{x0:Re(Qe.x0-ze)?0:be(Qe.x0-ze)?Ie[0]:Qe.x0,x1:Re(Qe.x1+ze)?0:be(Qe.x1+ze)?Ie[0]:Qe.x1,y0:ye(Qe.y0-ze)?0:Ae(Qe.y0-ze)?Ie[1]:Qe.y0,y1:ye(Qe.y1+ze)?0:Ae(Qe.y1+ze)?Ie[1]:Qe.y1}},Q=null,j={},X={},J=null,ee=function(Qe,Fe){return Fe?j[l(Qe)]:X[l(Qe)]},se=function(Qe,Fe,Ie,ze){if(Fe)return j[l(x)]||ae;var Re=X[M.level]||Ie;return B(Qe)?fe(Qe,Re,ze):{}};d.hasMultipleRoots&&y&&I++,M._maxDepth=I,M._backgroundColor=o.paper_bgcolor,M._entryDepth=S.data.depth,M._atRootLevel=y;var q=-N/2+F.l+F.w*(O.x[1]+O.x[0])/2,$=-_/2+F.t+F.h*(1-(O.y[1]+O.y[0])/2),le=function(Qe){return q+Qe},ie=function(Qe){return $+Qe},ce=ie(0),me=le(0),Me=function(Qe){return me+Qe},we=function(Qe){return ce+Qe};function Oe(Qe,Fe){return Qe+","+Fe}var Be=Me(0),Ce=function(Qe){Qe.x=Math.max(Be,Qe.x)},xe=M.pathbar.edgeshape,Se=function(Qe){var Fe=Me(Math.max(Math.min(Qe.x0,Qe.x0),0)),Ie=Me(Math.min(Math.max(Qe.x1,Qe.x1),U)),ze=we(Qe.y0),Re=we(Qe.y1),be=Y/2,ye={},Ae={};ye.x=Fe,Ae.x=Ie,ye.y=Ae.y=(ze+Re)/2;var Ee={x:Fe,y:ze},Ne={x:Ie,y:ze},Je={x:Ie,y:Re},qe={x:Fe,y:Re};return xe===">"?(Ee.x-=be,Ne.x-=be,Je.x-=be,qe.x-=be):xe==="/"?(Je.x-=be,qe.x-=be,ye.x-=be/2,Ae.x-=be/2):xe==="\\"?(Ee.x-=be,Ne.x-=be,ye.x-=be/2,Ae.x-=be/2):xe==="<"&&(ye.x-=be,Ae.x-=be),Ce(Ee),Ce(qe),Ce(ye),Ce(Ne),Ce(Je),Ce(Ae),"M"+Oe(Ee.x,Ee.y)+"L"+Oe(Ne.x,Ne.y)+"L"+Oe(Ae.x,Ae.y)+"L"+Oe(Je.x,Je.y)+"L"+Oe(qe.x,qe.y)+"L"+Oe(ye.x,ye.y)+"Z"},He=M[E?"tiling":"marker"].pad,Ge=function(Qe){return M.textposition.indexOf(Qe)!==-1},ke=Ge("top"),We=Ge("left"),it=Ge("right"),et=Ge("bottom"),tt=function(Qe){var Fe=le(Qe.x0),Ie=le(Qe.x1),ze=ie(Qe.y0),Re=ie(Qe.y1),be=Ie-Fe,ye=Re-ze;if(!be||!ye)return"";var Ae=M.marker.cornerradius||0,Ee=Math.min(Ae,be/2,ye/2);Ee&&Qe.data&&Qe.data.data&&Qe.data.data.label&&(ke&&(Ee=Math.min(Ee,He.t)),We&&(Ee=Math.min(Ee,He.l)),it&&(Ee=Math.min(Ee,He.r)),et&&(Ee=Math.min(Ee,He.b)));var Ne=function(Je,qe){return Ee?"a"+Oe(Ee,Ee)+" 0 0 1 "+Oe(Je,qe):""};return"M"+Oe(Fe,ze+Ee)+Ne(Ee,-Ee)+"L"+Oe(Ie-Ee,ze)+Ne(Ee,Ee)+"L"+Oe(Ie,Re-Ee)+Ne(-Ee,Ee)+"L"+Oe(Fe+Ee,Re)+Ne(-Ee,-Ee)+"Z"},at=function(Qe,Fe){var Ie=Qe.x0,ze=Qe.x1,Re=Qe.y0,be=Qe.y1,ye=Qe.textBB,Ae=ke||Fe.isHeader&&!et,Ee=Ae?"start":et?"end":"middle",Ne=Ge("right"),Je=Ge("left")||Fe.onPathbar,qe=Je?-1:Ne?1:0;if(Fe.isHeader){if(Ie+=(E?He:He.l)-A,ze-=(E?He:He.r)-A,Ie>=ze){var vt=(Ie+ze)/2;Ie=vt,ze=vt}var bt;et?(bt=be-(E?He:He.b),Re<bt&&bt<be&&(Re=bt)):(bt=Re+(E?He:He.t),Re<bt&&bt<be&&(be=bt))}var Wt=p(Ie,ze,Re,be,ye,{isHorizontal:!1,constrained:!0,angle:0,anchor:Ee,leftToRight:qe});return Wt.fontSize=Fe.fontSize,Wt.targetX=le(Wt.targetX),Wt.targetY=ie(Wt.targetY),isNaN(Wt.targetX)||isNaN(Wt.targetY)?{}:(Ie!==ze&&Re!==be&&r(M.type,Wt,o),{scale:Wt.scale,rotate:Wt.rotate,textX:Wt.textX,textY:Wt.textY,anchorX:Wt.anchorX,anchorY:Wt.anchorY,targetX:Wt.targetX,targetY:Wt.targetY})},ht=function(Qe,Fe){for(var Ie,ze=0,Re=Qe;!Ie&&ze<I;)ze++,Re=Re.parent,Re?Ie=ee(Re,Fe):ze=I;return Ie||{}},yt=function(Qe,Fe,Ie,ze){var Re=ee(Qe,Fe),be;if(Fe)be=ae;else{var ye=ee(S,Fe);ye?be=fe(Qe,ye,ze):be={}}return P(Re,be)},gt=function(Qe,Fe,Ie,ze,Re){var be=ee(Qe,Fe),ye;if(be)ye=be;else if(Fe)ye=ae;else if(Q)if(Qe.parent){var Ae=J||Ie;Ae&&!Fe?ye=fe(Qe,Ae,ze):(ye={},L.extendFlat(ye,ht(Qe,Fe)))}else ye=L.extendFlat({},Qe),E&&(Re.orientation==="h"?Re.flipX?ye.x0=Qe.x1:ye.x1=0:Re.flipY?ye.y0=Qe.y1:ye.y1=0);else ye={};return P(ye,{x0:Qe.x0,x1:Qe.x1,y0:Qe.y0,y1:Qe.y1})},Et=function(Qe,Fe,Ie,ze){var Re=ee(Qe,Fe),be={},ye=se(Qe,Fe,Ie,ze);L.extendFlat(be,{transform:at({x0:ye.x0,x1:ye.x1,y0:ye.y0,y1:ye.y1,textBB:Qe.textBB,_text:Qe._text},{isHeader:i.isHeader(Qe,M)})}),Re?be=Re:Qe.parent&&L.extendFlat(be,ht(Qe,Fe));var Ae=Qe.transform;return Qe.x0!==Qe.x1&&Qe.y0!==Qe.y1&&r(M.type,Ae,o),P(be,{transform:{scale:Ae.scale,rotate:Ae.rotate,textX:Ae.textX,textY:Ae.textY,anchorX:Ae.anchorX,anchorY:Ae.anchorY,targetX:Ae.targetX,targetY:Ae.targetY}})},Ct=function(Qe,Fe,Ie,ze,Re){var be=ze[0],ye=ze[1];z?Qe.exit().transition().each(function(){var Ae=g.select(this),Ee=Ae.select("path.surface");Ee.transition().attrTween("d",function(Je){var qe=yt(Je,Fe,Ie,[be,ye]);return function(vt){return Re(qe(vt))}});var Ne=Ae.select("g.slicetext");Ne.attr("opacity",0)}).remove():Qe.exit().remove()},Vt=function(Qe){var Fe=Qe.transform;return Qe.x0!==Qe.x1&&Qe.y0!==Qe.y1&&r(M.type,Fe,o),L.getTextTransform({textX:Fe.textX,textY:Fe.textY,anchorX:Fe.anchorX,anchorY:Fe.anchorY,targetX:Fe.targetX,targetY:Fe.targetY,scale:Fe.scale,rotate:Fe.rotate})};z&&(a.each(function(Qe){j[l(Qe)]={x0:Qe.x0,x1:Qe.x1,y0:Qe.y0,y1:Qe.y1},Qe.transform&&(j[l(Qe)].transform={textX:Qe.transform.textX,textY:Qe.transform.textY,anchorX:Qe.transform.anchorX,anchorY:Qe.transform.anchorY,targetX:Qe.transform.targetX,targetY:Qe.transform.targetY,scale:Qe.transform.scale,rotate:Qe.transform.rotate})}),C.each(function(Qe){X[l(Qe)]={x0:Qe.x0,x1:Qe.x1,y0:Qe.y0,y1:Qe.y1},Qe.transform&&(X[l(Qe)].transform={textX:Qe.transform.textX,textY:Qe.transform.textY,anchorX:Qe.transform.anchorX,anchorY:Qe.transform.anchorY,targetX:Qe.transform.targetX,targetY:Qe.transform.targetY,scale:Qe.transform.scale,rotate:Qe.transform.rotate}),!Q&&i.isEntry(Qe)&&(Q=Qe)})),J=h(u,m,S,C,{width:N,height:_,viewX:le,viewY:ie,pathSlice:tt,toMoveInsideSlice:at,prevEntry:Q,makeUpdateSliceInterpolator:gt,makeUpdateTextInterpolator:Et,handleSlicesExit:Ct,hasTransition:z,strTransform:Vt}),M.pathbar.visible?n(u,m,S,a,{barDifY:re,width:U,height:Y,viewX:Me,viewY:we,pathSlice:Se,toMoveInsideSlice:at,makeUpdateSliceInterpolator:gt,makeUpdateTextInterpolator:Et,handleSlicesExit:Ct,hasTransition:z,strTransform:Vt}):a.remove()}},96362:function(W,H,e){var g=e(39898),P=e(7901),i=e(71828),L=e(2791),A=e(72597).resizeText,v=e(43467);function p(r){var s=r._fullLayout._treemaplayer.selectAll(".trace");A(r,s,"treemap"),s.each(function(n){var l=g.select(this),f=n[0],u=f.trace;l.style("opacity",u.opacity),l.selectAll("path.surface").each(function(m){g.select(this).call(t,m,u,r,{hovered:!1})})})}function t(r,s,n,l,f){var u=(f||{}).hovered,m=s.data.data,c=m.i,w,h,o=m.color,d=L.isHierarchyRoot(s),M=1;if(u)w=n._hovered.marker.line.color,h=n._hovered.marker.line.width;else if(d&&o===n.root.color)M=100,w="rgba(0,0,0,0)",h=0;else if(w=i.castOption(n,c,"marker.line.color")||P.defaultLine,h=i.castOption(n,c,"marker.line.width")||0,!n._hasColorscale&&!s.onPathbar){var T=n.marker.depthfade;if(T){var E=P.combine(P.addOpacity(n._backgroundColor,.75),o),x;if(T===!0){var S=L.getMaxDepth(n);isFinite(S)?L.isLeaf(s)?x=0:x=n._maxVisibleLayers-(s.data.depth-n._entryDepth):x=s.data.height+1}else x=s.data.depth-n._entryDepth,n._atRootLevel||x++;if(x>0)for(var b=0;b<x;b++){var a=.5*b/x;o=P.combine(P.addOpacity(E,a),o)}}}r.call(v,s,n,l,o).style("stroke-width",h).call(P.stroke,w).style("opacity",M)}W.exports={style:p,styleOne:t}},68875:function(W,H,e){var g=e(53522),P=e(1426).extendFlat,i=e(12663).axisHoverFormat;W.exports={y:g.y,x:g.x,x0:g.x0,y0:g.y0,xhoverformat:i("x"),yhoverformat:i("y"),name:P({},g.name,{}),orientation:P({},g.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:g.fillcolor,points:P({},g.boxpoints,{}),jitter:P({},g.jitter,{}),pointpos:P({},g.pointpos,{}),width:P({},g.width,{}),marker:g.marker,text:g.text,hovertext:g.hovertext,hovertemplate:g.hovertemplate,quartilemethod:g.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:g.selected,unselected:g.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(W,H,e){var g=e(71828),P=e(89298),i=e(48518),L=e(60168),A=e(50606).BADNUM;W.exports=function(s,n){var l=i(s,n);if(l[0].t.empty)return l;for(var f=s._fullLayout,u=P.getFromId(s,n[n.orientation==="h"?"xaxis":"yaxis"]),m=1/0,c=-1/0,w=0,h=0,o=0;o<l.length;o++){var d=l[o],M=d.pts.map(L.extractVal),T=d.bandwidth=p(n,d,M),E=d.span=t(n,d,u,T);if(d.min===d.max&&T===0)E=d.span=[d.min,d.max],d.density=[{v:1,t:E[0]}],d.bandwidth=T,w=Math.max(w,1);else{var x=E[1]-E[0],S=Math.ceil(x/(T/3)),b=x/S;if(!isFinite(b)||!isFinite(S))return g.error("Something went wrong with computing the violin span"),l[0].t.empty=!0,l;var a=L.makeKDE(d,n,M);d.density=new Array(S);for(var C=0,y=E[0];y<E[1]+b/2;C++,y+=b){var z=a(y);d.density[C]={v:z,t:y},w=Math.max(w,z)}}h=Math.max(h,M.length),m=Math.min(m,E[0]),c=Math.max(c,E[1])}var I=P.findExtremes(u,[m,c],{padded:!0});if(n._extremes[u._id]=I,n.width)l[0].t.maxKDE=w;else{var B=f._violinScaleGroupStats,F=n.scalegroup,O=B[F];O?(O.maxKDE=Math.max(O.maxKDE,w),O.maxCount=Math.max(O.maxCount,h)):B[F]={maxKDE:w,maxCount:h}}return l[0].t.labels.kde=g._(s,"kde:"),l};function v(r,s,n){var l=Math.min(s,n/1.349);return 1.059*l*Math.pow(r,-.2)}function p(r,s,n){var l=s.max-s.min;if(!l)return r.bandwidth?r.bandwidth:0;if(r.bandwidth)return Math.max(r.bandwidth,l/1e4);var f=n.length,u=g.stdev(n,f-1,s.mean);return Math.max(v(f,u,s.q3-s.q1),l/100)}function t(r,s,n,l){var f=r.spanmode,u=r.span||[],m=[s.min,s.max],c=[s.min-2*l,s.max+2*l],w;function h(d){var M=u[d],T=n.type==="multicategory"?n.r2c(M):n.d2c(M,0,r[s.valLetter+"calendar"]);return T===A?c[d]:T}f==="soft"?w=c:f==="hard"?w=m:w=[h(0),h(1)];var o={type:"linear",range:w};return P.setConvert(o),o.cleanRange(),w}},86403:function(W,H,e){var g=e(37188).setPositionOffset,P=["v","h"];W.exports=function(L,A){for(var v=L.calcdata,p=A.xaxis,t=A.yaxis,r=0;r<P.length;r++){for(var s=P[r],n=s==="h"?t:p,l=[],f=0;f<v.length;f++){var u=v[f],m=u[0].t,c=u[0].trace;c.visible===!0&&c.type==="violin"&&!m.empty&&c.orientation===s&&c.xaxis===p._id&&c.yaxis===t._id&&l.push(f)}g("violin",L,l,n)}}},15899:function(W,H,e){var g=e(71828),P=e(7901),i=e(36411),L=e(68875);W.exports=function(v,p,t,r){function s(b,a){return g.coerce(v,p,L,b,a)}function n(b,a){return g.coerce2(v,p,L,b,a)}if(i.handleSampleDefaults(v,p,s,r),p.visible!==!1){s("bandwidth"),s("side");var l=s("width");l||(s("scalegroup",p.name),s("scalemode"));var f=s("span"),u;Array.isArray(f)&&(u="manual"),s("spanmode",u);var m=s("line.color",(v.marker||{}).color||t),c=s("line.width"),w=s("fillcolor",P.addOpacity(p.line.color,.5));i.handlePointsDefaults(v,p,s,{prefix:""});var h=n("box.width"),o=n("box.fillcolor",w),d=n("box.line.color",m),M=n("box.line.width",c),T=s("box.visible",!!(h||o||d||M));T||(p.box={visible:!1});var E=n("meanline.color",m),x=n("meanline.width",c),S=s("meanline.visible",!!(E||x));S||(p.meanline={visible:!1}),s("quartilemethod")}}},60168:function(W,H,e){var g=e(71828),P={gaussian:function(i){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*i*i)}};H.makeKDE=function(i,L,A){var v=A.length,p=P.gaussian,t=i.bandwidth,r=1/(v*t);return function(s){for(var n=0,l=0;l<v;l++)n+=p((s-A[l])/t);return r*n}},H.getPositionOnKdePath=function(i,L,A){var v,p;L.orientation==="h"?(v="y",p="x"):(v="x",p="y");var t=g.findPointOnPath(i.path,A,p,{pathLength:i.pathLength}),r=i.posCenterPx,s=t[v],n=L.side==="both"?2*r-s:r;return[s,n]},H.getKdeValue=function(i,L,A){var v=i.pts.map(H.extractVal),p=H.makeKDE(i,L,v);return p(A)/i.posDensityScale},H.extractVal=function(i){return i.v}},57634:function(W,H,e){var g=e(7901),P=e(71828),i=e(89298),L=e(41868),A=e(60168);W.exports=function(p,t,r,s,n){n||(n={});var l=n.hoverLayer,f=p.cd,u=f[0].trace,m=u.hoveron,c=m.indexOf("violins")!==-1,w=m.indexOf("kde")!==-1,h=[],o,d;if(c||w){var M=L.hoverOnBoxes(p,t,r,s);if(w&&M.length>0){var T=p.xa,E=p.ya,x,S,b,a,C;u.orientation==="h"?(C=t,x="y",b=E,S="x",a=T):(C=r,x="x",b=T,S="y",a=E);var y=f[p.index];if(C>=y.span[0]&&C<=y.span[1]){var z=P.extendFlat({},p),I=a.c2p(C,!0),B=A.getKdeValue(y,u,C),F=A.getPositionOnKdePath(y,u,I),O=b._offset,N=b._length;z[x+"0"]=F[0],z[x+"1"]=F[1],z[S+"0"]=z[S+"1"]=I,z[S+"Label"]=S+": "+i.hoverLabelText(a,C,u[S+"hoverformat"])+", "+f[0].t.labels.kde+" "+B.toFixed(3);for(var _=0,U=0;U<M.length;U++)if(M[U].attr==="med"){_=U;break}z.spikeDistance=M[_].spikeDistance;var Y=x+"Spike";z[Y]=M[_][Y],M[_].spikeDistance=void 0,M[_][Y]=void 0,z.hovertemplate=!1,h.push(z),d={},d[x+"1"]=P.constrain(O+F[0],O,O+N),d[x+"2"]=P.constrain(O+F[1],O,O+N),d[S+"1"]=d[S+"2"]=a._offset+I}}c&&(h=h.concat(M))}m.indexOf("points")!==-1&&(o=L.hoverOnPoints(p,t,r));var K=l.selectAll(".violinline-"+u.uid).data(d?[0]:[]);return K.enter().append("line").classed("violinline-"+u.uid,!0).attr("stroke-width",1.5),K.exit().remove(),K.attr(d).call(g.stroke,p.color),s==="closest"?o?[o]:h:(o&&h.push(o),h)}},47462:function(W,H,e){W.exports={attributes:e(68875),layoutAttributes:e(9228),supplyDefaults:e(15899),crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(33598),calc:e(38603),crossTraceCalc:e(86403),plot:e(28443),style:e(31847),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(57634),selectPoints:e(24626),moduleType:"trace",name:"violin",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(W,H,e){var g=e(40094),P=e(71828).extendFlat;W.exports={violinmode:P({},g.boxmode,{}),violingap:P({},g.boxgap,{}),violingroupgap:P({},g.boxgroupgap,{})}},33598:function(W,H,e){var g=e(71828),P=e(9228),i=e(4199);W.exports=function(A,v,p){function t(r,s){return g.coerce(A,v,P,r,s)}i._supply(A,v,p,t,"violin")}},28443:function(W,H,e){var g=e(39898),P=e(71828),i=e(91424),L=e(86047),A=e(34621),v=e(60168);W.exports=function(t,r,s,n){var l=t._context.staticPlot,f=t._fullLayout,u=r.xaxis,m=r.yaxis;function c(w,h){var o=A(w,{xaxis:u,yaxis:m,trace:h,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return i.smoothopen(o[0],1)}P.makeTraceGroups(n,s,"trace violins").each(function(w){var h=g.select(this),o=w[0],d=o.t,M=o.trace;if(M.visible!==!0||d.empty){h.remove();return}var T=d.bPos,E=d.bdPos,x=r[d.valLetter+"axis"],S=r[d.posLetter+"axis"],b=M.side==="both",a=b||M.side==="positive",C=b||M.side==="negative",y=h.selectAll("path.violin").data(P.identity);y.enter().append("path").style("vector-effect",l?"none":"non-scaling-stroke").attr("class","violin"),y.exit().remove(),y.each(function(U){var Y=g.select(this),K=U.density,re=K.length,ae=S.c2l(U.pos+T,!0),fe=S.l2p(ae),Q;if(M.width)Q=d.maxKDE/E;else{var j=f._violinScaleGroupStats[M.scalegroup];Q=M.scalemode==="count"?j.maxKDE/E*(j.maxCount/U.pts.length):j.maxKDE/E}var X,J,ee,se,q,$,le;if(a){for($=new Array(re),se=0;se<re;se++)le=$[se]={},le[d.posLetter]=ae+K[se].v/Q,le[d.valLetter]=x.c2l(K[se].t,!0);X=c($,M)}if(C){for($=new Array(re),q=0,se=re-1;q<re;q++,se--)le=$[q]={},le[d.posLetter]=ae-K[se].v/Q,le[d.valLetter]=x.c2l(K[se].t,!0);J=c($,M)}if(b)ee=X+"L"+J.substr(1)+"Z";else{var ie=[fe,x.c2p(K[0].t)],ce=[fe,x.c2p(K[re-1].t)];M.orientation==="h"&&(ie.reverse(),ce.reverse()),a?ee="M"+ie+"L"+X.substr(1)+"L"+ce:ee="M"+ce+"L"+J.substr(1)+"L"+ie}Y.attr("d",ee),U.posCenterPx=fe,U.posDensityScale=Q*E,U.path=Y.node(),U.pathLength=U.path.getTotalLength()/(b?2:1)});var z=M.box,I=z.width,B=(z.line||{}).width,F,O;b?(F=E*I,O=0):a?(F=[0,E*I/2],O=B*{x:1,y:-1}[d.posLetter]):(F=[E*I/2,0],O=B*{x:-1,y:1}[d.posLetter]),L.plotBoxAndWhiskers(h,{pos:S,val:x},M,{bPos:T,bdPos:F,bPosPxOffset:O}),L.plotBoxMean(h,{pos:S,val:x},M,{bPos:T,bdPos:F,bPosPxOffset:O});var N;!M.box.visible&&M.meanline.visible&&(N=P.identity);var _=h.selectAll("path.meanline").data(N||[]);_.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",l?"none":"non-scaling-stroke"),_.exit().remove(),_.each(function(U){var Y=x.c2p(U.mean,!0),K=v.getPositionOnKdePath(U,M,Y);g.select(this).attr("d",M.orientation==="h"?"M"+Y+","+K[0]+"V"+K[1]:"M"+K[0]+","+Y+"H"+K[1])}),L.plotPoints(h,{x:u,y:m},M,d)})}},31847:function(W,H,e){var g=e(39898),P=e(7901),i=e(16296).stylePoints;W.exports=function(A){var v=g.select(A).selectAll("g.trace.violins");v.style("opacity",function(p){return p[0].trace.opacity}),v.each(function(p){var t=p[0].trace,r=g.select(this),s=t.box||{},n=s.line||{},l=t.meanline||{},f=l.width;r.selectAll("path.violin").style("stroke-width",t.line.width+"px").call(P.stroke,t.line.color).call(P.fill,t.fillcolor),r.selectAll("path.box").style("stroke-width",n.width+"px").call(P.stroke,n.color).call(P.fill,s.fillcolor);var u={"stroke-width":f+"px","stroke-dasharray":2*f+"px,"+f+"px"};r.selectAll("path.mean").style(u).call(P.stroke,l.color),r.selectAll("path.meanline").style(u).call(P.stroke,l.color),i(r,t,A)})}},16336:function(W,H,e){var g=e(50693),P=e(16249),i=e(54532),L=e(9012),A=e(1426).extendFlat,v=e(30962).overrideAll,p=W.exports=v(A({x:P.x,y:P.y,z:P.z,value:P.value,isomin:P.isomin,isomax:P.isomax,surface:P.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:P.slices,caps:P.caps,text:P.text,hovertext:P.hovertext,xhoverformat:P.xhoverformat,yhoverformat:P.yhoverformat,zhoverformat:P.zhoverformat,valuehoverformat:P.valuehoverformat,hovertemplate:P.hovertemplate},g("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:P.colorbar,opacity:P.opacity,opacityscale:i.opacityscale,lightposition:P.lightposition,lighting:P.lighting,flatshading:P.flatshading,contour:P.contour,hoverinfo:A({},L.hoverinfo),showlegend:A({},L.showlegend,{dflt:!1})}),"calc","nested");p.x.editType=p.y.editType=p.z.editType=p.value.editType="calc+clearAxisTypes",p.transforms=void 0},64809:function(W,H,e){var g=e(9330).gl_mesh3d,P=e(81697).parseColorScale,i=e(78614),L=e(21081).extractOpts,A=e(90060),v=e(22674).findNearestOnAxis,p=e(22674).generateIsoMeshes;function t(n,l,f){this.scene=n,this.uid=f,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var r=t.prototype;r.handlePick=function(n){if(n.object===this.mesh){var l=n.data.index,f=this.data._meshX[l],u=this.data._meshY[l],m=this.data._meshZ[l],c=this.data._Ys.length,w=this.data._Zs.length,h=v(f,this.data._Xs).id,o=v(u,this.data._Ys).id,d=v(m,this.data._Zs).id,M=n.index=d+w*o+w*c*h;n.traceCoordinate=[this.data._meshX[M],this.data._meshY[M],this.data._meshZ[M],this.data._value[M]];var T=this.data.hovertext||this.data.text;return Array.isArray(T)&&T[M]!==void 0?n.textLabel=T[M]:T&&(n.textLabel=T),!0}},r.update=function(n){var l=this.scene,f=l.fullSceneLayout;this.data=p(n);function u(o,d,M,T){return d.map(function(E){return o.d2l(E,0,T)*M})}var m=A(u(f.xaxis,n._meshX,l.dataScale[0],n.xcalendar),u(f.yaxis,n._meshY,l.dataScale[1],n.ycalendar),u(f.zaxis,n._meshZ,l.dataScale[2],n.zcalendar)),c=A(n._meshI,n._meshJ,n._meshK),w={positions:m,cells:c,lightPosition:[n.lightposition.x,n.lightposition.y,n.lightposition.z],ambient:n.lighting.ambient,diffuse:n.lighting.diffuse,specular:n.lighting.specular,roughness:n.lighting.roughness,fresnel:n.lighting.fresnel,vertexNormalsEpsilon:n.lighting.vertexnormalsepsilon,faceNormalsEpsilon:n.lighting.facenormalsepsilon,opacity:n.opacity,opacityscale:n.opacityscale,contourEnable:n.contour.show,contourColor:i(n.contour.color).slice(0,3),contourWidth:n.contour.width,useFacetNormals:n.flatshading},h=L(n);w.vertexIntensity=n._meshIntensity,w.vertexIntensityBounds=[h.min,h.max],w.colormap=P(n),this.mesh.update(w)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function s(n,l){var f=n.glplot.gl,u=g({gl:f}),m=new t(n,u,l.uid);return u._trace=m,m.update(l),n.glplot.add(u),m}W.exports=s},47651:function(W,H,e){var g=e(71828),P=e(16336),i=e(82738).supplyIsoDefaults,L=e(91831).opacityscaleDefaults;W.exports=function(v,p,t,r){function s(n,l){return g.coerce(v,p,P,n,l)}i(v,p,t,r,s),L(v,p,r,s)}},17659:function(W,H,e){W.exports={attributes:e(16336),supplyDefaults:e(47651),calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(64809),moduleType:"trace",name:"volume",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(W,H,e){var g=e(1486),P=e(82196).line,i=e(9012),L=e(12663).axisHoverFormat,A=e(5386).fF,v=e(5386).si,p=e(48334),t=e(1426).extendFlat,r=e(7901);function s(n){return{marker:{color:t({},g.marker.color,{arrayOk:!1,editType:"style"}),line:{color:t({},g.marker.line.color,{arrayOk:!1,editType:"style"}),width:t({},g.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}W.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:g.hovertext,hovertemplate:A({},{keys:p.eventDataKeys}),hoverinfo:t({},i.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label"])}),text:g.text,textposition:g.textposition,insidetextanchor:g.insidetextanchor,textangle:g.textangle,textfont:g.textfont,insidetextfont:g.insidetextfont,outsidetextfont:g.outsidetextfont,constraintext:g.constraintext,cliponaxis:g.cliponaxis,orientation:g.orientation,offset:g.offset,width:g.width,increasing:s(),decreasing:s(),totals:s(),connector:{line:{color:t({},P.color,{dflt:r.defaultLine}),width:t({},P.width,{editType:"plot"}),dash:P.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup}},52752:function(W,H,e){var g=e(89298),P=e(42973),i=e(71828).mergeArray,L=e(66279),A=e(50606).BADNUM;function v(t){return t==="a"||t==="absolute"}function p(t){return t==="t"||t==="total"}W.exports=function(r,s){var n=g.getFromId(r,s.xaxis||"x"),l=g.getFromId(r,s.yaxis||"y"),f,u,m,c,w,h;s.orientation==="h"?(f=n.makeCalcdata(s,"x"),m=l.makeCalcdata(s,"y"),c=P(s,l,"y",m),w=!!s.yperiodalignment,h="y"):(f=l.makeCalcdata(s,"y"),m=n.makeCalcdata(s,"x"),c=P(s,n,"x",m),w=!!s.xperiodalignment,h="x"),u=c.vals;for(var o=Math.min(u.length,f.length),d=new Array(o),M=0,T,E=!1,x=0;x<o;x++){var S=f[x]||0,b=!1;(f[x]!==A||p(s.measure[x])||v(s.measure[x]))&&x+1<o&&(f[x+1]!==A||p(s.measure[x+1])||v(s.measure[x+1]))&&(b=!0);var a=d[x]={i:x,p:u[x],s:S,rawS:S,cNext:b};v(s.measure[x])?(M=a.s,a.isSum=!0,a.dir="totals",a.s=M):p(s.measure[x])?(a.isSum=!0,a.dir="totals",a.s=M):(a.isSum=!1,a.dir=a.rawS<0?"decreasing":"increasing",T=a.s,a.s=M+T,M+=T),a.dir==="totals"&&(E=!0),w&&(d[x].orig_p=m[x],d[x][h+"End"]=c.ends[x],d[x][h+"Start"]=c.starts[x]),s.ids&&(a.id=String(s.ids[x])),a.v=(s.base||0)+M}return d.length&&(d[0].hasTotals=E),i(s.text,d,"tx"),i(s.hovertext,d,"htx"),L(d,s),d}},48334:function(W){W.exports={eventDataKeys:["initial","delta","final"]}},70766:function(W,H,e){var g=e(11661).setGroupPositions;W.exports=function(i,L){var A=i._fullLayout,v=i._fullData,p=i.calcdata,t=L.xaxis,r=L.yaxis,s=[],n=[],l=[],f,u;for(u=0;u<v.length;u++){var m=v[u];m.visible===!0&&m.xaxis===t._id&&m.yaxis===r._id&&m.type==="waterfall"&&(f=p[u],m.orientation==="h"?l.push(f):n.push(f),s.push(f))}var c={mode:A.waterfallmode,norm:A.waterfallnorm,gap:A.waterfallgap,groupgap:A.waterfallgroupgap};for(g(i,t,r,n,c),g(i,r,t,l,c),u=0;u<s.length;u++){f=s[u];for(var w=0;w<f.length;w++){var h=f[w];h.isSum===!1&&(h.s0+=w===0?0:f[w-1].s),w+1<f.length&&(f[w].nextP0=f[w+1].p0,f[w].nextS0=f[w+1].s0)}}}},83266:function(W,H,e){var g=e(71828),P=e(26125),i=e(90769).handleText,L=e(67513),A=e(73927),v=e(43037),p=e(7901),t=e(22372),r=t.INCREASING.COLOR,s=t.DECREASING.COLOR,n="#4499FF";function l(m,c,w){m(c+".marker.color",w),m(c+".marker.line.color",p.defaultLine),m(c+".marker.line.width")}function f(m,c,w,h){function o(x,S){return g.coerce(m,c,v,x,S)}var d=L(m,c,h,o);if(!d){c.visible=!1;return}A(m,c,h,o),o("xhoverformat"),o("yhoverformat"),o("measure"),o("orientation",c.x&&!c.y?"h":"v"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate");var M=o("textposition");i(m,c,h,o,M,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),c.textposition!=="none"&&(o("texttemplate"),c.texttemplate||o("textinfo")),l(o,"increasing",r),l(o,"decreasing",s),l(o,"totals",n);var T=o("connector.visible");if(T){o("connector.mode");var E=o("connector.line.width");E&&(o("connector.line.color"),o("connector.line.dash"))}}function u(m,c){var w,h;function o(M){return g.coerce(h._input,h,v,M)}if(c.waterfallmode==="group")for(var d=0;d<m.length;d++)h=m[d],w=h._input,P(w,h,c,o)}W.exports={supplyDefaults:f,crossTraceDefaults:u}},58593:function(W){W.exports=function(e,g){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"initial"in g&&(e.initial=g.initial),"delta"in g&&(e.delta=g.delta),"final"in g&&(e.final=g.final),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},61326:function(W,H,e){var g=e(89298).hoverLabelText,P=e(7901).opacity,i=e(95423).hoverOnBars,L=e(22372),A={increasing:L.INCREASING.SYMBOL,decreasing:L.DECREASING.SYMBOL};W.exports=function(t,r,s,n,l){var f=i(t,r,s,n,l);if(!f)return;var u=f.cd,m=u[0].trace,c=m.orientation==="h",w=c?"x":"y",h=c?t.xa:t.ya;function o(y){return g(h,y,m[w+"hoverformat"])}var d=f.index,M=u[d],T=M.isSum?M.b+M.s:M.rawS;f.initial=M.b+M.s-T,f.delta=T,f.final=f.initial+f.delta;var E=o(Math.abs(f.delta));f.deltaLabel=T<0?"("+E+")":E,f.finalLabel=o(f.final),f.initialLabel=o(f.initial);var x=M.hi||m.hoverinfo,S=[];if(x&&x!=="none"&&x!=="skip"){var b=x==="all",a=x.split("+"),C=function(y){return b||a.indexOf(y)!==-1};M.isSum||(C("final")&&(c?!C("x"):!C("y"))&&S.push(f.finalLabel),C("delta")&&(T<0?S.push(f.deltaLabel+" "+A.decreasing):S.push(f.deltaLabel+" "+A.increasing)),C("initial")&&S.push("Initial: "+f.initialLabel))}return S.length&&(f.extraText=S.join("<br>")),f.color=v(m,M),[f]};function v(p,t){var r=p[t.dir].marker,s=r.color,n=r.line.color,l=r.line.width;if(P(s))return s;if(P(n)&&l)return n}},19990:function(W,H,e){W.exports={attributes:e(43037),layoutAttributes:e(13494),supplyDefaults:e(83266).supplyDefaults,crossTraceDefaults:e(83266).crossTraceDefaults,supplyLayoutDefaults:e(5176),calc:e(52752),crossTraceCalc:e(70766),plot:e(30436),style:e(55750).style,hoverPoints:e(61326),eventData:e(58593),selectPoints:e(81974),moduleType:"trace",name:"waterfall",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(W){W.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(W,H,e){var g=e(71828),P=e(13494);W.exports=function(i,L,A){var v=!1;function p(s,n){return g.coerce(i,L,P,s,n)}for(var t=0;t<A.length;t++){var r=A[t];if(r.visible&&r.type==="waterfall"){v=!0;break}}v&&(p("waterfallmode"),p("waterfallgap",.2),p("waterfallgroupgap"))}},30436:function(W,H,e){var g=e(39898),P=e(71828),i=e(91424),L=e(50606).BADNUM,A=e(17295),v=e(72597).clearMinTextSize;W.exports=function(s,n,l,f){var u=s._fullLayout;v("waterfall",u),A.plot(s,n,l,f,{mode:u.waterfallmode,norm:u.waterfallmode,gap:u.waterfallgap,groupgap:u.waterfallgroupgap}),p(s,n,l,f)};function p(r,s,n,l){var f=s.xaxis,u=s.yaxis;P.makeTraceGroups(l,n,"trace bars").each(function(m){var c=g.select(this),w=m[0].trace,h=P.ensureSingle(c,"g","lines");if(!w.connector||!w.connector.visible){h.remove();return}var o=w.orientation==="h",d=w.connector.mode,M=h.selectAll("g.line").data(P.identity);M.enter().append("g").classed("line",!0),M.exit().remove();var T=M.size();M.each(function(E,x){if(!(x!==T-1&&!E.cNext)){var S=t(E,f,u,o),b=S[0],a=S[1],C="";b[0]!==L&&a[0]!==L&&b[1]!==L&&a[1]!==L&&(d==="spanning"&&!E.isSum&&x>0&&(o?C+="M"+b[0]+","+a[1]+"V"+a[0]:C+="M"+b[1]+","+a[0]+"H"+b[0]),d!=="between"&&(E.isSum||x<T-1)&&(o?C+="M"+b[1]+","+a[0]+"V"+a[1]:C+="M"+b[0]+","+a[1]+"H"+b[1]),b[2]!==L&&a[2]!==L&&(o?C+="M"+b[1]+","+a[1]+"V"+a[2]:C+="M"+b[1]+","+a[1]+"H"+b[2])),C===""&&(C="M0,0Z"),P.ensureSingle(g.select(this),"path").attr("d",C).call(i.setClipUrl,s.layerClipId,r)}})})}function t(r,s,n,l){var f=[],u=[],m=l?s:n,c=l?n:s;return f[0]=m.c2p(r.s0,!0),u[0]=c.c2p(r.p0,!0),f[1]=m.c2p(r.s1,!0),u[1]=c.c2p(r.p1,!0),f[2]=m.c2p(r.nextS0,!0),u[2]=c.c2p(r.nextP0,!0),l?[f,u]:[u,f]}},55750:function(W,H,e){var g=e(39898),P=e(91424),i=e(7901),L=e(37822).DESELECTDIM,A=e(16688),v=e(72597).resizeText,p=A.styleTextPoints;function t(r,s,n){var l=n||g.select(r).selectAll("g.waterfalllayer").selectAll("g.trace");v(r,l,"waterfall"),l.style("opacity",function(f){return f[0].trace.opacity}),l.each(function(f){var u=g.select(this),m=f[0].trace;u.selectAll(".point > path").each(function(c){if(!c.isBlank){var w=m[c.dir].marker;g.select(this).call(i.fill,w.color).call(i.stroke,w.line.color).call(P.dashLine,w.line.dash,w.line.width).style("opacity",m.selectedpoints&&!c.selected?L:1)}}),p(u,m,r),u.selectAll(".lines").each(function(){var c=m.connector.line;P.lineGroupStyle(g.select(this).selectAll("path"),c.width,c.color,c.dash)})})}W.exports={style:t}},82887:function(W,H,e){var g=e(89298),P=e(71828),i=e(86281),L=e(79344).p,A=e(50606).BADNUM;H.moduleType="transform",H.name="aggregate";var v=H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},p=v.aggregations;H.supplyDefaults=function(f,u){var m={},c;function w(y,z){return P.coerce(f,m,v,y,z)}var h=w("enabled");if(!h)return m;var o=i.findArrayAttributes(u),d={};for(c=0;c<o.length;c++)d[o[c]]=1;var M=w("groups");if(!Array.isArray(M)){if(!d[M])return m.enabled=!1,m;d[M]=0}var T=f.aggregations||[],E=m.aggregations=new Array(T.length),x;function S(y,z){return P.coerce(T[c],x,p,y,z)}for(c=0;c<T.length;c++){x={_index:c};var b=S("target"),a=S("func"),C=S("enabled");C&&b&&(d[b]||a==="count"&&d[b]===void 0)?(a==="stddev"&&S("funcmode"),d[b]=0,E[c]=x):E[c]={enabled:!1,_index:c}}for(c=0;c<o.length;c++)d[o[c]]&&E.push({target:o[c],func:p.func.dflt,enabled:!0,_index:-1});return m},H.calcTransform=function(f,u,m){if(m.enabled){var c=m.groups,w=P.getTargetArray(u,{target:c});if(w){var h,o,d,M,T={},E={},x=[],S=L(u.transforms,m),b=w.length;for(u._length&&(b=Math.min(b,u._length)),h=0;h<b;h++)o=w[h],d=T[o],d===void 0?(T[o]=x.length,M=[h],x.push(M),E[T[o]]=S(h)):(x[d].push(h),E[T[o]]=(E[T[o]]||[]).concat(S(h)));m._indexToPoints=E;var a=m.aggregations;for(h=0;h<a.length;h++)t(f,u,x,a[h]);typeof c=="string"&&t(f,u,x,{target:c,func:"first",enabled:!0}),u._length=x.length}}};function t(f,u,m,c){if(c.enabled){for(var w=c.target,h=P.nestedProperty(u,w),o=h.get(),d=g.getDataConversions(f,u,w,o),M=r(c,d),T=new Array(m.length),E=0;E<m.length;E++)T[E]=M(o,m[E]);h.set(T),c.func==="count"&&P.pushUnique(u._arrayAttrs,w)}}function r(f,u){var m=f.func,c=u.d2c,w=u.c2d;switch(m){case"count":return s;case"first":return n;case"last":return l;case"sum":return function(h,o){for(var d=0,M=0;M<o.length;M++){var T=c(h[o[M]]);T!==A&&(d+=T)}return w(d)};case"avg":return function(h,o){for(var d=0,M=0,T=0;T<o.length;T++){var E=c(h[o[T]]);E!==A&&(d+=E,M++)}return M?w(d/M):A};case"min":return function(h,o){for(var d=1/0,M=0;M<o.length;M++){var T=c(h[o[M]]);T!==A&&(d=Math.min(d,T))}return d===1/0?A:w(d)};case"max":return function(h,o){for(var d=-1/0,M=0;M<o.length;M++){var T=c(h[o[M]]);T!==A&&(d=Math.max(d,T))}return d===-1/0?A:w(d)};case"range":return function(h,o){for(var d=1/0,M=-1/0,T=0;T<o.length;T++){var E=c(h[o[T]]);E!==A&&(d=Math.min(d,E),M=Math.max(M,E))}return M===-1/0||d===1/0?A:w(M-d)};case"change":return function(h,o){var d=c(h[o[0]]),M=c(h[o[o.length-1]]);return d===A||M===A?A:w(M-d)};case"median":return function(h,o){for(var d=[],M=0;M<o.length;M++){var T=c(h[o[M]]);T!==A&&d.push(T)}if(!d.length)return A;d.sort(P.sorterAsc);var E=(d.length-1)/2;return w((d[Math.floor(E)]+d[Math.ceil(E)])/2)};case"mode":return function(h,o){for(var d={},M=0,T=A,E=0;E<o.length;E++){var x=c(h[o[E]]);if(x!==A){var S=d[x]=(d[x]||0)+1;S>M&&(M=S,T=x)}}return M?w(T):A};case"rms":return function(h,o){for(var d=0,M=0,T=0;T<o.length;T++){var E=c(h[o[T]]);E!==A&&(d+=E*E,M++)}return M?w(Math.sqrt(d/M)):A};case"stddev":return function(h,o){var d=0,M=0,T=1,E=A,x;for(x=0;x<o.length&&E===A;x++)E=c(h[o[x]]);if(E===A)return A;for(;x<o.length;x++){var S=c(h[o[x]]);if(S!==A){var b=S-E;d+=b,M+=b*b,T++}}var a=f.funcmode==="sample"?T-1:T;return a?Math.sqrt((M-d*d/T)/a):0}}}function s(f,u){return u.length}function n(f,u){return f[u[0]]}function l(f,u){return f[u[u.length-1]]}},14382:function(W,H,e){var g=e(71828),P=e(73972),i=e(89298),L=e(79344).p,A=e(74808),v=A.COMPARISON_OPS,p=A.INTERVAL_OPS,t=A.SET_OPS;H.moduleType="transform",H.name="filter",H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(p).concat(t),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},H.supplyDefaults=function(s){var n={};function l(c,w){return g.coerce(s,n,H.attributes,c,w)}var f=l("enabled");if(f){var u=l("target");if(g.isArrayOrTypedArray(u)&&u.length===0)return n.enabled=!1,n;l("preservegaps"),l("operation"),l("value");var m=P.getComponentMethod("calendars","handleDefaults");m(s,n,"valuecalendar",null),m(s,n,"targetcalendar",null)}return n},H.calcTransform=function(s,n,l){if(!l.enabled)return;var f=g.getTargetArray(n,l);if(!f)return;var u=l.target,m=f.length;n._length&&(m=Math.min(m,n._length));var c=l.targetcalendar,w=n._arrayAttrs,h=l.preservegaps;if(typeof u=="string"){var o=g.nestedProperty(n,u+"calendar").get();o&&(c=o)}var d=i.getDataToCoordFunc(s,n,u,f),M=r(l,d,c),T={},E={},x=0;function S(I,B){for(var F=0;F<w.length;F++){var O=g.nestedProperty(n,w[F]);I(O,B)}}var b,a;h?(b=function(I){T[I.astr]=g.extendDeep([],I.get()),I.set(new Array(m))},a=function(I,B){var F=T[I.astr][B];I.get()[B]=F}):(b=function(I){T[I.astr]=g.extendDeep([],I.get()),I.set([])},a=function(I,B){var F=T[I.astr][B];I.get().push(F)}),S(b);for(var C=L(n.transforms,l),y=0;y<m;y++){var z=M(f[y]);z?(S(a,y),E[x++]=C(y)):h&&x++}l._indexToPoints=E,n._length=x};function r(s,n,l){var f=s.operation,u=s.value,m=Array.isArray(u);function c(d){return d.indexOf(f)!==-1}var w=function(d){return n(d,0,s.valuecalendar)},h=function(d){return n(d,0,l)},o;switch(c(v)?o=w(m?u[0]:u):c(p)?o=m?[w(u[0]),w(u[1])]:[w(u),w(u)]:c(t)&&(o=m?u.map(w):[w(u)]),f){case"=":return function(d){return h(d)===o};case"!=":return function(d){return h(d)!==o};case"<":return function(d){return h(d)<o};case"<=":return function(d){return h(d)<=o};case">":return function(d){return h(d)>o};case">=":return function(d){return h(d)>=o};case"[]":return function(d){var M=h(d);return M>=o[0]&&M<=o[1]};case"()":return function(d){var M=h(d);return M>o[0]&&M<o[1]};case"[)":return function(d){var M=h(d);return M>=o[0]&&M<o[1]};case"(]":return function(d){var M=h(d);return M>o[0]&&M<=o[1]};case"][":return function(d){var M=h(d);return M<=o[0]||M>=o[1]};case")(":return function(d){var M=h(d);return M<o[0]||M>o[1]};case"](":return function(d){var M=h(d);return M<=o[0]||M>o[1]};case")[":return function(d){var M=h(d);return M<o[0]||M>=o[1]};case"{}":return function(d){return o.indexOf(h(d))!==-1};case"}{":return function(d){return o.indexOf(h(d))===-1}}}},43102:function(W,H,e){var g=e(71828),P=e(86281),i=e(74875),L=e(79344).p;H.moduleType="transform",H.name="groupby",H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},H.supplyDefaults=function(v,p,t){var r,s={};function n(w,h){return g.coerce(v,s,H.attributes,w,h)}var l=n("enabled");if(!l)return s;n("groups"),n("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var f=v.styles,u=s.styles=[];if(f)for(r=0;r<f.length;r++){var m=u[r]={};g.coerce(f[r],u[r],H.attributes.styles,"target");var c=g.coerce(f[r],u[r],H.attributes.styles,"value");g.isPlainObject(c)?m.value=g.extendDeep({},c):c&&delete m.value}return s},H.transform=function(v,p){var t,r,s,n=[];for(r=0;r<v.length;r++)for(t=A(v[r],p),s=0;s<t.length;s++)n.push(t[s]);return n};function A(v,p){var t,r,s,n,l,f,u,m,c,w,h=p.transform,o=p.transformIndex,d=v.transforms[o].groups,M=L(v.transforms,h);if(!g.isArrayOrTypedArray(d)||d.length===0)return[v];var T=g.filterUnique(d),E=new Array(T.length),x=d.length,S=P.findArrayAttributes(v),b=h.styles||[],a={};for(t=0;t<b.length;t++)a[b[t].target]=b[t].value;h.styles&&(w=g.keyedContainer(h,"styles","target","value.name"));var C={},y={};for(t=0;t<T.length;t++){f=T[t],C[f]=t,y[f]=0,u=E[t]=g.extendDeepNoArrays({},v),u._group=f,u.transforms[o]._indexToPoints={};var z=null;for(w&&(z=w.get(f)),z||z===""?u.name=z:u.name=g.templateString(h.nameformat,{trace:v.name,group:f}),m=u.transforms,u.transforms=[],r=0;r<m.length;r++)u.transforms[r]=g.extendDeepNoArrays({},m[r]);for(r=0;r<S.length;r++)g.nestedProperty(u,S[r]).set([])}for(s=0;s<S.length;s++){for(n=S[s],r=0,c=[];r<T.length;r++)c[r]=g.nestedProperty(E[r],n).get();for(l=g.nestedProperty(v,n).get(),r=0;r<x;r++)c[C[d[r]]].push(l[r])}for(r=0;r<x;r++){u=E[C[d[r]]];var I=u.transforms[o]._indexToPoints;I[y[d[r]]]=M(r),y[d[r]]++}for(t=0;t<T.length;t++)f=T[t],u=E[t],i.clearExpandedTraceDefaultColors(u),u=g.extendDeepNoArrays(u,a[f]||{});return E}},79344:function(W,H){H.p=function(e,g){for(var P,i,L=0;L<e.length&&(P=e[L],P!==g);L++)!P._indexToPoints||P.enabled===!1||(i=P._indexToPoints);var A=i?function(v){return i[v]}:function(v){return[v]};return A}},32275:function(W,H,e){var g=e(71828),P=e(89298),i=e(79344).p,L=e(50606).BADNUM;H.moduleType="transform",H.name="sort",H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},H.supplyDefaults=function(p){var t={};function r(n,l){return g.coerce(p,t,H.attributes,n,l)}var s=r("enabled");return s&&(r("target"),r("order")),t},H.calcTransform=function(p,t,r){if(r.enabled){var s=g.getTargetArray(t,r);if(s){var n=r.target,l=s.length;t._length&&(l=Math.min(l,t._length));var f=t._arrayAttrs,u=P.getDataToCoordFunc(p,t,n,s),m=A(r,s,u,l),c=i(t.transforms,r),w={},h,o;for(h=0;h<f.length;h++){var d=g.nestedProperty(t,f[h]),M=d.get(),T=new Array(l);for(o=0;o<l;o++)T[o]=M[m[o]];d.set(T)}for(o=0;o<l;o++)w[o]=c(m[o]);r._indexToPoints=w,t._length=l}}};function A(p,t,r,s){var n=new Array(s),l=new Array(s),f;for(f=0;f<s;f++)n[f]={v:t[f],i:f};for(n.sort(v(p,r)),f=0;f<s;f++)l[f]=n[f].i;return l}function v(p,t){switch(p.order){case"ascending":return function(r,s){var n=t(r.v),l=t(s.v);return n===L?1:l===L?-1:n-l};case"descending":return function(r,s){var n=t(r.v),l=t(s.v);return n===L?1:l===L?-1:l-n}}}},11506:function(W,H){H.version="2.27.1"},9330:function(W,H,e){var g=e(90386);(function(i,L){W.exports=L()})(self,function(){return function(){var P={7386:function(v,p,t){v.exports={alpha_shape:t(2350),convex_hull:t(5537),delaunay_triangulate:t(4419),gl_cone3d:t(1140),gl_error3d:t(3110),gl_heatmap2d:t(6386),gl_line3d:t(6086),gl_mesh3d:t(8116),gl_plot2d:t(2117),gl_plot3d:t(1059),gl_pointcloud2d:t(8271),gl_scatter3d:t(2182),gl_select_box:t(6623),gl_spikes2d:t(3050),gl_streamtube3d:t(7307),gl_surface3d:t(3754),ndarray:t(5050),ndarray_linear_interpolate:t(3581)}},2146:function(v,p,t){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function r(be,ye){if(!(be instanceof ye))throw new TypeError("Cannot call a class as a function")}function s(be,ye){for(var Ae=0;Ae<ye.length;Ae++){var Ee=ye[Ae];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(be,Ee.key,Ee)}}function n(be,ye,Ae){return ye&&s(be.prototype,ye),Ae&&s(be,Ae),Object.defineProperty(be,"prototype",{writable:!1}),be}function l(be,ye){if(typeof ye!="function"&&ye!==null)throw new TypeError("Super expression must either be null or a function");be.prototype=Object.create(ye&&ye.prototype,{constructor:{value:be,writable:!0,configurable:!0}}),Object.defineProperty(be,"prototype",{writable:!1}),ye&&f(be,ye)}function f(be,ye){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ee,Ne){return Ee.__proto__=Ne,Ee},f(be,ye)}function u(be){var ye=w();return function(){var Ee=h(be),Ne;if(ye){var Je=h(this).constructor;Ne=Reflect.construct(Ee,arguments,Je)}else Ne=Ee.apply(this,arguments);return m(this,Ne)}}function m(be,ye){if(ye&&(o(ye)==="object"||typeof ye=="function"))return ye;if(ye!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(be)}function c(be){if(be===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return be}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function h(be){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ae){return Ae.__proto__||Object.getPrototypeOf(Ae)},h(be)}function o(be){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ye){return typeof ye}:function(ye){return ye&&typeof Symbol=="function"&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye},o(be)}var d=t(3910),M=t(3187),T=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;p.lW=b,p.h2=50;var E=2147483647;b.TYPED_ARRAY_SUPPORT=x(),!b.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function x(){try{var be=new Uint8Array(1),ye={foo:function(){return 42}};return Object.setPrototypeOf(ye,Uint8Array.prototype),Object.setPrototypeOf(be,ye),be.foo()===42}catch{return!1}}Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}});function S(be){if(be>E)throw new RangeError('The value "'+be+'" is invalid for option "size"');var ye=new Uint8Array(be);return Object.setPrototypeOf(ye,b.prototype),ye}function b(be,ye,Ae){if(typeof be=="number"){if(typeof ye=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return z(be)}return a(be,ye,Ae)}b.poolSize=8192;function a(be,ye,Ae){if(typeof be=="string")return I(be,ye);if(ArrayBuffer.isView(be))return F(be);if(be==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(be));if(Qe(be,ArrayBuffer)||be&&Qe(be.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Qe(be,SharedArrayBuffer)||be&&Qe(be.buffer,SharedArrayBuffer)))return O(be,ye,Ae);if(typeof be=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ee=be.valueOf&&be.valueOf();if(Ee!=null&&Ee!==be)return b.from(Ee,ye,Ae);var Ne=N(be);if(Ne)return Ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof be[Symbol.toPrimitive]=="function")return b.from(be[Symbol.toPrimitive]("string"),ye,Ae);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(be))}b.from=function(be,ye,Ae){return a(be,ye,Ae)},Object.setPrototypeOf(b.prototype,Uint8Array.prototype),Object.setPrototypeOf(b,Uint8Array);function C(be){if(typeof be!="number")throw new TypeError('"size" argument must be of type number');if(be<0)throw new RangeError('The value "'+be+'" is invalid for option "size"')}function y(be,ye,Ae){return C(be),be<=0?S(be):ye!==void 0?typeof Ae=="string"?S(be).fill(ye,Ae):S(be).fill(ye):S(be)}b.alloc=function(be,ye,Ae){return y(be,ye,Ae)};function z(be){return C(be),S(be<0?0:_(be)|0)}b.allocUnsafe=function(be){return z(be)},b.allocUnsafeSlow=function(be){return z(be)};function I(be,ye){if((typeof ye!="string"||ye==="")&&(ye="utf8"),!b.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye);var Ae=U(be,ye)|0,Ee=S(Ae),Ne=Ee.write(be,ye);return Ne!==Ae&&(Ee=Ee.slice(0,Ne)),Ee}function B(be){for(var ye=be.length<0?0:_(be.length)|0,Ae=S(ye),Ee=0;Ee<ye;Ee+=1)Ae[Ee]=be[Ee]&255;return Ae}function F(be){if(Qe(be,Uint8Array)){var ye=new Uint8Array(be);return O(ye.buffer,ye.byteOffset,ye.byteLength)}return B(be)}function O(be,ye,Ae){if(ye<0||be.byteLength<ye)throw new RangeError('"offset" is outside of buffer bounds');if(be.byteLength<ye+(Ae||0))throw new RangeError('"length" is outside of buffer bounds');var Ee;return ye===void 0&&Ae===void 0?Ee=new Uint8Array(be):Ae===void 0?Ee=new Uint8Array(be,ye):Ee=new Uint8Array(be,ye,Ae),Object.setPrototypeOf(Ee,b.prototype),Ee}function N(be){if(b.isBuffer(be)){var ye=_(be.length)|0,Ae=S(ye);return Ae.length===0||be.copy(Ae,0,0,ye),Ae}if(be.length!==void 0)return typeof be.length!="number"||Fe(be.length)?S(0):B(be);if(be.type==="Buffer"&&Array.isArray(be.data))return B(be.data)}function _(be){if(be>=E)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E.toString(16)+" bytes");return be|0}b.isBuffer=function(ye){return ye!=null&&ye._isBuffer===!0&&ye!==b.prototype},b.compare=function(ye,Ae){if(Qe(ye,Uint8Array)&&(ye=b.from(ye,ye.offset,ye.byteLength)),Qe(Ae,Uint8Array)&&(Ae=b.from(Ae,Ae.offset,Ae.byteLength)),!b.isBuffer(ye)||!b.isBuffer(Ae))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ye===Ae)return 0;for(var Ee=ye.length,Ne=Ae.length,Je=0,qe=Math.min(Ee,Ne);Je<qe;++Je)if(ye[Je]!==Ae[Je]){Ee=ye[Je],Ne=Ae[Je];break}return Ee<Ne?-1:Ne<Ee?1:0},b.isEncoding=function(ye){switch(String(ye).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(ye,Ae){if(!Array.isArray(ye))throw new TypeError('"list" argument must be an Array of Buffers');if(ye.length===0)return b.alloc(0);var Ee;if(Ae===void 0)for(Ae=0,Ee=0;Ee<ye.length;++Ee)Ae+=ye[Ee].length;var Ne=b.allocUnsafe(Ae),Je=0;for(Ee=0;Ee<ye.length;++Ee){var qe=ye[Ee];if(Qe(qe,Uint8Array))Je+qe.length>Ne.length?(b.isBuffer(qe)||(qe=b.from(qe)),qe.copy(Ne,Je)):Uint8Array.prototype.set.call(Ne,qe,Je);else if(b.isBuffer(qe))qe.copy(Ne,Je);else throw new TypeError('"list" argument must be an Array of Buffers');Je+=qe.length}return Ne};function U(be,ye){if(b.isBuffer(be))return be.length;if(ArrayBuffer.isView(be)||Qe(be,ArrayBuffer))return be.byteLength;if(typeof be!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+o(be));var Ae=be.length,Ee=arguments.length>2&&arguments[2]===!0;if(!Ee&&Ae===0)return 0;for(var Ne=!1;;)switch(ye){case"ascii":case"latin1":case"binary":return Ae;case"utf8":case"utf-8":return yt(be).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ae*2;case"hex":return Ae>>>1;case"base64":return Ct(be).length;default:if(Ne)return Ee?-1:yt(be).length;ye=(""+ye).toLowerCase(),Ne=!0}}b.byteLength=U;function Y(be,ye,Ae){var Ee=!1;if((ye===void 0||ye<0)&&(ye=0),ye>this.length||((Ae===void 0||Ae>this.length)&&(Ae=this.length),Ae<=0)||(Ae>>>=0,ye>>>=0,Ae<=ye))return"";for(be||(be="utf8");;)switch(be){case"hex":return ce(this,ye,Ae);case"utf8":case"utf-8":return se(this,ye,Ae);case"ascii":return le(this,ye,Ae);case"latin1":case"binary":return ie(this,ye,Ae);case"base64":return ee(this,ye,Ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me(this,ye,Ae);default:if(Ee)throw new TypeError("Unknown encoding: "+be);be=(be+"").toLowerCase(),Ee=!0}}b.prototype._isBuffer=!0;function K(be,ye,Ae){var Ee=be[ye];be[ye]=be[Ae],be[Ae]=Ee}b.prototype.swap16=function(){var ye=this.length;if(ye%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ae=0;Ae<ye;Ae+=2)K(this,Ae,Ae+1);return this},b.prototype.swap32=function(){var ye=this.length;if(ye%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ae=0;Ae<ye;Ae+=4)K(this,Ae,Ae+3),K(this,Ae+1,Ae+2);return this},b.prototype.swap64=function(){var ye=this.length;if(ye%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ae=0;Ae<ye;Ae+=8)K(this,Ae,Ae+7),K(this,Ae+1,Ae+6),K(this,Ae+2,Ae+5),K(this,Ae+3,Ae+4);return this},b.prototype.toString=function(){var ye=this.length;return ye===0?"":arguments.length===0?se(this,0,ye):Y.apply(this,arguments)},b.prototype.toLocaleString=b.prototype.toString,b.prototype.equals=function(ye){if(!b.isBuffer(ye))throw new TypeError("Argument must be a Buffer");return this===ye?!0:b.compare(this,ye)===0},b.prototype.inspect=function(){var ye="",Ae=p.h2;return ye=this.toString("hex",0,Ae).replace(/(.{2})/g,"$1 ").trim(),this.length>Ae&&(ye+=" ... "),"<Buffer "+ye+">"},T&&(b.prototype[T]=b.prototype.inspect),b.prototype.compare=function(ye,Ae,Ee,Ne,Je){if(Qe(ye,Uint8Array)&&(ye=b.from(ye,ye.offset,ye.byteLength)),!b.isBuffer(ye))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+o(ye));if(Ae===void 0&&(Ae=0),Ee===void 0&&(Ee=ye?ye.length:0),Ne===void 0&&(Ne=0),Je===void 0&&(Je=this.length),Ae<0||Ee>ye.length||Ne<0||Je>this.length)throw new RangeError("out of range index");if(Ne>=Je&&Ae>=Ee)return 0;if(Ne>=Je)return-1;if(Ae>=Ee)return 1;if(Ae>>>=0,Ee>>>=0,Ne>>>=0,Je>>>=0,this===ye)return 0;for(var qe=Je-Ne,vt=Ee-Ae,bt=Math.min(qe,vt),Wt=this.slice(Ne,Je),qt=ye.slice(Ae,Ee),At=0;At<bt;++At)if(Wt[At]!==qt[At]){qe=Wt[At],vt=qt[At];break}return qe<vt?-1:vt<qe?1:0};function re(be,ye,Ae,Ee,Ne){if(be.length===0)return-1;if(typeof Ae=="string"?(Ee=Ae,Ae=0):Ae>2147483647?Ae=2147483647:Ae<-2147483648&&(Ae=-2147483648),Ae=+Ae,Fe(Ae)&&(Ae=Ne?0:be.length-1),Ae<0&&(Ae=be.length+Ae),Ae>=be.length){if(Ne)return-1;Ae=be.length-1}else if(Ae<0)if(Ne)Ae=0;else return-1;if(typeof ye=="string"&&(ye=b.from(ye,Ee)),b.isBuffer(ye))return ye.length===0?-1:ae(be,ye,Ae,Ee,Ne);if(typeof ye=="number")return ye=ye&255,typeof Uint8Array.prototype.indexOf=="function"?Ne?Uint8Array.prototype.indexOf.call(be,ye,Ae):Uint8Array.prototype.lastIndexOf.call(be,ye,Ae):ae(be,[ye],Ae,Ee,Ne);throw new TypeError("val must be string, number or Buffer")}function ae(be,ye,Ae,Ee,Ne){var Je=1,qe=be.length,vt=ye.length;if(Ee!==void 0&&(Ee=String(Ee).toLowerCase(),Ee==="ucs2"||Ee==="ucs-2"||Ee==="utf16le"||Ee==="utf-16le")){if(be.length<2||ye.length<2)return-1;Je=2,qe/=2,vt/=2,Ae/=2}function bt(Jt,Mr){return Je===1?Jt[Mr]:Jt.readUInt16BE(Mr*Je)}var Wt;if(Ne){var qt=-1;for(Wt=Ae;Wt<qe;Wt++)if(bt(be,Wt)===bt(ye,qt===-1?0:Wt-qt)){if(qt===-1&&(qt=Wt),Wt-qt+1===vt)return qt*Je}else qt!==-1&&(Wt-=Wt-qt),qt=-1}else for(Ae+vt>qe&&(Ae=qe-vt),Wt=Ae;Wt>=0;Wt--){for(var At=!0,zt=0;zt<vt;zt++)if(bt(be,Wt+zt)!==bt(ye,zt)){At=!1;break}if(At)return Wt}return-1}b.prototype.includes=function(ye,Ae,Ee){return this.indexOf(ye,Ae,Ee)!==-1},b.prototype.indexOf=function(ye,Ae,Ee){return re(this,ye,Ae,Ee,!0)},b.prototype.lastIndexOf=function(ye,Ae,Ee){return re(this,ye,Ae,Ee,!1)};function fe(be,ye,Ae,Ee){Ae=Number(Ae)||0;var Ne=be.length-Ae;Ee?(Ee=Number(Ee),Ee>Ne&&(Ee=Ne)):Ee=Ne;var Je=ye.length;Ee>Je/2&&(Ee=Je/2);var qe;for(qe=0;qe<Ee;++qe){var vt=parseInt(ye.substr(qe*2,2),16);if(Fe(vt))return qe;be[Ae+qe]=vt}return qe}function Q(be,ye,Ae,Ee){return Vt(yt(ye,be.length-Ae),be,Ae,Ee)}function j(be,ye,Ae,Ee){return Vt(gt(ye),be,Ae,Ee)}function X(be,ye,Ae,Ee){return Vt(Ct(ye),be,Ae,Ee)}function J(be,ye,Ae,Ee){return Vt(Et(ye,be.length-Ae),be,Ae,Ee)}b.prototype.write=function(ye,Ae,Ee,Ne){if(Ae===void 0)Ne="utf8",Ee=this.length,Ae=0;else if(Ee===void 0&&typeof Ae=="string")Ne=Ae,Ee=this.length,Ae=0;else if(isFinite(Ae))Ae=Ae>>>0,isFinite(Ee)?(Ee=Ee>>>0,Ne===void 0&&(Ne="utf8")):(Ne=Ee,Ee=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Je=this.length-Ae;if((Ee===void 0||Ee>Je)&&(Ee=Je),ye.length>0&&(Ee<0||Ae<0)||Ae>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ne||(Ne="utf8");for(var qe=!1;;)switch(Ne){case"hex":return fe(this,ye,Ae,Ee);case"utf8":case"utf-8":return Q(this,ye,Ae,Ee);case"ascii":case"latin1":case"binary":return j(this,ye,Ae,Ee);case"base64":return X(this,ye,Ae,Ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,ye,Ae,Ee);default:if(qe)throw new TypeError("Unknown encoding: "+Ne);Ne=(""+Ne).toLowerCase(),qe=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ee(be,ye,Ae){return ye===0&&Ae===be.length?d.fromByteArray(be):d.fromByteArray(be.slice(ye,Ae))}function se(be,ye,Ae){Ae=Math.min(be.length,Ae);for(var Ee=[],Ne=ye;Ne<Ae;){var Je=be[Ne],qe=null,vt=Je>239?4:Je>223?3:Je>191?2:1;if(Ne+vt<=Ae){var bt=void 0,Wt=void 0,qt=void 0,At=void 0;switch(vt){case 1:Je<128&&(qe=Je);break;case 2:bt=be[Ne+1],(bt&192)===128&&(At=(Je&31)<<6|bt&63,At>127&&(qe=At));break;case 3:bt=be[Ne+1],Wt=be[Ne+2],(bt&192)===128&&(Wt&192)===128&&(At=(Je&15)<<12|(bt&63)<<6|Wt&63,At>2047&&(At<55296||At>57343)&&(qe=At));break;case 4:bt=be[Ne+1],Wt=be[Ne+2],qt=be[Ne+3],(bt&192)===128&&(Wt&192)===128&&(qt&192)===128&&(At=(Je&15)<<18|(bt&63)<<12|(Wt&63)<<6|qt&63,At>65535&&At<1114112&&(qe=At))}}qe===null?(qe=65533,vt=1):qe>65535&&(qe-=65536,Ee.push(qe>>>10&1023|55296),qe=56320|qe&1023),Ee.push(qe),Ne+=vt}return $(Ee)}var q=4096;function $(be){var ye=be.length;if(ye<=q)return String.fromCharCode.apply(String,be);for(var Ae="",Ee=0;Ee<ye;)Ae+=String.fromCharCode.apply(String,be.slice(Ee,Ee+=q));return Ae}function le(be,ye,Ae){var Ee="";Ae=Math.min(be.length,Ae);for(var Ne=ye;Ne<Ae;++Ne)Ee+=String.fromCharCode(be[Ne]&127);return Ee}function ie(be,ye,Ae){var Ee="";Ae=Math.min(be.length,Ae);for(var Ne=ye;Ne<Ae;++Ne)Ee+=String.fromCharCode(be[Ne]);return Ee}function ce(be,ye,Ae){var Ee=be.length;(!ye||ye<0)&&(ye=0),(!Ae||Ae<0||Ae>Ee)&&(Ae=Ee);for(var Ne="",Je=ye;Je<Ae;++Je)Ne+=Ie[be[Je]];return Ne}function me(be,ye,Ae){for(var Ee=be.slice(ye,Ae),Ne="",Je=0;Je<Ee.length-1;Je+=2)Ne+=String.fromCharCode(Ee[Je]+Ee[Je+1]*256);return Ne}b.prototype.slice=function(ye,Ae){var Ee=this.length;ye=~~ye,Ae=Ae===void 0?Ee:~~Ae,ye<0?(ye+=Ee,ye<0&&(ye=0)):ye>Ee&&(ye=Ee),Ae<0?(Ae+=Ee,Ae<0&&(Ae=0)):Ae>Ee&&(Ae=Ee),Ae<ye&&(Ae=ye);var Ne=this.subarray(ye,Ae);return Object.setPrototypeOf(Ne,b.prototype),Ne};function Me(be,ye,Ae){if(be%1!==0||be<0)throw new RangeError("offset is not uint");if(be+ye>Ae)throw new RangeError("Trying to access beyond buffer length")}b.prototype.readUintLE=b.prototype.readUIntLE=function(ye,Ae,Ee){ye=ye>>>0,Ae=Ae>>>0,Ee||Me(ye,Ae,this.length);for(var Ne=this[ye],Je=1,qe=0;++qe<Ae&&(Je*=256);)Ne+=this[ye+qe]*Je;return Ne},b.prototype.readUintBE=b.prototype.readUIntBE=function(ye,Ae,Ee){ye=ye>>>0,Ae=Ae>>>0,Ee||Me(ye,Ae,this.length);for(var Ne=this[ye+--Ae],Je=1;Ae>0&&(Je*=256);)Ne+=this[ye+--Ae]*Je;return Ne},b.prototype.readUint8=b.prototype.readUInt8=function(ye,Ae){return ye=ye>>>0,Ae||Me(ye,1,this.length),this[ye]},b.prototype.readUint16LE=b.prototype.readUInt16LE=function(ye,Ae){return ye=ye>>>0,Ae||Me(ye,2,this.length),this[ye]|this[ye+1]<<8},b.prototype.readUint16BE=b.prototype.readUInt16BE=function(ye,Ae){return ye=ye>>>0,Ae||Me(ye,2,this.length),this[ye]<<8|this[ye+1]},b.prototype.readUint32LE=b.prototype.readUInt32LE=function(ye,Ae){return ye=ye>>>0,Ae||Me(ye,4,this.length),(this[ye]|this[ye+1]<<8|this[ye+2]<<16)+this[ye+3]*16777216},b.prototype.readUint32BE=b.prototype.readUInt32BE=function(ye,Ae){return ye=ye>>>0,Ae||Me(ye,4,this.length),this[ye]*16777216+(this[ye+1]<<16|this[ye+2]<<8|this[ye+3])},b.prototype.readBigUInt64LE=ze(function(ye){ye=ye>>>0,et(ye,"offset");var Ae=this[ye],Ee=this[ye+7];(Ae===void 0||Ee===void 0)&&tt(ye,this.length-8);var Ne=Ae+this[++ye]*Math.pow(2,8)+this[++ye]*Math.pow(2,16)+this[++ye]*Math.pow(2,24),Je=this[++ye]+this[++ye]*Math.pow(2,8)+this[++ye]*Math.pow(2,16)+Ee*Math.pow(2,24);return BigInt(Ne)+(BigInt(Je)<<BigInt(32))}),b.prototype.readBigUInt64BE=ze(function(ye){ye=ye>>>0,et(ye,"offset");var Ae=this[ye],Ee=this[ye+7];(Ae===void 0||Ee===void 0)&&tt(ye,this.length-8);var Ne=Ae*Math.pow(2,24)+this[++ye]*Math.pow(2,16)+this[++ye]*Math.pow(2,8)+this[++ye],Je=this[++ye]*Math.pow(2,24)+this[++ye]*Math.pow(2,16)+this[++ye]*Math.pow(2,8)+Ee;return(BigInt(Ne)<<BigInt(32))+BigInt(Je)}),b.prototype.readIntLE=function(ye,Ae,Ee){ye=ye>>>0,Ae=Ae>>>0,Ee||Me(ye,Ae,this.length);for(var Ne=this[ye],Je=1,qe=0;++qe<Ae&&(Je*=256);)Ne+=this[ye+qe]*Je;return Je*=128,Ne>=Je&&(Ne-=Math.pow(2,8*Ae)),Ne},b.prototype.readIntBE=function(ye,Ae,Ee){ye=ye>>>0,Ae=Ae>>>0,Ee||Me(ye,Ae,this.length);for(var Ne=Ae,Je=1,qe=this[ye+--Ne];Ne>0&&(Je*=256);)qe+=this[ye+--Ne]*Je;return Je*=128,qe>=Je&&(qe-=Math.pow(2,8*Ae)),qe},b.prototype.readInt8=function(ye,Ae){return ye=ye>>>0,Ae||Me(ye,1,this.length),this[ye]&128?(255-this[ye]+1)*-1:this[ye]},b.prototype.readInt16LE=function(ye,Ae){ye=ye>>>0,Ae||Me(ye,2,this.length);var Ee=this[ye]|this[ye+1]<<8;return Ee&32768?Ee|4294901760:Ee},b.prototype.readInt16BE=function(ye,Ae){ye=ye>>>0,Ae||Me(ye,2,this.length);var Ee=this[ye+1]|this[ye]<<8;return Ee&32768?Ee|4294901760:Ee},b.prototype.readInt32LE=function(ye,Ae){return ye=ye>>>0,Ae||Me(ye,4,this.length),this[ye]|this[ye+1]<<8|this[ye+2]<<16|this[ye+3]<<24},b.prototype.readInt32BE=function(ye,Ae){return ye=ye>>>0,Ae||Me(ye,4,this.length),this[ye]<<24|this[ye+1]<<16|this[ye+2]<<8|this[ye+3]},b.prototype.readBigInt64LE=ze(function(ye){ye=ye>>>0,et(ye,"offset");var Ae=this[ye],Ee=this[ye+7];(Ae===void 0||Ee===void 0)&&tt(ye,this.length-8);var Ne=this[ye+4]+this[ye+5]*Math.pow(2,8)+this[ye+6]*Math.pow(2,16)+(Ee<<24);return(BigInt(Ne)<<BigInt(32))+BigInt(Ae+this[++ye]*Math.pow(2,8)+this[++ye]*Math.pow(2,16)+this[++ye]*Math.pow(2,24))}),b.prototype.readBigInt64BE=ze(function(ye){ye=ye>>>0,et(ye,"offset");var Ae=this[ye],Ee=this[ye+7];(Ae===void 0||Ee===void 0)&&tt(ye,this.length-8);var Ne=(Ae<<24)+this[++ye]*Math.pow(2,16)+this[++ye]*Math.pow(2,8)+this[++ye];return(BigInt(Ne)<<BigInt(32))+BigInt(this[++ye]*Math.pow(2,24)+this[++ye]*Math.pow(2,16)+this[++ye]*Math.pow(2,8)+Ee)}),b.prototype.readFloatLE=function(ye,Ae){return ye=ye>>>0,Ae||Me(ye,4,this.length),M.read(this,ye,!0,23,4)},b.prototype.readFloatBE=function(ye,Ae){return ye=ye>>>0,Ae||Me(ye,4,this.length),M.read(this,ye,!1,23,4)},b.prototype.readDoubleLE=function(ye,Ae){return ye=ye>>>0,Ae||Me(ye,8,this.length),M.read(this,ye,!0,52,8)},b.prototype.readDoubleBE=function(ye,Ae){return ye=ye>>>0,Ae||Me(ye,8,this.length),M.read(this,ye,!1,52,8)};function we(be,ye,Ae,Ee,Ne,Je){if(!b.isBuffer(be))throw new TypeError('"buffer" argument must be a Buffer instance');if(ye>Ne||ye<Je)throw new RangeError('"value" argument is out of bounds');if(Ae+Ee>be.length)throw new RangeError("Index out of range")}b.prototype.writeUintLE=b.prototype.writeUIntLE=function(ye,Ae,Ee,Ne){if(ye=+ye,Ae=Ae>>>0,Ee=Ee>>>0,!Ne){var Je=Math.pow(2,8*Ee)-1;we(this,ye,Ae,Ee,Je,0)}var qe=1,vt=0;for(this[Ae]=ye&255;++vt<Ee&&(qe*=256);)this[Ae+vt]=ye/qe&255;return Ae+Ee},b.prototype.writeUintBE=b.prototype.writeUIntBE=function(ye,Ae,Ee,Ne){if(ye=+ye,Ae=Ae>>>0,Ee=Ee>>>0,!Ne){var Je=Math.pow(2,8*Ee)-1;we(this,ye,Ae,Ee,Je,0)}var qe=Ee-1,vt=1;for(this[Ae+qe]=ye&255;--qe>=0&&(vt*=256);)this[Ae+qe]=ye/vt&255;return Ae+Ee},b.prototype.writeUint8=b.prototype.writeUInt8=function(ye,Ae,Ee){return ye=+ye,Ae=Ae>>>0,Ee||we(this,ye,Ae,1,255,0),this[Ae]=ye&255,Ae+1},b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(ye,Ae,Ee){return ye=+ye,Ae=Ae>>>0,Ee||we(this,ye,Ae,2,65535,0),this[Ae]=ye&255,this[Ae+1]=ye>>>8,Ae+2},b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(ye,Ae,Ee){return ye=+ye,Ae=Ae>>>0,Ee||we(this,ye,Ae,2,65535,0),this[Ae]=ye>>>8,this[Ae+1]=ye&255,Ae+2},b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(ye,Ae,Ee){return ye=+ye,Ae=Ae>>>0,Ee||we(this,ye,Ae,4,4294967295,0),this[Ae+3]=ye>>>24,this[Ae+2]=ye>>>16,this[Ae+1]=ye>>>8,this[Ae]=ye&255,Ae+4},b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(ye,Ae,Ee){return ye=+ye,Ae=Ae>>>0,Ee||we(this,ye,Ae,4,4294967295,0),this[Ae]=ye>>>24,this[Ae+1]=ye>>>16,this[Ae+2]=ye>>>8,this[Ae+3]=ye&255,Ae+4};function Oe(be,ye,Ae,Ee,Ne){it(ye,Ee,Ne,be,Ae,7);var Je=Number(ye&BigInt(4294967295));be[Ae++]=Je,Je=Je>>8,be[Ae++]=Je,Je=Je>>8,be[Ae++]=Je,Je=Je>>8,be[Ae++]=Je;var qe=Number(ye>>BigInt(32)&BigInt(4294967295));return be[Ae++]=qe,qe=qe>>8,be[Ae++]=qe,qe=qe>>8,be[Ae++]=qe,qe=qe>>8,be[Ae++]=qe,Ae}function Be(be,ye,Ae,Ee,Ne){it(ye,Ee,Ne,be,Ae,7);var Je=Number(ye&BigInt(4294967295));be[Ae+7]=Je,Je=Je>>8,be[Ae+6]=Je,Je=Je>>8,be[Ae+5]=Je,Je=Je>>8,be[Ae+4]=Je;var qe=Number(ye>>BigInt(32)&BigInt(4294967295));return be[Ae+3]=qe,qe=qe>>8,be[Ae+2]=qe,qe=qe>>8,be[Ae+1]=qe,qe=qe>>8,be[Ae]=qe,Ae+8}b.prototype.writeBigUInt64LE=ze(function(ye){var Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Oe(this,ye,Ae,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeBigUInt64BE=ze(function(ye){var Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Be(this,ye,Ae,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeIntLE=function(ye,Ae,Ee,Ne){if(ye=+ye,Ae=Ae>>>0,!Ne){var Je=Math.pow(2,8*Ee-1);we(this,ye,Ae,Ee,Je-1,-Je)}var qe=0,vt=1,bt=0;for(this[Ae]=ye&255;++qe<Ee&&(vt*=256);)ye<0&&bt===0&&this[Ae+qe-1]!==0&&(bt=1),this[Ae+qe]=(ye/vt>>0)-bt&255;return Ae+Ee},b.prototype.writeIntBE=function(ye,Ae,Ee,Ne){if(ye=+ye,Ae=Ae>>>0,!Ne){var Je=Math.pow(2,8*Ee-1);we(this,ye,Ae,Ee,Je-1,-Je)}var qe=Ee-1,vt=1,bt=0;for(this[Ae+qe]=ye&255;--qe>=0&&(vt*=256);)ye<0&&bt===0&&this[Ae+qe+1]!==0&&(bt=1),this[Ae+qe]=(ye/vt>>0)-bt&255;return Ae+Ee},b.prototype.writeInt8=function(ye,Ae,Ee){return ye=+ye,Ae=Ae>>>0,Ee||we(this,ye,Ae,1,127,-128),ye<0&&(ye=255+ye+1),this[Ae]=ye&255,Ae+1},b.prototype.writeInt16LE=function(ye,Ae,Ee){return ye=+ye,Ae=Ae>>>0,Ee||we(this,ye,Ae,2,32767,-32768),this[Ae]=ye&255,this[Ae+1]=ye>>>8,Ae+2},b.prototype.writeInt16BE=function(ye,Ae,Ee){return ye=+ye,Ae=Ae>>>0,Ee||we(this,ye,Ae,2,32767,-32768),this[Ae]=ye>>>8,this[Ae+1]=ye&255,Ae+2},b.prototype.writeInt32LE=function(ye,Ae,Ee){return ye=+ye,Ae=Ae>>>0,Ee||we(this,ye,Ae,4,2147483647,-2147483648),this[Ae]=ye&255,this[Ae+1]=ye>>>8,this[Ae+2]=ye>>>16,this[Ae+3]=ye>>>24,Ae+4},b.prototype.writeInt32BE=function(ye,Ae,Ee){return ye=+ye,Ae=Ae>>>0,Ee||we(this,ye,Ae,4,2147483647,-2147483648),ye<0&&(ye=4294967295+ye+1),this[Ae]=ye>>>24,this[Ae+1]=ye>>>16,this[Ae+2]=ye>>>8,this[Ae+3]=ye&255,Ae+4},b.prototype.writeBigInt64LE=ze(function(ye){var Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Oe(this,ye,Ae,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),b.prototype.writeBigInt64BE=ze(function(ye){var Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Be(this,ye,Ae,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ce(be,ye,Ae,Ee,Ne,Je){if(Ae+Ee>be.length)throw new RangeError("Index out of range");if(Ae<0)throw new RangeError("Index out of range")}function xe(be,ye,Ae,Ee,Ne){return ye=+ye,Ae=Ae>>>0,Ne||Ce(be,ye,Ae,4),M.write(be,ye,Ae,Ee,23,4),Ae+4}b.prototype.writeFloatLE=function(ye,Ae,Ee){return xe(this,ye,Ae,!0,Ee)},b.prototype.writeFloatBE=function(ye,Ae,Ee){return xe(this,ye,Ae,!1,Ee)};function Se(be,ye,Ae,Ee,Ne){return ye=+ye,Ae=Ae>>>0,Ne||Ce(be,ye,Ae,8),M.write(be,ye,Ae,Ee,52,8),Ae+8}b.prototype.writeDoubleLE=function(ye,Ae,Ee){return Se(this,ye,Ae,!0,Ee)},b.prototype.writeDoubleBE=function(ye,Ae,Ee){return Se(this,ye,Ae,!1,Ee)},b.prototype.copy=function(ye,Ae,Ee,Ne){if(!b.isBuffer(ye))throw new TypeError("argument should be a Buffer");if(Ee||(Ee=0),!Ne&&Ne!==0&&(Ne=this.length),Ae>=ye.length&&(Ae=ye.length),Ae||(Ae=0),Ne>0&&Ne<Ee&&(Ne=Ee),Ne===Ee||ye.length===0||this.length===0)return 0;if(Ae<0)throw new RangeError("targetStart out of bounds");if(Ee<0||Ee>=this.length)throw new RangeError("Index out of range");if(Ne<0)throw new RangeError("sourceEnd out of bounds");Ne>this.length&&(Ne=this.length),ye.length-Ae<Ne-Ee&&(Ne=ye.length-Ae+Ee);var Je=Ne-Ee;return this===ye&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ae,Ee,Ne):Uint8Array.prototype.set.call(ye,this.subarray(Ee,Ne),Ae),Je},b.prototype.fill=function(ye,Ae,Ee,Ne){if(typeof ye=="string"){if(typeof Ae=="string"?(Ne=Ae,Ae=0,Ee=this.length):typeof Ee=="string"&&(Ne=Ee,Ee=this.length),Ne!==void 0&&typeof Ne!="string")throw new TypeError("encoding must be a string");if(typeof Ne=="string"&&!b.isEncoding(Ne))throw new TypeError("Unknown encoding: "+Ne);if(ye.length===1){var Je=ye.charCodeAt(0);(Ne==="utf8"&&Je<128||Ne==="latin1")&&(ye=Je)}}else typeof ye=="number"?ye=ye&255:typeof ye=="boolean"&&(ye=Number(ye));if(Ae<0||this.length<Ae||this.length<Ee)throw new RangeError("Out of range index");if(Ee<=Ae)return this;Ae=Ae>>>0,Ee=Ee===void 0?this.length:Ee>>>0,ye||(ye=0);var qe;if(typeof ye=="number")for(qe=Ae;qe<Ee;++qe)this[qe]=ye;else{var vt=b.isBuffer(ye)?ye:b.from(ye,Ne),bt=vt.length;if(bt===0)throw new TypeError('The value "'+ye+'" is invalid for argument "value"');for(qe=0;qe<Ee-Ae;++qe)this[qe+Ae]=vt[qe%bt]}return this};var He={};function Ge(be,ye,Ae){He[be]=function(Ee){l(Je,Ee);var Ne=u(Je);function Je(){var qe;return r(this,Je),qe=Ne.call(this),Object.defineProperty(c(qe),"message",{value:ye.apply(c(qe),arguments),writable:!0,configurable:!0}),qe.name="".concat(qe.name," [").concat(be,"]"),qe.stack,delete qe.name,qe}return n(Je,[{key:"code",get:function(){return be},set:function(vt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:vt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(be,"]: ").concat(this.message)}}]),Je}(Ae)}Ge("ERR_BUFFER_OUT_OF_BOUNDS",function(be){return be?"".concat(be," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ge("ERR_INVALID_ARG_TYPE",function(be,ye){return'The "'.concat(be,'" argument must be of type number. Received type ').concat(o(ye))},TypeError),Ge("ERR_OUT_OF_RANGE",function(be,ye,Ae){var Ee='The value of "'.concat(be,'" is out of range.'),Ne=Ae;return Number.isInteger(Ae)&&Math.abs(Ae)>Math.pow(2,32)?Ne=ke(String(Ae)):typeof Ae=="bigint"&&(Ne=String(Ae),(Ae>Math.pow(BigInt(2),BigInt(32))||Ae<-Math.pow(BigInt(2),BigInt(32)))&&(Ne=ke(Ne)),Ne+="n"),Ee+=" It must be ".concat(ye,". Received ").concat(Ne),Ee},RangeError);function ke(be){for(var ye="",Ae=be.length,Ee=be[0]==="-"?1:0;Ae>=Ee+4;Ae-=3)ye="_".concat(be.slice(Ae-3,Ae)).concat(ye);return"".concat(be.slice(0,Ae)).concat(ye)}function We(be,ye,Ae){et(ye,"offset"),(be[ye]===void 0||be[ye+Ae]===void 0)&&tt(ye,be.length-(Ae+1))}function it(be,ye,Ae,Ee,Ne,Je){if(be>Ae||be<ye){var qe=typeof ye=="bigint"?"n":"",vt;throw Je>3?ye===0||ye===BigInt(0)?vt=">= 0".concat(qe," and < 2").concat(qe," ** ").concat((Je+1)*8).concat(qe):vt=">= -(2".concat(qe," ** ").concat((Je+1)*8-1).concat(qe,") and < 2 ** ")+"".concat((Je+1)*8-1).concat(qe):vt=">= ".concat(ye).concat(qe," and <= ").concat(Ae).concat(qe),new He.ERR_OUT_OF_RANGE("value",vt,be)}We(Ee,Ne,Je)}function et(be,ye){if(typeof be!="number")throw new He.ERR_INVALID_ARG_TYPE(ye,"number",be)}function tt(be,ye,Ae){throw Math.floor(be)!==be?(et(be,Ae),new He.ERR_OUT_OF_RANGE(Ae||"offset","an integer",be)):ye<0?new He.ERR_BUFFER_OUT_OF_BOUNDS:new He.ERR_OUT_OF_RANGE(Ae||"offset",">= ".concat(Ae?1:0," and <= ").concat(ye),be)}var at=/[^+/0-9A-Za-z-_]/g;function ht(be){if(be=be.split("=")[0],be=be.trim().replace(at,""),be.length<2)return"";for(;be.length%4!==0;)be=be+"=";return be}function yt(be,ye){ye=ye||1/0;for(var Ae,Ee=be.length,Ne=null,Je=[],qe=0;qe<Ee;++qe){if(Ae=be.charCodeAt(qe),Ae>55295&&Ae<57344){if(!Ne){if(Ae>56319){(ye-=3)>-1&&Je.push(239,191,189);continue}else if(qe+1===Ee){(ye-=3)>-1&&Je.push(239,191,189);continue}Ne=Ae;continue}if(Ae<56320){(ye-=3)>-1&&Je.push(239,191,189),Ne=Ae;continue}Ae=(Ne-55296<<10|Ae-56320)+65536}else Ne&&(ye-=3)>-1&&Je.push(239,191,189);if(Ne=null,Ae<128){if((ye-=1)<0)break;Je.push(Ae)}else if(Ae<2048){if((ye-=2)<0)break;Je.push(Ae>>6|192,Ae&63|128)}else if(Ae<65536){if((ye-=3)<0)break;Je.push(Ae>>12|224,Ae>>6&63|128,Ae&63|128)}else if(Ae<1114112){if((ye-=4)<0)break;Je.push(Ae>>18|240,Ae>>12&63|128,Ae>>6&63|128,Ae&63|128)}else throw new Error("Invalid code point")}return Je}function gt(be){for(var ye=[],Ae=0;Ae<be.length;++Ae)ye.push(be.charCodeAt(Ae)&255);return ye}function Et(be,ye){for(var Ae,Ee,Ne,Je=[],qe=0;qe<be.length&&!((ye-=2)<0);++qe)Ae=be.charCodeAt(qe),Ee=Ae>>8,Ne=Ae%256,Je.push(Ne),Je.push(Ee);return Je}function Ct(be){return d.toByteArray(ht(be))}function Vt(be,ye,Ae,Ee){var Ne;for(Ne=0;Ne<Ee&&!(Ne+Ae>=ye.length||Ne>=be.length);++Ne)ye[Ne+Ae]=be[Ne];return Ne}function Qe(be,ye){return be instanceof ye||be!=null&&be.constructor!=null&&be.constructor.name!=null&&be.constructor.name===ye.name}function Fe(be){return be!==be}var Ie=function(){for(var be="0123456789abcdef",ye=new Array(256),Ae=0;Ae<16;++Ae)for(var Ee=Ae*16,Ne=0;Ne<16;++Ne)ye[Ee+Ne]=be[Ae]+be[Ne];return ye}();function ze(be){return typeof BigInt>"u"?Re:be}function Re(){throw new Error("BigInt not supported")}},2321:function(v){v.exports=s,v.exports.isMobile=s,v.exports.default=s;var p=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,r=/android|ipad|playbook|silk/i;function s(n){n||(n={});var l=n.ua;if(!l&&typeof navigator<"u"&&(l=navigator.userAgent),l&&l.headers&&typeof l.headers["user-agent"]=="string"&&(l=l.headers["user-agent"]),typeof l!="string")return!1;var f=p.test(l)&&!t.test(l)||!!n.tablet&&r.test(l);return!f&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&l.indexOf("Macintosh")!==-1&&l.indexOf("Safari")!==-1&&(f=!0),f}},3910:function(v,p){p.byteLength=m,p.toByteArray=w,p.fromByteArray=d;for(var t=[],r=[],s=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,f=n.length;l<f;++l)t[l]=n[l],r[n.charCodeAt(l)]=l;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function u(M){var T=M.length;if(T%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=M.indexOf("=");E===-1&&(E=T);var x=E===T?0:4-E%4;return[E,x]}function m(M){var T=u(M),E=T[0],x=T[1];return(E+x)*3/4-x}function c(M,T,E){return(T+E)*3/4-E}function w(M){var T,E=u(M),x=E[0],S=E[1],b=new s(c(M,x,S)),a=0,C=S>0?x-4:x,y;for(y=0;y<C;y+=4)T=r[M.charCodeAt(y)]<<18|r[M.charCodeAt(y+1)]<<12|r[M.charCodeAt(y+2)]<<6|r[M.charCodeAt(y+3)],b[a++]=T>>16&255,b[a++]=T>>8&255,b[a++]=T&255;return S===2&&(T=r[M.charCodeAt(y)]<<2|r[M.charCodeAt(y+1)]>>4,b[a++]=T&255),S===1&&(T=r[M.charCodeAt(y)]<<10|r[M.charCodeAt(y+1)]<<4|r[M.charCodeAt(y+2)]>>2,b[a++]=T>>8&255,b[a++]=T&255),b}function h(M){return t[M>>18&63]+t[M>>12&63]+t[M>>6&63]+t[M&63]}function o(M,T,E){for(var x,S=[],b=T;b<E;b+=3)x=(M[b]<<16&16711680)+(M[b+1]<<8&65280)+(M[b+2]&255),S.push(h(x));return S.join("")}function d(M){for(var T,E=M.length,x=E%3,S=[],b=16383,a=0,C=E-x;a<C;a+=b)S.push(o(M,a,a+b>C?C:a+b));return x===1?(T=M[E-1],S.push(t[T>>2]+t[T<<4&63]+"==")):x===2&&(T=(M[E-2]<<8)+M[E-1],S.push(t[T>>10]+t[T>>4&63]+t[T<<2&63]+"=")),S.join("")}},3187:function(v,p){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */p.read=function(t,r,s,n,l){var f,u,m=l*8-n-1,c=(1<<m)-1,w=c>>1,h=-7,o=s?l-1:0,d=s?-1:1,M=t[r+o];for(o+=d,f=M&(1<<-h)-1,M>>=-h,h+=m;h>0;f=f*256+t[r+o],o+=d,h-=8);for(u=f&(1<<-h)-1,f>>=-h,h+=n;h>0;u=u*256+t[r+o],o+=d,h-=8);if(f===0)f=1-w;else{if(f===c)return u?NaN:(M?-1:1)*(1/0);u=u+Math.pow(2,n),f=f-w}return(M?-1:1)*u*Math.pow(2,f-n)},p.write=function(t,r,s,n,l,f){var u,m,c,w=f*8-l-1,h=(1<<w)-1,o=h>>1,d=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=n?0:f-1,T=n?1:-1,E=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(m=isNaN(r)?1:0,u=h):(u=Math.floor(Math.log(r)/Math.LN2),r*(c=Math.pow(2,-u))<1&&(u--,c*=2),u+o>=1?r+=d/c:r+=d*Math.pow(2,1-o),r*c>=2&&(u++,c/=2),u+o>=h?(m=0,u=h):u+o>=1?(m=(r*c-1)*Math.pow(2,l),u=u+o):(m=r*Math.pow(2,o-1)*Math.pow(2,l),u=0));l>=8;t[s+M]=m&255,M+=T,m/=256,l-=8);for(u=u<<l|m,w+=l;w>0;t[s+M]=u&255,M+=T,u/=256,w-=8);t[s+M-T]|=E*128}},1152:function(v,p,t){v.exports=u;var r=t(3440),s=t(7774),n=t(9298);function l(m,c){this._controllerNames=Object.keys(m),this._controllerList=this._controllerNames.map(function(w){return m[w]}),this._mode=c,this._active=m[c],this._active||(this._mode="turntable",this._active=m.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var f=l.prototype;f.flush=function(m){for(var c=this._controllerList,w=0;w<c.length;++w)c[w].flush(m)},f.idle=function(m){for(var c=this._controllerList,w=0;w<c.length;++w)c[w].idle(m)},f.lookAt=function(m,c,w,h){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].lookAt(m,c,w,h)},f.rotate=function(m,c,w,h){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].rotate(m,c,w,h)},f.pan=function(m,c,w,h){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].pan(m,c,w,h)},f.translate=function(m,c,w,h){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].translate(m,c,w,h)},f.setMatrix=function(m,c){for(var w=this._controllerList,h=0;h<w.length;++h)w[h].setMatrix(m,c)},f.setDistanceLimits=function(m,c){for(var w=this._controllerList,h=0;h<w.length;++h)w[h].setDistanceLimits(m,c)},f.setDistance=function(m,c){for(var w=this._controllerList,h=0;h<w.length;++h)w[h].setDistance(m,c)},f.recalcMatrix=function(m){this._active.recalcMatrix(m)},f.getDistance=function(m){return this._active.getDistance(m)},f.getDistanceLimits=function(m){return this._active.getDistanceLimits(m)},f.lastT=function(){return this._active.lastT()},f.setMode=function(m){if(m!==this._mode){var c=this._controllerNames.indexOf(m);if(!(c<0)){var w=this._active,h=this._controllerList[c],o=Math.max(w.lastT(),h.lastT());w.recalcMatrix(o),h.setMatrix(o,w.computedMatrix),this._active=h,this._mode=m,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},f.getMode=function(){return this._mode};function u(m){m=m||{};var c=m.eye||[0,0,1],w=m.center||[0,0,0],h=m.up||[0,1,0],o=m.distanceLimits||[0,1/0],d=m.mode||"turntable",M=r(),T=s(),E=n();return M.setDistanceLimits(o[0],o[1]),M.lookAt(0,c,w,h),T.setDistanceLimits(o[0],o[1]),T.lookAt(0,c,w,h),E.setDistanceLimits(o[0],o[1]),E.lookAt(0,c,w,h),new l({turntable:M,orbit:T,matrix:E},d)}},8126:function(v,p,t){var r=typeof WeakMap>"u"?t(5346):WeakMap,s=t(5827),n=t(2944),l=new r;function f(u){var m=l.get(u),c=m&&(m._triangleBuffer.handle||m._triangleBuffer.buffer);if(!c||!u.isBuffer(c)){var w=s(u,new Float32Array([-1,-1,-1,4,4,-1]));m=n(u,[{buffer:w,type:u.FLOAT,size:2}]),m._triangleBuffer=w,l.set(u,m)}m.bind(),u.drawArrays(u.TRIANGLES,0,3),m.unbind()}v.exports=f},8008:function(v,p,t){var r=t(4930);v.exports=s;function s(n,l,f){l=typeof l=="number"?l:1,f=f||": ";var u=n.split(/\r?\n/),m=String(u.length+l-1).length;return u.map(function(c,w){var h=w+l,o=String(h).length,d=r(h,m-o);return d+f+c}).join(`
`)}},2153:function(v,p,t){v.exports=n;var r=t(417);function s(l,f){for(var u=new Array(f+1),m=0;m<l.length;++m)u[m]=l[m];for(var m=0;m<=l.length;++m){for(var c=l.length;c<=f;++c){for(var w=new Array(f),h=0;h<f;++h)w[h]=Math.pow(c+1-m,h);u[c]=w}var o=r.apply(void 0,u);if(o)return!0}return!1}function n(l){var f=l.length;if(f===0)return[];if(f===1)return[0];for(var u=l[0].length,m=[l[0]],c=[0],w=1;w<f;++w){if(m.push(l[w]),!s(m,u)){m.pop();continue}if(c.push(w),c.length===u+1)return c}return c}},4653:function(v,p,t){v.exports=n;var r=t(4419),s=t(1778);function n(l,f){return r(f).filter(function(u){for(var m=new Array(u.length),c=0;c<u.length;++c)m[c]=f[u[c]];return s(m)*l<1})}},2350:function(v,p,t){v.exports=n;var r=t(4653),s=t(8691);function n(l,f){return s(r(l,f))}},7896:function(v){v.exports=function(t){return atob(t)}},957:function(v,p,t){v.exports=n;var r=t(6606);function s(l){for(var f=0,u=0;u<l.length;++u)f+=l[u];return f}function n(l,f){for(var u=f.length,m=new Array(u+1),c=0;c<u;++c){for(var w=new Array(u+1),h=0;h<=u;++h)w[h]=l[h][c];m[c]=w}m[u]=new Array(u+1);for(var c=0;c<=u;++c)m[u][c]=1;for(var o=new Array(u+1),c=0;c<u;++c)o[c]=f[c];o[u]=1;var d=r(m,o),M=s(d[u+1]);M===0&&(M=1);for(var T=new Array(u+1),c=0;c<=u;++c)T[c]=s(d[c])/M;return T}},1539:function(v,p,t){var r=t(8524);v.exports=s;function s(n,l){return r(n[0].mul(l[1]).add(l[0].mul(n[1])),n[1].mul(l[1]))}},8846:function(v){v.exports=p;function p(t,r){return t[0].mul(r[1]).cmp(r[0].mul(t[1]))}},9189:function(v,p,t){var r=t(8524);v.exports=s;function s(n,l){return r(n[0].mul(l[1]),n[1].mul(l[0]))}},5125:function(v,p,t){var r=t(234),s=t(3218),n=t(5514),l=t(2813),f=t(8524),u=t(9189);v.exports=m;function m(c,w){if(r(c))return w?u(c,m(w)):[c[0].clone(),c[1].clone()];var h=0,o,d;if(s(c))o=c.clone();else if(typeof c=="string")o=l(c);else{if(c===0)return[n(0),n(1)];if(c===Math.floor(c))o=n(c);else{for(;c!==Math.floor(c);)c=c*Math.pow(2,256),h-=256;o=n(c)}}if(r(w))o.mul(w[1]),d=w[0].clone();else if(s(w))d=w.clone();else if(typeof w=="string")d=l(w);else if(!w)d=n(1);else if(w===Math.floor(w))d=n(w);else{for(;w!==Math.floor(w);)w=w*Math.pow(2,256),h+=256;d=n(w)}return h>0?o=o.ushln(h):h<0&&(d=d.ushln(-h)),f(o,d)}},234:function(v,p,t){var r=t(3218);v.exports=s;function s(n){return Array.isArray(n)&&n.length===2&&r(n[0])&&r(n[1])}},4275:function(v,p,t){var r=t(1928);v.exports=s;function s(n){return n.cmp(new r(0))}},9958:function(v,p,t){var r=t(4275);v.exports=s;function s(n){var l=n.length,f=n.words,u=0;if(l===1)u=f[0];else if(l===2)u=f[0]+f[1]*67108864;else for(var m=0;m<l;m++){var c=f[m];u+=c*Math.pow(67108864,m)}return r(n)*u}},1112:function(v,p,t){var r=t(8362),s=t(2288).countTrailingZeros;v.exports=n;function n(l){var f=s(r.lo(l));if(f<32)return f;var u=s(r.hi(l));return u>20?52:u+32}},3218:function(v,p,t){t(1928),v.exports=r;function r(s){return s&&typeof s=="object"&&!!s.words}},5514:function(v,p,t){var r=t(1928),s=t(8362);v.exports=n;function n(l){var f=s.exponent(l);return f<52?new r(l):new r(l*Math.pow(2,52-f)).ushln(f-52)}},8524:function(v,p,t){var r=t(5514),s=t(4275);v.exports=n;function n(l,f){var u=s(l),m=s(f);if(u===0)return[r(0),r(1)];if(m===0)return[r(0),r(0)];m<0&&(l=l.neg(),f=f.neg());var c=l.gcd(f);return c.cmpn(1)?[l.div(c),f.div(c)]:[l,f]}},2813:function(v,p,t){var r=t(1928);v.exports=s;function s(n){return new r(n)}},3962:function(v,p,t){var r=t(8524);v.exports=s;function s(n,l){return r(n[0].mul(l[0]),n[1].mul(l[1]))}},4951:function(v,p,t){var r=t(4275);v.exports=s;function s(n){return r(n[0])*r(n[1])}},4354:function(v,p,t){var r=t(8524);v.exports=s;function s(n,l){return r(n[0].mul(l[1]).sub(n[1].mul(l[0])),n[1].mul(l[1]))}},7999:function(v,p,t){var r=t(9958),s=t(1112);v.exports=n;function n(l){var f=l[0],u=l[1];if(f.cmpn(0)===0)return 0;var m=f.abs().divmod(u.abs()),c=m.div,w=r(c),h=m.mod,o=f.negative!==u.negative?-1:1;if(h.cmpn(0)===0)return o*w;if(w){var d=s(w)+4,M=r(h.ushln(d).divRound(u));return o*(w+M*Math.pow(2,-d))}else{var T=u.bitLength()-h.bitLength()+53,M=r(h.ushln(T).divRound(u));return T<1023?o*M*Math.pow(2,-T):(M*=Math.pow(2,-1023),o*M*Math.pow(2,1023-T))}}},5070:function(v){function p(f,u,m,c,w){for(var h=w+1;c<=w;){var o=c+w>>>1,d=f[o],M=m!==void 0?m(d,u):d-u;M>=0?(h=o,w=o-1):c=o+1}return h}function t(f,u,m,c,w){for(var h=w+1;c<=w;){var o=c+w>>>1,d=f[o],M=m!==void 0?m(d,u):d-u;M>0?(h=o,w=o-1):c=o+1}return h}function r(f,u,m,c,w){for(var h=c-1;c<=w;){var o=c+w>>>1,d=f[o],M=m!==void 0?m(d,u):d-u;M<0?(h=o,c=o+1):w=o-1}return h}function s(f,u,m,c,w){for(var h=c-1;c<=w;){var o=c+w>>>1,d=f[o],M=m!==void 0?m(d,u):d-u;M<=0?(h=o,c=o+1):w=o-1}return h}function n(f,u,m,c,w){for(;c<=w;){var h=c+w>>>1,o=f[h],d=m!==void 0?m(o,u):o-u;if(d===0)return h;d<=0?c=h+1:w=h-1}return-1}function l(f,u,m,c,w,h){return typeof m=="function"?h(f,u,m,c===void 0?0:c|0,w===void 0?f.length-1:w|0):h(f,u,void 0,m===void 0?0:m|0,c===void 0?f.length-1:c|0)}v.exports={ge:function(f,u,m,c,w){return l(f,u,m,c,w,p)},gt:function(f,u,m,c,w){return l(f,u,m,c,w,t)},lt:function(f,u,m,c,w){return l(f,u,m,c,w,r)},le:function(f,u,m,c,w){return l(f,u,m,c,w,s)},eq:function(f,u,m,c,w){return l(f,u,m,c,w,n)}}},2288:function(v,p){"use restrict";var t=32;p.INT_BITS=t,p.INT_MAX=2147483647,p.INT_MIN=-1<<t-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var l=n>>t-1;return(n^l)-l},p.min=function(n,l){return l^(n^l)&-(n<l)},p.max=function(n,l){return n^(n^l)&-(n<l)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var l,f;return l=(n>65535)<<4,n>>>=l,f=(n>255)<<3,n>>>=f,l|=f,f=(n>15)<<2,n>>>=f,l|=f,f=(n>3)<<1,n>>>=f,l|=f,l|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function r(n){var l=32;return n&=-n,n&&l--,n&65535&&(l-=16),n&16711935&&(l-=8),n&252645135&&(l-=4),n&858993459&&(l-=2),n&1431655765&&(l-=1),l}p.countTrailingZeros=r,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var s=new Array(256);(function(n){for(var l=0;l<256;++l){var f=l,u=l,m=7;for(f>>>=1;f;f>>>=1)u<<=1,u|=f&1,--m;n[l]=u<<m&255}})(s),p.reverse=function(n){return s[n&255]<<24|s[n>>>8&255]<<16|s[n>>>16&255]<<8|s[n>>>24&255]},p.interleave2=function(n,l){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,l&=65535,l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,n|l<<1},p.deinterleave2=function(n,l){return n=n>>>l&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,l,f){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,l&=1023,l=(l|l<<16)&4278190335,l=(l|l<<8)&251719695,l=(l|l<<4)&3272356035,l=(l|l<<2)&1227133513,n|=l<<1,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|f<<2},p.deinterleave3=function(n,l){return n=n>>>l&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var l=n|n-1;return l+1|(~l&-~l)-1>>>r(n)+1}},1928:function(v,p,t){v=t.nmd(v),function(r,s){function n(N,_){if(!N)throw new Error(_||"Assertion failed")}function l(N,_){N.super_=_;var U=function(){};U.prototype=_.prototype,N.prototype=new U,N.prototype.constructor=N}function f(N,_,U){if(f.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&((_==="le"||_==="be")&&(U=_,_=10),this._init(N||0,_||10,U||"be"))}typeof r=="object"?r.exports=f:s.BN=f,f.BN=f,f.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=t(6601).Buffer}catch{}f.isBN=function(_){return _ instanceof f?!0:_!==null&&typeof _=="object"&&_.constructor.wordSize===f.wordSize&&Array.isArray(_.words)},f.max=function(_,U){return _.cmp(U)>0?_:U},f.min=function(_,U){return _.cmp(U)<0?_:U},f.prototype._init=function(_,U,Y){if(typeof _=="number")return this._initNumber(_,U,Y);if(typeof _=="object")return this._initArray(_,U,Y);U==="hex"&&(U=16),n(U===(U|0)&&U>=2&&U<=36),_=_.toString().replace(/\s+/g,"");var K=0;_[0]==="-"&&(K++,this.negative=1),K<_.length&&(U===16?this._parseHex(_,K,Y):(this._parseBase(_,U,K),Y==="le"&&this._initArray(this.toArray(),U,Y)))},f.prototype._initNumber=function(_,U,Y){_<0&&(this.negative=1,_=-_),_<67108864?(this.words=[_&67108863],this.length=1):_<4503599627370496?(this.words=[_&67108863,_/67108864&67108863],this.length=2):(n(_<9007199254740992),this.words=[_&67108863,_/67108864&67108863,1],this.length=3),Y==="le"&&this._initArray(this.toArray(),U,Y)},f.prototype._initArray=function(_,U,Y){if(n(typeof _.length=="number"),_.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_.length/3),this.words=new Array(this.length);for(var K=0;K<this.length;K++)this.words[K]=0;var re,ae,fe=0;if(Y==="be")for(K=_.length-1,re=0;K>=0;K-=3)ae=_[K]|_[K-1]<<8|_[K-2]<<16,this.words[re]|=ae<<fe&67108863,this.words[re+1]=ae>>>26-fe&67108863,fe+=24,fe>=26&&(fe-=26,re++);else if(Y==="le")for(K=0,re=0;K<_.length;K+=3)ae=_[K]|_[K+1]<<8|_[K+2]<<16,this.words[re]|=ae<<fe&67108863,this.words[re+1]=ae>>>26-fe&67108863,fe+=24,fe>=26&&(fe-=26,re++);return this.strip()};function m(N,_){var U=N.charCodeAt(_);return U>=65&&U<=70?U-55:U>=97&&U<=102?U-87:U-48&15}function c(N,_,U){var Y=m(N,U);return U-1>=_&&(Y|=m(N,U-1)<<4),Y}f.prototype._parseHex=function(_,U,Y){this.length=Math.ceil((_.length-U)/6),this.words=new Array(this.length);for(var K=0;K<this.length;K++)this.words[K]=0;var re=0,ae=0,fe;if(Y==="be")for(K=_.length-1;K>=U;K-=2)fe=c(_,U,K)<<re,this.words[ae]|=fe&67108863,re>=18?(re-=18,ae+=1,this.words[ae]|=fe>>>26):re+=8;else{var Q=_.length-U;for(K=Q%2===0?U+1:U;K<_.length;K+=2)fe=c(_,U,K)<<re,this.words[ae]|=fe&67108863,re>=18?(re-=18,ae+=1,this.words[ae]|=fe>>>26):re+=8}this.strip()};function w(N,_,U,Y){for(var K=0,re=Math.min(N.length,U),ae=_;ae<re;ae++){var fe=N.charCodeAt(ae)-48;K*=Y,fe>=49?K+=fe-49+10:fe>=17?K+=fe-17+10:K+=fe}return K}f.prototype._parseBase=function(_,U,Y){this.words=[0],this.length=1;for(var K=0,re=1;re<=67108863;re*=U)K++;K--,re=re/U|0;for(var ae=_.length-Y,fe=ae%K,Q=Math.min(ae,ae-fe)+Y,j=0,X=Y;X<Q;X+=K)j=w(_,X,X+K,U),this.imuln(re),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j);if(fe!==0){var J=1;for(j=w(_,X,_.length,U),X=0;X<fe;X++)J*=U;this.imuln(J),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j)}this.strip()},f.prototype.copy=function(_){_.words=new Array(this.length);for(var U=0;U<this.length;U++)_.words[U]=this.words[U];_.length=this.length,_.negative=this.negative,_.red=this.red},f.prototype.clone=function(){var _=new f(null);return this.copy(_),_},f.prototype._expand=function(_){for(;this.length<_;)this.words[this.length++]=0;return this},f.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},f.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},f.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],o=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];f.prototype.toString=function(_,U){_=_||10,U=U|0||1;var Y;if(_===16||_==="hex"){Y="";for(var K=0,re=0,ae=0;ae<this.length;ae++){var fe=this.words[ae],Q=((fe<<K|re)&16777215).toString(16);re=fe>>>24-K&16777215,re!==0||ae!==this.length-1?Y=h[6-Q.length]+Q+Y:Y=Q+Y,K+=2,K>=26&&(K-=26,ae--)}for(re!==0&&(Y=re.toString(16)+Y);Y.length%U!==0;)Y="0"+Y;return this.negative!==0&&(Y="-"+Y),Y}if(_===(_|0)&&_>=2&&_<=36){var j=o[_],X=d[_];Y="";var J=this.clone();for(J.negative=0;!J.isZero();){var ee=J.modn(X).toString(_);J=J.idivn(X),J.isZero()?Y=ee+Y:Y=h[j-ee.length]+ee+Y}for(this.isZero()&&(Y="0"+Y);Y.length%U!==0;)Y="0"+Y;return this.negative!==0&&(Y="-"+Y),Y}n(!1,"Base should be between 2 and 36")},f.prototype.toNumber=function(){var _=this.words[0];return this.length===2?_+=this.words[1]*67108864:this.length===3&&this.words[2]===1?_+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_:_},f.prototype.toJSON=function(){return this.toString(16)},f.prototype.toBuffer=function(_,U){return n(typeof u<"u"),this.toArrayLike(u,_,U)},f.prototype.toArray=function(_,U){return this.toArrayLike(Array,_,U)},f.prototype.toArrayLike=function(_,U,Y){var K=this.byteLength(),re=Y||Math.max(1,K);n(K<=re,"byte array longer than desired length"),n(re>0,"Requested array length <= 0"),this.strip();var ae=U==="le",fe=new _(re),Q,j,X=this.clone();if(ae){for(j=0;!X.isZero();j++)Q=X.andln(255),X.iushrn(8),fe[j]=Q;for(;j<re;j++)fe[j]=0}else{for(j=0;j<re-K;j++)fe[j]=0;for(j=0;!X.isZero();j++)Q=X.andln(255),X.iushrn(8),fe[re-j-1]=Q}return fe},Math.clz32?f.prototype._countBits=function(_){return 32-Math.clz32(_)}:f.prototype._countBits=function(_){var U=_,Y=0;return U>=4096&&(Y+=13,U>>>=13),U>=64&&(Y+=7,U>>>=7),U>=8&&(Y+=4,U>>>=4),U>=2&&(Y+=2,U>>>=2),Y+U},f.prototype._zeroBits=function(_){if(_===0)return 26;var U=_,Y=0;return U&8191||(Y+=13,U>>>=13),U&127||(Y+=7,U>>>=7),U&15||(Y+=4,U>>>=4),U&3||(Y+=2,U>>>=2),U&1||Y++,Y},f.prototype.bitLength=function(){var _=this.words[this.length-1],U=this._countBits(_);return(this.length-1)*26+U};function M(N){for(var _=new Array(N.bitLength()),U=0;U<_.length;U++){var Y=U/26|0,K=U%26;_[U]=(N.words[Y]&1<<K)>>>K}return _}f.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _=0,U=0;U<this.length;U++){var Y=this._zeroBits(this.words[U]);if(_+=Y,Y!==26)break}return _},f.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},f.prototype.toTwos=function(_){return this.negative!==0?this.abs().inotn(_).iaddn(1):this.clone()},f.prototype.fromTwos=function(_){return this.testn(_-1)?this.notn(_).iaddn(1).ineg():this.clone()},f.prototype.isNeg=function(){return this.negative!==0},f.prototype.neg=function(){return this.clone().ineg()},f.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},f.prototype.iuor=function(_){for(;this.length<_.length;)this.words[this.length++]=0;for(var U=0;U<_.length;U++)this.words[U]=this.words[U]|_.words[U];return this.strip()},f.prototype.ior=function(_){return n((this.negative|_.negative)===0),this.iuor(_)},f.prototype.or=function(_){return this.length>_.length?this.clone().ior(_):_.clone().ior(this)},f.prototype.uor=function(_){return this.length>_.length?this.clone().iuor(_):_.clone().iuor(this)},f.prototype.iuand=function(_){var U;this.length>_.length?U=_:U=this;for(var Y=0;Y<U.length;Y++)this.words[Y]=this.words[Y]&_.words[Y];return this.length=U.length,this.strip()},f.prototype.iand=function(_){return n((this.negative|_.negative)===0),this.iuand(_)},f.prototype.and=function(_){return this.length>_.length?this.clone().iand(_):_.clone().iand(this)},f.prototype.uand=function(_){return this.length>_.length?this.clone().iuand(_):_.clone().iuand(this)},f.prototype.iuxor=function(_){var U,Y;this.length>_.length?(U=this,Y=_):(U=_,Y=this);for(var K=0;K<Y.length;K++)this.words[K]=U.words[K]^Y.words[K];if(this!==U)for(;K<U.length;K++)this.words[K]=U.words[K];return this.length=U.length,this.strip()},f.prototype.ixor=function(_){return n((this.negative|_.negative)===0),this.iuxor(_)},f.prototype.xor=function(_){return this.length>_.length?this.clone().ixor(_):_.clone().ixor(this)},f.prototype.uxor=function(_){return this.length>_.length?this.clone().iuxor(_):_.clone().iuxor(this)},f.prototype.inotn=function(_){n(typeof _=="number"&&_>=0);var U=Math.ceil(_/26)|0,Y=_%26;this._expand(U),Y>0&&U--;for(var K=0;K<U;K++)this.words[K]=~this.words[K]&67108863;return Y>0&&(this.words[K]=~this.words[K]&67108863>>26-Y),this.strip()},f.prototype.notn=function(_){return this.clone().inotn(_)},f.prototype.setn=function(_,U){n(typeof _=="number"&&_>=0);var Y=_/26|0,K=_%26;return this._expand(Y+1),U?this.words[Y]=this.words[Y]|1<<K:this.words[Y]=this.words[Y]&~(1<<K),this.strip()},f.prototype.iadd=function(_){var U;if(this.negative!==0&&_.negative===0)return this.negative=0,U=this.isub(_),this.negative^=1,this._normSign();if(this.negative===0&&_.negative!==0)return _.negative=0,U=this.isub(_),_.negative=1,U._normSign();var Y,K;this.length>_.length?(Y=this,K=_):(Y=_,K=this);for(var re=0,ae=0;ae<K.length;ae++)U=(Y.words[ae]|0)+(K.words[ae]|0)+re,this.words[ae]=U&67108863,re=U>>>26;for(;re!==0&&ae<Y.length;ae++)U=(Y.words[ae]|0)+re,this.words[ae]=U&67108863,re=U>>>26;if(this.length=Y.length,re!==0)this.words[this.length]=re,this.length++;else if(Y!==this)for(;ae<Y.length;ae++)this.words[ae]=Y.words[ae];return this},f.prototype.add=function(_){var U;return _.negative!==0&&this.negative===0?(_.negative=0,U=this.sub(_),_.negative^=1,U):_.negative===0&&this.negative!==0?(this.negative=0,U=_.sub(this),this.negative=1,U):this.length>_.length?this.clone().iadd(_):_.clone().iadd(this)},f.prototype.isub=function(_){if(_.negative!==0){_.negative=0;var U=this.iadd(_);return _.negative=1,U._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(_),this.negative=1,this._normSign();var Y=this.cmp(_);if(Y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var K,re;Y>0?(K=this,re=_):(K=_,re=this);for(var ae=0,fe=0;fe<re.length;fe++)U=(K.words[fe]|0)-(re.words[fe]|0)+ae,ae=U>>26,this.words[fe]=U&67108863;for(;ae!==0&&fe<K.length;fe++)U=(K.words[fe]|0)+ae,ae=U>>26,this.words[fe]=U&67108863;if(ae===0&&fe<K.length&&K!==this)for(;fe<K.length;fe++)this.words[fe]=K.words[fe];return this.length=Math.max(this.length,fe),K!==this&&(this.negative=1),this.strip()},f.prototype.sub=function(_){return this.clone().isub(_)};function T(N,_,U){U.negative=_.negative^N.negative;var Y=N.length+_.length|0;U.length=Y,Y=Y-1|0;var K=N.words[0]|0,re=_.words[0]|0,ae=K*re,fe=ae&67108863,Q=ae/67108864|0;U.words[0]=fe;for(var j=1;j<Y;j++){for(var X=Q>>>26,J=Q&67108863,ee=Math.min(j,_.length-1),se=Math.max(0,j-N.length+1);se<=ee;se++){var q=j-se|0;K=N.words[q]|0,re=_.words[se]|0,ae=K*re+J,X+=ae/67108864|0,J=ae&67108863}U.words[j]=J|0,Q=X|0}return Q!==0?U.words[j]=Q|0:U.length--,U.strip()}var E=function(_,U,Y){var K=_.words,re=U.words,ae=Y.words,fe=0,Q,j,X,J=K[0]|0,ee=J&8191,se=J>>>13,q=K[1]|0,$=q&8191,le=q>>>13,ie=K[2]|0,ce=ie&8191,me=ie>>>13,Me=K[3]|0,we=Me&8191,Oe=Me>>>13,Be=K[4]|0,Ce=Be&8191,xe=Be>>>13,Se=K[5]|0,He=Se&8191,Ge=Se>>>13,ke=K[6]|0,We=ke&8191,it=ke>>>13,et=K[7]|0,tt=et&8191,at=et>>>13,ht=K[8]|0,yt=ht&8191,gt=ht>>>13,Et=K[9]|0,Ct=Et&8191,Vt=Et>>>13,Qe=re[0]|0,Fe=Qe&8191,Ie=Qe>>>13,ze=re[1]|0,Re=ze&8191,be=ze>>>13,ye=re[2]|0,Ae=ye&8191,Ee=ye>>>13,Ne=re[3]|0,Je=Ne&8191,qe=Ne>>>13,vt=re[4]|0,bt=vt&8191,Wt=vt>>>13,qt=re[5]|0,At=qt&8191,zt=qt>>>13,Jt=re[6]|0,Mr=Jt&8191,pt=Jt>>>13,Zt=re[7]|0,Kt=Zt&8191,mr=Zt>>>13,ur=re[8]|0,dt=ur&8191,st=ur>>>13,xt=re[9]|0,Mt=xt&8191,Dt=xt>>>13;Y.negative=_.negative^U.negative,Y.length=19,Q=Math.imul(ee,Fe),j=Math.imul(ee,Ie),j=j+Math.imul(se,Fe)|0,X=Math.imul(se,Ie);var Rt=(fe+Q|0)+((j&8191)<<13)|0;fe=(X+(j>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,Q=Math.imul($,Fe),j=Math.imul($,Ie),j=j+Math.imul(le,Fe)|0,X=Math.imul(le,Ie),Q=Q+Math.imul(ee,Re)|0,j=j+Math.imul(ee,be)|0,j=j+Math.imul(se,Re)|0,X=X+Math.imul(se,be)|0;var Nt=(fe+Q|0)+((j&8191)<<13)|0;fe=(X+(j>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,Q=Math.imul(ce,Fe),j=Math.imul(ce,Ie),j=j+Math.imul(me,Fe)|0,X=Math.imul(me,Ie),Q=Q+Math.imul($,Re)|0,j=j+Math.imul($,be)|0,j=j+Math.imul(le,Re)|0,X=X+Math.imul(le,be)|0,Q=Q+Math.imul(ee,Ae)|0,j=j+Math.imul(ee,Ee)|0,j=j+Math.imul(se,Ae)|0,X=X+Math.imul(se,Ee)|0;var Bt=(fe+Q|0)+((j&8191)<<13)|0;fe=(X+(j>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,Q=Math.imul(we,Fe),j=Math.imul(we,Ie),j=j+Math.imul(Oe,Fe)|0,X=Math.imul(Oe,Ie),Q=Q+Math.imul(ce,Re)|0,j=j+Math.imul(ce,be)|0,j=j+Math.imul(me,Re)|0,X=X+Math.imul(me,be)|0,Q=Q+Math.imul($,Ae)|0,j=j+Math.imul($,Ee)|0,j=j+Math.imul(le,Ae)|0,X=X+Math.imul(le,Ee)|0,Q=Q+Math.imul(ee,Je)|0,j=j+Math.imul(ee,qe)|0,j=j+Math.imul(se,Je)|0,X=X+Math.imul(se,qe)|0;var Xt=(fe+Q|0)+((j&8191)<<13)|0;fe=(X+(j>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,Q=Math.imul(Ce,Fe),j=Math.imul(Ce,Ie),j=j+Math.imul(xe,Fe)|0,X=Math.imul(xe,Ie),Q=Q+Math.imul(we,Re)|0,j=j+Math.imul(we,be)|0,j=j+Math.imul(Oe,Re)|0,X=X+Math.imul(Oe,be)|0,Q=Q+Math.imul(ce,Ae)|0,j=j+Math.imul(ce,Ee)|0,j=j+Math.imul(me,Ae)|0,X=X+Math.imul(me,Ee)|0,Q=Q+Math.imul($,Je)|0,j=j+Math.imul($,qe)|0,j=j+Math.imul(le,Je)|0,X=X+Math.imul(le,qe)|0,Q=Q+Math.imul(ee,bt)|0,j=j+Math.imul(ee,Wt)|0,j=j+Math.imul(se,bt)|0,X=X+Math.imul(se,Wt)|0;var lr=(fe+Q|0)+((j&8191)<<13)|0;fe=(X+(j>>>13)|0)+(lr>>>26)|0,lr&=67108863,Q=Math.imul(He,Fe),j=Math.imul(He,Ie),j=j+Math.imul(Ge,Fe)|0,X=Math.imul(Ge,Ie),Q=Q+Math.imul(Ce,Re)|0,j=j+Math.imul(Ce,be)|0,j=j+Math.imul(xe,Re)|0,X=X+Math.imul(xe,be)|0,Q=Q+Math.imul(we,Ae)|0,j=j+Math.imul(we,Ee)|0,j=j+Math.imul(Oe,Ae)|0,X=X+Math.imul(Oe,Ee)|0,Q=Q+Math.imul(ce,Je)|0,j=j+Math.imul(ce,qe)|0,j=j+Math.imul(me,Je)|0,X=X+Math.imul(me,qe)|0,Q=Q+Math.imul($,bt)|0,j=j+Math.imul($,Wt)|0,j=j+Math.imul(le,bt)|0,X=X+Math.imul(le,Wt)|0,Q=Q+Math.imul(ee,At)|0,j=j+Math.imul(ee,zt)|0,j=j+Math.imul(se,At)|0,X=X+Math.imul(se,zt)|0;var sr=(fe+Q|0)+((j&8191)<<13)|0;fe=(X+(j>>>13)|0)+(sr>>>26)|0,sr&=67108863,Q=Math.imul(We,Fe),j=Math.imul(We,Ie),j=j+Math.imul(it,Fe)|0,X=Math.imul(it,Ie),Q=Q+Math.imul(He,Re)|0,j=j+Math.imul(He,be)|0,j=j+Math.imul(Ge,Re)|0,X=X+Math.imul(Ge,be)|0,Q=Q+Math.imul(Ce,Ae)|0,j=j+Math.imul(Ce,Ee)|0,j=j+Math.imul(xe,Ae)|0,X=X+Math.imul(xe,Ee)|0,Q=Q+Math.imul(we,Je)|0,j=j+Math.imul(we,qe)|0,j=j+Math.imul(Oe,Je)|0,X=X+Math.imul(Oe,qe)|0,Q=Q+Math.imul(ce,bt)|0,j=j+Math.imul(ce,Wt)|0,j=j+Math.imul(me,bt)|0,X=X+Math.imul(me,Wt)|0,Q=Q+Math.imul($,At)|0,j=j+Math.imul($,zt)|0,j=j+Math.imul(le,At)|0,X=X+Math.imul(le,zt)|0,Q=Q+Math.imul(ee,Mr)|0,j=j+Math.imul(ee,pt)|0,j=j+Math.imul(se,Mr)|0,X=X+Math.imul(se,pt)|0;var dr=(fe+Q|0)+((j&8191)<<13)|0;fe=(X+(j>>>13)|0)+(dr>>>26)|0,dr&=67108863,Q=Math.imul(tt,Fe),j=Math.imul(tt,Ie),j=j+Math.imul(at,Fe)|0,X=Math.imul(at,Ie),Q=Q+Math.imul(We,Re)|0,j=j+Math.imul(We,be)|0,j=j+Math.imul(it,Re)|0,X=X+Math.imul(it,be)|0,Q=Q+Math.imul(He,Ae)|0,j=j+Math.imul(He,Ee)|0,j=j+Math.imul(Ge,Ae)|0,X=X+Math.imul(Ge,Ee)|0,Q=Q+Math.imul(Ce,Je)|0,j=j+Math.imul(Ce,qe)|0,j=j+Math.imul(xe,Je)|0,X=X+Math.imul(xe,qe)|0,Q=Q+Math.imul(we,bt)|0,j=j+Math.imul(we,Wt)|0,j=j+Math.imul(Oe,bt)|0,X=X+Math.imul(Oe,Wt)|0,Q=Q+Math.imul(ce,At)|0,j=j+Math.imul(ce,zt)|0,j=j+Math.imul(me,At)|0,X=X+Math.imul(me,zt)|0,Q=Q+Math.imul($,Mr)|0,j=j+Math.imul($,pt)|0,j=j+Math.imul(le,Mr)|0,X=X+Math.imul(le,pt)|0,Q=Q+Math.imul(ee,Kt)|0,j=j+Math.imul(ee,mr)|0,j=j+Math.imul(se,Kt)|0,X=X+Math.imul(se,mr)|0;var je=(fe+Q|0)+((j&8191)<<13)|0;fe=(X+(j>>>13)|0)+(je>>>26)|0,je&=67108863,Q=Math.imul(yt,Fe),j=Math.imul(yt,Ie),j=j+Math.imul(gt,Fe)|0,X=Math.imul(gt,Ie),Q=Q+Math.imul(tt,Re)|0,j=j+Math.imul(tt,be)|0,j=j+Math.imul(at,Re)|0,X=X+Math.imul(at,be)|0,Q=Q+Math.imul(We,Ae)|0,j=j+Math.imul(We,Ee)|0,j=j+Math.imul(it,Ae)|0,X=X+Math.imul(it,Ee)|0,Q=Q+Math.imul(He,Je)|0,j=j+Math.imul(He,qe)|0,j=j+Math.imul(Ge,Je)|0,X=X+Math.imul(Ge,qe)|0,Q=Q+Math.imul(Ce,bt)|0,j=j+Math.imul(Ce,Wt)|0,j=j+Math.imul(xe,bt)|0,X=X+Math.imul(xe,Wt)|0,Q=Q+Math.imul(we,At)|0,j=j+Math.imul(we,zt)|0,j=j+Math.imul(Oe,At)|0,X=X+Math.imul(Oe,zt)|0,Q=Q+Math.imul(ce,Mr)|0,j=j+Math.imul(ce,pt)|0,j=j+Math.imul(me,Mr)|0,X=X+Math.imul(me,pt)|0,Q=Q+Math.imul($,Kt)|0,j=j+Math.imul($,mr)|0,j=j+Math.imul(le,Kt)|0,X=X+Math.imul(le,mr)|0,Q=Q+Math.imul(ee,dt)|0,j=j+Math.imul(ee,st)|0,j=j+Math.imul(se,dt)|0,X=X+Math.imul(se,st)|0;var Ye=(fe+Q|0)+((j&8191)<<13)|0;fe=(X+(j>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,Q=Math.imul(Ct,Fe),j=Math.imul(Ct,Ie),j=j+Math.imul(Vt,Fe)|0,X=Math.imul(Vt,Ie),Q=Q+Math.imul(yt,Re)|0,j=j+Math.imul(yt,be)|0,j=j+Math.imul(gt,Re)|0,X=X+Math.imul(gt,be)|0,Q=Q+Math.imul(tt,Ae)|0,j=j+Math.imul(tt,Ee)|0,j=j+Math.imul(at,Ae)|0,X=X+Math.imul(at,Ee)|0,Q=Q+Math.imul(We,Je)|0,j=j+Math.imul(We,qe)|0,j=j+Math.imul(it,Je)|0,X=X+Math.imul(it,qe)|0,Q=Q+Math.imul(He,bt)|0,j=j+Math.imul(He,Wt)|0,j=j+Math.imul(Ge,bt)|0,X=X+Math.imul(Ge,Wt)|0,Q=Q+Math.imul(Ce,At)|0,j=j+Math.imul(Ce,zt)|0,j=j+Math.imul(xe,At)|0,X=X+Math.imul(xe,zt)|0,Q=Q+Math.imul(we,Mr)|0,j=j+Math.imul(we,pt)|0,j=j+Math.imul(Oe,Mr)|0,X=X+Math.imul(Oe,pt)|0,Q=Q+Math.imul(ce,Kt)|0,j=j+Math.imul(ce,mr)|0,j=j+Math.imul(me,Kt)|0,X=X+Math.imul(me,mr)|0,Q=Q+Math.imul($,dt)|0,j=j+Math.imul($,st)|0,j=j+Math.imul(le,dt)|0,X=X+Math.imul(le,st)|0,Q=Q+Math.imul(ee,Mt)|0,j=j+Math.imul(ee,Dt)|0,j=j+Math.imul(se,Mt)|0,X=X+Math.imul(se,Dt)|0;var It=(fe+Q|0)+((j&8191)<<13)|0;fe=(X+(j>>>13)|0)+(It>>>26)|0,It&=67108863,Q=Math.imul(Ct,Re),j=Math.imul(Ct,be),j=j+Math.imul(Vt,Re)|0,X=Math.imul(Vt,be),Q=Q+Math.imul(yt,Ae)|0,j=j+Math.imul(yt,Ee)|0,j=j+Math.imul(gt,Ae)|0,X=X+Math.imul(gt,Ee)|0,Q=Q+Math.imul(tt,Je)|0,j=j+Math.imul(tt,qe)|0,j=j+Math.imul(at,Je)|0,X=X+Math.imul(at,qe)|0,Q=Q+Math.imul(We,bt)|0,j=j+Math.imul(We,Wt)|0,j=j+Math.imul(it,bt)|0,X=X+Math.imul(it,Wt)|0,Q=Q+Math.imul(He,At)|0,j=j+Math.imul(He,zt)|0,j=j+Math.imul(Ge,At)|0,X=X+Math.imul(Ge,zt)|0,Q=Q+Math.imul(Ce,Mr)|0,j=j+Math.imul(Ce,pt)|0,j=j+Math.imul(xe,Mr)|0,X=X+Math.imul(xe,pt)|0,Q=Q+Math.imul(we,Kt)|0,j=j+Math.imul(we,mr)|0,j=j+Math.imul(Oe,Kt)|0,X=X+Math.imul(Oe,mr)|0,Q=Q+Math.imul(ce,dt)|0,j=j+Math.imul(ce,st)|0,j=j+Math.imul(me,dt)|0,X=X+Math.imul(me,st)|0,Q=Q+Math.imul($,Mt)|0,j=j+Math.imul($,Dt)|0,j=j+Math.imul(le,Mt)|0,X=X+Math.imul(le,Dt)|0;var kt=(fe+Q|0)+((j&8191)<<13)|0;fe=(X+(j>>>13)|0)+(kt>>>26)|0,kt&=67108863,Q=Math.imul(Ct,Ae),j=Math.imul(Ct,Ee),j=j+Math.imul(Vt,Ae)|0,X=Math.imul(Vt,Ee),Q=Q+Math.imul(yt,Je)|0,j=j+Math.imul(yt,qe)|0,j=j+Math.imul(gt,Je)|0,X=X+Math.imul(gt,qe)|0,Q=Q+Math.imul(tt,bt)|0,j=j+Math.imul(tt,Wt)|0,j=j+Math.imul(at,bt)|0,X=X+Math.imul(at,Wt)|0,Q=Q+Math.imul(We,At)|0,j=j+Math.imul(We,zt)|0,j=j+Math.imul(it,At)|0,X=X+Math.imul(it,zt)|0,Q=Q+Math.imul(He,Mr)|0,j=j+Math.imul(He,pt)|0,j=j+Math.imul(Ge,Mr)|0,X=X+Math.imul(Ge,pt)|0,Q=Q+Math.imul(Ce,Kt)|0,j=j+Math.imul(Ce,mr)|0,j=j+Math.imul(xe,Kt)|0,X=X+Math.imul(xe,mr)|0,Q=Q+Math.imul(we,dt)|0,j=j+Math.imul(we,st)|0,j=j+Math.imul(Oe,dt)|0,X=X+Math.imul(Oe,st)|0,Q=Q+Math.imul(ce,Mt)|0,j=j+Math.imul(ce,Dt)|0,j=j+Math.imul(me,Mt)|0,X=X+Math.imul(me,Dt)|0;var Yt=(fe+Q|0)+((j&8191)<<13)|0;fe=(X+(j>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,Q=Math.imul(Ct,Je),j=Math.imul(Ct,qe),j=j+Math.imul(Vt,Je)|0,X=Math.imul(Vt,qe),Q=Q+Math.imul(yt,bt)|0,j=j+Math.imul(yt,Wt)|0,j=j+Math.imul(gt,bt)|0,X=X+Math.imul(gt,Wt)|0,Q=Q+Math.imul(tt,At)|0,j=j+Math.imul(tt,zt)|0,j=j+Math.imul(at,At)|0,X=X+Math.imul(at,zt)|0,Q=Q+Math.imul(We,Mr)|0,j=j+Math.imul(We,pt)|0,j=j+Math.imul(it,Mr)|0,X=X+Math.imul(it,pt)|0,Q=Q+Math.imul(He,Kt)|0,j=j+Math.imul(He,mr)|0,j=j+Math.imul(Ge,Kt)|0,X=X+Math.imul(Ge,mr)|0,Q=Q+Math.imul(Ce,dt)|0,j=j+Math.imul(Ce,st)|0,j=j+Math.imul(xe,dt)|0,X=X+Math.imul(xe,st)|0,Q=Q+Math.imul(we,Mt)|0,j=j+Math.imul(we,Dt)|0,j=j+Math.imul(Oe,Mt)|0,X=X+Math.imul(Oe,Dt)|0;var tr=(fe+Q|0)+((j&8191)<<13)|0;fe=(X+(j>>>13)|0)+(tr>>>26)|0,tr&=67108863,Q=Math.imul(Ct,bt),j=Math.imul(Ct,Wt),j=j+Math.imul(Vt,bt)|0,X=Math.imul(Vt,Wt),Q=Q+Math.imul(yt,At)|0,j=j+Math.imul(yt,zt)|0,j=j+Math.imul(gt,At)|0,X=X+Math.imul(gt,zt)|0,Q=Q+Math.imul(tt,Mr)|0,j=j+Math.imul(tt,pt)|0,j=j+Math.imul(at,Mr)|0,X=X+Math.imul(at,pt)|0,Q=Q+Math.imul(We,Kt)|0,j=j+Math.imul(We,mr)|0,j=j+Math.imul(it,Kt)|0,X=X+Math.imul(it,mr)|0,Q=Q+Math.imul(He,dt)|0,j=j+Math.imul(He,st)|0,j=j+Math.imul(Ge,dt)|0,X=X+Math.imul(Ge,st)|0,Q=Q+Math.imul(Ce,Mt)|0,j=j+Math.imul(Ce,Dt)|0,j=j+Math.imul(xe,Mt)|0,X=X+Math.imul(xe,Dt)|0;var or=(fe+Q|0)+((j&8191)<<13)|0;fe=(X+(j>>>13)|0)+(or>>>26)|0,or&=67108863,Q=Math.imul(Ct,At),j=Math.imul(Ct,zt),j=j+Math.imul(Vt,At)|0,X=Math.imul(Vt,zt),Q=Q+Math.imul(yt,Mr)|0,j=j+Math.imul(yt,pt)|0,j=j+Math.imul(gt,Mr)|0,X=X+Math.imul(gt,pt)|0,Q=Q+Math.imul(tt,Kt)|0,j=j+Math.imul(tt,mr)|0,j=j+Math.imul(at,Kt)|0,X=X+Math.imul(at,mr)|0,Q=Q+Math.imul(We,dt)|0,j=j+Math.imul(We,st)|0,j=j+Math.imul(it,dt)|0,X=X+Math.imul(it,st)|0,Q=Q+Math.imul(He,Mt)|0,j=j+Math.imul(He,Dt)|0,j=j+Math.imul(Ge,Mt)|0,X=X+Math.imul(Ge,Dt)|0;var rr=(fe+Q|0)+((j&8191)<<13)|0;fe=(X+(j>>>13)|0)+(rr>>>26)|0,rr&=67108863,Q=Math.imul(Ct,Mr),j=Math.imul(Ct,pt),j=j+Math.imul(Vt,Mr)|0,X=Math.imul(Vt,pt),Q=Q+Math.imul(yt,Kt)|0,j=j+Math.imul(yt,mr)|0,j=j+Math.imul(gt,Kt)|0,X=X+Math.imul(gt,mr)|0,Q=Q+Math.imul(tt,dt)|0,j=j+Math.imul(tt,st)|0,j=j+Math.imul(at,dt)|0,X=X+Math.imul(at,st)|0,Q=Q+Math.imul(We,Mt)|0,j=j+Math.imul(We,Dt)|0,j=j+Math.imul(it,Mt)|0,X=X+Math.imul(it,Dt)|0;var _t=(fe+Q|0)+((j&8191)<<13)|0;fe=(X+(j>>>13)|0)+(_t>>>26)|0,_t&=67108863,Q=Math.imul(Ct,Kt),j=Math.imul(Ct,mr),j=j+Math.imul(Vt,Kt)|0,X=Math.imul(Vt,mr),Q=Q+Math.imul(yt,dt)|0,j=j+Math.imul(yt,st)|0,j=j+Math.imul(gt,dt)|0,X=X+Math.imul(gt,st)|0,Q=Q+Math.imul(tt,Mt)|0,j=j+Math.imul(tt,Dt)|0,j=j+Math.imul(at,Mt)|0,X=X+Math.imul(at,Dt)|0;var hr=(fe+Q|0)+((j&8191)<<13)|0;fe=(X+(j>>>13)|0)+(hr>>>26)|0,hr&=67108863,Q=Math.imul(Ct,dt),j=Math.imul(Ct,st),j=j+Math.imul(Vt,dt)|0,X=Math.imul(Vt,st),Q=Q+Math.imul(yt,Mt)|0,j=j+Math.imul(yt,Dt)|0,j=j+Math.imul(gt,Mt)|0,X=X+Math.imul(gt,Dt)|0;var gr=(fe+Q|0)+((j&8191)<<13)|0;fe=(X+(j>>>13)|0)+(gr>>>26)|0,gr&=67108863,Q=Math.imul(Ct,Mt),j=Math.imul(Ct,Dt),j=j+Math.imul(Vt,Mt)|0,X=Math.imul(Vt,Dt);var pr=(fe+Q|0)+((j&8191)<<13)|0;return fe=(X+(j>>>13)|0)+(pr>>>26)|0,pr&=67108863,ae[0]=Rt,ae[1]=Nt,ae[2]=Bt,ae[3]=Xt,ae[4]=lr,ae[5]=sr,ae[6]=dr,ae[7]=je,ae[8]=Ye,ae[9]=It,ae[10]=kt,ae[11]=Yt,ae[12]=tr,ae[13]=or,ae[14]=rr,ae[15]=_t,ae[16]=hr,ae[17]=gr,ae[18]=pr,fe!==0&&(ae[19]=fe,Y.length++),Y};Math.imul||(E=T);function x(N,_,U){U.negative=_.negative^N.negative,U.length=N.length+_.length;for(var Y=0,K=0,re=0;re<U.length-1;re++){var ae=K;K=0;for(var fe=Y&67108863,Q=Math.min(re,_.length-1),j=Math.max(0,re-N.length+1);j<=Q;j++){var X=re-j,J=N.words[X]|0,ee=_.words[j]|0,se=J*ee,q=se&67108863;ae=ae+(se/67108864|0)|0,q=q+fe|0,fe=q&67108863,ae=ae+(q>>>26)|0,K+=ae>>>26,ae&=67108863}U.words[re]=fe,Y=ae,ae=K}return Y!==0?U.words[re]=Y:U.length--,U.strip()}function S(N,_,U){var Y=new b;return Y.mulp(N,_,U)}f.prototype.mulTo=function(_,U){var Y,K=this.length+_.length;return this.length===10&&_.length===10?Y=E(this,_,U):K<63?Y=T(this,_,U):K<1024?Y=x(this,_,U):Y=S(this,_,U),Y};function b(N,_){this.x=N,this.y=_}b.prototype.makeRBT=function(_){for(var U=new Array(_),Y=f.prototype._countBits(_)-1,K=0;K<_;K++)U[K]=this.revBin(K,Y,_);return U},b.prototype.revBin=function(_,U,Y){if(_===0||_===Y-1)return _;for(var K=0,re=0;re<U;re++)K|=(_&1)<<U-re-1,_>>=1;return K},b.prototype.permute=function(_,U,Y,K,re,ae){for(var fe=0;fe<ae;fe++)K[fe]=U[_[fe]],re[fe]=Y[_[fe]]},b.prototype.transform=function(_,U,Y,K,re,ae){this.permute(ae,_,U,Y,K,re);for(var fe=1;fe<re;fe<<=1)for(var Q=fe<<1,j=Math.cos(2*Math.PI/Q),X=Math.sin(2*Math.PI/Q),J=0;J<re;J+=Q)for(var ee=j,se=X,q=0;q<fe;q++){var $=Y[J+q],le=K[J+q],ie=Y[J+q+fe],ce=K[J+q+fe],me=ee*ie-se*ce;ce=ee*ce+se*ie,ie=me,Y[J+q]=$+ie,K[J+q]=le+ce,Y[J+q+fe]=$-ie,K[J+q+fe]=le-ce,q!==Q&&(me=j*ee-X*se,se=j*se+X*ee,ee=me)}},b.prototype.guessLen13b=function(_,U){var Y=Math.max(U,_)|1,K=Y&1,re=0;for(Y=Y/2|0;Y;Y=Y>>>1)re++;return 1<<re+1+K},b.prototype.conjugate=function(_,U,Y){if(!(Y<=1))for(var K=0;K<Y/2;K++){var re=_[K];_[K]=_[Y-K-1],_[Y-K-1]=re,re=U[K],U[K]=-U[Y-K-1],U[Y-K-1]=-re}},b.prototype.normalize13b=function(_,U){for(var Y=0,K=0;K<U/2;K++){var re=Math.round(_[2*K+1]/U)*8192+Math.round(_[2*K]/U)+Y;_[K]=re&67108863,re<67108864?Y=0:Y=re/67108864|0}return _},b.prototype.convert13b=function(_,U,Y,K){for(var re=0,ae=0;ae<U;ae++)re=re+(_[ae]|0),Y[2*ae]=re&8191,re=re>>>13,Y[2*ae+1]=re&8191,re=re>>>13;for(ae=2*U;ae<K;++ae)Y[ae]=0;n(re===0),n((re&-8192)===0)},b.prototype.stub=function(_){for(var U=new Array(_),Y=0;Y<_;Y++)U[Y]=0;return U},b.prototype.mulp=function(_,U,Y){var K=2*this.guessLen13b(_.length,U.length),re=this.makeRBT(K),ae=this.stub(K),fe=new Array(K),Q=new Array(K),j=new Array(K),X=new Array(K),J=new Array(K),ee=new Array(K),se=Y.words;se.length=K,this.convert13b(_.words,_.length,fe,K),this.convert13b(U.words,U.length,X,K),this.transform(fe,ae,Q,j,K,re),this.transform(X,ae,J,ee,K,re);for(var q=0;q<K;q++){var $=Q[q]*J[q]-j[q]*ee[q];j[q]=Q[q]*ee[q]+j[q]*J[q],Q[q]=$}return this.conjugate(Q,j,K),this.transform(Q,j,se,ae,K,re),this.conjugate(se,ae,K),this.normalize13b(se,K),Y.negative=_.negative^U.negative,Y.length=_.length+U.length,Y.strip()},f.prototype.mul=function(_){var U=new f(null);return U.words=new Array(this.length+_.length),this.mulTo(_,U)},f.prototype.mulf=function(_){var U=new f(null);return U.words=new Array(this.length+_.length),S(this,_,U)},f.prototype.imul=function(_){return this.clone().mulTo(_,this)},f.prototype.imuln=function(_){n(typeof _=="number"),n(_<67108864);for(var U=0,Y=0;Y<this.length;Y++){var K=(this.words[Y]|0)*_,re=(K&67108863)+(U&67108863);U>>=26,U+=K/67108864|0,U+=re>>>26,this.words[Y]=re&67108863}return U!==0&&(this.words[Y]=U,this.length++),this},f.prototype.muln=function(_){return this.clone().imuln(_)},f.prototype.sqr=function(){return this.mul(this)},f.prototype.isqr=function(){return this.imul(this.clone())},f.prototype.pow=function(_){var U=M(_);if(U.length===0)return new f(1);for(var Y=this,K=0;K<U.length&&U[K]===0;K++,Y=Y.sqr());if(++K<U.length)for(var re=Y.sqr();K<U.length;K++,re=re.sqr())U[K]!==0&&(Y=Y.mul(re));return Y},f.prototype.iushln=function(_){n(typeof _=="number"&&_>=0);var U=_%26,Y=(_-U)/26,K=67108863>>>26-U<<26-U,re;if(U!==0){var ae=0;for(re=0;re<this.length;re++){var fe=this.words[re]&K,Q=(this.words[re]|0)-fe<<U;this.words[re]=Q|ae,ae=fe>>>26-U}ae&&(this.words[re]=ae,this.length++)}if(Y!==0){for(re=this.length-1;re>=0;re--)this.words[re+Y]=this.words[re];for(re=0;re<Y;re++)this.words[re]=0;this.length+=Y}return this.strip()},f.prototype.ishln=function(_){return n(this.negative===0),this.iushln(_)},f.prototype.iushrn=function(_,U,Y){n(typeof _=="number"&&_>=0);var K;U?K=(U-U%26)/26:K=0;var re=_%26,ae=Math.min((_-re)/26,this.length),fe=67108863^67108863>>>re<<re,Q=Y;if(K-=ae,K=Math.max(0,K),Q){for(var j=0;j<ae;j++)Q.words[j]=this.words[j];Q.length=ae}if(ae!==0)if(this.length>ae)for(this.length-=ae,j=0;j<this.length;j++)this.words[j]=this.words[j+ae];else this.words[0]=0,this.length=1;var X=0;for(j=this.length-1;j>=0&&(X!==0||j>=K);j--){var J=this.words[j]|0;this.words[j]=X<<26-re|J>>>re,X=J&fe}return Q&&X!==0&&(Q.words[Q.length++]=X),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},f.prototype.ishrn=function(_,U,Y){return n(this.negative===0),this.iushrn(_,U,Y)},f.prototype.shln=function(_){return this.clone().ishln(_)},f.prototype.ushln=function(_){return this.clone().iushln(_)},f.prototype.shrn=function(_){return this.clone().ishrn(_)},f.prototype.ushrn=function(_){return this.clone().iushrn(_)},f.prototype.testn=function(_){n(typeof _=="number"&&_>=0);var U=_%26,Y=(_-U)/26,K=1<<U;if(this.length<=Y)return!1;var re=this.words[Y];return!!(re&K)},f.prototype.imaskn=function(_){n(typeof _=="number"&&_>=0);var U=_%26,Y=(_-U)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=Y)return this;if(U!==0&&Y++,this.length=Math.min(Y,this.length),U!==0){var K=67108863^67108863>>>U<<U;this.words[this.length-1]&=K}return this.strip()},f.prototype.maskn=function(_){return this.clone().imaskn(_)},f.prototype.iaddn=function(_){return n(typeof _=="number"),n(_<67108864),_<0?this.isubn(-_):this.negative!==0?this.length===1&&(this.words[0]|0)<_?(this.words[0]=_-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(_),this.negative=1,this):this._iaddn(_)},f.prototype._iaddn=function(_){this.words[0]+=_;for(var U=0;U<this.length&&this.words[U]>=67108864;U++)this.words[U]-=67108864,U===this.length-1?this.words[U+1]=1:this.words[U+1]++;return this.length=Math.max(this.length,U+1),this},f.prototype.isubn=function(_){if(n(typeof _=="number"),n(_<67108864),_<0)return this.iaddn(-_);if(this.negative!==0)return this.negative=0,this.iaddn(_),this.negative=1,this;if(this.words[0]-=_,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var U=0;U<this.length&&this.words[U]<0;U++)this.words[U]+=67108864,this.words[U+1]-=1;return this.strip()},f.prototype.addn=function(_){return this.clone().iaddn(_)},f.prototype.subn=function(_){return this.clone().isubn(_)},f.prototype.iabs=function(){return this.negative=0,this},f.prototype.abs=function(){return this.clone().iabs()},f.prototype._ishlnsubmul=function(_,U,Y){var K=_.length+Y,re;this._expand(K);var ae,fe=0;for(re=0;re<_.length;re++){ae=(this.words[re+Y]|0)+fe;var Q=(_.words[re]|0)*U;ae-=Q&67108863,fe=(ae>>26)-(Q/67108864|0),this.words[re+Y]=ae&67108863}for(;re<this.length-Y;re++)ae=(this.words[re+Y]|0)+fe,fe=ae>>26,this.words[re+Y]=ae&67108863;if(fe===0)return this.strip();for(n(fe===-1),fe=0,re=0;re<this.length;re++)ae=-(this.words[re]|0)+fe,fe=ae>>26,this.words[re]=ae&67108863;return this.negative=1,this.strip()},f.prototype._wordDiv=function(_,U){var Y=this.length-_.length,K=this.clone(),re=_,ae=re.words[re.length-1]|0,fe=this._countBits(ae);Y=26-fe,Y!==0&&(re=re.ushln(Y),K.iushln(Y),ae=re.words[re.length-1]|0);var Q=K.length-re.length,j;if(U!=="mod"){j=new f(null),j.length=Q+1,j.words=new Array(j.length);for(var X=0;X<j.length;X++)j.words[X]=0}var J=K.clone()._ishlnsubmul(re,1,Q);J.negative===0&&(K=J,j&&(j.words[Q]=1));for(var ee=Q-1;ee>=0;ee--){var se=(K.words[re.length+ee]|0)*67108864+(K.words[re.length+ee-1]|0);for(se=Math.min(se/ae|0,67108863),K._ishlnsubmul(re,se,ee);K.negative!==0;)se--,K.negative=0,K._ishlnsubmul(re,1,ee),K.isZero()||(K.negative^=1);j&&(j.words[ee]=se)}return j&&j.strip(),K.strip(),U!=="div"&&Y!==0&&K.iushrn(Y),{div:j||null,mod:K}},f.prototype.divmod=function(_,U,Y){if(n(!_.isZero()),this.isZero())return{div:new f(0),mod:new f(0)};var K,re,ae;return this.negative!==0&&_.negative===0?(ae=this.neg().divmod(_,U),U!=="mod"&&(K=ae.div.neg()),U!=="div"&&(re=ae.mod.neg(),Y&&re.negative!==0&&re.iadd(_)),{div:K,mod:re}):this.negative===0&&_.negative!==0?(ae=this.divmod(_.neg(),U),U!=="mod"&&(K=ae.div.neg()),{div:K,mod:ae.mod}):this.negative&_.negative?(ae=this.neg().divmod(_.neg(),U),U!=="div"&&(re=ae.mod.neg(),Y&&re.negative!==0&&re.isub(_)),{div:ae.div,mod:re}):_.length>this.length||this.cmp(_)<0?{div:new f(0),mod:this}:_.length===1?U==="div"?{div:this.divn(_.words[0]),mod:null}:U==="mod"?{div:null,mod:new f(this.modn(_.words[0]))}:{div:this.divn(_.words[0]),mod:new f(this.modn(_.words[0]))}:this._wordDiv(_,U)},f.prototype.div=function(_){return this.divmod(_,"div",!1).div},f.prototype.mod=function(_){return this.divmod(_,"mod",!1).mod},f.prototype.umod=function(_){return this.divmod(_,"mod",!0).mod},f.prototype.divRound=function(_){var U=this.divmod(_);if(U.mod.isZero())return U.div;var Y=U.div.negative!==0?U.mod.isub(_):U.mod,K=_.ushrn(1),re=_.andln(1),ae=Y.cmp(K);return ae<0||re===1&&ae===0?U.div:U.div.negative!==0?U.div.isubn(1):U.div.iaddn(1)},f.prototype.modn=function(_){n(_<=67108863);for(var U=(1<<26)%_,Y=0,K=this.length-1;K>=0;K--)Y=(U*Y+(this.words[K]|0))%_;return Y},f.prototype.idivn=function(_){n(_<=67108863);for(var U=0,Y=this.length-1;Y>=0;Y--){var K=(this.words[Y]|0)+U*67108864;this.words[Y]=K/_|0,U=K%_}return this.strip()},f.prototype.divn=function(_){return this.clone().idivn(_)},f.prototype.egcd=function(_){n(_.negative===0),n(!_.isZero());var U=this,Y=_.clone();U.negative!==0?U=U.umod(_):U=U.clone();for(var K=new f(1),re=new f(0),ae=new f(0),fe=new f(1),Q=0;U.isEven()&&Y.isEven();)U.iushrn(1),Y.iushrn(1),++Q;for(var j=Y.clone(),X=U.clone();!U.isZero();){for(var J=0,ee=1;!(U.words[0]&ee)&&J<26;++J,ee<<=1);if(J>0)for(U.iushrn(J);J-- >0;)(K.isOdd()||re.isOdd())&&(K.iadd(j),re.isub(X)),K.iushrn(1),re.iushrn(1);for(var se=0,q=1;!(Y.words[0]&q)&&se<26;++se,q<<=1);if(se>0)for(Y.iushrn(se);se-- >0;)(ae.isOdd()||fe.isOdd())&&(ae.iadd(j),fe.isub(X)),ae.iushrn(1),fe.iushrn(1);U.cmp(Y)>=0?(U.isub(Y),K.isub(ae),re.isub(fe)):(Y.isub(U),ae.isub(K),fe.isub(re))}return{a:ae,b:fe,gcd:Y.iushln(Q)}},f.prototype._invmp=function(_){n(_.negative===0),n(!_.isZero());var U=this,Y=_.clone();U.negative!==0?U=U.umod(_):U=U.clone();for(var K=new f(1),re=new f(0),ae=Y.clone();U.cmpn(1)>0&&Y.cmpn(1)>0;){for(var fe=0,Q=1;!(U.words[0]&Q)&&fe<26;++fe,Q<<=1);if(fe>0)for(U.iushrn(fe);fe-- >0;)K.isOdd()&&K.iadd(ae),K.iushrn(1);for(var j=0,X=1;!(Y.words[0]&X)&&j<26;++j,X<<=1);if(j>0)for(Y.iushrn(j);j-- >0;)re.isOdd()&&re.iadd(ae),re.iushrn(1);U.cmp(Y)>=0?(U.isub(Y),K.isub(re)):(Y.isub(U),re.isub(K))}var J;return U.cmpn(1)===0?J=K:J=re,J.cmpn(0)<0&&J.iadd(_),J},f.prototype.gcd=function(_){if(this.isZero())return _.abs();if(_.isZero())return this.abs();var U=this.clone(),Y=_.clone();U.negative=0,Y.negative=0;for(var K=0;U.isEven()&&Y.isEven();K++)U.iushrn(1),Y.iushrn(1);do{for(;U.isEven();)U.iushrn(1);for(;Y.isEven();)Y.iushrn(1);var re=U.cmp(Y);if(re<0){var ae=U;U=Y,Y=ae}else if(re===0||Y.cmpn(1)===0)break;U.isub(Y)}while(!0);return Y.iushln(K)},f.prototype.invm=function(_){return this.egcd(_).a.umod(_)},f.prototype.isEven=function(){return(this.words[0]&1)===0},f.prototype.isOdd=function(){return(this.words[0]&1)===1},f.prototype.andln=function(_){return this.words[0]&_},f.prototype.bincn=function(_){n(typeof _=="number");var U=_%26,Y=(_-U)/26,K=1<<U;if(this.length<=Y)return this._expand(Y+1),this.words[Y]|=K,this;for(var re=K,ae=Y;re!==0&&ae<this.length;ae++){var fe=this.words[ae]|0;fe+=re,re=fe>>>26,fe&=67108863,this.words[ae]=fe}return re!==0&&(this.words[ae]=re,this.length++),this},f.prototype.isZero=function(){return this.length===1&&this.words[0]===0},f.prototype.cmpn=function(_){var U=_<0;if(this.negative!==0&&!U)return-1;if(this.negative===0&&U)return 1;this.strip();var Y;if(this.length>1)Y=1;else{U&&(_=-_),n(_<=67108863,"Number is too big");var K=this.words[0]|0;Y=K===_?0:K<_?-1:1}return this.negative!==0?-Y|0:Y},f.prototype.cmp=function(_){if(this.negative!==0&&_.negative===0)return-1;if(this.negative===0&&_.negative!==0)return 1;var U=this.ucmp(_);return this.negative!==0?-U|0:U},f.prototype.ucmp=function(_){if(this.length>_.length)return 1;if(this.length<_.length)return-1;for(var U=0,Y=this.length-1;Y>=0;Y--){var K=this.words[Y]|0,re=_.words[Y]|0;if(K!==re){K<re?U=-1:K>re&&(U=1);break}}return U},f.prototype.gtn=function(_){return this.cmpn(_)===1},f.prototype.gt=function(_){return this.cmp(_)===1},f.prototype.gten=function(_){return this.cmpn(_)>=0},f.prototype.gte=function(_){return this.cmp(_)>=0},f.prototype.ltn=function(_){return this.cmpn(_)===-1},f.prototype.lt=function(_){return this.cmp(_)===-1},f.prototype.lten=function(_){return this.cmpn(_)<=0},f.prototype.lte=function(_){return this.cmp(_)<=0},f.prototype.eqn=function(_){return this.cmpn(_)===0},f.prototype.eq=function(_){return this.cmp(_)===0},f.red=function(_){return new F(_)},f.prototype.toRed=function(_){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),_.convertTo(this)._forceRed(_)},f.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},f.prototype._forceRed=function(_){return this.red=_,this},f.prototype.forceRed=function(_){return n(!this.red,"Already a number in reduction context"),this._forceRed(_)},f.prototype.redAdd=function(_){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,_)},f.prototype.redIAdd=function(_){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_)},f.prototype.redSub=function(_){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,_)},f.prototype.redISub=function(_){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,_)},f.prototype.redShl=function(_){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,_)},f.prototype.redMul=function(_){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.mul(this,_)},f.prototype.redIMul=function(_){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.imul(this,_)},f.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},f.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},f.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},f.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},f.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},f.prototype.redPow=function(_){return n(this.red&&!_.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_)};var a={k256:null,p224:null,p192:null,p25519:null};function C(N,_){this.name=N,this.p=new f(_,16),this.n=this.p.bitLength(),this.k=new f(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var _=new f(null);return _.words=new Array(Math.ceil(this.n/13)),_},C.prototype.ireduce=function(_){var U=_,Y;do this.split(U,this.tmp),U=this.imulK(U),U=U.iadd(this.tmp),Y=U.bitLength();while(Y>this.n);var K=Y<this.n?-1:U.ucmp(this.p);return K===0?(U.words[0]=0,U.length=1):K>0?U.isub(this.p):U.strip!==void 0?U.strip():U._strip(),U},C.prototype.split=function(_,U){_.iushrn(this.n,0,U)},C.prototype.imulK=function(_){return _.imul(this.k)};function y(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}l(y,C),y.prototype.split=function(_,U){for(var Y=4194303,K=Math.min(_.length,9),re=0;re<K;re++)U.words[re]=_.words[re];if(U.length=K,_.length<=9){_.words[0]=0,_.length=1;return}var ae=_.words[9];for(U.words[U.length++]=ae&Y,re=10;re<_.length;re++){var fe=_.words[re]|0;_.words[re-10]=(fe&Y)<<4|ae>>>22,ae=fe}ae>>>=22,_.words[re-10]=ae,ae===0&&_.length>10?_.length-=10:_.length-=9},y.prototype.imulK=function(_){_.words[_.length]=0,_.words[_.length+1]=0,_.length+=2;for(var U=0,Y=0;Y<_.length;Y++){var K=_.words[Y]|0;U+=K*977,_.words[Y]=U&67108863,U=K*64+(U/67108864|0)}return _.words[_.length-1]===0&&(_.length--,_.words[_.length-1]===0&&_.length--),_};function z(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}l(z,C);function I(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}l(I,C);function B(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}l(B,C),B.prototype.imulK=function(_){for(var U=0,Y=0;Y<_.length;Y++){var K=(_.words[Y]|0)*19+U,re=K&67108863;K>>>=26,_.words[Y]=re,U=K}return U!==0&&(_.words[_.length++]=U),_},f._prime=function(_){if(a[_])return a[_];var U;if(_==="k256")U=new y;else if(_==="p224")U=new z;else if(_==="p192")U=new I;else if(_==="p25519")U=new B;else throw new Error("Unknown prime "+_);return a[_]=U,U};function F(N){if(typeof N=="string"){var _=f._prime(N);this.m=_.p,this.prime=_}else n(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}F.prototype._verify1=function(_){n(_.negative===0,"red works only with positives"),n(_.red,"red works only with red numbers")},F.prototype._verify2=function(_,U){n((_.negative|U.negative)===0,"red works only with positives"),n(_.red&&_.red===U.red,"red works only with red numbers")},F.prototype.imod=function(_){return this.prime?this.prime.ireduce(_)._forceRed(this):_.umod(this.m)._forceRed(this)},F.prototype.neg=function(_){return _.isZero()?_.clone():this.m.sub(_)._forceRed(this)},F.prototype.add=function(_,U){this._verify2(_,U);var Y=_.add(U);return Y.cmp(this.m)>=0&&Y.isub(this.m),Y._forceRed(this)},F.prototype.iadd=function(_,U){this._verify2(_,U);var Y=_.iadd(U);return Y.cmp(this.m)>=0&&Y.isub(this.m),Y},F.prototype.sub=function(_,U){this._verify2(_,U);var Y=_.sub(U);return Y.cmpn(0)<0&&Y.iadd(this.m),Y._forceRed(this)},F.prototype.isub=function(_,U){this._verify2(_,U);var Y=_.isub(U);return Y.cmpn(0)<0&&Y.iadd(this.m),Y},F.prototype.shl=function(_,U){return this._verify1(_),this.imod(_.ushln(U))},F.prototype.imul=function(_,U){return this._verify2(_,U),this.imod(_.imul(U))},F.prototype.mul=function(_,U){return this._verify2(_,U),this.imod(_.mul(U))},F.prototype.isqr=function(_){return this.imul(_,_.clone())},F.prototype.sqr=function(_){return this.mul(_,_)},F.prototype.sqrt=function(_){if(_.isZero())return _.clone();var U=this.m.andln(3);if(n(U%2===1),U===3){var Y=this.m.add(new f(1)).iushrn(2);return this.pow(_,Y)}for(var K=this.m.subn(1),re=0;!K.isZero()&&K.andln(1)===0;)re++,K.iushrn(1);n(!K.isZero());var ae=new f(1).toRed(this),fe=ae.redNeg(),Q=this.m.subn(1).iushrn(1),j=this.m.bitLength();for(j=new f(2*j*j).toRed(this);this.pow(j,Q).cmp(fe)!==0;)j.redIAdd(fe);for(var X=this.pow(j,K),J=this.pow(_,K.addn(1).iushrn(1)),ee=this.pow(_,K),se=re;ee.cmp(ae)!==0;){for(var q=ee,$=0;q.cmp(ae)!==0;$++)q=q.redSqr();n($<se);var le=this.pow(X,new f(1).iushln(se-$-1));J=J.redMul(le),X=le.redSqr(),ee=ee.redMul(X),se=$}return J},F.prototype.invm=function(_){var U=_._invmp(this.m);return U.negative!==0?(U.negative=0,this.imod(U).redNeg()):this.imod(U)},F.prototype.pow=function(_,U){if(U.isZero())return new f(1).toRed(this);if(U.cmpn(1)===0)return _.clone();var Y=4,K=new Array(1<<Y);K[0]=new f(1).toRed(this),K[1]=_;for(var re=2;re<K.length;re++)K[re]=this.mul(K[re-1],_);var ae=K[0],fe=0,Q=0,j=U.bitLength()%26;for(j===0&&(j=26),re=U.length-1;re>=0;re--){for(var X=U.words[re],J=j-1;J>=0;J--){var ee=X>>J&1;if(ae!==K[0]&&(ae=this.sqr(ae)),ee===0&&fe===0){Q=0;continue}fe<<=1,fe|=ee,Q++,!(Q!==Y&&(re!==0||J!==0))&&(ae=this.mul(ae,K[fe]),Q=0,fe=0)}j=26}return ae},F.prototype.convertTo=function(_){var U=_.umod(this.m);return U===_?U.clone():U},F.prototype.convertFrom=function(_){var U=_.clone();return U.red=null,U},f.mont=function(_){return new O(_)};function O(N){F.call(this,N),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new f(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}l(O,F),O.prototype.convertTo=function(_){return this.imod(_.ushln(this.shift))},O.prototype.convertFrom=function(_){var U=this.imod(_.mul(this.rinv));return U.red=null,U},O.prototype.imul=function(_,U){if(_.isZero()||U.isZero())return _.words[0]=0,_.length=1,_;var Y=_.imul(U),K=Y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=Y.isub(K).iushrn(this.shift),ae=re;return re.cmp(this.m)>=0?ae=re.isub(this.m):re.cmpn(0)<0&&(ae=re.iadd(this.m)),ae._forceRed(this)},O.prototype.mul=function(_,U){if(_.isZero()||U.isZero())return new f(0)._forceRed(this);var Y=_.mul(U),K=Y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=Y.isub(K).iushrn(this.shift),ae=re;return re.cmp(this.m)>=0?ae=re.isub(this.m):re.cmpn(0)<0&&(ae=re.iadd(this.m)),ae._forceRed(this)},O.prototype.invm=function(_){var U=this.imod(_._invmp(this.m).mul(this.r2));return U._forceRed(this)}}(v,this)},2692:function(v){v.exports=p;function p(t){var r,s,n,l=t.length,f=0;for(r=0;r<l;++r)f+=t[r].length;var u=new Array(f),m=0;for(r=0;r<l;++r){var c=t[r],w=c.length;for(s=0;s<w;++s){var h=u[m++]=new Array(w-1),o=0;for(n=0;n<w;++n)n!==s&&(h[o++]=c[n]);if(s&1){var d=h[1];h[1]=h[0],h[0]=d}}}return u}},2569:function(v,p,t){v.exports=o;var r=t(5306),s=t(1390),n=t(2337);function l(d,M){for(var T=0;T<d;++T)if(!(M[T]<=M[T+d]))return!0;return!1}function f(d,M,T,E){for(var x=0,S=0,b=0,a=d.length;b<a;++b){var C=d[b];if(!l(M,C)){for(var y=0;y<2*M;++y)T[x++]=C[y];E[S++]=b}}return S}function u(d,M,T,E){var x=d.length,S=M.length;if(!(x<=0||S<=0)){var b=d[0].length>>>1;if(!(b<=0)){var a,C=r.mallocDouble(2*b*x),y=r.mallocInt32(x);if(x=f(d,b,C,y),x>0){if(b===1&&E)s.init(x),a=s.sweepComplete(b,T,0,x,C,y,0,x,C,y);else{var z=r.mallocDouble(2*b*S),I=r.mallocInt32(S);S=f(M,b,z,I),S>0&&(s.init(x+S),b===1?a=s.sweepBipartite(b,T,0,x,C,y,0,S,z,I):a=n(b,T,E,x,C,y,S,z,I),r.free(z),r.free(I))}r.free(C),r.free(y)}return a}}}var m;function c(d,M){m.push([d,M])}function w(d){return m=[],u(d,d,c,!0),m}function h(d,M){return m=[],u(d,M,c,!1),m}function o(d,M,T){switch(arguments.length){case 1:return w(d);case 2:return typeof M=="function"?u(d,d,M,!0):h(d,M);case 3:return u(d,M,T,!1);default:throw new Error("box-intersect: Invalid arguments")}}},7333:function(v,p){function t(){function n(u,m,c,w,h,o,d,M,T,E,x){for(var S=2*u,b=w,a=S*w;b<h;++b,a+=S){var C=o[m+a],y=o[m+a+u],z=d[b];e:for(var I=M,B=S*M;I<T;++I,B+=S){var F=E[m+B],O=E[m+B+u],N=x[I];if(!(O<C||y<F)){for(var _=m+1;_<u;++_){var U=o[_+a],Y=o[_+u+a],K=E[_+B],re=E[_+u+B];if(Y<K||re<U)continue e}var ae=c(z,N);if(ae!==void 0)return ae}}}}function l(u,m,c,w,h,o,d,M,T,E,x){for(var S=2*u,b=M,a=S*M;b<T;++b,a+=S){var C=E[m+a],y=E[m+a+u],z=x[b];e:for(var I=w,B=S*w;I<h;++I,B+=S){var F=o[m+B],O=o[m+B+u],N=d[I];if(!(y<F||O<C)){for(var _=m+1;_<u;++_){var U=o[_+B],Y=o[_+u+B],K=E[_+a],re=E[_+u+a];if(Y<K||re<U)continue e}var ae=c(N,z);if(ae!==void 0)return ae}}}}function f(u,m,c,w,h,o,d,M,T,E,x){return h-w>T-M?n(u,m,c,w,h,o,d,M,T,E,x):l(u,m,c,w,h,o,d,M,T,E,x)}return f}function r(){function n(c,w,h,o,d,M,T,E,x,S,b){for(var a=2*c,C=o,y=a*o;C<d;++C,y+=a){var z=M[w+y],I=M[w+y+c],B=T[C];e:for(var F=E,O=a*E;F<x;++F,O+=a){var N=S[w+O],_=b[F];if(!(N<=z||I<N)){for(var U=w+1;U<c;++U){var Y=M[U+y],K=M[U+c+y],re=S[U+O],ae=S[U+c+O];if(K<re||ae<Y)continue e}var fe=h(_,B);if(fe!==void 0)return fe}}}}function l(c,w,h,o,d,M,T,E,x,S,b){for(var a=2*c,C=o,y=a*o;C<d;++C,y+=a){var z=M[w+y],I=M[w+y+c],B=T[C];e:for(var F=E,O=a*E;F<x;++F,O+=a){var N=S[w+O],_=b[F];if(!(N<z||I<N)){for(var U=w+1;U<c;++U){var Y=M[U+y],K=M[U+c+y],re=S[U+O],ae=S[U+c+O];if(K<re||ae<Y)continue e}var fe=h(B,_);if(fe!==void 0)return fe}}}}function f(c,w,h,o,d,M,T,E,x,S,b){for(var a=2*c,C=E,y=a*E;C<x;++C,y+=a){var z=S[w+y],I=b[C];e:for(var B=o,F=a*o;B<d;++B,F+=a){var O=M[w+F],N=M[w+F+c],_=T[B];if(!(z<=O||N<z)){for(var U=w+1;U<c;++U){var Y=M[U+F],K=M[U+c+F],re=S[U+y],ae=S[U+c+y];if(K<re||ae<Y)continue e}var fe=h(I,_);if(fe!==void 0)return fe}}}}function u(c,w,h,o,d,M,T,E,x,S,b){for(var a=2*c,C=E,y=a*E;C<x;++C,y+=a){var z=S[w+y],I=b[C];e:for(var B=o,F=a*o;B<d;++B,F+=a){var O=M[w+F],N=M[w+F+c],_=T[B];if(!(z<O||N<z)){for(var U=w+1;U<c;++U){var Y=M[U+F],K=M[U+c+F],re=S[U+y],ae=S[U+c+y];if(K<re||ae<Y)continue e}var fe=h(_,I);if(fe!==void 0)return fe}}}}function m(c,w,h,o,d,M,T,E,x,S,b,a){return M-d>S-x?o?n(c,w,h,d,M,T,E,x,S,b,a):l(c,w,h,d,M,T,E,x,S,b,a):o?f(c,w,h,d,M,T,E,x,S,b,a):u(c,w,h,d,M,T,E,x,S,b,a)}return m}function s(n){return n?t():r()}p.partial=s(!1),p.full=s(!0)},2337:function(v,p,t){v.exports=N;var r=t(5306),s=t(2288),n=t(7333),l=n.partial,f=n.full,u=t(1390),m=t(2464),c=t(122),w=128,h=1<<22,o=1<<22,d=c("!(lo>=p0)&&!(p1>=hi)"),M=c("lo===p0"),T=c("lo<p0"),E=c("hi<=p0"),x=c("lo<=p0&&p0<=hi"),S=c("lo<p0&&p0<=hi"),b=6,a=2,C=1024,y=r.mallocInt32(C),z=r.mallocDouble(C);function I(_,U){var Y=8*s.log2(U+1)*(_+1)|0,K=s.nextPow2(b*Y);y.length<K&&(r.free(y),y=r.mallocInt32(K));var re=s.nextPow2(a*Y);z.length<re&&(r.free(z),z=r.mallocDouble(re))}function B(_,U,Y,K,re,ae,fe,Q,j){var X=b*_;y[X]=U,y[X+1]=Y,y[X+2]=K,y[X+3]=re,y[X+4]=ae,y[X+5]=fe;var J=a*_;z[J]=Q,z[J+1]=j}function F(_,U,Y,K,re,ae,fe,Q,j,X,J){var ee=2*_,se=j*ee,q=X[se+U];e:for(var $=re,le=re*ee;$<ae;++$,le+=ee){var ie=fe[le+U],ce=fe[le+U+_];if(!(q<ie||ce<q)&&!(K&&q===ie)){for(var me=Q[$],Me=U+1;Me<_;++Me){var ie=fe[le+Me],ce=fe[le+Me+_],we=X[se+Me],Oe=X[se+Me+_];if(ce<we||Oe<ie)continue e}var Be;if(K?Be=Y(J,me):Be=Y(me,J),Be!==void 0)return Be}}}function O(_,U,Y,K,re,ae,fe,Q,j,X){var J=2*_,ee=Q*J,se=j[ee+U];e:for(var q=K,$=K*J;q<re;++q,$+=J){var le=fe[q];if(le!==X){var ie=ae[$+U],ce=ae[$+U+_];if(!(se<ie||ce<se)){for(var me=U+1;me<_;++me){var ie=ae[$+me],ce=ae[$+me+_],Me=j[ee+me],we=j[ee+me+_];if(ce<Me||we<ie)continue e}var Oe=Y(le,X);if(Oe!==void 0)return Oe}}}}function N(_,U,Y,K,re,ae,fe,Q,j){I(_,K+fe);var X=0,J=2*_,ee;for(B(X++,0,0,K,0,fe,Y?16:0,-1/0,1/0),Y||B(X++,0,0,fe,0,K,1,-1/0,1/0);X>0;){X-=1;var se=X*b,q=y[se],$=y[se+1],le=y[se+2],ie=y[se+3],ce=y[se+4],me=y[se+5],Me=X*a,we=z[Me],Oe=z[Me+1],Be=me&1,Ce=!!(me&16),xe=re,Se=ae,He=Q,Ge=j;if(Be&&(xe=Q,Se=j,He=re,Ge=ae),!(me&2&&(le=T(_,q,$,le,xe,Se,Oe),$>=le))&&!(me&4&&($=E(_,q,$,le,xe,Se,we),$>=le))){var ke=le-$,We=ce-ie;if(Ce){if(_*ke*(ke+We)<o){if(ee=u.scanComplete(_,q,U,$,le,xe,Se,ie,ce,He,Ge),ee!==void 0)return ee;continue}}else if(_*Math.min(ke,We)<w){if(ee=l(_,q,U,Be,$,le,xe,Se,ie,ce,He,Ge),ee!==void 0)return ee;continue}else if(_*ke*We<h){if(ee=u.scanBipartite(_,q,U,Be,$,le,xe,Se,ie,ce,He,Ge),ee!==void 0)return ee;continue}var it=d(_,q,$,le,xe,Se,we,Oe);if($<it)if(_*(it-$)<w){if(ee=f(_,q+1,U,$,it,xe,Se,ie,ce,He,Ge),ee!==void 0)return ee}else if(q===_-2){if(Be?ee=u.sweepBipartite(_,U,ie,ce,He,Ge,$,it,xe,Se):ee=u.sweepBipartite(_,U,$,it,xe,Se,ie,ce,He,Ge),ee!==void 0)return ee}else B(X++,q+1,$,it,ie,ce,Be,-1/0,1/0),B(X++,q+1,ie,ce,$,it,Be^1,-1/0,1/0);if(it<le){var et=m(_,q,ie,ce,He,Ge),tt=He[J*et+q],at=M(_,q,et,ce,He,Ge,tt);if(at<ce&&B(X++,q,it,le,at,ce,(Be|4)+(Ce?16:0),tt,Oe),ie<et&&B(X++,q,it,le,ie,et,(Be|2)+(Ce?16:0),we,tt),et+1===at){if(Ce?ee=O(_,q,U,it,le,xe,Se,et,He,Ge[et]):ee=F(_,q,U,Be,it,le,xe,Se,et,He,Ge[et]),ee!==void 0)return ee}else if(et<at){var ht;if(Ce){if(ht=x(_,q,it,le,xe,Se,tt),it<ht){var yt=M(_,q,it,ht,xe,Se,tt);if(q===_-2){if(it<yt&&(ee=u.sweepComplete(_,U,it,yt,xe,Se,et,at,He,Ge),ee!==void 0)||yt<ht&&(ee=u.sweepBipartite(_,U,yt,ht,xe,Se,et,at,He,Ge),ee!==void 0))return ee}else it<yt&&B(X++,q+1,it,yt,et,at,16,-1/0,1/0),yt<ht&&(B(X++,q+1,yt,ht,et,at,0,-1/0,1/0),B(X++,q+1,et,at,yt,ht,1,-1/0,1/0))}}else Be?ht=S(_,q,it,le,xe,Se,tt):ht=x(_,q,it,le,xe,Se,tt),it<ht&&(q===_-2?Be?ee=u.sweepBipartite(_,U,et,at,He,Ge,it,ht,xe,Se):ee=u.sweepBipartite(_,U,it,ht,xe,Se,et,at,He,Ge):(B(X++,q+1,it,ht,et,at,Be,-1/0,1/0),B(X++,q+1,et,at,it,ht,Be^1,-1/0,1/0)))}}}}}},2464:function(v,p,t){v.exports=f;var r=t(122),s=r("lo<p0"),n=8;function l(u,m,c,w,h,o){for(var d=2*u,M=d*(c+1)+m,T=c+1;T<w;++T,M+=d)for(var E=h[M],x=T,S=d*(T-1);x>c&&h[S+m]>E;--x,S-=d){for(var b=S,a=S+d,C=0;C<d;++C,++b,++a){var y=h[b];h[b]=h[a],h[a]=y}var z=o[x];o[x]=o[x-1],o[x-1]=z}}function f(u,m,c,w,h,o){if(w<=c+1)return c;for(var d=c,M=w,T=w+c>>>1,E=2*u,x=T,S=h[E*T+m];d<M;){if(M-d<n){l(u,m,d,M,h,o),S=h[E*T+m];break}var b=M-d,a=Math.random()*b+d|0,C=h[E*a+m],y=Math.random()*b+d|0,z=h[E*y+m],I=Math.random()*b+d|0,B=h[E*I+m];C<=z?B>=z?(x=y,S=z):C>=B?(x=a,S=C):(x=I,S=B):z>=B?(x=y,S=z):B>=C?(x=a,S=C):(x=I,S=B);for(var N=E*(M-1),_=E*x,F=0;F<E;++F,++N,++_){var O=h[N];h[N]=h[_],h[_]=O}var U=o[M-1];o[M-1]=o[x],o[x]=U,x=s(u,m,d,M-1,h,o,S);for(var N=E*(M-1),_=E*x,F=0;F<E;++F,++N,++_){var O=h[N];h[N]=h[_],h[_]=O}var U=o[M-1];if(o[M-1]=o[x],o[x]=U,T<x){for(M=x-1;d<M&&h[E*(M-1)+m]===S;)M-=1;M+=1}else if(x<T)for(d=x+1;d<M&&h[E*d+m]===S;)d+=1;else break}return s(u,m,c,T,h,o,h[E*T+m])}},122:function(v){v.exports=t;var p={"lo===p0":r,"lo<p0":s,"lo<=p0":n,"hi<=p0":l,"lo<p0&&p0<=hi":u,"lo<=p0&&p0<=hi":f,"!(lo>=p0)&&!(p1>=hi)":m};function t(c){return p[c]}function r(c,w,h,o,d,M,T){for(var E=2*c,x=E*h,S=x,b=h,a=w,C=c+w,y=h;o>y;++y,x+=E){var z=d[x+a];if(z===T)if(b===y)b+=1,S+=E;else{for(var I=0;E>I;++I){var B=d[x+I];d[x+I]=d[S],d[S++]=B}var F=M[y];M[y]=M[b],M[b++]=F}}return b}function s(c,w,h,o,d,M,T){for(var E=2*c,x=E*h,S=x,b=h,a=w,C=c+w,y=h;o>y;++y,x+=E){var z=d[x+a];if(z<T)if(b===y)b+=1,S+=E;else{for(var I=0;E>I;++I){var B=d[x+I];d[x+I]=d[S],d[S++]=B}var F=M[y];M[y]=M[b],M[b++]=F}}return b}function n(c,w,h,o,d,M,T){for(var E=2*c,x=E*h,S=x,b=h,a=w,C=c+w,y=h;o>y;++y,x+=E){var z=d[x+C];if(z<=T)if(b===y)b+=1,S+=E;else{for(var I=0;E>I;++I){var B=d[x+I];d[x+I]=d[S],d[S++]=B}var F=M[y];M[y]=M[b],M[b++]=F}}return b}function l(c,w,h,o,d,M,T){for(var E=2*c,x=E*h,S=x,b=h,a=w,C=c+w,y=h;o>y;++y,x+=E){var z=d[x+C];if(z<=T)if(b===y)b+=1,S+=E;else{for(var I=0;E>I;++I){var B=d[x+I];d[x+I]=d[S],d[S++]=B}var F=M[y];M[y]=M[b],M[b++]=F}}return b}function f(c,w,h,o,d,M,T){for(var E=2*c,x=E*h,S=x,b=h,a=w,C=c+w,y=h;o>y;++y,x+=E){var z=d[x+a],I=d[x+C];if(z<=T&&T<=I)if(b===y)b+=1,S+=E;else{for(var B=0;E>B;++B){var F=d[x+B];d[x+B]=d[S],d[S++]=F}var O=M[y];M[y]=M[b],M[b++]=O}}return b}function u(c,w,h,o,d,M,T){for(var E=2*c,x=E*h,S=x,b=h,a=w,C=c+w,y=h;o>y;++y,x+=E){var z=d[x+a],I=d[x+C];if(z<T&&T<=I)if(b===y)b+=1,S+=E;else{for(var B=0;E>B;++B){var F=d[x+B];d[x+B]=d[S],d[S++]=F}var O=M[y];M[y]=M[b],M[b++]=O}}return b}function m(c,w,h,o,d,M,T,E){for(var x=2*c,S=x*h,b=S,a=h,C=w,y=c+w,z=h;o>z;++z,S+=x){var I=d[S+C],B=d[S+y];if(!(I>=T)&&!(E>=B))if(a===z)a+=1,b+=x;else{for(var F=0;x>F;++F){var O=d[S+F];d[S+F]=d[b],d[b++]=O}var N=M[z];M[z]=M[a],M[a++]=N}}return a}},309:function(v){v.exports=t;var p=32;function t(w,h){h<=4*p?r(0,h-1,w):c(0,h-1,w)}function r(w,h,o){for(var d=2*(w+1),M=w+1;M<=h;++M){for(var T=o[d++],E=o[d++],x=M,S=d-2;x-- >w;){var b=o[S-2],a=o[S-1];if(b<T)break;if(b===T&&a<E)break;o[S]=b,o[S+1]=a,S-=2}o[S]=T,o[S+1]=E}}function s(w,h,o){w*=2,h*=2;var d=o[w],M=o[w+1];o[w]=o[h],o[w+1]=o[h+1],o[h]=d,o[h+1]=M}function n(w,h,o){w*=2,h*=2,o[w]=o[h],o[w+1]=o[h+1]}function l(w,h,o,d){w*=2,h*=2,o*=2;var M=d[w],T=d[w+1];d[w]=d[h],d[w+1]=d[h+1],d[h]=d[o],d[h+1]=d[o+1],d[o]=M,d[o+1]=T}function f(w,h,o,d,M){w*=2,h*=2,M[w]=M[h],M[h]=o,M[w+1]=M[h+1],M[h+1]=d}function u(w,h,o){w*=2,h*=2;var d=o[w],M=o[h];return d<M?!1:d===M?o[w+1]>o[h+1]:!0}function m(w,h,o,d){w*=2;var M=d[w];return M<h?!0:M===h?d[w+1]<o:!1}function c(w,h,o){var d=(h-w+1)/6|0,M=w+d,T=h-d,E=w+h>>1,x=E-d,S=E+d,b=M,a=x,C=E,y=S,z=T,I=w+1,B=h-1,F=0;u(b,a,o)&&(F=b,b=a,a=F),u(y,z,o)&&(F=y,y=z,z=F),u(b,C,o)&&(F=b,b=C,C=F),u(a,C,o)&&(F=a,a=C,C=F),u(b,y,o)&&(F=b,b=y,y=F),u(C,y,o)&&(F=C,C=y,y=F),u(a,z,o)&&(F=a,a=z,z=F),u(a,C,o)&&(F=a,a=C,C=F),u(y,z,o)&&(F=y,y=z,z=F);for(var O=o[2*a],N=o[2*a+1],_=o[2*y],U=o[2*y+1],Y=2*b,K=2*C,re=2*z,ae=2*M,fe=2*E,Q=2*T,j=0;j<2;++j){var X=o[Y+j],J=o[K+j],ee=o[re+j];o[ae+j]=X,o[fe+j]=J,o[Q+j]=ee}n(x,w,o),n(S,h,o);for(var se=I;se<=B;++se)if(m(se,O,N,o))se!==I&&s(se,I,o),++I;else if(!m(se,_,U,o))for(;;)if(m(B,_,U,o)){m(B,O,N,o)?(l(se,I,B,o),++I,--B):(s(se,B,o),--B);break}else{if(--B<se)break;continue}f(w,I-1,O,N,o),f(h,B+1,_,U,o),I-2-w<=p?r(w,I-2,o):c(w,I-2,o),h-(B+2)<=p?r(B+2,h,o):c(B+2,h,o),B-I<=p?r(I,B,o):c(I,B,o)}},1390:function(v,p,t){v.exports={init:M,sweepBipartite:x,sweepComplete:S,scanBipartite:b,scanComplete:a};var r=t(5306),s=t(2288),n=t(309),l=1<<28,f=1024,u=r.mallocInt32(f),m=r.mallocInt32(f),c=r.mallocInt32(f),w=r.mallocInt32(f),h=r.mallocInt32(f),o=r.mallocInt32(f),d=r.mallocDouble(f*8);function M(C){var y=s.nextPow2(C);u.length<y&&(r.free(u),u=r.mallocInt32(y)),m.length<y&&(r.free(m),m=r.mallocInt32(y)),c.length<y&&(r.free(c),c=r.mallocInt32(y)),w.length<y&&(r.free(w),w=r.mallocInt32(y)),h.length<y&&(r.free(h),h=r.mallocInt32(y)),o.length<y&&(r.free(o),o=r.mallocInt32(y));var z=8*y;d.length<z&&(r.free(d),d=r.mallocDouble(z))}function T(C,y,z,I){var B=y[I],F=C[z-1];C[B]=F,y[F]=B}function E(C,y,z,I){C[z]=I,y[I]=z}function x(C,y,z,I,B,F,O,N,_,U){for(var Y=0,K=2*C,re=C-1,ae=K-1,fe=z;fe<I;++fe){var Q=F[fe],j=K*fe;d[Y++]=B[j+re],d[Y++]=-(Q+1),d[Y++]=B[j+ae],d[Y++]=Q}for(var fe=O;fe<N;++fe){var Q=U[fe]+l,X=K*fe;d[Y++]=_[X+re],d[Y++]=-Q,d[Y++]=_[X+ae],d[Y++]=Q}var J=Y>>>1;n(d,J);for(var ee=0,se=0,fe=0;fe<J;++fe){var q=d[2*fe+1]|0;if(q>=l)q=q-l|0,T(c,w,se--,q);else if(q>=0)T(u,m,ee--,q);else if(q<=-l){q=-q-l|0;for(var $=0;$<ee;++$){var le=y(u[$],q);if(le!==void 0)return le}E(c,w,se++,q)}else{q=-q-1|0;for(var $=0;$<se;++$){var le=y(q,c[$]);if(le!==void 0)return le}E(u,m,ee++,q)}}}function S(C,y,z,I,B,F,O,N,_,U){for(var Y=0,K=2*C,re=C-1,ae=K-1,fe=z;fe<I;++fe){var Q=F[fe]+1<<1,j=K*fe;d[Y++]=B[j+re],d[Y++]=-Q,d[Y++]=B[j+ae],d[Y++]=Q}for(var fe=O;fe<N;++fe){var Q=U[fe]+1<<1,X=K*fe;d[Y++]=_[X+re],d[Y++]=-Q|1,d[Y++]=_[X+ae],d[Y++]=Q|1}var J=Y>>>1;n(d,J);for(var ee=0,se=0,q=0,fe=0;fe<J;++fe){var $=d[2*fe+1]|0,le=$&1;if(fe<J-1&&$>>1===d[2*fe+3]>>1&&(le=2,fe+=1),$<0){for(var ie=-($>>1)-1,ce=0;ce<q;++ce){var me=y(h[ce],ie);if(me!==void 0)return me}if(le!==0)for(var ce=0;ce<ee;++ce){var me=y(u[ce],ie);if(me!==void 0)return me}if(le!==1)for(var ce=0;ce<se;++ce){var me=y(c[ce],ie);if(me!==void 0)return me}le===0?E(u,m,ee++,ie):le===1?E(c,w,se++,ie):le===2&&E(h,o,q++,ie)}else{var ie=($>>1)-1;le===0?T(u,m,ee--,ie):le===1?T(c,w,se--,ie):le===2&&T(h,o,q--,ie)}}}function b(C,y,z,I,B,F,O,N,_,U,Y,K){var re=0,ae=2*C,fe=y,Q=y+C,j=1,X=1;I?X=l:j=l;for(var J=B;J<F;++J){var ee=J+j,se=ae*J;d[re++]=O[se+fe],d[re++]=-ee,d[re++]=O[se+Q],d[re++]=ee}for(var J=_;J<U;++J){var ee=J+X,q=ae*J;d[re++]=Y[q+fe],d[re++]=-ee}var $=re>>>1;n(d,$);for(var le=0,J=0;J<$;++J){var ie=d[2*J+1]|0;if(ie<0){var ee=-ie,ce=!1;if(ee>=l?(ce=!I,ee-=l):(ce=!!I,ee-=1),ce)E(u,m,le++,ee);else{var me=K[ee],Me=ae*ee,we=Y[Me+y+1],Oe=Y[Me+y+1+C];e:for(var Be=0;Be<le;++Be){var Ce=u[Be],xe=ae*Ce;if(!(Oe<O[xe+y+1]||O[xe+y+1+C]<we)){for(var Se=y+2;Se<C;++Se)if(Y[Me+Se+C]<O[xe+Se]||O[xe+Se+C]<Y[Me+Se])continue e;var He=N[Ce],Ge;if(I?Ge=z(me,He):Ge=z(He,me),Ge!==void 0)return Ge}}}}else T(u,m,le--,ie-j)}}function a(C,y,z,I,B,F,O,N,_,U,Y){for(var K=0,re=2*C,ae=y,fe=y+C,Q=I;Q<B;++Q){var j=Q+l,X=re*Q;d[K++]=F[X+ae],d[K++]=-j,d[K++]=F[X+fe],d[K++]=j}for(var Q=N;Q<_;++Q){var j=Q+1,J=re*Q;d[K++]=U[J+ae],d[K++]=-j}var ee=K>>>1;n(d,ee);for(var se=0,Q=0;Q<ee;++Q){var q=d[2*Q+1]|0;if(q<0){var j=-q;if(j>=l)u[se++]=j-l;else{j-=1;var $=Y[j],le=re*j,ie=U[le+y+1],ce=U[le+y+1+C];e:for(var me=0;me<se;++me){var Me=u[me],we=O[Me];if(we===$)break;var Oe=re*Me;if(!(ce<F[Oe+y+1]||F[Oe+y+1+C]<ie)){for(var Be=y+2;Be<C;++Be)if(U[le+Be+C]<F[Oe+Be]||F[Oe+Be+C]<U[le+Be])continue e;var Ce=z(we,$);if(Ce!==void 0)return Ce}}}}else{for(var j=q-l,me=se-1;me>=0;--me)if(u[me]===j){for(var Be=me+1;Be<se;++Be)u[Be-1]=u[Be];break}--se}}}},7761:function(v,p,t){var r=t(9971),s=t(743),n=t(2161),l=t(7098);v.exports=w;function f(h){return[Math.min(h[0],h[1]),Math.max(h[0],h[1])]}function u(h,o){return h[0]-o[0]||h[1]-o[1]}function m(h){return h.map(f).sort(u)}function c(h,o,d){return o in h?h[o]:d}function w(h,o,d){Array.isArray(o)?(d=d||{},o=o||[]):(d=o||{},o=[]);var M=!!c(d,"delaunay",!0),T=!!c(d,"interior",!0),E=!!c(d,"exterior",!0),x=!!c(d,"infinity",!1);if(!T&&!E||h.length===0)return[];var S=r(h,o);if(M||T!==E||x){for(var b=s(h.length,m(o)),a=0;a<S.length;++a){var C=S[a];b.addTriangle(C[0],C[1],C[2])}return M&&n(h,b),E?T?x?l(b,0,x):b.cells():l(b,1,x):l(b,-1)}else return S}},2161:function(v,p,t){var r=t(2227)[4];t(5070),v.exports=n;function s(l,f,u,m,c,w){var h=f.opposite(m,c);if(!(h<0)){if(c<m){var o=m;m=c,c=o,o=w,w=h,h=o}f.isConstraint(m,c)||r(l[m],l[c],l[w],l[h])<0&&u.push(m,c)}}function n(l,f){for(var u=[],m=l.length,c=f.stars,w=0;w<m;++w)for(var h=c[w],o=1;o<h.length;o+=2){var d=h[o];if(!(d<w)&&!f.isConstraint(w,d)){for(var M=h[o-1],T=-1,E=1;E<h.length;E+=2)if(h[E-1]===d){T=h[E];break}T<0||r(l[w],l[d],l[M],l[T])<0&&u.push(w,d)}}for(;u.length>0;){for(var d=u.pop(),w=u.pop(),M=-1,T=-1,h=c[w],x=1;x<h.length;x+=2){var S=h[x-1],b=h[x];S===d?T=b:b===d&&(M=S)}M<0||T<0||r(l[w],l[d],l[M],l[T])>=0||(f.flip(w,d),s(l,f,u,M,w,T),s(l,f,u,w,T,M),s(l,f,u,T,d,M),s(l,f,u,d,M,T))}}},7098:function(v,p,t){var r=t(5070);v.exports=m;function s(c,w,h,o,d,M,T){this.cells=c,this.neighbor=w,this.flags=o,this.constraint=h,this.active=d,this.next=M,this.boundary=T}var n=s.prototype;function l(c,w){return c[0]-w[0]||c[1]-w[1]||c[2]-w[2]}n.locate=function(){var c=[0,0,0];return function(w,h,o){var d=w,M=h,T=o;return h<o?h<w&&(d=h,M=o,T=w):o<w&&(d=o,M=w,T=h),d<0?-1:(c[0]=d,c[1]=M,c[2]=T,r.eq(this.cells,c,l))}}();function f(c,w){for(var h=c.cells(),o=h.length,d=0;d<o;++d){var M=h[d],T=M[0],E=M[1],x=M[2];E<x?E<T&&(M[0]=E,M[1]=x,M[2]=T):x<T&&(M[0]=x,M[1]=T,M[2]=E)}h.sort(l);for(var S=new Array(o),d=0;d<S.length;++d)S[d]=0;var b=[],a=[],C=new Array(3*o),y=new Array(3*o),z=null;w&&(z=[]);for(var I=new s(h,C,y,S,b,a,z),d=0;d<o;++d)for(var M=h[d],B=0;B<3;++B){var T=M[B],E=M[(B+1)%3],F=C[3*d+B]=I.locate(E,T,c.opposite(E,T)),O=y[3*d+B]=c.isConstraint(T,E);F<0&&(O?a.push(d):(b.push(d),S[d]=1),w&&z.push([E,T,-1]))}return I}function u(c,w,h){for(var o=0,d=0;d<c.length;++d)w[d]===h&&(c[o++]=c[d]);return c.length=o,c}function m(c,w,h){var o=f(c,h);if(w===0)return h?o.cells.concat(o.boundary):o.cells;for(var d=1,M=o.active,T=o.next,E=o.flags,x=o.cells,S=o.constraint,b=o.neighbor;M.length>0||T.length>0;){for(;M.length>0;){var a=M.pop();if(E[a]!==-d){E[a]=d,x[a];for(var C=0;C<3;++C){var y=b[3*a+C];y>=0&&E[y]===0&&(S[3*a+C]?T.push(y):(M.push(y),E[y]=d))}}}var z=T;T=M,M=z,T.length=0,d=-d}var I=u(x,E,w);return h?I.concat(o.boundary):I}},9971:function(v,p,t){var r=t(5070),s=t(417)[3],n=0,l=1,f=2;v.exports=T;function u(E,x,S,b,a){this.a=E,this.b=x,this.idx=S,this.lowerIds=b,this.upperIds=a}function m(E,x,S,b){this.a=E,this.b=x,this.type=S,this.idx=b}function c(E,x){var S=E.a[0]-x.a[0]||E.a[1]-x.a[1]||E.type-x.type;return S||E.type!==n&&(S=s(E.a,E.b,x.b),S)?S:E.idx-x.idx}function w(E,x){return s(E.a,E.b,x)}function h(E,x,S,b,a){for(var C=r.lt(x,b,w),y=r.gt(x,b,w),z=C;z<y;++z){for(var I=x[z],B=I.lowerIds,O=B.length;O>1&&s(S[B[O-2]],S[B[O-1]],b)>0;)E.push([B[O-1],B[O-2],a]),O-=1;B.length=O,B.push(a);for(var F=I.upperIds,O=F.length;O>1&&s(S[F[O-2]],S[F[O-1]],b)<0;)E.push([F[O-2],F[O-1],a]),O-=1;F.length=O,F.push(a)}}function o(E,x){var S;return E.a[0]<x.a[0]?S=s(E.a,E.b,x.a):S=s(x.b,x.a,E.a),S||(x.b[0]<E.b[0]?S=s(E.a,E.b,x.b):S=s(x.b,x.a,E.b),S||E.idx-x.idx)}function d(E,x,S){var b=r.le(E,S,o),a=E[b],C=a.upperIds,y=C[C.length-1];a.upperIds=[y],E.splice(b+1,0,new u(S.a,S.b,S.idx,[y],C))}function M(E,x,S){var b=S.a;S.a=S.b,S.b=b;var a=r.eq(E,S,o),C=E[a],y=E[a-1];y.upperIds=C.upperIds,E.splice(a,1)}function T(E,x){for(var S=E.length,b=x.length,a=[],C=0;C<S;++C)a.push(new m(E[C],null,n,C));for(var C=0;C<b;++C){var y=x[C],z=E[y[0]],I=E[y[1]];z[0]<I[0]?a.push(new m(z,I,f,C),new m(I,z,l,C)):z[0]>I[0]&&a.push(new m(I,z,f,C),new m(z,I,l,C))}a.sort(c);for(var B=a[0].a[0]-(1+Math.abs(a[0].a[0]))*Math.pow(2,-52),F=[new u([B,1],[B,0],-1,[],[])],O=[],C=0,N=a.length;C<N;++C){var _=a[C],U=_.type;U===n?h(O,F,E,_.a,_.idx):U===f?d(F,E,_):M(F,E,_)}return O}},743:function(v,p,t){var r=t(5070);v.exports=f;function s(u,m){this.stars=u,this.edges=m}var n=s.prototype;function l(u,m,c){for(var w=1,h=u.length;w<h;w+=2)if(u[w-1]===m&&u[w]===c){u[w-1]=u[h-2],u[w]=u[h-1],u.length=h-2;return}}n.isConstraint=function(){var u=[0,0];function m(c,w){return c[0]-w[0]||c[1]-w[1]}return function(c,w){return u[0]=Math.min(c,w),u[1]=Math.max(c,w),r.eq(this.edges,u,m)>=0}}(),n.removeTriangle=function(u,m,c){var w=this.stars;l(w[u],m,c),l(w[m],c,u),l(w[c],u,m)},n.addTriangle=function(u,m,c){var w=this.stars;w[u].push(m,c),w[m].push(c,u),w[c].push(u,m)},n.opposite=function(u,m){for(var c=this.stars[m],w=1,h=c.length;w<h;w+=2)if(c[w]===u)return c[w-1];return-1},n.flip=function(u,m){var c=this.opposite(u,m),w=this.opposite(m,u);this.removeTriangle(u,m,c),this.removeTriangle(m,u,w),this.addTriangle(u,w,c),this.addTriangle(m,c,w)},n.edges=function(){for(var u=this.stars,m=[],c=0,w=u.length;c<w;++c)for(var h=u[c],o=0,d=h.length;o<d;o+=2)m.push([h[o],h[o+1]]);return m},n.cells=function(){for(var u=this.stars,m=[],c=0,w=u.length;c<w;++c)for(var h=u[c],o=0,d=h.length;o<d;o+=2){var M=h[o],T=h[o+1];c<Math.min(M,T)&&m.push([c,M,T])}return m};function f(u,m){for(var c=new Array(u),w=0;w<u;++w)c[w]=[];return new s(c,m)}},9887:function(v){v.exports=p;function p(t){for(var r=1,s=1;s<t.length;++s)for(var n=0;n<s;++n)if(t[s]<t[n])r=-r;else if(t[n]===t[s])return 0;return r}},9243:function(v,p,t){var r=t(3094),s=t(6606);function n(u,m){for(var c=0,w=u.length,h=0;h<w;++h)c+=u[h]*m[h];return c}function l(u){var m=u.length;if(m===0)return[];u[0].length;var c=r([u.length+1,u.length+1],1),w=r([u.length+1],1);c[m][m]=0;for(var h=0;h<m;++h){for(var o=0;o<=h;++o)c[o][h]=c[h][o]=2*n(u[h],u[o]);w[h]=n(u[h],u[h])}for(var d=s(c,w),M=0,T=d[m+1],h=0;h<T.length;++h)M+=T[h];for(var E=new Array(m),h=0;h<m;++h){for(var T=d[h],x=0,o=0;o<T.length;++o)x+=T[o];E[h]=x/M}return E}function f(u){if(u.length===0)return[];for(var m=u[0].length,c=r([m]),w=l(u),h=0;h<u.length;++h)for(var o=0;o<m;++o)c[o]+=u[h][o]*w[h];return c}f.barycenetric=l,v.exports=f},1778:function(v,p,t){v.exports=s;var r=t(9243);function s(n){for(var l=r(n),f=0,u=0;u<n.length;++u)for(var m=n[u],c=0;c<l.length;++c)f+=Math.pow(m[c]-l[c],2);return Math.sqrt(f/n.length)}},197:function(v,p,t){v.exports=z;var r=t(1731),s=t(2569),n=t(4434),l=t(5125),f=t(8846),u=t(7999),m=t(2826),c=t(8551),w=t(5528);function h(I){var B=u(I);return[c(B,-1/0),c(B,1/0)]}function o(I,B){for(var F=new Array(B.length),O=0;O<B.length;++O){var N=B[O],_=I[N[0]],U=I[N[1]];F[O]=[c(Math.min(_[0],U[0]),-1/0),c(Math.min(_[1],U[1]),-1/0),c(Math.max(_[0],U[0]),1/0),c(Math.max(_[1],U[1]),1/0)]}return F}function d(I){for(var B=new Array(I.length),F=0;F<I.length;++F){var O=I[F];B[F]=[c(O[0],-1/0),c(O[1],-1/0),c(O[0],1/0),c(O[1],1/0)]}return B}function M(I,B,F){var O=[];return s(F,function(N,_){var U=B[N],Y=B[_];if(!(U[0]===Y[0]||U[0]===Y[1]||U[1]===Y[0]||U[1]===Y[1])){var K=I[U[0]],re=I[U[1]],ae=I[Y[0]],fe=I[Y[1]];n(K,re,ae,fe)&&O.push([N,_])}}),O}function T(I,B,F,O){var N=[];return s(F,O,function(_,U){var Y=B[_];if(!(Y[0]===U||Y[1]===U)){var K=I[U],re=I[Y[0]],ae=I[Y[1]];n(re,ae,K,K)&&N.push([_,U])}}),N}function E(I,B,F,O,N){var _,U,Y=I.map(function(Me){return[l(Me[0]),l(Me[1])]});for(_=0;_<F.length;++_){var K=F[_];U=K[0];var re=K[1],ae=B[U],fe=B[re],Q=w(m(I[ae[0]]),m(I[ae[1]]),m(I[fe[0]]),m(I[fe[1]]));if(Q){var j=I.length;I.push([u(Q[0]),u(Q[1])]),Y.push(Q),O.push([U,j],[re,j])}}for(O.sort(function(Me,we){if(Me[0]!==we[0])return Me[0]-we[0];var Oe=Y[Me[1]],Be=Y[we[1]];return f(Oe[0],Be[0])||f(Oe[1],Be[1])}),_=O.length-1;_>=0;--_){var X=O[_];U=X[0];var J=B[U],ee=J[0],se=J[1],q=I[ee],$=I[se];if((q[0]-$[0]||q[1]-$[1])<0){var le=ee;ee=se,se=le}J[0]=ee;var ie=J[1]=X[1],ce;for(N&&(ce=J[2]);_>0&&O[_-1][0]===U;){var X=O[--_],me=X[1];N?B.push([ie,me,ce]):B.push([ie,me]),ie=me}N?B.push([ie,se,ce]):B.push([ie,se])}return Y}function x(I,B,F){for(var O=B.length,N=new r(O),_=[],U=0;U<B.length;++U){var Y=B[U],K=h(Y[0]),re=h(Y[1]);_.push([c(K[0],-1/0),c(re[0],-1/0),c(K[1],1/0),c(re[1],1/0)])}s(_,function(X,J){N.link(X,J)});for(var ae=!0,fe=new Array(O),U=0;U<O;++U){var Q=N.find(U);Q!==U&&(ae=!1,I[Q]=[Math.min(I[U][0],I[Q][0]),Math.min(I[U][1],I[Q][1])])}if(ae)return null;for(var j=0,U=0;U<O;++U){var Q=N.find(U);Q===U?(fe[U]=j,I[j++]=I[U]):fe[U]=-1}I.length=j;for(var U=0;U<O;++U)fe[U]<0&&(fe[U]=fe[N.find(U)]);return fe}function S(I,B){return I[0]-B[0]||I[1]-B[1]}function b(I,B){var F=I[0]-B[0]||I[1]-B[1];return F||(I[2]<B[2]?-1:I[2]>B[2]?1:0)}function a(I,B,F){if(I.length!==0){if(B)for(var O=0;O<I.length;++O){var N=I[O],_=B[N[0]],U=B[N[1]];N[0]=Math.min(_,U),N[1]=Math.max(_,U)}else for(var O=0;O<I.length;++O){var N=I[O],_=N[0],U=N[1];N[0]=Math.min(_,U),N[1]=Math.max(_,U)}F?I.sort(b):I.sort(S);for(var Y=1,O=1;O<I.length;++O){var K=I[O-1],re=I[O];re[0]===K[0]&&re[1]===K[1]&&(!F||re[2]===K[2])||(I[Y++]=re)}I.length=Y}}function C(I,B,F){var O=x(I,[],d(I));return a(B,O,F),!!O}function y(I,B,F){var O=o(I,B),N=M(I,B,O),_=d(I),U=T(I,B,O,_),Y=E(I,B,N,U,F),K=x(I,Y);return a(B,K,F),K?!0:N.length>0||U.length>0}function z(I,B,F){var O;if(F){O=B;for(var N=new Array(B.length),_=0;_<B.length;++_){var U=B[_];N[_]=[U[0],U[1],F[_]]}B=N}for(var Y=C(I,B,!!F);y(I,B,!!F);)Y=!0;if(F&&Y){O.length=0,F.length=0;for(var _=0;_<B.length;++_){var U=B[_];O.push([U[0],U[1]]),F.push(U[2])}}return Y}},5528:function(v,p,t){v.exports=w;var r=t(3962),s=t(9189),n=t(4354),l=t(4951),f=t(6695),u=t(7584),m=t(4469);function c(h,o){return n(r(h[0],o[1]),r(h[1],o[0]))}function w(h,o,d,M){var T=f(o,h),E=f(M,d),x=c(T,E);if(l(x)===0)return null;var S=f(h,d),b=c(E,S),a=s(b,x),C=m(T,a),y=u(h,C);return y}},5692:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(v,p,t){var r=t(5692),s=t(3578);v.exports=n;function n(m){var c,w,h,o,d,M,T,E,a,x,S;if(m||(m={}),E=(m.nshades||72)-1,T=m.format||"hex",M=m.colormap,M||(M="jet"),typeof M=="string"){if(M=M.toLowerCase(),!r[M])throw Error(M+" not a supported colorscale");d=r[M]}else if(Array.isArray(M))d=M.slice();else throw Error("unsupported colormap option",M);if(d.length>E+1)throw new Error(M+" map requires nshades to be at least size "+d.length);Array.isArray(m.alpha)?m.alpha.length!==2?x=[1,1]:x=m.alpha.slice():typeof m.alpha=="number"?x=[m.alpha,m.alpha]:x=[1,1],c=d.map(function(z){return Math.round(z.index*E)}),x[0]=Math.min(Math.max(x[0],0),1),x[1]=Math.min(Math.max(x[1],0),1);var b=d.map(function(z,I){var B=d[I].index,F=d[I].rgb.slice();return F.length===4&&F[3]>=0&&F[3]<=1||(F[3]=x[0]+(x[1]-x[0])*B),F}),a=[];for(S=0;S<c.length-1;++S){o=c[S+1]-c[S],w=b[S],h=b[S+1];for(var C=0;C<o;C++){var y=C/o;a.push([Math.round(s(w[0],h[0],y)),Math.round(s(w[1],h[1],y)),Math.round(s(w[2],h[2],y)),s(w[3],h[3],y)])}}return a.push(d[d.length-1].rgb.concat(x[1])),T==="hex"?a=a.map(f):T==="rgbaString"?a=a.map(u):T==="float"&&(a=a.map(l)),a}function l(m){return[m[0]/255,m[1]/255,m[2]/255,m[3]]}function f(m){for(var c,w="#",h=0;h<3;++h)c=m[h],c=c.toString(16),w+=("00"+c).substr(c.length);return w}function u(m){return"rgba("+m.join(",")+")"}},9398:function(v,p,t){v.exports=m;var r=t(417),s=t(7538),n=t(87),l=t(2019),f=t(9662);function u(c,w,h){var o=n(c[0],-w[0]),d=n(c[1],-w[1]),M=n(h[0],-w[0]),T=n(h[1],-w[1]),E=f(l(o,M),l(d,T));return E[E.length-1]>=0}function m(c,w,h,o){var d=r(w,h,o);if(d===0){var M=s(r(c,w,h)),T=s(r(c,w,o));if(M===T){if(M===0){var E=u(c,w,h),x=u(c,w,o);return E===x?0:E?1:-1}return 0}else{if(T===0)return M>0||u(c,w,o)?-1:1;if(M===0)return T>0||u(c,w,h)?1:-1}return s(T-M)}var S=r(c,w,h);if(S>0)return d>0&&r(c,w,o)>0?1:-1;if(S<0)return d>0||r(c,w,o)>0?1:-1;var b=r(c,w,o);return b>0||u(c,w,h)?1:-1}},7538:function(v){v.exports=function(t){return t<0?-1:t>0?1:0}},9209:function(v){v.exports=r;var p=Math.min;function t(s,n){return s-n}function r(s,n){var l=s.length,f=s.length-n.length;if(f)return f;switch(l){case 0:return 0;case 1:return s[0]-n[0];case 2:return s[0]+s[1]-n[0]-n[1]||p(s[0],s[1])-p(n[0],n[1]);case 3:var u=s[0]+s[1],m=n[0]+n[1];if(f=u+s[2]-(m+n[2]),f)return f;var c=p(s[0],s[1]),w=p(n[0],n[1]);return p(c,s[2])-p(w,n[2])||p(c+s[2],u)-p(w+n[2],m);case 4:var h=s[0],o=s[1],d=s[2],M=s[3],T=n[0],E=n[1],x=n[2],S=n[3];return h+o+d+M-(T+E+x+S)||p(h,o,d,M)-p(T,E,x,S,T)||p(h+o,h+d,h+M,o+d,o+M,d+M)-p(T+E,T+x,T+S,E+x,E+S,x+S)||p(h+o+d,h+o+M,h+d+M,o+d+M)-p(T+E+x,T+E+S,T+x+S,E+x+S);default:for(var b=s.slice().sort(t),a=n.slice().sort(t),C=0;C<l;++C)if(f=b[C]-a[C],f)return f;return 0}}},1284:function(v,p,t){var r=t(9209),s=t(9887);v.exports=n;function n(l,f){return r(l,f)||s(l)-s(f)}},5537:function(v,p,t){var r=t(8950),s=t(8722),n=t(3332);v.exports=l;function l(f){var u=f.length;if(u===0)return[];if(u===1)return[[0]];var m=f[0].length;return m===0?[]:m===1?r(f):m===2?s(f):n(f,m)}},8950:function(v){v.exports=p;function p(t){for(var r=0,s=0,n=1;n<t.length;++n)t[n][0]<t[r][0]&&(r=n),t[n][0]>t[s][0]&&(s=n);return r<s?[[r],[s]]:r>s?[[s],[r]]:[[r]]}},8722:function(v,p,t){v.exports=s;var r=t(3266);function s(n){var l=r(n),f=l.length;if(f<=2)return[];for(var u=new Array(f),m=l[f-1],c=0;c<f;++c){var w=l[c];u[c]=[m,w],m=w}return u}},3332:function(v,p,t){v.exports=f;var r=t(2183),s=t(2153);function n(u,m){for(var c=u.length,w=new Array(c),h=0;h<m.length;++h)w[h]=u[m[h]];for(var o=m.length,h=0;h<c;++h)m.indexOf(h)<0&&(w[o++]=u[h]);return w}function l(u,m){for(var c=u.length,w=m.length,h=0;h<c;++h)for(var o=u[h],d=0;d<o.length;++d){var M=o[d];if(M<w)o[d]=m[M];else{M=M-w;for(var T=0;T<w;++T)M>=m[T]&&(M+=1);o[d]=M}}return u}function f(u,m){try{return r(u,!0)}catch{var c=s(u);if(c.length<=m)return[];var w=n(u,c),h=r(w,!0);return l(h,c)}}},9680:function(v){function p(r,s,n,l,f,u){var m=6*f*f-6*f,c=3*f*f-4*f+1,w=-6*f*f+6*f,h=3*f*f-2*f;if(r.length){u||(u=new Array(r.length));for(var o=r.length-1;o>=0;--o)u[o]=m*r[o]+c*s[o]+w*n[o]+h*l[o];return u}return m*r+c*s+w*n[o]+h*l}function t(r,s,n,l,f,u){var m=f-1,c=f*f,w=m*m,h=(1+2*f)*w,o=f*w,d=c*(3-2*f),M=c*m;if(r.length){u||(u=new Array(r.length));for(var T=r.length-1;T>=0;--T)u[T]=h*r[T]+o*s[T]+d*n[T]+M*l[T];return u}return h*r+o*s+d*n+M*l}v.exports=t,v.exports.derivative=p},4419:function(v,p,t){var r=t(2183),s=t(1215);v.exports=u;function n(m,c){this.point=m,this.index=c}function l(m,c){for(var w=m.point,h=c.point,o=w.length,d=0;d<o;++d){var M=h[d]-w[d];if(M)return M}return 0}function f(m,c,w){if(m===1)return w?[[-1,0]]:[];var h=c.map(function(E,x){return[E[0],x]});h.sort(function(E,x){return E[0]-x[0]});for(var o=new Array(m-1),d=1;d<m;++d){var M=h[d-1],T=h[d];o[d-1]=[M[1],T[1]]}return w&&o.push([-1,o[0][1]],[o[m-1][1],-1]),o}function u(m,c){var w=m.length;if(w===0)return[];var h=m[0].length;if(h<1)return[];if(h===1)return f(w,m,c);for(var o=new Array(w),d=1,M=0;M<w;++M){for(var T=m[M],E=new Array(h+1),x=0,S=0;S<h;++S){var b=T[S];E[S]=b,x+=b*b}E[h]=x,o[M]=new n(E,M),d=Math.max(x,d)}s(o,l),w=o.length;for(var a=new Array(w+h+1),C=new Array(w+h+1),y=(h+1)*(h+1)*d,z=new Array(h+1),M=0;M<=h;++M)z[M]=0;z[h]=y,a[0]=z.slice(),C[0]=-1;for(var M=0;M<=h;++M){var E=z.slice();E[M]=1,a[M+1]=E,C[M+1]=-1}for(var M=0;M<w;++M){var I=o[M];a[M+h+1]=I.point,C[M+h+1]=I.index}var B=r(a,!1);if(c?B=B.filter(function(F){for(var O=0,N=0;N<=h;++N){var _=C[F[N]];if(_<0&&++O>=2)return!1;F[N]=_}return!0}):B=B.filter(function(F){for(var O=0;O<=h;++O){var N=C[F[O]];if(N<0)return!1;F[O]=N}return!0}),h&1)for(var M=0;M<B.length;++M){var I=B[M],E=I[0];I[0]=I[1],I[1]=E}return B}},8362:function(v){var p=!1;if(typeof Float64Array<"u"){var t=new Float64Array(1),r=new Uint32Array(t.buffer);if(t[0]=1,p=!0,r[1]===1072693248){let d=function(E,x){return r[0]=E,r[1]=x,t[0]},M=function(E){return t[0]=E,r[0]},T=function(E){return t[0]=E,r[1]};var n=d,l=M,f=T;v.exports=function(x){return t[0]=x,[r[0],r[1]]},v.exports.pack=d,v.exports.lo=M,v.exports.hi=T}else if(r[0]===1072693248){let d=function(E,x){return r[1]=E,r[0]=x,t[0]},M=function(E){return t[0]=E,r[1]},T=function(E){return t[0]=E,r[0]};var u=d,m=M,c=T;v.exports=function(x){return t[0]=x,[r[1],r[0]]},v.exports.pack=d,v.exports.lo=M,v.exports.hi=T}else p=!1}if(!p){let d=function(E,x){return s.writeUInt32LE(E,0,!0),s.writeUInt32LE(x,4,!0),s.readDoubleLE(0,!0)},M=function(E){return s.writeDoubleLE(E,0,!0),s.readUInt32LE(0,!0)},T=function(E){return s.writeDoubleLE(E,0,!0),s.readUInt32LE(4,!0)};var w=d,h=M,o=T,s=new Buffer(8);v.exports=function(x){return s.writeDoubleLE(x,0,!0),[s.readUInt32LE(0,!0),s.readUInt32LE(4,!0)]},v.exports.pack=d,v.exports.lo=M,v.exports.hi=T}v.exports.sign=function(d){return v.exports.hi(d)>>>31},v.exports.exponent=function(d){var M=v.exports.hi(d);return(M<<1>>>21)-1023},v.exports.fraction=function(d){var M=v.exports.lo(d),T=v.exports.hi(d),E=T&(1<<20)-1;return T&2146435072&&(E+=1048576),[M,E]},v.exports.denormalized=function(d){var M=v.exports.hi(d);return!(M&2146435072)}},3094:function(v){function p(s,n,l){var f=s[l]|0;if(f<=0)return[];var u=new Array(f),m;if(l===s.length-1)for(m=0;m<f;++m)u[m]=n;else for(m=0;m<f;++m)u[m]=p(s,n,l+1);return u}function t(s,n){var l,f;for(l=new Array(s),f=0;f<s;++f)l[f]=n;return l}function r(s,n){switch(typeof n>"u"&&(n=0),typeof s){case"number":if(s>0)return t(s|0,n);break;case"object":if(typeof s.length=="number")return p(s,n,0);break}return[]}v.exports=r},8348:function(v,p,t){v.exports=s;var r=t(1215);function s(n,l){var f=n.length;if(typeof l!="number"){l=0;for(var u=0;u<f;++u){var m=n[u];l=Math.max(l,m[0],m[1])}l=(l|0)+1}l=l|0;for(var c=new Array(l),u=0;u<l;++u)c[u]=[];for(var u=0;u<f;++u){var m=n[u];c[m[0]].push(m[1]),c[m[1]].push(m[0])}for(var w=0;w<l;++w)r(c[w],function(h,o){return h-o});return c}},5795:function(v){v.exports=p;function p(t,r,s){var n=r||0,l=s||1;return[[t[12]+t[0],t[13]+t[1],t[14]+t[2],t[15]+t[3]],[t[12]-t[0],t[13]-t[1],t[14]-t[2],t[15]-t[3]],[t[12]+t[4],t[13]+t[5],t[14]+t[6],t[15]+t[7]],[t[12]-t[4],t[13]-t[5],t[14]-t[6],t[15]-t[7]],[n*t[12]+t[8],n*t[13]+t[9],n*t[14]+t[10],n*t[15]+t[11]],[l*t[12]-t[8],l*t[13]-t[9],l*t[14]-t[10],l*t[15]-t[11]]]}},8444:function(v,p,t){v.exports=m;var r=t(9680),s=t(5070);function n(c,w,h){return Math.min(w,Math.max(c,h))}function l(c,w,h){this.dimension=c.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var o=0;o<this.dimension;++o)this.bounds[0][o]=-1/0,this.bounds[1][o]=1/0;this._state=c.slice().reverse(),this._velocity=w.slice().reverse(),this._time=[h],this._scratch=[c.slice(),c.slice(),c.slice(),c.slice(),c.slice()]}var f=l.prototype;f.flush=function(c){var w=s.gt(this._time,c)-1;w<=0||(this._time.splice(0,w),this._state.splice(0,w*this.dimension),this._velocity.splice(0,w*this.dimension))},f.curve=function(c){var w=this._time,h=w.length,o=s.le(w,c),d=this._scratch[0],M=this._state,T=this._velocity,E=this.dimension,x=this.bounds;if(o<0)for(var S=E-1,b=0;b<E;++b,--S)d[b]=M[S];else if(o>=h-1)for(var S=M.length-1,a=c-w[h-1],b=0;b<E;++b,--S)d[b]=M[S]+a*T[S];else{for(var S=E*(o+1)-1,C=w[o],y=w[o+1],z=y-C||1,I=this._scratch[1],B=this._scratch[2],F=this._scratch[3],O=this._scratch[4],N=!0,b=0;b<E;++b,--S)I[b]=M[S],F[b]=T[S]*z,B[b]=M[S+E],O[b]=T[S+E]*z,N=N&&I[b]===B[b]&&F[b]===O[b]&&F[b]===0;if(N)for(var b=0;b<E;++b)d[b]=I[b];else r(I,F,B,O,(c-C)/z,d)}for(var _=x[0],U=x[1],b=0;b<E;++b)d[b]=n(_[b],U[b],d[b]);return d},f.dcurve=function(c){var w=this._time,h=w.length,o=s.le(w,c),d=this._scratch[0],M=this._state,T=this._velocity,E=this.dimension;if(o>=h-1){var x=M.length-1;c-w[h-1];for(var S=0;S<E;++S,--x)d[S]=T[x]}else{for(var x=E*(o+1)-1,b=w[o],a=w[o+1],C=a-b||1,y=this._scratch[1],z=this._scratch[2],I=this._scratch[3],B=this._scratch[4],F=!0,S=0;S<E;++S,--x)y[S]=M[x],I[S]=T[x]*C,z[S]=M[x+E],B[S]=T[x+E]*C,F=F&&y[S]===z[S]&&I[S]===B[S]&&I[S]===0;if(F)for(var S=0;S<E;++S)d[S]=0;else{r.derivative(y,I,z,B,(c-b)/C,d);for(var S=0;S<E;++S)d[S]/=C}}return d},f.lastT=function(){var c=this._time;return c[c.length-1]},f.stable=function(){for(var c=this._velocity,w=c.length,h=this.dimension-1;h>=0;--h)if(c[--w])return!1;return!0},f.jump=function(c){var w=this.lastT(),h=this.dimension;if(!(c<w||arguments.length!==h+1)){var o=this._state,d=this._velocity,M=o.length-this.dimension,T=this.bounds,E=T[0],x=T[1];this._time.push(w,c);for(var S=0;S<2;++S)for(var b=0;b<h;++b)o.push(o[M++]),d.push(0);this._time.push(c);for(var b=h;b>0;--b)o.push(n(E[b-1],x[b-1],arguments[b])),d.push(0)}},f.push=function(c){var w=this.lastT(),h=this.dimension;if(!(c<w||arguments.length!==h+1)){var o=this._state,d=this._velocity,M=o.length-this.dimension,T=c-w,E=this.bounds,x=E[0],S=E[1],b=T>1e-6?1/T:0;this._time.push(c);for(var a=h;a>0;--a){var C=n(x[a-1],S[a-1],arguments[a]);o.push(C),d.push((C-o[M++])*b)}}},f.set=function(c){var w=this.dimension;if(!(c<this.lastT()||arguments.length!==w+1)){var h=this._state,o=this._velocity,d=this.bounds,M=d[0],T=d[1];this._time.push(c);for(var E=w;E>0;--E)h.push(n(M[E-1],T[E-1],arguments[E])),o.push(0)}},f.move=function(c){var w=this.lastT(),h=this.dimension;if(!(c<=w||arguments.length!==h+1)){var o=this._state,d=this._velocity,M=o.length-this.dimension,T=this.bounds,E=T[0],x=T[1],S=c-w,b=S>1e-6?1/S:0;this._time.push(c);for(var a=h;a>0;--a){var C=arguments[a];o.push(n(E[a-1],x[a-1],o[M++]+C)),d.push(C*b)}}},f.idle=function(c){var w=this.lastT();if(!(c<w)){var h=this.dimension,o=this._state,d=this._velocity,M=o.length-h,T=this.bounds,E=T[0],x=T[1],S=c-w;this._time.push(c);for(var b=h-1;b>=0;--b)o.push(n(E[b],x[b],o[M]+S*d[M])),d.push(0),M+=1}};function u(c){for(var w=new Array(c),h=0;h<c;++h)w[h]=0;return w}function m(c,w,h){switch(arguments.length){case 0:return new l([0],[0],0);case 1:if(typeof c=="number"){var o=u(c);return new l(o,o,0)}else return new l(c,u(c.length),0);case 2:if(typeof w=="number"){var o=u(c.length);return new l(c,o,+w)}else h=0;case 3:if(c.length!==w.length)throw new Error("state and velocity lengths must match");return new l(c,w,h)}}},7080:function(v){v.exports=E;var p=0,t=1;function r(x,S,b,a,C,y){this._color=x,this.key=S,this.value=b,this.left=a,this.right=C,this._count=y}function s(x){return new r(x._color,x.key,x.value,x.left,x.right,x._count)}function n(x,S){return new r(x,S.key,S.value,S.left,S.right,S._count)}function l(x){x._count=1+(x.left?x.left._count:0)+(x.right?x.right._count:0)}function f(x,S){this._compare=x,this.root=S}var u=f.prototype;Object.defineProperty(u,"keys",{get:function(){var x=[];return this.forEach(function(S,b){x.push(S)}),x}}),Object.defineProperty(u,"values",{get:function(){var x=[];return this.forEach(function(S,b){x.push(b)}),x}}),Object.defineProperty(u,"length",{get:function(){return this.root?this.root._count:0}}),u.insert=function(x,S){for(var b=this._compare,a=this.root,C=[],y=[];a;){var z=b(x,a.key);C.push(a),y.push(z),z<=0?a=a.left:a=a.right}C.push(new r(p,x,S,null,null,1));for(var I=C.length-2;I>=0;--I){var a=C[I];y[I]<=0?C[I]=new r(a._color,a.key,a.value,C[I+1],a.right,a._count+1):C[I]=new r(a._color,a.key,a.value,a.left,C[I+1],a._count+1)}for(var I=C.length-1;I>1;--I){var B=C[I-1],a=C[I];if(B._color===t||a._color===t)break;var F=C[I-2];if(F.left===B)if(B.left===a){var O=F.right;if(O&&O._color===p)B._color=t,F.right=n(t,O),F._color=p,I-=1;else{if(F._color=p,F.left=B.right,B._color=t,B.right=F,C[I-2]=B,C[I-1]=a,l(F),l(B),I>=3){var N=C[I-3];N.left===F?N.left=B:N.right=B}break}}else{var O=F.right;if(O&&O._color===p)B._color=t,F.right=n(t,O),F._color=p,I-=1;else{if(B.right=a.left,F._color=p,F.left=a.right,a._color=t,a.left=B,a.right=F,C[I-2]=a,C[I-1]=B,l(F),l(B),l(a),I>=3){var N=C[I-3];N.left===F?N.left=a:N.right=a}break}}else if(B.right===a){var O=F.left;if(O&&O._color===p)B._color=t,F.left=n(t,O),F._color=p,I-=1;else{if(F._color=p,F.right=B.left,B._color=t,B.left=F,C[I-2]=B,C[I-1]=a,l(F),l(B),I>=3){var N=C[I-3];N.right===F?N.right=B:N.left=B}break}}else{var O=F.left;if(O&&O._color===p)B._color=t,F.left=n(t,O),F._color=p,I-=1;else{if(B.left=a.right,F._color=p,F.right=a.left,a._color=t,a.right=B,a.left=F,C[I-2]=a,C[I-1]=B,l(F),l(B),l(a),I>=3){var N=C[I-3];N.right===F?N.right=a:N.left=a}break}}}return C[0]._color=t,new f(b,C[0])};function m(x,S){if(S.left){var b=m(x,S.left);if(b)return b}var b=x(S.key,S.value);if(b)return b;if(S.right)return m(x,S.right)}function c(x,S,b,a){var C=S(x,a.key);if(C<=0){if(a.left){var y=c(x,S,b,a.left);if(y)return y}var y=b(a.key,a.value);if(y)return y}if(a.right)return c(x,S,b,a.right)}function w(x,S,b,a,C){var y=b(x,C.key),z=b(S,C.key),I;if(y<=0&&(C.left&&(I=w(x,S,b,a,C.left),I)||z>0&&(I=a(C.key,C.value),I)))return I;if(z>0&&C.right)return w(x,S,b,a,C.right)}u.forEach=function(S,b,a){if(this.root)switch(arguments.length){case 1:return m(S,this.root);case 2:return c(b,this._compare,S,this.root);case 3:return this._compare(b,a)>=0?void 0:w(b,a,this._compare,S,this.root)}},Object.defineProperty(u,"begin",{get:function(){for(var x=[],S=this.root;S;)x.push(S),S=S.left;return new h(this,x)}}),Object.defineProperty(u,"end",{get:function(){for(var x=[],S=this.root;S;)x.push(S),S=S.right;return new h(this,x)}}),u.at=function(x){if(x<0)return new h(this,[]);for(var S=this.root,b=[];;){if(b.push(S),S.left){if(x<S.left._count){S=S.left;continue}x-=S.left._count}if(!x)return new h(this,b);if(x-=1,S.right){if(x>=S.right._count)break;S=S.right}else break}return new h(this,[])},u.ge=function(x){for(var S=this._compare,b=this.root,a=[],C=0;b;){var y=S(x,b.key);a.push(b),y<=0&&(C=a.length),y<=0?b=b.left:b=b.right}return a.length=C,new h(this,a)},u.gt=function(x){for(var S=this._compare,b=this.root,a=[],C=0;b;){var y=S(x,b.key);a.push(b),y<0&&(C=a.length),y<0?b=b.left:b=b.right}return a.length=C,new h(this,a)},u.lt=function(x){for(var S=this._compare,b=this.root,a=[],C=0;b;){var y=S(x,b.key);a.push(b),y>0&&(C=a.length),y<=0?b=b.left:b=b.right}return a.length=C,new h(this,a)},u.le=function(x){for(var S=this._compare,b=this.root,a=[],C=0;b;){var y=S(x,b.key);a.push(b),y>=0&&(C=a.length),y<0?b=b.left:b=b.right}return a.length=C,new h(this,a)},u.find=function(x){for(var S=this._compare,b=this.root,a=[];b;){var C=S(x,b.key);if(a.push(b),C===0)return new h(this,a);C<=0?b=b.left:b=b.right}return new h(this,[])},u.remove=function(x){var S=this.find(x);return S?S.remove():this},u.get=function(x){for(var S=this._compare,b=this.root;b;){var a=S(x,b.key);if(a===0)return b.value;a<=0?b=b.left:b=b.right}};function h(x,S){this.tree=x,this._stack=S}var o=h.prototype;Object.defineProperty(o,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(o,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),o.clone=function(){return new h(this.tree,this._stack.slice())};function d(x,S){x.key=S.key,x.value=S.value,x.left=S.left,x.right=S.right,x._color=S._color,x._count=S._count}function M(x){for(var S,b,a,C,y=x.length-1;y>=0;--y){if(S=x[y],y===0){S._color=t;return}if(b=x[y-1],b.left===S){if(a=b.right,a.right&&a.right._color===p){if(a=b.right=s(a),C=a.right=s(a.right),b.right=a.left,a.left=b,a.right=C,a._color=b._color,S._color=t,b._color=t,C._color=t,l(b),l(a),y>1){var z=x[y-2];z.left===b?z.left=a:z.right=a}x[y-1]=a;return}else if(a.left&&a.left._color===p){if(a=b.right=s(a),C=a.left=s(a.left),b.right=C.left,a.left=C.right,C.left=b,C.right=a,C._color=b._color,b._color=t,a._color=t,S._color=t,l(b),l(a),l(C),y>1){var z=x[y-2];z.left===b?z.left=C:z.right=C}x[y-1]=C;return}if(a._color===t)if(b._color===p){b._color=t,b.right=n(p,a);return}else{b.right=n(p,a);continue}else{if(a=s(a),b.right=a.left,a.left=b,a._color=b._color,b._color=p,l(b),l(a),y>1){var z=x[y-2];z.left===b?z.left=a:z.right=a}x[y-1]=a,x[y]=b,y+1<x.length?x[y+1]=S:x.push(S),y=y+2}}else{if(a=b.left,a.left&&a.left._color===p){if(a=b.left=s(a),C=a.left=s(a.left),b.left=a.right,a.right=b,a.left=C,a._color=b._color,S._color=t,b._color=t,C._color=t,l(b),l(a),y>1){var z=x[y-2];z.right===b?z.right=a:z.left=a}x[y-1]=a;return}else if(a.right&&a.right._color===p){if(a=b.left=s(a),C=a.right=s(a.right),b.left=C.right,a.right=C.left,C.right=b,C.left=a,C._color=b._color,b._color=t,a._color=t,S._color=t,l(b),l(a),l(C),y>1){var z=x[y-2];z.right===b?z.right=C:z.left=C}x[y-1]=C;return}if(a._color===t)if(b._color===p){b._color=t,b.left=n(p,a);return}else{b.left=n(p,a);continue}else{if(a=s(a),b.left=a.right,a.right=b,a._color=b._color,b._color=p,l(b),l(a),y>1){var z=x[y-2];z.right===b?z.right=a:z.left=a}x[y-1]=a,x[y]=b,y+1<x.length?x[y+1]=S:x.push(S),y=y+2}}}}o.remove=function(){var x=this._stack;if(x.length===0)return this.tree;var S=new Array(x.length),b=x[x.length-1];S[S.length-1]=new r(b._color,b.key,b.value,b.left,b.right,b._count);for(var a=x.length-2;a>=0;--a){var b=x[a];b.left===x[a+1]?S[a]=new r(b._color,b.key,b.value,S[a+1],b.right,b._count):S[a]=new r(b._color,b.key,b.value,b.left,S[a+1],b._count)}if(b=S[S.length-1],b.left&&b.right){var C=S.length;for(b=b.left;b.right;)S.push(b),b=b.right;var y=S[C-1];S.push(new r(b._color,y.key,y.value,b.left,b.right,b._count)),S[C-1].key=b.key,S[C-1].value=b.value;for(var a=S.length-2;a>=C;--a)b=S[a],S[a]=new r(b._color,b.key,b.value,b.left,S[a+1],b._count);S[C-1].left=S[C]}if(b=S[S.length-1],b._color===p){var z=S[S.length-2];z.left===b?z.left=null:z.right===b&&(z.right=null),S.pop();for(var a=0;a<S.length;++a)S[a]._count--;return new f(this.tree._compare,S[0])}else if(b.left||b.right){b.left?d(b,b.left):b.right&&d(b,b.right),b._color=t;for(var a=0;a<S.length-1;++a)S[a]._count--;return new f(this.tree._compare,S[0])}else{if(S.length===1)return new f(this.tree._compare,null);for(var a=0;a<S.length;++a)S[a]._count--;var I=S[S.length-2];M(S),I.left===b?I.left=null:I.right=null}return new f(this.tree._compare,S[0])},Object.defineProperty(o,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(o,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(o,"index",{get:function(){var x=0,S=this._stack;if(S.length===0){var b=this.tree.root;return b?b._count:0}else S[S.length-1].left&&(x=S[S.length-1].left._count);for(var a=S.length-2;a>=0;--a)S[a+1]===S[a].right&&(++x,S[a].left&&(x+=S[a].left._count));return x},enumerable:!0}),o.next=function(){var x=this._stack;if(x.length!==0){var S=x[x.length-1];if(S.right)for(S=S.right;S;)x.push(S),S=S.left;else for(x.pop();x.length>0&&x[x.length-1].right===S;)S=x[x.length-1],x.pop()}},Object.defineProperty(o,"hasNext",{get:function(){var x=this._stack;if(x.length===0)return!1;if(x[x.length-1].right)return!0;for(var S=x.length-1;S>0;--S)if(x[S-1].left===x[S])return!0;return!1}}),o.update=function(x){var S=this._stack;if(S.length===0)throw new Error("Can't update empty node!");var b=new Array(S.length),a=S[S.length-1];b[b.length-1]=new r(a._color,a.key,x,a.left,a.right,a._count);for(var C=S.length-2;C>=0;--C)a=S[C],a.left===S[C+1]?b[C]=new r(a._color,a.key,a.value,b[C+1],a.right,a._count):b[C]=new r(a._color,a.key,a.value,a.left,b[C+1],a._count);return new f(this.tree._compare,b[0])},o.prev=function(){var x=this._stack;if(x.length!==0){var S=x[x.length-1];if(S.left)for(S=S.left;S;)x.push(S),S=S.right;else for(x.pop();x.length>0&&x[x.length-1].left===S;)S=x[x.length-1],x.pop()}},Object.defineProperty(o,"hasPrev",{get:function(){var x=this._stack;if(x.length===0)return!1;if(x[x.length-1].left)return!0;for(var S=x.length-1;S>0;--S)if(x[S-1].right===x[S])return!0;return!1}});function T(x,S){return x<S?-1:x>S?1:0}function E(x){return new f(x||T,null)}},7453:function(v,p,t){v.exports=a;var r=t(9557),s=t(1681),n=t(1011),l=t(2864),f=t(8468),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function m(C,y){return C[0]=y[0],C[1]=y[1],C[2]=y[2],C}function c(C){this.gl=C,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(C)}var w=c.prototype;w.update=function(C){C=C||{};function y(ae,fe,Q){if(Q in C){var j=C[Q],X=this[Q],J;(ae?Array.isArray(j)&&Array.isArray(j[0]):Array.isArray(j))?this[Q]=J=[fe(j[0]),fe(j[1]),fe(j[2])]:this[Q]=J=[fe(j),fe(j),fe(j)];for(var ee=0;ee<3;++ee)if(J[ee]!==X[ee])return!0}return!1}var z=y.bind(this,!1,Number),I=y.bind(this,!1,Boolean),B=y.bind(this,!1,String),F=y.bind(this,!0,function(ae){if(Array.isArray(ae)){if(ae.length===3)return[+ae[0],+ae[1],+ae[2],1];if(ae.length===4)return[+ae[0],+ae[1],+ae[2],+ae[3]]}return[0,0,0,1]}),O,N=!1,_=!1;if("bounds"in C)for(var U=C.bounds,Y=0;Y<2;++Y)for(var K=0;K<3;++K)U[Y][K]!==this.bounds[Y][K]&&(_=!0),this.bounds[Y][K]=U[Y][K];if("ticks"in C){O=C.ticks,N=!0,this.autoTicks=!1;for(var Y=0;Y<3;++Y)this.tickSpacing[Y]=0}else z("tickSpacing")&&(this.autoTicks=!0,_=!0);if(this._firstInit&&("ticks"in C||"tickSpacing"in C||(this.autoTicks=!0),_=!0,N=!0,this._firstInit=!1),_&&this.autoTicks&&(O=f.create(this.bounds,this.tickSpacing),N=!0),N){for(var Y=0;Y<3;++Y)O[Y].sort(function(fe,Q){return fe.x-Q.x});f.equal(O,this.ticks)?N=!1:this.ticks=O}I("tickEnable"),B("tickFont")&&(N=!0),z("tickSize"),z("tickAngle"),z("tickPad"),F("tickColor");var re=B("labels");B("labelFont")&&(re=!0),I("labelEnable"),z("labelSize"),z("labelPad"),F("labelColor"),I("lineEnable"),I("lineMirror"),z("lineWidth"),F("lineColor"),I("lineTickEnable"),I("lineTickMirror"),z("lineTickLength"),z("lineTickWidth"),F("lineTickColor"),I("gridEnable"),z("gridWidth"),F("gridColor"),I("zeroEnable"),F("zeroLineColor"),z("zeroLineWidth"),I("backgroundEnable"),F("backgroundColor"),this._text?this._text&&(re||N)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=r(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&N&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=s(this.gl,this.bounds,this.ticks))};function h(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var o=[new h,new h,new h];function d(C,y,z,I,B){for(var F=C.primalOffset,O=C.primalMinor,N=C.mirrorOffset,_=C.mirrorMinor,U=I[y],Y=0;Y<3;++Y)if(y!==Y){var K=F,re=N,ae=O,fe=_;U&1<<Y&&(K=N,re=F,ae=_,fe=O),K[Y]=z[0][Y],re[Y]=z[1][Y],B[Y]>0?(ae[Y]=-1,fe[Y]=0):(ae[Y]=0,fe[Y]=1)}}var M=[0,0,0],T={model:u,view:u,projection:u,_ortho:!1};w.isOpaque=function(){return!0},w.isTransparent=function(){return!1},w.drawTransparent=function(C){};var E=0,x=[0,0,0],S=[0,0,0],b=[0,0,0];w.draw=function(C){C=C||T;for(var X=this.gl,y=C.model||u,z=C.view||u,I=C.projection||u,B=this.bounds,F=C._ortho||!1,O=l(y,z,I,B,F),N=O.cubeEdges,_=O.axis,U=z[12],Y=z[13],K=z[14],re=z[15],ae=F?2:1,fe=ae*this.pixelRatio*(I[3]*U+I[7]*Y+I[11]*K+I[15]*re)/X.drawingBufferHeight,Q=0;Q<3;++Q)this.lastCubeProps.cubeEdges[Q]=N[Q],this.lastCubeProps.axis[Q]=_[Q];for(var j=o,Q=0;Q<3;++Q)d(o[Q],Q,this.bounds,N,_);for(var X=this.gl,J=M,Q=0;Q<3;++Q)this.backgroundEnable[Q]?J[Q]=_[Q]:J[Q]=0;this._background.draw(y,z,I,B,J,this.backgroundColor),this._lines.bind(y,z,I,this);for(var Q=0;Q<3;++Q){var ee=[0,0,0];_[Q]>0?ee[Q]=B[1][Q]:ee[Q]=B[0][Q];for(var se=0;se<2;++se){var q=(Q+1+se)%3,$=(Q+1+(se^1))%3;this.gridEnable[q]&&this._lines.drawGrid(q,$,this.bounds,ee,this.gridColor[q],this.gridWidth[q]*this.pixelRatio)}for(var se=0;se<2;++se){var q=(Q+1+se)%3,$=(Q+1+(se^1))%3;this.zeroEnable[$]&&Math.min(B[0][$],B[1][$])<=0&&Math.max(B[0][$],B[1][$])>=0&&this._lines.drawZero(q,$,this.bounds,ee,this.zeroLineColor[$],this.zeroLineWidth[$]*this.pixelRatio)}}for(var Q=0;Q<3;++Q){this.lineEnable[Q]&&this._lines.drawAxisLine(Q,this.bounds,j[Q].primalOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio),this.lineMirror[Q]&&this._lines.drawAxisLine(Q,this.bounds,j[Q].mirrorOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio);for(var le=m(x,j[Q].primalMinor),ie=m(S,j[Q].mirrorMinor),ce=this.lineTickLength,se=0;se<3;++se){var me=fe/y[5*se];le[se]*=ce[se]*me,ie[se]*=ce[se]*me}this.lineTickEnable[Q]&&this._lines.drawAxisTicks(Q,j[Q].primalOffset,le,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio),this.lineTickMirror[Q]&&this._lines.drawAxisTicks(Q,j[Q].mirrorOffset,ie,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio)}this._lines.unbind(),this._text.bind(y,z,I,this.pixelRatio);var Me,we=.5,Oe,Be;function Ce(We){Be=[0,0,0],Be[We]=1}function xe(We,it,et){var tt=(We+1)%3,at=(We+2)%3,ht=it[tt],yt=it[at],gt=et[tt],Et=et[at];if(ht>0&&Et>0){Ce(tt);return}else if(ht>0&&Et<0){Ce(tt);return}else if(ht<0&&Et>0){Ce(tt);return}else if(ht<0&&Et<0){Ce(tt);return}else if(yt>0&&gt>0){Ce(at);return}else if(yt>0&&gt<0){Ce(at);return}else if(yt<0&&gt>0){Ce(at);return}else if(yt<0&&gt<0){Ce(at);return}}for(var Q=0;Q<3;++Q){for(var Se=j[Q].primalMinor,He=j[Q].mirrorMinor,Ge=m(b,j[Q].primalOffset),se=0;se<3;++se)this.lineTickEnable[Q]&&(Ge[se]+=fe*Se[se]*Math.max(this.lineTickLength[se],0)/y[5*se]);var ke=[0,0,0];if(ke[Q]=1,this.tickEnable[Q]){this.tickAngle[Q]===-3600?(this.tickAngle[Q]=0,this.tickAlign[Q]="auto"):this.tickAlign[Q]=-1,Oe=1,Me=[this.tickAlign[Q],we,Oe],Me[0]==="auto"?Me[0]=E:Me[0]=parseInt(""+Me[0]),Be=[0,0,0],xe(Q,Se,He);for(var se=0;se<3;++se)Ge[se]+=fe*Se[se]*this.tickPad[se]/y[5*se];this._text.drawTicks(Q,this.tickSize[Q],this.tickAngle[Q],Ge,this.tickColor[Q],ke,Be,Me)}if(this.labelEnable[Q]){Oe=0,Be=[0,0,0],this.labels[Q].length>4&&(Ce(Q),Oe=1),Me=[this.labelAlign[Q],we,Oe],Me[0]==="auto"?Me[0]=E:Me[0]=parseInt(""+Me[0]);for(var se=0;se<3;++se)Ge[se]+=fe*Se[se]*this.labelPad[se]/y[5*se];Ge[Q]+=.5*(B[0][Q]+B[1][Q]),this._text.drawLabel(Q,this.labelSize[Q],this.labelAngle[Q],Ge,this.labelColor[Q],[0,0,0],Be,Me)}}this._text.unbind()},w.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function a(C,y){var z=new c(C);return z.update(y),z}},1011:function(v,p,t){v.exports=u;var r=t(5827),s=t(2944),n=t(1943).bg;function l(m,c,w,h){this.gl=m,this.buffer=c,this.vao=w,this.shader=h}var f=l.prototype;f.draw=function(m,c,w,h,o,d){for(var M=!1,T=0;T<3;++T)M=M||o[T];if(M){var E=this.gl;E.enable(E.POLYGON_OFFSET_FILL),E.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:m,view:c,projection:w,bounds:h,enable:o,colors:d},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),E.disable(E.POLYGON_OFFSET_FILL)}},f.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function u(m){for(var c=[],w=[],h=0,o=0;o<3;++o)for(var d=(o+1)%3,M=(o+2)%3,T=[0,0,0],E=[0,0,0],x=-1;x<=1;x+=2){w.push(h,h+2,h+1,h+1,h+2,h+3),T[o]=x,E[o]=x;for(var S=-1;S<=1;S+=2){T[d]=S;for(var b=-1;b<=1;b+=2)T[M]=b,c.push(T[0],T[1],T[2],E[0],E[1],E[2]),h+=1}var a=d;d=M,M=a}var C=r(m,new Float32Array(c)),y=r(m,new Uint16Array(w),m.ELEMENT_ARRAY_BUFFER),z=s(m,[{buffer:C,type:m.FLOAT,size:3,offset:0,stride:24},{buffer:C,type:m.FLOAT,size:3,offset:12,stride:24}],y),I=n(m);return I.attributes.position.location=0,I.attributes.normal.location=1,new l(m,C,z,I)}},2864:function(v,p,t){v.exports=x;var r=t(2288),s=t(104),n=t(4670),l=t(417),f=new Array(16),u=new Array(8),m=new Array(8),c=new Array(3),w=[0,0,0];(function(){for(var S=0;S<8;++S)u[S]=[1,1,1,1],m[S]=[1,1,1]})();function h(S,b,a){for(var C=0;C<4;++C){S[C]=a[12+C];for(var y=0;y<3;++y)S[C]+=b[y]*a[4*y+C]}}var o=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function d(S){for(var b=0;b<o.length;++b)if(S=n.positive(S,o[b]),S.length<3)return 0;for(var a=S[0],C=a[0]/a[3],y=a[1]/a[3],z=0,b=1;b+1<S.length;++b){var I=S[b],B=S[b+1],F=I[0]/I[3],O=I[1]/I[3],N=B[0]/B[3],_=B[1]/B[3],U=F-C,Y=O-y,K=N-C,re=_-y;z+=Math.abs(U*re-Y*K)}return z}var M=[1,1,1],T=[0,0,0],E={cubeEdges:M,axis:T};function x(S,b,a,C,y){s(f,b,S),s(f,a,f);for(var z=0,I=0;I<2;++I){c[2]=C[I][2];for(var B=0;B<2;++B){c[1]=C[B][1];for(var F=0;F<2;++F)c[0]=C[F][0],h(u[z],c,f),z+=1}}for(var O=-1,I=0;I<8;++I){for(var N=u[I][3],_=0;_<3;++_)m[I][_]=u[I][_]/N;y&&(m[I][2]*=-1),N<0&&(O<0||m[I][2]<m[O][2])&&(O=I)}if(O<0){O=0;for(var U=0;U<3;++U){for(var Y=(U+2)%3,K=(U+1)%3,re=-1,ae=-1,fe=0;fe<2;++fe){var Q=fe<<U,j=Q+(fe<<Y)+(1-fe<<K),X=Q+(1-fe<<Y)+(fe<<K);l(m[Q],m[j],m[X],w)<0||(fe?re=1:ae=1)}if(re<0||ae<0){ae>re&&(O|=1<<U);continue}for(var fe=0;fe<2;++fe){var Q=fe<<U,j=Q+(fe<<Y)+(1-fe<<K),X=Q+(1-fe<<Y)+(fe<<K),J=d([u[Q],u[j],u[X],u[Q+(1<<Y)+(1<<K)]]);fe?re=J:ae=J}if(ae>re){O|=1<<U;continue}}}for(var ee=7^O,se=-1,I=0;I<8;++I)I===O||I===ee||(se<0||m[se][1]>m[I][1])&&(se=I);for(var q=-1,I=0;I<3;++I){var $=se^1<<I;if(!($===O||$===ee)){q<0&&(q=$);var K=m[$];K[0]<m[q][0]&&(q=$)}}for(var le=-1,I=0;I<3;++I){var $=se^1<<I;if(!($===O||$===ee||$===q)){le<0&&(le=$);var K=m[$];K[0]>m[le][0]&&(le=$)}}var ie=M;ie[0]=ie[1]=ie[2]=0,ie[r.log2(q^se)]=se&q,ie[r.log2(se^le)]=se&le;var ce=le^7;ce===O||ce===ee?(ce=q^7,ie[r.log2(le^ce)]=ce&le):ie[r.log2(q^ce)]=ce&q;for(var me=T,Me=O,U=0;U<3;++U)Me&1<<U?me[U]=-1:me[U]=1;return E}},1681:function(v,p,t){v.exports=M;var r=t(5827),s=t(2944),n=t(1943).j,l=[0,0,0],f=[0,0,0],u=[0,0,0],m=[0,0,0],c=[1,1];function w(T){return T[0]=T[1]=T[2]=0,T}function h(T,E){return T[0]=E[0],T[1]=E[1],T[2]=E[2],T}function o(T,E,x,S,b,a,C,y){this.gl=T,this.vertBuffer=E,this.vao=x,this.shader=S,this.tickCount=b,this.tickOffset=a,this.gridCount=C,this.gridOffset=y}var d=o.prototype;d.bind=function(T,E,x){this.shader.bind(),this.shader.uniforms.model=T,this.shader.uniforms.view=E,this.shader.uniforms.projection=x,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=c,this.vao.bind()},d.unbind=function(){this.vao.unbind()},d.drawAxisLine=function(T,E,x,S,b){var a=w(f);this.shader.uniforms.majorAxis=f,a[T]=E[1][T]-E[0][T],this.shader.uniforms.minorAxis=a;var C=h(m,x);C[T]+=E[0][T],this.shader.uniforms.offset=C,this.shader.uniforms.lineWidth=b,this.shader.uniforms.color=S;var y=w(u);y[(T+2)%3]=1,this.shader.uniforms.screenAxis=y,this.vao.draw(this.gl.TRIANGLES,6);var y=w(u);y[(T+1)%3]=1,this.shader.uniforms.screenAxis=y,this.vao.draw(this.gl.TRIANGLES,6)},d.drawAxisTicks=function(T,E,x,S,b){if(this.tickCount[T]){var a=w(l);a[T]=1,this.shader.uniforms.majorAxis=a,this.shader.uniforms.offset=E,this.shader.uniforms.minorAxis=x,this.shader.uniforms.color=S,this.shader.uniforms.lineWidth=b;var C=w(u);C[T]=1,this.shader.uniforms.screenAxis=C,this.vao.draw(this.gl.TRIANGLES,this.tickCount[T],this.tickOffset[T])}},d.drawGrid=function(T,E,x,S,b,a){if(this.gridCount[T]){var C=w(f);C[E]=x[1][E]-x[0][E],this.shader.uniforms.minorAxis=C;var y=h(m,S);y[E]+=x[0][E],this.shader.uniforms.offset=y;var z=w(l);z[T]=1,this.shader.uniforms.majorAxis=z;var I=w(u);I[T]=1,this.shader.uniforms.screenAxis=I,this.shader.uniforms.lineWidth=a,this.shader.uniforms.color=b,this.vao.draw(this.gl.TRIANGLES,this.gridCount[T],this.gridOffset[T])}},d.drawZero=function(T,E,x,S,b,a){var C=w(f);this.shader.uniforms.majorAxis=C,C[T]=x[1][T]-x[0][T],this.shader.uniforms.minorAxis=C;var y=h(m,S);y[T]+=x[0][T],this.shader.uniforms.offset=y;var z=w(u);z[E]=1,this.shader.uniforms.screenAxis=z,this.shader.uniforms.lineWidth=a,this.shader.uniforms.color=b,this.vao.draw(this.gl.TRIANGLES,6)},d.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function M(T,E,x){var S=[],b=[0,0,0],a=[0,0,0],C=[0,0,0],y=[0,0,0];S.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var z=0;z<3;++z){for(var F=S.length/3|0,I=0;I<x[z].length;++I){var B=+x[z][I].x;S.push(B,0,1,B,1,1,B,0,-1,B,0,-1,B,1,1,B,1,-1)}var N=S.length/3|0;b[z]=F,a[z]=N-F;for(var F=S.length/3|0,O=0;O<x[z].length;++O){var B=+x[z][O].x;S.push(B,0,1,B,1,1,B,0,-1,B,0,-1,B,1,1,B,1,-1)}var N=S.length/3|0;C[z]=F,y[z]=N-F}var _=r(T,new Float32Array(S)),U=s(T,[{buffer:_,type:T.FLOAT,size:3,stride:0,offset:0}]),Y=n(T);return Y.attributes.position.location=0,new o(T,_,U,Y,a,b,y,C)}},1943:function(v,p,t){var r=t(6832),s=t(5158),n=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),l=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.j=function(w){return s(w,n,l,null,[{name:"position",type:"vec3"}])};var f=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),u=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.f=function(w){return s(w,f,u,null,[{name:"position",type:"vec3"}])};var m=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),c=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);p.bg=function(w){return s(w,m,c,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(v,p,t){v.exports=d;var r=t(5827),s=t(2944),n=t(875),l=t(1943).f,f=window||g.global||{},u=f.__TEXT_CACHE||{};f.__TEXT_CACHE={};var m=3;function c(M,T,E,x){this.gl=M,this.shader=T,this.buffer=E,this.vao=x,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var w=c.prototype,h=[0,0];w.bind=function(M,T,E,x){this.vao.bind(),this.shader.bind();var S=this.shader.uniforms;S.model=M,S.view=T,S.projection=E,S.pixelScale=x,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=h},w.unbind=function(){this.vao.unbind()},w.update=function(M,T,E,x,S){var b=[];function a(_,U,Y,K,re,ae){var fe=u[Y];fe||(fe=u[Y]={});var Q=fe[U];Q||(Q=fe[U]=o(U,{triangles:!0,font:Y,textAlign:"center",textBaseline:"middle",lineSpacing:re,styletags:ae}));for(var j=(K||12)/12,X=Q.positions,J=Q.cells,ee=0,se=J.length;ee<se;++ee)for(var q=J[ee],$=2;$>=0;--$){var le=X[q[$]];b.push(j*le[0],-j*le[1],_)}}for(var C=[0,0,0],y=[0,0,0],z=[0,0,0],I=[0,0,0],B=1.25,F={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},O=0;O<3;++O){z[O]=b.length/m|0,a(.5*(M[0][O]+M[1][O]),T[O],E[O],12,B,F),I[O]=(b.length/m|0)-z[O],C[O]=b.length/m|0;for(var N=0;N<x[O].length;++N)x[O][N].text&&a(x[O][N].x,x[O][N].text,x[O][N].font||S,x[O][N].fontSize||12,B,F);y[O]=(b.length/m|0)-C[O]}this.buffer.update(b),this.tickOffset=C,this.tickCount=y,this.labelOffset=z,this.labelCount=I},w.drawTicks=function(M,T,E,x,S,b,a,C){this.tickCount[M]&&(this.shader.uniforms.axis=b,this.shader.uniforms.color=S,this.shader.uniforms.angle=E,this.shader.uniforms.scale=T,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=a,this.shader.uniforms.alignOpt=C,this.vao.draw(this.gl.TRIANGLES,this.tickCount[M],this.tickOffset[M]))},w.drawLabel=function(M,T,E,x,S,b,a,C){this.labelCount[M]&&(this.shader.uniforms.axis=b,this.shader.uniforms.color=S,this.shader.uniforms.angle=E,this.shader.uniforms.scale=T,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=a,this.shader.uniforms.alignOpt=C,this.vao.draw(this.gl.TRIANGLES,this.labelCount[M],this.labelOffset[M]))},w.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function o(M,T){try{return n(M,T)}catch(E){return console.warn('error vectorizing text:"'+M+'" error:',E),{cells:[],positions:[]}}}function d(M,T,E,x,S,b){var a=r(M),C=s(M,[{buffer:a,size:3}]),y=l(M);y.attributes.position.location=0;var z=new c(M,y,a,C);return z.update(T,E,x,S,b),z}},8468:function(v,p){p.create=r,p.equal=s;function t(n,l){var f=n+"",u=f.indexOf("."),m=0;u>=0&&(m=f.length-u-1);var c=Math.pow(10,m),w=Math.round(n*l*c),h=w+"";if(h.indexOf("e")>=0)return h;var o=w/c,d=w%c;w<0?(o=-Math.ceil(o)|0,d=-d|0):(o=Math.floor(o)|0,d=d|0);var M=""+o;if(w<0&&(M="-"+M),m){for(var T=""+d;T.length<m;)T="0"+T;return M+"."+T}else return M}function r(n,l){for(var f=[],u=0;u<3;++u){var m=[];.5*(n[0][u]+n[1][u]);for(var c=0;c*l[u]<=n[1][u];++c)m.push({x:c*l[u],text:t(l[u],c)});for(var c=-1;c*l[u]>=n[0][u];--c)m.push({x:c*l[u],text:t(l[u],c)});f.push(m)}return f}function s(n,l){for(var f=0;f<3;++f){if(n[f].length!==l[f].length)return!1;for(var u=0;u<n[f].length;++u){var m=n[f][u],c=l[f][u];if(m.x!==c.x||m.text!==c.text||m.font!==c.font||m.fontColor!==c.fontColor||m.fontSize!==c.fontSize||m.dx!==c.dx||m.dy!==c.dy)return!1}}return!0}},2771:function(v,p,t){v.exports=E;var r=t(5795),s=t(4670),n=t(2864),l=t(104),f=t(2142),u=t(6342),m=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c=new Float32Array(16);function w(x,S,b){this.lo=x,this.hi=S,this.pixelsPerDataUnit=b}var h=[0,0,0,1],o=[0,0,0,1];function d(x,S,b,a,C){for(var y=0;y<3;++y){for(var z=h,I=o,B=0;B<3;++B)I[B]=z[B]=b[B];I[3]=z[3]=1,I[y]+=1,u(I,I,S),I[3]<0&&(x[y]=1/0),z[y]-=1,u(z,z,S),z[3]<0&&(x[y]=1/0);var F=(z[0]/z[3]-I[0]/I[3])*a,O=(z[1]/z[3]-I[1]/I[3])*C;x[y]=.25*Math.sqrt(F*F+O*O)}return x}var M=[new w(1/0,-1/0,1/0),new w(1/0,-1/0,1/0),new w(1/0,-1/0,1/0)],T=[0,0,0];function E(x,S,b,a,O){var y=S.model||m,z=S.view||m,I=S.projection||m,B=S._ortho||!1,F=x.bounds,O=O||n(y,z,I,F,B),N=O.axis;l(c,z,y),l(c,I,c);for(var _=M,U=0;U<3;++U)_[U].lo=1/0,_[U].hi=-1/0,_[U].pixelsPerDataUnit=1/0;var Y=r(f(c,c));f(c,c);for(var K=0;K<3;++K){var re=(K+1)%3,ae=(K+2)%3,fe=T;e:for(var U=0;U<2;++U){var Q=[];if(N[K]<0!=!!U){fe[K]=F[U][K];for(var j=0;j<2;++j){fe[re]=F[j^U][re];for(var X=0;X<2;++X)fe[ae]=F[X^j^U][ae],Q.push(fe.slice())}for(var J=B?5:4,j=J;j===J;++j){if(Q.length===0)continue e;Q=s.positive(Q,Y[j])}for(var j=0;j<Q.length;++j)for(var ae=Q[j],ee=d(T,c,ae,b,a),X=0;X<3;++X)_[X].lo=Math.min(_[X].lo,ae[X]),_[X].hi=Math.max(_[X].hi,ae[X]),X!==K&&(_[X].pixelsPerDataUnit=Math.min(_[X].pixelsPerDataUnit,Math.abs(ee[X])))}}}return _}},5827:function(v,p,t){var r=t(5306),s=t(7498),n=t(5050),l=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function f(o,d,M,T,E){this.gl=o,this.type=d,this.handle=M,this.length=T,this.usage=E}var u=f.prototype;u.bind=function(){this.gl.bindBuffer(this.type,this.handle)},u.unbind=function(){this.gl.bindBuffer(this.type,null)},u.dispose=function(){this.gl.deleteBuffer(this.handle)};function m(o,d,M,T,E,x){var S=E.length*E.BYTES_PER_ELEMENT;if(x<0)return o.bufferData(d,E,T),S;if(S+x>M)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return o.bufferSubData(d,x,E),M}function c(o,d){for(var M=r.malloc(o.length,d),T=o.length,E=0;E<T;++E)M[E]=o[E];return M}function w(o,d){for(var M=1,T=d.length-1;T>=0;--T){if(d[T]!==M)return!1;M*=o[T]}return!0}u.update=function(o,d){if(typeof d!="number"&&(d=-1),this.bind(),typeof o=="object"&&typeof o.shape<"u"){var M=o.dtype;if(l.indexOf(M)<0&&(M="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var T=gl.getExtension("OES_element_index_uint");T&&M!=="uint16"?M="uint32":M="uint16"}if(M===o.dtype&&w(o.shape,o.stride))o.offset===0&&o.data.length===o.shape[0]?this.length=m(this.gl,this.type,this.length,this.usage,o.data,d):this.length=m(this.gl,this.type,this.length,this.usage,o.data.subarray(o.offset,o.shape[0]),d);else{var E=r.malloc(o.size,M),x=n(E,o.shape);s.assign(x,o),d<0?this.length=m(this.gl,this.type,this.length,this.usage,E,d):this.length=m(this.gl,this.type,this.length,this.usage,E.subarray(0,o.size),d),r.free(E)}}else if(Array.isArray(o)){var S;this.type===this.gl.ELEMENT_ARRAY_BUFFER?S=c(o,"uint16"):S=c(o,"float32"),d<0?this.length=m(this.gl,this.type,this.length,this.usage,S,d):this.length=m(this.gl,this.type,this.length,this.usage,S.subarray(0,o.length),d),r.free(S)}else if(typeof o=="object"&&typeof o.length=="number")this.length=m(this.gl,this.type,this.length,this.usage,o,d);else if(typeof o=="number"||o===void 0){if(d>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");o=o|0,o<=0&&(o=1),this.gl.bufferData(this.type,o|0,this.usage),this.length=o}else throw new Error("gl-buffer: Invalid data type")};function h(o,d,M,T){if(M=M||o.ARRAY_BUFFER,T=T||o.DYNAMIC_DRAW,M!==o.ARRAY_BUFFER&&M!==o.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(T!==o.DYNAMIC_DRAW&&T!==o.STATIC_DRAW&&T!==o.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var E=o.createBuffer(),x=new f(o,M,E,0,T);return x.update(d),x}v.exports=h},1140:function(v,p,t){var r=t(2858);v.exports=function(n,l){var f=n.positions,u=n.vectors,m={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return l&&(l[0]=[0,0,0],l[1]=[0,0,0]),m;for(var c=0,w=1/0,h=-1/0,o=1/0,d=-1/0,M=1/0,T=-1/0,E=null,x=null,S=[],b=1/0,a=!1,C=0;C<f.length;C++){var y=f[C];w=Math.min(y[0],w),h=Math.max(y[0],h),o=Math.min(y[1],o),d=Math.max(y[1],d),M=Math.min(y[2],M),T=Math.max(y[2],T);var z=u[C];if(r.length(z)>c&&(c=r.length(z)),C){var I=2*r.distance(E,y)/(r.length(x)+r.length(z));I?(b=Math.min(b,I),a=!1):a=!0}a||(E=y,x=z),S.push(z)}var B=[w,o,M],F=[h,d,T];l&&(l[0]=B,l[1]=F),c===0&&(c=1);var O=1/c;isFinite(b)||(b=1),m.vectorScale=b;var N=n.coneSize||.5;n.absoluteConeSize&&(N=n.absoluteConeSize*O),m.coneScale=N;for(var C=0,_=0;C<f.length;C++)for(var y=f[C],U=y[0],Y=y[1],K=y[2],re=S[C],ae=r.length(re)*O,fe=0,Q=8;fe<Q;fe++){m.positions.push([U,Y,K,_++]),m.positions.push([U,Y,K,_++]),m.positions.push([U,Y,K,_++]),m.positions.push([U,Y,K,_++]),m.positions.push([U,Y,K,_++]),m.positions.push([U,Y,K,_++]),m.vectors.push(re),m.vectors.push(re),m.vectors.push(re),m.vectors.push(re),m.vectors.push(re),m.vectors.push(re),m.vertexIntensity.push(ae,ae,ae),m.vertexIntensity.push(ae,ae,ae);var j=m.positions.length;m.cells.push([j-6,j-5,j-4],[j-3,j-2,j-1])}return m};var s=t(7234);v.exports.createMesh=t(5028),v.exports.createConeMesh=function(n,l){return v.exports.createMesh(n,l,{shaders:s,traceType:"cone"})}},5028:function(v,p,t){var r=t(5158),s=t(5827),n=t(2944),l=t(8931),f=t(104),u=t(7437),m=t(5050),c=t(9156),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function h(S,b,a,C,y,z,I,B,F,O,N){this.gl=S,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=b,this.dirty=!0,this.triShader=a,this.pickShader=C,this.trianglePositions=y,this.triangleVectors=z,this.triangleColors=B,this.triangleUVs=F,this.triangleIds=I,this.triangleVAO=O,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=N,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=w,this._view=w,this._projection=w,this._resolution=[1,1]}var o=h.prototype;o.isOpaque=function(){return this.opacity>=1},o.isTransparent=function(){return this.opacity<1},o.pickSlots=1,o.setPickBase=function(S){this.pickId=S};function d(S){for(var b=c({colormap:S,nshades:256,format:"rgba"}),a=new Uint8Array(256*4),C=0;C<256;++C){for(var y=b[C],z=0;z<3;++z)a[4*C+z]=y[z];a[4*C+3]=y[3]*255}return m(a,[256,256,4],[4,0,1])}function M(S){for(var b=S.length,a=new Array(b),C=0;C<b;++C)a[C]=S[C][2];return a}o.update=function(S){S=S||{};var b=this.gl;this.dirty=!0,"lightPosition"in S&&(this.lightPosition=S.lightPosition),"opacity"in S&&(this.opacity=S.opacity),"ambient"in S&&(this.ambientLight=S.ambient),"diffuse"in S&&(this.diffuseLight=S.diffuse),"specular"in S&&(this.specularLight=S.specular),"roughness"in S&&(this.roughness=S.roughness),"fresnel"in S&&(this.fresnel=S.fresnel),S.tubeScale!==void 0&&(this.tubeScale=S.tubeScale),S.vectorScale!==void 0&&(this.vectorScale=S.vectorScale),S.coneScale!==void 0&&(this.coneScale=S.coneScale),S.coneOffset!==void 0&&(this.coneOffset=S.coneOffset),S.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=b.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=b.LINEAR,this.texture.setPixels(d(S.colormap)),this.texture.generateMipmap());var a=S.cells,C=S.positions,y=S.vectors;if(!(!C||!a||!y)){var z=[],I=[],B=[],F=[],O=[];this.cells=a,this.positions=C,this.vectors=y;var N=S.meshColor||[1,1,1,1],_=S.vertexIntensity,U=1/0,Y=-1/0;if(_)if(S.vertexIntensityBounds)U=+S.vertexIntensityBounds[0],Y=+S.vertexIntensityBounds[1];else for(var K=0;K<_.length;++K){var re=_[K];U=Math.min(U,re),Y=Math.max(Y,re)}else for(var K=0;K<C.length;++K){var re=C[K][2];U=Math.min(U,re),Y=Math.max(Y,re)}_?this.intensity=_:this.intensity=M(C),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var K=0;K<C.length;++K)for(var ae=C[K],fe=0;fe<3;++fe)isNaN(ae[fe])||!isFinite(ae[fe])||(this.bounds[0][fe]=Math.min(this.bounds[0][fe],ae[fe]),this.bounds[1][fe]=Math.max(this.bounds[1][fe],ae[fe]));var Q=0;e:for(var K=0;K<a.length;++K){var j=a[K];switch(j.length){case 3:for(var fe=0;fe<3;++fe)for(var X=j[fe],ae=C[X],J=0;J<3;++J)if(isNaN(ae[J])||!isFinite(ae[J]))continue e;for(var fe=0;fe<3;++fe){var X=j[2-fe],ae=C[X];z.push(ae[0],ae[1],ae[2],ae[3]);var ee=y[X];I.push(ee[0],ee[1],ee[2],ee[3]||0);var se=N;se.length===3?B.push(se[0],se[1],se[2],1):B.push(se[0],se[1],se[2],se[3]);var q;_?q=[(_[X]-U)/(Y-U),0]:q=[(ae[2]-U)/(Y-U),0],F.push(q[0],q[1]),O.push(K)}Q+=1;break}}this.triangleCount=Q,this.trianglePositions.update(z),this.triangleVectors.update(I),this.triangleColors.update(B),this.triangleUVs.update(F),this.triangleIds.update(new Uint32Array(O))}},o.drawTransparent=o.draw=function(S){S=S||{};for(var b=this.gl,a=S.model||w,C=S.view||w,y=S.projection||w,z=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],I=0;I<3;++I)z[0][I]=Math.max(z[0][I],this.clipBounds[0][I]),z[1][I]=Math.min(z[1][I],this.clipBounds[1][I]);var B={model:a,view:C,projection:y,inverseModel:w.slice(),clipBounds:z,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};B.inverseModel=u(B.inverseModel,B.model),b.disable(b.CULL_FACE),this.texture.bind(0);var F=new Array(16);f(F,B.view,B.model),f(F,B.projection,F),u(F,F);for(var I=0;I<3;++I)B.eyePosition[I]=F[12+I]/F[15];for(var O=F[15],I=0;I<3;++I)O+=this.lightPosition[I]*F[4*I+3];for(var I=0;I<3;++I){for(var N=F[12+I],_=0;_<3;++_)N+=F[4*_+I]*this.lightPosition[_];B.lightPosition[I]=N/O}if(this.triangleCount>0){var U=this.triShader;U.bind(),U.uniforms=B,this.triangleVAO.bind(),b.drawArrays(b.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},o.drawPick=function(S){S=S||{};for(var b=this.gl,a=S.model||w,C=S.view||w,y=S.projection||w,z=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],I=0;I<3;++I)z[0][I]=Math.max(z[0][I],this.clipBounds[0][I]),z[1][I]=Math.min(z[1][I],this.clipBounds[1][I]);this._model=[].slice.call(a),this._view=[].slice.call(C),this._projection=[].slice.call(y),this._resolution=[b.drawingBufferWidth,b.drawingBufferHeight];var B={model:a,view:C,projection:y,clipBounds:z,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},F=this.pickShader;F.bind(),F.uniforms=B,this.triangleCount>0&&(this.triangleVAO.bind(),b.drawArrays(b.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},o.pick=function(S){if(!S||S.id!==this.pickId)return null;var b=S.value[0]+256*S.value[1]+65536*S.value[2],a=this.cells[b],C=this.positions[a[1]].slice(0,3),y={position:C,dataCoordinate:C,index:Math.floor(a[1]/48)};return this.traceType==="cone"?y.index=Math.floor(a[1]/48):this.traceType==="streamtube"&&(y.intensity=this.intensity[a[1]],y.velocity=this.vectors[a[1]].slice(0,3),y.divergence=this.vectors[a[1]][3],y.index=b),y},o.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function T(S,b){var a=r(S,b.meshShader.vertex,b.meshShader.fragment,null,b.meshShader.attributes);return a.attributes.position.location=0,a.attributes.color.location=2,a.attributes.uv.location=3,a.attributes.vector.location=4,a}function E(S,b){var a=r(S,b.pickShader.vertex,b.pickShader.fragment,null,b.pickShader.attributes);return a.attributes.position.location=0,a.attributes.id.location=1,a.attributes.vector.location=4,a}function x(S,b,a){var C=a.shaders;arguments.length===1&&(b=S,S=b.gl);var y=T(S,C),z=E(S,C),I=l(S,m(new Uint8Array([255,255,255,255]),[1,1,4]));I.generateMipmap(),I.minFilter=S.LINEAR_MIPMAP_LINEAR,I.magFilter=S.LINEAR;var B=s(S),F=s(S),O=s(S),N=s(S),_=s(S),U=n(S,[{buffer:B,type:S.FLOAT,size:4},{buffer:_,type:S.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:O,type:S.FLOAT,size:4},{buffer:N,type:S.FLOAT,size:2},{buffer:F,type:S.FLOAT,size:4}]),Y=new h(S,I,y,z,B,F,_,O,N,U,a.traceType||"cone");return Y.update(b),Y}v.exports=x},7234:function(v,p,t){var r=t(6832),s=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),l=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),f=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:s,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},p.pickShader={vertex:l,fragment:f,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(v,p,t){var r=t(1950);v.exports=function(n){return r[n]}},3110:function(v,p,t){v.exports=h;var r=t(5827),s=t(2944),n=t(7667),l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(o,d,M,T){this.gl=o,this.shader=T,this.buffer=d,this.vao=M,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var u=f.prototype;u.isOpaque=function(){return!this.hasAlpha},u.isTransparent=function(){return this.hasAlpha},u.drawTransparent=u.draw=function(o){var d=this.gl,M=this.shader.uniforms;this.shader.bind();var T=M.view=o.view||l,E=M.projection=o.projection||l;M.model=o.model||l,M.clipBounds=this.clipBounds,M.opacity=this.opacity;var x=T[12],S=T[13],b=T[14],a=T[15],C=o._ortho||!1,y=C?2:1,z=y*this.pixelRatio*(E[3]*x+E[7]*S+E[11]*b+E[15]*a)/d.drawingBufferHeight;this.vao.bind();for(var I=0;I<3;++I)d.lineWidth(this.lineWidth[I]*this.pixelRatio),M.capSize=this.capSize[I]*z,this.lineCount[I]&&d.drawArrays(d.LINES,this.lineOffset[I],this.lineCount[I]);this.vao.unbind()};function m(o,d){for(var M=0;M<3;++M)o[0][M]=Math.min(o[0][M],d[M]),o[1][M]=Math.max(o[1][M],d[M])}var c=function(){for(var o=new Array(3),d=0;d<3;++d){for(var M=[],T=1;T<=2;++T)for(var E=-1;E<=1;E+=2){var x=(T+d)%3,S=[0,0,0];S[x]=E,M.push(S)}o[d]=M}return o}();function w(o,d,M,T){for(var E=c[T],x=0;x<E.length;++x){var S=E[x];o.push(d[0],d[1],d[2],M[0],M[1],M[2],M[3],S[0],S[1],S[2])}return E.length}u.update=function(o){o=o||{},"lineWidth"in o&&(this.lineWidth=o.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in o&&(this.capSize=o.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in o&&(this.opacity=+o.opacity,this.opacity<1&&(this.hasAlpha=!0));var d=o.color||[[0,0,0],[0,0,0],[0,0,0]],M=o.position,T=o.error;if(Array.isArray(d[0])||(d=[d,d,d]),M&&T){var E=[],x=M.length,S=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var b=0;b<3;++b){this.lineOffset[b]=S;e:for(var a=0;a<x;++a){for(var C=M[a],y=0;y<3;++y)if(isNaN(C[y])||!isFinite(C[y]))continue e;var z=T[a],I=d[b];if(Array.isArray(I[0])&&(I=d[a]),I.length===3?I=[I[0],I[1],I[2],1]:I.length===4&&(I=[I[0],I[1],I[2],I[3]],!this.hasAlpha&&I[3]<1&&(this.hasAlpha=!0)),!(isNaN(z[0][b])||isNaN(z[1][b]))){if(z[0][b]<0){var B=C.slice();B[b]+=z[0][b],E.push(C[0],C[1],C[2],I[0],I[1],I[2],I[3],0,0,0,B[0],B[1],B[2],I[0],I[1],I[2],I[3],0,0,0),m(this.bounds,B),S+=2+w(E,B,I,b)}if(z[1][b]>0){var B=C.slice();B[b]+=z[1][b],E.push(C[0],C[1],C[2],I[0],I[1],I[2],I[3],0,0,0,B[0],B[1],B[2],I[0],I[1],I[2],I[3],0,0,0),m(this.bounds,B),S+=2+w(E,B,I,b)}}}this.lineCount[b]=S-this.lineOffset[b]}this.buffer.update(E)}},u.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function h(o){var d=o.gl,M=r(d),T=s(d,[{buffer:M,type:d.FLOAT,size:3,offset:0,stride:40},{buffer:M,type:d.FLOAT,size:4,offset:12,stride:40},{buffer:M,type:d.FLOAT,size:3,offset:28,stride:40}]),E=n(d);E.attributes.position.location=0,E.attributes.color.location=1,E.attributes.offset.location=2;var x=new f(d,M,T,E);return x.update(o),x}},7667:function(v,p,t){var r=t(6832),s=t(5158),n=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),l=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);v.exports=function(f){return s(f,n,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(v,p,t){var r=t(8931);v.exports=S;var s=null,n,l,f,u;function m(b){var a=b.getParameter(b.FRAMEBUFFER_BINDING),C=b.getParameter(b.RENDERBUFFER_BINDING),y=b.getParameter(b.TEXTURE_BINDING_2D);return[a,C,y]}function c(b,a){b.bindFramebuffer(b.FRAMEBUFFER,a[0]),b.bindRenderbuffer(b.RENDERBUFFER,a[1]),b.bindTexture(b.TEXTURE_2D,a[2])}function w(b,a){var C=b.getParameter(a.MAX_COLOR_ATTACHMENTS_WEBGL);s=new Array(C+1);for(var y=0;y<=C;++y){for(var z=new Array(C),I=0;I<y;++I)z[I]=b.COLOR_ATTACHMENT0+I;for(var I=y;I<C;++I)z[I]=b.NONE;s[y]=z}}function h(b){switch(b){case n:throw new Error("gl-fbo: Framebuffer unsupported");case l:throw new Error("gl-fbo: Framebuffer incomplete attachment");case f:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case u:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function o(b,a,C,y,z,I){if(!y)return null;var B=r(b,a,C,z,y);return B.magFilter=b.NEAREST,B.minFilter=b.NEAREST,B.mipSamples=1,B.bind(),b.framebufferTexture2D(b.FRAMEBUFFER,I,b.TEXTURE_2D,B.handle,0),B}function d(b,a,C,y,z){var I=b.createRenderbuffer();return b.bindRenderbuffer(b.RENDERBUFFER,I),b.renderbufferStorage(b.RENDERBUFFER,y,a,C),b.framebufferRenderbuffer(b.FRAMEBUFFER,z,b.RENDERBUFFER,I),I}function M(b){var a=m(b.gl),C=b.gl,y=b.handle=C.createFramebuffer(),z=b._shape[0],I=b._shape[1],B=b.color.length,F=b._ext,O=b._useStencil,N=b._useDepth,_=b._colorType;C.bindFramebuffer(C.FRAMEBUFFER,y);for(var U=0;U<B;++U)b.color[U]=o(C,z,I,_,C.RGBA,C.COLOR_ATTACHMENT0+U);B===0?(b._color_rb=d(C,z,I,C.RGBA4,C.COLOR_ATTACHMENT0),F&&F.drawBuffersWEBGL(s[0])):B>1&&F.drawBuffersWEBGL(s[B]);var Y=C.getExtension("WEBGL_depth_texture");Y?O?b.depth=o(C,z,I,Y.UNSIGNED_INT_24_8_WEBGL,C.DEPTH_STENCIL,C.DEPTH_STENCIL_ATTACHMENT):N&&(b.depth=o(C,z,I,C.UNSIGNED_SHORT,C.DEPTH_COMPONENT,C.DEPTH_ATTACHMENT)):N&&O?b._depth_rb=d(C,z,I,C.DEPTH_STENCIL,C.DEPTH_STENCIL_ATTACHMENT):N?b._depth_rb=d(C,z,I,C.DEPTH_COMPONENT16,C.DEPTH_ATTACHMENT):O&&(b._depth_rb=d(C,z,I,C.STENCIL_INDEX,C.STENCIL_ATTACHMENT));var K=C.checkFramebufferStatus(C.FRAMEBUFFER);if(K!==C.FRAMEBUFFER_COMPLETE){b._destroyed=!0,C.bindFramebuffer(C.FRAMEBUFFER,null),C.deleteFramebuffer(b.handle),b.handle=null,b.depth&&(b.depth.dispose(),b.depth=null),b._depth_rb&&(C.deleteRenderbuffer(b._depth_rb),b._depth_rb=null);for(var U=0;U<b.color.length;++U)b.color[U].dispose(),b.color[U]=null;b._color_rb&&(C.deleteRenderbuffer(b._color_rb),b._color_rb=null),c(C,a),h(K)}c(C,a)}function T(b,a,C,y,z,I,B,F){this.gl=b,this._shape=[a|0,C|0],this._destroyed=!1,this._ext=F,this.color=new Array(z);for(var O=0;O<z;++O)this.color[O]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=y,this._useDepth=I,this._useStencil=B;var N=this,_=[a|0,C|0];Object.defineProperties(_,{0:{get:function(){return N._shape[0]},set:function(U){return N.width=U}},1:{get:function(){return N._shape[1]},set:function(U){return N.height=U}}}),this._shapeVector=_,M(this)}var E=T.prototype;function x(b,a,C){if(b._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(b._shape[0]===a&&b._shape[1]===C)){var y=b.gl,z=y.getParameter(y.MAX_RENDERBUFFER_SIZE);if(a<0||a>z||C<0||C>z)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");b._shape[0]=a,b._shape[1]=C;for(var I=m(y),B=0;B<b.color.length;++B)b.color[B].shape=b._shape;b._color_rb&&(y.bindRenderbuffer(y.RENDERBUFFER,b._color_rb),y.renderbufferStorage(y.RENDERBUFFER,y.RGBA4,b._shape[0],b._shape[1])),b.depth&&(b.depth.shape=b._shape),b._depth_rb&&(y.bindRenderbuffer(y.RENDERBUFFER,b._depth_rb),b._useDepth&&b._useStencil?y.renderbufferStorage(y.RENDERBUFFER,y.DEPTH_STENCIL,b._shape[0],b._shape[1]):b._useDepth?y.renderbufferStorage(y.RENDERBUFFER,y.DEPTH_COMPONENT16,b._shape[0],b._shape[1]):b._useStencil&&y.renderbufferStorage(y.RENDERBUFFER,y.STENCIL_INDEX,b._shape[0],b._shape[1])),y.bindFramebuffer(y.FRAMEBUFFER,b.handle);var F=y.checkFramebufferStatus(y.FRAMEBUFFER);F!==y.FRAMEBUFFER_COMPLETE&&(b.dispose(),c(y,I),h(F)),c(y,I)}}Object.defineProperties(E,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(b){if(Array.isArray(b)||(b=[b|0,b|0]),b.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var a=b[0]|0,C=b[1]|0;return x(this,a,C),[a,C]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(b){return b=b|0,x(this,b,this._shape[1]),b},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(b){return b=b|0,x(this,this._shape[0],b),b},enumerable:!1}}),E.bind=function(){if(!this._destroyed){var b=this.gl;b.bindFramebuffer(b.FRAMEBUFFER,this.handle),b.viewport(0,0,this._shape[0],this._shape[1])}},E.dispose=function(){if(!this._destroyed){this._destroyed=!0;var b=this.gl;b.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(b.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var a=0;a<this.color.length;++a)this.color[a].dispose(),this.color[a]=null;this._color_rb&&(b.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function S(b,a,C,y){n||(n=b.FRAMEBUFFER_UNSUPPORTED,l=b.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,f=b.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,u=b.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var z=b.getExtension("WEBGL_draw_buffers");if(!s&&z&&w(b,z),Array.isArray(a)&&(y=C,C=a[1]|0,a=a[0]|0),typeof a!="number")throw new Error("gl-fbo: Missing shape parameter");var I=b.getParameter(b.MAX_RENDERBUFFER_SIZE);if(a<0||a>I||C<0||C>I)throw new Error("gl-fbo: Parameters are too large for FBO");y=y||{};var B=1;if("color"in y){if(B=Math.max(y.color|0,0),B<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(B>1)if(z){if(B>b.getParameter(z.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+B+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var F=b.UNSIGNED_BYTE,O=b.getExtension("OES_texture_float");if(y.float&&B>0){if(!O)throw new Error("gl-fbo: Context does not support floating point textures");F=b.FLOAT}else y.preferFloat&&B>0&&O&&(F=b.FLOAT);var N=!0;"depth"in y&&(N=!!y.depth);var _=!1;return"stencil"in y&&(_=!!y.stencil),new T(b,a,C,F,B,N,_,z)}},3530:function(v,p,t){var r=t(8974).sprintf,s=t(6603),n=t(9365),l=t(8008);v.exports=f;function f(u,m,c){var w=n(m)||"of unknown name (see npm glsl-shader-name)",h="unknown type";c!==void 0&&(h=c===s.FRAGMENT_SHADER?"fragment":"vertex");for(var o=r(`Error compiling %s shader %s:
`,h,w),d=r("%s%s",o,u),M=u.split(`
`),T={},E=0;E<M.length;E++){var x=M[E];if(!(x===""||x==="\0")){var S=parseInt(x.split(":")[2]);if(isNaN(S))throw new Error(r("Could not parse error: %s",x));T[S]=x}}for(var b=l(m).split(`
`),E=0;E<b.length;E++)if(!(!T[E+3]&&!T[E+2]&&!T[E+1])){var a=b[E];if(o+=a+`
`,T[E+1]){var C=T[E+1];C=C.substr(C.split(":",3).join(":").length+1).trim(),o+=r(`^^^ %s

`,C)}}return{long:o.trim(),short:d.trim()}}},6386:function(v,p,t){v.exports=h;var r=t(5070),s=t(9560),n=t(5306),l=t(5158),f=t(5827),u=t(1292);function m(o,d,M,T,E,x,S){this.plot=o,this.shader=d,this.pickShader=M,this.positionBuffer=T,this.weightBuffer=E,this.colorBuffer=x,this.idBuffer=S,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var c=m.prototype,w=[0,0,1,0,0,1,1,0,1,1,0,1];c.draw=function(){var o=[1,0,0,0,1,0,0,0,1];return function(){var d=this.plot,M=this.shader,T=this.bounds,E=this.numVertices;if(!(E<=0)){var x=d.gl,S=d.dataBox,b=T[2]-T[0],a=T[3]-T[1],C=S[2]-S[0],y=S[3]-S[1];o[0]=2*b/C,o[4]=2*a/y,o[6]=2*(T[0]-S[0])/C-1,o[7]=2*(T[1]-S[1])/y-1,M.bind();var z=M.uniforms;z.viewTransform=o,z.shape=this.shape;var I=M.attributes;this.positionBuffer.bind(),I.position.pointer(),this.weightBuffer.bind(),I.weight.pointer(x.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),I.color.pointer(x.UNSIGNED_BYTE,!0),x.drawArrays(x.TRIANGLES,0,E)}}}(),c.drawPick=function(){var o=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0];return function(M){var T=this.plot,E=this.pickShader,x=this.bounds,S=this.numVertices;if(!(S<=0)){var b=T.gl,a=T.dataBox,C=x[2]-x[0],y=x[3]-x[1],z=a[2]-a[0],I=a[3]-a[1];o[0]=2*C/z,o[4]=2*y/I,o[6]=2*(x[0]-a[0])/z-1,o[7]=2*(x[1]-a[1])/I-1;for(var B=0;B<4;++B)d[B]=M>>B*8&255;this.pickOffset=M,E.bind();var F=E.uniforms;F.viewTransform=o,F.pickOffset=d,F.shape=this.shape;var O=E.attributes;return this.positionBuffer.bind(),O.position.pointer(),this.weightBuffer.bind(),O.weight.pointer(b.UNSIGNED_BYTE,!1),this.idBuffer.bind(),O.pickId.pointer(b.UNSIGNED_BYTE,!1),b.drawArrays(b.TRIANGLES,0,S),M+this.shape[0]*this.shape[1]}}}(),c.pick=function(o,d,M){var T=this.pickOffset,E=this.shape[0]*this.shape[1];if(M<T||M>=T+E)return null;var x=M-T,S=this.xData,b=this.yData;return{object:this,pointId:x,dataCoord:[S[x%this.shape[0]],b[x/this.shape[0]|0]]}},c.update=function(o){o=o||{};var d=o.shape||[0,0],M=o.x||s(d[0]),T=o.y||s(d[1]),E=o.z||new Float32Array(d[0]*d[1]),x=o.zsmooth!==!1;this.xData=M,this.yData=T;var S=o.colorLevels||[0],b=o.colorValues||[0,0,0,1],a=S.length,C=this.bounds,y,z,I,B;x?(y=C[0]=M[0],z=C[1]=T[0],I=C[2]=M[M.length-1],B=C[3]=T[T.length-1]):(y=C[0]=M[0]+(M[1]-M[0])/2,z=C[1]=T[0]+(T[1]-T[0])/2,I=C[2]=M[M.length-1]+(M[M.length-1]-M[M.length-2])/2,B=C[3]=T[T.length-1]+(T[T.length-1]-T[T.length-2])/2);var F=1/(I-y),O=1/(B-z),N=d[0],_=d[1];this.shape=[N,_];var U=(x?(N-1)*(_-1):N*_)*(w.length>>>1);this.numVertices=U;for(var Y=n.mallocUint8(U*4),K=n.mallocFloat32(U*2),re=n.mallocUint8(U*2),ae=n.mallocUint32(U),fe=0,Q=x?N-1:N,j=x?_-1:_,X=0;X<j;++X){var J,ee;x?(J=O*(T[X]-z),ee=O*(T[X+1]-z)):(J=X<_-1?O*(T[X]-(T[X+1]-T[X])/2-z):O*(T[X]-(T[X]-T[X-1])/2-z),ee=X<_-1?O*(T[X]+(T[X+1]-T[X])/2-z):O*(T[X]+(T[X]-T[X-1])/2-z));for(var se=0;se<Q;++se){var q,$;x?(q=F*(M[se]-y),$=F*(M[se+1]-y)):(q=se<N-1?F*(M[se]-(M[se+1]-M[se])/2-y):F*(M[se]-(M[se]-M[se-1])/2-y),$=se<N-1?F*(M[se]+(M[se+1]-M[se])/2-y):F*(M[se]+(M[se]-M[se-1])/2-y));for(var le=0;le<w.length;le+=2){var ie=w[le],ce=w[le+1],me=x?(X+ce)*N+(se+ie):X*N+se,Me=E[me],we=r.le(S,Me),Oe,Be,Ce,xe;if(we<0)Oe=b[0],Be=b[1],Ce=b[2],xe=b[3];else if(we===a-1)Oe=b[4*a-4],Be=b[4*a-3],Ce=b[4*a-2],xe=b[4*a-1];else{var Se=(Me-S[we])/(S[we+1]-S[we]),He=1-Se,Ge=4*we,ke=4*(we+1);Oe=He*b[Ge]+Se*b[ke],Be=He*b[Ge+1]+Se*b[ke+1],Ce=He*b[Ge+2]+Se*b[ke+2],xe=He*b[Ge+3]+Se*b[ke+3]}Y[4*fe]=255*Oe,Y[4*fe+1]=255*Be,Y[4*fe+2]=255*Ce,Y[4*fe+3]=255*xe,K[2*fe]=q*.5+$*.5,K[2*fe+1]=J*.5+ee*.5,re[2*fe]=ie,re[2*fe+1]=ce,ae[fe]=X*N+se,fe+=1}}}this.positionBuffer.update(K),this.weightBuffer.update(re),this.colorBuffer.update(Y),this.idBuffer.update(ae),n.free(K),n.free(Y),n.free(re),n.free(ae)},c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function h(o,d){var M=o.gl,T=l(M,u.vertex,u.fragment),E=l(M,u.pickVertex,u.pickFragment),x=f(M),S=f(M),b=f(M),a=f(M),C=new m(o,T,E,x,S,b,a);return C.update(d),o.addObject(C),C}},1292:function(v,p,t){var r=t(6832);v.exports={fragment:r([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(v,p,t){var r=t(6832),s=t(5158),n=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),l=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),f=r([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),u=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];p.createShader=function(m){return s(m,n,l,null,u)},p.createPickShader=function(m){return s(m,n,f,null,u)}},6086:function(v,p,t){v.exports=b;var r=t(5827),s=t(2944),n=t(8931),l=new Uint8Array(4),f=new Float32Array(l.buffer);function u(a,C,y,z){return l[0]=z,l[1]=y,l[2]=C,l[3]=a,f[0]}var m=t(5070),c=t(5050),w=t(248),h=w.createShader,o=w.createPickShader,d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function M(a,C){for(var y=0,z=0;z<3;++z){var I=a[z]-C[z];y+=I*I}return Math.sqrt(y)}function T(a){for(var C=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],y=0;y<3;++y)C[0][y]=Math.max(a[0][y],C[0][y]),C[1][y]=Math.min(a[1][y],C[1][y]);return C}function E(a,C,y,z){this.arcLength=a,this.position=C,this.index=y,this.dataCoordinate=z}function x(a,C,y,z,I,B){this.gl=a,this.shader=C,this.pickShader=y,this.buffer=z,this.vao=I,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=B,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var S=x.prototype;S.isTransparent=function(){return this.hasAlpha},S.isOpaque=function(){return!this.hasAlpha},S.pickSlots=1,S.setPickBase=function(a){this.pickId=a},S.drawTransparent=S.draw=function(a){if(this.vertexCount){var C=this.gl,y=this.shader,z=this.vao;y.bind(),y.uniforms={model:a.model||d,view:a.view||d,projection:a.projection||d,clipBounds:T(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[C.drawingBufferWidth,C.drawingBufferHeight],pixelRatio:this.pixelRatio},z.bind(),z.draw(C.TRIANGLE_STRIP,this.vertexCount),z.unbind()}},S.drawPick=function(a){if(this.vertexCount){var C=this.gl,y=this.pickShader,z=this.vao;y.bind(),y.uniforms={model:a.model||d,view:a.view||d,projection:a.projection||d,pickId:this.pickId,clipBounds:T(this.clipBounds),screenShape:[C.drawingBufferWidth,C.drawingBufferHeight],pixelRatio:this.pixelRatio},z.bind(),z.draw(C.TRIANGLE_STRIP,this.vertexCount),z.unbind()}},S.update=function(a){var C,y;this.dirty=!0;var z=!!a.connectGaps;"dashScale"in a&&(this.dashScale=a.dashScale),this.hasAlpha=!1,"opacity"in a&&(this.opacity=+a.opacity,this.opacity<1&&(this.hasAlpha=!0));var I=[],B=[],F=[],O=0,N=0,_=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],U=a.position||a.positions;if(U){var Y=a.color||a.colors||[0,0,0,1],K=a.lineWidth||1,re=!1;e:for(C=1;C<U.length;++C){var ae=U[C-1],fe=U[C];for(B.push(O),F.push(ae.slice()),y=0;y<3;++y){if(isNaN(ae[y])||isNaN(fe[y])||!isFinite(ae[y])||!isFinite(fe[y])){if(!z&&I.length>0){for(var Q=0;Q<24;++Q)I.push(I[I.length-12]);N+=2,re=!0}continue e}_[0][y]=Math.min(_[0][y],ae[y],fe[y]),_[1][y]=Math.max(_[1][y],ae[y],fe[y])}var j,X;Array.isArray(Y[0])?(j=Y.length>C-1?Y[C-1]:Y.length>0?Y[Y.length-1]:[0,0,0,1],X=Y.length>C?Y[C]:Y.length>0?Y[Y.length-1]:[0,0,0,1]):j=X=Y,j.length===3&&(j=[j[0],j[1],j[2],1]),X.length===3&&(X=[X[0],X[1],X[2],1]),!this.hasAlpha&&j[3]<1&&(this.hasAlpha=!0);var J;Array.isArray(K)?J=K.length>C-1?K[C-1]:K.length>0?K[K.length-1]:[0,0,0,1]:J=K;var ee=O;if(O+=M(ae,fe),re){for(y=0;y<2;++y)I.push(ae[0],ae[1],ae[2],fe[0],fe[1],fe[2],ee,J,j[0],j[1],j[2],j[3]);N+=2,re=!1}I.push(ae[0],ae[1],ae[2],fe[0],fe[1],fe[2],ee,J,j[0],j[1],j[2],j[3],ae[0],ae[1],ae[2],fe[0],fe[1],fe[2],ee,-J,j[0],j[1],j[2],j[3],fe[0],fe[1],fe[2],ae[0],ae[1],ae[2],O,-J,X[0],X[1],X[2],X[3],fe[0],fe[1],fe[2],ae[0],ae[1],ae[2],O,J,X[0],X[1],X[2],X[3]),N+=4}}if(this.buffer.update(I),B.push(O),F.push(U[U.length-1].slice()),this.bounds=_,this.vertexCount=N,this.points=F,this.arcLength=B,"dashes"in a){var se=a.dashes,q=se.slice();for(q.unshift(0),C=1;C<q.length;++C)q[C]=q[C-1]+q[C];var $=c(new Array(256*4),[256,1,4]);for(C=0;C<256;++C){for(y=0;y<4;++y)$.set(C,0,y,0);m.le(q,q[q.length-1]*C/255)&1?$.set(C,0,0,0):$.set(C,0,0,255)}this.texture.setPixels($)}},S.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},S.pick=function(a){if(!a||a.id!==this.pickId)return null;var C=u(a.value[0],a.value[1],a.value[2],0),y=m.le(this.arcLength,C);if(y<0)return null;if(y===this.arcLength.length-1)return new E(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),y);for(var z=this.points[y],I=this.points[Math.min(y+1,this.points.length-1)],B=(C-this.arcLength[y])/(this.arcLength[y+1]-this.arcLength[y]),F=1-B,O=[0,0,0],N=0;N<3;++N)O[N]=F*z[N]+B*I[N];var _=Math.min(B<.5?y:y+1,this.points.length-1);return new E(C,O,_,this.points[_])};function b(a){var C=a.gl||a.scene&&a.scene.gl,y=h(C);y.attributes.position.location=0,y.attributes.nextPosition.location=1,y.attributes.arcLength.location=2,y.attributes.lineWidth.location=3,y.attributes.color.location=4;var z=o(C);z.attributes.position.location=0,z.attributes.nextPosition.location=1,z.attributes.arcLength.location=2,z.attributes.lineWidth.location=3,z.attributes.color.location=4;for(var I=r(C),B=s(C,[{buffer:I,size:3,offset:0,stride:48},{buffer:I,size:3,offset:12,stride:48},{buffer:I,size:1,offset:24,stride:48},{buffer:I,size:1,offset:28,stride:48},{buffer:I,size:4,offset:32,stride:48}]),F=c(new Array(256*4),[256,1,4]),O=0;O<1024;++O)F.data[O]=255;var N=n(C,F);N.wrap=C.REPEAT;var _=new x(C,y,z,I,B,N);return _.update(a),_}},7332:function(v){v.exports=p;function p(t){var r=new Float32Array(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},9823:function(v){v.exports=p;function p(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7787:function(v){v.exports=p;function p(t){var r=t[0],s=t[1],n=t[2],l=t[3],f=t[4],u=t[5],m=t[6],c=t[7],w=t[8],h=t[9],o=t[10],d=t[11],M=t[12],T=t[13],E=t[14],x=t[15],S=r*u-s*f,b=r*m-n*f,a=r*c-l*f,C=s*m-n*u,y=s*c-l*u,z=n*c-l*m,I=w*T-h*M,B=w*E-o*M,F=w*x-d*M,O=h*E-o*T,N=h*x-d*T,_=o*x-d*E;return S*_-b*N+a*O+C*F-y*B+z*I}},5950:function(v){v.exports=p;function p(t,r){var s=r[0],n=r[1],l=r[2],f=r[3],u=s+s,m=n+n,c=l+l,w=s*u,h=n*u,o=n*m,d=l*u,M=l*m,T=l*c,E=f*u,x=f*m,S=f*c;return t[0]=1-o-T,t[1]=h+S,t[2]=d-x,t[3]=0,t[4]=h-S,t[5]=1-w-T,t[6]=M+E,t[7]=0,t[8]=d+x,t[9]=M-E,t[10]=1-w-o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7280:function(v){v.exports=p;function p(t,r,s){var n=r[0],l=r[1],f=r[2],u=r[3],m=n+n,c=l+l,w=f+f,h=n*m,o=n*c,d=n*w,M=l*c,T=l*w,E=f*w,x=u*m,S=u*c,b=u*w;return t[0]=1-(M+E),t[1]=o+b,t[2]=d-S,t[3]=0,t[4]=o-b,t[5]=1-(h+E),t[6]=T+x,t[7]=0,t[8]=d+S,t[9]=T-x,t[10]=1-(h+M),t[11]=0,t[12]=s[0],t[13]=s[1],t[14]=s[2],t[15]=1,t}},9947:function(v){v.exports=p;function p(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7437:function(v){v.exports=p;function p(t,r){var s=r[0],n=r[1],l=r[2],f=r[3],u=r[4],m=r[5],c=r[6],w=r[7],h=r[8],o=r[9],d=r[10],M=r[11],T=r[12],E=r[13],x=r[14],S=r[15],b=s*m-n*u,a=s*c-l*u,C=s*w-f*u,y=n*c-l*m,z=n*w-f*m,I=l*w-f*c,B=h*E-o*T,F=h*x-d*T,O=h*S-M*T,N=o*x-d*E,_=o*S-M*E,U=d*S-M*x,Y=b*U-a*_+C*N+y*O-z*F+I*B;return Y?(Y=1/Y,t[0]=(m*U-c*_+w*N)*Y,t[1]=(l*_-n*U-f*N)*Y,t[2]=(E*I-x*z+S*y)*Y,t[3]=(d*z-o*I-M*y)*Y,t[4]=(c*O-u*U-w*F)*Y,t[5]=(s*U-l*O+f*F)*Y,t[6]=(x*C-T*I-S*a)*Y,t[7]=(h*I-d*C+M*a)*Y,t[8]=(u*_-m*O+w*B)*Y,t[9]=(n*O-s*_-f*B)*Y,t[10]=(T*z-E*C+S*b)*Y,t[11]=(o*C-h*z-M*b)*Y,t[12]=(m*F-u*N-c*B)*Y,t[13]=(s*N-n*F+l*B)*Y,t[14]=(E*a-T*y-x*b)*Y,t[15]=(h*y-o*a+d*b)*Y,t):null}},3012:function(v,p,t){var r=t(9947);v.exports=s;function s(n,l,f,u){var m,c,w,h,o,d,M,T,E,x,S=l[0],b=l[1],a=l[2],C=u[0],y=u[1],z=u[2],I=f[0],B=f[1],F=f[2];return Math.abs(S-I)<1e-6&&Math.abs(b-B)<1e-6&&Math.abs(a-F)<1e-6?r(n):(M=S-I,T=b-B,E=a-F,x=1/Math.sqrt(M*M+T*T+E*E),M*=x,T*=x,E*=x,m=y*E-z*T,c=z*M-C*E,w=C*T-y*M,x=Math.sqrt(m*m+c*c+w*w),x?(x=1/x,m*=x,c*=x,w*=x):(m=0,c=0,w=0),h=T*w-E*c,o=E*m-M*w,d=M*c-T*m,x=Math.sqrt(h*h+o*o+d*d),x?(x=1/x,h*=x,o*=x,d*=x):(h=0,o=0,d=0),n[0]=m,n[1]=h,n[2]=M,n[3]=0,n[4]=c,n[5]=o,n[6]=T,n[7]=0,n[8]=w,n[9]=d,n[10]=E,n[11]=0,n[12]=-(m*S+c*b+w*a),n[13]=-(h*S+o*b+d*a),n[14]=-(M*S+T*b+E*a),n[15]=1,n)}},104:function(v){v.exports=p;function p(t,r,s){var n=r[0],l=r[1],f=r[2],u=r[3],m=r[4],c=r[5],w=r[6],h=r[7],o=r[8],d=r[9],M=r[10],T=r[11],E=r[12],x=r[13],S=r[14],b=r[15],a=s[0],C=s[1],y=s[2],z=s[3];return t[0]=a*n+C*m+y*o+z*E,t[1]=a*l+C*c+y*d+z*x,t[2]=a*f+C*w+y*M+z*S,t[3]=a*u+C*h+y*T+z*b,a=s[4],C=s[5],y=s[6],z=s[7],t[4]=a*n+C*m+y*o+z*E,t[5]=a*l+C*c+y*d+z*x,t[6]=a*f+C*w+y*M+z*S,t[7]=a*u+C*h+y*T+z*b,a=s[8],C=s[9],y=s[10],z=s[11],t[8]=a*n+C*m+y*o+z*E,t[9]=a*l+C*c+y*d+z*x,t[10]=a*f+C*w+y*M+z*S,t[11]=a*u+C*h+y*T+z*b,a=s[12],C=s[13],y=s[14],z=s[15],t[12]=a*n+C*m+y*o+z*E,t[13]=a*l+C*c+y*d+z*x,t[14]=a*f+C*w+y*M+z*S,t[15]=a*u+C*h+y*T+z*b,t}},5268:function(v){v.exports=p;function p(t,r,s,n,l,f,u){var m=1/(r-s),c=1/(n-l),w=1/(f-u);return t[0]=-2*m,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*w,t[11]=0,t[12]=(r+s)*m,t[13]=(l+n)*c,t[14]=(u+f)*w,t[15]=1,t}},1120:function(v){v.exports=p;function p(t,r,s,n,l){var f=1/Math.tan(r/2),u=1/(n-l);return t[0]=f/s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(l+n)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*l*n*u,t[15]=0,t}},4422:function(v){v.exports=p;function p(t,r,s,n){var l=n[0],f=n[1],u=n[2],m=Math.sqrt(l*l+f*f+u*u),c,w,h,o,d,M,T,E,x,S,b,a,C,y,z,I,B,F,O,N,_,U,Y,K;return Math.abs(m)<1e-6?null:(m=1/m,l*=m,f*=m,u*=m,c=Math.sin(s),w=Math.cos(s),h=1-w,o=r[0],d=r[1],M=r[2],T=r[3],E=r[4],x=r[5],S=r[6],b=r[7],a=r[8],C=r[9],y=r[10],z=r[11],I=l*l*h+w,B=f*l*h+u*c,F=u*l*h-f*c,O=l*f*h-u*c,N=f*f*h+w,_=u*f*h+l*c,U=l*u*h+f*c,Y=f*u*h-l*c,K=u*u*h+w,t[0]=o*I+E*B+a*F,t[1]=d*I+x*B+C*F,t[2]=M*I+S*B+y*F,t[3]=T*I+b*B+z*F,t[4]=o*O+E*N+a*_,t[5]=d*O+x*N+C*_,t[6]=M*O+S*N+y*_,t[7]=T*O+b*N+z*_,t[8]=o*U+E*Y+a*K,t[9]=d*U+x*Y+C*K,t[10]=M*U+S*Y+y*K,t[11]=T*U+b*Y+z*K,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)}},6109:function(v){v.exports=p;function p(t,r,s){var n=Math.sin(s),l=Math.cos(s),f=r[4],u=r[5],m=r[6],c=r[7],w=r[8],h=r[9],o=r[10],d=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=f*l+w*n,t[5]=u*l+h*n,t[6]=m*l+o*n,t[7]=c*l+d*n,t[8]=w*l-f*n,t[9]=h*l-u*n,t[10]=o*l-m*n,t[11]=d*l-c*n,t}},7115:function(v){v.exports=p;function p(t,r,s){var n=Math.sin(s),l=Math.cos(s),f=r[0],u=r[1],m=r[2],c=r[3],w=r[8],h=r[9],o=r[10],d=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=f*l-w*n,t[1]=u*l-h*n,t[2]=m*l-o*n,t[3]=c*l-d*n,t[8]=f*n+w*l,t[9]=u*n+h*l,t[10]=m*n+o*l,t[11]=c*n+d*l,t}},5240:function(v){v.exports=p;function p(t,r,s){var n=Math.sin(s),l=Math.cos(s),f=r[0],u=r[1],m=r[2],c=r[3],w=r[4],h=r[5],o=r[6],d=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=f*l+w*n,t[1]=u*l+h*n,t[2]=m*l+o*n,t[3]=c*l+d*n,t[4]=w*l-f*n,t[5]=h*l-u*n,t[6]=o*l-m*n,t[7]=d*l-c*n,t}},3668:function(v){v.exports=p;function p(t,r,s){var n=s[0],l=s[1],f=s[2];return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*l,t[5]=r[5]*l,t[6]=r[6]*l,t[7]=r[7]*l,t[8]=r[8]*f,t[9]=r[9]*f,t[10]=r[10]*f,t[11]=r[11]*f,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},998:function(v){v.exports=p;function p(t,r,s){var n=s[0],l=s[1],f=s[2],u,m,c,w,h,o,d,M,T,E,x,S;return r===t?(t[12]=r[0]*n+r[4]*l+r[8]*f+r[12],t[13]=r[1]*n+r[5]*l+r[9]*f+r[13],t[14]=r[2]*n+r[6]*l+r[10]*f+r[14],t[15]=r[3]*n+r[7]*l+r[11]*f+r[15]):(u=r[0],m=r[1],c=r[2],w=r[3],h=r[4],o=r[5],d=r[6],M=r[7],T=r[8],E=r[9],x=r[10],S=r[11],t[0]=u,t[1]=m,t[2]=c,t[3]=w,t[4]=h,t[5]=o,t[6]=d,t[7]=M,t[8]=T,t[9]=E,t[10]=x,t[11]=S,t[12]=u*n+h*l+T*f+r[12],t[13]=m*n+o*l+E*f+r[13],t[14]=c*n+d*l+x*f+r[14],t[15]=w*n+M*l+S*f+r[15]),t}},2142:function(v){v.exports=p;function p(t,r){if(t===r){var s=r[1],n=r[2],l=r[3],f=r[6],u=r[7],m=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=s,t[6]=r[9],t[7]=r[13],t[8]=n,t[9]=f,t[11]=r[14],t[12]=l,t[13]=u,t[14]=m}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t}},4340:function(v,p,t){var r=t(957),s=t(7309);v.exports=m;function n(c,w){for(var h=[0,0,0,0],o=0;o<4;++o)for(var d=0;d<4;++d)h[d]+=c[4*o+d]*w[o];return h}function l(c,w,h,o,d){for(var M=n(o,n(h,n(w,[c[0],c[1],c[2],1]))),T=0;T<3;++T)M[T]/=M[3];return[.5*d[0]*(1+M[0]),.5*d[1]*(1-M[1])]}function f(c,w){if(c.length===2){for(var h=0,o=0,d=0;d<2;++d)h+=Math.pow(w[d]-c[0][d],2),o+=Math.pow(w[d]-c[1][d],2);return h=Math.sqrt(h),o=Math.sqrt(o),h+o<1e-6?[1,0]:[o/(h+o),h/(o+h)]}else if(c.length===3){var M=[0,0];return s(c[0],c[1],c[2],w,M),r(c,M)}return[]}function u(c,w){for(var h=[0,0,0],o=0;o<c.length;++o)for(var d=c[o],M=w[o],T=0;T<3;++T)h[T]+=M*d[T];return h}function m(c,w,h,o,d,M){if(c.length===1)return[0,c[0].slice()];for(var T=new Array(c.length),E=0;E<c.length;++E)T[E]=l(c[E],h,o,d,M);for(var x=0,S=1/0,E=0;E<T.length;++E){for(var b=0,a=0;a<2;++a)b+=Math.pow(T[E][a]-w[a],2);b<S&&(S=b,x=E)}for(var C=f(T,w),y=0,E=0;E<3;++E){if(C[E]<-.001||C[E]>1.0001)return null;y+=C[E]}return Math.abs(y-1)>.001?null:[x,u(c,C),C]}},2056:function(v,p,t){var r=t(6832),s=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),l=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),f=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),u=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),m=r([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),c=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),w=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),h=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),o=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),d=r([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);p.meshShader={vertex:s,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.wireShader={vertex:l,fragment:f,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.pointShader={vertex:u,fragment:m,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},p.pickShader={vertex:c,fragment:w,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},p.pointPickShader={vertex:h,fragment:w,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},p.contourShader={vertex:o,fragment:d,attributes:[{name:"position",type:"vec3"}]}},8116:function(v,p,t){var r=1e-6,s=1e-6,n=t(5158),l=t(5827),f=t(2944),u=t(8931),m=t(115),c=t(104),w=t(7437),h=t(5050),o=t(9156),d=t(7212),M=t(5306),T=t(2056),E=t(4340),x=T.meshShader,S=T.wireShader,b=T.pointShader,a=T.pickShader,C=T.pointPickShader,y=T.contourShader,z=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function I(Q,j,X,J,ee,se,q,$,le,ie,ce,me,Me,we,Oe,Be,Ce,xe,Se,He,Ge,ke,We,it,et,tt,at){this.gl=Q,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=j,this.dirty=!0,this.triShader=X,this.lineShader=J,this.pointShader=ee,this.pickShader=se,this.pointPickShader=q,this.contourShader=$,this.trianglePositions=le,this.triangleColors=ce,this.triangleNormals=Me,this.triangleUVs=me,this.triangleIds=ie,this.triangleVAO=we,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Oe,this.edgeColors=Ce,this.edgeUVs=xe,this.edgeIds=Be,this.edgeVAO=Se,this.edgeCount=0,this.pointPositions=He,this.pointColors=ke,this.pointUVs=We,this.pointSizes=it,this.pointIds=Ge,this.pointVAO=et,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=tt,this.contourVAO=at,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=z,this._view=z,this._projection=z,this._resolution=[1,1]}var B=I.prototype;B.isOpaque=function(){return!this.hasAlpha},B.isTransparent=function(){return this.hasAlpha},B.pickSlots=1,B.setPickBase=function(Q){this.pickId=Q};function F(Q,j){if(!j||!j.length)return 1;for(var X=0;X<j.length;++X){if(j.length<2)return 1;if(j[X][0]===Q)return j[X][1];if(j[X][0]>Q&&X>0){var J=(j[X][0]-Q)/(j[X][0]-j[X-1][0]);return j[X][1]*(1-J)+J*j[X-1][1]}}return 1}function O(Q,j){for(var X=o({colormap:Q,nshades:256,format:"rgba"}),J=new Uint8Array(256*4),ee=0;ee<256;++ee){for(var se=X[ee],q=0;q<3;++q)J[4*ee+q]=se[q];j?J[4*ee+3]=255*F(ee/255,j):J[4*ee+3]=255*se[3]}return h(J,[256,256,4],[4,0,1])}function N(Q){for(var j=Q.length,X=new Array(j),J=0;J<j;++J)X[J]=Q[J][2];return X}B.highlight=function(Q){if(!Q||!this.contourEnable){this.contourCount=0;return}for(var j=d(this.cells,this.intensity,Q.intensity),X=j.cells,J=j.vertexIds,ee=j.vertexWeights,se=X.length,q=M.mallocFloat32(2*3*se),$=0,le=0;le<se;++le)for(var ie=X[le],ce=0;ce<2;++ce){var me=ie[0];ie.length===2&&(me=ie[ce]);for(var Me=J[me][0],we=J[me][1],Oe=ee[me],Be=1-Oe,Ce=this.positions[Me],xe=this.positions[we],Se=0;Se<3;++Se)q[$++]=Oe*Ce[Se]+Be*xe[Se]}this.contourCount=$/3|0,this.contourPositions.update(q.subarray(0,$)),M.free(q)},B.update=function(Q){Q=Q||{};var j=this.gl;this.dirty=!0,"contourEnable"in Q&&(this.contourEnable=Q.contourEnable),"contourColor"in Q&&(this.contourColor=Q.contourColor),"lineWidth"in Q&&(this.lineWidth=Q.lineWidth),"lightPosition"in Q&&(this.lightPosition=Q.lightPosition),this.hasAlpha=!1,"opacity"in Q&&(this.opacity=Q.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in Q&&(this.opacityscale=Q.opacityscale,this.hasAlpha=!0),"ambient"in Q&&(this.ambientLight=Q.ambient),"diffuse"in Q&&(this.diffuseLight=Q.diffuse),"specular"in Q&&(this.specularLight=Q.specular),"roughness"in Q&&(this.roughness=Q.roughness),"fresnel"in Q&&(this.fresnel=Q.fresnel),Q.texture?(this.texture.dispose(),this.texture=u(j,Q.texture)):Q.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=j.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=j.LINEAR,this.texture.setPixels(O(Q.colormap,this.opacityscale)),this.texture.generateMipmap());var X=Q.cells,J=Q.positions;if(!(!J||!X)){var ee=[],se=[],q=[],$=[],le=[],ie=[],ce=[],me=[],Me=[],we=[],Oe=[],Be=[],Ce=[],xe=[];this.cells=X,this.positions=J;var Se=Q.vertexNormals,He=Q.cellNormals,Ge=Q.vertexNormalsEpsilon===void 0?r:Q.vertexNormalsEpsilon,ke=Q.faceNormalsEpsilon===void 0?s:Q.faceNormalsEpsilon;Q.useFacetNormals&&!He&&(He=m.faceNormals(X,J,ke)),!He&&!Se&&(Se=m.vertexNormals(X,J,Ge));var We=Q.vertexColors,it=Q.cellColors,et=Q.meshColor||[1,1,1,1],tt=Q.vertexUVs,at=Q.vertexIntensity,ht=Q.cellUVs,yt=Q.cellIntensity,gt=1/0,Et=-1/0;if(!tt&&!ht)if(at)if(Q.vertexIntensityBounds)gt=+Q.vertexIntensityBounds[0],Et=+Q.vertexIntensityBounds[1];else for(var Ct=0;Ct<at.length;++Ct){var Vt=at[Ct];gt=Math.min(gt,Vt),Et=Math.max(Et,Vt)}else if(yt)if(Q.cellIntensityBounds)gt=+Q.cellIntensityBounds[0],Et=+Q.cellIntensityBounds[1];else for(var Ct=0;Ct<yt.length;++Ct){var Vt=yt[Ct];gt=Math.min(gt,Vt),Et=Math.max(Et,Vt)}else for(var Ct=0;Ct<J.length;++Ct){var Vt=J[Ct][2];gt=Math.min(gt,Vt),Et=Math.max(Et,Vt)}at?this.intensity=at:yt?this.intensity=yt:this.intensity=N(J),this.pickVertex=!(yt||it);var Qe=Q.pointSizes,Fe=Q.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Ct=0;Ct<J.length;++Ct)for(var Ie=J[Ct],ze=0;ze<3;++ze)isNaN(Ie[ze])||!isFinite(Ie[ze])||(this.bounds[0][ze]=Math.min(this.bounds[0][ze],Ie[ze]),this.bounds[1][ze]=Math.max(this.bounds[1][ze],Ie[ze]));var Re=0,be=0,ye=0;e:for(var Ct=0;Ct<X.length;++Ct){var Ae=X[Ct];switch(Ae.length){case 1:for(var Ee=Ae[0],Ie=J[Ee],ze=0;ze<3;++ze)if(isNaN(Ie[ze])||!isFinite(Ie[ze]))continue e;we.push(Ie[0],Ie[1],Ie[2]);var Ne;We?Ne=We[Ee]:it?Ne=it[Ct]:Ne=et,this.opacityscale&&at?se.push(Ne[0],Ne[1],Ne[2],this.opacity*F((at[Ee]-gt)/(Et-gt),this.opacityscale)):Ne.length===3?Oe.push(Ne[0],Ne[1],Ne[2],this.opacity):(Oe.push(Ne[0],Ne[1],Ne[2],Ne[3]*this.opacity),Ne[3]<1&&(this.hasAlpha=!0));var Je;tt?Je=tt[Ee]:at?Je=[(at[Ee]-gt)/(Et-gt),0]:ht?Je=ht[Ct]:yt?Je=[(yt[Ct]-gt)/(Et-gt),0]:Je=[(Ie[2]-gt)/(Et-gt),0],Be.push(Je[0],Je[1]),Qe?Ce.push(Qe[Ee]):Ce.push(Fe),xe.push(Ct),ye+=1;break;case 2:for(var ze=0;ze<2;++ze)for(var Ee=Ae[ze],Ie=J[Ee],qe=0;qe<3;++qe)if(isNaN(Ie[qe])||!isFinite(Ie[qe]))continue e;for(var ze=0;ze<2;++ze){var Ee=Ae[ze],Ie=J[Ee];ie.push(Ie[0],Ie[1],Ie[2]);var Ne;We?Ne=We[Ee]:it?Ne=it[Ct]:Ne=et,this.opacityscale&&at?se.push(Ne[0],Ne[1],Ne[2],this.opacity*F((at[Ee]-gt)/(Et-gt),this.opacityscale)):Ne.length===3?ce.push(Ne[0],Ne[1],Ne[2],this.opacity):(ce.push(Ne[0],Ne[1],Ne[2],Ne[3]*this.opacity),Ne[3]<1&&(this.hasAlpha=!0));var Je;tt?Je=tt[Ee]:at?Je=[(at[Ee]-gt)/(Et-gt),0]:ht?Je=ht[Ct]:yt?Je=[(yt[Ct]-gt)/(Et-gt),0]:Je=[(Ie[2]-gt)/(Et-gt),0],me.push(Je[0],Je[1]),Me.push(Ct)}be+=1;break;case 3:for(var ze=0;ze<3;++ze)for(var Ee=Ae[ze],Ie=J[Ee],qe=0;qe<3;++qe)if(isNaN(Ie[qe])||!isFinite(Ie[qe]))continue e;for(var ze=0;ze<3;++ze){var Ee=Ae[2-ze],Ie=J[Ee];ee.push(Ie[0],Ie[1],Ie[2]);var Ne;We?Ne=We[Ee]:it?Ne=it[Ct]:Ne=et,Ne?this.opacityscale&&at?se.push(Ne[0],Ne[1],Ne[2],this.opacity*F((at[Ee]-gt)/(Et-gt),this.opacityscale)):Ne.length===3?se.push(Ne[0],Ne[1],Ne[2],this.opacity):(se.push(Ne[0],Ne[1],Ne[2],Ne[3]*this.opacity),Ne[3]<1&&(this.hasAlpha=!0)):se.push(.5,.5,.5,1);var Je;tt?Je=tt[Ee]:at?Je=[(at[Ee]-gt)/(Et-gt),0]:ht?Je=ht[Ct]:yt?Je=[(yt[Ct]-gt)/(Et-gt),0]:Je=[(Ie[2]-gt)/(Et-gt),0],$.push(Je[0],Je[1]);var vt;Se?vt=Se[Ee]:vt=He[Ct],q.push(vt[0],vt[1],vt[2]),le.push(Ct)}Re+=1;break}}this.pointCount=ye,this.edgeCount=be,this.triangleCount=Re,this.pointPositions.update(we),this.pointColors.update(Oe),this.pointUVs.update(Be),this.pointSizes.update(Ce),this.pointIds.update(new Uint32Array(xe)),this.edgePositions.update(ie),this.edgeColors.update(ce),this.edgeUVs.update(me),this.edgeIds.update(new Uint32Array(Me)),this.trianglePositions.update(ee),this.triangleColors.update(se),this.triangleUVs.update($),this.triangleNormals.update(q),this.triangleIds.update(new Uint32Array(le))}},B.drawTransparent=B.draw=function(Q){Q=Q||{};for(var j=this.gl,X=Q.model||z,J=Q.view||z,ee=Q.projection||z,se=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],q=0;q<3;++q)se[0][q]=Math.max(se[0][q],this.clipBounds[0][q]),se[1][q]=Math.min(se[1][q],this.clipBounds[1][q]);var $={model:X,view:J,projection:ee,inverseModel:z.slice(),clipBounds:se,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};$.inverseModel=w($.inverseModel,$.model),j.disable(j.CULL_FACE),this.texture.bind(0);var le=new Array(16);c(le,$.view,$.model),c(le,$.projection,le),w(le,le);for(var q=0;q<3;++q)$.eyePosition[q]=le[12+q]/le[15];for(var ie=le[15],q=0;q<3;++q)ie+=this.lightPosition[q]*le[4*q+3];for(var q=0;q<3;++q){for(var ce=le[12+q],me=0;me<3;++me)ce+=le[4*me+q]*this.lightPosition[me];$.lightPosition[q]=ce/ie}if(this.triangleCount>0){var Me=this.triShader;Me.bind(),Me.uniforms=$,this.triangleVAO.bind(),j.drawArrays(j.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var Me=this.lineShader;Me.bind(),Me.uniforms=$,this.edgeVAO.bind(),j.lineWidth(this.lineWidth*this.pixelRatio),j.drawArrays(j.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var Me=this.pointShader;Me.bind(),Me.uniforms=$,this.pointVAO.bind(),j.drawArrays(j.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var Me=this.contourShader;Me.bind(),Me.uniforms=$,this.contourVAO.bind(),j.drawArrays(j.LINES,0,this.contourCount),this.contourVAO.unbind()}},B.drawPick=function(Q){Q=Q||{};for(var j=this.gl,X=Q.model||z,J=Q.view||z,ee=Q.projection||z,se=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],q=0;q<3;++q)se[0][q]=Math.max(se[0][q],this.clipBounds[0][q]),se[1][q]=Math.min(se[1][q],this.clipBounds[1][q]);this._model=[].slice.call(X),this._view=[].slice.call(J),this._projection=[].slice.call(ee),this._resolution=[j.drawingBufferWidth,j.drawingBufferHeight];var $={model:X,view:J,projection:ee,clipBounds:se,pickId:this.pickId/255},le=this.pickShader;if(le.bind(),le.uniforms=$,this.triangleCount>0&&(this.triangleVAO.bind(),j.drawArrays(j.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),j.lineWidth(this.lineWidth*this.pixelRatio),j.drawArrays(j.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var le=this.pointPickShader;le.bind(),le.uniforms=$,this.pointVAO.bind(),j.drawArrays(j.POINTS,0,this.pointCount),this.pointVAO.unbind()}},B.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;for(var j=Q.value[0]+256*Q.value[1]+65536*Q.value[2],X=this.cells[j],J=this.positions,ee=new Array(X.length),se=0;se<X.length;++se)ee[se]=J[X[se]];var q=Q.coord[0],$=Q.coord[1];if(!this.pickVertex){var le=this.positions[X[0]],ie=this.positions[X[1]],ce=this.positions[X[2]],me=[(le[0]+ie[0]+ce[0])/3,(le[1]+ie[1]+ce[1])/3,(le[2]+ie[2]+ce[2])/3];return{_cellCenter:!0,position:[q,$],index:j,cell:X,cellId:j,intensity:this.intensity[j],dataCoordinate:me}}var Me=E(ee,[q*this.pixelRatio,this._resolution[1]-$*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!Me)return null;for(var we=Me[2],Oe=0,se=0;se<X.length;++se)Oe+=we[se]*this.intensity[X[se]];return{position:Me[1],index:X[Me[0]],cell:X,cellId:j,intensity:Oe,dataCoordinate:this.positions[X[Me[0]]]}},B.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function _(Q){var j=n(Q,x.vertex,x.fragment);return j.attributes.position.location=0,j.attributes.color.location=2,j.attributes.uv.location=3,j.attributes.normal.location=4,j}function U(Q){var j=n(Q,S.vertex,S.fragment);return j.attributes.position.location=0,j.attributes.color.location=2,j.attributes.uv.location=3,j}function Y(Q){var j=n(Q,b.vertex,b.fragment);return j.attributes.position.location=0,j.attributes.color.location=2,j.attributes.uv.location=3,j.attributes.pointSize.location=4,j}function K(Q){var j=n(Q,a.vertex,a.fragment);return j.attributes.position.location=0,j.attributes.id.location=1,j}function re(Q){var j=n(Q,C.vertex,C.fragment);return j.attributes.position.location=0,j.attributes.id.location=1,j.attributes.pointSize.location=4,j}function ae(Q){var j=n(Q,y.vertex,y.fragment);return j.attributes.position.location=0,j}function fe(Q,j){arguments.length===1&&(j=Q,Q=j.gl);var X=Q.getExtension("OES_standard_derivatives")||Q.getExtension("MOZ_OES_standard_derivatives")||Q.getExtension("WEBKIT_OES_standard_derivatives");if(!X)throw new Error("derivatives not supported");var J=_(Q),ee=U(Q),se=Y(Q),q=K(Q),$=re(Q),le=ae(Q),ie=u(Q,h(new Uint8Array([255,255,255,255]),[1,1,4]));ie.generateMipmap(),ie.minFilter=Q.LINEAR_MIPMAP_LINEAR,ie.magFilter=Q.LINEAR;var ce=l(Q),me=l(Q),Me=l(Q),we=l(Q),Oe=l(Q),Be=f(Q,[{buffer:ce,type:Q.FLOAT,size:3},{buffer:Oe,type:Q.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:me,type:Q.FLOAT,size:4},{buffer:Me,type:Q.FLOAT,size:2},{buffer:we,type:Q.FLOAT,size:3}]),Ce=l(Q),xe=l(Q),Se=l(Q),He=l(Q),Ge=f(Q,[{buffer:Ce,type:Q.FLOAT,size:3},{buffer:He,type:Q.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:xe,type:Q.FLOAT,size:4},{buffer:Se,type:Q.FLOAT,size:2}]),ke=l(Q),We=l(Q),it=l(Q),et=l(Q),tt=l(Q),at=f(Q,[{buffer:ke,type:Q.FLOAT,size:3},{buffer:tt,type:Q.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:We,type:Q.FLOAT,size:4},{buffer:it,type:Q.FLOAT,size:2},{buffer:et,type:Q.FLOAT,size:1}]),ht=l(Q),yt=f(Q,[{buffer:ht,type:Q.FLOAT,size:3}]),gt=new I(Q,ie,J,ee,se,q,$,le,ce,Oe,me,Me,we,Be,Ce,He,xe,Se,Ge,ke,tt,We,it,et,at,ht,yt);return gt.update(j),gt}v.exports=fe},4554:function(v,p,t){v.exports=u;var r=t(5827),s=t(5158),n=t(2709);function l(m,c,w){this.plot=m,this.vbo=c,this.shader=w}var f=l.prototype;f.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},f.drawBox=function(){var m=[0,0],c=[0,0];return function(w,h,o,d,M){var T=this.plot,E=this.shader,x=T.gl;m[0]=w,m[1]=h,c[0]=o,c[1]=d,E.uniforms.lo=m,E.uniforms.hi=c,E.uniforms.color=M,x.drawArrays(x.TRIANGLE_STRIP,0,4)}}(),f.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function u(m){var c=m.gl,w=r(c,[0,0,0,1,1,0,1,1]),h=s(c,n.boxVert,n.lineFrag);return new l(m,w,h)}},3016:function(v,p,t){v.exports=c;var r=t(5827),s=t(5158),n=t(5070),l=t(2709);function f(w,h,o,d){this.plot=w,this.vbo=h,this.shader=o,this.tickShader=d,this.ticks=[[],[]]}function u(w,h){return w-h}var m=f.prototype;m.draw=function(){var w=[0,0],h=[0,0],o=[0,0];return function(){for(var d=this.plot,M=this.vbo,T=this.shader,E=this.ticks,x=d.gl,S=d._tickBounds,b=d.dataBox,a=d.viewBox,C=d.gridLineWidth,y=d.gridLineColor,z=d.gridLineEnable,I=d.pixelRatio,B=0;B<2;++B){var F=S[B],O=S[B+2],N=O-F,_=.5*(b[B+2]+b[B]),U=b[B+2]-b[B];h[B]=2*N/U,w[B]=2*(F-_)/U}T.bind(),M.bind(),T.attributes.dataCoord.pointer(),T.uniforms.dataShift=w,T.uniforms.dataScale=h;for(var Y=0,B=0;B<2;++B){o[0]=o[1]=0,o[B]=1,T.uniforms.dataAxis=o,T.uniforms.lineWidth=C[B]/(a[B+2]-a[B])*I,T.uniforms.color=y[B];var K=E[B].length*6;z[B]&&K&&x.drawArrays(x.TRIANGLES,Y,K),Y+=K}}}(),m.drawTickMarks=function(){var w=[0,0],h=[0,0],o=[1,0],d=[0,1],M=[0,0],T=[0,0];return function(){for(var E=this.plot,x=this.vbo,S=this.tickShader,b=this.ticks,a=E.gl,C=E._tickBounds,y=E.dataBox,z=E.viewBox,I=E.pixelRatio,B=E.screenBox,F=B[2]-B[0],O=B[3]-B[1],N=z[2]-z[0],_=z[3]-z[1],U=0;U<2;++U){var Y=C[U],K=C[U+2],re=K-Y,ae=.5*(y[U+2]+y[U]),fe=y[U+2]-y[U];h[U]=2*re/fe,w[U]=2*(Y-ae)/fe}h[0]*=N/F,w[0]*=N/F,h[1]*=_/O,w[1]*=_/O,S.bind(),x.bind(),S.attributes.dataCoord.pointer();var Q=S.uniforms;Q.dataShift=w,Q.dataScale=h;var j=E.tickMarkLength,X=E.tickMarkWidth,J=E.tickMarkColor,ee=0,se=b[0].length*6,q=Math.min(n.ge(b[0],(y[0]-C[0])/(C[2]-C[0]),u),b[0].length),$=Math.min(n.gt(b[0],(y[2]-C[0])/(C[2]-C[0]),u),b[0].length),le=ee+6*q,ie=6*Math.max(0,$-q),ce=Math.min(n.ge(b[1],(y[1]-C[1])/(C[3]-C[1]),u),b[1].length),me=Math.min(n.gt(b[1],(y[3]-C[1])/(C[3]-C[1]),u),b[1].length),Me=se+6*ce,we=6*Math.max(0,me-ce);M[0]=2*(z[0]-j[1])/F-1,M[1]=(z[3]+z[1])/O-1,T[0]=j[1]*I/F,T[1]=X[1]*I/O,we&&(Q.color=J[1],Q.tickScale=T,Q.dataAxis=d,Q.screenOffset=M,a.drawArrays(a.TRIANGLES,Me,we)),M[0]=(z[2]+z[0])/F-1,M[1]=2*(z[1]-j[0])/O-1,T[0]=X[0]*I/F,T[1]=j[0]*I/O,ie&&(Q.color=J[0],Q.tickScale=T,Q.dataAxis=o,Q.screenOffset=M,a.drawArrays(a.TRIANGLES,le,ie)),M[0]=2*(z[2]+j[3])/F-1,M[1]=(z[3]+z[1])/O-1,T[0]=j[3]*I/F,T[1]=X[3]*I/O,we&&(Q.color=J[3],Q.tickScale=T,Q.dataAxis=d,Q.screenOffset=M,a.drawArrays(a.TRIANGLES,Me,we)),M[0]=(z[2]+z[0])/F-1,M[1]=2*(z[3]+j[2])/O-1,T[0]=X[2]*I/F,T[1]=j[2]*I/O,ie&&(Q.color=J[2],Q.tickScale=T,Q.dataAxis=o,Q.screenOffset=M,a.drawArrays(a.TRIANGLES,le,ie))}}(),m.update=function(){var w=[1,1,-1,-1,1,-1],h=[1,-1,1,1,-1,-1];return function(o){var d=o.ticks,M=o.bounds,T=new Float32Array(6*3*(d[0].length+d[1].length));this.plot.zeroLineEnable;for(var E=0,x=[[],[]],S=0;S<2;++S)for(var b=x[S],a=d[S],C=M[S],y=M[S+2],z=0;z<a.length;++z){var I=(a[z].x-C)/(y-C);b.push(I);for(var B=0;B<6;++B)T[E++]=I,T[E++]=w[B],T[E++]=h[B]}this.ticks=x,this.vbo.update(T)}}(),m.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function c(w){var h=w.gl,o=r(h),d=s(h,l.gridVert,l.gridFrag),M=s(h,l.tickVert,l.gridFrag),T=new f(w,o,d,M);return T}},1154:function(v,p,t){v.exports=u;var r=t(5827),s=t(5158),n=t(2709);function l(m,c,w){this.plot=m,this.vbo=c,this.shader=w}var f=l.prototype;f.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},f.drawLine=function(){var m=[0,0],c=[0,0];return function(w,h,o,d,M,T){var E=this.plot,x=this.shader,S=E.gl;m[0]=w,m[1]=h,c[0]=o,c[1]=d,x.uniforms.start=m,x.uniforms.end=c,x.uniforms.width=M*E.pixelRatio,x.uniforms.color=T,S.drawArrays(S.TRIANGLE_STRIP,0,4)}}(),f.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function u(m){var c=m.gl,w=r(c,[-1,-1,-1,1,1,-1,1,1]),h=s(c,n.lineVert,n.lineFrag),o=new l(m,w,h);return o}},2709:function(v,p,t){var r=t(6832),s=r([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);v.exports={lineVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:s,textVert:r([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:s,gridVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:s,boxVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(v,p,t){v.exports=c;var r=t(5827),s=t(5158),n=t(6946),l=t(5070),f=t(2709);function u(w,h,o){this.plot=w,this.vbo=h,this.shader=o,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var m=u.prototype;m.drawTicks=function(){var w=[0,0],h=[0,0],o=[0,0];return function(d){var M=this.plot,T=this.shader,E=this.tickX[d],x=this.tickOffset[d],S=M.gl,b=M.viewBox,a=M.dataBox,C=M.screenBox,y=M.pixelRatio,z=M.tickEnable,I=M.tickPad,B=M.tickColor,F=M.tickAngle,O=M.labelEnable,N=M.labelPad,_=M.labelColor,U=M.labelAngle,Y=this.labelOffset[d],K=this.labelCount[d],re=l.lt(E,a[d]),ae=l.le(E,a[d+2]);w[0]=w[1]=0,w[d]=1,h[d]=(b[2+d]+b[d])/(C[2+d]-C[d])-1;var fe=2/C[2+(d^1)]-C[d^1];h[d^1]=fe*b[d^1]-1,z[d]&&(h[d^1]-=fe*y*I[d],re<ae&&x[ae]>x[re]&&(T.uniforms.dataAxis=w,T.uniforms.screenOffset=h,T.uniforms.color=B[d],T.uniforms.angle=F[d],S.drawArrays(S.TRIANGLES,x[re],x[ae]-x[re]))),O[d]&&K&&(h[d^1]-=fe*y*N[d],T.uniforms.dataAxis=o,T.uniforms.screenOffset=h,T.uniforms.color=_[d],T.uniforms.angle=U[d],S.drawArrays(S.TRIANGLES,Y,K)),h[d^1]=fe*b[2+(d^1)]-1,z[d+2]&&(h[d^1]+=fe*y*I[d+2],re<ae&&x[ae]>x[re]&&(T.uniforms.dataAxis=w,T.uniforms.screenOffset=h,T.uniforms.color=B[d+2],T.uniforms.angle=F[d+2],S.drawArrays(S.TRIANGLES,x[re],x[ae]-x[re]))),O[d+2]&&K&&(h[d^1]+=fe*y*N[d+2],T.uniforms.dataAxis=o,T.uniforms.screenOffset=h,T.uniforms.color=_[d+2],T.uniforms.angle=U[d+2],S.drawArrays(S.TRIANGLES,Y,K))}}(),m.drawTitle=function(){var w=[0,0],h=[0,0];return function(){var o=this.plot,d=this.shader,M=o.gl,T=o.screenBox,E=o.titleCenter,x=o.titleAngle,S=o.titleColor,b=o.pixelRatio;if(this.titleCount){for(var a=0;a<2;++a)h[a]=2*(E[a]*b-T[a])/(T[2+a]-T[a])-1;d.bind(),d.uniforms.dataAxis=w,d.uniforms.screenOffset=h,d.uniforms.angle=x,d.uniforms.color=S,M.drawArrays(M.TRIANGLES,this.titleOffset,this.titleCount)}}}(),m.bind=function(){var w=[0,0],h=[0,0],o=[0,0];return function(){var d=this.plot,M=this.shader,T=d._tickBounds,E=d.dataBox,x=d.screenBox,S=d.viewBox;M.bind();for(var b=0;b<2;++b){var a=T[b],C=T[b+2],y=C-a,z=.5*(E[b+2]+E[b]),I=E[b+2]-E[b],B=S[b],F=S[b+2],O=F-B,N=x[b],_=x[b+2],U=_-N;h[b]=2*y/I*O/U,w[b]=2*(a-z)/I*O/U}o[1]=2*d.pixelRatio/(x[3]-x[1]),o[0]=o[1]*(x[3]-x[1])/(x[2]-x[0]),M.uniforms.dataScale=h,M.uniforms.dataShift=w,M.uniforms.textScale=o,this.vbo.bind(),M.attributes.textCoordinate.pointer()}}(),m.update=function(w){var h=[],o=w.ticks,d=w.bounds,M,T,E,x,S;for(S=0;S<2;++S){var b=[Math.floor(h.length/3)],a=[-1/0],C=o[S];for(M=0;M<C.length;++M){var y=C[M],z=y.x,I=y.text,B=y.font||"sans-serif";x=y.fontSize||12;for(var F=1/(d[S+2]-d[S]),O=d[S],N=I.split(`
`),_=0;_<N.length;_++)for(E=n(B,N[_]).data,T=0;T<E.length;T+=2)h.push(E[T]*x,-E[T+1]*x-_*x*1.2,(z-O)*F);b.push(Math.floor(h.length/3)),a.push(z)}this.tickOffset[S]=b,this.tickX[S]=a}for(S=0;S<2;++S){for(this.labelOffset[S]=Math.floor(h.length/3),E=n(w.labelFont[S],w.labels[S],{textAlign:"center"}).data,x=w.labelSize[S],M=0;M<E.length;M+=2)h.push(E[M]*x,-E[M+1]*x,0);this.labelCount[S]=Math.floor(h.length/3)-this.labelOffset[S]}for(this.titleOffset=Math.floor(h.length/3),E=n(w.titleFont,w.title).data,x=w.titleSize,M=0;M<E.length;M+=2)h.push(E[M]*x,-E[M+1]*x,0);this.titleCount=Math.floor(h.length/3)-this.titleOffset,this.vbo.update(h)},m.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function c(w){var h=w.gl,o=r(h),d=s(h,f.textVert,f.textFrag),M=new u(w,o,d);return M}},2117:function(v,p,t){v.exports=h;var r=t(2611),s=t(3016),n=t(5613),l=t(1154),f=t(4554);function u(o,d){this.gl=o,this.pickBuffer=d,this.screenBox=[0,0,o.drawingBufferWidth,o.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var m=u.prototype;m.setDirty=function(){this.dirty=this.pickDirty=!0},m.setOverlayDirty=function(){this.dirty=!0},m.nextDepthValue=function(){return this._depthCounter++/65536},m.draw=function(){return function(){var o=this.gl,d=this.screenBox,M=this.viewBox,T=this.dataBox,E=this.pixelRatio,x=this.grid,S=this.line,b=this.text,a=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,o.bindFramebuffer(o.FRAMEBUFFER,null),o.enable(o.SCISSOR_TEST),o.disable(o.DEPTH_TEST),o.depthFunc(o.LESS),o.depthMask(!1),o.enable(o.BLEND),o.blendEquation(o.FUNC_ADD,o.FUNC_ADD),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),this.borderColor){o.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]);var C=this.borderColor;o.clearColor(C[0]*C[3],C[1]*C[3],C[2]*C[3],C[3]),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT)}o.scissor(M[0],M[1],M[2]-M[0],M[3]-M[1]),o.viewport(M[0],M[1],M[2]-M[0],M[3]-M[1]);var y=this.backgroundColor;o.clearColor(y[0]*y[3],y[1]*y[3],y[2]*y[3],y[3]),o.clear(o.COLOR_BUFFER_BIT),x.draw();var z=this.zeroLineEnable,I=this.zeroLineColor,B=this.zeroLineWidth;if(z[0]||z[1]){S.bind();for(var F=0;F<2;++F)if(!(!z[F]||!(T[F]<=0&&T[F+2]>=0))){var O=d[F]-T[F]*(d[F+2]-d[F])/(T[F+2]-T[F]);F===0?S.drawLine(O,d[1],O,d[3],B[F],I[F]):S.drawLine(d[0],O,d[2],O,B[F],I[F])}}for(var F=0;F<a.length;++F)a[F].draw();o.viewport(d[0],d[1],d[2]-d[0],d[3]-d[1]),o.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.grid.drawTickMarks(),S.bind();var N=this.borderLineEnable,_=this.borderLineWidth,U=this.borderLineColor;N[1]&&S.drawLine(M[0],M[1]-.5*_[1]*E,M[0],M[3]+.5*_[3]*E,_[1],U[1]),N[0]&&S.drawLine(M[0]-.5*_[0]*E,M[1],M[2]+.5*_[2]*E,M[1],_[0],U[0]),N[3]&&S.drawLine(M[2],M[1]-.5*_[1]*E,M[2],M[3]+.5*_[3]*E,_[3],U[3]),N[2]&&S.drawLine(M[0]-.5*_[0]*E,M[3],M[2]+.5*_[2]*E,M[3],_[2],U[2]),b.bind();for(var F=0;F<2;++F)b.drawTicks(F);this.titleEnable&&b.drawTitle();for(var Y=this.overlays,F=0;F<Y.length;++F)Y[F].draw();o.disable(o.SCISSOR_TEST),o.disable(o.BLEND),o.depthMask(!0)}}}(),m.drawPick=function(){return function(){if(!this.static){var o=this.pickBuffer;this.gl,this._pickTimeout=null,o.begin();for(var d=1,M=this.objects,T=0;T<M.length;++T)d=M[T].drawPick(d);o.end()}}}(),m.pick=function(){return function(o,d){if(!this.static){var M=this.pixelRatio,T=this.pickPixelRatio,E=this.viewBox,x=Math.round((o-E[0]/M)*T)|0,S=Math.round((d-E[1]/M)*T)|0,b=this.pickBuffer.query(x,S,this.pickRadius);if(!b)return null;for(var a=b.id+(b.value[0]<<8)+(b.value[1]<<16)+(b.value[2]<<24),C=this.objects,y=0;y<C.length;++y){var z=C[y].pick(x,S,a);if(z)return z}return null}}}();function c(o){for(var d=o.slice(),M=0;M<d.length;++M)d[M]=d[M].slice();return d}function w(o,d){return o.x-d.x}m.setScreenBox=function(o){var d=this.screenBox,M=this.pixelRatio;d[0]=Math.round(o[0]*M)|0,d[1]=Math.round(o[1]*M)|0,d[2]=Math.round(o[2]*M)|0,d[3]=Math.round(o[3]*M)|0,this.setDirty()},m.setDataBox=function(o){var d=this.dataBox,M=d[0]!==o[0]||d[1]!==o[1]||d[2]!==o[2]||d[3]!==o[3];M&&(d[0]=o[0],d[1]=o[1],d[2]=o[2],d[3]=o[3],this.setDirty())},m.setViewBox=function(o){var d=this.pixelRatio,M=this.viewBox;M[0]=Math.round(o[0]*d)|0,M[1]=Math.round(o[1]*d)|0,M[2]=Math.round(o[2]*d)|0,M[3]=Math.round(o[3]*d)|0;var T=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((o[2]-o[0])*T)|0,Math.round((o[3]-o[1])*T)|0],this.setDirty()},m.update=function(o){o=o||{};var d=this.gl;this.pixelRatio=o.pixelRatio||1;var M=this.pixelRatio;this.pickPixelRatio=Math.max(M,1),this.setScreenBox(o.screenBox||[0,0,d.drawingBufferWidth/M,d.drawingBufferHeight/M]),this.screenBox,this.setViewBox(o.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/M,.125*(this.screenBox[3]-this.screenBox[1])/M,.875*(this.screenBox[2]-this.screenBox[0])/M,.875*(this.screenBox[3]-this.screenBox[1])/M]);var T=this.viewBox,E=(T[2]-T[0])/(T[3]-T[1]);this.setDataBox(o.dataBox||[-10,-10/E,10,10/E]),this.borderColor=o.borderColor!==!1?(o.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(o.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(o.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(o.gridLineWidth||[1,1]).slice(),this.gridLineColor=c(o.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(o.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(o.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=c(o.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(o.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(o.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=c(o.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(o.titleCenter||[.5*(T[0]+T[2])/M,(T[3]+120)/M]).slice(),this.titleEnable=!("titleEnable"in o)||!!o.titleEnable,this.titleAngle=o.titleAngle||0,this.titleColor=(o.titleColor||[0,0,0,1]).slice(),this.labelPad=(o.labelPad||[15,15,15,15]).slice(),this.labelAngle=(o.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(o.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=c(o.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(o.tickPad||[15,15,15,15]).slice(),this.tickAngle=(o.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(o.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=c(o.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(o.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(o.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=c(o.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var x=o.ticks||[[],[]],S=this._tickBounds;S[0]=S[1]=1/0,S[2]=S[3]=-1/0;for(var b=0;b<2;++b){var a=x[b].slice(0);a.length!==0&&(a.sort(w),S[b]=Math.min(S[b],a[0].x),S[b+2]=Math.max(S[b+2],a[a.length-1].x))}this.grid.update({bounds:S,ticks:x}),this.text.update({bounds:S,ticks:x,labels:o.labels||["x","y"],labelSize:o.labelSize||[12,12],labelFont:o.labelFont||["sans-serif","sans-serif"],title:o.title||"",titleSize:o.titleSize||18,titleFont:o.titleFont||"sans-serif"}),this.static=!!o.static,this.setDirty()},m.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var o=this.objects.length-1;o>=0;--o)this.objects[o].dispose();this.objects.length=0;for(var o=this.overlays.length-1;o>=0;--o)this.overlays[o].dispose();this.overlays.length=0,this.gl=null},m.addObject=function(o){this.objects.indexOf(o)<0&&(this.objects.push(o),this.setDirty())},m.removeObject=function(o){for(var d=this.objects,M=0;M<d.length;++M)if(d[M]===o){d.splice(M,1),this.setDirty();break}},m.addOverlay=function(o){this.overlays.indexOf(o)<0&&(this.overlays.push(o),this.setOverlayDirty())},m.removeOverlay=function(o){for(var d=this.overlays,M=0;M<d.length;++M)if(d[M]===o){d.splice(M,1),this.setOverlayDirty();break}};function h(o){var d=o.gl,M=r(d,[d.drawingBufferWidth,d.drawingBufferHeight]),T=new u(d,M);return T.grid=s(T),T.text=n(T),T.line=l(T),T.box=f(T),T.update(o),T}},4296:function(v,p,t){v.exports=m;var r=t(8161),s=t(1152),n=t(6145),l=t(6475),f=t(2565),u=t(5233);function m(c,w){c=c||document.body,w=w||{};var h=[.01,1/0];"distanceLimits"in w&&(h[0]=w.distanceLimits[0],h[1]=w.distanceLimits[1]),"zoomMin"in w&&(h[0]=w.zoomMin),"zoomMax"in w&&(h[1]=w.zoomMax);var o=s({center:w.center||[0,0,0],up:w.up||[0,1,0],eye:w.eye||[0,0,10],mode:w.mode||"orbit",distanceLimits:h}),d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],M=0,T=c.clientWidth,E=c.clientHeight,x={keyBindingMode:"rotate",enableWheel:!0,view:o,element:c,delay:w.delay||16,rotateSpeed:w.rotateSpeed||1,zoomSpeed:w.zoomSpeed||1,translateSpeed:w.translateSpeed||1,flipX:!!w.flipX,flipY:!!w.flipY,modes:o.modes,_ortho:w._ortho||w.projection&&w.projection.type==="orthographic"||!1,tick:function(){var S=r(),b=this.delay,a=S-2*b;o.idle(S-b),o.recalcMatrix(a),o.flush(S-(100+b*2));for(var C=!0,y=o.computedMatrix,z=0;z<16;++z)C=C&&d[z]===y[z],d[z]=y[z];var I=c.clientWidth===T&&c.clientHeight===E;return T=c.clientWidth,E=c.clientHeight,C?!I:(M=Math.exp(o.computedRadius[0]),!0)},lookAt:function(S,b,a){o.lookAt(o.lastT(),S,b,a)},rotate:function(S,b,a){o.rotate(o.lastT(),S,b,a)},pan:function(S,b,a){o.pan(o.lastT(),S,b,a)},translate:function(S,b,a){o.translate(o.lastT(),S,b,a)}};return Object.defineProperties(x,{matrix:{get:function(){return o.computedMatrix},set:function(S){return o.setMatrix(o.lastT(),S),o.computedMatrix},enumerable:!0},mode:{get:function(){return o.getMode()},set:function(S){var b=o.computedUp.slice(),a=o.computedEye.slice(),C=o.computedCenter.slice();if(o.setMode(S),S==="turntable"){var y=r();o._active.lookAt(y,a,C,b),o._active.lookAt(y+500,a,C,[0,0,1]),o._active.flush(y)}return o.getMode()},enumerable:!0},center:{get:function(){return o.computedCenter},set:function(S){return o.lookAt(o.lastT(),null,S),o.computedCenter},enumerable:!0},eye:{get:function(){return o.computedEye},set:function(S){return o.lookAt(o.lastT(),S),o.computedEye},enumerable:!0},up:{get:function(){return o.computedUp},set:function(S){return o.lookAt(o.lastT(),null,null,S),o.computedUp},enumerable:!0},distance:{get:function(){return M},set:function(S){return o.setDistance(o.lastT(),S),S},enumerable:!0},distanceLimits:{get:function(){return o.getDistanceLimits(h)},set:function(S){return o.setDistanceLimits(S),S},enumerable:!0}}),c.addEventListener("contextmenu",function(S){return S.preventDefault(),!1}),x._lastX=-1,x._lastY=-1,x._lastMods={shift:!1,control:!1,alt:!1,meta:!1},x.enableMouseListeners=function(){x.mouseListener=n(c,S),c.addEventListener("touchstart",function(b){var a=f(b.changedTouches[0],c);S(0,a[0],a[1],x._lastMods),S(1,a[0],a[1],x._lastMods)},u?{passive:!0}:!1),c.addEventListener("touchmove",function(b){var a=f(b.changedTouches[0],c);S(1,a[0],a[1],x._lastMods),b.preventDefault()},u?{passive:!1}:!1),c.addEventListener("touchend",function(b){S(0,x._lastX,x._lastY,x._lastMods)},u?{passive:!0}:!1);function S(b,a,C,y){var z=x.keyBindingMode;if(z!==!1){var I=z==="rotate",B=z==="pan",F=z==="zoom",O=!!y.control,N=!!y.alt,_=!!y.shift,U=!!(b&1),Y=!!(b&2),K=!!(b&4),re=1/c.clientHeight,ae=re*(a-x._lastX),fe=re*(C-x._lastY),Q=x.flipX?1:-1,j=x.flipY?1:-1,X=Math.PI*x.rotateSpeed,J=r();if(x._lastX!==-1&&x._lastY!==-1&&((I&&U&&!O&&!N&&!_||U&&!O&&!N&&_)&&o.rotate(J,Q*X*ae,-j*X*fe,0),(B&&U&&!O&&!N&&!_||Y||U&&O&&!N&&!_)&&o.pan(J,-x.translateSpeed*ae*M,x.translateSpeed*fe*M,0),F&&U&&!O&&!N&&!_||K||U&&!O&&N&&!_)){var ee=-x.zoomSpeed*fe/window.innerHeight*(J-o.lastT())*100;o.pan(J,0,0,M*(Math.exp(ee)-1))}return x._lastX=a,x._lastY=C,x._lastMods=y,!0}}x.wheelListener=l(c,function(b,a){if(x.keyBindingMode!==!1&&x.enableWheel){var C=x.flipX?1:-1,y=x.flipY?1:-1,z=r();if(Math.abs(b)>Math.abs(a))o.rotate(z,0,0,-b*C*Math.PI*x.rotateSpeed/window.innerWidth);else if(!x._ortho){var I=-x.zoomSpeed*y*a/window.innerHeight*(z-o.lastT())/20;o.pan(z,0,0,M*(Math.exp(I)-1))}}},!0)},x.enableMouseListeners(),x}},8245:function(v,p,t){var r=t(6832),s=t(5158),n=r([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),l=r([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);v.exports=function(f){return s(f,n,l,null,[{name:"position",type:"vec2"}])}},1059:function(v,p,t){var r=t(4296),s=t(7453),n=t(2771),l=t(6496),f=t(2611),u=t(4234),m=t(8126),c=t(6145),w=t(1120),h=t(5268),o=t(8245),d=t(2321)({tablet:!0,featureDetect:!0});v.exports={createScene:S,createCamera:r};function M(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function T(a,C){var y=null;try{y=a.getContext("webgl",C),y||(y=a.getContext("experimental-webgl",C))}catch{return null}return y}function E(a){var C=Math.round(Math.log(Math.abs(a))/Math.log(10));if(C<0){var y=Math.round(Math.pow(10,-C));return Math.ceil(a*y)/y}else if(C>0){var y=Math.round(Math.pow(10,C));return Math.ceil(a/y)*y}return Math.ceil(a)}function x(a){return typeof a=="boolean"?a:!0}function S(a){a=a||{},a.camera=a.camera||{};var C=a.canvas;if(!C)if(C=document.createElement("canvas"),a.container){var y=a.container;y.appendChild(C)}else document.body.appendChild(C);var z=a.gl;if(z||(a.glOptions&&(d=!!a.glOptions.preserveDrawingBuffer),z=T(C,a.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:d})),!z)throw new Error("webgl not supported");var I=a.bounds||[[-10,-10,-10],[10,10,10]],B=new M,F=u(z,z.drawingBufferWidth,z.drawingBufferHeight,{preferFloat:!d}),O=o(z),N=a.cameraObject&&a.cameraObject._ortho===!0||a.camera.projection&&a.camera.projection.type==="orthographic"||!1,_={eye:a.camera.eye||[2,0,0],center:a.camera.center||[0,0,0],up:a.camera.up||[0,1,0],zoomMin:a.camera.zoomMax||.1,zoomMax:a.camera.zoomMin||100,mode:a.camera.mode||"turntable",_ortho:N},U=a.axes||{},Y=s(z,U);Y.enable=!U.disable;var K=a.spikes||{},re=l(z,K),ae=[],fe=[],Q=[],j=[],X=!0,q=!0,J=new Array(16),ee=new Array(16),se={view:null,projection:J,model:ee,_ortho:!1},q=!0,$=[z.drawingBufferWidth,z.drawingBufferHeight],le=a.cameraObject||r(C,_),ie={gl:z,contextLost:!1,pixelRatio:a.pixelRatio||1,canvas:C,selection:B,camera:le,axes:Y,axesPixels:null,spikes:re,bounds:I,objects:ae,shape:$,aspect:a.aspectRatio||[1,1,1],pickRadius:a.pickRadius||10,zNear:a.zNear||.01,zFar:a.zFar||1e3,fovy:a.fovy||Math.PI/4,clearColor:a.clearColor||[0,0,0,0],autoResize:x(a.autoResize),autoBounds:x(a.autoBounds),autoScale:!!a.autoScale,autoCenter:x(a.autoCenter),clipToBounds:x(a.clipToBounds),snapToData:!!a.snapToData,onselect:a.onselect||null,onrender:a.onrender||null,onclick:a.onclick||null,cameraParams:se,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(He){this.aspect[0]=He.x,this.aspect[1]=He.y,this.aspect[2]=He.z,q=!0},setBounds:function(He,Ge){this.bounds[0][He]=Ge.min,this.bounds[1][He]=Ge.max},setClearColor:function(He){this.clearColor=He},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},ce=[z.drawingBufferWidth/ie.pixelRatio|0,z.drawingBufferHeight/ie.pixelRatio|0];function me(){if(!ie._stopped&&ie.autoResize){var He=C.parentNode,Ge=1,ke=1;He&&He!==document.body?(Ge=He.clientWidth,ke=He.clientHeight):(Ge=window.innerWidth,ke=window.innerHeight);var We=Math.ceil(Ge*ie.pixelRatio)|0,it=Math.ceil(ke*ie.pixelRatio)|0;if(We!==C.width||it!==C.height){C.width=We,C.height=it;var et=C.style;et.position=et.position||"absolute",et.left="0px",et.top="0px",et.width=Ge+"px",et.height=ke+"px",X=!0}}}ie.autoResize&&me(),window.addEventListener("resize",me);function Me(){for(var He=ae.length,Ge=j.length,ke=0;ke<Ge;++ke)Q[ke]=0;e:for(var ke=0;ke<He;++ke){var We=ae[ke],it=We.pickSlots;if(!it){fe[ke]=-1;continue}for(var et=0;et<Ge;++et)if(Q[et]+it<255){fe[ke]=et,We.setPickBase(Q[et]+1),Q[et]+=it;continue e}var tt=f(z,$);fe[ke]=Ge,j.push(tt),Q.push(it),We.setPickBase(1),Ge+=1}for(;Ge>0&&Q[Ge-1]===0;)Q.pop(),j.pop().dispose()}ie.update=function(He){ie._stopped||(X=!0,q=!0)},ie.add=function(He){ie._stopped||(He.axes=Y,ae.push(He),fe.push(-1),X=!0,q=!0,Me())},ie.remove=function(He){if(!ie._stopped){var Ge=ae.indexOf(He);Ge<0||(ae.splice(Ge,1),fe.pop(),X=!0,q=!0,Me())}},ie.dispose=function(){if(!ie._stopped&&(ie._stopped=!0,window.removeEventListener("resize",me),C.removeEventListener("webglcontextlost",we),ie.mouseListener.enabled=!1,!ie.contextLost)){Y.dispose(),re.dispose();for(var He=0;He<ae.length;++He)ae[He].dispose();F.dispose();for(var He=0;He<j.length;++He)j[He].dispose();O.dispose(),z=null,Y=null,re=null,ae=[]}},ie._mouseRotating=!1,ie._prevButtons=0,ie.enableMouseListeners=function(){ie.mouseListener=c(C,function(He,Ge,ke){if(!ie._stopped){var We=j.length,it=ae.length,et=B.object;B.distance=1/0,B.mouse[0]=Ge,B.mouse[1]=ke,B.object=null,B.screen=null,B.dataCoordinate=B.dataPosition=null;var tt=!1;if(He&&ie._prevButtons)ie._mouseRotating=!0;else{ie._mouseRotating&&(q=!0),ie._mouseRotating=!1;for(var at=0;at<We;++at){var ht=j[at].query(Ge,ce[1]-ke-1,ie.pickRadius);if(ht){if(ht.distance>B.distance)continue;for(var yt=0;yt<it;++yt){var gt=ae[yt];if(fe[yt]===at){var Et=gt.pick(ht);Et&&(B.buttons=He,B.screen=ht.coord,B.distance=ht.distance,B.object=gt,B.index=Et.distance,B.dataPosition=Et.position,B.dataCoordinate=Et.dataCoordinate,B.data=Et,tt=!0)}}}}}et&&et!==B.object&&(et.highlight&&et.highlight(null),X=!0),B.object&&(B.object.highlight&&B.object.highlight(B.data),X=!0),tt=tt||B.object!==et,tt&&ie.onselect&&ie.onselect(B),He&1&&!(ie._prevButtons&1)&&ie.onclick&&ie.onclick(B),ie._prevButtons=He}})};function we(){if(ie.contextLost)return!0;z.isContextLost()&&(ie.contextLost=!0,ie.mouseListener.enabled=!1,ie.selection.object=null,ie.oncontextloss&&ie.oncontextloss())}C.addEventListener("webglcontextlost",we);function Oe(){if(!we()){z.colorMask(!0,!0,!0,!0),z.depthMask(!0),z.disable(z.BLEND),z.enable(z.DEPTH_TEST),z.depthFunc(z.LEQUAL);for(var He=ae.length,Ge=j.length,ke=0;ke<Ge;++ke){var We=j[ke];We.shape=ce,We.begin();for(var it=0;it<He;++it)if(fe[it]===ke){var et=ae[it];et.drawPick&&(et.pixelRatio=1,et.drawPick(se))}We.end()}}}var Be=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Ce=[Be[0].slice(),Be[1].slice()];function xe(){if(!we()){me();var He=ie.camera.tick();se.view=ie.camera.matrix,X=X||He,q=q||He,Y.pixelRatio=ie.pixelRatio,re.pixelRatio=ie.pixelRatio;var Ge=ae.length,ke=Be[0],We=Be[1];ke[0]=ke[1]=ke[2]=1/0,We[0]=We[1]=We[2]=-1/0;for(var it=0;it<Ge;++it){var et=ae[it];et.pixelRatio=ie.pixelRatio,et.axes=ie.axes,X=X||!!et.dirty,q=q||!!et.dirty;var tt=et.bounds;if(tt)for(var at=tt[0],ht=tt[1],yt=0;yt<3;++yt)ke[yt]=Math.min(ke[yt],at[yt]),We[yt]=Math.max(We[yt],ht[yt])}var gt=ie.bounds;if(ie.autoBounds)for(var yt=0;yt<3;++yt){if(We[yt]<ke[yt])ke[yt]=-1,We[yt]=1;else{ke[yt]===We[yt]&&(ke[yt]-=1,We[yt]+=1);var Et=.05*(We[yt]-ke[yt]);ke[yt]=ke[yt]-Et,We[yt]=We[yt]+Et}gt[0][yt]=ke[yt],gt[1][yt]=We[yt]}for(var Ct=!1,yt=0;yt<3;++yt)Ct=Ct||Ce[0][yt]!==gt[0][yt]||Ce[1][yt]!==gt[1][yt],Ce[0][yt]=gt[0][yt],Ce[1][yt]=gt[1][yt];if(q=q||Ct,X=X||Ct,!!X){if(Ct){for(var Vt=[0,0,0],it=0;it<3;++it)Vt[it]=E((gt[1][it]-gt[0][it])/10);Y.autoTicks?Y.update({bounds:gt,tickSpacing:Vt}):Y.update({bounds:gt})}var Qe=z.drawingBufferWidth,Fe=z.drawingBufferHeight;$[0]=Qe,$[1]=Fe,ce[0]=Math.max(Qe/ie.pixelRatio,1)|0,ce[1]=Math.max(Fe/ie.pixelRatio,1)|0,b(ie,N);for(var it=0;it<Ge;++it){var et=ae[it];et.axesBounds=gt,ie.clipToBounds&&(et.clipBounds=gt)}B.object&&(ie.snapToData?re.position=B.dataCoordinate:re.position=B.dataPosition,re.bounds=gt),q&&(q=!1,Oe()),ie.axesPixels=n(ie.axes,se,Qe,Fe),ie.onrender&&ie.onrender(),z.bindFramebuffer(z.FRAMEBUFFER,null),z.viewport(0,0,Qe,Fe),ie.clearRGBA(),z.depthMask(!0),z.colorMask(!0,!0,!0,!0),z.enable(z.DEPTH_TEST),z.depthFunc(z.LEQUAL),z.disable(z.BLEND),z.disable(z.CULL_FACE);var Ie=!1;Y.enable&&(Ie=Ie||Y.isTransparent(),Y.draw(se)),re.axes=Y,B.object&&re.draw(se),z.disable(z.CULL_FACE);for(var it=0;it<Ge;++it){var et=ae[it];et.axes=Y,et.pixelRatio=ie.pixelRatio,et.isOpaque&&et.isOpaque()&&et.draw(se),et.isTransparent&&et.isTransparent()&&(Ie=!0)}if(Ie){F.shape=$,F.bind(),z.clear(z.DEPTH_BUFFER_BIT),z.colorMask(!1,!1,!1,!1),z.depthMask(!0),z.depthFunc(z.LESS),Y.enable&&Y.isTransparent()&&Y.drawTransparent(se);for(var it=0;it<Ge;++it){var et=ae[it];et.isOpaque&&et.isOpaque()&&et.draw(se)}z.enable(z.BLEND),z.blendEquation(z.FUNC_ADD),z.blendFunc(z.ONE,z.ONE_MINUS_SRC_ALPHA),z.colorMask(!0,!0,!0,!0),z.depthMask(!1),z.clearColor(0,0,0,0),z.clear(z.COLOR_BUFFER_BIT),Y.isTransparent()&&Y.drawTransparent(se);for(var it=0;it<Ge;++it){var et=ae[it];et.isTransparent&&et.isTransparent()&&et.drawTransparent(se)}z.bindFramebuffer(z.FRAMEBUFFER,null),z.blendFunc(z.ONE,z.ONE_MINUS_SRC_ALPHA),z.disable(z.DEPTH_TEST),O.bind(),F.color[0].bind(0),O.uniforms.accumBuffer=0,m(z),z.disable(z.BLEND)}X=!1;for(var it=0;it<Ge;++it)ae[it].dirty=!1}}}function Se(){ie._stopped||ie.contextLost||(xe(),requestAnimationFrame(Se))}return ie.enableMouseListeners(),Se(),ie.redraw=function(){ie._stopped||(X=!0,xe())},ie}function b(a,C){var y=a.bounds,z=a.cameraParams,I=z.projection,B=z.model,F=a.gl.drawingBufferWidth,O=a.gl.drawingBufferHeight,N=a.zNear,_=a.zFar,U=a.fovy,Y=F/O;C?(h(I,-Y,Y,-1,1,N,_),z._ortho=!0):(w(I,U,Y,N,_),z._ortho=!1);for(var K=0;K<16;++K)B[K]=0;B[15]=1;for(var re=0,K=0;K<3;++K)re=Math.max(re,y[1][K]-y[0][K]);for(var K=0;K<3;++K)a.autoScale?B[5*K]=a.aspect[K]/(y[1][K]-y[0][K]):B[5*K]=1/re,a.autoCenter&&(B[12+K]=-B[5*K]*.5*(y[0][K]+y[1][K]))}},8023:function(v,p,t){var r=t(6832);p.pointVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),p.pointFragment=r([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),p.pickVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),p.pickFragment=r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(v,p,t){var r=t(5158),s=t(5827),n=t(5306),l=t(8023);v.exports=c;function f(w,h,o,d,M){this.plot=w,this.offsetBuffer=h,this.pickBuffer=o,this.shader=d,this.pickShader=M,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var u=f.prototype;u.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},u.update=function(w){var h;w=w||{};function o(b,a){return b in w?w[b]:a}this.sizeMin=o("sizeMin",.5),this.sizeMax=o("sizeMax",20),this.color=o("color",[1,0,0,1]).slice(),this.areaRatio=o("areaRatio",1),this.borderColor=o("borderColor",[0,0,0,1]).slice(),this.blend=o("blend",!1);var d=w.positions.length>>>1,M=w.positions instanceof Float32Array,T=w.idToIndex instanceof Int32Array&&w.idToIndex.length>=d,E=w.positions,x=M?E:n.mallocFloat32(E.length),S=T?w.idToIndex:n.mallocInt32(d);if(M||x.set(E),!T)for(x.set(E),h=0;h<d;h++)S[h]=h;this.points=E,this.offsetBuffer.update(x),this.pickBuffer.update(S),M||n.free(x),T||n.free(S),this.pointCount=d,this.pickOffset=0};function m(w,h){var o=0,d=w.length>>>1,M;for(M=0;M<d;M++){var T=w[M*2],E=w[M*2+1];T>=h[0]&&T<=h[2]&&E>=h[1]&&E<=h[3]&&o++}return o}u.unifiedDraw=function(){var w=[1,0,0,0,1,0,0,0,1],h=[0,0,0,0];return function(o){var d=o!==void 0,M=d?this.pickShader:this.shader,T=this.plot.gl,E=this.plot.dataBox;if(this.pointCount===0)return o;var x=E[2]-E[0],S=E[3]-E[1],b=m(this.points,E),a=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(b,.33333)));w[0]=2/x,w[4]=2/S,w[6]=-2*E[0]/x-1,w[7]=-2*E[1]/S-1,this.offsetBuffer.bind(),M.bind(),M.attributes.position.pointer(),M.uniforms.matrix=w,M.uniforms.color=this.color,M.uniforms.borderColor=this.borderColor,M.uniforms.pointCloud=a<5,M.uniforms.pointSize=a,M.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),d&&(h[0]=o&255,h[1]=o>>8&255,h[2]=o>>16&255,h[3]=o>>24&255,this.pickBuffer.bind(),M.attributes.pickId.pointer(T.UNSIGNED_BYTE),M.uniforms.pickOffset=h,this.pickOffset=o);var C=T.getParameter(T.BLEND),y=T.getParameter(T.DITHER);return C&&!this.blend&&T.disable(T.BLEND),y&&T.disable(T.DITHER),T.drawArrays(T.POINTS,0,this.pointCount),C&&!this.blend&&T.enable(T.BLEND),y&&T.enable(T.DITHER),o+this.pointCount}}(),u.draw=u.unifiedDraw,u.drawPick=u.unifiedDraw,u.pick=function(w,h,o){var d=this.pickOffset,M=this.pointCount;if(o<d||o>=d+M)return null;var T=o-d,E=this.points;return{object:this,pointId:T,dataCoord:[E[2*T],E[2*T+1]]}};function c(w,h){var o=w.gl,d=s(o),M=s(o),T=r(o,l.pointVertex,l.pointFragment),E=r(o,l.pickVertex,l.pickFragment),x=new f(w,d,M,T,E);return x.update(h),w.addObject(x),x}},6093:function(v){v.exports=p;function p(t,r,s,n){var l=r[0],f=r[1],u=r[2],m=r[3],c=s[0],w=s[1],h=s[2],o=s[3],d,M,T,E,x;return M=l*c+f*w+u*h+m*o,M<0&&(M=-M,c=-c,w=-w,h=-h,o=-o),1-M>1e-6?(d=Math.acos(M),T=Math.sin(d),E=Math.sin((1-n)*d)/T,x=Math.sin(n*d)/T):(E=1-n,x=n),t[0]=E*l+x*c,t[1]=E*f+x*w,t[2]=E*u+x*h,t[3]=E*m+x*o,t}},8240:function(v){v.exports=function(p){return!p&&p!==0?"":p.toString()}},4123:function(v,p,t){var r=t(875);v.exports=n;var s={};function n(l,f,u){var m=s[f];if(m||(m=s[f]={}),l in m)return m[l];var c={textAlign:"center",textBaseline:"middle",lineHeight:1,font:f,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};c.triangles=!0;var w=r(l,c);c.triangles=!1;var h=r(l,c),o,d;if(u&&u!==1){for(o=0;o<w.positions.length;++o)for(d=0;d<w.positions[o].length;++d)w.positions[o][d]/=u;for(o=0;o<h.positions.length;++o)for(d=0;d<h.positions[o].length;++d)h.positions[o][d]/=u}var M=[[1/0,1/0],[-1/0,-1/0]],T=h.positions.length;for(o=0;o<T;++o){var E=h.positions[o];for(d=0;d<2;++d)M[0][d]=Math.min(M[0][d],E[d]),M[1][d]=Math.max(M[1][d],E[d])}return m[l]=[w,h,M]}},9282:function(v,p,t){var r=t(5158),s=t(6832),n=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),l=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),f=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),u=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),m=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],w={vertex:n,fragment:u,attributes:c},h={vertex:l,fragment:u,attributes:c},o={vertex:f,fragment:u,attributes:c},d={vertex:n,fragment:m,attributes:c},M={vertex:l,fragment:m,attributes:c},T={vertex:f,fragment:m,attributes:c};function E(x,S){var b=r(x,S),a=b.attributes;return a.position.location=0,a.color.location=1,a.glyph.location=2,a.id.location=3,b}p.createPerspective=function(x){return E(x,w)},p.createOrtho=function(x){return E(x,h)},p.createProject=function(x){return E(x,o)},p.createPickPerspective=function(x){return E(x,d)},p.createPickOrtho=function(x){return E(x,M)},p.createPickProject=function(x){return E(x,T)}},2182:function(v,p,t){var r=t(3596),s=t(5827),n=t(2944),l=t(5306),f=t(104),u=t(9282),m=t(4123),c=t(8240),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];v.exports=fe;function h(Q,j){var X=Q[0],J=Q[1],ee=Q[2],se=Q[3];return Q[0]=j[0]*X+j[4]*J+j[8]*ee+j[12]*se,Q[1]=j[1]*X+j[5]*J+j[9]*ee+j[13]*se,Q[2]=j[2]*X+j[6]*J+j[10]*ee+j[14]*se,Q[3]=j[3]*X+j[7]*J+j[11]*ee+j[15]*se,Q}function o(Q,j,X,J){return h(J,J),h(J,J),h(J,J)}function d(Q,j){this.index=Q,this.dataCoordinate=this.position=j}function M(Q){return Q===!0||Q>1?1:Q}function T(Q,j,X,J,ee,se,q,$,le,ie,ce,me){this.gl=Q,this.pixelRatio=1,this.shader=j,this.orthoShader=X,this.projectShader=J,this.pointBuffer=ee,this.colorBuffer=se,this.glyphBuffer=q,this.idBuffer=$,this.vao=le,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=ie,this.pickOrthoShader=ce,this.pickProjectShader=me,this.points=[],this._selectResult=new d(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var E=T.prototype;E.pickSlots=1,E.setPickBase=function(Q){this.pickId=Q},E.isTransparent=function(){if(this.hasAlpha)return!0;for(var Q=0;Q<3;++Q)if(this.axesProject[Q]&&this.projectHasAlpha)return!0;return!1},E.isOpaque=function(){if(!this.hasAlpha)return!0;for(var Q=0;Q<3;++Q)if(this.axesProject[Q]&&!this.projectHasAlpha)return!0;return!1};var x=[0,0],S=[0,0,0],b=[0,0,0],a=[0,0,0,1],C=[0,0,0,1],y=w.slice(),z=[0,0,0],I=[[0,0,0],[0,0,0]];function B(Q){return Q[0]=Q[1]=Q[2]=0,Q}function F(Q,j){return Q[0]=j[0],Q[1]=j[1],Q[2]=j[2],Q[3]=1,Q}function O(Q,j,X,J){return Q[0]=j[0],Q[1]=j[1],Q[2]=j[2],Q[X]=J,Q}function N(Q){for(var j=I,X=0;X<2;++X)for(var J=0;J<3;++J)j[X][J]=Math.max(Math.min(Q[X][J],1e8),-1e8);return j}function _(Q,j,X,J){var ee=j.axesProject,se=j.gl,q=Q.uniforms,$=X.model||w,le=X.view||w,ie=X.projection||w,ce=j.axesBounds,me=N(j.clipBounds),Me;j.axes&&j.axes.lastCubeProps?Me=j.axes.lastCubeProps.axis:Me=[1,1,1],x[0]=2/se.drawingBufferWidth,x[1]=2/se.drawingBufferHeight,Q.bind(),q.view=le,q.projection=ie,q.screenSize=x,q.highlightId=j.highlightId,q.highlightScale=j.highlightScale,q.clipBounds=me,q.pickGroup=j.pickId/255,q.pixelRatio=J;for(var we=0;we<3;++we)if(ee[we]){q.scale=j.projectScale[we],q.opacity=j.projectOpacity[we];for(var Oe=y,Be=0;Be<16;++Be)Oe[Be]=0;for(var Be=0;Be<4;++Be)Oe[5*Be]=1;Oe[5*we]=0,Me[we]<0?Oe[12+we]=ce[0][we]:Oe[12+we]=ce[1][we],f(Oe,$,Oe),q.model=Oe;var Ce=(we+1)%3,xe=(we+2)%3,Se=B(S),He=B(b);Se[Ce]=1,He[xe]=1;var Ge=o(ie,le,$,F(a,Se)),ke=o(ie,le,$,F(C,He));if(Math.abs(Ge[1])>Math.abs(ke[1])){var We=Ge;Ge=ke,ke=We,We=Se,Se=He,He=We;var it=Ce;Ce=xe,xe=it}Ge[0]<0&&(Se[Ce]=-1),ke[1]>0&&(He[xe]=-1);for(var et=0,tt=0,Be=0;Be<4;++Be)et+=Math.pow($[4*Ce+Be],2),tt+=Math.pow($[4*xe+Be],2);Se[Ce]/=Math.sqrt(et),He[xe]/=Math.sqrt(tt),q.axes[0]=Se,q.axes[1]=He,q.fragClipBounds[0]=O(z,me[0],we,-1e8),q.fragClipBounds[1]=O(z,me[1],we,1e8),j.vao.bind(),j.vao.draw(se.TRIANGLES,j.vertexCount),j.lineWidth>0&&(se.lineWidth(j.lineWidth*J),j.vao.draw(se.LINES,j.lineVertexCount,j.vertexCount)),j.vao.unbind()}}var U=[-1e8,-1e8,-1e8],Y=[1e8,1e8,1e8],K=[U,Y];function re(Q,j,X,J,ee,se,q){var $=X.gl;if((se===X.projectHasAlpha||q)&&_(j,X,J,ee),se===X.hasAlpha||q){Q.bind();var le=Q.uniforms;le.model=J.model||w,le.view=J.view||w,le.projection=J.projection||w,x[0]=2/$.drawingBufferWidth,x[1]=2/$.drawingBufferHeight,le.screenSize=x,le.highlightId=X.highlightId,le.highlightScale=X.highlightScale,le.fragClipBounds=K,le.clipBounds=X.axes.bounds,le.opacity=X.opacity,le.pickGroup=X.pickId/255,le.pixelRatio=ee,X.vao.bind(),X.vao.draw($.TRIANGLES,X.vertexCount),X.lineWidth>0&&($.lineWidth(X.lineWidth*ee),X.vao.draw($.LINES,X.lineVertexCount,X.vertexCount)),X.vao.unbind()}}E.draw=function(Q){var j=this.useOrtho?this.orthoShader:this.shader;re(j,this.projectShader,this,Q,this.pixelRatio,!1,!1)},E.drawTransparent=function(Q){var j=this.useOrtho?this.orthoShader:this.shader;re(j,this.projectShader,this,Q,this.pixelRatio,!0,!1)},E.drawPick=function(Q){var j=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;re(j,this.pickProjectShader,this,Q,1,!0,!0)},E.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;var j=Q.value[2]+(Q.value[1]<<8)+(Q.value[0]<<16);if(j>=this.pointCount||j<0)return null;var X=this.points[j],J=this._selectResult;J.index=j;for(var ee=0;ee<3;++ee)J.position[ee]=J.dataCoordinate[ee]=X[ee];return J},E.highlight=function(Q){if(!Q)this.highlightId=[1,1,1,1];else{var j=Q.index,X=j&255,J=j>>8&255,ee=j>>16&255;this.highlightId=[X/255,J/255,ee/255,0]}};function ae(Q,j,X,J){var ee;Array.isArray(Q)?j<Q.length?ee=Q[j]:ee=void 0:ee=Q,ee=c(ee);var se=!0;r(ee)&&(ee="",se=!1);var q=m(ee,X,J);return{mesh:q[0],lines:q[1],bounds:q[2],visible:se}}E.update=function(Q){if(Q=Q||{},"perspective"in Q&&(this.useOrtho=!Q.perspective),"orthographic"in Q&&(this.useOrtho=!!Q.orthographic),"lineWidth"in Q&&(this.lineWidth=Q.lineWidth),"project"in Q)if(Array.isArray(Q.project))this.axesProject=Q.project;else{var j=!!Q.project;this.axesProject=[j,j,j]}if("projectScale"in Q)if(Array.isArray(Q.projectScale))this.projectScale=Q.projectScale.slice();else{var X=+Q.projectScale;this.projectScale=[X,X,X]}if(this.projectHasAlpha=!1,"projectOpacity"in Q){if(Array.isArray(Q.projectOpacity))this.projectOpacity=Q.projectOpacity.slice();else{var X=+Q.projectOpacity;this.projectOpacity=[X,X,X]}for(var J=0;J<3;++J)this.projectOpacity[J]=M(this.projectOpacity[J]),this.projectOpacity[J]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in Q&&(this.opacity=M(Q.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var ee=Q.position,se=Q.font||"normal",q=Q.alignment||[0,0],$,le;if(q.length===2)$=q[0],le=q[1];else{$=[],le=[];for(var J=0;J<q.length;++J)$[J]=q[J][0],le[J]=q[J][1]}var ie=[1/0,1/0,1/0],ce=[-1/0,-1/0,-1/0],me=Q.glyph,Me=Q.color,we=Q.size,Oe=Q.angle,Be=Q.lineColor,Ce=-1,xe=0,Se=0,He=0;if(ee.length){He=ee.length;e:for(var J=0;J<He;++J){for(var Ge=ee[J],ke=0;ke<3;++ke)if(isNaN(Ge[ke])||!isFinite(Ge[ke]))continue e;var We=ae(me,J,se,this.pixelRatio),it=We.mesh,et=We.lines,tt=We.bounds;xe+=it.cells.length*3,Se+=et.edges.length*2}}var at=xe+Se,ht=l.mallocFloat(3*at),yt=l.mallocFloat(4*at),gt=l.mallocFloat(2*at),Et=l.mallocUint32(at);if(at>0){var Ct=0,Vt=xe,Qe=[0,0,0,1],Fe=[0,0,0,1],Ie=Array.isArray(Me)&&Array.isArray(Me[0]),ze=Array.isArray(Be)&&Array.isArray(Be[0]);e:for(var J=0;J<He;++J){Ce+=1;for(var Ge=ee[J],ke=0;ke<3;++ke){if(isNaN(Ge[ke])||!isFinite(Ge[ke]))continue e;ce[ke]=Math.max(ce[ke],Ge[ke]),ie[ke]=Math.min(ie[ke],Ge[ke])}var We=ae(me,J,se,this.pixelRatio),it=We.mesh,et=We.lines,tt=We.bounds,Re=We.visible;if(!Re)Qe=[1,1,1,0];else if(Array.isArray(Me)){var be;if(Ie?J<Me.length?be=Me[J]:be=[0,0,0,0]:be=Me,be.length===3){for(var ke=0;ke<3;++ke)Qe[ke]=be[ke];Qe[3]=1}else if(be.length===4){for(var ke=0;ke<4;++ke)Qe[ke]=be[ke];!this.hasAlpha&&be[3]<1&&(this.hasAlpha=!0)}}else Qe[0]=Qe[1]=Qe[2]=0,Qe[3]=1;if(!Re)Fe=[1,1,1,0];else if(Array.isArray(Be)){var be;if(ze?J<Be.length?be=Be[J]:be=[0,0,0,0]:be=Be,be.length===3){for(var ke=0;ke<3;++ke)Fe[ke]=be[ke];Fe[ke]=1}else if(be.length===4){for(var ke=0;ke<4;++ke)Fe[ke]=be[ke];!this.hasAlpha&&be[3]<1&&(this.hasAlpha=!0)}}else Fe[0]=Fe[1]=Fe[2]=0,Fe[3]=1;var ye=.5;Re?Array.isArray(we)?J<we.length?ye=+we[J]:ye=12:we?ye=+we:this.useOrtho&&(ye=12):ye=0;var Ae=0;Array.isArray(Oe)?J<Oe.length?Ae=+Oe[J]:Ae=0:Oe&&(Ae=+Oe);for(var Ee=Math.cos(Ae),Ne=Math.sin(Ae),Ge=ee[J],ke=0;ke<3;++ke)ce[ke]=Math.max(ce[ke],Ge[ke]),ie[ke]=Math.min(ie[ke],Ge[ke]);var Je=$,qe=le,Je=0;Array.isArray($)?J<$.length?Je=$[J]:Je=0:$&&(Je=$);var qe=0;Array.isArray(le)?J<le.length?qe=le[J]:qe=0:le&&(qe=le),Je*=Je>0?1-tt[0][0]:Je<0?1+tt[1][0]:1,qe*=qe>0?1-tt[0][1]:qe<0?1+tt[1][1]:1;for(var vt=[Je,qe],zt=it.cells||[],Jt=it.positions||[],ke=0;ke<zt.length;++ke)for(var bt=zt[ke],Wt=0;Wt<3;++Wt){for(var qt=0;qt<3;++qt)ht[3*Ct+qt]=Ge[qt];for(var qt=0;qt<4;++qt)yt[4*Ct+qt]=Qe[qt];Et[Ct]=Ce;var At=Jt[bt[Wt]];gt[2*Ct]=ye*(Ee*At[0]-Ne*At[1]+vt[0]),gt[2*Ct+1]=ye*(Ne*At[0]+Ee*At[1]+vt[1]),Ct+=1}for(var zt=et.edges,Jt=et.positions,ke=0;ke<zt.length;++ke)for(var bt=zt[ke],Wt=0;Wt<2;++Wt){for(var qt=0;qt<3;++qt)ht[3*Vt+qt]=Ge[qt];for(var qt=0;qt<4;++qt)yt[4*Vt+qt]=Fe[qt];Et[Vt]=Ce;var At=Jt[bt[Wt]];gt[2*Vt]=ye*(Ee*At[0]-Ne*At[1]+vt[0]),gt[2*Vt+1]=ye*(Ne*At[0]+Ee*At[1]+vt[1]),Vt+=1}}}this.bounds=[ie,ce],this.points=ee,this.pointCount=ee.length,this.vertexCount=xe,this.lineVertexCount=Se,this.pointBuffer.update(ht),this.colorBuffer.update(yt),this.glyphBuffer.update(gt),this.idBuffer.update(Et),l.free(ht),l.free(yt),l.free(gt),l.free(Et)},E.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function fe(Q){var j=Q.gl,X=u.createPerspective(j),J=u.createOrtho(j),ee=u.createProject(j),se=u.createPickPerspective(j),q=u.createPickOrtho(j),$=u.createPickProject(j),le=s(j),ie=s(j),ce=s(j),me=s(j),Me=n(j,[{buffer:le,size:3,type:j.FLOAT},{buffer:ie,size:4,type:j.FLOAT},{buffer:ce,size:2,type:j.FLOAT},{buffer:me,size:4,type:j.UNSIGNED_BYTE,normalized:!0}]),we=new T(j,X,J,ee,le,ie,ce,me,Me,se,q,$);return we.update(Q),we}},1884:function(v,p,t){var r=t(6832);p.boxVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),p.boxFragment=r([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(v,p,t){var r=t(5158),s=t(5827),n=t(1884);v.exports=u;function l(m,c,w){this.plot=m,this.boxBuffer=c,this.boxShader=w,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var f=l.prototype;f.draw=function(){if(this.enabled){var m=this.plot,c=this.selectBox,w=this.borderWidth;this.innerFill;var h=this.innerColor;this.outerFill;var o=this.outerColor,d=this.borderColor,M=m.box,T=m.screenBox,E=m.dataBox,x=m.viewBox,S=m.pixelRatio,b=(c[0]-E[0])*(x[2]-x[0])/(E[2]-E[0])+x[0],a=(c[1]-E[1])*(x[3]-x[1])/(E[3]-E[1])+x[1],C=(c[2]-E[0])*(x[2]-x[0])/(E[2]-E[0])+x[0],y=(c[3]-E[1])*(x[3]-x[1])/(E[3]-E[1])+x[1];if(b=Math.max(b,x[0]),a=Math.max(a,x[1]),C=Math.min(C,x[2]),y=Math.min(y,x[3]),!(C<b||y<a)){M.bind();var z=T[2]-T[0],I=T[3]-T[1];if(this.outerFill&&(M.drawBox(0,0,z,a,o),M.drawBox(0,a,b,y,o),M.drawBox(0,y,z,I,o),M.drawBox(C,a,z,y,o)),this.innerFill&&M.drawBox(b,a,C,y,h),w>0){var B=w*S;M.drawBox(b-B,a-B,C+B,a+B,d),M.drawBox(b-B,y-B,C+B,y+B,d),M.drawBox(b-B,a-B,b+B,y+B,d),M.drawBox(C-B,a-B,C+B,y+B,d)}}}},f.update=function(m){m=m||{},this.innerFill=!!m.innerFill,this.outerFill=!!m.outerFill,this.innerColor=(m.innerColor||[0,0,0,.5]).slice(),this.outerColor=(m.outerColor||[0,0,0,.5]).slice(),this.borderColor=(m.borderColor||[0,0,0,1]).slice(),this.borderWidth=m.borderWidth||0,this.selectBox=(m.selectBox||this.selectBox).slice()},f.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function u(m,c){var w=m.gl,h=s(w,[0,0,0,1,1,0,1,1]),o=r(w,n.boxVertex,n.boxFragment),d=new l(m,h,o);return d.update(c),m.addOverlay(d),d}},2611:function(v,p,t){v.exports=w;var r=t(4234),s=t(5306),n=t(5050),l=t(2288).nextPow2,f=function(h,o,d){for(var M=1e8,T=-1,E=-1,x=h.shape[0],S=h.shape[1],b=0;b<x;b++)for(var a=0;a<S;a++){var C=h.get(b,a,0),y=h.get(b,a,1),z=h.get(b,a,2),I=h.get(b,a,3);if(C<255||y<255||z<255||I<255){var B=o-b,F=d-a,O=B*B+F*F;O<M&&(M=O,T=b,E=a)}}return[T,E,M]};function u(h,o,d,M,T){this.coord=[h,o],this.id=d,this.value=M,this.distance=T}function m(h,o,d){this.gl=h,this.fbo=o,this.buffer=d,this._readTimeout=null;var M=this;this._readCallback=function(){M.gl&&(o.bind(),h.readPixels(0,0,o.shape[0],o.shape[1],h.RGBA,h.UNSIGNED_BYTE,M.buffer),M._readTimeout=null)}}var c=m.prototype;Object.defineProperty(c,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(h){if(this.gl){this.fbo.shape=h;var o=this.fbo.shape[0],d=this.fbo.shape[1];if(d*o*4>this.buffer.length){s.free(this.buffer);for(var M=this.buffer=s.mallocUint8(l(d*o*4)),T=0;T<d*o*4;++T)M[T]=255}return h}}}),c.begin=function(){var h=this.gl;this.shape,h&&(this.fbo.bind(),h.clearColor(1,1,1,1),h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT))},c.end=function(){var h=this.gl;h&&(h.bindFramebuffer(h.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},c.query=function(h,o,d){if(!this.gl)return null;var M=this.fbo.shape.slice();h=h|0,o=o|0,typeof d!="number"&&(d=1);var T=Math.min(Math.max(h-d,0),M[0])|0,E=Math.min(Math.max(h+d,0),M[0])|0,x=Math.min(Math.max(o-d,0),M[1])|0,S=Math.min(Math.max(o+d,0),M[1])|0;if(E<=T||S<=x)return null;var b=[E-T,S-x],a=n(this.buffer,[b[0],b[1],4],[4,M[0]*4,1],4*(T+M[0]*x)),C=f(a.hi(b[0],b[1],1),d,d),y=C[0],z=C[1];if(y<0||Math.pow(this.radius,2)<C[2])return null;var I=a.get(y,z,0),B=a.get(y,z,1),F=a.get(y,z,2),O=a.get(y,z,3);return new u(y+T|0,z+x|0,I,[B,F,O],Math.sqrt(C[2]))},c.dispose=function(){this.gl&&(this.fbo.dispose(),s.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function w(h,o){var d=o[0],M=o[1],T={},E=r(h,d,M,T),x=s.mallocUint8(d*M*4);return new m(h,E,x)}},5158:function(v,p,t){var r=t(9016),s=t(4280),n=t(3984),l=t(1628),f=t(2631),u=t(9068);function m(o){this.gl=o,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=m.prototype;c.bind=function(){this.program||this._relink();var o,d=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),M=this.gl.lastAttribCount;if(d>M)for(o=M;o<d;o++)this.gl.enableVertexAttribArray(o);else if(M>d)for(o=d;o<M;o++)this.gl.disableVertexAttribArray(o);this.gl.lastAttribCount=d,this.gl.useProgram(this.program)},c.dispose=function(){for(var o=this.gl.lastAttribCount,d=0;d<o;d++)this.gl.disableVertexAttribArray(d);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function w(o,d){return o.name<d.name?-1:1}c.update=function(o,d,M,T){if(!d||arguments.length===1){var E=o;o=E.vertex,d=E.fragment,M=E.uniforms,T=E.attributes}var x=this,S=x.gl,b=x._vref;x._vref=l.shader(S,S.VERTEX_SHADER,o),b&&b.dispose(),x.vertShader=x._vref.shader;var a=this._fref;if(x._fref=l.shader(S,S.FRAGMENT_SHADER,d),a&&a.dispose(),x.fragShader=x._fref.shader,!M||!T){var C=S.createProgram();if(S.attachShader(C,x.fragShader),S.attachShader(C,x.vertShader),S.linkProgram(C),!S.getProgramParameter(C,S.LINK_STATUS)){var y=S.getProgramInfoLog(C);throw new u(y,"Error linking program:"+y)}M=M||f.uniforms(S,C),T=T||f.attributes(S,C),S.deleteProgram(C)}T=T.slice(),T.sort(w);var z=[],I=[],B=[],F;for(F=0;F<T.length;++F){var O=T[F];if(O.type.indexOf("mat")>=0){for(var N=O.type.charAt(O.type.length-1)|0,_=new Array(N),U=0;U<N;++U)_[U]=B.length,I.push(O.name+"["+U+"]"),typeof O.location=="number"?B.push(O.location+U):Array.isArray(O.location)&&O.location.length===N&&typeof O.location[U]=="number"?B.push(O.location[U]|0):B.push(-1);z.push({name:O.name,type:O.type,locations:_})}else z.push({name:O.name,type:O.type,locations:[B.length]}),I.push(O.name),typeof O.location=="number"?B.push(O.location|0):B.push(-1)}var Y=0;for(F=0;F<B.length;++F)if(B[F]<0){for(;B.indexOf(Y)>=0;)Y+=1;B[F]=Y}var K=new Array(M.length);function re(){x.program=l.program(S,x._vref,x._fref,I,B);for(var ae=0;ae<M.length;++ae)K[ae]=S.getUniformLocation(x.program,M[ae].name)}re(),x._relink=re,x.types={uniforms:n(M),attributes:n(T)},x.attributes=s(S,x,z,B),Object.defineProperty(x,"uniforms",r(S,x,M,K))};function h(o,d,M,T,E){var x=new m(o);return x.update(d,M,T,E),x}v.exports=h},9068:function(v){function p(t,r,s){this.shortMessage=r||"",this.longMessage=s||"",this.rawError=t||"",this.message="gl-shader: "+(r||t||"")+(s?`
`+s:""),this.stack=new Error().stack}p.prototype=new Error,p.prototype.name="GLError",p.prototype.constructor=p,v.exports=p},4280:function(v,p,t){v.exports=m;var r=t(9068);function s(c,w,h,o,d,M){this._gl=c,this._wrapper=w,this._index=h,this._locations=o,this._dimension=d,this._constFunc=M}var n=s.prototype;n.pointer=function(w,h,o,d){var M=this,T=M._gl,E=M._locations[M._index];T.vertexAttribPointer(E,M._dimension,w||T.FLOAT,!!h,o||0,d||0),T.enableVertexAttribArray(E)},n.set=function(c,w,h,o){return this._constFunc(this._locations[this._index],c,w,h,o)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(c){return c!==this._locations[this._index]&&(this._locations[this._index]=c|0,this._wrapper.program=null),c|0}});var l=[function(c,w,h){return h.length===void 0?c.vertexAttrib1f(w,h):c.vertexAttrib1fv(w,h)},function(c,w,h,o){return h.length===void 0?c.vertexAttrib2f(w,h,o):c.vertexAttrib2fv(w,h)},function(c,w,h,o,d){return h.length===void 0?c.vertexAttrib3f(w,h,o,d):c.vertexAttrib3fv(w,h)},function(c,w,h,o,d,M){return h.length===void 0?c.vertexAttrib4f(w,h,o,d,M):c.vertexAttrib4fv(w,h)}];function f(c,w,h,o,d,M,T){var E=l[d],x=new s(c,w,h,o,d,E);Object.defineProperty(M,T,{set:function(S){return c.disableVertexAttribArray(o[h]),E(c,o[h],S),S},get:function(){return x},enumerable:!0})}function u(c,w,h,o,d,M,T){for(var E=new Array(d),x=new Array(d),S=0;S<d;++S)f(c,w,h[S],o,d,E,S),x[S]=E[S];Object.defineProperty(E,"location",{set:function(C){if(Array.isArray(C))for(var y=0;y<d;++y)x[y].location=C[y];else for(var y=0;y<d;++y)x[y].location=C+y;return C},get:function(){for(var C=new Array(d),y=0;y<d;++y)C[y]=o[h[y]];return C},enumerable:!0}),E.pointer=function(C,y,z,I){C=C||c.FLOAT,y=!!y,z=z||d*d,I=I||0;for(var B=0;B<d;++B){var F=o[h[B]];c.vertexAttribPointer(F,d,C,y,z,I+B*d),c.enableVertexAttribArray(F)}};var b=new Array(d),a=c["vertexAttrib"+d+"fv"];Object.defineProperty(M,T,{set:function(C){for(var y=0;y<d;++y){var z=o[h[y]];if(c.disableVertexAttribArray(z),Array.isArray(C[0]))a.call(c,z,C[y]);else{for(var I=0;I<d;++I)b[I]=C[d*y+I];a.call(c,z,b)}}return C},get:function(){return E},enumerable:!0})}function m(c,w,h,o){for(var d={},M=0,T=h.length;M<T;++M){var E=h[M],x=E.name,S=E.type,b=E.locations;switch(S){case"bool":case"int":case"float":f(c,w,b[0],o,1,d,x);break;default:if(S.indexOf("vec")>=0){var a=S.charCodeAt(S.length-1)-48;if(a<2||a>4)throw new r("","Invalid data type for attribute "+x+": "+S);f(c,w,b[0],o,a,d,x)}else if(S.indexOf("mat")>=0){var a=S.charCodeAt(S.length-1)-48;if(a<2||a>4)throw new r("","Invalid data type for attribute "+x+": "+S);u(c,w,b,o,a,d,x)}else throw new r("","Unknown data type for attribute "+x+": "+S);break}}return d}},9016:function(v,p,t){var r=t(3984),s=t(9068);v.exports=f;function n(u){return function(){return u}}function l(u,m){for(var c=new Array(u),w=0;w<u;++w)c[w]=m;return c}function f(u,m,c,w){function h(S){return function(b,a,C){return b.getUniform(a.program,C[S])}}function o(S){return function(a){for(var C=d("",S),y=0;y<C.length;++y){var z=C[y],I=z[0],B=z[1];if(w[B]){var F=a;if(typeof I=="string"&&(I.indexOf(".")===0||I.indexOf("[")===0)){var O=I;if(I.indexOf(".")===0&&(O=I.slice(1)),O.indexOf("]")===O.length-1){var N=O.indexOf("["),_=O.slice(0,N),U=O.slice(N+1,O.length-1);F=_?a[_][U]:a[U]}else F=a[O]}var Y=c[B].type,K;switch(Y){case"bool":case"int":case"sampler2D":case"samplerCube":u.uniform1i(w[B],F);break;case"float":u.uniform1f(w[B],F);break;default:var re=Y.indexOf("vec");if(0<=re&&re<=1&&Y.length===4+re){if(K=Y.charCodeAt(Y.length-1)-48,K<2||K>4)throw new s("","Invalid data type");switch(Y.charAt(0)){case"b":case"i":u["uniform"+K+"iv"](w[B],F);break;case"v":u["uniform"+K+"fv"](w[B],F);break;default:throw new s("","Unrecognized data type for vector "+name+": "+Y)}}else if(Y.indexOf("mat")===0&&Y.length===4){if(K=Y.charCodeAt(Y.length-1)-48,K<2||K>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+Y);u["uniformMatrix"+K+"fv"](w[B],!1,F);break}else throw new s("","Unknown uniform data type for "+name+": "+Y)}}}}}function d(S,b){if(typeof b!="object")return[[S,b]];var a=[];for(var C in b){var y=b[C],z=S;parseInt(C)+""===C?z+="["+C+"]":z+="."+C,typeof y=="object"?a.push.apply(a,d(z,y)):a.push([z,y])}return a}function M(S){switch(S){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var b=S.indexOf("vec");if(0<=b&&b<=1&&S.length===4+b){var a=S.charCodeAt(S.length-1)-48;if(a<2||a>4)throw new s("","Invalid data type");return S.charAt(0)==="b"?l(a,!1):l(a,0)}else if(S.indexOf("mat")===0&&S.length===4){var a=S.charCodeAt(S.length-1)-48;if(a<2||a>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+S);return l(a*a,0)}else throw new s("","Unknown uniform data type for "+name+": "+S)}}function T(S,b,a){if(typeof a=="object"){var C=E(a);Object.defineProperty(S,b,{get:n(C),set:o(a),enumerable:!0,configurable:!1})}else w[a]?Object.defineProperty(S,b,{get:h(a),set:o(a),enumerable:!0,configurable:!1}):S[b]=M(c[a].type)}function E(S){var b;if(Array.isArray(S)){b=new Array(S.length);for(var a=0;a<S.length;++a)T(b,a,S[a])}else{b={};for(var C in S)T(b,C,S[C])}return b}var x=r(c,!0);return{get:n(E(x)),set:o(x),enumerable:!0,configurable:!0}}},3984:function(v){v.exports=p;function p(t,r){for(var s={},n=0;n<t.length;++n)for(var l=t[n].name,f=l.split("."),u=s,m=0;m<f.length;++m){var c=f[m].split("[");if(c.length>1){c[0]in u||(u[c[0]]=[]),u=u[c[0]];for(var w=1;w<c.length;++w){var h=parseInt(c[w]);w<c.length-1||m<f.length-1?(h in u||(w<c.length-1?u[h]=[]:u[h]={}),u=u[h]):r?u[h]=n:u[h]=t[n].type}}else m<f.length-1?(c[0]in u||(u[c[0]]={}),u=u[c[0]]):r?u[c[0]]=n:u[c[0]]=t[n].type}return s}},2631:function(v,p){p.uniforms=n,p.attributes=l;var t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},r=null;function s(f,u){if(!r){var m=Object.keys(t);r={};for(var c=0;c<m.length;++c){var w=m[c];r[f[w]]=t[w]}}return r[u]}function n(f,u){for(var m=f.getProgramParameter(u,f.ACTIVE_UNIFORMS),c=[],w=0;w<m;++w){var h=f.getActiveUniform(u,w);if(h){var o=s(f,h.type);if(h.size>1)for(var d=0;d<h.size;++d)c.push({name:h.name.replace("[0]","["+d+"]"),type:o});else c.push({name:h.name,type:o})}}return c}function l(f,u){for(var m=f.getProgramParameter(u,f.ACTIVE_ATTRIBUTES),c=[],w=0;w<m;++w){var h=f.getActiveAttrib(u,w);h&&c.push({name:h.name,type:s(f,h.type)})}return c}},1628:function(v,p,t){p.shader=d,p.program=M;var r=t(9068),s=t(3530),n=typeof WeakMap>"u"?t(4037):WeakMap,l=new n,f=0;function u(T,E,x,S,b,a,C){this.id=T,this.src=E,this.type=x,this.shader=S,this.count=a,this.programs=[],this.cache=C}u.prototype.dispose=function(){if(--this.count===0){for(var T=this.cache,E=T.gl,x=this.programs,S=0,b=x.length;S<b;++S){var a=T.programs[x[S]];a&&(delete T.programs[S],E.deleteProgram(a))}E.deleteShader(this.shader),delete T.shaders[this.type===E.FRAGMENT_SHADER|0][this.src]}};function m(T){this.gl=T,this.shaders=[{},{}],this.programs={}}var c=m.prototype;function w(T,E,x){var S=T.createShader(E);if(T.shaderSource(S,x),T.compileShader(S),!T.getShaderParameter(S,T.COMPILE_STATUS)){var b=T.getShaderInfoLog(S);try{var a=s(b,x,E)}catch(C){throw console.warn("Failed to format compiler error: "+C),new r(b,`Error compiling shader:
`+b)}throw new r(b,a.short,a.long)}return S}c.getShaderReference=function(T,E){var x=this.gl,S=this.shaders[T===x.FRAGMENT_SHADER|0],b=S[E];if(!b||!x.isShader(b.shader)){var a=w(x,T,E);b=S[E]=new u(f++,E,T,a,[],1,this)}else b.count+=1;return b};function h(T,E,x,S,b){var a=T.createProgram();T.attachShader(a,E),T.attachShader(a,x);for(var C=0;C<S.length;++C)T.bindAttribLocation(a,b[C],S[C]);if(T.linkProgram(a),!T.getProgramParameter(a,T.LINK_STATUS)){var y=T.getProgramInfoLog(a);throw new r(y,"Error linking program: "+y)}return a}c.getProgram=function(T,E,x,S){var b=[T.id,E.id,x.join(":"),S.join(":")].join("@"),a=this.programs[b];return(!a||!this.gl.isProgram(a))&&(this.programs[b]=a=h(this.gl,T.shader,E.shader,x,S),T.programs.push(b),E.programs.push(b)),a};function o(T){var E=l.get(T);return E||(E=new m(T),l.set(T,E)),E}function d(T,E,x){return o(T).getShaderReference(E,x)}function M(T,E,x,S,b){return o(T).getProgram(E,x,S,b)}},3050:function(v){v.exports=r;function p(s){this.plot=s,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var t=p.prototype;t.update=function(s){s=s||{},this.enable=(s.enable||[!0,!0,!1,!1]).slice(),this.width=(s.width||[1,1,1,1]).slice(),this.color=(s.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(s.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},t.draw=function(){var s=this.enable,n=this.width,l=this.color,f=this.center,u=this.plot,m=u.line,c=u.dataBox,w=u.viewBox;if(m.bind(),c[0]<=f[0]&&f[0]<=c[2]&&c[1]<=f[1]&&f[1]<=c[3]){var h=w[0]+(f[0]-c[0])/(c[2]-c[0])*(w[2]-w[0]),o=w[1]+(f[1]-c[1])/(c[3]-c[1])*(w[3]-w[1]);s[0]&&m.drawLine(h,o,w[0],o,n[0],l[0]),s[1]&&m.drawLine(h,o,h,w[1],n[1],l[1]),s[2]&&m.drawLine(h,o,w[2],o,n[2],l[2]),s[3]&&m.drawLine(h,o,h,w[3],n[3],l[3])}},t.dispose=function(){this.plot.removeOverlay(this)};function r(s,n){var l=new p(s);return l.update(n),s.addOverlay(l),l}},3540:function(v,p,t){var r=t(6832),s=t(5158),n=r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),l=r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);v.exports=function(f){return s(f,n,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(v,p,t){var r=t(5827),s=t(2944),n=t(3540);v.exports=h;var l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(o,d,M,T){this.gl=o,this.buffer=d,this.vao=M,this.shader=T,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var u=f.prototype,m=[0,0,0],c=[0,0,0],w=[0,0];u.isTransparent=function(){return!1},u.drawTransparent=function(o){},u.draw=function(o){var d=this.gl,M=this.vao,T=this.shader;M.bind(),T.bind();var E=o.model||l,x=o.view||l,S=o.projection||l,b;this.axes&&(b=this.axes.lastCubeProps.axis);for(var a=m,C=c,y=0;y<3;++y)b&&b[y]<0?(a[y]=this.bounds[0][y],C[y]=this.bounds[1][y]):(a[y]=this.bounds[1][y],C[y]=this.bounds[0][y]);w[0]=d.drawingBufferWidth,w[1]=d.drawingBufferHeight,T.uniforms.model=E,T.uniforms.view=x,T.uniforms.projection=S,T.uniforms.coordinates=[this.position,a,C],T.uniforms.colors=this.colors,T.uniforms.screenShape=w;for(var y=0;y<3;++y)T.uniforms.lineWidth=this.lineWidth[y]*this.pixelRatio,this.enabled[y]&&(M.draw(d.TRIANGLES,6,6*y),this.drawSides[y]&&M.draw(d.TRIANGLES,12,18+12*y));M.unbind()},u.update=function(o){o&&("bounds"in o&&(this.bounds=o.bounds),"position"in o&&(this.position=o.position),"lineWidth"in o&&(this.lineWidth=o.lineWidth),"colors"in o&&(this.colors=o.colors),"enabled"in o&&(this.enabled=o.enabled),"drawSides"in o&&(this.drawSides=o.drawSides))},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function h(o,d){var M=[];function T(a,C,y,z,I,B){var F=[a,C,y,0,0,0,1];F[z+3]=1,F[z]=I,M.push.apply(M,F),F[6]=-1,M.push.apply(M,F),F[z]=B,M.push.apply(M,F),M.push.apply(M,F),F[6]=1,M.push.apply(M,F),F[z]=I,M.push.apply(M,F)}T(0,0,0,0,0,1),T(0,0,0,1,0,1),T(0,0,0,2,0,1),T(1,0,0,1,-1,1),T(1,0,0,2,-1,1),T(0,1,0,0,-1,1),T(0,1,0,2,-1,1),T(0,0,1,0,-1,1),T(0,0,1,1,-1,1);var E=r(o,M),x=s(o,[{type:o.FLOAT,buffer:E,size:3,offset:0,stride:28},{type:o.FLOAT,buffer:E,size:3,offset:12,stride:28},{type:o.FLOAT,buffer:E,size:1,offset:24,stride:28}]),S=n(o);S.attributes.position.location=0,S.attributes.color.location=1,S.attributes.weight.location=2;var b=new f(o,E,x,S);return b.update(d),b}},9578:function(v,p,t){var r=t(6832),s=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),l=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),f=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:s,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},p.pickShader={vertex:l,fragment:f,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(v,p,t){var r=t(2858),s=t(4020),n=["xyz","xzy","yxz","yzx","zxy","zyx"],l=function(M,T,E,x){for(var S=M.points,b=M.velocities,a=M.divergences,C=[],y=[],z=[],I=[],B=[],F=[],O=0,N=0,_=s.create(),U=s.create(),Y=8,K=0;K<S.length;K++){var re=S[K],ae=b[K],fe=a[K];T===0&&(fe=E*.05),N=r.length(ae)/x,_=s.create(),r.copy(_,ae),_[3]=fe;for(var Q=0;Q<Y;Q++)B[Q]=[re[0],re[1],re[2],Q];if(I.length>0)for(var Q=0;Q<Y;Q++){var j=(Q+1)%Y;C.push(I[Q],B[Q],B[j],B[j],I[j],I[Q]),z.push(U,_,_,_,U,U),F.push(O,N,N,N,O,O);var X=C.length;y.push([X-6,X-5,X-4],[X-3,X-2,X-1])}var J=I;I=B,B=J;var ee=U;U=_,_=ee;var se=O;O=N,N=se}return{positions:C,cells:y,vectors:z,vertexIntensity:F}},f=function(M,T,E,x){for(var S=0,b=0;b<M.length;b++)for(var a=M[b].velocities,C=0;C<a.length;C++)S=Math.max(S,r.length(a[C]));for(var y=M.map(function(K){return l(K,E,x,S)}),z=[],I=[],B=[],F=[],b=0;b<y.length;b++){var O=y[b],N=z.length;z=z.concat(O.positions),B=B.concat(O.vectors),F=F.concat(O.vertexIntensity);for(var C=0;C<O.cells.length;C++){var _=O.cells[C],U=[];I.push(U);for(var Y=0;Y<_.length;Y++)U.push(_[Y]+N)}}return{positions:z,cells:I,vectors:B,vertexIntensity:F,colormap:T}},u=function(M,T){var E=M.length,x;for(x=0;x<E;x++){var S=M[x];if(S===T)return x;if(S>T)return x-1}return x},m=function(M,T,E){return M<T?T:M>E?E:M},c=function(M,T,E){var x=T.vectors,S=T.meshgrid,b=M[0],a=M[1],C=M[2],y=S[0].length,z=S[1].length,I=S[2].length,B=u(S[0],b),F=u(S[1],a),O=u(S[2],C),N=B+1,_=F+1,U=O+1;if(B=m(B,0,y-1),N=m(N,0,y-1),F=m(F,0,z-1),_=m(_,0,z-1),O=m(O,0,I-1),U=m(U,0,I-1),B<0||F<0||O<0||N>y-1||_>z-1||U>I-1)return r.create();var Y=S[0][B],K=S[0][N],re=S[1][F],ae=S[1][_],fe=S[2][O],Q=S[2][U],j=(b-Y)/(K-Y),X=(a-re)/(ae-re),J=(C-fe)/(Q-fe);isFinite(j)||(j=.5),isFinite(X)||(X=.5),isFinite(J)||(J=.5);var ee,se,q,$,le,ie;switch(E.reversedX&&(B=y-1-B,N=y-1-N),E.reversedY&&(F=z-1-F,_=z-1-_),E.reversedZ&&(O=I-1-O,U=I-1-U),E.filled){case 5:le=O,ie=U,q=F*I,$=_*I,ee=B*I*z,se=N*I*z;break;case 4:le=O,ie=U,ee=B*I,se=N*I,q=F*I*y,$=_*I*y;break;case 3:q=F,$=_,le=O*z,ie=U*z,ee=B*z*I,se=N*z*I;break;case 2:q=F,$=_,ee=B*z,se=N*z,le=O*z*y,ie=U*z*y;break;case 1:ee=B,se=N,le=O*y,ie=U*y,q=F*y*I,$=_*y*I;break;default:ee=B,se=N,q=F*y,$=_*y,le=O*y*z,ie=U*y*z;break}var ce=x[ee+q+le],me=x[ee+q+ie],Me=x[ee+$+le],we=x[ee+$+ie],Oe=x[se+q+le],Be=x[se+q+ie],Ce=x[se+$+le],xe=x[se+$+ie],Se=r.create(),He=r.create(),Ge=r.create(),ke=r.create();r.lerp(Se,ce,Oe,j),r.lerp(He,me,Be,j),r.lerp(Ge,Me,Ce,j),r.lerp(ke,we,xe,j);var We=r.create(),it=r.create();r.lerp(We,Se,Ge,X),r.lerp(it,He,ke,X);var et=r.create();return r.lerp(et,We,it,J),et},w=function(M){var T=1/0;M.sort(function(b,a){return b-a});for(var E=M.length,x=1;x<E;x++){var S=Math.abs(M[x]-M[x-1]);S<T&&(T=S)}return T},h=function(M){for(var T=[],E=[],x=[],S={},b={},a={},C=M.length,y=0;y<C;y++){var z=M[y],I=z[0],B=z[1],F=z[2];S[I]||(T.push(I),S[I]=!0),b[B]||(E.push(B),b[B]=!0),a[F]||(x.push(F),a[F]=!0)}var O=w(T),N=w(E),_=w(x),U=Math.min(O,N,_);return isFinite(U)?U:1};v.exports=function(M,T){var E=M.startingPositions,x=M.maxLength||1e3,S=M.tubeSize||1,b=M.absoluteTubeSize,a=M.gridFill||"+x+y+z",C={};a.indexOf("-x")!==-1&&(C.reversedX=!0),a.indexOf("-y")!==-1&&(C.reversedY=!0),a.indexOf("-z")!==-1&&(C.reversedZ=!0),C.filled=n.indexOf(a.replace(/-/g,"").replace(/\+/g,""));var y=M.getVelocity||function(Be){return c(Be,M,C)},z=M.getDivergence||function(Be,Ce){var xe=r.create(),Se=1e-4;r.add(xe,Be,[Se,0,0]);var He=y(xe);r.subtract(He,He,Ce),r.scale(He,He,1/Se),r.add(xe,Be,[0,Se,0]);var Ge=y(xe);r.subtract(Ge,Ge,Ce),r.scale(Ge,Ge,1/Se),r.add(xe,Be,[0,0,Se]);var ke=y(xe);return r.subtract(ke,ke,Ce),r.scale(ke,ke,1/Se),r.add(xe,He,Ge),r.add(xe,xe,ke),xe},I=[],B=T[0][0],F=T[0][1],O=T[0][2],N=T[1][0],_=T[1][1],U=T[1][2],Y=function(Be){var Ce=Be[0],xe=Be[1],Se=Be[2];return!(Ce<B||Ce>N||xe<F||xe>_||Se<O||Se>U)},K=r.distance(T[0],T[1]),re=10*K/x,ae=re*re,fe=1,Q=0,j=E.length;j>1&&(fe=h(E));for(var X=0;X<j;X++){var J=r.create();r.copy(J,E[X]);var ee=[J],se=[],q=y(J),$=J;se.push(q);var le=[],ie=z(J,q),ce=r.length(ie);isFinite(ce)&&ce>Q&&(Q=ce),le.push(ce),I.push({points:ee,velocities:se,divergences:le});for(var me=0;me<x*100&&ee.length<x&&Y(J);){me++;var Me=r.clone(q),we=r.squaredLength(Me);if(we===0)break;if(we>ae&&r.scale(Me,Me,re/Math.sqrt(we)),r.add(Me,Me,J),q=y(Me),r.squaredDistance($,Me)-ae>-1e-4*ae){ee.push(Me),$=Me,se.push(q);var ie=z(Me,q),ce=r.length(ie);isFinite(ce)&&ce>Q&&(Q=ce),le.push(ce)}J=Me}}var Oe=f(I,M.colormap,Q,fe);return b?Oe.tubeScale=b:(Q===0&&(Q=1),Oe.tubeScale=S*.5*fe/Q),Oe};var o=t(9578),d=t(1140).createMesh;v.exports.createTubeMesh=function(M,T){return d(M,T,{shaders:o,traceType:"streamtube"})}},9054:function(v,p,t){var r=t(5158),s=t(6832),n=s([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),l=s([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color  in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),f=s([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),u=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);p.createShader=function(m){var c=r(m,n,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},p.createPickShader=function(m){var c=r(m,n,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},p.createContourShader=function(m){var c=r(m,f,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c},p.createPickContourShader=function(m){var c=r(m,f,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c}},3754:function(v,p,t){v.exports=se;var r=t(2288),s=t(5827),n=t(2944),l=t(8931),f=t(5306),u=t(9156),m=t(7498),c=t(7382),w=t(5050),h=t(4162),o=t(104),d=t(7437),M=t(5070),T=t(9144),E=t(9054),x=E.createShader,S=E.createContourShader,b=E.createPickShader,a=E.createPickContourShader,C=4*(4+3+3),y=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],z=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],I=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var q=0;q<3;++q){var $=I[q],le=(q+1)%3,ie=(q+2)%3;$[le+0]=1,$[ie+3]=1,$[q+6]=1}})();function B(q,$,le,ie,ce){this.position=q,this.index=$,this.uv=le,this.level=ie,this.dataCoordinate=ce}var F=256;function O(q,$,le,ie,ce,me,Me,we,Oe,Be,Ce,xe,Se,He,Ge){this.gl=q,this.shape=$,this.bounds=le,this.objectOffset=Ge,this.intensityBounds=[],this._shader=ie,this._pickShader=ce,this._coordinateBuffer=me,this._vao=Me,this._colorMap=we,this._contourShader=Oe,this._contourPickShader=Be,this._contourBuffer=Ce,this._contourVAO=xe,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new B([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Se,this._dynamicVAO=He,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[w(f.mallocFloat(1024),[0,0]),w(f.mallocFloat(1024),[0,0]),w(f.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var N=O.prototype;N.genColormap=function(q,$){var le=!1,ie=c([u({colormap:q,nshades:F,format:"rgba"}).map(function(ce,me){var Me=$?_(me/255,$):ce[3];return Me<1&&(le=!0),[ce[0],ce[1],ce[2],255*Me]})]);return m.divseq(ie,255),this.hasAlphaScale=le,ie},N.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},N.isOpaque=function(){return!this.isTransparent()},N.pickSlots=1,N.setPickBase=function(q){this.pickId=q};function _(q,$){if(!$||!$.length)return 1;for(var le=0;le<$.length;++le){if($.length<2)return 1;if($[le][0]===q)return $[le][1];if($[le][0]>q&&le>0){var ie=($[le][0]-q)/($[le][0]-$[le-1][0]);return $[le][1]*(1-ie)+ie*$[le-1][1]}}return 1}var U=[0,0,0],Y={showSurface:!1,showContour:!1,projections:[y.slice(),y.slice(),y.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function K(q,$){var le,ie,ce,me=$.axes&&$.axes.lastCubeProps.axis||U,Me=$.showSurface,we=$.showContour;for(le=0;le<3;++le)for(Me=Me||$.surfaceProject[le],ie=0;ie<3;++ie)we=we||$.contourProject[le][ie];for(le=0;le<3;++le){var Oe=Y.projections[le];for(ie=0;ie<16;++ie)Oe[ie]=0;for(ie=0;ie<4;++ie)Oe[5*ie]=1;Oe[5*le]=0,Oe[12+le]=$.axesBounds[+(me[le]>0)][le],o(Oe,q.model,Oe);var Be=Y.clipBounds[le];for(ce=0;ce<2;++ce)for(ie=0;ie<3;++ie)Be[ce][ie]=q.clipBounds[ce][ie];Be[0][le]=-1e8,Be[1][le]=1e8}return Y.showSurface=Me,Y.showContour=we,Y}var re={model:y,view:y,projection:y,inverseModel:y.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},ae=y.slice(),fe=[1,0,0,0,1,0,0,0,1];function Q(q,$){q=q||{};var le=this.gl;le.disable(le.CULL_FACE),this._colorMap.bind(0);var ie=re;ie.model=q.model||y,ie.view=q.view||y,ie.projection=q.projection||y,ie.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],ie.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],ie.objectOffset=this.objectOffset,ie.contourColor=this.contourColor[0],ie.inverseModel=d(ie.inverseModel,ie.model);for(var ce=0;ce<2;++ce)for(var me=ie.clipBounds[ce],Me=0;Me<3;++Me)me[Me]=Math.min(Math.max(this.clipBounds[ce][Me],-1e8),1e8);ie.kambient=this.ambientLight,ie.kdiffuse=this.diffuseLight,ie.kspecular=this.specularLight,ie.roughness=this.roughness,ie.fresnel=this.fresnel,ie.opacity=this.opacity,ie.height=0,ie.permutation=fe,ie.vertexColor=this.vertexColor;var we=ae;for(o(we,ie.view,ie.model),o(we,ie.projection,we),d(we,we),ce=0;ce<3;++ce)ie.eyePosition[ce]=we[12+ce]/we[15];var Oe=we[15];for(ce=0;ce<3;++ce)Oe+=this.lightPosition[ce]*we[4*ce+3];for(ce=0;ce<3;++ce){var Be=we[12+ce];for(Me=0;Me<3;++Me)Be+=we[4*Me+ce]*this.lightPosition[Me];ie.lightPosition[ce]=Be/Oe}var Ce=K(ie,this);if(Ce.showSurface){for(this._shader.bind(),this._shader.uniforms=ie,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(le.TRIANGLES,this._vertexCount),ce=0;ce<3;++ce)!this.surfaceProject[ce]||!this.vertexCount||(this._shader.uniforms.model=Ce.projections[ce],this._shader.uniforms.clipBounds=Ce.clipBounds[ce],this._vao.draw(le.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ce.showContour){var xe=this._contourShader;ie.kambient=1,ie.kdiffuse=0,ie.kspecular=0,ie.opacity=1,xe.bind(),xe.uniforms=ie;var Se=this._contourVAO;for(Se.bind(),ce=0;ce<3;++ce)for(xe.uniforms.permutation=I[ce],le.lineWidth(this.contourWidth[ce]*this.pixelRatio),Me=0;Me<this.contourLevels[ce].length;++Me)Me===this.highlightLevel[ce]?(xe.uniforms.contourColor=this.highlightColor[ce],xe.uniforms.contourTint=this.highlightTint[ce]):(Me===0||Me-1===this.highlightLevel[ce])&&(xe.uniforms.contourColor=this.contourColor[ce],xe.uniforms.contourTint=this.contourTint[ce]),this._contourCounts[ce][Me]&&(xe.uniforms.height=this.contourLevels[ce][Me],Se.draw(le.LINES,this._contourCounts[ce][Me],this._contourOffsets[ce][Me]));for(ce=0;ce<3;++ce)for(xe.uniforms.model=Ce.projections[ce],xe.uniforms.clipBounds=Ce.clipBounds[ce],Me=0;Me<3;++Me)if(this.contourProject[ce][Me]){xe.uniforms.permutation=I[Me],le.lineWidth(this.contourWidth[Me]*this.pixelRatio);for(var He=0;He<this.contourLevels[Me].length;++He)He===this.highlightLevel[Me]?(xe.uniforms.contourColor=this.highlightColor[Me],xe.uniforms.contourTint=this.highlightTint[Me]):(He===0||He-1===this.highlightLevel[Me])&&(xe.uniforms.contourColor=this.contourColor[Me],xe.uniforms.contourTint=this.contourTint[Me]),this._contourCounts[Me][He]&&(xe.uniforms.height=this.contourLevels[Me][He],Se.draw(le.LINES,this._contourCounts[Me][He],this._contourOffsets[Me][He]))}for(Se.unbind(),Se=this._dynamicVAO,Se.bind(),ce=0;ce<3;++ce)if(this._dynamicCounts[ce]!==0)for(xe.uniforms.model=ie.model,xe.uniforms.clipBounds=ie.clipBounds,xe.uniforms.permutation=I[ce],le.lineWidth(this.dynamicWidth[ce]*this.pixelRatio),xe.uniforms.contourColor=this.dynamicColor[ce],xe.uniforms.contourTint=this.dynamicTint[ce],xe.uniforms.height=this.dynamicLevel[ce],Se.draw(le.LINES,this._dynamicCounts[ce],this._dynamicOffsets[ce]),Me=0;Me<3;++Me)this.contourProject[Me][ce]&&(xe.uniforms.model=Ce.projections[Me],xe.uniforms.clipBounds=Ce.clipBounds[Me],Se.draw(le.LINES,this._dynamicCounts[ce],this._dynamicOffsets[ce]));Se.unbind()}}N.draw=function(q){return Q.call(this,q,!1)},N.drawTransparent=function(q){return Q.call(this,q,!0)};var j={model:y,view:y,projection:y,inverseModel:y,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};N.drawPick=function(q){q=q||{};var $=this.gl;$.disable($.CULL_FACE);var le=j;le.model=q.model||y,le.view=q.view||y,le.projection=q.projection||y,le.shape=this._field[2].shape,le.pickId=this.pickId/255,le.lowerBound=this.bounds[0],le.upperBound=this.bounds[1],le.objectOffset=this.objectOffset,le.permutation=fe;for(var ie=0;ie<2;++ie)for(var ce=le.clipBounds[ie],me=0;me<3;++me)ce[me]=Math.min(Math.max(this.clipBounds[ie][me],-1e8),1e8);var Me=K(le,this);if(Me.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=le,this._vao.bind(),this._vao.draw($.TRIANGLES,this._vertexCount),ie=0;ie<3;++ie)this.surfaceProject[ie]&&(this._pickShader.uniforms.model=Me.projections[ie],this._pickShader.uniforms.clipBounds=Me.clipBounds[ie],this._vao.draw($.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Me.showContour){var we=this._contourPickShader;we.bind(),we.uniforms=le;var Oe=this._contourVAO;for(Oe.bind(),me=0;me<3;++me)for($.lineWidth(this.contourWidth[me]*this.pixelRatio),we.uniforms.permutation=I[me],ie=0;ie<this.contourLevels[me].length;++ie)this._contourCounts[me][ie]&&(we.uniforms.height=this.contourLevels[me][ie],Oe.draw($.LINES,this._contourCounts[me][ie],this._contourOffsets[me][ie]));for(ie=0;ie<3;++ie)for(we.uniforms.model=Me.projections[ie],we.uniforms.clipBounds=Me.clipBounds[ie],me=0;me<3;++me)if(this.contourProject[ie][me]){we.uniforms.permutation=I[me],$.lineWidth(this.contourWidth[me]*this.pixelRatio);for(var Be=0;Be<this.contourLevels[me].length;++Be)this._contourCounts[me][Be]&&(we.uniforms.height=this.contourLevels[me][Be],Oe.draw($.LINES,this._contourCounts[me][Be],this._contourOffsets[me][Be]))}Oe.unbind()}},N.pick=function(q){if(!q||q.id!==this.pickId)return null;var $=this._field[2].shape,le=this._pickResult,ie=$[0]*(q.value[0]+(q.value[2]>>4)/16)/255,ce=Math.floor(ie),me=ie-ce,Me=$[1]*(q.value[1]+(q.value[2]&15)/16)/255,we=Math.floor(Me),Oe=Me-we;ce+=1,we+=1;var Be=le.position;Be[0]=Be[1]=Be[2]=0;for(var Ce=0;Ce<2;++Ce)for(var xe=Ce?me:1-me,Se=0;Se<2;++Se)for(var He=Se?Oe:1-Oe,Ge=ce+Ce,ke=we+Se,We=xe*He,it=0;it<3;++it)Be[it]+=this._field[it].get(Ge,ke)*We;for(var et=this._pickResult.level,tt=0;tt<3;++tt)if(et[tt]=M.le(this.contourLevels[tt],Be[tt]),et[tt]<0)this.contourLevels[tt].length>0&&(et[tt]=0);else if(et[tt]<this.contourLevels[tt].length-1){var at=this.contourLevels[tt][et[tt]],ht=this.contourLevels[tt][et[tt]+1];Math.abs(at-Be[tt])>Math.abs(ht-Be[tt])&&(et[tt]+=1)}for(le.index[0]=me<.5?ce:ce+1,le.index[1]=Oe<.5?we:we+1,le.uv[0]=ie/$[0],le.uv[1]=Me/$[1],it=0;it<3;++it)le.dataCoordinate[it]=this._field[it].get(le.index[0],le.index[1]);return le},N.padField=function(q,$){var le=$.shape.slice(),ie=q.shape.slice();m.assign(q.lo(1,1).hi(le[0],le[1]),$),m.assign(q.lo(1).hi(le[0],1),$.hi(le[0],1)),m.assign(q.lo(1,ie[1]-1).hi(le[0],1),$.lo(0,le[1]-1).hi(le[0],1)),m.assign(q.lo(0,1).hi(1,le[1]),$.hi(1)),m.assign(q.lo(ie[0]-1,1).hi(1,le[1]),$.lo(le[0]-1)),q.set(0,0,$.get(0,0)),q.set(0,ie[1]-1,$.get(0,le[1]-1)),q.set(ie[0]-1,0,$.get(le[0]-1,0)),q.set(ie[0]-1,ie[1]-1,$.get(le[0]-1,le[1]-1))};function X(q,$){return Array.isArray(q)?[$(q[0]),$(q[1]),$(q[2])]:[$(q),$(q),$(q)]}function J(q){return Array.isArray(q)?q.length===3?[q[0],q[1],q[2],1]:[q[0],q[1],q[2],q[3]]:[0,0,0,1]}function ee(q){if(Array.isArray(q)){if(Array.isArray(q))return[J(q[0]),J(q[1]),J(q[2])];var $=J(q);return[$.slice(),$.slice(),$.slice()]}}N.update=function(q){q=q||{},this.objectOffset=q.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in q&&(this.contourWidth=X(q.contourWidth,Number)),"showContour"in q&&(this.showContour=X(q.showContour,Boolean)),"showSurface"in q&&(this.showSurface=!!q.showSurface),"contourTint"in q&&(this.contourTint=X(q.contourTint,Boolean)),"contourColor"in q&&(this.contourColor=ee(q.contourColor)),"contourProject"in q&&(this.contourProject=X(q.contourProject,function(kt){return X(kt,Boolean)})),"surfaceProject"in q&&(this.surfaceProject=q.surfaceProject),"dynamicColor"in q&&(this.dynamicColor=ee(q.dynamicColor)),"dynamicTint"in q&&(this.dynamicTint=X(q.dynamicTint,Number)),"dynamicWidth"in q&&(this.dynamicWidth=X(q.dynamicWidth,Number)),"opacity"in q&&(this.opacity=q.opacity),"opacityscale"in q&&(this.opacityscale=q.opacityscale),"colorBounds"in q&&(this.colorBounds=q.colorBounds),"vertexColor"in q&&(this.vertexColor=q.vertexColor?1:0),"colormap"in q&&this._colorMap.setPixels(this.genColormap(q.colormap,this.opacityscale));var $=q.field||q.coords&&q.coords[2]||null,le=!1;if($||(this._field[2].shape[0]||this._field[2].shape[2]?$=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):$=this._field[2].hi(0,0)),"field"in q||"coords"in q){var ie=($.shape[0]+2)*($.shape[1]+2);ie>this._field[2].data.length&&(f.freeFloat(this._field[2].data),this._field[2].data=f.mallocFloat(r.nextPow2(ie))),this._field[2]=w(this._field[2].data,[$.shape[0]+2,$.shape[1]+2]),this.padField(this._field[2],$),this.shape=$.shape.slice();for(var ce=this.shape,me=0;me<2;++me)this._field[2].size>this._field[me].data.length&&(f.freeFloat(this._field[me].data),this._field[me].data=f.mallocFloat(this._field[2].size)),this._field[me]=w(this._field[me].data,[ce[0]+2,ce[1]+2]);if(q.coords){var Me=q.coords;if(!Array.isArray(Me)||Me.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(me=0;me<2;++me){var we=Me[me];for(Se=0;Se<2;++Se)if(we.shape[Se]!==ce[Se])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[me],we)}}else if(q.ticks){var Oe=q.ticks;if(!Array.isArray(Oe)||Oe.length!==2)throw new Error("gl-surface: invalid ticks");for(me=0;me<2;++me){var Be=Oe[me];if((Array.isArray(Be)||Be.length)&&(Be=w(Be)),Be.shape[0]!==ce[me])throw new Error("gl-surface: invalid tick length");var Ce=w(Be.data,ce);Ce.stride[me]=Be.stride[0],Ce.stride[me^1]=0,this.padField(this._field[me],Ce)}}else{for(me=0;me<2;++me){var xe=[0,0];xe[me]=1,this._field[me]=w(this._field[me].data,[ce[0]+2,ce[1]+2],xe,0)}this._field[0].set(0,0,0);for(var Se=0;Se<ce[0];++Se)this._field[0].set(Se+1,0,Se);for(this._field[0].set(ce[0]+1,0,ce[0]-1),this._field[1].set(0,0,0),Se=0;Se<ce[1];++Se)this._field[1].set(0,Se+1,Se);this._field[1].set(0,ce[1]+1,ce[1]-1)}var He=this._field,Ge=w(f.mallocFloat(He[2].size*3*2),[3,ce[0]+2,ce[1]+2,2]);for(me=0;me<3;++me)T(Ge.pick(me),He[me],"mirror");var ke=w(f.mallocFloat(He[2].size*3),[ce[0]+2,ce[1]+2,3]);for(me=0;me<ce[0]+2;++me)for(Se=0;Se<ce[1]+2;++Se){var We=Ge.get(0,me,Se,0),it=Ge.get(0,me,Se,1),et=Ge.get(1,me,Se,0),tt=Ge.get(1,me,Se,1),at=Ge.get(2,me,Se,0),ht=Ge.get(2,me,Se,1),yt=et*ht-tt*at,gt=at*it-ht*We,Et=We*tt-it*et,Ct=Math.sqrt(yt*yt+gt*gt+Et*Et);Ct<1e-8?(Ct=Math.max(Math.abs(yt),Math.abs(gt),Math.abs(Et)),Ct<1e-8?(Et=1,gt=yt=0,Ct=1):Ct=1/Ct):Ct=1/Math.sqrt(Ct),ke.set(me,Se,0,yt*Ct),ke.set(me,Se,1,gt*Ct),ke.set(me,Se,2,Et*Ct)}f.free(Ge.data);var Vt=[1/0,1/0,1/0],Qe=[-1/0,-1/0,-1/0],Fe=1/0,Ie=-1/0,ze=(ce[0]-1)*(ce[1]-1)*6,Re=f.mallocFloat(r.nextPow2(10*ze)),be=0,ye=0;for(me=0;me<ce[0]-1;++me)e:for(Se=0;Se<ce[1]-1;++Se){for(var Ae=0;Ae<2;++Ae)for(var Ee=0;Ee<2;++Ee)for(var Ne=0;Ne<3;++Ne){var Je=this._field[Ne].get(1+me+Ae,1+Se+Ee);if(isNaN(Je)||!isFinite(Je))continue e}for(Ne=0;Ne<6;++Ne){var qe=me+z[Ne][0],vt=Se+z[Ne][1],bt=this._field[0].get(qe+1,vt+1),Wt=this._field[1].get(qe+1,vt+1);Je=this._field[2].get(qe+1,vt+1),yt=ke.get(qe+1,vt+1,0),gt=ke.get(qe+1,vt+1,1),Et=ke.get(qe+1,vt+1,2),q.intensity&&(qt=q.intensity.get(qe,vt));var qt=q.intensity?q.intensity.get(qe,vt):Je+this.objectOffset[2];Re[be++]=qe,Re[be++]=vt,Re[be++]=bt,Re[be++]=Wt,Re[be++]=Je,Re[be++]=0,Re[be++]=qt,Re[be++]=yt,Re[be++]=gt,Re[be++]=Et,Vt[0]=Math.min(Vt[0],bt+this.objectOffset[0]),Vt[1]=Math.min(Vt[1],Wt+this.objectOffset[1]),Vt[2]=Math.min(Vt[2],Je+this.objectOffset[2]),Fe=Math.min(Fe,qt),Qe[0]=Math.max(Qe[0],bt+this.objectOffset[0]),Qe[1]=Math.max(Qe[1],Wt+this.objectOffset[1]),Qe[2]=Math.max(Qe[2],Je+this.objectOffset[2]),Ie=Math.max(Ie,qt),ye+=1}}for(q.intensityBounds&&(Fe=+q.intensityBounds[0],Ie=+q.intensityBounds[1]),me=6;me<be;me+=10)Re[me]=(Re[me]-Fe)/(Ie-Fe);this._vertexCount=ye,this._coordinateBuffer.update(Re.subarray(0,be)),f.freeFloat(Re),f.free(ke.data),this.bounds=[Vt,Qe],this.intensity=q.intensity||this._field[2],(this.intensityBounds[0]!==Fe||this.intensityBounds[1]!==Ie)&&(le=!0),this.intensityBounds=[Fe,Ie]}if("levels"in q){var At=q.levels;for(Array.isArray(At[0])?At=At.slice():At=[[],[],At],me=0;me<3;++me)At[me]=At[me].slice(),At[me].sort(function(kt,Yt){return kt-Yt});for(me=0;me<3;++me)for(Se=0;Se<At[me].length;++Se)At[me][Se]-=this.objectOffset[me];e:for(me=0;me<3;++me){if(At[me].length!==this.contourLevels[me].length){le=!0;break}for(Se=0;Se<At[me].length;++Se)if(At[me][Se]!==this.contourLevels[me][Se]){le=!0;break e}}this.contourLevels=At}if(le){He=this._field,ce=this.shape;for(var zt=[],Jt=0;Jt<3;++Jt){var Mr=this.contourLevels[Jt],pt=[],Zt=[],Kt=[0,0,0];for(me=0;me<Mr.length;++me){var mr=h(this._field[Jt],Mr[me]);pt.push(zt.length/5|0),ye=0;e:for(Se=0;Se<mr.cells.length;++Se){var ur=mr.cells[Se];for(Ne=0;Ne<2;++Ne){var dt=mr.positions[ur[Ne]],st=dt[0],xt=Math.floor(st)|0,Mt=st-xt,Dt=dt[1],Rt=Math.floor(Dt)|0,Nt=Dt-Rt,Bt=!1;t:for(var Xt=0;Xt<3;++Xt){Kt[Xt]=0;var lr=(Jt+Xt+1)%3;for(Ae=0;Ae<2;++Ae){var sr=Ae?Mt:1-Mt;for(qe=Math.min(Math.max(xt+Ae,0),ce[0])|0,Ee=0;Ee<2;++Ee){var dr=Ee?Nt:1-Nt;if(vt=Math.min(Math.max(Rt+Ee,0),ce[1])|0,Xt<2?Je=this._field[lr].get(qe,vt):Je=(this.intensity.get(qe,vt)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Je)||isNaN(Je)){Bt=!0;break t}var je=sr*dr;Kt[Xt]+=je*Je}}}if(!Bt)zt.push(Kt[0],Kt[1],dt[0],dt[1],Kt[2]),ye+=1;else{if(Ne>0){for(var Ye=0;Ye<5;++Ye)zt.pop();ye-=1}continue e}}}Zt.push(ye)}this._contourOffsets[Jt]=pt,this._contourCounts[Jt]=Zt}var It=f.mallocFloat(zt.length);for(me=0;me<zt.length;++me)It[me]=zt[me];this._contourBuffer.update(It),f.freeFloat(It)}},N.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var q=0;q<3;++q)f.freeFloat(this._field[q].data)},N.highlight=function(q){var $;if(!q){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for($=0;$<3;++$)this.enableHighlight[$]?this.highlightLevel[$]=q.level[$]:this.highlightLevel[$]=-1;var le;for(this.snapToData?le=q.dataCoordinate:le=q.position,$=0;$<3;++$)le[$]-=this.objectOffset[$];if(!((!this.enableDynamic[0]||le[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||le[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||le[2]===this.dynamicLevel[2]))){for(var ie=0,ce=this.shape,me=f.mallocFloat(12*ce[0]*ce[1]),Me=0;Me<3;++Me){if(!this.enableDynamic[Me]){this.dynamicLevel[Me]=NaN,this._dynamicCounts[Me]=0;continue}this.dynamicLevel[Me]=le[Me];var we=(Me+1)%3,Oe=(Me+2)%3,Be=this._field[Me],Ce=this._field[we],xe=this._field[Oe],Se=h(Be,le[Me]),He=Se.cells,Ge=Se.positions;for(this._dynamicOffsets[Me]=ie,$=0;$<He.length;++$)for(var ke=He[$],We=0;We<2;++We){var it=Ge[ke[We]],et=+it[0],tt=et|0,at=Math.min(tt+1,ce[0])|0,ht=et-tt,yt=1-ht,gt=+it[1],Et=gt|0,Ct=Math.min(Et+1,ce[1])|0,Vt=gt-Et,Qe=1-Vt,Fe=yt*Qe,Ie=yt*Vt,ze=ht*Qe,Re=ht*Vt,be=Fe*Ce.get(tt,Et)+Ie*Ce.get(tt,Ct)+ze*Ce.get(at,Et)+Re*Ce.get(at,Ct),ye=Fe*xe.get(tt,Et)+Ie*xe.get(tt,Ct)+ze*xe.get(at,Et)+Re*xe.get(at,Ct);if(isNaN(be)||isNaN(ye)){We&&(ie-=1);break}me[2*ie+0]=be,me[2*ie+1]=ye,ie+=1}this._dynamicCounts[Me]=ie-this._dynamicOffsets[Me]}this._dynamicBuffer.update(me.subarray(0,2*ie)),f.freeFloat(me)}};function se(q){var $=q.gl,le=x($),ie=b($),ce=S($),me=a($),Me=s($),we=n($,[{buffer:Me,size:4,stride:C,offset:0},{buffer:Me,size:3,stride:C,offset:16},{buffer:Me,size:3,stride:C,offset:28}]),Oe=s($),Be=n($,[{buffer:Oe,size:4,stride:20,offset:0},{buffer:Oe,size:1,stride:20,offset:16}]),Ce=s($),xe=n($,[{buffer:Ce,size:2,type:$.FLOAT}]),Se=l($,1,F,$.RGBA,$.UNSIGNED_BYTE);Se.minFilter=$.LINEAR,Se.magFilter=$.LINEAR;var He=new O($,[0,0],[[0,0,0],[0,0,0]],le,ie,Me,we,Se,ce,me,Oe,Be,Ce,xe,[0,0,0]),Ge={levels:[[],[],[]]};for(var ke in q)Ge[ke]=q[ke];return Ge.colormap=Ge.colormap||"jet",He.update(Ge),He}},8931:function(v,p,t){var r=t(5050),s=t(7498),n=t(5306);v.exports=a;var l=null,f=null,u=null;function m(C){l=[C.LINEAR,C.NEAREST_MIPMAP_LINEAR,C.LINEAR_MIPMAP_NEAREST,C.LINEAR_MIPMAP_NEAREST],f=[C.NEAREST,C.LINEAR,C.NEAREST_MIPMAP_NEAREST,C.NEAREST_MIPMAP_LINEAR,C.LINEAR_MIPMAP_NEAREST,C.LINEAR_MIPMAP_LINEAR],u=[C.REPEAT,C.CLAMP_TO_EDGE,C.MIRRORED_REPEAT]}function c(C){return typeof HTMLCanvasElement<"u"&&C instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&C instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&C instanceof HTMLVideoElement||typeof ImageData<"u"&&C instanceof ImageData}var w=function(C,y){s.muls(C,y,255)};function h(C,y,z){var I=C.gl,B=I.getParameter(I.MAX_TEXTURE_SIZE);if(y<0||y>B||z<0||z>B)throw new Error("gl-texture2d: Invalid texture size");return C._shape=[y,z],C.bind(),I.texImage2D(I.TEXTURE_2D,0,C.format,y,z,0,C.format,C.type,null),C._mipLevels=[0],C}function o(C,y,z,I,B,F){this.gl=C,this.handle=y,this.format=B,this.type=F,this._shape=[z,I],this._mipLevels=[0],this._magFilter=C.NEAREST,this._minFilter=C.NEAREST,this._wrapS=C.CLAMP_TO_EDGE,this._wrapT=C.CLAMP_TO_EDGE,this._anisoSamples=1;var O=this,N=[this._wrapS,this._wrapT];Object.defineProperties(N,[{get:function(){return O._wrapS},set:function(U){return O.wrapS=U}},{get:function(){return O._wrapT},set:function(U){return O.wrapT=U}}]),this._wrapVector=N;var _=[this._shape[0],this._shape[1]];Object.defineProperties(_,[{get:function(){return O._shape[0]},set:function(U){return O.width=U}},{get:function(){return O._shape[1]},set:function(U){return O.height=U}}]),this._shapeVector=_}var d=o.prototype;Object.defineProperties(d,{minFilter:{get:function(){return this._minFilter},set:function(C){this.bind();var y=this.gl;if(this.type===y.FLOAT&&l.indexOf(C)>=0&&(y.getExtension("OES_texture_float_linear")||(C=y.NEAREST)),f.indexOf(C)<0)throw new Error("gl-texture2d: Unknown filter mode "+C);return y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,C),this._minFilter=C}},magFilter:{get:function(){return this._magFilter},set:function(C){this.bind();var y=this.gl;if(this.type===y.FLOAT&&l.indexOf(C)>=0&&(y.getExtension("OES_texture_float_linear")||(C=y.NEAREST)),f.indexOf(C)<0)throw new Error("gl-texture2d: Unknown filter mode "+C);return y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,C),this._magFilter=C}},mipSamples:{get:function(){return this._anisoSamples},set:function(C){var y=this._anisoSamples;if(this._anisoSamples=Math.max(C,1)|0,y!==this._anisoSamples){var z=this.gl.getExtension("EXT_texture_filter_anisotropic");z&&this.gl.texParameterf(this.gl.TEXTURE_2D,z.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(C){if(this.bind(),u.indexOf(C)<0)throw new Error("gl-texture2d: Unknown wrap mode "+C);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,C),this._wrapS=C}},wrapT:{get:function(){return this._wrapT},set:function(C){if(this.bind(),u.indexOf(C)<0)throw new Error("gl-texture2d: Unknown wrap mode "+C);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,C),this._wrapT=C}},wrap:{get:function(){return this._wrapVector},set:function(C){if(Array.isArray(C)||(C=[C,C]),C.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var y=0;y<2;++y)if(u.indexOf(C[y])<0)throw new Error("gl-texture2d: Unknown wrap mode "+C);this._wrapS=C[0],this._wrapT=C[1];var z=this.gl;return this.bind(),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_S,this._wrapS),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_T,this._wrapT),C}},shape:{get:function(){return this._shapeVector},set:function(C){if(!Array.isArray(C))C=[C|0,C|0];else if(C.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return h(this,C[0]|0,C[1]|0),[C[0]|0,C[1]|0]}},width:{get:function(){return this._shape[0]},set:function(C){return C=C|0,h(this,C,this._shape[1]),C}},height:{get:function(){return this._shape[1]},set:function(C){return C=C|0,h(this,this._shape[0],C),C}}}),d.bind=function(C){var y=this.gl;return C!==void 0&&y.activeTexture(y.TEXTURE0+(C|0)),y.bindTexture(y.TEXTURE_2D,this.handle),C!==void 0?C|0:y.getParameter(y.ACTIVE_TEXTURE)-y.TEXTURE0},d.dispose=function(){this.gl.deleteTexture(this.handle)},d.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var C=Math.min(this._shape[0],this._shape[1]),y=0;C>0;++y,C>>>=1)this._mipLevels.indexOf(y)<0&&this._mipLevels.push(y)},d.setPixels=function(C,y,z,I){var B=this.gl;this.bind(),Array.isArray(y)?(I=z,z=y[1]|0,y=y[0]|0):(y=y||0,z=z||0),I=I||0;var F=c(C)?C:C.raw;if(F){var O=this._mipLevels.indexOf(I)<0;O?(B.texImage2D(B.TEXTURE_2D,0,this.format,this.format,this.type,F),this._mipLevels.push(I)):B.texSubImage2D(B.TEXTURE_2D,I,y,z,this.format,this.type,F)}else if(C.shape&&C.stride&&C.data){if(C.shape.length<2||y+C.shape[1]>this._shape[1]>>>I||z+C.shape[0]>this._shape[0]>>>I||y<0||z<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");T(B,y,z,I,this.format,this.type,this._mipLevels,C)}else throw new Error("gl-texture2d: Unsupported data type")};function M(C,y){return C.length===3?y[2]===1&&y[1]===C[0]*C[2]&&y[0]===C[2]:y[0]===1&&y[1]===C[0]}function T(C,y,z,I,B,F,O,N){var _=N.dtype,U=N.shape.slice();if(U.length<2||U.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var Y=0,K=0,re=M(U,N.stride.slice());if(_==="float32"?Y=C.FLOAT:_==="float64"?(Y=C.FLOAT,re=!1,_="float32"):_==="uint8"?Y=C.UNSIGNED_BYTE:(Y=C.UNSIGNED_BYTE,re=!1,_="uint8"),U.length===2)K=C.LUMINANCE,U=[U[0],U[1],1],N=r(N.data,U,[N.stride[0],N.stride[1],1],N.offset);else if(U.length===3){if(U[2]===1)K=C.ALPHA;else if(U[2]===2)K=C.LUMINANCE_ALPHA;else if(U[2]===3)K=C.RGB;else if(U[2]===4)K=C.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");U[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((K===C.LUMINANCE||K===C.ALPHA)&&(B===C.LUMINANCE||B===C.ALPHA)&&(K=B),K!==B)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var ae=N.size,fe=O.indexOf(I)<0;if(fe&&O.push(I),Y===F&&re)N.offset===0&&N.data.length===ae?fe?C.texImage2D(C.TEXTURE_2D,I,B,U[0],U[1],0,B,F,N.data):C.texSubImage2D(C.TEXTURE_2D,I,y,z,U[0],U[1],B,F,N.data):fe?C.texImage2D(C.TEXTURE_2D,I,B,U[0],U[1],0,B,F,N.data.subarray(N.offset,N.offset+ae)):C.texSubImage2D(C.TEXTURE_2D,I,y,z,U[0],U[1],B,F,N.data.subarray(N.offset,N.offset+ae));else{var Q;F===C.FLOAT?Q=n.mallocFloat32(ae):Q=n.mallocUint8(ae);var j=r(Q,U,[U[2],U[2]*U[0],1]);Y===C.FLOAT&&F===C.UNSIGNED_BYTE?w(j,N):s.assign(j,N),fe?C.texImage2D(C.TEXTURE_2D,I,B,U[0],U[1],0,B,F,Q.subarray(0,ae)):C.texSubImage2D(C.TEXTURE_2D,I,y,z,U[0],U[1],B,F,Q.subarray(0,ae)),F===C.FLOAT?n.freeFloat32(Q):n.freeUint8(Q)}}function E(C){var y=C.createTexture();return C.bindTexture(C.TEXTURE_2D,y),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,C.NEAREST),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,C.NEAREST),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.CLAMP_TO_EDGE),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,C.CLAMP_TO_EDGE),y}function x(C,y,z,I,B){var F=C.getParameter(C.MAX_TEXTURE_SIZE);if(y<0||y>F||z<0||z>F)throw new Error("gl-texture2d: Invalid texture shape");if(B===C.FLOAT&&!C.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var O=E(C);return C.texImage2D(C.TEXTURE_2D,0,I,y,z,0,I,B,null),new o(C,O,y,z,I,B)}function S(C,y,z,I,B,F){var O=E(C);return C.texImage2D(C.TEXTURE_2D,0,B,B,F,y),new o(C,O,z,I,B,F)}function b(C,y){var z=y.dtype,I=y.shape.slice(),B=C.getParameter(C.MAX_TEXTURE_SIZE);if(I[0]<0||I[0]>B||I[1]<0||I[1]>B)throw new Error("gl-texture2d: Invalid texture size");var F=M(I,y.stride.slice()),O=0;z==="float32"?O=C.FLOAT:z==="float64"?(O=C.FLOAT,F=!1,z="float32"):z==="uint8"?O=C.UNSIGNED_BYTE:(O=C.UNSIGNED_BYTE,F=!1,z="uint8");var N=0;if(I.length===2)N=C.LUMINANCE,I=[I[0],I[1],1],y=r(y.data,I,[y.stride[0],y.stride[1],1],y.offset);else if(I.length===3)if(I[2]===1)N=C.ALPHA;else if(I[2]===2)N=C.LUMINANCE_ALPHA;else if(I[2]===3)N=C.RGB;else if(I[2]===4)N=C.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");O===C.FLOAT&&!C.getExtension("OES_texture_float")&&(O=C.UNSIGNED_BYTE,F=!1);var _,U,Y=y.size;if(F)y.offset===0&&y.data.length===Y?_=y.data:_=y.data.subarray(y.offset,y.offset+Y);else{var K=[I[2],I[2]*I[0],1];U=n.malloc(Y,z);var re=r(U,I,K,0);(z==="float32"||z==="float64")&&O===C.UNSIGNED_BYTE?w(re,y):s.assign(re,y),_=U.subarray(0,Y)}var ae=E(C);return C.texImage2D(C.TEXTURE_2D,0,N,I[0],I[1],0,N,O,_),F||n.free(U),new o(C,ae,I[0],I[1],N,O)}function a(C){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(l||m(C),typeof arguments[1]=="number")return x(C,arguments[1],arguments[2],arguments[3]||C.RGBA,arguments[4]||C.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return x(C,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||C.RGBA,arguments[3]||C.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var y=arguments[1],z=c(y)?y:y.raw;if(z)return S(C,z,y.width|0,y.height|0,arguments[2]||C.RGBA,arguments[3]||C.UNSIGNED_BYTE);if(y.shape&&y.data&&y.stride)return b(C,y)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},3056:function(v){function p(t,r,s){r?r.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var n=t.getParameter(t.MAX_VERTEX_ATTRIBS)|0;if(s){if(s.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var l=0;l<s.length;++l){var f=s[l];if(f.buffer){var u=f.buffer,m=f.size||4,c=f.type||t.FLOAT,w=!!f.normalized,h=f.stride||0,o=f.offset||0;u.bind(),t.enableVertexAttribArray(l),t.vertexAttribPointer(l,m,c,w,h,o)}else{if(typeof f=="number")t.vertexAttrib1f(l,f);else if(f.length===1)t.vertexAttrib1f(l,f[0]);else if(f.length===2)t.vertexAttrib2f(l,f[0],f[1]);else if(f.length===3)t.vertexAttrib3f(l,f[0],f[1],f[2]);else if(f.length===4)t.vertexAttrib4f(l,f[0],f[1],f[2],f[3]);else throw new Error("gl-vao: Invalid vertex attribute");t.disableVertexAttribArray(l)}}for(;l<n;++l)t.disableVertexAttribArray(l)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(var l=0;l<n;++l)t.disableVertexAttribArray(l)}}v.exports=p},7220:function(v,p,t){var r=t(3056);function s(l){this.gl=l,this._elements=null,this._attributes=null,this._elementsType=l.UNSIGNED_SHORT}s.prototype.bind=function(){r(this.gl,this._elements,this._attributes)},s.prototype.update=function(l,f,u){this._elements=f,this._attributes=l,this._elementsType=u||this.gl.UNSIGNED_SHORT},s.prototype.dispose=function(){},s.prototype.unbind=function(){},s.prototype.draw=function(l,f,u){u=u||0;var m=this.gl;this._elements?m.drawElements(l,f,this._elementsType,u):m.drawArrays(l,u,f)};function n(l){return new s(l)}v.exports=n},3778:function(v,p,t){var r=t(3056);function s(f,u,m,c,w,h){this.location=f,this.dimension=u,this.a=m,this.b=c,this.c=w,this.d=h}s.prototype.bind=function(f){switch(this.dimension){case 1:f.vertexAttrib1f(this.location,this.a);break;case 2:f.vertexAttrib2f(this.location,this.a,this.b);break;case 3:f.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:f.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function n(f,u,m){this.gl=f,this._ext=u,this.handle=m,this._attribs=[],this._useElements=!1,this._elementsType=f.UNSIGNED_SHORT}n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var f=0;f<this._attribs.length;++f)this._attribs[f].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(f,u,m){if(this.bind(),r(this.gl,u,f),this.unbind(),this._attribs.length=0,f)for(var c=0;c<f.length;++c){var w=f[c];typeof w=="number"?this._attribs.push(new s(c,1,w)):Array.isArray(w)&&this._attribs.push(new s(c,w.length,w[0],w[1],w[2],w[3]))}this._useElements=!!u,this._elementsType=m||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(f,u,m){m=m||0;var c=this.gl;this._useElements?c.drawElements(f,u,this._elementsType,m):c.drawArrays(f,m,u)};function l(f,u){return new n(f,u,u.createVertexArrayOES())}v.exports=l},2944:function(v,p,t){var r=t(3778),s=t(7220);function n(f){this.bindVertexArrayOES=f.bindVertexArray.bind(f),this.createVertexArrayOES=f.createVertexArray.bind(f),this.deleteVertexArrayOES=f.deleteVertexArray.bind(f)}function l(f,u,m,c){var w=f.createVertexArray?new n(f):f.getExtension("OES_vertex_array_object"),h;return w?h=r(f,w):h=s(f),h.update(u,m,c),h}v.exports=l},2598:function(v){v.exports=p;function p(t,r,s){return t[0]=r[0]+s[0],t[1]=r[1]+s[1],t[2]=r[2]+s[2],t}},5879:function(v,p,t){v.exports=l;var r=t(5415),s=t(899),n=t(9305);function l(f,u){var m=r(f[0],f[1],f[2]),c=r(u[0],u[1],u[2]);s(m,m),s(c,c);var w=n(m,c);return w>1?0:Math.acos(w)}},8827:function(v){v.exports=p;function p(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}},7622:function(v){v.exports=p;function p(t){var r=new Float32Array(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},8782:function(v){v.exports=p;function p(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},8501:function(v){v.exports=p;function p(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},903:function(v){v.exports=p;function p(t,r,s){var n=r[0],l=r[1],f=r[2],u=s[0],m=s[1],c=s[2];return t[0]=l*c-f*m,t[1]=f*u-n*c,t[2]=n*m-l*u,t}},5981:function(v,p,t){v.exports=t(8288)},8288:function(v){v.exports=p;function p(t,r){var s=r[0]-t[0],n=r[1]-t[1],l=r[2]-t[2];return Math.sqrt(s*s+n*n+l*l)}},8629:function(v,p,t){v.exports=t(7979)},7979:function(v){v.exports=p;function p(t,r,s){return t[0]=r[0]/s[0],t[1]=r[1]/s[1],t[2]=r[2]/s[2],t}},9305:function(v){v.exports=p;function p(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}},154:function(v){v.exports=1e-6},4932:function(v,p,t){v.exports=s;var r=t(154);function s(n,l){var f=n[0],u=n[1],m=n[2],c=l[0],w=l[1],h=l[2];return Math.abs(f-c)<=r*Math.max(1,Math.abs(f),Math.abs(c))&&Math.abs(u-w)<=r*Math.max(1,Math.abs(u),Math.abs(w))&&Math.abs(m-h)<=r*Math.max(1,Math.abs(m),Math.abs(h))}},5777:function(v){v.exports=p;function p(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}},3306:function(v){v.exports=p;function p(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}},7447:function(v,p,t){v.exports=s;var r=t(8501)();function s(n,l,f,u,m,c){var w,h;for(l||(l=3),f||(f=0),u?h=Math.min(u*l+f,n.length):h=n.length,w=f;w<h;w+=l)r[0]=n[w],r[1]=n[w+1],r[2]=n[w+2],m(r,r,c),n[w]=r[0],n[w+1]=r[1],n[w+2]=r[2];return n}},5415:function(v){v.exports=p;function p(t,r,s){var n=new Float32Array(3);return n[0]=t,n[1]=r,n[2]=s,n}},2858:function(v,p,t){v.exports={EPSILON:t(154),create:t(8501),clone:t(7622),angle:t(5879),fromValues:t(5415),copy:t(8782),set:t(831),equals:t(4932),exactEquals:t(5777),add:t(2598),subtract:t(911),sub:t(8921),multiply:t(105),mul:t(5733),divide:t(7979),div:t(8629),min:t(3605),max:t(1716),floor:t(3306),ceil:t(8827),round:t(1624),scale:t(5685),scaleAndAdd:t(6722),distance:t(8288),dist:t(5981),squaredDistance:t(6403),sqrDist:t(5294),length:t(4693),len:t(1468),squaredLength:t(4337),sqrLen:t(3303),negate:t(435),inverse:t(2073),normalize:t(899),dot:t(9305),cross:t(903),lerp:t(1868),random:t(6660),transformMat4:t(3255),transformMat3:t(9908),transformQuat:t(6568),rotateX:t(392),rotateY:t(3222),rotateZ:t(3388),forEach:t(7447)}},2073:function(v){v.exports=p;function p(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}},1468:function(v,p,t){v.exports=t(4693)},4693:function(v){v.exports=p;function p(t){var r=t[0],s=t[1],n=t[2];return Math.sqrt(r*r+s*s+n*n)}},1868:function(v){v.exports=p;function p(t,r,s,n){var l=r[0],f=r[1],u=r[2];return t[0]=l+n*(s[0]-l),t[1]=f+n*(s[1]-f),t[2]=u+n*(s[2]-u),t}},1716:function(v){v.exports=p;function p(t,r,s){return t[0]=Math.max(r[0],s[0]),t[1]=Math.max(r[1],s[1]),t[2]=Math.max(r[2],s[2]),t}},3605:function(v){v.exports=p;function p(t,r,s){return t[0]=Math.min(r[0],s[0]),t[1]=Math.min(r[1],s[1]),t[2]=Math.min(r[2],s[2]),t}},5733:function(v,p,t){v.exports=t(105)},105:function(v){v.exports=p;function p(t,r,s){return t[0]=r[0]*s[0],t[1]=r[1]*s[1],t[2]=r[2]*s[2],t}},435:function(v){v.exports=p;function p(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}},899:function(v){v.exports=p;function p(t,r){var s=r[0],n=r[1],l=r[2],f=s*s+n*n+l*l;return f>0&&(f=1/Math.sqrt(f),t[0]=r[0]*f,t[1]=r[1]*f,t[2]=r[2]*f),t}},6660:function(v){v.exports=p;function p(t,r){r=r||1;var s=Math.random()*2*Math.PI,n=Math.random()*2-1,l=Math.sqrt(1-n*n)*r;return t[0]=Math.cos(s)*l,t[1]=Math.sin(s)*l,t[2]=n*r,t}},392:function(v){v.exports=p;function p(t,r,s,n){var l=s[1],f=s[2],u=r[1]-l,m=r[2]-f,c=Math.sin(n),w=Math.cos(n);return t[0]=r[0],t[1]=l+u*w-m*c,t[2]=f+u*c+m*w,t}},3222:function(v){v.exports=p;function p(t,r,s,n){var l=s[0],f=s[2],u=r[0]-l,m=r[2]-f,c=Math.sin(n),w=Math.cos(n);return t[0]=l+m*c+u*w,t[1]=r[1],t[2]=f+m*w-u*c,t}},3388:function(v){v.exports=p;function p(t,r,s,n){var l=s[0],f=s[1],u=r[0]-l,m=r[1]-f,c=Math.sin(n),w=Math.cos(n);return t[0]=l+u*w-m*c,t[1]=f+u*c+m*w,t[2]=r[2],t}},1624:function(v){v.exports=p;function p(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t}},5685:function(v){v.exports=p;function p(t,r,s){return t[0]=r[0]*s,t[1]=r[1]*s,t[2]=r[2]*s,t}},6722:function(v){v.exports=p;function p(t,r,s,n){return t[0]=r[0]+s[0]*n,t[1]=r[1]+s[1]*n,t[2]=r[2]+s[2]*n,t}},831:function(v){v.exports=p;function p(t,r,s,n){return t[0]=r,t[1]=s,t[2]=n,t}},5294:function(v,p,t){v.exports=t(6403)},3303:function(v,p,t){v.exports=t(4337)},6403:function(v){v.exports=p;function p(t,r){var s=r[0]-t[0],n=r[1]-t[1],l=r[2]-t[2];return s*s+n*n+l*l}},4337:function(v){v.exports=p;function p(t){var r=t[0],s=t[1],n=t[2];return r*r+s*s+n*n}},8921:function(v,p,t){v.exports=t(911)},911:function(v){v.exports=p;function p(t,r,s){return t[0]=r[0]-s[0],t[1]=r[1]-s[1],t[2]=r[2]-s[2],t}},9908:function(v){v.exports=p;function p(t,r,s){var n=r[0],l=r[1],f=r[2];return t[0]=n*s[0]+l*s[3]+f*s[6],t[1]=n*s[1]+l*s[4]+f*s[7],t[2]=n*s[2]+l*s[5]+f*s[8],t}},3255:function(v){v.exports=p;function p(t,r,s){var n=r[0],l=r[1],f=r[2],u=s[3]*n+s[7]*l+s[11]*f+s[15];return u=u||1,t[0]=(s[0]*n+s[4]*l+s[8]*f+s[12])/u,t[1]=(s[1]*n+s[5]*l+s[9]*f+s[13])/u,t[2]=(s[2]*n+s[6]*l+s[10]*f+s[14])/u,t}},6568:function(v){v.exports=p;function p(t,r,s){var n=r[0],l=r[1],f=r[2],u=s[0],m=s[1],c=s[2],w=s[3],h=w*n+m*f-c*l,o=w*l+c*n-u*f,d=w*f+u*l-m*n,M=-u*n-m*l-c*f;return t[0]=h*w+M*-u+o*-c-d*-m,t[1]=o*w+M*-m+d*-u-h*-c,t[2]=d*w+M*-c+h*-m-o*-u,t}},3433:function(v){v.exports=p;function p(t,r,s){return t[0]=r[0]+s[0],t[1]=r[1]+s[1],t[2]=r[2]+s[2],t[3]=r[3]+s[3],t}},1413:function(v){v.exports=p;function p(t){var r=new Float32Array(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},3470:function(v){v.exports=p;function p(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},5313:function(v){v.exports=p;function p(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}},5446:function(v){v.exports=p;function p(t,r){var s=r[0]-t[0],n=r[1]-t[1],l=r[2]-t[2],f=r[3]-t[3];return Math.sqrt(s*s+n*n+l*l+f*f)}},205:function(v){v.exports=p;function p(t,r,s){return t[0]=r[0]/s[0],t[1]=r[1]/s[1],t[2]=r[2]/s[2],t[3]=r[3]/s[3],t}},4242:function(v){v.exports=p;function p(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]}},5680:function(v){v.exports=p;function p(t,r,s,n){var l=new Float32Array(4);return l[0]=t,l[1]=r,l[2]=s,l[3]=n,l}},4020:function(v,p,t){v.exports={create:t(5313),clone:t(1413),fromValues:t(5680),copy:t(3470),set:t(6453),add:t(3433),subtract:t(2705),multiply:t(746),divide:t(205),min:t(2170),max:t(3030),scale:t(5510),scaleAndAdd:t(4224),distance:t(5446),squaredDistance:t(1542),length:t(8177),squaredLength:t(9037),negate:t(6459),inverse:t(8057),normalize:t(381),dot:t(4242),lerp:t(8746),random:t(3770),transformMat4:t(6342),transformQuat:t(5022)}},8057:function(v){v.exports=p;function p(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t}},8177:function(v){v.exports=p;function p(t){var r=t[0],s=t[1],n=t[2],l=t[3];return Math.sqrt(r*r+s*s+n*n+l*l)}},8746:function(v){v.exports=p;function p(t,r,s,n){var l=r[0],f=r[1],u=r[2],m=r[3];return t[0]=l+n*(s[0]-l),t[1]=f+n*(s[1]-f),t[2]=u+n*(s[2]-u),t[3]=m+n*(s[3]-m),t}},3030:function(v){v.exports=p;function p(t,r,s){return t[0]=Math.max(r[0],s[0]),t[1]=Math.max(r[1],s[1]),t[2]=Math.max(r[2],s[2]),t[3]=Math.max(r[3],s[3]),t}},2170:function(v){v.exports=p;function p(t,r,s){return t[0]=Math.min(r[0],s[0]),t[1]=Math.min(r[1],s[1]),t[2]=Math.min(r[2],s[2]),t[3]=Math.min(r[3],s[3]),t}},746:function(v){v.exports=p;function p(t,r,s){return t[0]=r[0]*s[0],t[1]=r[1]*s[1],t[2]=r[2]*s[2],t[3]=r[3]*s[3],t}},6459:function(v){v.exports=p;function p(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t}},381:function(v){v.exports=p;function p(t,r){var s=r[0],n=r[1],l=r[2],f=r[3],u=s*s+n*n+l*l+f*f;return u>0&&(u=1/Math.sqrt(u),t[0]=s*u,t[1]=n*u,t[2]=l*u,t[3]=f*u),t}},3770:function(v,p,t){var r=t(381),s=t(5510);v.exports=n;function n(l,f){return f=f||1,l[0]=Math.random(),l[1]=Math.random(),l[2]=Math.random(),l[3]=Math.random(),r(l,l),s(l,l,f),l}},5510:function(v){v.exports=p;function p(t,r,s){return t[0]=r[0]*s,t[1]=r[1]*s,t[2]=r[2]*s,t[3]=r[3]*s,t}},4224:function(v){v.exports=p;function p(t,r,s,n){return t[0]=r[0]+s[0]*n,t[1]=r[1]+s[1]*n,t[2]=r[2]+s[2]*n,t[3]=r[3]+s[3]*n,t}},6453:function(v){v.exports=p;function p(t,r,s,n,l){return t[0]=r,t[1]=s,t[2]=n,t[3]=l,t}},1542:function(v){v.exports=p;function p(t,r){var s=r[0]-t[0],n=r[1]-t[1],l=r[2]-t[2],f=r[3]-t[3];return s*s+n*n+l*l+f*f}},9037:function(v){v.exports=p;function p(t){var r=t[0],s=t[1],n=t[2],l=t[3];return r*r+s*s+n*n+l*l}},2705:function(v){v.exports=p;function p(t,r,s){return t[0]=r[0]-s[0],t[1]=r[1]-s[1],t[2]=r[2]-s[2],t[3]=r[3]-s[3],t}},6342:function(v){v.exports=p;function p(t,r,s){var n=r[0],l=r[1],f=r[2],u=r[3];return t[0]=s[0]*n+s[4]*l+s[8]*f+s[12]*u,t[1]=s[1]*n+s[5]*l+s[9]*f+s[13]*u,t[2]=s[2]*n+s[6]*l+s[10]*f+s[14]*u,t[3]=s[3]*n+s[7]*l+s[11]*f+s[15]*u,t}},5022:function(v){v.exports=p;function p(t,r,s){var n=r[0],l=r[1],f=r[2],u=s[0],m=s[1],c=s[2],w=s[3],h=w*n+m*f-c*l,o=w*l+c*n-u*f,d=w*f+u*l-m*n,M=-u*n-m*l-c*f;return t[0]=h*w+M*-u+o*-c-d*-m,t[1]=o*w+M*-m+d*-u-h*-c,t[2]=d*w+M*-c+h*-m-o*-u,t[3]=r[3],t}},9365:function(v,p,t){var r=t(8096),s=t(7896);v.exports=n;function n(l){for(var f=Array.isArray(l)?l:r(l),u=0;u<f.length;u++){var m=f[u];if(m.type==="preprocessor"){var c=m.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(c&&c[2]){var w=c[1],h=c[2];return(w?s(h):h).trim()}}}}},3193:function(v,p,t){v.exports=y;var r=t(399),s=t(9746),n=t(9525),l=t(9458),f=t(3585),u=999,m=9999,c=0,w=1,h=2,o=3,d=4,M=5,T=6,E=7,x=8,S=9,b=10,a=11,C=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function y(z){var I=0,B=0,F=u,O,N,_=[],U=[],Y=1,K=0,re=0,ae=!1,fe=!1,Q="",j;z=z||{};var X=n,J=r;z.version==="300 es"&&(X=f,J=l);for(var ee={},se={},I=0;I<X.length;I++)ee[X[I]]=!0;for(var I=0;I<J.length;I++)se[J[I]]=!0;return function(Ge){return U=[],Ge!==null?$(Ge):le()};function q(Ge){Ge.length&&U.push({type:C[F],data:Ge,position:re,line:Y,column:K})}function $(Ge){I=0,Ge.toString&&(Ge=Ge.toString()),Q+=Ge.replace(/\r\n/g,`
`),j=Q.length;for(var ke;O=Q[I],I<j;){switch(ke=I,F){case c:I=we();break;case w:I=Me();break;case h:I=me();break;case o:I=Oe();break;case d:I=xe();break;case a:I=Ce();break;case M:I=Se();break;case m:I=He();break;case S:I=ce();break;case u:I=ie();break}if(ke!==I)switch(Q[ke]){case`
`:K=0,++Y;break;default:++K;break}}return B+=I,Q=Q.slice(I),U}function le(Ge){return _.length&&q(_.join("")),F=b,q("(eof)"),U}function ie(){return _=_.length?[]:_,N==="/"&&O==="*"?(re=B+I-1,F=c,N=O,I+1):N==="/"&&O==="/"?(re=B+I-1,F=w,N=O,I+1):O==="#"?(F=h,re=B+I,I):/\s/.test(O)?(F=S,re=B+I,I):(ae=/\d/.test(O),fe=/[^\w_]/.test(O),re=B+I,F=ae?d:fe?o:m,I)}function ce(){return/[^\s]/g.test(O)?(q(_.join("")),F=u,I):(_.push(O),N=O,I+1)}function me(){return(O==="\r"||O===`
`)&&N!=="\\"?(q(_.join("")),F=u,I):(_.push(O),N=O,I+1)}function Me(){return me()}function we(){return O==="/"&&N==="*"?(_.push(O),q(_.join("")),F=u,I+1):(_.push(O),N=O,I+1)}function Oe(){if(N==="."&&/\d/.test(O))return F=M,I;if(N==="/"&&O==="*")return F=c,I;if(N==="/"&&O==="/")return F=w,I;if(O==="."&&_.length){for(;Be(_););return F=M,I}if(O===";"||O===")"||O==="("){if(_.length)for(;Be(_););return q(O),F=u,I+1}var Ge=_.length===2&&O!=="=";if(/[\w_\d\s]/.test(O)||Ge){for(;Be(_););return F=u,I}return _.push(O),N=O,I+1}function Be(Ge){var ke=0,We,it;do{if(We=s.indexOf(Ge.slice(0,Ge.length+ke).join("")),it=s[We],We===-1){if(ke--+Ge.length>0)continue;it=Ge.slice(0,1).join("")}return q(it),re+=it.length,_=_.slice(it.length),_.length}while(1)}function Ce(){return/[^a-fA-F0-9]/.test(O)?(q(_.join("")),F=u,I):(_.push(O),N=O,I+1)}function xe(){return O==="."||/[eE]/.test(O)?(_.push(O),F=M,N=O,I+1):O==="x"&&_.length===1&&_[0]==="0"?(F=a,_.push(O),N=O,I+1):/[^\d]/.test(O)?(q(_.join("")),F=u,I):(_.push(O),N=O,I+1)}function Se(){return O==="f"&&(_.push(O),N=O,I+=1),/[eE]/.test(O)||(O==="-"||O==="+")&&/[eE]/.test(N)?(_.push(O),N=O,I+1):/[^\d]/.test(O)?(q(_.join("")),F=u,I):(_.push(O),N=O,I+1)}function He(){if(/[^\d\w_]/.test(O)){var Ge=_.join("");return se[Ge]?F=x:ee[Ge]?F=E:F=T,q(_.join("")),F=u,I}return _.push(O),N=O,I+1}}},3585:function(v,p,t){var r=t(9525);r=r.slice().filter(function(s){return!/^(gl\_|texture)/.test(s)}),v.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(v,p,t){var r=t(399);v.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(v,p,t){var r=t(3193);v.exports=s;function s(n,l){var f=r(l),u=[];return u=u.concat(f(n)),u=u.concat(f(null)),u}},6832:function(v){v.exports=function(p){typeof p=="string"&&(p=[p]);for(var t=[].slice.call(arguments,1),r=[],s=0;s<p.length-1;s++)r.push(p[s],t[s]||"");return r.push(p[s]),r.join("")}},5233:function(v,p,t){var r=t(4846);function s(){var n=!1;try{var l=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,l),window.removeEventListener("test",null,l)}catch{n=!1}return n}v.exports=r&&s()},2183:function(v,p,t){v.exports=o;var r=t(417),s=t(8211).H;function n(d,M,T){this.vertices=d,this.adjacent=M,this.boundary=T,this.lastVisited=-1}n.prototype.flip=function(){var d=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=d;var M=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=M};function l(d,M,T){this.vertices=d,this.cell=M,this.index=T}function f(d,M){return s(d.vertices,M.vertices)}function u(d){return function(){var M=this.tuple;return d.apply(this,M)}}function m(d){var M=r[d+1];return M||(M=r),u(M)}var c=[];function w(d,M,T){this.dimension=d,this.vertices=M,this.simplices=T,this.interior=T.filter(function(S){return!S.boundary}),this.tuple=new Array(d+1);for(var E=0;E<=d;++E)this.tuple[E]=this.vertices[E];var x=c[d];x||(x=c[d]=m(d)),this.orient=x}var h=w.prototype;h.handleBoundaryDegeneracy=function(d,M){var T=this.dimension,E=this.vertices.length-1,x=this.tuple,S=this.vertices,b=[d];for(d.lastVisited=-E;b.length>0;){d=b.pop();for(var a=d.adjacent,C=0;C<=T;++C){var y=a[C];if(!(!y.boundary||y.lastVisited<=-E)){for(var z=y.vertices,I=0;I<=T;++I){var B=z[I];B<0?x[I]=M:x[I]=S[B]}var F=this.orient();if(F>0)return y;y.lastVisited=-E,F===0&&b.push(y)}}}return null},h.walk=function(d,M){var T=this.vertices.length-1,E=this.dimension,x=this.vertices,S=this.tuple,b=M?this.interior.length*Math.random()|0:this.interior.length-1,a=this.interior[b];e:for(;!a.boundary;){for(var C=a.vertices,y=a.adjacent,z=0;z<=E;++z)S[z]=x[C[z]];a.lastVisited=T;for(var z=0;z<=E;++z){var I=y[z];if(!(I.lastVisited>=T)){var B=S[z];S[z]=d;var F=this.orient();if(S[z]=B,F<0){a=I;continue e}else I.boundary?I.lastVisited=-T:I.lastVisited=T}}return}return a},h.addPeaks=function(d,M){var T=this.vertices.length-1,E=this.dimension,x=this.vertices,S=this.tuple,b=this.interior,a=this.simplices,C=[M];M.lastVisited=T,M.vertices[M.vertices.indexOf(-1)]=T,M.boundary=!1,b.push(M);for(var y=[];C.length>0;){var M=C.pop(),z=M.vertices,I=M.adjacent,B=z.indexOf(T);if(!(B<0)){for(var F=0;F<=E;++F)if(F!==B){var O=I[F];if(!(!O.boundary||O.lastVisited>=T)){var N=O.vertices;if(O.lastVisited!==-T){for(var _=0,U=0;U<=E;++U)N[U]<0?(_=U,S[U]=d):S[U]=x[N[U]];var Y=this.orient();if(Y>0){N[_]=T,O.boundary=!1,b.push(O),C.push(O),O.lastVisited=T;continue}else O.lastVisited=-T}var K=O.adjacent,re=z.slice(),ae=I.slice(),fe=new n(re,ae,!0);a.push(fe);var Q=K.indexOf(M);if(!(Q<0)){K[Q]=fe,ae[B]=O,re[F]=-1,ae[F]=M,I[F]=fe,fe.flip();for(var U=0;U<=E;++U){var j=re[U];if(!(j<0||j===T)){for(var X=new Array(E-1),J=0,ee=0;ee<=E;++ee){var se=re[ee];se<0||ee===U||(X[J++]=se)}y.push(new l(X,fe,U))}}}}}}}y.sort(f);for(var F=0;F+1<y.length;F+=2){var q=y[F],$=y[F+1],le=q.index,ie=$.index;le<0||ie<0||(q.cell.adjacent[q.index]=$.cell,$.cell.adjacent[$.index]=q.cell)}},h.insert=function(d,M){var T=this.vertices;T.push(d);var E=this.walk(d,M);if(E){for(var x=this.dimension,S=this.tuple,b=0;b<=x;++b){var a=E.vertices[b];a<0?S[b]=d:S[b]=T[a]}var C=this.orient(S);C<0||C===0&&(E=this.handleBoundaryDegeneracy(E,d),!E)||this.addPeaks(d,E)}},h.boundary=function(){for(var d=this.dimension,M=[],T=this.simplices,E=T.length,x=0;x<E;++x){var S=T[x];if(S.boundary){for(var b=new Array(d),a=S.vertices,C=0,y=0,z=0;z<=d;++z)a[z]>=0?b[C++]=a[z]:y=z&1;if(y===(d&1)){var I=b[0];b[0]=b[1],b[1]=I}M.push(b)}}return M};function o(d,M){var T=d.length;if(T===0)throw new Error("Must have at least d+1 points");var E=d[0].length;if(T<=E)throw new Error("Must input at least d+1 points");var x=d.slice(0,E+1),S=r.apply(void 0,x);if(S===0)throw new Error("Input not in general position");for(var b=new Array(E+1),a=0;a<=E;++a)b[a]=a;S<0&&(b[0]=1,b[1]=0);for(var C=new n(b,new Array(E+1),!1),y=C.adjacent,z=new Array(E+2),a=0;a<=E;++a){for(var I=b.slice(),B=0;B<=E;++B)B===a&&(I[B]=-1);var F=I[0];I[0]=I[1],I[1]=F;var O=new n(I,new Array(E+1),!0);y[a]=O,z[a]=O}z[E+1]=C;for(var a=0;a<=E;++a)for(var I=y[a].vertices,N=y[a].adjacent,B=0;B<=E;++B){var _=I[B];if(_<0){N[B]=C;continue}for(var U=0;U<=E;++U)y[U].vertices.indexOf(_)<0&&(N[B]=y[U])}for(var Y=new w(E,x,z),K=!!M,a=E+1;a<T;++a)Y.insert(d[a],K);return Y.boundary()}},9014:function(v,p,t){var r=t(5070),s=0,n=1,l=2;v.exports=C;function f(y,z,I,B,F){this.mid=y,this.left=z,this.right=I,this.leftPoints=B,this.rightPoints=F,this.count=(z?z.count:0)+(I?I.count:0)+B.length}var u=f.prototype;function m(y,z){y.mid=z.mid,y.left=z.left,y.right=z.right,y.leftPoints=z.leftPoints,y.rightPoints=z.rightPoints,y.count=z.count}function c(y,z){var I=S(z);y.mid=I.mid,y.left=I.left,y.right=I.right,y.leftPoints=I.leftPoints,y.rightPoints=I.rightPoints,y.count=I.count}function w(y,z){var I=y.intervals([]);I.push(z),c(y,I)}function h(y,z){var I=y.intervals([]),B=I.indexOf(z);return B<0?s:(I.splice(B,1),c(y,I),n)}u.intervals=function(y){return y.push.apply(y,this.leftPoints),this.left&&this.left.intervals(y),this.right&&this.right.intervals(y),y},u.insert=function(y){var z=this.count-this.leftPoints.length;if(this.count+=1,y[1]<this.mid)this.left?4*(this.left.count+1)>3*(z+1)?w(this,y):this.left.insert(y):this.left=S([y]);else if(y[0]>this.mid)this.right?4*(this.right.count+1)>3*(z+1)?w(this,y):this.right.insert(y):this.right=S([y]);else{var I=r.ge(this.leftPoints,y,E),B=r.ge(this.rightPoints,y,x);this.leftPoints.splice(I,0,y),this.rightPoints.splice(B,0,y)}},u.remove=function(y){var z=this.count-this.leftPoints;if(y[1]<this.mid){if(!this.left)return s;var I=this.right?this.right.count:0;if(4*I>3*(z-1))return h(this,y);var B=this.left.remove(y);return B===l?(this.left=null,this.count-=1,n):(B===n&&(this.count-=1),B)}else if(y[0]>this.mid){if(!this.right)return s;var F=this.left?this.left.count:0;if(4*F>3*(z-1))return h(this,y);var B=this.right.remove(y);return B===l?(this.right=null,this.count-=1,n):(B===n&&(this.count-=1),B)}else{if(this.count===1)return this.leftPoints[0]===y?l:s;if(this.leftPoints.length===1&&this.leftPoints[0]===y){if(this.left&&this.right){for(var O=this,N=this.left;N.right;)O=N,N=N.right;if(O===this)N.right=this.right;else{var _=this.left,B=this.right;O.count-=N.count,O.right=N.left,N.left=_,N.right=B}m(this,N),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?m(this,this.left):m(this,this.right);return n}for(var _=r.ge(this.leftPoints,y,E);_<this.leftPoints.length&&this.leftPoints[_][0]===y[0];++_)if(this.leftPoints[_]===y){this.count-=1,this.leftPoints.splice(_,1);for(var B=r.ge(this.rightPoints,y,x);B<this.rightPoints.length&&this.rightPoints[B][1]===y[1];++B)if(this.rightPoints[B]===y)return this.rightPoints.splice(B,1),n}return s}};function o(y,z,I){for(var B=0;B<y.length&&y[B][0]<=z;++B){var F=I(y[B]);if(F)return F}}function d(y,z,I){for(var B=y.length-1;B>=0&&y[B][1]>=z;--B){var F=I(y[B]);if(F)return F}}function M(y,z){for(var I=0;I<y.length;++I){var B=z(y[I]);if(B)return B}}u.queryPoint=function(y,z){if(y<this.mid){if(this.left){var I=this.left.queryPoint(y,z);if(I)return I}return o(this.leftPoints,y,z)}else if(y>this.mid){if(this.right){var I=this.right.queryPoint(y,z);if(I)return I}return d(this.rightPoints,y,z)}else return M(this.leftPoints,z)},u.queryInterval=function(y,z,I){if(y<this.mid&&this.left){var B=this.left.queryInterval(y,z,I);if(B)return B}if(z>this.mid&&this.right){var B=this.right.queryInterval(y,z,I);if(B)return B}return z<this.mid?o(this.leftPoints,z,I):y>this.mid?d(this.rightPoints,y,I):M(this.leftPoints,I)};function T(y,z){return y-z}function E(y,z){var I=y[0]-z[0];return I||y[1]-z[1]}function x(y,z){var I=y[1]-z[1];return I||y[0]-z[0]}function S(y){if(y.length===0)return null;for(var z=[],I=0;I<y.length;++I)z.push(y[I][0],y[I][1]);z.sort(T);for(var B=z[z.length>>1],F=[],O=[],N=[],I=0;I<y.length;++I){var _=y[I];_[1]<B?F.push(_):B<_[0]?O.push(_):N.push(_)}var U=N,Y=N.slice();return U.sort(E),Y.sort(x),new f(B,S(F),S(O),U,Y)}function b(y){this.root=y}var a=b.prototype;a.insert=function(y){this.root?this.root.insert(y):this.root=new f(y[0],null,null,[y],[y])},a.remove=function(y){if(this.root){var z=this.root.remove(y);return z===l&&(this.root=null),z!==s}return!1},a.queryPoint=function(y,z){if(this.root)return this.root.queryPoint(y,z)},a.queryInterval=function(y,z,I){if(y<=z&&this.root)return this.root.queryInterval(y,z,I)},Object.defineProperty(a,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(a,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function C(y){return!y||y.length===0?new b(null):new b(S(y))}},9560:function(v){function p(t){for(var r=new Array(t),s=0;s<t;++s)r[s]=s;return r}v.exports=p},4846:function(v){v.exports=!0},4780:function(v){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/v.exports=function(r){return r!=null&&(p(r)||t(r)||!!r._isBuffer)};function p(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function t(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&p(r.slice(0,0))}},3596:function(v){v.exports=function(p){for(var t=p.length,r,s=0;s<t;s++)if(r=p.charCodeAt(s),(r<9||r>13)&&r!==32&&r!==133&&r!==160&&r!==5760&&r!==6158&&(r<8192||r>8205)&&r!==8232&&r!==8233&&r!==8239&&r!==8287&&r!==8288&&r!==12288&&r!==65279)return!1;return!0}},3578:function(v){function p(t,r,s){return t*(1-s)+r*s}v.exports=p},7191:function(v,p,t){var r=t(4690),s=t(9823),n=t(7332),l=t(7787),f=t(7437),u=t(2142),m={length:t(4693),normalize:t(899),dot:t(9305),cross:t(903)},c=s(),w=s(),h=[0,0,0,0],o=[[0,0,0],[0,0,0],[0,0,0]],d=[0,0,0];v.exports=function(S,b,a,C,y,z){if(b||(b=[0,0,0]),a||(a=[0,0,0]),C||(C=[0,0,0]),y||(y=[0,0,0,1]),z||(z=[0,0,0,1]),!r(c,S)||(n(w,c),w[3]=0,w[7]=0,w[11]=0,w[15]=1,Math.abs(l(w)<1e-8)))return!1;var I=c[3],B=c[7],F=c[11],O=c[12],N=c[13],_=c[14],U=c[15];if(I!==0||B!==0||F!==0){h[0]=I,h[1]=B,h[2]=F,h[3]=U;var Y=f(w,w);if(!Y)return!1;u(w,w),M(y,h,w)}else y[0]=y[1]=y[2]=0,y[3]=1;if(b[0]=O,b[1]=N,b[2]=_,T(o,c),a[0]=m.length(o[0]),m.normalize(o[0],o[0]),C[0]=m.dot(o[0],o[1]),E(o[1],o[1],o[0],1,-C[0]),a[1]=m.length(o[1]),m.normalize(o[1],o[1]),C[0]/=a[1],C[1]=m.dot(o[0],o[2]),E(o[2],o[2],o[0],1,-C[1]),C[2]=m.dot(o[1],o[2]),E(o[2],o[2],o[1],1,-C[2]),a[2]=m.length(o[2]),m.normalize(o[2],o[2]),C[1]/=a[2],C[2]/=a[2],m.cross(d,o[1],o[2]),m.dot(o[0],d)<0)for(var K=0;K<3;K++)a[K]*=-1,o[K][0]*=-1,o[K][1]*=-1,o[K][2]*=-1;return z[0]=.5*Math.sqrt(Math.max(1+o[0][0]-o[1][1]-o[2][2],0)),z[1]=.5*Math.sqrt(Math.max(1-o[0][0]+o[1][1]-o[2][2],0)),z[2]=.5*Math.sqrt(Math.max(1-o[0][0]-o[1][1]+o[2][2],0)),z[3]=.5*Math.sqrt(Math.max(1+o[0][0]+o[1][1]+o[2][2],0)),o[2][1]>o[1][2]&&(z[0]=-z[0]),o[0][2]>o[2][0]&&(z[1]=-z[1]),o[1][0]>o[0][1]&&(z[2]=-z[2]),!0};function M(x,S,b){var a=S[0],C=S[1],y=S[2],z=S[3];return x[0]=b[0]*a+b[4]*C+b[8]*y+b[12]*z,x[1]=b[1]*a+b[5]*C+b[9]*y+b[13]*z,x[2]=b[2]*a+b[6]*C+b[10]*y+b[14]*z,x[3]=b[3]*a+b[7]*C+b[11]*y+b[15]*z,x}function T(x,S){x[0][0]=S[0],x[0][1]=S[1],x[0][2]=S[2],x[1][0]=S[4],x[1][1]=S[5],x[1][2]=S[6],x[2][0]=S[8],x[2][1]=S[9],x[2][2]=S[10]}function E(x,S,b,a,C){x[0]=S[0]*a+b[0]*C,x[1]=S[1]*a+b[1]*C,x[2]=S[2]*a+b[2]*C}},4690:function(v){v.exports=function(t,r){var s=r[15];if(s===0)return!1;for(var n=1/s,l=0;l<16;l++)t[l]=r[l]*n;return!0}},7649:function(v,p,t){var r=t(1868),s=t(1102),n=t(7191),l=t(7787),f=t(1116),u=h(),m=h(),c=h();v.exports=w;function w(M,T,E,x){if(l(T)===0||l(E)===0)return!1;var S=n(T,u.translate,u.scale,u.skew,u.perspective,u.quaternion),b=n(E,m.translate,m.scale,m.skew,m.perspective,m.quaternion);return!S||!b?!1:(r(c.translate,u.translate,m.translate,x),r(c.skew,u.skew,m.skew,x),r(c.scale,u.scale,m.scale,x),r(c.perspective,u.perspective,m.perspective,x),f(c.quaternion,u.quaternion,m.quaternion,x),s(M,c.translate,c.scale,c.skew,c.perspective,c.quaternion),!0)}function h(){return{translate:o(),scale:o(1),skew:o(),perspective:d(),quaternion:d()}}function o(M){return[M||0,M||0,M||0]}function d(){return[0,0,0,1]}},1102:function(v,p,t){var r={identity:t(9947),translate:t(998),multiply:t(104),create:t(9823),scale:t(3668),fromRotationTranslation:t(7280)};r.create();var s=r.create();v.exports=function(l,f,u,m,c,w){return r.identity(l),r.fromRotationTranslation(l,w,f),l[3]=c[0],l[7]=c[1],l[11]=c[2],l[15]=c[3],r.identity(s),m[2]!==0&&(s[9]=m[2],r.multiply(l,l,s)),m[1]!==0&&(s[9]=0,s[8]=m[1],r.multiply(l,l,s)),m[0]!==0&&(s[8]=0,s[4]=m[0],r.multiply(l,l,s)),r.scale(l,l,u),l}},9298:function(v,p,t){var r=t(5070),s=t(7649),n=t(7437),l=t(6109),f=t(7115),u=t(5240),m=t(3012),c=t(998);t(3668);var w=t(899),h=[0,0,0];v.exports=T;function o(E){this._components=E.slice(),this._time=[0],this.prevMatrix=E.slice(),this.nextMatrix=E.slice(),this.computedMatrix=E.slice(),this.computedInverse=E.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var d=o.prototype;d.recalcMatrix=function(E){var x=this._time,S=r.le(x,E),b=this.computedMatrix;if(!(S<0)){var a=this._components;if(S===x.length-1)for(var C=16*S,y=0;y<16;++y)b[y]=a[C++];else{for(var z=x[S+1]-x[S],C=16*S,I=this.prevMatrix,B=!0,y=0;y<16;++y)I[y]=a[C++];for(var F=this.nextMatrix,y=0;y<16;++y)F[y]=a[C++],B=B&&I[y]===F[y];if(z<1e-6||B)for(var y=0;y<16;++y)b[y]=I[y];else s(b,I,F,(E-x[S])/z)}var O=this.computedUp;O[0]=b[1],O[1]=b[5],O[2]=b[9],w(O,O);var N=this.computedInverse;n(N,b);var _=this.computedEye,U=N[15];_[0]=N[12]/U,_[1]=N[13]/U,_[2]=N[14]/U;for(var Y=this.computedCenter,K=Math.exp(this.computedRadius[0]),y=0;y<3;++y)Y[y]=_[y]-b[2+4*y]*K}},d.idle=function(E){if(!(E<this.lastT())){for(var x=this._components,S=x.length-16,b=0;b<16;++b)x.push(x[S++]);this._time.push(E)}},d.flush=function(E){var x=r.gt(this._time,E)-2;x<0||(this._time.splice(0,x),this._components.splice(0,16*x))},d.lastT=function(){return this._time[this._time.length-1]},d.lookAt=function(E,x,S,b){this.recalcMatrix(E),x=x||this.computedEye,S=S||h,b=b||this.computedUp,this.setMatrix(E,m(this.computedMatrix,x,S,b));for(var a=0,C=0;C<3;++C)a+=Math.pow(S[C]-x[C],2);a=Math.log(Math.sqrt(a)),this.computedRadius[0]=a},d.rotate=function(E,x,S,b){this.recalcMatrix(E);var a=this.computedInverse;x&&f(a,a,x),S&&l(a,a,S),b&&u(a,a,b),this.setMatrix(E,n(this.computedMatrix,a))};var M=[0,0,0];d.pan=function(E,x,S,b){M[0]=-(x||0),M[1]=-(S||0),M[2]=-(b||0),this.recalcMatrix(E);var a=this.computedInverse;c(a,a,M),this.setMatrix(E,n(a,a))},d.translate=function(E,x,S,b){M[0]=x||0,M[1]=S||0,M[2]=b||0,this.recalcMatrix(E);var a=this.computedMatrix;c(a,a,M),this.setMatrix(E,a)},d.setMatrix=function(E,x){if(!(E<this.lastT())){this._time.push(E);for(var S=0;S<16;++S)this._components.push(x[S])}},d.setDistance=function(E,x){this.computedRadius[0]=x},d.setDistanceLimits=function(E,x){var S=this._limits;S[0]=E,S[1]=x},d.getDistanceLimits=function(E){var x=this._limits;return E?(E[0]=x[0],E[1]=x[1],E):x};function T(E){E=E||{};var x=E.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new o(x)}},3266:function(v,p,t){v.exports=s;var r=t(417)[3];function s(n){var l=n.length;if(l<3){for(var d=new Array(l),f=0;f<l;++f)d[f]=f;return l===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:d}for(var u=new Array(l),f=0;f<l;++f)u[f]=f;u.sort(function(x,S){var b=n[x][0]-n[S][0];return b||n[x][1]-n[S][1]});for(var m=[u[0],u[1]],c=[u[0],u[1]],f=2;f<l;++f){for(var w=u[f],h=n[w],o=m.length;o>1&&r(n[m[o-2]],n[m[o-1]],h)<=0;)o-=1,m.pop();for(m.push(w),o=c.length;o>1&&r(n[c[o-2]],n[c[o-1]],h)>=0;)o-=1,c.pop();c.push(w)}for(var d=new Array(c.length+m.length-2),M=0,f=0,T=m.length;f<T;++f)d[M++]=m[f];for(var E=c.length-2;E>0;--E)d[M++]=c[E];return d}},6145:function(v,p,t){v.exports=s;var r=t(4110);function s(n,l){l||(l=n,n=window);var f=0,u=0,m=0,c={shift:!1,alt:!1,control:!1,meta:!1},w=!1;function h(y){var z=!1;return"altKey"in y&&(z=z||y.altKey!==c.alt,c.alt=!!y.altKey),"shiftKey"in y&&(z=z||y.shiftKey!==c.shift,c.shift=!!y.shiftKey),"ctrlKey"in y&&(z=z||y.ctrlKey!==c.control,c.control=!!y.ctrlKey),"metaKey"in y&&(z=z||y.metaKey!==c.meta,c.meta=!!y.metaKey),z}function o(y,z){var I=r.x(z),B=r.y(z);"buttons"in z&&(y=z.buttons|0),(y!==f||I!==u||B!==m||h(z))&&(f=y|0,u=I||0,m=B||0,l&&l(f,u,m,c))}function d(y){o(0,y)}function M(){(f||u||m||c.shift||c.alt||c.meta||c.control)&&(u=m=0,f=0,c.shift=c.alt=c.control=c.meta=!1,l&&l(0,0,0,c))}function T(y){h(y)&&l&&l(f,u,m,c)}function E(y){r.buttons(y)===0?o(0,y):o(f,y)}function x(y){o(f|r.buttons(y),y)}function S(y){o(f&~r.buttons(y),y)}function b(){w||(w=!0,n.addEventListener("mousemove",E),n.addEventListener("mousedown",x),n.addEventListener("mouseup",S),n.addEventListener("mouseleave",d),n.addEventListener("mouseenter",d),n.addEventListener("mouseout",d),n.addEventListener("mouseover",d),n.addEventListener("blur",M),n.addEventListener("keyup",T),n.addEventListener("keydown",T),n.addEventListener("keypress",T),n!==window&&(window.addEventListener("blur",M),window.addEventListener("keyup",T),window.addEventListener("keydown",T),window.addEventListener("keypress",T)))}function a(){w&&(w=!1,n.removeEventListener("mousemove",E),n.removeEventListener("mousedown",x),n.removeEventListener("mouseup",S),n.removeEventListener("mouseleave",d),n.removeEventListener("mouseenter",d),n.removeEventListener("mouseout",d),n.removeEventListener("mouseover",d),n.removeEventListener("blur",M),n.removeEventListener("keyup",T),n.removeEventListener("keydown",T),n.removeEventListener("keypress",T),n!==window&&(window.removeEventListener("blur",M),window.removeEventListener("keyup",T),window.removeEventListener("keydown",T),window.removeEventListener("keypress",T)))}b();var C={element:n};return Object.defineProperties(C,{enabled:{get:function(){return w},set:function(y){y?b():a()},enumerable:!0},buttons:{get:function(){return f},enumerable:!0},x:{get:function(){return u},enumerable:!0},y:{get:function(){return m},enumerable:!0},mods:{get:function(){return c},enumerable:!0}}),C}},2565:function(v){var p={left:0,top:0};v.exports=t;function t(s,n,l){n=n||s.currentTarget||s.srcElement,Array.isArray(l)||(l=[0,0]);var f=s.clientX||0,u=s.clientY||0,m=r(n);return l[0]=f-m.left,l[1]=u-m.top,l}function r(s){return s===window||s===document||s===document.body?p:s.getBoundingClientRect()}},4110:function(v,p){function t(l){if(typeof l=="object"){if("buttons"in l)return l.buttons;if("which"in l){var f=l.which;if(f===2)return 4;if(f===3)return 2;if(f>0)return 1<<f-1}else if("button"in l){var f=l.button;if(f===1)return 4;if(f===2)return 2;if(f>=0)return 1<<f}}return 0}p.buttons=t;function r(l){return l.target||l.srcElement||window}p.element=r;function s(l){if(typeof l=="object"){if("offsetX"in l)return l.offsetX;var f=r(l),u=f.getBoundingClientRect();return l.clientX-u.left}return 0}p.x=s;function n(l){if(typeof l=="object"){if("offsetY"in l)return l.offsetY;var f=r(l),u=f.getBoundingClientRect();return l.clientY-u.top}return 0}p.y=n},6475:function(v,p,t){var r=t(14);v.exports=s;function s(n,l,f){typeof n=="function"&&(f=!!l,l=n,n=window);var u=r("ex",n),m=function(c){f&&c.preventDefault();var w=c.deltaX||0,h=c.deltaY||0,o=c.deltaZ||0,d=c.deltaMode,M=1;switch(d){case 1:M=u;break;case 2:M=window.innerHeight;break}if(w*=M,h*=M,o*=M,w||h||o)return l(w,h,o,c)};return n.addEventListener("wheel",m),m}},9284:function(v,p,t){var r=t(5306);v.exports=l;var s={"false,0,1":function(u,m,c,w,h){return function(d,M,T,E){var x=d.shape[0]|0,S=d.shape[1]|0,b=d.data,a=d.offset|0,C=d.stride[0]|0,y=d.stride[1]|0,z=a,I,B=-C|0,F=0,O=-y|0,N=0,_=-C-y|0,U=0,Y=C|0,K=y-C*x|0,re=0,ae=0,fe=0,Q=2*x|0,j=w(Q),X=w(Q),J=0,ee=0,se=-1,q=-1,$=0,le=-x|0,ie=x|0,ce=0,me=-x-1|0,Me=x-1|0,we=0,Oe=0,Be=0;for(re=0;re<x;++re)j[J++]=c(b[z],M,T,E),z+=Y;if(z+=K,S>0){if(ae=1,j[J++]=c(b[z],M,T,E),z+=Y,x>0)for(re=1,I=b[z],ee=j[J]=c(I,M,T,E),$=j[J+se],ce=j[J+le],we=j[J+me],(ee!==$||ee!==ce||ee!==we)&&(F=b[z+B],N=b[z+O],U=b[z+_],u(re,ae,I,F,N,U,ee,$,ce,we,M,T,E),Oe=X[J]=fe++),J+=1,z+=Y,re=2;re<x;++re)I=b[z],ee=j[J]=c(I,M,T,E),$=j[J+se],ce=j[J+le],we=j[J+me],(ee!==$||ee!==ce||ee!==we)&&(F=b[z+B],N=b[z+O],U=b[z+_],u(re,ae,I,F,N,U,ee,$,ce,we,M,T,E),Oe=X[J]=fe++,we!==$&&m(X[J+se],Oe,U,F,we,$,M,T,E)),J+=1,z+=Y;for(z+=K,J=0,Be=se,se=q,q=Be,Be=le,le=ie,ie=Be,Be=me,me=Me,Me=Be,ae=2;ae<S;++ae){if(j[J++]=c(b[z],M,T,E),z+=Y,x>0)for(re=1,I=b[z],ee=j[J]=c(I,M,T,E),$=j[J+se],ce=j[J+le],we=j[J+me],(ee!==$||ee!==ce||ee!==we)&&(F=b[z+B],N=b[z+O],U=b[z+_],u(re,ae,I,F,N,U,ee,$,ce,we,M,T,E),Oe=X[J]=fe++,we!==ce&&m(X[J+le],Oe,N,U,ce,we,M,T,E)),J+=1,z+=Y,re=2;re<x;++re)I=b[z],ee=j[J]=c(I,M,T,E),$=j[J+se],ce=j[J+le],we=j[J+me],(ee!==$||ee!==ce||ee!==we)&&(F=b[z+B],N=b[z+O],U=b[z+_],u(re,ae,I,F,N,U,ee,$,ce,we,M,T,E),Oe=X[J]=fe++,we!==ce&&m(X[J+le],Oe,N,U,ce,we,M,T,E),we!==$&&m(X[J+se],Oe,U,F,we,$,M,T,E)),J+=1,z+=Y;ae&1&&(J=0),Be=se,se=q,q=Be,Be=le,le=ie,ie=Be,Be=me,me=Me,Me=Be,z+=K}}h(X),h(j)}},"false,1,0":function(u,m,c,w,h){return function(d,M,T,E){var x=d.shape[0]|0,S=d.shape[1]|0,b=d.data,a=d.offset|0,C=d.stride[0]|0,y=d.stride[1]|0,z=a,I,B=-C|0,F=0,O=-y|0,N=0,_=-C-y|0,U=0,Y=y|0,K=C-y*S|0,re=0,ae=0,fe=0,Q=2*S|0,j=w(Q),X=w(Q),J=0,ee=0,se=-1,q=-1,$=0,le=-S|0,ie=S|0,ce=0,me=-S-1|0,Me=S-1|0,we=0,Oe=0,Be=0;for(ae=0;ae<S;++ae)j[J++]=c(b[z],M,T,E),z+=Y;if(z+=K,x>0){if(re=1,j[J++]=c(b[z],M,T,E),z+=Y,S>0)for(ae=1,I=b[z],ee=j[J]=c(I,M,T,E),ce=j[J+le],$=j[J+se],we=j[J+me],(ee!==ce||ee!==$||ee!==we)&&(F=b[z+B],N=b[z+O],U=b[z+_],u(re,ae,I,F,N,U,ee,ce,$,we,M,T,E),Oe=X[J]=fe++),J+=1,z+=Y,ae=2;ae<S;++ae)I=b[z],ee=j[J]=c(I,M,T,E),ce=j[J+le],$=j[J+se],we=j[J+me],(ee!==ce||ee!==$||ee!==we)&&(F=b[z+B],N=b[z+O],U=b[z+_],u(re,ae,I,F,N,U,ee,ce,$,we,M,T,E),Oe=X[J]=fe++,we!==$&&m(X[J+se],Oe,N,U,$,we,M,T,E)),J+=1,z+=Y;for(z+=K,J=0,Be=le,le=ie,ie=Be,Be=se,se=q,q=Be,Be=me,me=Me,Me=Be,re=2;re<x;++re){if(j[J++]=c(b[z],M,T,E),z+=Y,S>0)for(ae=1,I=b[z],ee=j[J]=c(I,M,T,E),ce=j[J+le],$=j[J+se],we=j[J+me],(ee!==ce||ee!==$||ee!==we)&&(F=b[z+B],N=b[z+O],U=b[z+_],u(re,ae,I,F,N,U,ee,ce,$,we,M,T,E),Oe=X[J]=fe++,we!==ce&&m(X[J+le],Oe,U,F,we,ce,M,T,E)),J+=1,z+=Y,ae=2;ae<S;++ae)I=b[z],ee=j[J]=c(I,M,T,E),ce=j[J+le],$=j[J+se],we=j[J+me],(ee!==ce||ee!==$||ee!==we)&&(F=b[z+B],N=b[z+O],U=b[z+_],u(re,ae,I,F,N,U,ee,ce,$,we,M,T,E),Oe=X[J]=fe++,we!==$&&m(X[J+se],Oe,N,U,$,we,M,T,E),we!==ce&&m(X[J+le],Oe,U,F,we,ce,M,T,E)),J+=1,z+=Y;re&1&&(J=0),Be=le,le=ie,ie=Be,Be=se,se=q,q=Be,Be=me,me=Me,Me=Be,z+=K}}h(X),h(j)}}};function n(f,u,m,c,w,h){var o=[h,w].join(","),d=s[o];return d(f,u,m,r.mallocUint32,r.freeUint32)}function l(f){function u(M){throw new Error("ndarray-extract-contour: "+M)}typeof f!="object"&&u("Must specify arguments");var m=f.order;Array.isArray(m)||u("Must specify order");var c=f.arrayArguments||1;c<1&&u("Must have at least one array argument");var w=f.scalarArguments||0;w<0&&u("Scalar arg count must be > 0"),typeof f.vertex!="function"&&u("Must specify vertex creation function"),typeof f.cell!="function"&&u("Must specify cell creation function"),typeof f.phase!="function"&&u("Must specify phase function");for(var h=f.getters||[],o=new Array(c),d=0;d<c;++d)h.indexOf(d)>=0?o[d]=!0:o[d]=!1;return n(f.vertex,f.cell,f.phase,w,m,o)}},9144:function(v,p,t){var r=t(3094),s={zero:function(T,E,x,S){var b=T[0],a=x[0];S|=0;var C=0,y=a;for(C=0;C<b;++C)E[S]=0,S+=y},fdTemplate1:function(T,E,x,S,b,a,C){var y=T[0],z=x[0],I=a[0],B=-1*z,F=z;S|=0,C|=0;var O=0,N=z,_=I;for(O=0;O<y;++O)b[C]=.5*(E[S+B]-E[S+F]),S+=N,C+=_},fdTemplate2:function(T,E,x,S,b,a,C,y,z,I){var B=T[0],F=T[1],O=x[0],N=x[1],_=a[0],U=a[1],Y=z[0],K=z[1],re=-1*O,ae=O,fe=-1*N,Q=N;S|=0,C|=0,I|=0;var j=0,X=0,J=N,ee=O-F*N,se=U,q=_-F*U,$=K,le=Y-F*K;for(X=0;X<B;++X){for(j=0;j<F;++j)b[C]=.5*(E[S+re]-E[S+ae]),y[I]=.5*(E[S+fe]-E[S+Q]),S+=J,C+=se,I+=$;S+=ee,C+=q,I+=le}}},n={cdiff:function(T){var E={};return function(S,b,a){var C=S.dtype,y=S.order,z=b.dtype,I=b.order,B=a.dtype,F=a.order,O=[C,y.join(),z,I.join(),B,F.join()].join(),N=E[O];return N||(E[O]=N=T([C,y,z,I,B,F])),N(S.shape.slice(0),S.data,S.stride,S.offset|0,b.data,b.stride,b.offset|0,a.data,a.stride,a.offset|0)}},zero:function(T){var E={};return function(S){var b=S.dtype,a=S.order,C=[b,a.join()].join(),y=E[C];return y||(E[C]=y=T([b,a])),y(S.shape.slice(0),S.data,S.stride,S.offset|0)}},fdTemplate1:function(T){var E={};return function(S,b){var a=S.dtype,C=S.order,y=b.dtype,z=b.order,I=[a,C.join(),y,z.join()].join(),B=E[I];return B||(E[I]=B=T([a,C,y,z])),B(S.shape.slice(0),S.data,S.stride,S.offset|0,b.data,b.stride,b.offset|0)}},fdTemplate2:function(T){var E={};return function(S,b,a){var C=S.dtype,y=S.order,z=b.dtype,I=b.order,B=a.dtype,F=a.order,O=[C,y.join(),z,I.join(),B,F.join()].join(),N=E[O];return N||(E[O]=N=T([C,y,z,I,B,F])),N(S.shape.slice(0),S.data,S.stride,S.offset|0,b.data,b.stride,b.offset|0,a.data,a.stride,a.offset|0)}}};function l(T){var E=n[T.funcName];return E(f.bind(void 0,T))}function f(T){return s[T.funcName]}function u(T){return l({funcName:T.funcName})}var m={},c={},w=u({funcName:"cdiff"}),h=u({funcName:"zero"});function o(T){return T in m?m[T]:m[T]=u({funcName:"fdTemplate"+T})}function d(T,E,x,S){return function(b,a){var C=a.shape.slice();return C[0]>2&&C[1]>2&&S(a.pick(-1,-1).lo(1,1).hi(C[0]-2,C[1]-2),b.pick(-1,-1,0).lo(1,1).hi(C[0]-2,C[1]-2),b.pick(-1,-1,1).lo(1,1).hi(C[0]-2,C[1]-2)),C[1]>2&&(x(a.pick(0,-1).lo(1).hi(C[1]-2),b.pick(0,-1,1).lo(1).hi(C[1]-2)),E(b.pick(0,-1,0).lo(1).hi(C[1]-2))),C[1]>2&&(x(a.pick(C[0]-1,-1).lo(1).hi(C[1]-2),b.pick(C[0]-1,-1,1).lo(1).hi(C[1]-2)),E(b.pick(C[0]-1,-1,0).lo(1).hi(C[1]-2))),C[0]>2&&(x(a.pick(-1,0).lo(1).hi(C[0]-2),b.pick(-1,0,0).lo(1).hi(C[0]-2)),E(b.pick(-1,0,1).lo(1).hi(C[0]-2))),C[0]>2&&(x(a.pick(-1,C[1]-1).lo(1).hi(C[0]-2),b.pick(-1,C[1]-1,0).lo(1).hi(C[0]-2)),E(b.pick(-1,C[1]-1,1).lo(1).hi(C[0]-2))),b.set(0,0,0,0),b.set(0,0,1,0),b.set(C[0]-1,0,0,0),b.set(C[0]-1,0,1,0),b.set(0,C[1]-1,0,0),b.set(0,C[1]-1,1,0),b.set(C[0]-1,C[1]-1,0,0),b.set(C[0]-1,C[1]-1,1,0),b}}function M(T){var E=T.join(),C=c[E];if(C)return C;for(var x=T.length,S=[w,h],b=1;b<=x;++b)S.push(o(b));var a=d,C=a.apply(void 0,S);return c[E]=C,C}v.exports=function(E,x,S){if(Array.isArray(S)||(typeof S=="string"?S=r(x.dimension,S):S=r(x.dimension,"clamp")),x.size===0)return E;if(x.dimension===0)return E.set(0),E;var b=M(S);return b(E,x)}},3581:function(v){function p(l,f){var u=Math.floor(f),m=f-u,c=0<=u&&u<l.shape[0],w=0<=u+1&&u+1<l.shape[0],h=c?+l.get(u):0,o=w?+l.get(u+1):0;return(1-m)*h+m*o}function t(l,f,u){var m=Math.floor(f),c=f-m,w=0<=m&&m<l.shape[0],h=0<=m+1&&m+1<l.shape[0],o=Math.floor(u),d=u-o,M=0<=o&&o<l.shape[1],T=0<=o+1&&o+1<l.shape[1],E=w&&M?l.get(m,o):0,x=w&&T?l.get(m,o+1):0,S=h&&M?l.get(m+1,o):0,b=h&&T?l.get(m+1,o+1):0;return(1-d)*((1-c)*E+c*S)+d*((1-c)*x+c*b)}function r(l,f,u,m){var c=Math.floor(f),w=f-c,h=0<=c&&c<l.shape[0],o=0<=c+1&&c+1<l.shape[0],d=Math.floor(u),M=u-d,T=0<=d&&d<l.shape[1],E=0<=d+1&&d+1<l.shape[1],x=Math.floor(m),S=m-x,b=0<=x&&x<l.shape[2],a=0<=x+1&&x+1<l.shape[2],C=h&&T&&b?l.get(c,d,x):0,y=h&&E&&b?l.get(c,d+1,x):0,z=o&&T&&b?l.get(c+1,d,x):0,I=o&&E&&b?l.get(c+1,d+1,x):0,B=h&&T&&a?l.get(c,d,x+1):0,F=h&&E&&a?l.get(c,d+1,x+1):0,O=o&&T&&a?l.get(c+1,d,x+1):0,N=o&&E&&a?l.get(c+1,d+1,x+1):0;return(1-S)*((1-M)*((1-w)*C+w*z)+M*((1-w)*y+w*I))+S*((1-M)*((1-w)*B+w*O)+M*((1-w)*F+w*N))}function s(l){var f=l.shape.length|0,u=new Array(f),m=new Array(f),c=new Array(f),w=new Array(f),h,o;for(h=0;h<f;++h)o=+arguments[h+1],u[h]=Math.floor(o),m[h]=o-u[h],c[h]=0<=u[h]&&u[h]<l.shape[h],w[h]=0<=u[h]+1&&u[h]+1<l.shape[h];var d=0,M,T,E;e:for(h=0;h<1<<f;++h){for(T=1,E=l.offset,M=0;M<f;++M)if(h&1<<M){if(!w[M])continue e;T*=m[M],E+=l.stride[M]*(u[M]+1)}else{if(!c[M])continue e;T*=1-m[M],E+=l.stride[M]*u[M]}d+=T*l.data[E]}return d}function n(l,f,u,m){switch(l.shape.length){case 0:return 0;case 1:return p(l,f);case 2:return t(l,f,u);case 3:return r(l,f,u,m);default:return s.apply(void 0,arguments)}}v.exports=n,v.exports.d1=p,v.exports.d2=t,v.exports.d3=r},7498:function(v,p){var t={"float64,2,1,0":function(){return function(c,w,h,o,d){var M=c[0],T=c[1],E=c[2],x=h[0],S=h[1],b=h[2];o|=0;var a=0,C=0,y=0,z=b,I=S-E*b,B=x-T*S;for(y=0;y<M;++y){for(C=0;C<T;++C){for(a=0;a<E;++a)w[o]/=d,o+=z;o+=I}o+=B}}},"uint8,2,0,1,float64,2,1,0":function(){return function(c,w,h,o,d,M,T,E){var x=c[0],S=c[1],b=c[2],a=h[0],C=h[1],y=h[2],z=M[0],I=M[1],B=M[2];o|=0,T|=0;for(var F=o,O=T,N=c[0]|0;N>0;){N<64?(x=N,N=0):(x=64,N-=64);for(var _=c[1]|0;_>0;){_<64?(S=_,_=0):(S=64,_-=64),o=F+N*a+_*C,T=O+N*z+_*I;var U=0,Y=0,K=0,re=y,ae=a-b*y,fe=C-x*a,Q=B,j=z-b*B,X=I-x*z;for(K=0;K<S;++K){for(Y=0;Y<x;++Y){for(U=0;U<b;++U)w[o]=d[T]*E,o+=re,T+=Q;o+=ae,T+=j}o+=fe,T+=X}}}}},"float32,1,0,float32,1,0":function(){return function(c,w,h,o,d,M,T){var E=c[0],x=c[1],S=h[0],b=h[1],a=M[0],C=M[1];o|=0,T|=0;var y=0,z=0,I=b,B=S-x*b,F=C,O=a-x*C;for(z=0;z<E;++z){for(y=0;y<x;++y)w[o]=d[T],o+=I,T+=F;o+=B,T+=O}}},"float32,1,0,float32,0,1":function(){return function(c,w,h,o,d,M,T){var E=c[0],x=c[1],S=h[0],b=h[1],a=M[0],C=M[1];o|=0,T|=0;for(var y=o,z=T,I=c[1]|0;I>0;){I<64?(x=I,I=0):(x=64,I-=64);for(var B=c[0]|0;B>0;){B<64?(E=B,B=0):(E=64,B-=64),o=y+I*b+B*S,T=z+I*C+B*a;var F=0,O=0,N=b,_=S-x*b,U=C,Y=a-x*C;for(O=0;O<E;++O){for(F=0;F<x;++F)w[o]=d[T],o+=N,T+=U;o+=_,T+=Y}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(c,w,h,o,d,M,T){var E=c[0],x=c[1],S=c[2],b=h[0],a=h[1],C=h[2],y=M[0],z=M[1],I=M[2];o|=0,T|=0;for(var B=o,F=T,O=c[2]|0;O>0;){O<64?(S=O,O=0):(S=64,O-=64);for(var N=c[0]|0;N>0;){N<64?(E=N,N=0):(E=64,N-=64);for(var _=c[1]|0;_>0;){_<64?(x=_,_=0):(x=64,_-=64),o=B+O*C+N*b+_*a,T=F+O*I+N*y+_*z;var U=0,Y=0,K=0,re=C,ae=b-S*C,fe=a-E*b,Q=I,j=y-S*I,X=z-E*y;for(K=0;K<x;++K){for(Y=0;Y<E;++Y){for(U=0;U<S;++U)w[o]=d[T],o+=re,T+=Q;o+=ae,T+=j}o+=fe,T+=X}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(c,w,h,o,d,M,T){var E=c[0],x=c[1],S=c[2],b=h[0],a=h[1],C=h[2],y=M[0],z=M[1],I=M[2];o|=0,T|=0;var B=0,F=0,O=0,N=C,_=b-S*C,U=a-E*b,Y=I,K=y-S*I,re=z-E*y;for(O=0;O<x;++O){for(F=0;F<E;++F){for(B=0;B<S;++B)w[o]=d[T],o+=N,T+=Y;o+=_,T+=K}o+=U,T+=re}}}};function r(m,c){var w=c.join(","),h=t[w];return h()}var s=r,n={mul:function(m){var c={};return function(h,o,d){var M=h.dtype,T=h.order,E=o.dtype,x=o.order,S=d.dtype,b=d.order,a=[M,T.join(),E,x.join(),S,b.join()].join(),C=c[a];return C||(c[a]=C=m([M,T,E,x,S,b])),C(h.shape.slice(0),h.data,h.stride,h.offset|0,o.data,o.stride,o.offset|0,d.data,d.stride,d.offset|0)}},muls:function(m){var c={};return function(h,o,d){var M=h.dtype,T=h.order,E=o.dtype,x=o.order,S=[M,T.join(),E,x.join()].join(),b=c[S];return b||(c[S]=b=m([M,T,E,x])),b(h.shape.slice(0),h.data,h.stride,h.offset|0,o.data,o.stride,o.offset|0,d)}},mulseq:function(m){var c={};return function(h,o){var d=h.dtype,M=h.order,T=[d,M.join()].join(),E=c[T];return E||(c[T]=E=m([d,M])),E(h.shape.slice(0),h.data,h.stride,h.offset|0,o)}},div:function(m){var c={};return function(h,o,d){var M=h.dtype,T=h.order,E=o.dtype,x=o.order,S=d.dtype,b=d.order,a=[M,T.join(),E,x.join(),S,b.join()].join(),C=c[a];return C||(c[a]=C=m([M,T,E,x,S,b])),C(h.shape.slice(0),h.data,h.stride,h.offset|0,o.data,o.stride,o.offset|0,d.data,d.stride,d.offset|0)}},divs:function(m){var c={};return function(h,o,d){var M=h.dtype,T=h.order,E=o.dtype,x=o.order,S=[M,T.join(),E,x.join()].join(),b=c[S];return b||(c[S]=b=m([M,T,E,x])),b(h.shape.slice(0),h.data,h.stride,h.offset|0,o.data,o.stride,o.offset|0,d)}},divseq:function(m){var c={};return function(h,o){var d=h.dtype,M=h.order,T=[d,M.join()].join(),E=c[T];return E||(c[T]=E=m([d,M])),E(h.shape.slice(0),h.data,h.stride,h.offset|0,o)}},assign:function(m){var c={};return function(h,o){var d=h.dtype,M=h.order,T=o.dtype,E=o.order,x=[d,M.join(),T,E.join()].join(),S=c[x];return S||(c[x]=S=m([d,M,T,E])),S(h.shape.slice(0),h.data,h.stride,h.offset|0,o.data,o.stride,o.offset|0)}}};function l(m){var c=n[m.funcName];return c(s.bind(void 0,m))}function f(m){return l({funcName:m.funcName})}var u={mul:"*",div:"/"};(function(){for(var m in u)p[m]=f({funcName:m}),p[m+"s"]=f({funcName:m+"s"}),p[m+"seq"]=f({funcName:m+"seq"})})(),p.assign=f({funcName:"assign"})},7382:function(v,p,t){var r=t(5050),s=t(9262);v.exports=function(l,f){for(var u=[],m=l,c=1;Array.isArray(m);)u.push(m.length),c*=m.length,m=m[0];return u.length===0?r():(f||(f=r(new Float64Array(c),u)),s(f,l),f)}},9262:function(v){function p(){return function(f,u,m,c,w){var h=f[0],o=f[1],d=f[2],M=m[0],T=m[1],E=m[2],x=[0,0,0];c|=0;var S=0,b=0,a=0,C=E,y=T-d*E,z=M-o*T;for(a=0;a<h;++a){for(b=0;b<o;++b){for(S=0;S<d;++S){{var I=w,B;for(B=0;B<x.length-1;++B)I=I[x[B]];u[c]=I[x[x.length-1]]}c+=C,++x[2]}c+=y,x[2]-=d,++x[1]}c+=z,x[1]-=o,++x[0]}}}function t(){return p()}var r=t;function s(f){var u={};return function(c,w){var h=c.dtype,o=c.order,d=[h,o.join()].join(),M=u[d];return M||(u[d]=M=f([h,o])),M(c.shape.slice(0),c.data,c.stride,c.offset|0,w)}}function n(f){return s(r.bind(void 0,f))}function l(f){return n({funcName:f.funcName})}v.exports=l({funcName:"convert"})},8139:function(v,p,t){var r=t(5306);function s(w){switch(w){case"uint32":return[r.mallocUint32,r.freeUint32];default:return null}}var n={"uint32,1,0":function(w,h){return function(d,M,T,E,x,S,b,a,C,y,z){var I,B,F,O=d*x+E,N,_=w(a),U,Y,K,re;for(I=d+1;I<=M;++I){for(B=I,O+=x,F=O,U=0,Y=O,N=0;N<a;++N)_[U++]=T[Y],Y+=C;e:for(;B-- >d;){U=0,Y=F-x;t:for(N=0;N<a;++N){if(K=T[Y],re=_[U],K<re)break e;if(K>re)break t;Y+=y,U+=z}for(U=F,Y=F-x,N=0;N<a;++N)T[U]=T[Y],U+=C,Y+=C;F-=x}for(U=F,Y=0,N=0;N<a;++N)T[U]=_[Y++],U+=C}h(_)}}};function l(w,h){var o=s(h),d=[h,w].join(","),M=n[d];return o?M(o[0],o[1]):M()}var f={"uint32,1,0":function(w,h,o){return function d(M,T,E,x,S,b,a,C,y,z,I){var B=(T-M+1)/6|0,F=M+B,O=T-B,N=M+T>>1,_=N-B,U=N+B,Y=F,K=_,re=N,ae=U,fe=O,Q=M+1,j=T-1,X=!0,J,ee,se,q,$,le,ie,ce,me,Me=0,we=0,Oe=0,Be,Ce,xe,Se,He,Ge,ke,We,it,et,tt,at,ht,yt,gt,Et,Ct=C,Vt=h(Ct),Qe=h(Ct);Ce=S*Y,xe=S*K,Et=x;e:for(Be=0;Be<C;++Be){if(ie=Ce+Et,ce=xe+Et,Oe=E[ie]-E[ce],Oe>0){ee=Y,Y=K,K=ee;break e}if(Oe<0)break e;Et+=z}Ce=S*ae,xe=S*fe,Et=x;e:for(Be=0;Be<C;++Be){if(ie=Ce+Et,ce=xe+Et,Oe=E[ie]-E[ce],Oe>0){ee=ae,ae=fe,fe=ee;break e}if(Oe<0)break e;Et+=z}Ce=S*Y,xe=S*re,Et=x;e:for(Be=0;Be<C;++Be){if(ie=Ce+Et,ce=xe+Et,Oe=E[ie]-E[ce],Oe>0){ee=Y,Y=re,re=ee;break e}if(Oe<0)break e;Et+=z}Ce=S*K,xe=S*re,Et=x;e:for(Be=0;Be<C;++Be){if(ie=Ce+Et,ce=xe+Et,Oe=E[ie]-E[ce],Oe>0){ee=K,K=re,re=ee;break e}if(Oe<0)break e;Et+=z}Ce=S*Y,xe=S*ae,Et=x;e:for(Be=0;Be<C;++Be){if(ie=Ce+Et,ce=xe+Et,Oe=E[ie]-E[ce],Oe>0){ee=Y,Y=ae,ae=ee;break e}if(Oe<0)break e;Et+=z}Ce=S*re,xe=S*ae,Et=x;e:for(Be=0;Be<C;++Be){if(ie=Ce+Et,ce=xe+Et,Oe=E[ie]-E[ce],Oe>0){ee=re,re=ae,ae=ee;break e}if(Oe<0)break e;Et+=z}Ce=S*K,xe=S*fe,Et=x;e:for(Be=0;Be<C;++Be){if(ie=Ce+Et,ce=xe+Et,Oe=E[ie]-E[ce],Oe>0){ee=K,K=fe,fe=ee;break e}if(Oe<0)break e;Et+=z}Ce=S*K,xe=S*re,Et=x;e:for(Be=0;Be<C;++Be){if(ie=Ce+Et,ce=xe+Et,Oe=E[ie]-E[ce],Oe>0){ee=K,K=re,re=ee;break e}if(Oe<0)break e;Et+=z}Ce=S*ae,xe=S*fe,Et=x;e:for(Be=0;Be<C;++Be){if(ie=Ce+Et,ce=xe+Et,Oe=E[ie]-E[ce],Oe>0){ee=ae,ae=fe,fe=ee;break e}if(Oe<0)break e;Et+=z}for(Ce=S*Y,xe=S*K,Se=S*re,He=S*ae,Ge=S*fe,ke=S*F,We=S*N,it=S*O,gt=0,Et=x,Be=0;Be<C;++Be)ie=Ce+Et,ce=xe+Et,me=Se+Et,et=He+Et,tt=Ge+Et,at=ke+Et,ht=We+Et,yt=it+Et,Vt[gt]=E[ce],Qe[gt]=E[et],X=X&&Vt[gt]===Qe[gt],se=E[ie],q=E[me],$=E[tt],E[at]=se,E[ht]=q,E[yt]=$,++gt,Et+=y;for(Ce=S*_,xe=S*M,Et=x,Be=0;Be<C;++Be)ie=Ce+Et,ce=xe+Et,E[ie]=E[ce],Et+=y;for(Ce=S*U,xe=S*T,Et=x,Be=0;Be<C;++Be)ie=Ce+Et,ce=xe+Et,E[ie]=E[ce],Et+=y;if(X)for(le=Q;le<=j;++le){ie=x+le*S,gt=0;e:for(Be=0;Be<C;++Be){if(Oe=E[ie]-Vt[gt],Oe!==0)break e;gt+=I,ie+=z}if(Oe!==0)if(Oe<0){if(le!==Q)for(Ce=S*le,xe=S*Q,Et=x,Be=0;Be<C;++Be)ie=Ce+Et,ce=xe+Et,J=E[ie],E[ie]=E[ce],E[ce]=J,Et+=y;++Q}else for(;;){ie=x+j*S,gt=0;e:for(Be=0;Be<C;++Be){if(Oe=E[ie]-Vt[gt],Oe!==0)break e;gt+=I,ie+=z}if(Oe>0)j--;else if(Oe<0){for(Ce=S*le,xe=S*Q,Se=S*j,Et=x,Be=0;Be<C;++Be)ie=Ce+Et,ce=xe+Et,me=Se+Et,J=E[ie],E[ie]=E[ce],E[ce]=E[me],E[me]=J,Et+=y;++Q,--j;break}else{for(Ce=S*le,xe=S*j,Et=x,Be=0;Be<C;++Be)ie=Ce+Et,ce=xe+Et,J=E[ie],E[ie]=E[ce],E[ce]=J,Et+=y;--j;break}}}else for(le=Q;le<=j;++le){ie=x+le*S,gt=0;e:for(Be=0;Be<C;++Be){if(Me=E[ie]-Vt[gt],Me!==0)break e;gt+=I,ie+=z}if(Me<0){if(le!==Q)for(Ce=S*le,xe=S*Q,Et=x,Be=0;Be<C;++Be)ie=Ce+Et,ce=xe+Et,J=E[ie],E[ie]=E[ce],E[ce]=J,Et+=y;++Q}else{ie=x+le*S,gt=0;e:for(Be=0;Be<C;++Be){if(we=E[ie]-Qe[gt],we!==0)break e;gt+=I,ie+=z}if(we>0)for(;;){ie=x+j*S,gt=0;e:for(Be=0;Be<C;++Be){if(Oe=E[ie]-Qe[gt],Oe!==0)break e;gt+=I,ie+=z}if(Oe>0){if(--j<le)break;continue}else{ie=x+j*S,gt=0;e:for(Be=0;Be<C;++Be){if(Oe=E[ie]-Vt[gt],Oe!==0)break e;gt+=I,ie+=z}if(Oe<0){for(Ce=S*le,xe=S*Q,Se=S*j,Et=x,Be=0;Be<C;++Be)ie=Ce+Et,ce=xe+Et,me=Se+Et,J=E[ie],E[ie]=E[ce],E[ce]=E[me],E[me]=J,Et+=y;++Q,--j}else{for(Ce=S*le,xe=S*j,Et=x,Be=0;Be<C;++Be)ie=Ce+Et,ce=xe+Et,J=E[ie],E[ie]=E[ce],E[ce]=J,Et+=y;--j}break}}}}for(Ce=S*M,xe=S*(Q-1),gt=0,Et=x,Be=0;Be<C;++Be)ie=Ce+Et,ce=xe+Et,E[ie]=E[ce],E[ce]=Vt[gt],++gt,Et+=y;for(Ce=S*T,xe=S*(j+1),gt=0,Et=x,Be=0;Be<C;++Be)ie=Ce+Et,ce=xe+Et,E[ie]=E[ce],E[ce]=Qe[gt],++gt,Et+=y;if(Q-2-M<=32?w(M,Q-2,E,x,S,b,a,C,y,z,I):d(M,Q-2,E,x,S,b,a,C,y,z,I),T-(j+2)<=32?w(j+2,T,E,x,S,b,a,C,y,z,I):d(j+2,T,E,x,S,b,a,C,y,z,I),X){o(Vt),o(Qe);return}if(Q<F&&j>O){e:for(;;){for(ie=x+Q*S,gt=0,Et=x,Be=0;Be<C;++Be){if(E[ie]!==Vt[gt])break e;++gt,ie+=y}++Q}e:for(;;){for(ie=x+j*S,gt=0,Et=x,Be=0;Be<C;++Be){if(E[ie]!==Qe[gt])break e;++gt,ie+=y}--j}for(le=Q;le<=j;++le){ie=x+le*S,gt=0;e:for(Be=0;Be<C;++Be){if(Me=E[ie]-Vt[gt],Me!==0)break e;gt+=I,ie+=z}if(Me===0){if(le!==Q)for(Ce=S*le,xe=S*Q,Et=x,Be=0;Be<C;++Be)ie=Ce+Et,ce=xe+Et,J=E[ie],E[ie]=E[ce],E[ce]=J,Et+=y;++Q}else{ie=x+le*S,gt=0;e:for(Be=0;Be<C;++Be){if(we=E[ie]-Qe[gt],we!==0)break e;gt+=I,ie+=z}if(we===0)for(;;){ie=x+j*S,gt=0;e:for(Be=0;Be<C;++Be){if(Oe=E[ie]-Qe[gt],Oe!==0)break e;gt+=I,ie+=z}if(Oe===0){if(--j<le)break;continue}else{ie=x+j*S,gt=0;e:for(Be=0;Be<C;++Be){if(Oe=E[ie]-Vt[gt],Oe!==0)break e;gt+=I,ie+=z}if(Oe<0){for(Ce=S*le,xe=S*Q,Se=S*j,Et=x,Be=0;Be<C;++Be)ie=Ce+Et,ce=xe+Et,me=Se+Et,J=E[ie],E[ie]=E[ce],E[ce]=E[me],E[me]=J,Et+=y;++Q,--j}else{for(Ce=S*le,xe=S*j,Et=x,Be=0;Be<C;++Be)ie=Ce+Et,ce=xe+Et,J=E[ie],E[ie]=E[ce],E[ce]=J,Et+=y;--j}break}}}}}o(Vt),o(Qe),j-Q<=32?w(Q,j,E,x,S,b,a,C,y,z,I):d(Q,j,E,x,S,b,a,C,y,z,I)}}};function u(w,h,o){var d=s(h),M=[h,w].join(","),T=f[M];return w.length>1&&d?T(o,d[0],d[1]):T(o)}var m={"uint32,1,0":function(w,h){return function(o){var d=o.data,M=o.offset|0,T=o.shape,E=o.stride,x=E[0]|0,S=T[0]|0,b=E[1]|0,a=T[1]|0,C=b,y=b,z=1;S<=32?w(0,S-1,d,M,x,b,S,a,C,y,z):h(0,S-1,d,M,x,b,S,a,C,y,z)}}};function c(w,h){var o=[h,w].join(","),d=m[o],M=l(w,h),T=u(w,h,M);return d(M,T)}v.exports=c},8729:function(v,p,t){var r=t(8139),s={};function n(l){var f=l.order,u=l.dtype,m=[f,u],c=m.join(":"),w=s[c];return w||(s[c]=w=r(f,u)),w(l),l}v.exports=n},5050:function(v,p,t){var r=t(4780),s=typeof Float64Array<"u";function n(h,o){return h[0]-o[0]}function l(){var h=this.stride,o=new Array(h.length),d;for(d=0;d<o.length;++d)o[d]=[Math.abs(h[d]),d];o.sort(n);var M=new Array(o.length);for(d=0;d<M.length;++d)M[d]=o[d][1];return M}var f={T:function(h){function o(M){this.data=M}var d=o.prototype;return d.dtype=h,d.index=function(){return-1},d.size=0,d.dimension=-1,d.shape=d.stride=d.order=[],d.lo=d.hi=d.transpose=d.step=function(){return new o(this.data)},d.get=d.set=function(){},d.pick=function(){return null},function(T){return new o(T)}},0:function(h,o){function d(T,E){this.data=T,this.offset=E}var M=d.prototype;return M.dtype=h,M.index=function(){return this.offset},M.dimension=0,M.size=1,M.shape=M.stride=M.order=[],M.lo=M.hi=M.transpose=M.step=function(){return new d(this.data,this.offset)},M.pick=function(){return o(this.data)},M.valueOf=M.get=function(){return h==="generic"?this.data.get(this.offset):this.data[this.offset]},M.set=function(E){return h==="generic"?this.data.set(this.offset,E):this.data[this.offset]=E},function(E,x,S,b){return new d(E,b)}},1:function(h,o,d){function M(E,x,S,b){this.data=E,this.shape=[x],this.stride=[S],this.offset=b|0}var T=M.prototype;return T.dtype=h,T.dimension=1,Object.defineProperty(T,"size",{get:function(){return this.shape[0]}}),T.order=[0],T.set=function(x,S){return h==="generic"?this.data.set(this.offset+this.stride[0]*x,S):this.data[this.offset+this.stride[0]*x]=S},T.get=function(x){return h==="generic"?this.data.get(this.offset+this.stride[0]*x):this.data[this.offset+this.stride[0]*x]},T.index=function(x){return this.offset+this.stride[0]*x},T.hi=function(x){return new M(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,this.stride[0],this.offset)},T.lo=function(x){var S=this.offset,b=0,a=this.shape[0],C=this.stride[0];return typeof x=="number"&&x>=0&&(b=x|0,S+=C*b,a-=b),new M(this.data,a,C,S)},T.step=function(x){var S=this.shape[0],b=this.stride[0],a=this.offset,C=0,y=Math.ceil;return typeof x=="number"&&(C=x|0,C<0?(a+=b*(S-1),S=y(-S/C)):S=y(S/C),b*=C),new M(this.data,S,b,a)},T.transpose=function(x){x=x===void 0?0:x|0;var S=this.shape,b=this.stride;return new M(this.data,S[x],b[x],this.offset)},T.pick=function(x){var S=[],b=[],a=this.offset;typeof x=="number"&&x>=0?a=a+this.stride[0]*x|0:(S.push(this.shape[0]),b.push(this.stride[0]));var C=o[S.length+1];return C(this.data,S,b,a)},function(x,S,b,a){return new M(x,S[0],b[0],a)}},2:function(h,o,d){function M(E,x,S,b,a,C){this.data=E,this.shape=[x,S],this.stride=[b,a],this.offset=C|0}var T=M.prototype;return T.dtype=h,T.dimension=2,Object.defineProperty(T,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(T,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),T.set=function(x,S,b){return h==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*S,b):this.data[this.offset+this.stride[0]*x+this.stride[1]*S]=b},T.get=function(x,S){return h==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*S):this.data[this.offset+this.stride[0]*x+this.stride[1]*S]},T.index=function(x,S){return this.offset+this.stride[0]*x+this.stride[1]*S},T.hi=function(x,S){return new M(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,typeof S!="number"||S<0?this.shape[1]:S|0,this.stride[0],this.stride[1],this.offset)},T.lo=function(x,S){var b=this.offset,a=0,C=this.shape[0],y=this.shape[1],z=this.stride[0],I=this.stride[1];return typeof x=="number"&&x>=0&&(a=x|0,b+=z*a,C-=a),typeof S=="number"&&S>=0&&(a=S|0,b+=I*a,y-=a),new M(this.data,C,y,z,I,b)},T.step=function(x,S){var b=this.shape[0],a=this.shape[1],C=this.stride[0],y=this.stride[1],z=this.offset,I=0,B=Math.ceil;return typeof x=="number"&&(I=x|0,I<0?(z+=C*(b-1),b=B(-b/I)):b=B(b/I),C*=I),typeof S=="number"&&(I=S|0,I<0?(z+=y*(a-1),a=B(-a/I)):a=B(a/I),y*=I),new M(this.data,b,a,C,y,z)},T.transpose=function(x,S){x=x===void 0?0:x|0,S=S===void 0?1:S|0;var b=this.shape,a=this.stride;return new M(this.data,b[x],b[S],a[x],a[S],this.offset)},T.pick=function(x,S){var b=[],a=[],C=this.offset;typeof x=="number"&&x>=0?C=C+this.stride[0]*x|0:(b.push(this.shape[0]),a.push(this.stride[0])),typeof S=="number"&&S>=0?C=C+this.stride[1]*S|0:(b.push(this.shape[1]),a.push(this.stride[1]));var y=o[b.length+1];return y(this.data,b,a,C)},function(x,S,b,a){return new M(x,S[0],S[1],b[0],b[1],a)}},3:function(h,o,d){function M(E,x,S,b,a,C,y,z){this.data=E,this.shape=[x,S,b],this.stride=[a,C,y],this.offset=z|0}var T=M.prototype;return T.dtype=h,T.dimension=3,Object.defineProperty(T,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(T,"order",{get:function(){var x=Math.abs(this.stride[0]),S=Math.abs(this.stride[1]),b=Math.abs(this.stride[2]);return x>S?S>b?[2,1,0]:x>b?[1,2,0]:[1,0,2]:x>b?[2,0,1]:b>S?[0,1,2]:[0,2,1]}}),T.set=function(x,S,b,a){return h==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*S+this.stride[2]*b,a):this.data[this.offset+this.stride[0]*x+this.stride[1]*S+this.stride[2]*b]=a},T.get=function(x,S,b){return h==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*S+this.stride[2]*b):this.data[this.offset+this.stride[0]*x+this.stride[1]*S+this.stride[2]*b]},T.index=function(x,S,b){return this.offset+this.stride[0]*x+this.stride[1]*S+this.stride[2]*b},T.hi=function(x,S,b){return new M(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,typeof S!="number"||S<0?this.shape[1]:S|0,typeof b!="number"||b<0?this.shape[2]:b|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},T.lo=function(x,S,b){var a=this.offset,C=0,y=this.shape[0],z=this.shape[1],I=this.shape[2],B=this.stride[0],F=this.stride[1],O=this.stride[2];return typeof x=="number"&&x>=0&&(C=x|0,a+=B*C,y-=C),typeof S=="number"&&S>=0&&(C=S|0,a+=F*C,z-=C),typeof b=="number"&&b>=0&&(C=b|0,a+=O*C,I-=C),new M(this.data,y,z,I,B,F,O,a)},T.step=function(x,S,b){var a=this.shape[0],C=this.shape[1],y=this.shape[2],z=this.stride[0],I=this.stride[1],B=this.stride[2],F=this.offset,O=0,N=Math.ceil;return typeof x=="number"&&(O=x|0,O<0?(F+=z*(a-1),a=N(-a/O)):a=N(a/O),z*=O),typeof S=="number"&&(O=S|0,O<0?(F+=I*(C-1),C=N(-C/O)):C=N(C/O),I*=O),typeof b=="number"&&(O=b|0,O<0?(F+=B*(y-1),y=N(-y/O)):y=N(y/O),B*=O),new M(this.data,a,C,y,z,I,B,F)},T.transpose=function(x,S,b){x=x===void 0?0:x|0,S=S===void 0?1:S|0,b=b===void 0?2:b|0;var a=this.shape,C=this.stride;return new M(this.data,a[x],a[S],a[b],C[x],C[S],C[b],this.offset)},T.pick=function(x,S,b){var a=[],C=[],y=this.offset;typeof x=="number"&&x>=0?y=y+this.stride[0]*x|0:(a.push(this.shape[0]),C.push(this.stride[0])),typeof S=="number"&&S>=0?y=y+this.stride[1]*S|0:(a.push(this.shape[1]),C.push(this.stride[1])),typeof b=="number"&&b>=0?y=y+this.stride[2]*b|0:(a.push(this.shape[2]),C.push(this.stride[2]));var z=o[a.length+1];return z(this.data,a,C,y)},function(x,S,b,a){return new M(x,S[0],S[1],S[2],b[0],b[1],b[2],a)}},4:function(h,o,d){function M(E,x,S,b,a,C,y,z,I,B){this.data=E,this.shape=[x,S,b,a],this.stride=[C,y,z,I],this.offset=B|0}var T=M.prototype;return T.dtype=h,T.dimension=4,Object.defineProperty(T,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(T,"order",{get:d}),T.set=function(x,S,b,a,C){return h==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*S+this.stride[2]*b+this.stride[3]*a,C):this.data[this.offset+this.stride[0]*x+this.stride[1]*S+this.stride[2]*b+this.stride[3]*a]=C},T.get=function(x,S,b,a){return h==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*S+this.stride[2]*b+this.stride[3]*a):this.data[this.offset+this.stride[0]*x+this.stride[1]*S+this.stride[2]*b+this.stride[3]*a]},T.index=function(x,S,b,a){return this.offset+this.stride[0]*x+this.stride[1]*S+this.stride[2]*b+this.stride[3]*a},T.hi=function(x,S,b,a){return new M(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,typeof S!="number"||S<0?this.shape[1]:S|0,typeof b!="number"||b<0?this.shape[2]:b|0,typeof a!="number"||a<0?this.shape[3]:a|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},T.lo=function(x,S,b,a){var C=this.offset,y=0,z=this.shape[0],I=this.shape[1],B=this.shape[2],F=this.shape[3],O=this.stride[0],N=this.stride[1],_=this.stride[2],U=this.stride[3];return typeof x=="number"&&x>=0&&(y=x|0,C+=O*y,z-=y),typeof S=="number"&&S>=0&&(y=S|0,C+=N*y,I-=y),typeof b=="number"&&b>=0&&(y=b|0,C+=_*y,B-=y),typeof a=="number"&&a>=0&&(y=a|0,C+=U*y,F-=y),new M(this.data,z,I,B,F,O,N,_,U,C)},T.step=function(x,S,b,a){var C=this.shape[0],y=this.shape[1],z=this.shape[2],I=this.shape[3],B=this.stride[0],F=this.stride[1],O=this.stride[2],N=this.stride[3],_=this.offset,U=0,Y=Math.ceil;return typeof x=="number"&&(U=x|0,U<0?(_+=B*(C-1),C=Y(-C/U)):C=Y(C/U),B*=U),typeof S=="number"&&(U=S|0,U<0?(_+=F*(y-1),y=Y(-y/U)):y=Y(y/U),F*=U),typeof b=="number"&&(U=b|0,U<0?(_+=O*(z-1),z=Y(-z/U)):z=Y(z/U),O*=U),typeof a=="number"&&(U=a|0,U<0?(_+=N*(I-1),I=Y(-I/U)):I=Y(I/U),N*=U),new M(this.data,C,y,z,I,B,F,O,N,_)},T.transpose=function(x,S,b,a){x=x===void 0?0:x|0,S=S===void 0?1:S|0,b=b===void 0?2:b|0,a=a===void 0?3:a|0;var C=this.shape,y=this.stride;return new M(this.data,C[x],C[S],C[b],C[a],y[x],y[S],y[b],y[a],this.offset)},T.pick=function(x,S,b,a){var C=[],y=[],z=this.offset;typeof x=="number"&&x>=0?z=z+this.stride[0]*x|0:(C.push(this.shape[0]),y.push(this.stride[0])),typeof S=="number"&&S>=0?z=z+this.stride[1]*S|0:(C.push(this.shape[1]),y.push(this.stride[1])),typeof b=="number"&&b>=0?z=z+this.stride[2]*b|0:(C.push(this.shape[2]),y.push(this.stride[2])),typeof a=="number"&&a>=0?z=z+this.stride[3]*a|0:(C.push(this.shape[3]),y.push(this.stride[3]));var I=o[C.length+1];return I(this.data,C,y,z)},function(x,S,b,a){return new M(x,S[0],S[1],S[2],S[3],b[0],b[1],b[2],b[3],a)}},5:function(o,d,M){function T(x,S,b,a,C,y,z,I,B,F,O,N){this.data=x,this.shape=[S,b,a,C,y],this.stride=[z,I,B,F,O],this.offset=N|0}var E=T.prototype;return E.dtype=o,E.dimension=5,Object.defineProperty(E,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(E,"order",{get:M}),E.set=function(S,b,a,C,y,z){return o==="generic"?this.data.set(this.offset+this.stride[0]*S+this.stride[1]*b+this.stride[2]*a+this.stride[3]*C+this.stride[4]*y,z):this.data[this.offset+this.stride[0]*S+this.stride[1]*b+this.stride[2]*a+this.stride[3]*C+this.stride[4]*y]=z},E.get=function(S,b,a,C,y){return o==="generic"?this.data.get(this.offset+this.stride[0]*S+this.stride[1]*b+this.stride[2]*a+this.stride[3]*C+this.stride[4]*y):this.data[this.offset+this.stride[0]*S+this.stride[1]*b+this.stride[2]*a+this.stride[3]*C+this.stride[4]*y]},E.index=function(S,b,a,C,y){return this.offset+this.stride[0]*S+this.stride[1]*b+this.stride[2]*a+this.stride[3]*C+this.stride[4]*y},E.hi=function(S,b,a,C,y){return new T(this.data,typeof S!="number"||S<0?this.shape[0]:S|0,typeof b!="number"||b<0?this.shape[1]:b|0,typeof a!="number"||a<0?this.shape[2]:a|0,typeof C!="number"||C<0?this.shape[3]:C|0,typeof y!="number"||y<0?this.shape[4]:y|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},E.lo=function(S,b,a,C,y){var z=this.offset,I=0,B=this.shape[0],F=this.shape[1],O=this.shape[2],N=this.shape[3],_=this.shape[4],U=this.stride[0],Y=this.stride[1],K=this.stride[2],re=this.stride[3],ae=this.stride[4];return typeof S=="number"&&S>=0&&(I=S|0,z+=U*I,B-=I),typeof b=="number"&&b>=0&&(I=b|0,z+=Y*I,F-=I),typeof a=="number"&&a>=0&&(I=a|0,z+=K*I,O-=I),typeof C=="number"&&C>=0&&(I=C|0,z+=re*I,N-=I),typeof y=="number"&&y>=0&&(I=y|0,z+=ae*I,_-=I),new T(this.data,B,F,O,N,_,U,Y,K,re,ae,z)},E.step=function(S,b,a,C,y){var z=this.shape[0],I=this.shape[1],B=this.shape[2],F=this.shape[3],O=this.shape[4],N=this.stride[0],_=this.stride[1],U=this.stride[2],Y=this.stride[3],K=this.stride[4],re=this.offset,ae=0,fe=Math.ceil;return typeof S=="number"&&(ae=S|0,ae<0?(re+=N*(z-1),z=fe(-z/ae)):z=fe(z/ae),N*=ae),typeof b=="number"&&(ae=b|0,ae<0?(re+=_*(I-1),I=fe(-I/ae)):I=fe(I/ae),_*=ae),typeof a=="number"&&(ae=a|0,ae<0?(re+=U*(B-1),B=fe(-B/ae)):B=fe(B/ae),U*=ae),typeof C=="number"&&(ae=C|0,ae<0?(re+=Y*(F-1),F=fe(-F/ae)):F=fe(F/ae),Y*=ae),typeof y=="number"&&(ae=y|0,ae<0?(re+=K*(O-1),O=fe(-O/ae)):O=fe(O/ae),K*=ae),new T(this.data,z,I,B,F,O,N,_,U,Y,K,re)},E.transpose=function(S,b,a,C,y){S=S===void 0?0:S|0,b=b===void 0?1:b|0,a=a===void 0?2:a|0,C=C===void 0?3:C|0,y=y===void 0?4:y|0;var z=this.shape,I=this.stride;return new T(this.data,z[S],z[b],z[a],z[C],z[y],I[S],I[b],I[a],I[C],I[y],this.offset)},E.pick=function(S,b,a,C,y){var z=[],I=[],B=this.offset;typeof S=="number"&&S>=0?B=B+this.stride[0]*S|0:(z.push(this.shape[0]),I.push(this.stride[0])),typeof b=="number"&&b>=0?B=B+this.stride[1]*b|0:(z.push(this.shape[1]),I.push(this.stride[1])),typeof a=="number"&&a>=0?B=B+this.stride[2]*a|0:(z.push(this.shape[2]),I.push(this.stride[2])),typeof C=="number"&&C>=0?B=B+this.stride[3]*C|0:(z.push(this.shape[3]),I.push(this.stride[3])),typeof y=="number"&&y>=0?B=B+this.stride[4]*y|0:(z.push(this.shape[4]),I.push(this.stride[4]));var F=d[z.length+1];return F(this.data,z,I,B)},function(S,b,a,C){return new T(S,b[0],b[1],b[2],b[3],b[4],a[0],a[1],a[2],a[3],a[4],C)}}};function u(h,o){var d=o===-1?"T":String(o),M=f[d];return o===-1?M(h):o===0?M(h,c[h][0]):M(h,c[h],l)}function m(h){if(r(h))return"buffer";if(s)switch(Object.prototype.toString.call(h)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(h)?"array":"generic"}var c={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function w(h,o,d,M){if(h===void 0){var a=c.array[0];return a([])}else typeof h=="number"&&(h=[h]);o===void 0&&(o=[h.length]);var T=o.length;if(d===void 0){d=new Array(T);for(var E=T-1,x=1;E>=0;--E)d[E]=x,x*=o[E]}if(M===void 0){M=0;for(var E=0;E<T;++E)d[E]<0&&(M-=(o[E]-1)*d[E])}for(var S=m(h),b=c[S];b.length<=T+1;)b.push(u(S,b.length-1));var a=b[T+1];return a(h,o,d,M)}v.exports=w},8551:function(v,p,t){var r=t(8362),s=Math.pow(2,-1074),n=-1>>>0;v.exports=l;function l(f,u){if(isNaN(f)||isNaN(u))return NaN;if(f===u)return f;if(f===0)return u<0?-s:s;var m=r.hi(f),c=r.lo(f);return u>f==f>0?c===n?(m+=1,c=0):c+=1:c===0?(c=n,m-=1):c-=1,r.pack(c,m)}},115:function(v,p){var t=1e-6,r=1e-6;p.vertexNormals=function(s,n,l){for(var f=n.length,u=new Array(f),m=l===void 0?t:l,c=0;c<f;++c)u[c]=[0,0,0];for(var c=0;c<s.length;++c)for(var w=s[c],h=0,o=w[w.length-1],d=w[0],M=0;M<w.length;++M){h=o,o=d,d=w[(M+1)%w.length];for(var T=n[h],E=n[o],x=n[d],S=new Array(3),b=0,a=new Array(3),C=0,y=0;y<3;++y)S[y]=T[y]-E[y],b+=S[y]*S[y],a[y]=x[y]-E[y],C+=a[y]*a[y];if(b*C>m)for(var z=u[o],I=1/Math.sqrt(b*C),y=0;y<3;++y){var B=(y+1)%3,F=(y+2)%3;z[y]+=I*(a[B]*S[F]-a[F]*S[B])}}for(var c=0;c<f;++c){for(var z=u[c],O=0,y=0;y<3;++y)O+=z[y]*z[y];if(O>m)for(var I=1/Math.sqrt(O),y=0;y<3;++y)z[y]*=I;else for(var y=0;y<3;++y)z[y]=0}return u},p.faceNormals=function(s,n,l){for(var f=s.length,u=new Array(f),m=l===void 0?r:l,c=0;c<f;++c){for(var w=s[c],h=new Array(3),o=0;o<3;++o)h[o]=n[w[o]];for(var d=new Array(3),M=new Array(3),o=0;o<3;++o)d[o]=h[1][o]-h[0][o],M[o]=h[2][o]-h[0][o];for(var T=new Array(3),E=0,o=0;o<3;++o){var x=(o+1)%3,S=(o+2)%3;T[o]=d[x]*M[S]-d[S]*M[x],E+=T[o]*T[o]}E>m?E=1/Math.sqrt(E):E=0;for(var o=0;o<3;++o)T[o]*=E;u[c]=T}return u}},567:function(v){v.exports=p;function p(t,r,s,n,l,f,u,m,c,w){var h=r+f+w;if(o>0){var o=Math.sqrt(h+1);t[0]=.5*(u-c)/o,t[1]=.5*(m-n)/o,t[2]=.5*(s-f)/o,t[3]=.5*o}else{var d=Math.max(r,f,w),o=Math.sqrt(2*d-h+1);r>=d?(t[0]=.5*o,t[1]=.5*(l+s)/o,t[2]=.5*(m+n)/o,t[3]=.5*(u-c)/o):f>=d?(t[0]=.5*(s+l)/o,t[1]=.5*o,t[2]=.5*(c+u)/o,t[3]=.5*(m-n)/o):(t[0]=.5*(n+m)/o,t[1]=.5*(u+c)/o,t[2]=.5*o,t[3]=.5*(s-l)/o)}return t}},7774:function(v,p,t){v.exports=o;var r=t(8444),s=t(3012),n=t(5950),l=t(7437),f=t(567);function u(d,M,T){return Math.sqrt(Math.pow(d,2)+Math.pow(M,2)+Math.pow(T,2))}function m(d,M,T,E){return Math.sqrt(Math.pow(d,2)+Math.pow(M,2)+Math.pow(T,2)+Math.pow(E,2))}function c(d,M){var T=M[0],E=M[1],x=M[2],S=M[3],b=m(T,E,x,S);b>1e-6?(d[0]=T/b,d[1]=E/b,d[2]=x/b,d[3]=S/b):(d[0]=d[1]=d[2]=0,d[3]=1)}function w(d,M,T){this.radius=r([T]),this.center=r(M),this.rotation=r(d),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var h=w.prototype;h.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},h.recalcMatrix=function(d){this.radius.curve(d),this.center.curve(d),this.rotation.curve(d);var M=this.computedRotation;c(M,M);var T=this.computedMatrix;n(T,M);var E=this.computedCenter,x=this.computedEye,S=this.computedUp,b=Math.exp(this.computedRadius[0]);x[0]=E[0]+b*T[2],x[1]=E[1]+b*T[6],x[2]=E[2]+b*T[10],S[0]=T[1],S[1]=T[5],S[2]=T[9];for(var a=0;a<3;++a){for(var C=0,y=0;y<3;++y)C+=T[a+4*y]*x[y];T[12+a]=-C}},h.getMatrix=function(d,M){this.recalcMatrix(d);var T=this.computedMatrix;if(M){for(var E=0;E<16;++E)M[E]=T[E];return M}return T},h.idle=function(d){this.center.idle(d),this.radius.idle(d),this.rotation.idle(d)},h.flush=function(d){this.center.flush(d),this.radius.flush(d),this.rotation.flush(d)},h.pan=function(d,M,T,E){M=M||0,T=T||0,E=E||0,this.recalcMatrix(d);var x=this.computedMatrix,S=x[1],b=x[5],a=x[9],C=u(S,b,a);S/=C,b/=C,a/=C;var y=x[0],z=x[4],I=x[8],B=y*S+z*b+I*a;y-=S*B,z-=b*B,I-=a*B;var F=u(y,z,I);y/=F,z/=F,I/=F,x[2],x[6],x[10];var O=y*M+S*T,N=z*M+b*T,_=I*M+a*T;this.center.move(d,O,N,_);var U=Math.exp(this.computedRadius[0]);U=Math.max(1e-4,U+E),this.radius.set(d,Math.log(U))},h.rotate=function(d,M,T,E){this.recalcMatrix(d),M=M||0,T=T||0;var x=this.computedMatrix,S=x[0],b=x[4],a=x[8],C=x[1],y=x[5],z=x[9],I=x[2],B=x[6],F=x[10],O=M*S+T*C,N=M*b+T*y,_=M*a+T*z,U=-(B*_-F*N),Y=-(F*O-I*_),K=-(I*N-B*O),re=Math.sqrt(Math.max(0,1-Math.pow(U,2)-Math.pow(Y,2)-Math.pow(K,2))),ae=m(U,Y,K,re);ae>1e-6?(U/=ae,Y/=ae,K/=ae,re/=ae):(U=Y=K=0,re=1);var fe=this.computedRotation,Q=fe[0],j=fe[1],X=fe[2],J=fe[3],ee=Q*re+J*U+j*K-X*Y,se=j*re+J*Y+X*U-Q*K,q=X*re+J*K+Q*Y-j*U,$=J*re-Q*U-j*Y-X*K;if(E){U=I,Y=B,K=F;var le=Math.sin(E)/u(U,Y,K);U*=le,Y*=le,K*=le,re=Math.cos(M),ee=ee*re+$*U+se*K-q*Y,se=se*re+$*Y+q*U-ee*K,q=q*re+$*K+ee*Y-se*U,$=$*re-ee*U-se*Y-q*K}var ie=m(ee,se,q,$);ie>1e-6?(ee/=ie,se/=ie,q/=ie,$/=ie):(ee=se=q=0,$=1),this.rotation.set(d,ee,se,q,$)},h.lookAt=function(d,M,T,E){this.recalcMatrix(d),T=T||this.computedCenter,M=M||this.computedEye,E=E||this.computedUp;var x=this.computedMatrix;s(x,M,T,E);var S=this.computedRotation;f(S,x[0],x[1],x[2],x[4],x[5],x[6],x[8],x[9],x[10]),c(S,S),this.rotation.set(d,S[0],S[1],S[2],S[3]);for(var b=0,a=0;a<3;++a)b+=Math.pow(T[a]-M[a],2);this.radius.set(d,.5*Math.log(Math.max(b,1e-6))),this.center.set(d,T[0],T[1],T[2])},h.translate=function(d,M,T,E){this.center.move(d,M||0,T||0,E||0)},h.setMatrix=function(d,M){var T=this.computedRotation;f(T,M[0],M[1],M[2],M[4],M[5],M[6],M[8],M[9],M[10]),c(T,T),this.rotation.set(d,T[0],T[1],T[2],T[3]);var E=this.computedMatrix;l(E,M);var x=E[15];if(Math.abs(x)>1e-6){var S=E[12]/x,b=E[13]/x,a=E[14]/x;this.recalcMatrix(d);var C=Math.exp(this.computedRadius[0]);this.center.set(d,S-E[2]*C,b-E[6]*C,a-E[10]*C),this.radius.idle(d)}else this.center.idle(d),this.radius.idle(d)},h.setDistance=function(d,M){M>0&&this.radius.set(d,Math.log(M))},h.setDistanceLimits=function(d,M){d>0?d=Math.log(d):d=-1/0,M>0?M=Math.log(M):M=1/0,M=Math.max(M,d),this.radius.bounds[0][0]=d,this.radius.bounds[1][0]=M},h.getDistanceLimits=function(d){var M=this.radius.bounds;return d?(d[0]=Math.exp(M[0][0]),d[1]=Math.exp(M[1][0]),d):[Math.exp(M[0][0]),Math.exp(M[1][0])]},h.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},h.fromJSON=function(d){var M=this.lastT(),T=d.center;T&&this.center.set(M,T[0],T[1],T[2]);var E=d.rotation;E&&this.rotation.set(M,E[0],E[1],E[2],E[3]);var x=d.distance;x&&x>0&&this.radius.set(M,Math.log(x)),this.setDistanceLimits(d.zoomMin,d.zoomMax)};function o(d){d=d||{};var M=d.center||[0,0,0],T=d.rotation||[0,0,0,1],E=d.radius||1;M=[].slice.call(M,0,3),T=[].slice.call(T,0,4),c(T,T);var x=new w(T,M,Math.log(E));return x.setDistanceLimits(d.zoomMin,d.zoomMax),("eye"in d||"up"in d)&&x.lookAt(0,d.eye,d.center,d.up),x}},4930:function(v,p,t){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var r=t(6184);v.exports=function(n,l,f){return f=typeof f<"u"?f+"":" ",r(f,l)+n}},4405:function(v){v.exports=function(t,r){r||(r=[0,""]),t=String(t);var s=parseFloat(t,10);return r[0]=s,r[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",r}},4166:function(v,p,t){v.exports=s;var r=t(9398);function s(n,l){for(var f=l.length|0,u=n.length,m=[new Array(f),new Array(f)],c=0;c<f;++c)m[0][c]=[],m[1][c]=[];for(var c=0;c<u;++c){var w=n[c];m[0][w[0]].push(w),m[1][w[1]].push(w)}for(var h=[],c=0;c<f;++c)m[0][c].length+m[1][c].length===0&&h.push([c]);function o(b,a){var C=m[a][b[a]];C.splice(C.indexOf(b),1)}function d(b,a,C){for(var y,z,I,B=0;B<2;++B)if(m[B][a].length>0){y=m[B][a][0],I=B;break}z=y[I^1];for(var F=0;F<2;++F)for(var O=m[F][a],N=0;N<O.length;++N){var _=O[N],U=_[F^1],Y=r(l[b],l[a],l[z],l[U]);Y>0&&(y=_,z=U,I=F)}return C||y&&o(y,I),z}function M(b,a){var C=m[a][b][0],y=[b];o(C,a);for(var z=C[a^1];;){for(;z!==b;)y.push(z),z=d(y[y.length-2],z,!1);if(m[0][b].length+m[1][b].length===0)break;var I=y[y.length-1],B=b,F=y[1],O=d(I,B,!0);if(r(l[I],l[B],l[F],l[O])<0)break;y.push(b),z=d(I,B)}return y}function T(b,a){return a[1]===a[a.length-1]}for(var c=0;c<f;++c)for(var E=0;E<2;++E){for(var x=[];m[E][c].length>0;){m[0][c].length;var S=M(c,E);T(x,S)?x.push.apply(x,S):(x.length>0&&h.push(x),x=S)}x.length>0&&h.push(x)}return h}},3959:function(v,p,t){v.exports=s;var r=t(8348);function s(n,l){for(var f=r(n,l.length),u=new Array(l.length),m=new Array(l.length),c=[],w=0;w<l.length;++w){var h=f[w].length;m[w]=h,u[w]=!0,h<=1&&c.push(w)}for(;c.length>0;){var o=c.pop();u[o]=!1;for(var d=f[o],w=0;w<d.length;++w){var M=d[w];--m[M]===0&&c.push(M)}}for(var T=new Array(l.length),E=[],w=0;w<l.length;++w)if(u[w]){var o=E.length;T[w]=o,E.push(l[w])}else T[w]=-1;for(var x=[],w=0;w<n.length;++w){var S=n[w];u[S[0]]&&u[S[1]]&&x.push([T[S[0]],T[S[1]]])}return[x,E]}},8040:function(v,p,t){v.exports=h;var r=t(8348),s=t(4166),n=t(211),l=t(9660),f=t(9662),u=t(1215),m=t(3959);function c(o,d){for(var M=new Array(o),T=0;T<o;++T)M[T]=d;return M}function w(o){for(var d=new Array(o),M=0;M<o;++M)d[M]=[];return d}function h(o,d){var $=m(o,d);o=$[0],d=$[1];var M=d.length;o.length;for(var T=r(o,d.length),E=0;E<M;++E)if(T[E].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var x=s(o,d);function S(Oe){for(var Be=Oe.length,Ce=[0],xe=0;xe<Be;++xe){var Se=d[Oe[xe]],He=d[Oe[(xe+1)%Be]],Ge=l(-Se[0],Se[1]),ke=l(-Se[0],He[1]),We=l(He[0],Se[1]),it=l(He[0],He[1]);Ce=f(Ce,f(f(Ge,ke),f(We,it)))}return Ce[Ce.length-1]>0}x=x.filter(S);for(var b=x.length,a=new Array(b),C=new Array(b),E=0;E<b;++E){a[E]=E;var y=new Array(b),z=x[E].map(function(Be){return d[Be]}),I=n([z]),B=0;e:for(var F=0;F<b;++F)if(y[F]=0,E!==F){for(var O=x[F],N=O.length,_=0;_<N;++_){var U=I(d[O[_]]);if(U!==0){U<0&&(y[F]=1,B+=1);continue e}}y[F]=1,B+=1}C[E]=[B,E,y]}C.sort(function(Oe,Be){return Be[0]-Oe[0]});for(var E=0;E<b;++E)for(var y=C[E],Y=y[1],K=y[2],F=0;F<b;++F)K[F]&&(a[F]=Y);for(var re=w(b),E=0;E<b;++E)re[E].push(a[E]),re[a[E]].push(E);for(var ae={},fe=c(M,!1),E=0;E<b;++E)for(var O=x[E],N=O.length,F=0;F<N;++F){var Q=O[F],j=O[(F+1)%N],X=Math.min(Q,j)+":"+Math.max(Q,j);if(X in ae){var J=ae[X];re[J].push(E),re[E].push(J),fe[Q]=fe[j]=!0}else ae[X]=E}function ee(Oe){for(var Be=Oe.length,Ce=0;Ce<Be;++Ce)if(!fe[Oe[Ce]])return!1;return!0}for(var se=[],q=c(b,-1),E=0;E<b;++E)a[E]===E&&!ee(x[E])?(se.push(E),q[E]=0):q[E]=-1;for(var $=[];se.length>0;){var le=se.pop(),ie=re[le];u(ie,function(Oe,Be){return Oe-Be});var ce=ie.length,me=q[le],Me;if(me===0){var O=x[le];Me=[O]}for(var E=0;E<ce;++E){var we=ie[E];if(!(q[we]>=0)&&(q[we]=me^1,se.push(we),me===0)){var O=x[we];ee(O)||(O.reverse(),Me.push(O))}}me===0&&$.push(Me)}return $}},211:function(v,p,t){v.exports=d;var r=t(417)[3],s=t(4385),n=t(9014),l=t(5070);function f(){return!0}function u(M){return function(T,E){var x=M[T];return x?!!x.queryPoint(E,f):!1}}function m(M){for(var T={},E=0;E<M.length;++E){var x=M[E],S=x[0][0],b=x[0][1],a=x[1][1],C=[Math.min(b,a),Math.max(b,a)];S in T?T[S].push(C):T[S]=[C]}for(var y={},z=Object.keys(T),E=0;E<z.length;++E){var I=T[z[E]];y[z[E]]=n(I)}return u(y)}function c(M,T){return function(E){var x=l.le(T,E[0]);if(x<0)return 1;var S=M[x];if(!S)if(x>0&&T[x]===E[0])S=M[x-1];else return 1;for(var b=1;S;){var a=S.key,C=r(E,a[0],a[1]);if(a[0][0]<a[1][0])if(C<0)S=S.left;else if(C>0)b=-1,S=S.right;else return 0;else if(C>0)S=S.left;else if(C<0)b=1,S=S.right;else return 0}return b}}function w(M){return 1}function h(M){return function(E){return M(E[0],E[1])?0:1}}function o(M,T){return function(x){return M(x[0],x[1])?0:T(x)}}function d(M){for(var T=M.length,E=[],x=[],S=0;S<T;++S)for(var b=M[S],a=b.length,C=a-1,y=0;y<a;C=y++){var z=b[C],I=b[y];z[0]===I[0]?x.push([z,I]):E.push([z,I])}if(E.length===0)return x.length===0?w:h(m(x));var B=s(E),F=c(B.slabs,B.coordinates);return x.length===0?F:o(m(x),F)}},7309:function(v){var p=new Float64Array(4),t=new Float64Array(4),r=new Float64Array(4);function s(n,l,f,u,m){p.length<u.length&&(p=new Float64Array(u.length),t=new Float64Array(u.length),r=new Float64Array(u.length));for(var c=0;c<u.length;++c)p[c]=n[c]-u[c],t[c]=l[c]-n[c],r[c]=f[c]-n[c];for(var w=0,h=0,o=0,d=0,M=0,T=0,c=0;c<u.length;++c){var E=t[c],x=r[c],S=p[c];w+=E*E,h+=E*x,o+=x*x,d+=S*E,M+=S*x,T+=S*S}var b=Math.abs(w*o-h*h),a=h*M-o*d,C=h*d-w*M,y;if(a+C<=b)if(a<0)C<0&&d<0?(C=0,-d>=w?(a=1,y=w+2*d+T):(a=-d/w,y=d*a+T)):(a=0,M>=0?(C=0,y=T):-M>=o?(C=1,y=o+2*M+T):(C=-M/o,y=M*C+T));else if(C<0)C=0,d>=0?(a=0,y=T):-d>=w?(a=1,y=w+2*d+T):(a=-d/w,y=d*a+T);else{var z=1/b;a*=z,C*=z,y=a*(w*a+h*C+2*d)+C*(h*a+o*C+2*M)+T}else{var I,B,F,O;a<0?(I=h+d,B=o+M,B>I?(F=B-I,O=w-2*h+o,F>=O?(a=1,C=0,y=w+2*d+T):(a=F/O,C=1-a,y=a*(w*a+h*C+2*d)+C*(h*a+o*C+2*M)+T)):(a=0,B<=0?(C=1,y=o+2*M+T):M>=0?(C=0,y=T):(C=-M/o,y=M*C+T))):C<0?(I=h+M,B=w+d,B>I?(F=B-I,O=w-2*h+o,F>=O?(C=1,a=0,y=o+2*M+T):(C=F/O,a=1-C,y=a*(w*a+h*C+2*d)+C*(h*a+o*C+2*M)+T)):(C=0,B<=0?(a=1,y=w+2*d+T):d>=0?(a=0,y=T):(a=-d/w,y=d*a+T))):(F=o+M-h-d,F<=0?(a=0,C=1,y=o+2*M+T):(O=w-2*h+o,F>=O?(a=1,C=0,y=w+2*d+T):(a=F/O,C=1-a,y=a*(w*a+h*C+2*d)+C*(h*a+o*C+2*M)+T)))}for(var N=1-a-C,c=0;c<u.length;++c)m[c]=N*n[c]+a*l[c]+C*f[c];return y<0?0:y}v.exports=s},1116:function(v,p,t){v.exports=t(6093)},7584:function(v,p,t){var r=t(1539);v.exports=s;function s(n,l){for(var f=n.length,u=new Array(f),m=0;m<f;++m)u[m]=r(n[m],l[m]);return u}},2826:function(v,p,t){v.exports=s;var r=t(5125);function s(n){for(var l=new Array(n.length),f=0;f<n.length;++f)l[f]=r(n[f]);return l}},4469:function(v,p,t){var r=t(5125),s=t(3962);v.exports=n;function n(l,f){for(var u=r(f),m=l.length,c=new Array(m),w=0;w<m;++w)c[w]=s(l[w],u);return c}},6695:function(v,p,t){var r=t(4354);v.exports=s;function s(n,l){for(var f=n.length,u=new Array(f),m=0;m<f;++m)u[m]=r(n[m],l[m]);return u}},7037:function(v,p,t){var r=t(9209),s=t(1284),n=t(9887);v.exports=l;function l(f){f.sort(s);for(var u=f.length,m=0,c=0;c<u;++c){var w=f[c],h=n(w);if(h!==0){if(m>0){var o=f[m-1];if(r(w,o)===0&&n(o)!==h){m-=1;continue}}f[m++]=w}}return f.length=m,f}},6184:function(v){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var p="",t;v.exports=r;function r(s,n){if(typeof s!="string")throw new TypeError("expected a string");if(n===1)return s;if(n===2)return s+s;var l=s.length*n;if(t!==s||typeof t>"u")t=s,p="";else if(p.length>=l)return p.substr(0,l);for(;l>p.length&&n>1;)n&1&&(p+=s),n>>=1,s+=s;return p+=s,p=p.substr(0,l),p}},8161:function(v,p,t){v.exports=t.g.performance&&t.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(v){v.exports=p;function p(t){for(var r=t.length,s=t[t.length-1],n=r,l=r-2;l>=0;--l){var f=s,u=t[l];s=f+u;var m=s-f,c=u-m;c&&(t[--n]=s,s=c)}for(var w=0,l=n;l<r;++l){var f=t[l],u=s;s=f+u;var m=s-f,c=u-m;c&&(t[w++]=c)}return t[w++]=s,t.length=w,t}},8167:function(v,p,t){var r=t(9660),s=t(9662),n=t(8289),l=t(402),f=6;function u(T,E,x,S){return function(a){return S(T(x(a[0][0],a[1][1]),x(-a[0][1],a[1][0])))}}function m(T,E,x,S){return function(a){return S(T(E(T(x(a[1][1],a[2][2]),x(-a[1][2],a[2][1])),a[0][0]),T(E(T(x(a[1][0],a[2][2]),x(-a[1][2],a[2][0])),-a[0][1]),E(T(x(a[1][0],a[2][1]),x(-a[1][1],a[2][0])),a[0][2]))))}}function c(T,E,x,S){return function(a){return S(T(T(E(T(E(T(x(a[2][2],a[3][3]),x(-a[2][3],a[3][2])),a[1][1]),T(E(T(x(a[2][1],a[3][3]),x(-a[2][3],a[3][1])),-a[1][2]),E(T(x(a[2][1],a[3][2]),x(-a[2][2],a[3][1])),a[1][3]))),a[0][0]),E(T(E(T(x(a[2][2],a[3][3]),x(-a[2][3],a[3][2])),a[1][0]),T(E(T(x(a[2][0],a[3][3]),x(-a[2][3],a[3][0])),-a[1][2]),E(T(x(a[2][0],a[3][2]),x(-a[2][2],a[3][0])),a[1][3]))),-a[0][1])),T(E(T(E(T(x(a[2][1],a[3][3]),x(-a[2][3],a[3][1])),a[1][0]),T(E(T(x(a[2][0],a[3][3]),x(-a[2][3],a[3][0])),-a[1][1]),E(T(x(a[2][0],a[3][1]),x(-a[2][1],a[3][0])),a[1][3]))),a[0][2]),E(T(E(T(x(a[2][1],a[3][2]),x(-a[2][2],a[3][1])),a[1][0]),T(E(T(x(a[2][0],a[3][2]),x(-a[2][2],a[3][0])),-a[1][1]),E(T(x(a[2][0],a[3][1]),x(-a[2][1],a[3][0])),a[1][2]))),-a[0][3]))))}}function w(T,E,x,S){return function(a){return S(T(T(E(T(T(E(T(E(T(x(a[3][3],a[4][4]),x(-a[3][4],a[4][3])),a[2][2]),T(E(T(x(a[3][2],a[4][4]),x(-a[3][4],a[4][2])),-a[2][3]),E(T(x(a[3][2],a[4][3]),x(-a[3][3],a[4][2])),a[2][4]))),a[1][1]),E(T(E(T(x(a[3][3],a[4][4]),x(-a[3][4],a[4][3])),a[2][1]),T(E(T(x(a[3][1],a[4][4]),x(-a[3][4],a[4][1])),-a[2][3]),E(T(x(a[3][1],a[4][3]),x(-a[3][3],a[4][1])),a[2][4]))),-a[1][2])),T(E(T(E(T(x(a[3][2],a[4][4]),x(-a[3][4],a[4][2])),a[2][1]),T(E(T(x(a[3][1],a[4][4]),x(-a[3][4],a[4][1])),-a[2][2]),E(T(x(a[3][1],a[4][2]),x(-a[3][2],a[4][1])),a[2][4]))),a[1][3]),E(T(E(T(x(a[3][2],a[4][3]),x(-a[3][3],a[4][2])),a[2][1]),T(E(T(x(a[3][1],a[4][3]),x(-a[3][3],a[4][1])),-a[2][2]),E(T(x(a[3][1],a[4][2]),x(-a[3][2],a[4][1])),a[2][3]))),-a[1][4]))),a[0][0]),E(T(T(E(T(E(T(x(a[3][3],a[4][4]),x(-a[3][4],a[4][3])),a[2][2]),T(E(T(x(a[3][2],a[4][4]),x(-a[3][4],a[4][2])),-a[2][3]),E(T(x(a[3][2],a[4][3]),x(-a[3][3],a[4][2])),a[2][4]))),a[1][0]),E(T(E(T(x(a[3][3],a[4][4]),x(-a[3][4],a[4][3])),a[2][0]),T(E(T(x(a[3][0],a[4][4]),x(-a[3][4],a[4][0])),-a[2][3]),E(T(x(a[3][0],a[4][3]),x(-a[3][3],a[4][0])),a[2][4]))),-a[1][2])),T(E(T(E(T(x(a[3][2],a[4][4]),x(-a[3][4],a[4][2])),a[2][0]),T(E(T(x(a[3][0],a[4][4]),x(-a[3][4],a[4][0])),-a[2][2]),E(T(x(a[3][0],a[4][2]),x(-a[3][2],a[4][0])),a[2][4]))),a[1][3]),E(T(E(T(x(a[3][2],a[4][3]),x(-a[3][3],a[4][2])),a[2][0]),T(E(T(x(a[3][0],a[4][3]),x(-a[3][3],a[4][0])),-a[2][2]),E(T(x(a[3][0],a[4][2]),x(-a[3][2],a[4][0])),a[2][3]))),-a[1][4]))),-a[0][1])),T(E(T(T(E(T(E(T(x(a[3][3],a[4][4]),x(-a[3][4],a[4][3])),a[2][1]),T(E(T(x(a[3][1],a[4][4]),x(-a[3][4],a[4][1])),-a[2][3]),E(T(x(a[3][1],a[4][3]),x(-a[3][3],a[4][1])),a[2][4]))),a[1][0]),E(T(E(T(x(a[3][3],a[4][4]),x(-a[3][4],a[4][3])),a[2][0]),T(E(T(x(a[3][0],a[4][4]),x(-a[3][4],a[4][0])),-a[2][3]),E(T(x(a[3][0],a[4][3]),x(-a[3][3],a[4][0])),a[2][4]))),-a[1][1])),T(E(T(E(T(x(a[3][1],a[4][4]),x(-a[3][4],a[4][1])),a[2][0]),T(E(T(x(a[3][0],a[4][4]),x(-a[3][4],a[4][0])),-a[2][1]),E(T(x(a[3][0],a[4][1]),x(-a[3][1],a[4][0])),a[2][4]))),a[1][3]),E(T(E(T(x(a[3][1],a[4][3]),x(-a[3][3],a[4][1])),a[2][0]),T(E(T(x(a[3][0],a[4][3]),x(-a[3][3],a[4][0])),-a[2][1]),E(T(x(a[3][0],a[4][1]),x(-a[3][1],a[4][0])),a[2][3]))),-a[1][4]))),a[0][2]),T(E(T(T(E(T(E(T(x(a[3][2],a[4][4]),x(-a[3][4],a[4][2])),a[2][1]),T(E(T(x(a[3][1],a[4][4]),x(-a[3][4],a[4][1])),-a[2][2]),E(T(x(a[3][1],a[4][2]),x(-a[3][2],a[4][1])),a[2][4]))),a[1][0]),E(T(E(T(x(a[3][2],a[4][4]),x(-a[3][4],a[4][2])),a[2][0]),T(E(T(x(a[3][0],a[4][4]),x(-a[3][4],a[4][0])),-a[2][2]),E(T(x(a[3][0],a[4][2]),x(-a[3][2],a[4][0])),a[2][4]))),-a[1][1])),T(E(T(E(T(x(a[3][1],a[4][4]),x(-a[3][4],a[4][1])),a[2][0]),T(E(T(x(a[3][0],a[4][4]),x(-a[3][4],a[4][0])),-a[2][1]),E(T(x(a[3][0],a[4][1]),x(-a[3][1],a[4][0])),a[2][4]))),a[1][2]),E(T(E(T(x(a[3][1],a[4][2]),x(-a[3][2],a[4][1])),a[2][0]),T(E(T(x(a[3][0],a[4][2]),x(-a[3][2],a[4][0])),-a[2][1]),E(T(x(a[3][0],a[4][1]),x(-a[3][1],a[4][0])),a[2][2]))),-a[1][4]))),-a[0][3]),E(T(T(E(T(E(T(x(a[3][2],a[4][3]),x(-a[3][3],a[4][2])),a[2][1]),T(E(T(x(a[3][1],a[4][3]),x(-a[3][3],a[4][1])),-a[2][2]),E(T(x(a[3][1],a[4][2]),x(-a[3][2],a[4][1])),a[2][3]))),a[1][0]),E(T(E(T(x(a[3][2],a[4][3]),x(-a[3][3],a[4][2])),a[2][0]),T(E(T(x(a[3][0],a[4][3]),x(-a[3][3],a[4][0])),-a[2][2]),E(T(x(a[3][0],a[4][2]),x(-a[3][2],a[4][0])),a[2][3]))),-a[1][1])),T(E(T(E(T(x(a[3][1],a[4][3]),x(-a[3][3],a[4][1])),a[2][0]),T(E(T(x(a[3][0],a[4][3]),x(-a[3][3],a[4][0])),-a[2][1]),E(T(x(a[3][0],a[4][1]),x(-a[3][1],a[4][0])),a[2][3]))),a[1][2]),E(T(E(T(x(a[3][1],a[4][2]),x(-a[3][2],a[4][1])),a[2][0]),T(E(T(x(a[3][0],a[4][2]),x(-a[3][2],a[4][0])),-a[2][1]),E(T(x(a[3][0],a[4][1]),x(-a[3][1],a[4][0])),a[2][2]))),-a[1][3]))),a[0][4])))))}}function h(T){var E=T===2?u:T===3?m:T===4?c:T===5?w:void 0;return E(s,n,r,l)}var o=[function(){return[0]},function(E){return[E[0][0]]}];function d(T,E,x,S,b,a,C,y){return function(I){switch(I.length){case 0:return T(I);case 1:return E(I);case 2:return x(I);case 3:return S(I);case 4:return b(I);case 5:return a(I)}var B=C[I.length];return B||(B=C[I.length]=y(I.length)),B(I)}}function M(){for(;o.length<f;)o.push(h(o.length));v.exports=d.apply(void 0,o.concat([o,h]));for(var T=0;T<o.length;++T)v.exports[T]=o[T]}M()},9130:function(v,p,t){var r=t(9660),s=t(9662);v.exports=n;function n(l,f){for(var u=r(l[0],f[0]),m=1;m<l.length;++m)u=s(u,r(l[m],f[m]));return u}},2227:function(v,p,t){var r=t(9660),s=t(9662),n=t(4078),l=t(8289),f=6;function u(b){var a=b===3?h:b===4?o:b===5?d:M;return a(s,n,r,l)}function m(){return 0}function c(){return 0}function w(){return 0}function h(b,a,C,y){function z(I,B,F){var O=C(I[0],I[0]),N=y(O,B[0]),_=y(O,F[0]),U=C(B[0],B[0]),Y=y(U,I[0]),K=y(U,F[0]),re=C(F[0],F[0]),ae=y(re,I[0]),fe=y(re,B[0]),Q=b(a(fe,K),a(Y,N)),j=a(ae,_),X=a(Q,j);return X[X.length-1]}return z}function o(b,a,C,y){function z(I,B,F,O){var N=b(C(I[0],I[0]),C(I[1],I[1])),_=y(N,B[0]),U=y(N,F[0]),Y=y(N,O[0]),K=b(C(B[0],B[0]),C(B[1],B[1])),re=y(K,I[0]),ae=y(K,F[0]),fe=y(K,O[0]),Q=b(C(F[0],F[0]),C(F[1],F[1])),j=y(Q,I[0]),X=y(Q,B[0]),J=y(Q,O[0]),ee=b(C(O[0],O[0]),C(O[1],O[1])),se=y(ee,I[0]),q=y(ee,B[0]),$=y(ee,F[0]),le=b(b(y(a($,J),B[1]),b(y(a(q,fe),-F[1]),y(a(X,ae),O[1]))),b(y(a(q,fe),I[1]),b(y(a(se,Y),-B[1]),y(a(re,_),O[1])))),ie=b(b(y(a($,J),I[1]),b(y(a(se,Y),-F[1]),y(a(j,U),O[1]))),b(y(a(X,ae),I[1]),b(y(a(j,U),-B[1]),y(a(re,_),F[1])))),ce=a(le,ie);return ce[ce.length-1]}return z}function d(b,a,C,y){function z(I,B,F,O,N){var _=b(C(I[0],I[0]),b(C(I[1],I[1]),C(I[2],I[2]))),U=y(_,B[0]),Y=y(_,F[0]),K=y(_,O[0]),re=y(_,N[0]),ae=b(C(B[0],B[0]),b(C(B[1],B[1]),C(B[2],B[2]))),fe=y(ae,I[0]),Q=y(ae,F[0]),j=y(ae,O[0]),X=y(ae,N[0]),J=b(C(F[0],F[0]),b(C(F[1],F[1]),C(F[2],F[2]))),ee=y(J,I[0]),se=y(J,B[0]),q=y(J,O[0]),$=y(J,N[0]),le=b(C(O[0],O[0]),b(C(O[1],O[1]),C(O[2],O[2]))),ie=y(le,I[0]),ce=y(le,B[0]),me=y(le,F[0]),Me=y(le,N[0]),we=b(C(N[0],N[0]),b(C(N[1],N[1]),C(N[2],N[2]))),Oe=y(we,I[0]),Be=y(we,B[0]),Ce=y(we,F[0]),xe=y(we,O[0]),Se=b(b(b(y(b(y(a(xe,Me),F[1]),b(y(a(Ce,$),-O[1]),y(a(me,q),N[1]))),B[2]),b(y(b(y(a(xe,Me),B[1]),b(y(a(Be,X),-O[1]),y(a(ce,j),N[1]))),-F[2]),y(b(y(a(Ce,$),B[1]),b(y(a(Be,X),-F[1]),y(a(se,Q),N[1]))),O[2]))),b(y(b(y(a(me,q),B[1]),b(y(a(ce,j),-F[1]),y(a(se,Q),O[1]))),-N[2]),b(y(b(y(a(xe,Me),B[1]),b(y(a(Be,X),-O[1]),y(a(ce,j),N[1]))),I[2]),y(b(y(a(xe,Me),I[1]),b(y(a(Oe,re),-O[1]),y(a(ie,K),N[1]))),-B[2])))),b(b(y(b(y(a(Be,X),I[1]),b(y(a(Oe,re),-B[1]),y(a(fe,U),N[1]))),O[2]),b(y(b(y(a(ce,j),I[1]),b(y(a(ie,K),-B[1]),y(a(fe,U),O[1]))),-N[2]),y(b(y(a(me,q),B[1]),b(y(a(ce,j),-F[1]),y(a(se,Q),O[1]))),I[2]))),b(y(b(y(a(me,q),I[1]),b(y(a(ie,K),-F[1]),y(a(ee,Y),O[1]))),-B[2]),b(y(b(y(a(ce,j),I[1]),b(y(a(ie,K),-B[1]),y(a(fe,U),O[1]))),F[2]),y(b(y(a(se,Q),I[1]),b(y(a(ee,Y),-B[1]),y(a(fe,U),F[1]))),-O[2]))))),He=b(b(b(y(b(y(a(xe,Me),F[1]),b(y(a(Ce,$),-O[1]),y(a(me,q),N[1]))),I[2]),y(b(y(a(xe,Me),I[1]),b(y(a(Oe,re),-O[1]),y(a(ie,K),N[1]))),-F[2])),b(y(b(y(a(Ce,$),I[1]),b(y(a(Oe,re),-F[1]),y(a(ee,Y),N[1]))),O[2]),y(b(y(a(me,q),I[1]),b(y(a(ie,K),-F[1]),y(a(ee,Y),O[1]))),-N[2]))),b(b(y(b(y(a(Ce,$),B[1]),b(y(a(Be,X),-F[1]),y(a(se,Q),N[1]))),I[2]),y(b(y(a(Ce,$),I[1]),b(y(a(Oe,re),-F[1]),y(a(ee,Y),N[1]))),-B[2])),b(y(b(y(a(Be,X),I[1]),b(y(a(Oe,re),-B[1]),y(a(fe,U),N[1]))),F[2]),y(b(y(a(se,Q),I[1]),b(y(a(ee,Y),-B[1]),y(a(fe,U),F[1]))),-N[2])))),Ge=a(Se,He);return Ge[Ge.length-1]}return z}function M(b,a,C,y){function z(I,B,F,O,N,_){var U=b(b(C(I[0],I[0]),C(I[1],I[1])),b(C(I[2],I[2]),C(I[3],I[3]))),Y=y(U,B[0]),K=y(U,F[0]),re=y(U,O[0]),ae=y(U,N[0]),fe=y(U,_[0]),Q=b(b(C(B[0],B[0]),C(B[1],B[1])),b(C(B[2],B[2]),C(B[3],B[3]))),j=y(Q,I[0]),X=y(Q,F[0]),J=y(Q,O[0]),ee=y(Q,N[0]),se=y(Q,_[0]),q=b(b(C(F[0],F[0]),C(F[1],F[1])),b(C(F[2],F[2]),C(F[3],F[3]))),$=y(q,I[0]),le=y(q,B[0]),ie=y(q,O[0]),ce=y(q,N[0]),me=y(q,_[0]),Me=b(b(C(O[0],O[0]),C(O[1],O[1])),b(C(O[2],O[2]),C(O[3],O[3]))),we=y(Me,I[0]),Oe=y(Me,B[0]),Be=y(Me,F[0]),Ce=y(Me,N[0]),xe=y(Me,_[0]),Se=b(b(C(N[0],N[0]),C(N[1],N[1])),b(C(N[2],N[2]),C(N[3],N[3]))),He=y(Se,I[0]),Ge=y(Se,B[0]),ke=y(Se,F[0]),We=y(Se,O[0]),it=y(Se,_[0]),et=b(b(C(_[0],_[0]),C(_[1],_[1])),b(C(_[2],_[2]),C(_[3],_[3]))),tt=y(et,I[0]),at=y(et,B[0]),ht=y(et,F[0]),yt=y(et,O[0]),gt=y(et,N[0]),Et=b(b(b(y(b(b(y(b(y(a(gt,it),O[1]),b(y(a(yt,xe),-N[1]),y(a(We,Ce),_[1]))),F[2]),y(b(y(a(gt,it),F[1]),b(y(a(ht,me),-N[1]),y(a(ke,ce),_[1]))),-O[2])),b(y(b(y(a(yt,xe),F[1]),b(y(a(ht,me),-O[1]),y(a(Be,ie),_[1]))),N[2]),y(b(y(a(We,Ce),F[1]),b(y(a(ke,ce),-O[1]),y(a(Be,ie),N[1]))),-_[2]))),B[3]),b(y(b(b(y(b(y(a(gt,it),O[1]),b(y(a(yt,xe),-N[1]),y(a(We,Ce),_[1]))),B[2]),y(b(y(a(gt,it),B[1]),b(y(a(at,se),-N[1]),y(a(Ge,ee),_[1]))),-O[2])),b(y(b(y(a(yt,xe),B[1]),b(y(a(at,se),-O[1]),y(a(Oe,J),_[1]))),N[2]),y(b(y(a(We,Ce),B[1]),b(y(a(Ge,ee),-O[1]),y(a(Oe,J),N[1]))),-_[2]))),-F[3]),y(b(b(y(b(y(a(gt,it),F[1]),b(y(a(ht,me),-N[1]),y(a(ke,ce),_[1]))),B[2]),y(b(y(a(gt,it),B[1]),b(y(a(at,se),-N[1]),y(a(Ge,ee),_[1]))),-F[2])),b(y(b(y(a(ht,me),B[1]),b(y(a(at,se),-F[1]),y(a(le,X),_[1]))),N[2]),y(b(y(a(ke,ce),B[1]),b(y(a(Ge,ee),-F[1]),y(a(le,X),N[1]))),-_[2]))),O[3]))),b(b(y(b(b(y(b(y(a(yt,xe),F[1]),b(y(a(ht,me),-O[1]),y(a(Be,ie),_[1]))),B[2]),y(b(y(a(yt,xe),B[1]),b(y(a(at,se),-O[1]),y(a(Oe,J),_[1]))),-F[2])),b(y(b(y(a(ht,me),B[1]),b(y(a(at,se),-F[1]),y(a(le,X),_[1]))),O[2]),y(b(y(a(Be,ie),B[1]),b(y(a(Oe,J),-F[1]),y(a(le,X),O[1]))),-_[2]))),-N[3]),y(b(b(y(b(y(a(We,Ce),F[1]),b(y(a(ke,ce),-O[1]),y(a(Be,ie),N[1]))),B[2]),y(b(y(a(We,Ce),B[1]),b(y(a(Ge,ee),-O[1]),y(a(Oe,J),N[1]))),-F[2])),b(y(b(y(a(ke,ce),B[1]),b(y(a(Ge,ee),-F[1]),y(a(le,X),N[1]))),O[2]),y(b(y(a(Be,ie),B[1]),b(y(a(Oe,J),-F[1]),y(a(le,X),O[1]))),-N[2]))),_[3])),b(y(b(b(y(b(y(a(gt,it),O[1]),b(y(a(yt,xe),-N[1]),y(a(We,Ce),_[1]))),B[2]),y(b(y(a(gt,it),B[1]),b(y(a(at,se),-N[1]),y(a(Ge,ee),_[1]))),-O[2])),b(y(b(y(a(yt,xe),B[1]),b(y(a(at,se),-O[1]),y(a(Oe,J),_[1]))),N[2]),y(b(y(a(We,Ce),B[1]),b(y(a(Ge,ee),-O[1]),y(a(Oe,J),N[1]))),-_[2]))),I[3]),y(b(b(y(b(y(a(gt,it),O[1]),b(y(a(yt,xe),-N[1]),y(a(We,Ce),_[1]))),I[2]),y(b(y(a(gt,it),I[1]),b(y(a(tt,fe),-N[1]),y(a(He,ae),_[1]))),-O[2])),b(y(b(y(a(yt,xe),I[1]),b(y(a(tt,fe),-O[1]),y(a(we,re),_[1]))),N[2]),y(b(y(a(We,Ce),I[1]),b(y(a(He,ae),-O[1]),y(a(we,re),N[1]))),-_[2]))),-B[3])))),b(b(b(y(b(b(y(b(y(a(gt,it),B[1]),b(y(a(at,se),-N[1]),y(a(Ge,ee),_[1]))),I[2]),y(b(y(a(gt,it),I[1]),b(y(a(tt,fe),-N[1]),y(a(He,ae),_[1]))),-B[2])),b(y(b(y(a(at,se),I[1]),b(y(a(tt,fe),-B[1]),y(a(j,Y),_[1]))),N[2]),y(b(y(a(Ge,ee),I[1]),b(y(a(He,ae),-B[1]),y(a(j,Y),N[1]))),-_[2]))),O[3]),y(b(b(y(b(y(a(yt,xe),B[1]),b(y(a(at,se),-O[1]),y(a(Oe,J),_[1]))),I[2]),y(b(y(a(yt,xe),I[1]),b(y(a(tt,fe),-O[1]),y(a(we,re),_[1]))),-B[2])),b(y(b(y(a(at,se),I[1]),b(y(a(tt,fe),-B[1]),y(a(j,Y),_[1]))),O[2]),y(b(y(a(Oe,J),I[1]),b(y(a(we,re),-B[1]),y(a(j,Y),O[1]))),-_[2]))),-N[3])),b(y(b(b(y(b(y(a(We,Ce),B[1]),b(y(a(Ge,ee),-O[1]),y(a(Oe,J),N[1]))),I[2]),y(b(y(a(We,Ce),I[1]),b(y(a(He,ae),-O[1]),y(a(we,re),N[1]))),-B[2])),b(y(b(y(a(Ge,ee),I[1]),b(y(a(He,ae),-B[1]),y(a(j,Y),N[1]))),O[2]),y(b(y(a(Oe,J),I[1]),b(y(a(we,re),-B[1]),y(a(j,Y),O[1]))),-N[2]))),_[3]),y(b(b(y(b(y(a(yt,xe),F[1]),b(y(a(ht,me),-O[1]),y(a(Be,ie),_[1]))),B[2]),y(b(y(a(yt,xe),B[1]),b(y(a(at,se),-O[1]),y(a(Oe,J),_[1]))),-F[2])),b(y(b(y(a(ht,me),B[1]),b(y(a(at,se),-F[1]),y(a(le,X),_[1]))),O[2]),y(b(y(a(Be,ie),B[1]),b(y(a(Oe,J),-F[1]),y(a(le,X),O[1]))),-_[2]))),I[3]))),b(b(y(b(b(y(b(y(a(yt,xe),F[1]),b(y(a(ht,me),-O[1]),y(a(Be,ie),_[1]))),I[2]),y(b(y(a(yt,xe),I[1]),b(y(a(tt,fe),-O[1]),y(a(we,re),_[1]))),-F[2])),b(y(b(y(a(ht,me),I[1]),b(y(a(tt,fe),-F[1]),y(a($,K),_[1]))),O[2]),y(b(y(a(Be,ie),I[1]),b(y(a(we,re),-F[1]),y(a($,K),O[1]))),-_[2]))),-B[3]),y(b(b(y(b(y(a(yt,xe),B[1]),b(y(a(at,se),-O[1]),y(a(Oe,J),_[1]))),I[2]),y(b(y(a(yt,xe),I[1]),b(y(a(tt,fe),-O[1]),y(a(we,re),_[1]))),-B[2])),b(y(b(y(a(at,se),I[1]),b(y(a(tt,fe),-B[1]),y(a(j,Y),_[1]))),O[2]),y(b(y(a(Oe,J),I[1]),b(y(a(we,re),-B[1]),y(a(j,Y),O[1]))),-_[2]))),F[3])),b(y(b(b(y(b(y(a(ht,me),B[1]),b(y(a(at,se),-F[1]),y(a(le,X),_[1]))),I[2]),y(b(y(a(ht,me),I[1]),b(y(a(tt,fe),-F[1]),y(a($,K),_[1]))),-B[2])),b(y(b(y(a(at,se),I[1]),b(y(a(tt,fe),-B[1]),y(a(j,Y),_[1]))),F[2]),y(b(y(a(le,X),I[1]),b(y(a($,K),-B[1]),y(a(j,Y),F[1]))),-_[2]))),-O[3]),y(b(b(y(b(y(a(Be,ie),B[1]),b(y(a(Oe,J),-F[1]),y(a(le,X),O[1]))),I[2]),y(b(y(a(Be,ie),I[1]),b(y(a(we,re),-F[1]),y(a($,K),O[1]))),-B[2])),b(y(b(y(a(Oe,J),I[1]),b(y(a(we,re),-B[1]),y(a(j,Y),O[1]))),F[2]),y(b(y(a(le,X),I[1]),b(y(a($,K),-B[1]),y(a(j,Y),F[1]))),-O[2]))),_[3]))))),Ct=b(b(b(y(b(b(y(b(y(a(gt,it),O[1]),b(y(a(yt,xe),-N[1]),y(a(We,Ce),_[1]))),F[2]),y(b(y(a(gt,it),F[1]),b(y(a(ht,me),-N[1]),y(a(ke,ce),_[1]))),-O[2])),b(y(b(y(a(yt,xe),F[1]),b(y(a(ht,me),-O[1]),y(a(Be,ie),_[1]))),N[2]),y(b(y(a(We,Ce),F[1]),b(y(a(ke,ce),-O[1]),y(a(Be,ie),N[1]))),-_[2]))),I[3]),b(y(b(b(y(b(y(a(gt,it),O[1]),b(y(a(yt,xe),-N[1]),y(a(We,Ce),_[1]))),I[2]),y(b(y(a(gt,it),I[1]),b(y(a(tt,fe),-N[1]),y(a(He,ae),_[1]))),-O[2])),b(y(b(y(a(yt,xe),I[1]),b(y(a(tt,fe),-O[1]),y(a(we,re),_[1]))),N[2]),y(b(y(a(We,Ce),I[1]),b(y(a(He,ae),-O[1]),y(a(we,re),N[1]))),-_[2]))),-F[3]),y(b(b(y(b(y(a(gt,it),F[1]),b(y(a(ht,me),-N[1]),y(a(ke,ce),_[1]))),I[2]),y(b(y(a(gt,it),I[1]),b(y(a(tt,fe),-N[1]),y(a(He,ae),_[1]))),-F[2])),b(y(b(y(a(ht,me),I[1]),b(y(a(tt,fe),-F[1]),y(a($,K),_[1]))),N[2]),y(b(y(a(ke,ce),I[1]),b(y(a(He,ae),-F[1]),y(a($,K),N[1]))),-_[2]))),O[3]))),b(b(y(b(b(y(b(y(a(yt,xe),F[1]),b(y(a(ht,me),-O[1]),y(a(Be,ie),_[1]))),I[2]),y(b(y(a(yt,xe),I[1]),b(y(a(tt,fe),-O[1]),y(a(we,re),_[1]))),-F[2])),b(y(b(y(a(ht,me),I[1]),b(y(a(tt,fe),-F[1]),y(a($,K),_[1]))),O[2]),y(b(y(a(Be,ie),I[1]),b(y(a(we,re),-F[1]),y(a($,K),O[1]))),-_[2]))),-N[3]),y(b(b(y(b(y(a(We,Ce),F[1]),b(y(a(ke,ce),-O[1]),y(a(Be,ie),N[1]))),I[2]),y(b(y(a(We,Ce),I[1]),b(y(a(He,ae),-O[1]),y(a(we,re),N[1]))),-F[2])),b(y(b(y(a(ke,ce),I[1]),b(y(a(He,ae),-F[1]),y(a($,K),N[1]))),O[2]),y(b(y(a(Be,ie),I[1]),b(y(a(we,re),-F[1]),y(a($,K),O[1]))),-N[2]))),_[3])),b(y(b(b(y(b(y(a(gt,it),F[1]),b(y(a(ht,me),-N[1]),y(a(ke,ce),_[1]))),B[2]),y(b(y(a(gt,it),B[1]),b(y(a(at,se),-N[1]),y(a(Ge,ee),_[1]))),-F[2])),b(y(b(y(a(ht,me),B[1]),b(y(a(at,se),-F[1]),y(a(le,X),_[1]))),N[2]),y(b(y(a(ke,ce),B[1]),b(y(a(Ge,ee),-F[1]),y(a(le,X),N[1]))),-_[2]))),I[3]),y(b(b(y(b(y(a(gt,it),F[1]),b(y(a(ht,me),-N[1]),y(a(ke,ce),_[1]))),I[2]),y(b(y(a(gt,it),I[1]),b(y(a(tt,fe),-N[1]),y(a(He,ae),_[1]))),-F[2])),b(y(b(y(a(ht,me),I[1]),b(y(a(tt,fe),-F[1]),y(a($,K),_[1]))),N[2]),y(b(y(a(ke,ce),I[1]),b(y(a(He,ae),-F[1]),y(a($,K),N[1]))),-_[2]))),-B[3])))),b(b(b(y(b(b(y(b(y(a(gt,it),B[1]),b(y(a(at,se),-N[1]),y(a(Ge,ee),_[1]))),I[2]),y(b(y(a(gt,it),I[1]),b(y(a(tt,fe),-N[1]),y(a(He,ae),_[1]))),-B[2])),b(y(b(y(a(at,se),I[1]),b(y(a(tt,fe),-B[1]),y(a(j,Y),_[1]))),N[2]),y(b(y(a(Ge,ee),I[1]),b(y(a(He,ae),-B[1]),y(a(j,Y),N[1]))),-_[2]))),F[3]),y(b(b(y(b(y(a(ht,me),B[1]),b(y(a(at,se),-F[1]),y(a(le,X),_[1]))),I[2]),y(b(y(a(ht,me),I[1]),b(y(a(tt,fe),-F[1]),y(a($,K),_[1]))),-B[2])),b(y(b(y(a(at,se),I[1]),b(y(a(tt,fe),-B[1]),y(a(j,Y),_[1]))),F[2]),y(b(y(a(le,X),I[1]),b(y(a($,K),-B[1]),y(a(j,Y),F[1]))),-_[2]))),-N[3])),b(y(b(b(y(b(y(a(ke,ce),B[1]),b(y(a(Ge,ee),-F[1]),y(a(le,X),N[1]))),I[2]),y(b(y(a(ke,ce),I[1]),b(y(a(He,ae),-F[1]),y(a($,K),N[1]))),-B[2])),b(y(b(y(a(Ge,ee),I[1]),b(y(a(He,ae),-B[1]),y(a(j,Y),N[1]))),F[2]),y(b(y(a(le,X),I[1]),b(y(a($,K),-B[1]),y(a(j,Y),F[1]))),-N[2]))),_[3]),y(b(b(y(b(y(a(We,Ce),F[1]),b(y(a(ke,ce),-O[1]),y(a(Be,ie),N[1]))),B[2]),y(b(y(a(We,Ce),B[1]),b(y(a(Ge,ee),-O[1]),y(a(Oe,J),N[1]))),-F[2])),b(y(b(y(a(ke,ce),B[1]),b(y(a(Ge,ee),-F[1]),y(a(le,X),N[1]))),O[2]),y(b(y(a(Be,ie),B[1]),b(y(a(Oe,J),-F[1]),y(a(le,X),O[1]))),-N[2]))),I[3]))),b(b(y(b(b(y(b(y(a(We,Ce),F[1]),b(y(a(ke,ce),-O[1]),y(a(Be,ie),N[1]))),I[2]),y(b(y(a(We,Ce),I[1]),b(y(a(He,ae),-O[1]),y(a(we,re),N[1]))),-F[2])),b(y(b(y(a(ke,ce),I[1]),b(y(a(He,ae),-F[1]),y(a($,K),N[1]))),O[2]),y(b(y(a(Be,ie),I[1]),b(y(a(we,re),-F[1]),y(a($,K),O[1]))),-N[2]))),-B[3]),y(b(b(y(b(y(a(We,Ce),B[1]),b(y(a(Ge,ee),-O[1]),y(a(Oe,J),N[1]))),I[2]),y(b(y(a(We,Ce),I[1]),b(y(a(He,ae),-O[1]),y(a(we,re),N[1]))),-B[2])),b(y(b(y(a(Ge,ee),I[1]),b(y(a(He,ae),-B[1]),y(a(j,Y),N[1]))),O[2]),y(b(y(a(Oe,J),I[1]),b(y(a(we,re),-B[1]),y(a(j,Y),O[1]))),-N[2]))),F[3])),b(y(b(b(y(b(y(a(ke,ce),B[1]),b(y(a(Ge,ee),-F[1]),y(a(le,X),N[1]))),I[2]),y(b(y(a(ke,ce),I[1]),b(y(a(He,ae),-F[1]),y(a($,K),N[1]))),-B[2])),b(y(b(y(a(Ge,ee),I[1]),b(y(a(He,ae),-B[1]),y(a(j,Y),N[1]))),F[2]),y(b(y(a(le,X),I[1]),b(y(a($,K),-B[1]),y(a(j,Y),F[1]))),-N[2]))),-O[3]),y(b(b(y(b(y(a(Be,ie),B[1]),b(y(a(Oe,J),-F[1]),y(a(le,X),O[1]))),I[2]),y(b(y(a(Be,ie),I[1]),b(y(a(we,re),-F[1]),y(a($,K),O[1]))),-B[2])),b(y(b(y(a(Oe,J),I[1]),b(y(a(we,re),-B[1]),y(a(j,Y),O[1]))),F[2]),y(b(y(a(le,X),I[1]),b(y(a($,K),-B[1]),y(a(j,Y),F[1]))),-O[2]))),N[3]))))),Vt=a(Et,Ct);return Vt[Vt.length-1]}return z}var T=[m,c,w];function E(b){var a=T[b.length];return a||(a=T[b.length]=u(b.length)),a.apply(void 0,b)}function x(b,a,C,y,z,I,B,F){function O(N,_,U,Y,K,re){switch(arguments.length){case 0:case 1:return 0;case 2:return y(N,_);case 3:return z(N,_,U);case 4:return I(N,_,U,Y);case 5:return B(N,_,U,Y,K);case 6:return F(N,_,U,Y,K,re)}for(var ae=new Array(arguments.length),fe=0;fe<arguments.length;++fe)ae[fe]=arguments[fe];return b(ae)}return O}function S(){for(;T.length<=f;)T.push(u(T.length));v.exports=x.apply(void 0,[E].concat(T));for(var b=0;b<=f;++b)v.exports[b]=T[b]}S()},6606:function(v,p,t){var r=t(8167),s=6;function n(T){var E=T===2?u:T===3?m:T===4?c:T===5?w:h;return T<6?E(r[T]):E(r)}function l(){return[[0]]}function f(T,E){return[[E[0]],[T[0][0]]]}function u(T){return function(x,S){return[T([[+S[0],+x[0][1]],[+S[1],+x[1][1]]]),T([[+x[0][0],+S[0]],[+x[1][0],+S[1]]]),T(x)]}}function m(T){return function(x,S){return[T([[+S[0],+x[0][1],+x[0][2]],[+S[1],+x[1][1],+x[1][2]],[+S[2],+x[2][1],+x[2][2]]]),T([[+x[0][0],+S[0],+x[0][2]],[+x[1][0],+S[1],+x[1][2]],[+x[2][0],+S[2],+x[2][2]]]),T([[+x[0][0],+x[0][1],+S[0]],[+x[1][0],+x[1][1],+S[1]],[+x[2][0],+x[2][1],+S[2]]]),T(x)]}}function c(T){return function(x,S){return[T([[+S[0],+x[0][1],+x[0][2],+x[0][3]],[+S[1],+x[1][1],+x[1][2],+x[1][3]],[+S[2],+x[2][1],+x[2][2],+x[2][3]],[+S[3],+x[3][1],+x[3][2],+x[3][3]]]),T([[+x[0][0],+S[0],+x[0][2],+x[0][3]],[+x[1][0],+S[1],+x[1][2],+x[1][3]],[+x[2][0],+S[2],+x[2][2],+x[2][3]],[+x[3][0],+S[3],+x[3][2],+x[3][3]]]),T([[+x[0][0],+x[0][1],+S[0],+x[0][3]],[+x[1][0],+x[1][1],+S[1],+x[1][3]],[+x[2][0],+x[2][1],+S[2],+x[2][3]],[+x[3][0],+x[3][1],+S[3],+x[3][3]]]),T([[+x[0][0],+x[0][1],+x[0][2],+S[0]],[+x[1][0],+x[1][1],+x[1][2],+S[1]],[+x[2][0],+x[2][1],+x[2][2],+S[2]],[+x[3][0],+x[3][1],+x[3][2],+S[3]]]),T(x)]}}function w(T){return function(x,S){return[T([[+S[0],+x[0][1],+x[0][2],+x[0][3],+x[0][4]],[+S[1],+x[1][1],+x[1][2],+x[1][3],+x[1][4]],[+S[2],+x[2][1],+x[2][2],+x[2][3],+x[2][4]],[+S[3],+x[3][1],+x[3][2],+x[3][3],+x[3][4]],[+S[4],+x[4][1],+x[4][2],+x[4][3],+x[4][4]]]),T([[+x[0][0],+S[0],+x[0][2],+x[0][3],+x[0][4]],[+x[1][0],+S[1],+x[1][2],+x[1][3],+x[1][4]],[+x[2][0],+S[2],+x[2][2],+x[2][3],+x[2][4]],[+x[3][0],+S[3],+x[3][2],+x[3][3],+x[3][4]],[+x[4][0],+S[4],+x[4][2],+x[4][3],+x[4][4]]]),T([[+x[0][0],+x[0][1],+S[0],+x[0][3],+x[0][4]],[+x[1][0],+x[1][1],+S[1],+x[1][3],+x[1][4]],[+x[2][0],+x[2][1],+S[2],+x[2][3],+x[2][4]],[+x[3][0],+x[3][1],+S[3],+x[3][3],+x[3][4]],[+x[4][0],+x[4][1],+S[4],+x[4][3],+x[4][4]]]),T([[+x[0][0],+x[0][1],+x[0][2],+S[0],+x[0][4]],[+x[1][0],+x[1][1],+x[1][2],+S[1],+x[1][4]],[+x[2][0],+x[2][1],+x[2][2],+S[2],+x[2][4]],[+x[3][0],+x[3][1],+x[3][2],+S[3],+x[3][4]],[+x[4][0],+x[4][1],+x[4][2],+S[4],+x[4][4]]]),T([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+S[0]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+S[1]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+S[2]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+S[3]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+S[4]]]),T(x)]}}function h(T){return function(x,S){return[T([[+S[0],+x[0][1],+x[0][2],+x[0][3],+x[0][4],+x[0][5]],[+S[1],+x[1][1],+x[1][2],+x[1][3],+x[1][4],+x[1][5]],[+S[2],+x[2][1],+x[2][2],+x[2][3],+x[2][4],+x[2][5]],[+S[3],+x[3][1],+x[3][2],+x[3][3],+x[3][4],+x[3][5]],[+S[4],+x[4][1],+x[4][2],+x[4][3],+x[4][4],+x[4][5]],[+S[5],+x[5][1],+x[5][2],+x[5][3],+x[5][4],+x[5][5]]]),T([[+x[0][0],+S[0],+x[0][2],+x[0][3],+x[0][4],+x[0][5]],[+x[1][0],+S[1],+x[1][2],+x[1][3],+x[1][4],+x[1][5]],[+x[2][0],+S[2],+x[2][2],+x[2][3],+x[2][4],+x[2][5]],[+x[3][0],+S[3],+x[3][2],+x[3][3],+x[3][4],+x[3][5]],[+x[4][0],+S[4],+x[4][2],+x[4][3],+x[4][4],+x[4][5]],[+x[5][0],+S[5],+x[5][2],+x[5][3],+x[5][4],+x[5][5]]]),T([[+x[0][0],+x[0][1],+S[0],+x[0][3],+x[0][4],+x[0][5]],[+x[1][0],+x[1][1],+S[1],+x[1][3],+x[1][4],+x[1][5]],[+x[2][0],+x[2][1],+S[2],+x[2][3],+x[2][4],+x[2][5]],[+x[3][0],+x[3][1],+S[3],+x[3][3],+x[3][4],+x[3][5]],[+x[4][0],+x[4][1],+S[4],+x[4][3],+x[4][4],+x[4][5]],[+x[5][0],+x[5][1],+S[5],+x[5][3],+x[5][4],+x[5][5]]]),T([[+x[0][0],+x[0][1],+x[0][2],+S[0],+x[0][4],+x[0][5]],[+x[1][0],+x[1][1],+x[1][2],+S[1],+x[1][4],+x[1][5]],[+x[2][0],+x[2][1],+x[2][2],+S[2],+x[2][4],+x[2][5]],[+x[3][0],+x[3][1],+x[3][2],+S[3],+x[3][4],+x[3][5]],[+x[4][0],+x[4][1],+x[4][2],+S[4],+x[4][4],+x[4][5]],[+x[5][0],+x[5][1],+x[5][2],+S[5],+x[5][4],+x[5][5]]]),T([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+S[0],+x[0][5]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+S[1],+x[1][5]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+S[2],+x[2][5]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+S[3],+x[3][5]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+S[4],+x[4][5]],[+x[5][0],+x[5][1],+x[5][2],+x[5][3],+S[5],+x[5][5]]]),T([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+x[0][4],+S[0]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+x[1][4],+S[1]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+x[2][4],+S[2]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+x[3][4],+S[3]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+x[4][4],+S[4]],[+x[5][0],+x[5][1],+x[5][2],+x[5][3],+x[5][4],+S[5]]]),T(x)]}}var o=[l,f];function d(T,E,x,S,b,a,C,y){return function(I,B){switch(I.length){case 0:return T(I,B);case 1:return E(I,B);case 2:return x(I,B);case 3:return S(I,B);case 4:return b(I,B);case 5:return a(I,B)}var F=C[I.length];return F||(F=C[I.length]=y(I.length)),F(I,B)}}function M(){for(;o.length<s;)o.push(n(o.length));v.exports=d.apply(void 0,o.concat([o,n]));for(var T=0;T<s;++T)v.exports[T]=o[T]}M()},417:function(v,p,t){var r=t(9660),s=t(9662),n=t(8289),l=t(4078),f=5,u=11102230246251565e-32,m=(3+16*u)*u,c=(7+56*u)*u;function w(a,C,y,z){return function(B,F,O){var N=a(a(C(F[1],O[0]),C(-O[1],F[0])),a(C(B[1],F[0]),C(-F[1],B[0]))),_=a(C(B[1],O[0]),C(-O[1],B[0])),U=z(N,_);return U[U.length-1]}}function h(a,C,y,z){return function(B,F,O,N){var _=a(a(y(a(C(O[1],N[0]),C(-N[1],O[0])),F[2]),a(y(a(C(F[1],N[0]),C(-N[1],F[0])),-O[2]),y(a(C(F[1],O[0]),C(-O[1],F[0])),N[2]))),a(y(a(C(F[1],N[0]),C(-N[1],F[0])),B[2]),a(y(a(C(B[1],N[0]),C(-N[1],B[0])),-F[2]),y(a(C(B[1],F[0]),C(-F[1],B[0])),N[2])))),U=a(a(y(a(C(O[1],N[0]),C(-N[1],O[0])),B[2]),a(y(a(C(B[1],N[0]),C(-N[1],B[0])),-O[2]),y(a(C(B[1],O[0]),C(-O[1],B[0])),N[2]))),a(y(a(C(F[1],O[0]),C(-O[1],F[0])),B[2]),a(y(a(C(B[1],O[0]),C(-O[1],B[0])),-F[2]),y(a(C(B[1],F[0]),C(-F[1],B[0])),O[2])))),Y=z(_,U);return Y[Y.length-1]}}function o(a,C,y,z){return function(B,F,O,N,_){var U=a(a(a(y(a(y(a(C(N[1],_[0]),C(-_[1],N[0])),O[2]),a(y(a(C(O[1],_[0]),C(-_[1],O[0])),-N[2]),y(a(C(O[1],N[0]),C(-N[1],O[0])),_[2]))),F[3]),a(y(a(y(a(C(N[1],_[0]),C(-_[1],N[0])),F[2]),a(y(a(C(F[1],_[0]),C(-_[1],F[0])),-N[2]),y(a(C(F[1],N[0]),C(-N[1],F[0])),_[2]))),-O[3]),y(a(y(a(C(O[1],_[0]),C(-_[1],O[0])),F[2]),a(y(a(C(F[1],_[0]),C(-_[1],F[0])),-O[2]),y(a(C(F[1],O[0]),C(-O[1],F[0])),_[2]))),N[3]))),a(y(a(y(a(C(O[1],N[0]),C(-N[1],O[0])),F[2]),a(y(a(C(F[1],N[0]),C(-N[1],F[0])),-O[2]),y(a(C(F[1],O[0]),C(-O[1],F[0])),N[2]))),-_[3]),a(y(a(y(a(C(N[1],_[0]),C(-_[1],N[0])),F[2]),a(y(a(C(F[1],_[0]),C(-_[1],F[0])),-N[2]),y(a(C(F[1],N[0]),C(-N[1],F[0])),_[2]))),B[3]),y(a(y(a(C(N[1],_[0]),C(-_[1],N[0])),B[2]),a(y(a(C(B[1],_[0]),C(-_[1],B[0])),-N[2]),y(a(C(B[1],N[0]),C(-N[1],B[0])),_[2]))),-F[3])))),a(a(y(a(y(a(C(F[1],_[0]),C(-_[1],F[0])),B[2]),a(y(a(C(B[1],_[0]),C(-_[1],B[0])),-F[2]),y(a(C(B[1],F[0]),C(-F[1],B[0])),_[2]))),N[3]),a(y(a(y(a(C(F[1],N[0]),C(-N[1],F[0])),B[2]),a(y(a(C(B[1],N[0]),C(-N[1],B[0])),-F[2]),y(a(C(B[1],F[0]),C(-F[1],B[0])),N[2]))),-_[3]),y(a(y(a(C(O[1],N[0]),C(-N[1],O[0])),F[2]),a(y(a(C(F[1],N[0]),C(-N[1],F[0])),-O[2]),y(a(C(F[1],O[0]),C(-O[1],F[0])),N[2]))),B[3]))),a(y(a(y(a(C(O[1],N[0]),C(-N[1],O[0])),B[2]),a(y(a(C(B[1],N[0]),C(-N[1],B[0])),-O[2]),y(a(C(B[1],O[0]),C(-O[1],B[0])),N[2]))),-F[3]),a(y(a(y(a(C(F[1],N[0]),C(-N[1],F[0])),B[2]),a(y(a(C(B[1],N[0]),C(-N[1],B[0])),-F[2]),y(a(C(B[1],F[0]),C(-F[1],B[0])),N[2]))),O[3]),y(a(y(a(C(F[1],O[0]),C(-O[1],F[0])),B[2]),a(y(a(C(B[1],O[0]),C(-O[1],B[0])),-F[2]),y(a(C(B[1],F[0]),C(-F[1],B[0])),O[2]))),-N[3]))))),Y=a(a(a(y(a(y(a(C(N[1],_[0]),C(-_[1],N[0])),O[2]),a(y(a(C(O[1],_[0]),C(-_[1],O[0])),-N[2]),y(a(C(O[1],N[0]),C(-N[1],O[0])),_[2]))),B[3]),y(a(y(a(C(N[1],_[0]),C(-_[1],N[0])),B[2]),a(y(a(C(B[1],_[0]),C(-_[1],B[0])),-N[2]),y(a(C(B[1],N[0]),C(-N[1],B[0])),_[2]))),-O[3])),a(y(a(y(a(C(O[1],_[0]),C(-_[1],O[0])),B[2]),a(y(a(C(B[1],_[0]),C(-_[1],B[0])),-O[2]),y(a(C(B[1],O[0]),C(-O[1],B[0])),_[2]))),N[3]),y(a(y(a(C(O[1],N[0]),C(-N[1],O[0])),B[2]),a(y(a(C(B[1],N[0]),C(-N[1],B[0])),-O[2]),y(a(C(B[1],O[0]),C(-O[1],B[0])),N[2]))),-_[3]))),a(a(y(a(y(a(C(O[1],_[0]),C(-_[1],O[0])),F[2]),a(y(a(C(F[1],_[0]),C(-_[1],F[0])),-O[2]),y(a(C(F[1],O[0]),C(-O[1],F[0])),_[2]))),B[3]),y(a(y(a(C(O[1],_[0]),C(-_[1],O[0])),B[2]),a(y(a(C(B[1],_[0]),C(-_[1],B[0])),-O[2]),y(a(C(B[1],O[0]),C(-O[1],B[0])),_[2]))),-F[3])),a(y(a(y(a(C(F[1],_[0]),C(-_[1],F[0])),B[2]),a(y(a(C(B[1],_[0]),C(-_[1],B[0])),-F[2]),y(a(C(B[1],F[0]),C(-F[1],B[0])),_[2]))),O[3]),y(a(y(a(C(F[1],O[0]),C(-O[1],F[0])),B[2]),a(y(a(C(B[1],O[0]),C(-O[1],B[0])),-F[2]),y(a(C(B[1],F[0]),C(-F[1],B[0])),O[2]))),-_[3])))),K=z(U,Y);return K[K.length-1]}}function d(a){var C=a===3?w:a===4?h:o;return C(s,r,n,l)}var M=d(3),T=d(4),E=[function(){return 0},function(){return 0},function(C,y){return y[0]-C[0]},function(C,y,z){var I=(C[1]-z[1])*(y[0]-z[0]),B=(C[0]-z[0])*(y[1]-z[1]),F=I-B,O;if(I>0){if(B<=0)return F;O=I+B}else if(I<0){if(B>=0)return F;O=-(I+B)}else return F;var N=m*O;return F>=N||F<=-N?F:M(C,y,z)},function(C,y,z,I){var B=C[0]-I[0],F=y[0]-I[0],O=z[0]-I[0],N=C[1]-I[1],_=y[1]-I[1],U=z[1]-I[1],Y=C[2]-I[2],K=y[2]-I[2],re=z[2]-I[2],ae=F*U,fe=O*_,Q=O*N,j=B*U,X=B*_,J=F*N,ee=Y*(ae-fe)+K*(Q-j)+re*(X-J),se=(Math.abs(ae)+Math.abs(fe))*Math.abs(Y)+(Math.abs(Q)+Math.abs(j))*Math.abs(K)+(Math.abs(X)+Math.abs(J))*Math.abs(re),q=c*se;return ee>q||-ee>q?ee:T(C,y,z,I)}];function x(a){var C=E[a.length];return C||(C=E[a.length]=d(a.length)),C.apply(void 0,a)}function S(a,C,y,z,I,B,F){return function(N,_,U,Y,K){switch(arguments.length){case 0:case 1:return 0;case 2:return z(N,_);case 3:return I(N,_,U);case 4:return B(N,_,U,Y);case 5:return F(N,_,U,Y,K)}for(var re=new Array(arguments.length),ae=0;ae<arguments.length;++ae)re[ae]=arguments[ae];return a(re)}}function b(){for(;E.length<=f;)E.push(d(E.length));v.exports=S.apply(void 0,[x].concat(E));for(var a=0;a<=f;++a)v.exports[a]=E[a]}b()},2019:function(v,p,t){var r=t(9662),s=t(8289);v.exports=n;function n(l,f){if(l.length===1)return s(f,l[0]);if(f.length===1)return s(l,f[0]);if(l.length===0||f.length===0)return[0];var u=[0];if(l.length<f.length)for(var m=0;m<l.length;++m)u=r(u,s(f,l[m]));else for(var m=0;m<f.length;++m)u=r(u,s(l,f[m]));return u}},8289:function(v,p,t){var r=t(9660),s=t(87);v.exports=n;function n(l,f){var u=l.length;if(u===1){var m=r(l[0],f);return m[0]?m:[m[1]]}var c=new Array(2*u),w=[.1,.1],h=[.1,.1],o=0;r(l[0],f,w),w[0]&&(c[o++]=w[0]);for(var d=1;d<u;++d){r(l[d],f,h);var M=w[1];s(M,h[0],w),w[0]&&(c[o++]=w[0]);var T=h[1],E=w[1],x=T+E,S=x-T,b=E-S;w[1]=x,b&&(c[o++]=b)}return w[1]&&(c[o++]=w[1]),o===0&&(c[o++]=0),c.length=o,c}},4434:function(v,p,t){v.exports=n;var r=t(417)[3];function s(l,f,u,m){for(var c=0;c<2;++c){var w=l[c],h=f[c],o=Math.min(w,h),d=Math.max(w,h),M=u[c],T=m[c],E=Math.min(M,T),x=Math.max(M,T);if(x<o||d<E)return!1}return!0}function n(l,f,u,m){var c=r(l,u,m),w=r(f,u,m);if(c>0&&w>0||c<0&&w<0)return!1;var h=r(u,l,f),o=r(m,l,f);return h>0&&o>0||h<0&&o<0?!1:c===0&&w===0&&h===0&&o===0?s(l,f,u,m):!0}},4078:function(v){v.exports=t;function p(r,s){var n=r+s,l=n-r,f=n-l,u=s-l,m=r-f,c=m+u;return c?[c,n]:[n]}function t(r,s){var n=r.length|0,l=s.length|0;if(n===1&&l===1)return p(r[0],-s[0]);var f=n+l,u=new Array(f),m=0,c=0,w=0,h=Math.abs,o=r[c],d=h(o),M=-s[w],T=h(M),E,x;d<T?(x=o,c+=1,c<n&&(o=r[c],d=h(o))):(x=M,w+=1,w<l&&(M=-s[w],T=h(M))),c<n&&d<T||w>=l?(E=o,c+=1,c<n&&(o=r[c],d=h(o))):(E=M,w+=1,w<l&&(M=-s[w],T=h(M)));for(var S=E+x,b=S-E,a=x-b,C=a,y=S,z,I,B,F,O;c<n&&w<l;)d<T?(E=o,c+=1,c<n&&(o=r[c],d=h(o))):(E=M,w+=1,w<l&&(M=-s[w],T=h(M))),x=C,S=E+x,b=S-E,a=x-b,a&&(u[m++]=a),z=y+S,I=z-y,B=z-I,F=S-I,O=y-B,C=O+F,y=z;for(;c<n;)E=o,x=C,S=E+x,b=S-E,a=x-b,a&&(u[m++]=a),z=y+S,I=z-y,B=z-I,F=S-I,O=y-B,C=O+F,y=z,c+=1,c<n&&(o=r[c]);for(;w<l;)E=M,x=C,S=E+x,b=S-E,a=x-b,a&&(u[m++]=a),z=y+S,I=z-y,B=z-I,F=S-I,O=y-B,C=O+F,y=z,w+=1,w<l&&(M=-s[w]);return C&&(u[m++]=C),y&&(u[m++]=y),m||(u[m++]=0),u.length=m,u}},9662:function(v){v.exports=t;function p(r,s){var n=r+s,l=n-r,f=n-l,u=s-l,m=r-f,c=m+u;return c?[c,n]:[n]}function t(r,s){var n=r.length|0,l=s.length|0;if(n===1&&l===1)return p(r[0],s[0]);var f=n+l,u=new Array(f),m=0,c=0,w=0,h=Math.abs,o=r[c],d=h(o),M=s[w],T=h(M),E,x;d<T?(x=o,c+=1,c<n&&(o=r[c],d=h(o))):(x=M,w+=1,w<l&&(M=s[w],T=h(M))),c<n&&d<T||w>=l?(E=o,c+=1,c<n&&(o=r[c],d=h(o))):(E=M,w+=1,w<l&&(M=s[w],T=h(M)));for(var S=E+x,b=S-E,a=x-b,C=a,y=S,z,I,B,F,O;c<n&&w<l;)d<T?(E=o,c+=1,c<n&&(o=r[c],d=h(o))):(E=M,w+=1,w<l&&(M=s[w],T=h(M))),x=C,S=E+x,b=S-E,a=x-b,a&&(u[m++]=a),z=y+S,I=z-y,B=z-I,F=S-I,O=y-B,C=O+F,y=z;for(;c<n;)E=o,x=C,S=E+x,b=S-E,a=x-b,a&&(u[m++]=a),z=y+S,I=z-y,B=z-I,F=S-I,O=y-B,C=O+F,y=z,c+=1,c<n&&(o=r[c]);for(;w<l;)E=M,x=C,S=E+x,b=S-E,a=x-b,a&&(u[m++]=a),z=y+S,I=z-y,B=z-I,F=S-I,O=y-B,C=O+F,y=z,w+=1,w<l&&(M=s[w]);return C&&(u[m++]=C),y&&(u[m++]=y),m||(u[m++]=0),u.length=m,u}},8691:function(v,p,t){v.exports=n;var r=t(2692),s=t(7037);function n(l){return s(r(l))}},7212:function(v,p,t){v.exports=o;var r=t(5050),s=t(5306),n=t(8729),l=t(1168);function f(d){for(var M=d.length,T=0,E=0;E<M;++E)T=Math.max(T,d[E].length)|0;return T-1}function u(d,M){for(var T=d.length,E=s.mallocUint8(T),x=0;x<T;++x)E[x]=d[x]<M|0;return E}function m(d,M){for(var T=d.length,E=M*(M+1)/2*T|0,x=s.mallocUint32(E*2),S=0,b=0;b<T;++b)for(var a=d[b],M=a.length,C=0;C<M;++C)for(var y=0;y<C;++y){var z=a[y],I=a[C];x[S++]=Math.min(z,I)|0,x[S++]=Math.max(z,I)|0}var B=S/2|0;n(r(x,[B,2]));for(var F=2,b=2;b<S;b+=2)x[b-2]===x[b]&&x[b-1]===x[b+1]||(x[F++]=x[b],x[F++]=x[b+1]);return r(x,[F/2|0,2])}function c(d,M,T,E){for(var x=d.data,S=d.shape[0],b=s.mallocDouble(S),a=0,C=0;C<S;++C){var y=x[2*C],z=x[2*C+1];if(T[y]!==T[z]){var I=M[y],B=M[z];x[2*a]=y,x[2*a+1]=z,b[a++]=(B-E)/(B-I)}}return d.shape[0]=a,r(b,[a])}function w(d,M){var T=s.mallocInt32(M*2),E=d.shape[0],x=d.data;T[0]=0;for(var S=0,b=0;b<E;++b){var a=x[2*b];if(a!==S){for(T[2*S+1]=b;++S<a;)T[2*S]=b,T[2*S+1]=b;T[2*S]=b}}for(T[2*S+1]=E;++S<M;)T[2*S]=T[2*S+1]=E;return T}function h(d){for(var M=d.shape[0]|0,T=d.data,E=new Array(M),x=0;x<M;++x)E[x]=[T[2*x],T[2*x+1]];return E}function o(d,M,T,E){T=T||0,typeof E>"u"&&(E=f(d));var x=d.length;if(x===0||E<1)return{cells:[],vertexIds:[],vertexWeights:[]};var S=u(M,+T),b=m(d,E),a=c(b,M,S,+T),C=w(b,M.length|0),y=l(E)(d,b.data,C,S),z=h(b),I=[].slice.call(a.data,0,a.shape[0]);return s.free(S),s.free(b.data),s.free(a.data),s.free(C),{cells:y,vertexIds:z,vertexWeights:I}}},1168:function(v){v.exports=t;var p=[function(){function s(n,l,f,u){for(var m=n.length,c=[],w=0;w<m;++w){var h=n[w];h.length}return c}return s},function(){function s(l,f,u,m){for(var c=Math.min(u,m)|0,w=Math.max(u,m)|0,h=l[2*c],o=l[2*c+1];h<o;){var d=h+o>>1,M=f[2*d+1];if(M===w)return d;w<M?o=d:h=d+1}return h}function n(l,f,u,m){for(var c=l.length,w=[],h=0;h<c;++h){var o=l[h],d=o.length;if(d===2){var M=(m[o[0]]<<0)+(m[o[1]]<<1);if(M===0||M===3)continue;switch(M){case 0:break;case 1:w.push([s(u,f,o[0],o[1])]);break;case 2:w.push([s(u,f,o[1],o[0])]);break}}}return w}return n},function(){function s(l,f,u,m){for(var c=Math.min(u,m)|0,w=Math.max(u,m)|0,h=l[2*c],o=l[2*c+1];h<o;){var d=h+o>>1,M=f[2*d+1];if(M===w)return d;w<M?o=d:h=d+1}return h}function n(l,f,u,m){for(var c=l.length,w=[],h=0;h<c;++h){var o=l[h],d=o.length;if(d===3){var M=(m[o[0]]<<0)+(m[o[1]]<<1)+(m[o[2]]<<2);if(M===0||M===7)continue;switch(M){case 0:break;case 1:w.push([s(u,f,o[0],o[2]),s(u,f,o[0],o[1])]);break;case 2:w.push([s(u,f,o[1],o[0]),s(u,f,o[1],o[2])]);break;case 3:w.push([s(u,f,o[0],o[2]),s(u,f,o[1],o[2])]);break;case 4:w.push([s(u,f,o[2],o[1]),s(u,f,o[2],o[0])]);break;case 5:w.push([s(u,f,o[2],o[1]),s(u,f,o[0],o[1])]);break;case 6:w.push([s(u,f,o[1],o[0]),s(u,f,o[2],o[0])]);break}}else if(d===2){var M=(m[o[0]]<<0)+(m[o[1]]<<1);if(M===0||M===3)continue;switch(M){case 0:break;case 1:w.push([s(u,f,o[0],o[1])]);break;case 2:w.push([s(u,f,o[1],o[0])]);break}}}return w}return n},function(){function s(l,f,u,m){for(var c=Math.min(u,m)|0,w=Math.max(u,m)|0,h=l[2*c],o=l[2*c+1];h<o;){var d=h+o>>1,M=f[2*d+1];if(M===w)return d;w<M?o=d:h=d+1}return h}function n(l,f,u,m){for(var c=l.length,w=[],h=0;h<c;++h){var o=l[h],d=o.length;if(d===4){var M=(m[o[0]]<<0)+(m[o[1]]<<1)+(m[o[2]]<<2)+(m[o[3]]<<3);if(M===0||M===15)continue;switch(M){case 0:break;case 1:w.push([s(u,f,o[0],o[1]),s(u,f,o[0],o[2]),s(u,f,o[0],o[3])]);break;case 2:w.push([s(u,f,o[1],o[2]),s(u,f,o[1],o[0]),s(u,f,o[1],o[3])]);break;case 3:w.push([s(u,f,o[1],o[2]),s(u,f,o[0],o[2]),s(u,f,o[0],o[3])],[s(u,f,o[1],o[3]),s(u,f,o[1],o[2]),s(u,f,o[0],o[3])]);break;case 4:w.push([s(u,f,o[2],o[0]),s(u,f,o[2],o[1]),s(u,f,o[2],o[3])]);break;case 5:w.push([s(u,f,o[0],o[1]),s(u,f,o[2],o[1]),s(u,f,o[0],o[3])],[s(u,f,o[2],o[1]),s(u,f,o[2],o[3]),s(u,f,o[0],o[3])]);break;case 6:w.push([s(u,f,o[2],o[0]),s(u,f,o[1],o[0]),s(u,f,o[1],o[3])],[s(u,f,o[2],o[3]),s(u,f,o[2],o[0]),s(u,f,o[1],o[3])]);break;case 7:w.push([s(u,f,o[0],o[3]),s(u,f,o[1],o[3]),s(u,f,o[2],o[3])]);break;case 8:w.push([s(u,f,o[3],o[1]),s(u,f,o[3],o[0]),s(u,f,o[3],o[2])]);break;case 9:w.push([s(u,f,o[3],o[1]),s(u,f,o[0],o[1]),s(u,f,o[0],o[2])],[s(u,f,o[3],o[2]),s(u,f,o[3],o[1]),s(u,f,o[0],o[2])]);break;case 10:w.push([s(u,f,o[1],o[0]),s(u,f,o[3],o[0]),s(u,f,o[1],o[2])],[s(u,f,o[3],o[0]),s(u,f,o[3],o[2]),s(u,f,o[1],o[2])]);break;case 11:w.push([s(u,f,o[1],o[2]),s(u,f,o[0],o[2]),s(u,f,o[3],o[2])]);break;case 12:w.push([s(u,f,o[3],o[0]),s(u,f,o[2],o[0]),s(u,f,o[2],o[1])],[s(u,f,o[3],o[1]),s(u,f,o[3],o[0]),s(u,f,o[2],o[1])]);break;case 13:w.push([s(u,f,o[0],o[1]),s(u,f,o[2],o[1]),s(u,f,o[3],o[1])]);break;case 14:w.push([s(u,f,o[2],o[0]),s(u,f,o[1],o[0]),s(u,f,o[3],o[0])]);break}}else if(d===3){var M=(m[o[0]]<<0)+(m[o[1]]<<1)+(m[o[2]]<<2);if(M===0||M===7)continue;switch(M){case 0:break;case 1:w.push([s(u,f,o[0],o[2]),s(u,f,o[0],o[1])]);break;case 2:w.push([s(u,f,o[1],o[0]),s(u,f,o[1],o[2])]);break;case 3:w.push([s(u,f,o[0],o[2]),s(u,f,o[1],o[2])]);break;case 4:w.push([s(u,f,o[2],o[1]),s(u,f,o[2],o[0])]);break;case 5:w.push([s(u,f,o[2],o[1]),s(u,f,o[0],o[1])]);break;case 6:w.push([s(u,f,o[1],o[0]),s(u,f,o[2],o[0])]);break}}else if(d===2){var M=(m[o[0]]<<0)+(m[o[1]]<<1);if(M===0||M===3)continue;switch(M){case 0:break;case 1:w.push([s(u,f,o[0],o[1])]);break;case 2:w.push([s(u,f,o[1],o[0])]);break}}}return w}return n}];function t(r){return p[r]()}},8211:function(v,p,t){t(2288),t(1731);function r(s,n){var l=s.length,f=s.length-n.length,u=Math.min;if(f)return f;switch(l){case 0:return 0;case 1:return s[0]-n[0];case 2:var o=s[0]+s[1]-n[0]-n[1];return o||u(s[0],s[1])-u(n[0],n[1]);case 3:var m=s[0]+s[1],c=n[0]+n[1];if(o=m+s[2]-(c+n[2]),o)return o;var w=u(s[0],s[1]),h=u(n[0],n[1]),o=u(w,s[2])-u(h,n[2]);return o||u(w+s[2],m)-u(h+n[2],c);default:var d=s.slice(0);d.sort();var M=n.slice(0);M.sort();for(var T=0;T<l;++T)if(f=d[T]-M[T],f)return f;return 0}}p.H=r},9392:function(v,p){"use restrict";var t=32;p.INT_BITS=t,p.INT_MAX=2147483647,p.INT_MIN=-1<<t-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var l=n>>t-1;return(n^l)-l},p.min=function(n,l){return l^(n^l)&-(n<l)},p.max=function(n,l){return n^(n^l)&-(n<l)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var l,f;return l=(n>65535)<<4,n>>>=l,f=(n>255)<<3,n>>>=f,l|=f,f=(n>15)<<2,n>>>=f,l|=f,f=(n>3)<<1,n>>>=f,l|=f,l|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function r(n){var l=32;return n&=-n,n&&l--,n&65535&&(l-=16),n&16711935&&(l-=8),n&252645135&&(l-=4),n&858993459&&(l-=2),n&1431655765&&(l-=1),l}p.countTrailingZeros=r,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var s=new Array(256);(function(n){for(var l=0;l<256;++l){var f=l,u=l,m=7;for(f>>>=1;f;f>>>=1)u<<=1,u|=f&1,--m;n[l]=u<<m&255}})(s),p.reverse=function(n){return s[n&255]<<24|s[n>>>8&255]<<16|s[n>>>16&255]<<8|s[n>>>24&255]},p.interleave2=function(n,l){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,l&=65535,l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,n|l<<1},p.deinterleave2=function(n,l){return n=n>>>l&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,l,f){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,l&=1023,l=(l|l<<16)&4278190335,l=(l|l<<8)&251719695,l=(l|l<<4)&3272356035,l=(l|l<<2)&1227133513,n|=l<<1,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|f<<2},p.deinterleave3=function(n,l){return n=n>>>l&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var l=n|n-1;return l+1|(~l&-~l)-1>>>r(n)+1}},6656:function(v,p,t){"use restrict";var r=t(9392),s=t(9521);function n(a){for(var C=0,y=Math.max,z=0,I=a.length;z<I;++z)C=y(C,a[z].length);return C-1}p.dimension=n;function l(a){for(var C=-1,y=Math.max,z=0,I=a.length;z<I;++z)for(var B=a[z],F=0,O=B.length;F<O;++F)C=y(C,B[F]);return C+1}p.countVertices=l;function f(a){for(var C=new Array(a.length),y=0,z=a.length;y<z;++y)C[y]=a[y].slice(0);return C}p.cloneCells=f;function u(a,C){var y=a.length,z=a.length-C.length,I=Math.min;if(z)return z;switch(y){case 0:return 0;case 1:return a[0]-C[0];case 2:var _=a[0]+a[1]-C[0]-C[1];return _||I(a[0],a[1])-I(C[0],C[1]);case 3:var B=a[0]+a[1],F=C[0]+C[1];if(_=B+a[2]-(F+C[2]),_)return _;var O=I(a[0],a[1]),N=I(C[0],C[1]),_=I(O,a[2])-I(N,C[2]);return _||I(O+a[2],B)-I(N+C[2],F);default:var U=a.slice(0);U.sort();var Y=C.slice(0);Y.sort();for(var K=0;K<y;++K)if(z=U[K]-Y[K],z)return z;return 0}}p.compareCells=u;function m(a,C){return u(a[0],C[0])}function c(a,C){if(C){for(var y=a.length,z=new Array(y),I=0;I<y;++I)z[I]=[a[I],C[I]];z.sort(m);for(var I=0;I<y;++I)a[I]=z[I][0],C[I]=z[I][1];return a}else return a.sort(u),a}p.normalize=c;function w(a){if(a.length===0)return[];for(var C=1,y=a.length,z=1;z<y;++z){var I=a[z];if(u(I,a[z-1])){if(z===C){C++;continue}a[C++]=I}}return a.length=C,a}p.unique=w;function h(a,C){for(var y=0,z=a.length-1,I=-1;y<=z;){var B=y+z>>1,F=u(a[B],C);F<=0?(F===0&&(I=B),y=B+1):F>0&&(z=B-1)}return I}p.findCell=h;function o(a,C){for(var y=new Array(a.length),z=0,I=y.length;z<I;++z)y[z]=[];for(var B=[],z=0,F=C.length;z<F;++z)for(var O=C[z],N=O.length,_=1,U=1<<N;_<U;++_){B.length=r.popCount(_);for(var Y=0,K=0;K<N;++K)_&1<<K&&(B[Y++]=O[K]);var re=h(a,B);if(!(re<0))for(;y[re++].push(z),!(re>=a.length||u(a[re],B)!==0););}return y}p.incidence=o;function d(a,C){if(!C)return o(w(T(a,0)),a);for(var y=new Array(C),z=0;z<C;++z)y[z]=[];for(var z=0,I=a.length;z<I;++z)for(var B=a[z],F=0,O=B.length;F<O;++F)y[B[F]].push(z);return y}p.dual=d;function M(a){for(var C=[],y=0,z=a.length;y<z;++y)for(var I=a[y],B=I.length|0,F=1,O=1<<B;F<O;++F){for(var N=[],_=0;_<B;++_)F>>>_&1&&N.push(I[_]);C.push(N)}return c(C)}p.explode=M;function T(a,C){if(C<0)return[];for(var y=[],z=(1<<C+1)-1,I=0;I<a.length;++I)for(var B=a[I],F=z;F<1<<B.length;F=r.nextCombination(F)){for(var O=new Array(C+1),N=0,_=0;_<B.length;++_)F&1<<_&&(O[N++]=B[_]);y.push(O)}return c(y)}p.skeleton=T;function E(a){for(var C=[],y=0,z=a.length;y<z;++y)for(var I=a[y],B=0,F=I.length;B<F;++B){for(var O=new Array(I.length-1),N=0,_=0;N<F;++N)N!==B&&(O[_++]=I[N]);C.push(O)}return c(C)}p.boundary=E;function x(a,C){for(var y=new s(C),z=0;z<a.length;++z)for(var I=a[z],B=0;B<I.length;++B)for(var F=B+1;F<I.length;++F)y.link(I[B],I[F]);for(var O=[],N=y.ranks,z=0;z<N.length;++z)N[z]=-1;for(var z=0;z<a.length;++z){var _=y.find(a[z][0]);N[_]<0?(N[_]=O.length,O.push([a[z].slice(0)])):O[N[_]].push(a[z].slice(0))}return O}function S(a){for(var C=w(c(T(a,0))),y=new s(C.length),z=0;z<a.length;++z)for(var I=a[z],B=0;B<I.length;++B)for(var F=h(C,[I[B]]),O=B+1;O<I.length;++O)y.link(F,h(C,[I[O]]));for(var N=[],_=y.ranks,z=0;z<_.length;++z)_[z]=-1;for(var z=0;z<a.length;++z){var U=y.find(h(C,[a[z][0]]));_[U]<0?(_[U]=N.length,N.push([a[z].slice(0)])):N[_[U]].push(a[z].slice(0))}return N}function b(a,C){return C?x(a,C):S(a)}p.connectedComponents=b},9521:function(v){"use restrict";v.exports=p;function p(t){this.roots=new Array(t),this.ranks=new Array(t);for(var r=0;r<t;++r)this.roots[r]=r,this.ranks[r]=0}p.prototype.length=function(){return this.roots.length},p.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},p.prototype.find=function(t){for(var r=this.roots;r[t]!==t;){var s=r[t];r[t]=r[s],t=s}return t},p.prototype.link=function(t,r){var s=this.find(t),n=this.find(r);if(s!==n){var l=this.ranks,f=this.roots,u=l[s],m=l[n];u<m?f[s]=n:m<u?f[n]=s:(f[n]=s,++l[s])}}},8243:function(v,p,t){v.exports=l;var r=t(417),s=t(6656);function n(f,u,m){var c=Math.abs(r(f,u,m)),w=Math.sqrt(Math.pow(u[0]-m[0],2)+Math.pow(u[1]-m[1],2));return c/w}function l(f,u,m){for(var c=u.length,w=f.length,h=new Array(c),o=new Array(c),d=new Array(c),M=new Array(c),T=0;T<c;++T)h[T]=o[T]=-1,d[T]=1/0,M[T]=!1;for(var T=0;T<w;++T){var E=f[T];if(E.length!==2)throw new Error("Input must be a graph");var x=E[1],S=E[0];o[S]!==-1?o[S]=-2:o[S]=x,h[x]!==-1?h[x]=-2:h[x]=S}function b(Q){if(M[Q])return 1/0;var j=h[Q],X=o[Q];return j<0||X<0?1/0:n(u[Q],u[j],u[X])}function a(Q,j){var X=N[Q],J=N[j];N[Q]=J,N[j]=X,_[X]=j,_[J]=Q}function C(Q){return d[N[Q]]}function y(Q){return Q&1?Q-1>>1:(Q>>1)-1}function z(Q){for(var j=C(Q);;){var X=j,J=2*Q+1,ee=2*(Q+1),se=Q;if(J<Y){var q=C(J);q<X&&(se=J,X=q)}if(ee<Y){var $=C(ee);$<X&&(se=ee)}if(se===Q)return Q;a(Q,se),Q=se}}function I(Q){for(var j=C(Q);Q>0;){var X=y(Q);if(X>=0){var J=C(X);if(j<J){a(Q,X),Q=X;continue}}return Q}}function B(){if(Y>0){var Q=N[0];return a(0,Y-1),Y-=1,z(0),Q}return-1}function F(Q,j){var X=N[Q];return d[X]===j?Q:(d[X]=-1/0,I(Q),B(),d[X]=j,Y+=1,I(Y-1))}function O(Q){if(!M[Q]){M[Q]=!0;var j=h[Q],X=o[Q];h[X]>=0&&(h[X]=j),o[j]>=0&&(o[j]=X),_[j]>=0&&F(_[j],b(j)),_[X]>=0&&F(_[X],b(X))}}for(var N=[],_=new Array(c),T=0;T<c;++T){var U=d[T]=b(T);U<1/0?(_[T]=N.length,N.push(T)):_[T]=-1}for(var Y=N.length,T=Y>>1;T>=0;--T)z(T);for(;;){var K=B();if(K<0||d[K]>m)break;O(K)}for(var re=[],T=0;T<c;++T)M[T]||(_[T]=re.length,re.push(u[T].slice()));re.length;function ae(Q,j){if(Q[j]<0)return j;var X=j,J=j;do{var ee=Q[J];if(!M[J]||ee<0||ee===J||(J=ee,ee=Q[J],!M[J]||ee<0||ee===J))break;J=ee,X=Q[X]}while(X!==J);for(var se=j;se!==J;se=Q[se])Q[se]=J;return J}var fe=[];return f.forEach(function(Q){var j=ae(h,Q[0]),X=ae(o,Q[1]);if(j>=0&&X>=0&&j!==X){var J=_[j],ee=_[X];J!==ee&&fe.push([J,ee])}}),s.unique(s.normalize(fe)),{positions:re,edges:fe}}},6638:function(v,p,t){v.exports=n;var r=t(417);function s(l,f){var u,m;if(f[0][0]<f[1][0])u=f[0],m=f[1];else if(f[0][0]>f[1][0])u=f[1],m=f[0];else{var c=Math.min(l[0][1],l[1][1]),w=Math.max(l[0][1],l[1][1]),h=Math.min(f[0][1],f[1][1]),o=Math.max(f[0][1],f[1][1]);return w<h?w-h:c>o?c-o:w-o}var d,M;l[0][1]<l[1][1]?(d=l[0],M=l[1]):(d=l[1],M=l[0]);var T=r(m,u,d);return T||(T=r(m,u,M),T)?T:M-m}function n(l,f){var u,m;if(f[0][0]<f[1][0])u=f[0],m=f[1];else if(f[0][0]>f[1][0])u=f[1],m=f[0];else return s(f,l);var c,w;if(l[0][0]<l[1][0])c=l[0],w=l[1];else if(l[0][0]>l[1][0])c=l[1],w=l[0];else return-s(l,f);var h=r(u,m,w),o=r(u,m,c);if(h<0){if(o<=0)return h}else if(h>0){if(o>=0)return h}else if(o)return o;if(h=r(w,c,m),o=r(w,c,u),h<0){if(o<=0)return h}else if(h>0){if(o>=0)return h}else if(o)return o;return m[0]-w[0]}},4385:function(v,p,t){v.exports=o;var r=t(5070),s=t(7080),n=t(417),l=t(6638);function f(d,M,T){this.slabs=d,this.coordinates=M,this.horizontal=T}var u=f.prototype;function m(d,M){return d.y-M}function c(d,M){for(var T=null;d;){var E=d.key,x,S;E[0][0]<E[1][0]?(x=E[0],S=E[1]):(x=E[1],S=E[0]);var b=n(x,S,M);if(b<0)d=d.left;else if(b>0)if(M[0]!==E[1][0])T=d,d=d.right;else{var a=c(d.right,M);if(a)return a;d=d.left}else{if(M[0]!==E[1][0])return d;var a=c(d.right,M);if(a)return a;d=d.left}}return T}u.castUp=function(d){var M=r.le(this.coordinates,d[0]);if(M<0)return-1;this.slabs[M];var T=c(this.slabs[M],d),E=-1;if(T&&(E=T.value),this.coordinates[M]===d[0]){var x=null;if(T&&(x=T.key),M>0){var S=c(this.slabs[M-1],d);S&&(x?l(S.key,x)>0&&(x=S.key,E=S.value):(E=S.value,x=S.key))}var b=this.horizontal[M];if(b.length>0){var a=r.ge(b,d[1],m);if(a<b.length){var C=b[a];if(d[1]===C.y){if(C.closed)return C.index;for(;a<b.length-1&&b[a+1].y===d[1];)if(a=a+1,C=b[a],C.closed)return C.index;if(C.y===d[1]&&!C.start){if(a=a+1,a>=b.length)return E;C=b[a]}}if(C.start)if(x){var y=n(x[0],x[1],[d[0],C.y]);x[0][0]>x[1][0]&&(y=-y),y>0&&(E=C.index)}else E=C.index;else C.y!==d[1]&&(E=C.index)}}}return E};function w(d,M,T,E){this.y=d,this.index=M,this.start=T,this.closed=E}function h(d,M,T,E){this.x=d,this.segment=M,this.create=T,this.index=E}function o(d){for(var M=d.length,T=2*M,E=new Array(T),x=0;x<M;++x){var S=d[x],b=S[0][0]<S[1][0];E[2*x]=new h(S[0][0],S,b,x),E[2*x+1]=new h(S[1][0],S,!b,x)}E.sort(function(O,N){var _=O.x-N.x;return _||(_=O.create-N.create,_)?_:Math.min(O.segment[0][1],O.segment[1][1])-Math.min(N.segment[0][1],N.segment[1][1])});for(var a=s(l),C=[],y=[],z=[],x=0;x<T;){for(var I=E[x].x,B=[];x<T;){var F=E[x];if(F.x!==I)break;x+=1,F.segment[0][0]===F.x&&F.segment[1][0]===F.x?F.create&&(F.segment[0][1]<F.segment[1][1]?(B.push(new w(F.segment[0][1],F.index,!0,!0)),B.push(new w(F.segment[1][1],F.index,!1,!1))):(B.push(new w(F.segment[1][1],F.index,!0,!1)),B.push(new w(F.segment[0][1],F.index,!1,!0)))):F.create?a=a.insert(F.segment,F.index):a=a.remove(F.segment)}C.push(a.root),y.push(I),z.push(B)}return new f(C,y,z)}},4670:function(v,p,t){var r=t(9130),s=t(9662);v.exports=f,v.exports.positive=u,v.exports.negative=m;function n(c,w){var h=s(r(c,w),[w[w.length-1]]);return h[h.length-1]}function l(c,w,h,o){var d=o-w,M=-w/d;M<0?M=0:M>1&&(M=1);for(var T=1-M,E=c.length,x=new Array(E),S=0;S<E;++S)x[S]=M*c[S]+T*h[S];return x}function f(c,w){for(var h=[],o=[],d=n(c[c.length-1],w),M=c[c.length-1],T=c[0],E=0;E<c.length;++E,M=T){T=c[E];var x=n(T,w);if(d<0&&x>0||d>0&&x<0){var S=l(M,x,T,d);h.push(S),o.push(S.slice())}x<0?o.push(T.slice()):x>0?h.push(T.slice()):(h.push(T.slice()),o.push(T.slice())),d=x}return{positive:h,negative:o}}function u(c,w){for(var h=[],o=n(c[c.length-1],w),d=c[c.length-1],M=c[0],T=0;T<c.length;++T,d=M){M=c[T];var E=n(M,w);(o<0&&E>0||o>0&&E<0)&&h.push(l(d,E,M,o)),E>=0&&h.push(M.slice()),o=E}return h}function m(c,w){for(var h=[],o=n(c[c.length-1],w),d=c[c.length-1],M=c[0],T=0;T<c.length;++T,d=M){M=c[T];var E=n(M,w);(o<0&&E>0||o>0&&E<0)&&h.push(l(d,E,M,o)),E<=0&&h.push(M.slice()),o=E}return h}},8974:function(v,p,t){var r;(function(){var s={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(c){return f(m(c),arguments)}function l(c,w){return n.apply(null,[c].concat(w||[]))}function f(c,w){var h=1,o=c.length,d,M="",T,E,x,S,b,a,C,y;for(T=0;T<o;T++)if(typeof c[T]=="string")M+=c[T];else if(typeof c[T]=="object"){if(x=c[T],x.keys)for(d=w[h],E=0;E<x.keys.length;E++){if(d==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',x.keys[E],x.keys[E-1]));d=d[x.keys[E]]}else x.param_no?d=w[x.param_no]:d=w[h++];if(s.not_type.test(x.type)&&s.not_primitive.test(x.type)&&d instanceof Function&&(d=d()),s.numeric_arg.test(x.type)&&typeof d!="number"&&isNaN(d))throw new TypeError(n("[sprintf] expecting number but found %T",d));switch(s.number.test(x.type)&&(C=d>=0),x.type){case"b":d=parseInt(d,10).toString(2);break;case"c":d=String.fromCharCode(parseInt(d,10));break;case"d":case"i":d=parseInt(d,10);break;case"j":d=JSON.stringify(d,null,x.width?parseInt(x.width):0);break;case"e":d=x.precision?parseFloat(d).toExponential(x.precision):parseFloat(d).toExponential();break;case"f":d=x.precision?parseFloat(d).toFixed(x.precision):parseFloat(d);break;case"g":d=x.precision?String(Number(d.toPrecision(x.precision))):parseFloat(d);break;case"o":d=(parseInt(d,10)>>>0).toString(8);break;case"s":d=String(d),d=x.precision?d.substring(0,x.precision):d;break;case"t":d=String(!!d),d=x.precision?d.substring(0,x.precision):d;break;case"T":d=Object.prototype.toString.call(d).slice(8,-1).toLowerCase(),d=x.precision?d.substring(0,x.precision):d;break;case"u":d=parseInt(d,10)>>>0;break;case"v":d=d.valueOf(),d=x.precision?d.substring(0,x.precision):d;break;case"x":d=(parseInt(d,10)>>>0).toString(16);break;case"X":d=(parseInt(d,10)>>>0).toString(16).toUpperCase();break}s.json.test(x.type)?M+=d:(s.number.test(x.type)&&(!C||x.sign)?(y=C?"+":"-",d=d.toString().replace(s.sign,"")):y="",b=x.pad_char?x.pad_char==="0"?"0":x.pad_char.charAt(1):" ",a=x.width-(y+d).length,S=x.width&&a>0?b.repeat(a):"",M+=x.align?y+d+S:b==="0"?y+S+d:S+y+d)}return M}var u=Object.create(null);function m(c){if(u[c])return u[c];for(var w=c,h,o=[],d=0;w;){if((h=s.text.exec(w))!==null)o.push(h[0]);else if((h=s.modulo.exec(w))!==null)o.push("%");else if((h=s.placeholder.exec(w))!==null){if(h[2]){d|=1;var M=[],T=h[2],E=[];if((E=s.key.exec(T))!==null)for(M.push(E[1]);(T=T.substring(E[0].length))!=="";)if((E=s.key_access.exec(T))!==null)M.push(E[1]);else if((E=s.index_access.exec(T))!==null)M.push(E[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");h[2]=M}else d|=2;if(d===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");o.push({placeholder:h[0],param_no:h[1],keys:h[2],sign:h[3],pad_char:h[4],align:h[5],width:h[6],precision:h[7],type:h[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");w=w.substring(h[0].length)}return u[c]=o}p.sprintf=n,p.vsprintf=l,typeof window<"u"&&(window.sprintf=n,window.vsprintf=l,r=(function(){return{sprintf:n,vsprintf:l}}).call(p,t,p,v),r!==void 0&&(v.exports=r))})()},4162:function(v,p,t){v.exports=m;var r=t(9284),s=t(9584),n={"2d":function(c,w,h){var o=c({order:w,scalarArguments:3,getters:h==="generic"?[0]:void 0,phase:function(M,T,E,x){return M>x|0},vertex:function(M,T,E,x,S,b,a,C,y,z,I,B,F){var O=(a<<0)+(C<<1)+(y<<2)+(z<<3)|0;if(!(O===0||O===15))switch(O){case 0:I.push([M-.5,T-.5]);break;case 1:I.push([M-.25-.25*(x+E-2*F)/(E-x),T-.25-.25*(S+E-2*F)/(E-S)]);break;case 2:I.push([M-.75-.25*(-x-E+2*F)/(x-E),T-.25-.25*(b+x-2*F)/(x-b)]);break;case 3:I.push([M-.5,T-.5-.5*(S+E+b+x-4*F)/(E-S+x-b)]);break;case 4:I.push([M-.25-.25*(b+S-2*F)/(S-b),T-.75-.25*(-S-E+2*F)/(S-E)]);break;case 5:I.push([M-.5-.5*(x+E+b+S-4*F)/(E-x+S-b),T-.5]);break;case 6:I.push([M-.5-.25*(-x-E+b+S)/(x-E+S-b),T-.5-.25*(-S-E+b+x)/(S-E+x-b)]);break;case 7:I.push([M-.75-.25*(b+S-2*F)/(S-b),T-.75-.25*(b+x-2*F)/(x-b)]);break;case 8:I.push([M-.75-.25*(-b-S+2*F)/(b-S),T-.75-.25*(-b-x+2*F)/(b-x)]);break;case 9:I.push([M-.5-.25*(x+E+-b-S)/(E-x+b-S),T-.5-.25*(S+E+-b-x)/(E-S+b-x)]);break;case 10:I.push([M-.5-.5*(-x-E+-b-S+4*F)/(x-E+b-S),T-.5]);break;case 11:I.push([M-.25-.25*(-b-S+2*F)/(b-S),T-.75-.25*(S+E-2*F)/(E-S)]);break;case 12:I.push([M-.5,T-.5-.5*(-S-E+-b-x+4*F)/(S-E+b-x)]);break;case 13:I.push([M-.75-.25*(x+E-2*F)/(E-x),T-.25-.25*(-b-x+2*F)/(b-x)]);break;case 14:I.push([M-.25-.25*(-x-E+2*F)/(x-E),T-.25-.25*(-S-E+2*F)/(S-E)]);break;case 15:I.push([M-.5,T-.5]);break}},cell:function(M,T,E,x,S,b,a,C,y){S?C.push([M,T]):C.push([T,M])}});return function(d,M){var T=[],E=[];return o(d,T,E,M),{positions:T,cells:E}}}};function l(c,w){var h=c.length+"d",o=n[h];if(o)return o(r,c,w)}function f(c,w){for(var h=s(c,w),o=h.length,d=new Array(o),M=new Array(o),T=0;T<o;++T)d[T]=[h[T]],M[T]=[T];return{positions:d,cells:M}}var u={};function m(c,d){if(c.dimension<=0)return{positions:[],cells:[]};if(c.dimension===1)return f(c,d);var h=c.order.join()+"-"+c.dtype,o=u[h],d=+d||0;return o||(o=u[h]=l(c.order,c.dtype)),o(c,d)}},6946:function(v,p,t){v.exports=f;var r=t(875),s=window||g.global||{},n=s.__TEXT_CACHE||{};s.__TEXT_CACHE={};function l(u){for(var m=u.cells,c=u.positions,w=new Float32Array(m.length*6),h=0,o=0,d=0;d<m.length;++d)for(var M=m[d],T=0;T<3;++T){var E=c[M[T]];w[h++]=E[0],w[h++]=E[1]+1.4,o=Math.max(E[0],o)}return{data:w,shape:o}}function f(u,m,w){var w=w||{},h=n[u];h||(h=n[u]={" ":{data:new Float32Array(0),shape:.2}});var o=h[m];if(!o)if(m.length<=1||!/\d/.test(m))o=h[m]=l(r(m,{triangles:!0,font:u,textAlign:w.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var d=m.split(/(\d|\s)/),M=new Array(d.length),T=0,E=0,x=0;x<d.length;++x)M[x]=f(u,d[x]),T+=M[x].data.length,E+=M[x].shape,x>0&&(E+=.02);for(var S=new Float32Array(T),b=0,a=-.5*E,x=0;x<M.length;++x){for(var C=M[x].data,y=0;y<C.length;y+=2)S[b++]=C[y]+a,S[b++]=C[y+1];a+=M[x].shape+.02}o=h[m]={data:S,shape:E}}return o}},14:function(v,p,t){var r=t(4405);v.exports=f;var s=96;function n(u,m){var c=r(getComputedStyle(u).getPropertyValue(m));return c[0]*f(c[1],u)}function l(u,m){var c=document.createElement("div");c.style["font-size"]="128"+u,m.appendChild(c);var w=n(c,"font-size")/128;return m.removeChild(c),w}function f(u,m){switch(m=m||document.body,u=(u||"px").trim().toLowerCase(),(m===window||m===document)&&(m=document.body),u){case"%":return m.clientHeight/100;case"ch":case"ex":return l(u,m);case"em":return n(m,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return s;case"cm":return s/2.54;case"mm":return s/25.4;case"pt":return s/72;case"pc":return s/6}return 1}},3440:function(v,p,t){v.exports=M;var r=t(8444),s=t(7437),n=t(4422),l=t(903),f=t(899),u=t(9305);function m(T,E,x){return Math.sqrt(Math.pow(T,2)+Math.pow(E,2)+Math.pow(x,2))}function c(T){return Math.min(1,Math.max(-1,T))}function w(T){var E=Math.abs(T[0]),x=Math.abs(T[1]),S=Math.abs(T[2]),b=[0,0,0];E>Math.max(x,S)?b[2]=1:x>Math.max(E,S)?b[0]=1:b[1]=1;for(var a=0,C=0,y=0;y<3;++y)a+=T[y]*T[y],C+=b[y]*T[y];for(var y=0;y<3;++y)b[y]-=C/a*T[y];return f(b,b),b}function h(T,E,x,S,b,a,C,y){this.center=r(x),this.up=r(S),this.right=r(b),this.radius=r([a]),this.angle=r([C,y]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(T,E),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var z=0;z<16;++z)this.computedMatrix[z]=.5;this.recalcMatrix(0)}var o=h.prototype;o.setDistanceLimits=function(T,E){T>0?T=Math.log(T):T=-1/0,E>0?E=Math.log(E):E=1/0,E=Math.max(E,T),this.radius.bounds[0][0]=T,this.radius.bounds[1][0]=E},o.getDistanceLimits=function(T){var E=this.radius.bounds[0];return T?(T[0]=Math.exp(E[0][0]),T[1]=Math.exp(E[1][0]),T):[Math.exp(E[0][0]),Math.exp(E[1][0])]},o.recalcMatrix=function(T){this.center.curve(T),this.up.curve(T),this.right.curve(T),this.radius.curve(T),this.angle.curve(T);for(var E=this.computedUp,x=this.computedRight,S=0,b=0,a=0;a<3;++a)b+=E[a]*x[a],S+=E[a]*E[a];for(var C=Math.sqrt(S),y=0,a=0;a<3;++a)x[a]-=E[a]*b/S,y+=x[a]*x[a],E[a]/=C;for(var z=Math.sqrt(y),a=0;a<3;++a)x[a]/=z;var I=this.computedToward;l(I,E,x),f(I,I);for(var B=Math.exp(this.computedRadius[0]),F=this.computedAngle[0],O=this.computedAngle[1],N=Math.cos(F),_=Math.sin(F),U=Math.cos(O),Y=Math.sin(O),K=this.computedCenter,re=N*U,ae=_*U,fe=Y,Q=-N*Y,j=-_*Y,X=U,J=this.computedEye,ee=this.computedMatrix,a=0;a<3;++a){var se=re*x[a]+ae*I[a]+fe*E[a];ee[4*a+1]=Q*x[a]+j*I[a]+X*E[a],ee[4*a+2]=se,ee[4*a+3]=0}var q=ee[1],$=ee[5],le=ee[9],ie=ee[2],ce=ee[6],me=ee[10],Me=$*me-le*ce,we=le*ie-q*me,Oe=q*ce-$*ie,Be=m(Me,we,Oe);Me/=Be,we/=Be,Oe/=Be,ee[0]=Me,ee[4]=we,ee[8]=Oe;for(var a=0;a<3;++a)J[a]=K[a]+ee[2+4*a]*B;for(var a=0;a<3;++a){for(var y=0,Ce=0;Ce<3;++Ce)y+=ee[a+4*Ce]*J[Ce];ee[12+a]=-y}ee[15]=1},o.getMatrix=function(T,E){this.recalcMatrix(T);var x=this.computedMatrix;if(E){for(var S=0;S<16;++S)E[S]=x[S];return E}return x};var d=[0,0,0];o.rotate=function(T,E,x,S){if(this.angle.move(T,E,x),S){this.recalcMatrix(T);var b=this.computedMatrix;d[0]=b[2],d[1]=b[6],d[2]=b[10];for(var a=this.computedUp,C=this.computedRight,y=this.computedToward,z=0;z<3;++z)b[4*z]=a[z],b[4*z+1]=C[z],b[4*z+2]=y[z];n(b,b,S,d);for(var z=0;z<3;++z)a[z]=b[4*z],C[z]=b[4*z+1];this.up.set(T,a[0],a[1],a[2]),this.right.set(T,C[0],C[1],C[2])}},o.pan=function(T,E,x,S){E=E||0,x=x||0,S=S||0,this.recalcMatrix(T);var b=this.computedMatrix;Math.exp(this.computedRadius[0]);var a=b[1],C=b[5],y=b[9],z=m(a,C,y);a/=z,C/=z,y/=z;var I=b[0],B=b[4],F=b[8],O=I*a+B*C+F*y;I-=a*O,B-=C*O,F-=y*O;var N=m(I,B,F);I/=N,B/=N,F/=N;var _=I*E+a*x,U=B*E+C*x,Y=F*E+y*x;this.center.move(T,_,U,Y);var K=Math.exp(this.computedRadius[0]);K=Math.max(1e-4,K+S),this.radius.set(T,Math.log(K))},o.translate=function(T,E,x,S){this.center.move(T,E||0,x||0,S||0)},o.setMatrix=function(T,E,x,S){var b=1;typeof x=="number"&&(b=x|0),(b<0||b>3)&&(b=1);var a=(b+2)%3;E||(this.recalcMatrix(T),E=this.computedMatrix);var C=E[b],y=E[b+4],z=E[b+8];if(S){var B=Math.abs(C),F=Math.abs(y),O=Math.abs(z),N=Math.max(B,F,O);B===N?(C=C<0?-1:1,y=z=0):O===N?(z=z<0?-1:1,C=y=0):(y=y<0?-1:1,C=z=0)}else{var I=m(C,y,z);C/=I,y/=I,z/=I}var _=E[a],U=E[a+4],Y=E[a+8],K=_*C+U*y+Y*z;_-=C*K,U-=y*K,Y-=z*K;var re=m(_,U,Y);_/=re,U/=re,Y/=re;var ae=y*Y-z*U,fe=z*_-C*Y,Q=C*U-y*_,j=m(ae,fe,Q);ae/=j,fe/=j,Q/=j,this.center.jump(T,Ge,ke,We),this.radius.idle(T),this.up.jump(T,C,y,z),this.right.jump(T,_,U,Y);var X,J;if(b===2){var ee=E[1],se=E[5],q=E[9],$=ee*_+se*U+q*Y,le=ee*ae+se*fe+q*Q;Me<0?X=-Math.PI/2:X=Math.PI/2,J=Math.atan2(le,$)}else{var ie=E[2],ce=E[6],me=E[10],Me=ie*C+ce*y+me*z,we=ie*_+ce*U+me*Y,Oe=ie*ae+ce*fe+me*Q;X=Math.asin(c(Me)),J=Math.atan2(Oe,we)}this.angle.jump(T,J,X),this.recalcMatrix(T);var Be=E[2],Ce=E[6],xe=E[10],Se=this.computedMatrix;s(Se,E);var He=Se[15],Ge=Se[12]/He,ke=Se[13]/He,We=Se[14]/He,it=Math.exp(this.computedRadius[0]);this.center.jump(T,Ge-Be*it,ke-Ce*it,We-xe*it)},o.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},o.idle=function(T){this.center.idle(T),this.up.idle(T),this.right.idle(T),this.radius.idle(T),this.angle.idle(T)},o.flush=function(T){this.center.flush(T),this.up.flush(T),this.right.flush(T),this.radius.flush(T),this.angle.flush(T)},o.setDistance=function(T,E){E>0&&this.radius.set(T,Math.log(E))},o.lookAt=function(T,E,x,S){this.recalcMatrix(T),E=E||this.computedEye,x=x||this.computedCenter,S=S||this.computedUp;var b=S[0],a=S[1],C=S[2],y=m(b,a,C);if(!(y<1e-6)){b/=y,a/=y,C/=y;var z=E[0]-x[0],I=E[1]-x[1],B=E[2]-x[2],F=m(z,I,B);if(!(F<1e-6)){z/=F,I/=F,B/=F;var O=this.computedRight,N=O[0],_=O[1],U=O[2],Y=b*N+a*_+C*U;N-=Y*b,_-=Y*a,U-=Y*C;var K=m(N,_,U);if(!(K<.01&&(N=a*B-C*I,_=C*z-b*B,U=b*I-a*z,K=m(N,_,U),K<1e-6))){N/=K,_/=K,U/=K,this.up.set(T,b,a,C),this.right.set(T,N,_,U),this.center.set(T,x[0],x[1],x[2]),this.radius.set(T,Math.log(F));var re=a*U-C*_,ae=C*N-b*U,fe=b*_-a*N,Q=m(re,ae,fe);re/=Q,ae/=Q,fe/=Q;var j=b*z+a*I+C*B,X=N*z+_*I+U*B,J=re*z+ae*I+fe*B,ee=Math.asin(c(j)),se=Math.atan2(J,X),q=this.angle._state,$=q[q.length-1],le=q[q.length-2];$=$%(2*Math.PI);var ie=Math.abs($+2*Math.PI-se),ce=Math.abs($-se),me=Math.abs($-2*Math.PI-se);ie<ce&&($+=2*Math.PI),me<ce&&($-=2*Math.PI),this.angle.jump(this.angle.lastT(),$,le),this.angle.set(T,se,ee)}}}};function M(T){T=T||{};var E=T.center||[0,0,0],x=T.up||[0,1,0],S=T.right||w(x),b=T.radius||1,a=T.theta||0,C=T.phi||0;if(E=[].slice.call(E,0,3),x=[].slice.call(x,0,3),f(x,x),S=[].slice.call(S,0,3),f(S,S),"eye"in T){var y=T.eye,z=[y[0]-E[0],y[1]-E[1],y[2]-E[2]];l(S,z,x),m(S[0],S[1],S[2])<1e-6?S=w(x):f(S,S),b=m(z[0],z[1],z[2]);var I=u(x,z)/b,B=u(S,z)/b;C=Math.acos(I),a=Math.acos(B)}return b=Math.log(b),new h(T.zoomMin,T.zoomMax,E,x,S,b,a,C)}},9660:function(v){v.exports=t;var p=+(Math.pow(2,27)+1);function t(r,s,n){var l=r*s,f=p*r,u=f-r,m=f-u,c=r-m,w=p*s,h=w-s,o=w-h,d=s-o,M=l-m*o,T=M-c*o,E=T-m*d,x=c*d-E;return n?(n[0]=x,n[1]=l,n):[x,l]}},87:function(v){v.exports=p;function p(t,r,s){var n=t+r,l=n-t,f=n-l,u=r-l,m=t-f;return s?(s[0]=m+u,s[1]=n,s):[m+u,n]}},5306:function(v,p,t){var r=t(2288),s=t(3094),n=t(2146).lW;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:s([32,0]),UINT16:s([32,0]),UINT32:s([32,0]),BIGUINT64:s([32,0]),INT8:s([32,0]),INT16:s([32,0]),INT32:s([32,0]),BIGINT64:s([32,0]),FLOAT:s([32,0]),DOUBLE:s([32,0]),DATA:s([32,0]),UINT8C:s([32,0]),BUFFER:s([32,0])});var l=typeof Uint8ClampedArray<"u",f=typeof BigUint64Array<"u",u=typeof BigInt64Array<"u",m=t.g.__TYPEDARRAY_POOL;m.UINT8C||(m.UINT8C=s([32,0])),m.BIGUINT64||(m.BIGUINT64=s([32,0])),m.BIGINT64||(m.BIGINT64=s([32,0])),m.BUFFER||(m.BUFFER=s([32,0]));var c=m.DATA,w=m.BUFFER;p.free=function(N){if(n.isBuffer(N))w[r.log2(N.length)].push(N);else{if(Object.prototype.toString.call(N)!=="[object ArrayBuffer]"&&(N=N.buffer),!N)return;var _=N.length||N.byteLength,U=r.log2(_)|0;c[U].push(N)}};function h(O){if(O){var N=O.length||O.byteLength,_=r.log2(N);c[_].push(O)}}function o(O){h(O.buffer)}p.freeUint8=p.freeUint16=p.freeUint32=p.freeBigUint64=p.freeInt8=p.freeInt16=p.freeInt32=p.freeBigInt64=p.freeFloat32=p.freeFloat=p.freeFloat64=p.freeDouble=p.freeUint8Clamped=p.freeDataView=o,p.freeArrayBuffer=h,p.freeBuffer=function(N){w[r.log2(N.length)].push(N)},p.malloc=function(N,_){if(_===void 0||_==="arraybuffer")return d(N);switch(_){case"uint8":return M(N);case"uint16":return T(N);case"uint32":return E(N);case"int8":return x(N);case"int16":return S(N);case"int32":return b(N);case"float":case"float32":return a(N);case"double":case"float64":return C(N);case"uint8_clamped":return y(N);case"bigint64":return I(N);case"biguint64":return z(N);case"buffer":return F(N);case"data":case"dataview":return B(N);default:return null}return null};function d(N){var N=r.nextPow2(N),_=r.log2(N),U=c[_];return U.length>0?U.pop():new ArrayBuffer(N)}p.mallocArrayBuffer=d;function M(O){return new Uint8Array(d(O),0,O)}p.mallocUint8=M;function T(O){return new Uint16Array(d(2*O),0,O)}p.mallocUint16=T;function E(O){return new Uint32Array(d(4*O),0,O)}p.mallocUint32=E;function x(O){return new Int8Array(d(O),0,O)}p.mallocInt8=x;function S(O){return new Int16Array(d(2*O),0,O)}p.mallocInt16=S;function b(O){return new Int32Array(d(4*O),0,O)}p.mallocInt32=b;function a(O){return new Float32Array(d(4*O),0,O)}p.mallocFloat32=p.mallocFloat=a;function C(O){return new Float64Array(d(8*O),0,O)}p.mallocFloat64=p.mallocDouble=C;function y(O){return l?new Uint8ClampedArray(d(O),0,O):M(O)}p.mallocUint8Clamped=y;function z(O){return f?new BigUint64Array(d(8*O),0,O):null}p.mallocBigUint64=z;function I(O){return u?new BigInt64Array(d(8*O),0,O):null}p.mallocBigInt64=I;function B(O){return new DataView(d(O),0,O)}p.mallocDataView=B;function F(O){O=r.nextPow2(O);var N=r.log2(O),_=w[N];return _.length>0?_.pop():new n(O)}p.mallocBuffer=F,p.clearCache=function(){for(var N=0;N<32;++N)m.UINT8[N].length=0,m.UINT16[N].length=0,m.UINT32[N].length=0,m.INT8[N].length=0,m.INT16[N].length=0,m.INT32[N].length=0,m.FLOAT[N].length=0,m.DOUBLE[N].length=0,m.BIGUINT64[N].length=0,m.BIGINT64[N].length=0,m.UINT8C[N].length=0,c[N].length=0,w[N].length=0}},1731:function(v){"use restrict";v.exports=p;function p(r){this.roots=new Array(r),this.ranks=new Array(r);for(var s=0;s<r;++s)this.roots[s]=s,this.ranks[s]=0}var t=p.prototype;Object.defineProperty(t,"length",{get:function(){return this.roots.length}}),t.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},t.find=function(r){for(var s=r,n=this.roots;n[r]!==r;)r=n[r];for(;n[s]!==r;){var l=n[s];n[s]=r,s=l}return r},t.link=function(r,s){var n=this.find(r),l=this.find(s);if(n!==l){var f=this.ranks,u=this.roots,m=f[n],c=f[l];m<c?u[n]=l:c<m?u[l]=n:(u[l]=n,++f[n])}}},1215:function(v){function p(s,n){for(var l=1,f=s.length,u=s[0],m=s[0],c=1;c<f;++c)if(m=u,u=s[c],n(u,m)){if(c===l){l++;continue}s[l++]=u}return s.length=l,s}function t(s){for(var n=1,l=s.length,f=s[0],u=s[0],m=1;m<l;++m,u=f)if(u=f,f=s[m],f!==u){if(m===n){n++;continue}s[n++]=f}return s.length=n,s}function r(s,n,l){return s.length===0?s:n?(l||s.sort(n),p(s,n)):(l||s.sort(),t(s))}v.exports=r},875:function(v,p,t){v.exports=l;var r=t(712),s=null,n=null;typeof document<"u"&&(s=document.createElement("canvas"),s.width=8192,s.height=1024,n=s.getContext("2d"));function l(f,u){return(typeof u!="object"||u===null)&&(u={}),r(f,u.canvas||s,u.context||n,u)}},712:function(v,p,t){v.exports=I,v.exports.processPixels=z;var r=t(4162),s=t(5050),n=t(8243),l=t(197),f=t(7761),u=t(8040),m="b",c="b|",w="i",h="i|",o="sup",d="+",M="+1",T="sub",E="-",x="-1";function S(B,F,O,N){for(var _="<"+B+">",U="</"+B+">",Y=_.length,K=U.length,re=F[0]===d||F[0]===E,ae=0,fe=-K;ae>-1&&(ae=O.indexOf(_,ae),!(ae===-1||(fe=O.indexOf(U,ae+Y),fe===-1)||fe<=ae));){for(var Q=ae;Q<fe+K;++Q)if(Q<ae+Y||Q>=fe)N[Q]=null,O=O.substr(0,Q)+" "+O.substr(Q+1);else if(N[Q]!==null){var j=N[Q].indexOf(F[0]);j===-1?N[Q]+=F:re&&(N[Q]=N[Q].substr(0,j+1)+(1+parseInt(N[Q][j+1]))+N[Q].substr(j+2))}var X=ae+Y,J=O.substr(X,fe-X),ee=J.indexOf(_);ee!==-1?ae=ee:ae=fe+K}return N}function b(B,F,O){for(var N=F.textAlign||"start",_=F.textBaseline||"alphabetic",U=[1<<30,1<<30],Y=[0,0],K=B.length,re=0;re<K;++re)for(var ae=B[re],fe=0;fe<2;++fe)U[fe]=Math.min(U[fe],ae[fe])|0,Y[fe]=Math.max(Y[fe],ae[fe])|0;var Q=0;switch(N){case"center":Q=-.5*(U[0]+Y[0]);break;case"right":case"end":Q=-Y[0];break;case"left":case"start":Q=-U[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+N+"'")}var j=0;switch(_){case"hanging":case"top":j=-U[1];break;case"middle":j=-.5*(U[1]+Y[1]);break;case"alphabetic":case"ideographic":j=-3*O;break;case"bottom":j=-Y[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+_+"'")}var X=1/O;return"lineHeight"in F?X*=+F.lineHeight:"width"in F?X=F.width/(Y[0]-U[0]):"height"in F&&(X=F.height/(Y[1]-U[1])),B.map(function(J){return[X*(J[0]+Q),X*(J[1]+j)]})}function a(B,F,O,N,_,U){O=O.replace(/\n/g,""),U.breaklines===!0?O=O.replace(/\<br\>/g,`
`):O=O.replace(/\<br\>/g," ");var Y="",K=[];for($=0;$<O.length;++$)K[$]=Y;U.bolds===!0&&(K=S(m,c,O,K)),U.italics===!0&&(K=S(w,h,O,K)),U.superscripts===!0&&(K=S(o,M,O,K)),U.subscripts===!0&&(K=S(T,x,O,K));var re=[],ae="";for($=0;$<O.length;++$)K[$]!==null&&(ae+=O[$],re.push(K[$]));var fe=ae.split(`
`),Q=fe.length,j=Math.round(_*N),X=N,J=N*2,ee=0,se=Q*j+J;B.height<se&&(B.height=se),F.fillStyle="#000",F.fillRect(0,0,B.width,B.height),F.fillStyle="#fff";var q,$,le,ie,ce,me=0,Me="";function we(){if(Me!==""){var We=F.measureText(Me).width;F.fillText(Me,X+le,J+ie),le+=We}}function Oe(){return""+Math.round(ce)+"px "}function Be(We,it){var et=""+F.font;if(U.subscripts===!0){var tt=We.indexOf(E),at=it.indexOf(E),ht=tt>-1?parseInt(We[1+tt]):0,yt=at>-1?parseInt(it[1+at]):0;ht!==yt&&(et=et.replace(Oe(),"?px "),ce*=Math.pow(.75,yt-ht),et=et.replace("?px ",Oe())),ie+=.25*j*(yt-ht)}if(U.superscripts===!0){var gt=We.indexOf(d),Et=it.indexOf(d),Ct=gt>-1?parseInt(We[1+gt]):0,Vt=Et>-1?parseInt(it[1+Et]):0;Ct!==Vt&&(et=et.replace(Oe(),"?px "),ce*=Math.pow(.75,Vt-Ct),et=et.replace("?px ",Oe())),ie-=.25*j*(Vt-Ct)}if(U.bolds===!0){var Qe=We.indexOf(c)>-1,Fe=it.indexOf(c)>-1;!Qe&&Fe&&(Ie?et=et.replace("italic ","italic bold "):et="bold "+et),Qe&&!Fe&&(et=et.replace("bold ",""))}if(U.italics===!0){var Ie=We.indexOf(h)>-1,ze=it.indexOf(h)>-1;!Ie&&ze&&(et="italic "+et),Ie&&!ze&&(et=et.replace("italic ",""))}F.font=et}for(q=0;q<Q;++q){var Ce=fe[q]+`
`;for(le=0,ie=q*j,ce=N,Me="",$=0;$<Ce.length;++$){var xe=$+me<re.length?re[$+me]:re[re.length-1];Y===xe?Me+=Ce[$]:(we(),Me=Ce[$],xe!==void 0&&(Be(Y,xe),Y=xe))}we(),me+=Ce.length;var Se=Math.round(le+2*X)|0;ee<Se&&(ee=Se)}var He=ee,Ge=J+j*Q,ke=s(F.getImageData(0,0,He,Ge).data,[Ge,He,4]);return ke.pick(-1,-1,0).transpose(1,0)}function C(B,F){var O=r(B,128);return F?n(O.cells,O.positions,.25):{edges:O.cells,positions:O.positions}}function y(B,F,O,N){var _=C(B,N),U=b(_.positions,F,O),Y=_.edges,K=F.orientation==="ccw";if(l(U,Y),F.polygons||F.polygon||F.polyline){for(var re=u(Y,U),ae=new Array(re.length),fe=0;fe<re.length;++fe){for(var Q=re[fe],j=new Array(Q.length),X=0;X<Q.length;++X){for(var J=Q[X],ee=new Array(J.length),se=0;se<J.length;++se)ee[se]=U[J[se]].slice();K&&ee.reverse(),j[X]=ee}ae[fe]=j}return ae}else return F.triangles||F.triangulate||F.triangle?{cells:f(U,Y,{delaunay:!1,exterior:!1,interior:!0}),positions:U}:{edges:Y,positions:U}}function z(B,F,O){try{return y(B,F,O,!0)}catch{}try{return y(B,F,O,!1)}catch{}return F.polygons||F.polyline||F.polygon?[]:F.triangles||F.triangulate||F.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function I(B,F,O,N){var _=64,U=1.25,Y={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};N&&(N.size&&N.size>0&&(_=N.size),N.lineSpacing&&N.lineSpacing>0&&(U=N.lineSpacing),N.styletags&&N.styletags.breaklines&&(Y.breaklines=!!N.styletags.breaklines),N.styletags&&N.styletags.bolds&&(Y.bolds=!!N.styletags.bolds),N.styletags&&N.styletags.italics&&(Y.italics=!!N.styletags.italics),N.styletags&&N.styletags.subscripts&&(Y.subscripts=!!N.styletags.subscripts),N.styletags&&N.styletags.superscripts&&(Y.superscripts=!!N.styletags.superscripts)),O.font=[N.fontStyle,N.fontVariant,N.fontWeight,_+"px",N.font].filter(function(re){return re}).join(" "),O.textAlign="start",O.textBaseline="alphabetic",O.direction="ltr";var K=a(F,O,B,_,U,Y);return z(K,N,_)}},5346:function(v){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function t(C){C.permitHostObjects___&&C.permitHostObjects___(t)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=t);var r=!1;if(typeof WeakMap=="function"){var s=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var n=new s,l=Object.freeze({});if(n.set(l,1),n.get(l)!==1)r=!0;else{v.exports=WeakMap;return}}}var f=Object.getOwnPropertyNames,u=Object.defineProperty,m=Object.isExtensible,c="weakmap:",w=c+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var h=new ArrayBuffer(25),o=new Uint8Array(h);crypto.getRandomValues(o),w=c+"rand:"+Array.prototype.map.call(o,function(C){return(C%36).toString(36)}).join("")+"___"}function d(C){return!(C.substr(0,c.length)==c&&C.substr(C.length-3)==="___")}if(u(Object,"getOwnPropertyNames",{value:function(y){return f(y).filter(d)}}),"getPropertyNames"in Object){var M=Object.getPropertyNames;u(Object,"getPropertyNames",{value:function(y){return M(y).filter(d)}})}function T(C){if(C!==Object(C))throw new TypeError("Not an object: "+C);var y=C[w];if(y&&y.key===C)return y;if(m(C)){y={key:C};try{return u(C,w,{value:y,writable:!1,enumerable:!1,configurable:!1}),y}catch{return}}}(function(){var C=Object.freeze;u(Object,"freeze",{value:function(B){return T(B),C(B)}});var y=Object.seal;u(Object,"seal",{value:function(B){return T(B),y(B)}});var z=Object.preventExtensions;u(Object,"preventExtensions",{value:function(B){return T(B),z(B)}})})();function E(C){return C.prototype=null,Object.freeze(C)}var x=!1;function S(){!x&&typeof console<"u"&&(x=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var b=0,a=function(){this instanceof a||S();var C=[],y=[],z=b++;function I(N,_){var U,Y=T(N);return Y?z in Y?Y[z]:_:(U=C.indexOf(N),U>=0?y[U]:_)}function B(N){var _=T(N);return _?z in _:C.indexOf(N)>=0}function F(N,_){var U,Y=T(N);return Y?Y[z]=_:(U=C.indexOf(N),U>=0?y[U]=_:(U=C.length,y[U]=_,C[U]=N)),this}function O(N){var _=T(N),U,Y;return _?z in _&&delete _[z]:(U=C.indexOf(N),U<0?!1:(Y=C.length-1,C[U]=void 0,y[U]=y[Y],C[U]=C[Y],C.length=Y,y.length=Y,!0))}return Object.create(a.prototype,{get___:{value:E(I)},has___:{value:E(B)},set___:{value:E(F)},delete___:{value:E(O)}})};a.prototype=Object.create(Object.prototype,{get:{value:function(y,z){return this.get___(y,z)},writable:!0,configurable:!0},has:{value:function(y){return this.has___(y)},writable:!0,configurable:!0},set:{value:function(y,z){return this.set___(y,z)},writable:!0,configurable:!0},delete:{value:function(y){return this.delete___(y)},writable:!0,configurable:!0}}),typeof s=="function"?function(){r&&typeof Proxy<"u"&&(Proxy=void 0);function C(){this instanceof a||S();var y=new s,z=void 0,I=!1;function B(_,U){return z?y.has(_)?y.get(_):z.get___(_,U):y.get(_,U)}function F(_){return y.has(_)||(z?z.has___(_):!1)}var O;r?O=function(_,U){return y.set(_,U),y.has(_)||(z||(z=new a),z.set(_,U)),this}:O=function(_,U){if(I)try{y.set(_,U)}catch{z||(z=new a),z.set___(_,U)}else y.set(_,U);return this};function N(_){var U=!!y.delete(_);return z&&z.delete___(_)||U}return Object.create(a.prototype,{get___:{value:E(B)},has___:{value:E(F)},set___:{value:E(O)},delete___:{value:E(N)},permitHostObjects___:{value:E(function(_){if(_===t)I=!0;else throw new Error("bogus call to permitHostObjects___")})}})}C.prototype=a.prototype,v.exports=C,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=a)})()},9222:function(v,p,t){var r=t(7178);v.exports=s;function s(){var n={};return function(l){if((typeof l!="object"||l===null)&&typeof l!="function")throw new Error("Weakmap-shim: Key must be object");var f=l.valueOf(n);return f&&f.identity===n?f:r(l,n)}}},7178:function(v){v.exports=p;function p(t,r){var s={identity:r},n=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(l){return l!==r?n.apply(this,arguments):s},writable:!0}),s}},4037:function(v,p,t){var r=t(9222);v.exports=s;function s(){var n=r();return{get:function(l,f){var u=n(l);return u.hasOwnProperty("value")?u.value:f},set:function(l,f){return n(l).value=f,this},has:function(l){return"value"in n(l)},delete:function(l){return delete n(l).value}}}},6183:function(v){function p(){return function(f,u,m,c,w,h){var o=f[0],d=m[0],M=[0],T=d;c|=0;var E=0,x=d;for(E=0;E<o;++E){{var S=u[c]-h,b=u[c+T]-h;S>=0!=b>=0&&w.push(M[0]+.5+.5*(S+b)/(S-b))}c+=x,++M[0]}}}function t(){return p()}var r=t;function s(f){var u={};return function(c,w,h){var o=c.dtype,d=c.order,M=[o,d.join()].join(),T=u[M];return T||(u[M]=T=f([o,d])),T(c.shape.slice(0),c.data,c.stride,c.offset|0,w,h)}}function n(f){return s(r.bind(void 0,f))}function l(f){return n({funcName:f.funcName})}v.exports=l({funcName:"zeroCrossings"})},9584:function(v,p,t){v.exports=s;var r=t(6183);function s(n,l){var f=[];return l=+l||0,r(n.hi(n.shape[0]-1),f,l),f}},6601:function(){}},i={};function L(v){var p=i[v];if(p!==void 0)return p.exports;var t=i[v]={id:v,loaded:!1,exports:{}};return P[v].call(t.exports,t,t.exports,L),t.loaded=!0,t.exports}(function(){L.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){L.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var A=L(7386);return A}()})},12856:function(W,H,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function g(Qe,Fe){if(!(Qe instanceof Fe))throw new TypeError("Cannot call a class as a function")}function P(Qe,Fe){for(var Ie=0;Ie<Fe.length;Ie++){var ze=Fe[Ie];ze.enumerable=ze.enumerable||!1,ze.configurable=!0,"value"in ze&&(ze.writable=!0),Object.defineProperty(Qe,L(ze.key),ze)}}function i(Qe,Fe,Ie){return Fe&&P(Qe.prototype,Fe),Ie&&P(Qe,Ie),Object.defineProperty(Qe,"prototype",{writable:!1}),Qe}function L(Qe){var Fe=A(Qe,"string");return f(Fe)==="symbol"?Fe:String(Fe)}function A(Qe,Fe){if(f(Qe)!=="object"||Qe===null)return Qe;var Ie=Qe[Symbol.toPrimitive];if(Ie!==void 0){var ze=Ie.call(Qe,Fe||"default");if(f(ze)!=="object")return ze;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Fe==="string"?String:Number)(Qe)}function v(Qe,Fe){if(typeof Fe!="function"&&Fe!==null)throw new TypeError("Super expression must either be null or a function");Qe.prototype=Object.create(Fe&&Fe.prototype,{constructor:{value:Qe,writable:!0,configurable:!0}}),Object.defineProperty(Qe,"prototype",{writable:!1}),Fe&&p(Qe,Fe)}function p(Qe,Fe){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ze,Re){return ze.__proto__=Re,ze},p(Qe,Fe)}function t(Qe){var Fe=n();return function(){var ze=l(Qe),Re;if(Fe){var be=l(this).constructor;Re=Reflect.construct(ze,arguments,be)}else Re=ze.apply(this,arguments);return r(this,Re)}}function r(Qe,Fe){if(Fe&&(f(Fe)==="object"||typeof Fe=="function"))return Fe;if(Fe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(Qe)}function s(Qe){if(Qe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Qe}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function l(Qe){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ie){return Ie.__proto__||Object.getPrototypeOf(Ie)},l(Qe)}function f(Qe){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Fe){return typeof Fe}:function(Fe){return Fe&&typeof Symbol=="function"&&Fe.constructor===Symbol&&Fe!==Symbol.prototype?"symbol":typeof Fe},f(Qe)}var u=e(95341),m=e(95280),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;H.Buffer=d,H.SlowBuffer=I,H.INSPECT_MAX_BYTES=50;var w=2147483647;H.kMaxLength=w,d.TYPED_ARRAY_SUPPORT=h(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var Qe=new Uint8Array(1),Fe={foo:function(){return 42}};return Object.setPrototypeOf(Fe,Uint8Array.prototype),Object.setPrototypeOf(Qe,Fe),Qe.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function o(Qe){if(Qe>w)throw new RangeError('The value "'+Qe+'" is invalid for option "size"');var Fe=new Uint8Array(Qe);return Object.setPrototypeOf(Fe,d.prototype),Fe}function d(Qe,Fe,Ie){if(typeof Qe=="number"){if(typeof Fe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(Qe)}return M(Qe,Fe,Ie)}d.poolSize=8192;function M(Qe,Fe,Ie){if(typeof Qe=="string")return S(Qe,Fe);if(ArrayBuffer.isView(Qe))return a(Qe);if(Qe==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(Qe));if(yt(Qe,ArrayBuffer)||Qe&&yt(Qe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(yt(Qe,SharedArrayBuffer)||Qe&&yt(Qe.buffer,SharedArrayBuffer)))return C(Qe,Fe,Ie);if(typeof Qe=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ze=Qe.valueOf&&Qe.valueOf();if(ze!=null&&ze!==Qe)return d.from(ze,Fe,Ie);var Re=y(Qe);if(Re)return Re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Qe[Symbol.toPrimitive]=="function")return d.from(Qe[Symbol.toPrimitive]("string"),Fe,Ie);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(Qe))}d.from=function(Qe,Fe,Ie){return M(Qe,Fe,Ie)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array);function T(Qe){if(typeof Qe!="number")throw new TypeError('"size" argument must be of type number');if(Qe<0)throw new RangeError('The value "'+Qe+'" is invalid for option "size"')}function E(Qe,Fe,Ie){return T(Qe),Qe<=0?o(Qe):Fe!==void 0?typeof Ie=="string"?o(Qe).fill(Fe,Ie):o(Qe).fill(Fe):o(Qe)}d.alloc=function(Qe,Fe,Ie){return E(Qe,Fe,Ie)};function x(Qe){return T(Qe),o(Qe<0?0:z(Qe)|0)}d.allocUnsafe=function(Qe){return x(Qe)},d.allocUnsafeSlow=function(Qe){return x(Qe)};function S(Qe,Fe){if((typeof Fe!="string"||Fe==="")&&(Fe="utf8"),!d.isEncoding(Fe))throw new TypeError("Unknown encoding: "+Fe);var Ie=B(Qe,Fe)|0,ze=o(Ie),Re=ze.write(Qe,Fe);return Re!==Ie&&(ze=ze.slice(0,Re)),ze}function b(Qe){for(var Fe=Qe.length<0?0:z(Qe.length)|0,Ie=o(Fe),ze=0;ze<Fe;ze+=1)Ie[ze]=Qe[ze]&255;return Ie}function a(Qe){if(yt(Qe,Uint8Array)){var Fe=new Uint8Array(Qe);return C(Fe.buffer,Fe.byteOffset,Fe.byteLength)}return b(Qe)}function C(Qe,Fe,Ie){if(Fe<0||Qe.byteLength<Fe)throw new RangeError('"offset" is outside of buffer bounds');if(Qe.byteLength<Fe+(Ie||0))throw new RangeError('"length" is outside of buffer bounds');var ze;return Fe===void 0&&Ie===void 0?ze=new Uint8Array(Qe):Ie===void 0?ze=new Uint8Array(Qe,Fe):ze=new Uint8Array(Qe,Fe,Ie),Object.setPrototypeOf(ze,d.prototype),ze}function y(Qe){if(d.isBuffer(Qe)){var Fe=z(Qe.length)|0,Ie=o(Fe);return Ie.length===0||Qe.copy(Ie,0,0,Fe),Ie}if(Qe.length!==void 0)return typeof Qe.length!="number"||gt(Qe.length)?o(0):b(Qe);if(Qe.type==="Buffer"&&Array.isArray(Qe.data))return b(Qe.data)}function z(Qe){if(Qe>=w)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w.toString(16)+" bytes");return Qe|0}function I(Qe){return+Qe!=Qe&&(Qe=0),d.alloc(+Qe)}d.isBuffer=function(Fe){return Fe!=null&&Fe._isBuffer===!0&&Fe!==d.prototype},d.compare=function(Fe,Ie){if(yt(Fe,Uint8Array)&&(Fe=d.from(Fe,Fe.offset,Fe.byteLength)),yt(Ie,Uint8Array)&&(Ie=d.from(Ie,Ie.offset,Ie.byteLength)),!d.isBuffer(Fe)||!d.isBuffer(Ie))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Fe===Ie)return 0;for(var ze=Fe.length,Re=Ie.length,be=0,ye=Math.min(ze,Re);be<ye;++be)if(Fe[be]!==Ie[be]){ze=Fe[be],Re=Ie[be];break}return ze<Re?-1:Re<ze?1:0},d.isEncoding=function(Fe){switch(String(Fe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(Fe,Ie){if(!Array.isArray(Fe))throw new TypeError('"list" argument must be an Array of Buffers');if(Fe.length===0)return d.alloc(0);var ze;if(Ie===void 0)for(Ie=0,ze=0;ze<Fe.length;++ze)Ie+=Fe[ze].length;var Re=d.allocUnsafe(Ie),be=0;for(ze=0;ze<Fe.length;++ze){var ye=Fe[ze];if(yt(ye,Uint8Array))be+ye.length>Re.length?(d.isBuffer(ye)||(ye=d.from(ye)),ye.copy(Re,be)):Uint8Array.prototype.set.call(Re,ye,be);else if(d.isBuffer(ye))ye.copy(Re,be);else throw new TypeError('"list" argument must be an Array of Buffers');be+=ye.length}return Re};function B(Qe,Fe){if(d.isBuffer(Qe))return Qe.length;if(ArrayBuffer.isView(Qe)||yt(Qe,ArrayBuffer))return Qe.byteLength;if(typeof Qe!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+f(Qe));var Ie=Qe.length,ze=arguments.length>2&&arguments[2]===!0;if(!ze&&Ie===0)return 0;for(var Re=!1;;)switch(Fe){case"ascii":case"latin1":case"binary":return Ie;case"utf8":case"utf-8":return it(Qe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ie*2;case"hex":return Ie>>>1;case"base64":return at(Qe).length;default:if(Re)return ze?-1:it(Qe).length;Fe=(""+Fe).toLowerCase(),Re=!0}}d.byteLength=B;function F(Qe,Fe,Ie){var ze=!1;if((Fe===void 0||Fe<0)&&(Fe=0),Fe>this.length||((Ie===void 0||Ie>this.length)&&(Ie=this.length),Ie<=0)||(Ie>>>=0,Fe>>>=0,Ie<=Fe))return"";for(Qe||(Qe="utf8");;)switch(Qe){case"hex":return se(this,Fe,Ie);case"utf8":case"utf-8":return Q(this,Fe,Ie);case"ascii":return J(this,Fe,Ie);case"latin1":case"binary":return ee(this,Fe,Ie);case"base64":return fe(this,Fe,Ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,Fe,Ie);default:if(ze)throw new TypeError("Unknown encoding: "+Qe);Qe=(Qe+"").toLowerCase(),ze=!0}}d.prototype._isBuffer=!0;function O(Qe,Fe,Ie){var ze=Qe[Fe];Qe[Fe]=Qe[Ie],Qe[Ie]=ze}d.prototype.swap16=function(){var Fe=this.length;if(Fe%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ie=0;Ie<Fe;Ie+=2)O(this,Ie,Ie+1);return this},d.prototype.swap32=function(){var Fe=this.length;if(Fe%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ie=0;Ie<Fe;Ie+=4)O(this,Ie,Ie+3),O(this,Ie+1,Ie+2);return this},d.prototype.swap64=function(){var Fe=this.length;if(Fe%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ie=0;Ie<Fe;Ie+=8)O(this,Ie,Ie+7),O(this,Ie+1,Ie+6),O(this,Ie+2,Ie+5),O(this,Ie+3,Ie+4);return this},d.prototype.toString=function(){var Fe=this.length;return Fe===0?"":arguments.length===0?Q(this,0,Fe):F.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(Fe){if(!d.isBuffer(Fe))throw new TypeError("Argument must be a Buffer");return this===Fe?!0:d.compare(this,Fe)===0},d.prototype.inspect=function(){var Fe="",Ie=H.INSPECT_MAX_BYTES;return Fe=this.toString("hex",0,Ie).replace(/(.{2})/g,"$1 ").trim(),this.length>Ie&&(Fe+=" ... "),"<Buffer "+Fe+">"},c&&(d.prototype[c]=d.prototype.inspect),d.prototype.compare=function(Fe,Ie,ze,Re,be){if(yt(Fe,Uint8Array)&&(Fe=d.from(Fe,Fe.offset,Fe.byteLength)),!d.isBuffer(Fe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+f(Fe));if(Ie===void 0&&(Ie=0),ze===void 0&&(ze=Fe?Fe.length:0),Re===void 0&&(Re=0),be===void 0&&(be=this.length),Ie<0||ze>Fe.length||Re<0||be>this.length)throw new RangeError("out of range index");if(Re>=be&&Ie>=ze)return 0;if(Re>=be)return-1;if(Ie>=ze)return 1;if(Ie>>>=0,ze>>>=0,Re>>>=0,be>>>=0,this===Fe)return 0;for(var ye=be-Re,Ae=ze-Ie,Ee=Math.min(ye,Ae),Ne=this.slice(Re,be),Je=Fe.slice(Ie,ze),qe=0;qe<Ee;++qe)if(Ne[qe]!==Je[qe]){ye=Ne[qe],Ae=Je[qe];break}return ye<Ae?-1:Ae<ye?1:0};function N(Qe,Fe,Ie,ze,Re){if(Qe.length===0)return-1;if(typeof Ie=="string"?(ze=Ie,Ie=0):Ie>2147483647?Ie=2147483647:Ie<-2147483648&&(Ie=-2147483648),Ie=+Ie,gt(Ie)&&(Ie=Re?0:Qe.length-1),Ie<0&&(Ie=Qe.length+Ie),Ie>=Qe.length){if(Re)return-1;Ie=Qe.length-1}else if(Ie<0)if(Re)Ie=0;else return-1;if(typeof Fe=="string"&&(Fe=d.from(Fe,ze)),d.isBuffer(Fe))return Fe.length===0?-1:_(Qe,Fe,Ie,ze,Re);if(typeof Fe=="number")return Fe=Fe&255,typeof Uint8Array.prototype.indexOf=="function"?Re?Uint8Array.prototype.indexOf.call(Qe,Fe,Ie):Uint8Array.prototype.lastIndexOf.call(Qe,Fe,Ie):_(Qe,[Fe],Ie,ze,Re);throw new TypeError("val must be string, number or Buffer")}function _(Qe,Fe,Ie,ze,Re){var be=1,ye=Qe.length,Ae=Fe.length;if(ze!==void 0&&(ze=String(ze).toLowerCase(),ze==="ucs2"||ze==="ucs-2"||ze==="utf16le"||ze==="utf-16le")){if(Qe.length<2||Fe.length<2)return-1;be=2,ye/=2,Ae/=2,Ie/=2}function Ee(bt,Wt){return be===1?bt[Wt]:bt.readUInt16BE(Wt*be)}var Ne;if(Re){var Je=-1;for(Ne=Ie;Ne<ye;Ne++)if(Ee(Qe,Ne)===Ee(Fe,Je===-1?0:Ne-Je)){if(Je===-1&&(Je=Ne),Ne-Je+1===Ae)return Je*be}else Je!==-1&&(Ne-=Ne-Je),Je=-1}else for(Ie+Ae>ye&&(Ie=ye-Ae),Ne=Ie;Ne>=0;Ne--){for(var qe=!0,vt=0;vt<Ae;vt++)if(Ee(Qe,Ne+vt)!==Ee(Fe,vt)){qe=!1;break}if(qe)return Ne}return-1}d.prototype.includes=function(Fe,Ie,ze){return this.indexOf(Fe,Ie,ze)!==-1},d.prototype.indexOf=function(Fe,Ie,ze){return N(this,Fe,Ie,ze,!0)},d.prototype.lastIndexOf=function(Fe,Ie,ze){return N(this,Fe,Ie,ze,!1)};function U(Qe,Fe,Ie,ze){Ie=Number(Ie)||0;var Re=Qe.length-Ie;ze?(ze=Number(ze),ze>Re&&(ze=Re)):ze=Re;var be=Fe.length;ze>be/2&&(ze=be/2);var ye;for(ye=0;ye<ze;++ye){var Ae=parseInt(Fe.substr(ye*2,2),16);if(gt(Ae))return ye;Qe[Ie+ye]=Ae}return ye}function Y(Qe,Fe,Ie,ze){return ht(it(Fe,Qe.length-Ie),Qe,Ie,ze)}function K(Qe,Fe,Ie,ze){return ht(et(Fe),Qe,Ie,ze)}function re(Qe,Fe,Ie,ze){return ht(at(Fe),Qe,Ie,ze)}function ae(Qe,Fe,Ie,ze){return ht(tt(Fe,Qe.length-Ie),Qe,Ie,ze)}d.prototype.write=function(Fe,Ie,ze,Re){if(Ie===void 0)Re="utf8",ze=this.length,Ie=0;else if(ze===void 0&&typeof Ie=="string")Re=Ie,ze=this.length,Ie=0;else if(isFinite(Ie))Ie=Ie>>>0,isFinite(ze)?(ze=ze>>>0,Re===void 0&&(Re="utf8")):(Re=ze,ze=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var be=this.length-Ie;if((ze===void 0||ze>be)&&(ze=be),Fe.length>0&&(ze<0||Ie<0)||Ie>this.length)throw new RangeError("Attempt to write outside buffer bounds");Re||(Re="utf8");for(var ye=!1;;)switch(Re){case"hex":return U(this,Fe,Ie,ze);case"utf8":case"utf-8":return Y(this,Fe,Ie,ze);case"ascii":case"latin1":case"binary":return K(this,Fe,Ie,ze);case"base64":return re(this,Fe,Ie,ze);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,Fe,Ie,ze);default:if(ye)throw new TypeError("Unknown encoding: "+Re);Re=(""+Re).toLowerCase(),ye=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function fe(Qe,Fe,Ie){return Fe===0&&Ie===Qe.length?u.fromByteArray(Qe):u.fromByteArray(Qe.slice(Fe,Ie))}function Q(Qe,Fe,Ie){Ie=Math.min(Qe.length,Ie);for(var ze=[],Re=Fe;Re<Ie;){var be=Qe[Re],ye=null,Ae=be>239?4:be>223?3:be>191?2:1;if(Re+Ae<=Ie){var Ee=void 0,Ne=void 0,Je=void 0,qe=void 0;switch(Ae){case 1:be<128&&(ye=be);break;case 2:Ee=Qe[Re+1],(Ee&192)===128&&(qe=(be&31)<<6|Ee&63,qe>127&&(ye=qe));break;case 3:Ee=Qe[Re+1],Ne=Qe[Re+2],(Ee&192)===128&&(Ne&192)===128&&(qe=(be&15)<<12|(Ee&63)<<6|Ne&63,qe>2047&&(qe<55296||qe>57343)&&(ye=qe));break;case 4:Ee=Qe[Re+1],Ne=Qe[Re+2],Je=Qe[Re+3],(Ee&192)===128&&(Ne&192)===128&&(Je&192)===128&&(qe=(be&15)<<18|(Ee&63)<<12|(Ne&63)<<6|Je&63,qe>65535&&qe<1114112&&(ye=qe))}}ye===null?(ye=65533,Ae=1):ye>65535&&(ye-=65536,ze.push(ye>>>10&1023|55296),ye=56320|ye&1023),ze.push(ye),Re+=Ae}return X(ze)}var j=4096;function X(Qe){var Fe=Qe.length;if(Fe<=j)return String.fromCharCode.apply(String,Qe);for(var Ie="",ze=0;ze<Fe;)Ie+=String.fromCharCode.apply(String,Qe.slice(ze,ze+=j));return Ie}function J(Qe,Fe,Ie){var ze="";Ie=Math.min(Qe.length,Ie);for(var Re=Fe;Re<Ie;++Re)ze+=String.fromCharCode(Qe[Re]&127);return ze}function ee(Qe,Fe,Ie){var ze="";Ie=Math.min(Qe.length,Ie);for(var Re=Fe;Re<Ie;++Re)ze+=String.fromCharCode(Qe[Re]);return ze}function se(Qe,Fe,Ie){var ze=Qe.length;(!Fe||Fe<0)&&(Fe=0),(!Ie||Ie<0||Ie>ze)&&(Ie=ze);for(var Re="",be=Fe;be<Ie;++be)Re+=Et[Qe[be]];return Re}function q(Qe,Fe,Ie){for(var ze=Qe.slice(Fe,Ie),Re="",be=0;be<ze.length-1;be+=2)Re+=String.fromCharCode(ze[be]+ze[be+1]*256);return Re}d.prototype.slice=function(Fe,Ie){var ze=this.length;Fe=~~Fe,Ie=Ie===void 0?ze:~~Ie,Fe<0?(Fe+=ze,Fe<0&&(Fe=0)):Fe>ze&&(Fe=ze),Ie<0?(Ie+=ze,Ie<0&&(Ie=0)):Ie>ze&&(Ie=ze),Ie<Fe&&(Ie=Fe);var Re=this.subarray(Fe,Ie);return Object.setPrototypeOf(Re,d.prototype),Re};function $(Qe,Fe,Ie){if(Qe%1!==0||Qe<0)throw new RangeError("offset is not uint");if(Qe+Fe>Ie)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(Fe,Ie,ze){Fe=Fe>>>0,Ie=Ie>>>0,ze||$(Fe,Ie,this.length);for(var Re=this[Fe],be=1,ye=0;++ye<Ie&&(be*=256);)Re+=this[Fe+ye]*be;return Re},d.prototype.readUintBE=d.prototype.readUIntBE=function(Fe,Ie,ze){Fe=Fe>>>0,Ie=Ie>>>0,ze||$(Fe,Ie,this.length);for(var Re=this[Fe+--Ie],be=1;Ie>0&&(be*=256);)Re+=this[Fe+--Ie]*be;return Re},d.prototype.readUint8=d.prototype.readUInt8=function(Fe,Ie){return Fe=Fe>>>0,Ie||$(Fe,1,this.length),this[Fe]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(Fe,Ie){return Fe=Fe>>>0,Ie||$(Fe,2,this.length),this[Fe]|this[Fe+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(Fe,Ie){return Fe=Fe>>>0,Ie||$(Fe,2,this.length),this[Fe]<<8|this[Fe+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(Fe,Ie){return Fe=Fe>>>0,Ie||$(Fe,4,this.length),(this[Fe]|this[Fe+1]<<8|this[Fe+2]<<16)+this[Fe+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(Fe,Ie){return Fe=Fe>>>0,Ie||$(Fe,4,this.length),this[Fe]*16777216+(this[Fe+1]<<16|this[Fe+2]<<8|this[Fe+3])},d.prototype.readBigUInt64LE=Ct(function(Fe){Fe=Fe>>>0,He(Fe,"offset");var Ie=this[Fe],ze=this[Fe+7];(Ie===void 0||ze===void 0)&&Ge(Fe,this.length-8);var Re=Ie+this[++Fe]*Math.pow(2,8)+this[++Fe]*Math.pow(2,16)+this[++Fe]*Math.pow(2,24),be=this[++Fe]+this[++Fe]*Math.pow(2,8)+this[++Fe]*Math.pow(2,16)+ze*Math.pow(2,24);return BigInt(Re)+(BigInt(be)<<BigInt(32))}),d.prototype.readBigUInt64BE=Ct(function(Fe){Fe=Fe>>>0,He(Fe,"offset");var Ie=this[Fe],ze=this[Fe+7];(Ie===void 0||ze===void 0)&&Ge(Fe,this.length-8);var Re=Ie*Math.pow(2,24)+this[++Fe]*Math.pow(2,16)+this[++Fe]*Math.pow(2,8)+this[++Fe],be=this[++Fe]*Math.pow(2,24)+this[++Fe]*Math.pow(2,16)+this[++Fe]*Math.pow(2,8)+ze;return(BigInt(Re)<<BigInt(32))+BigInt(be)}),d.prototype.readIntLE=function(Fe,Ie,ze){Fe=Fe>>>0,Ie=Ie>>>0,ze||$(Fe,Ie,this.length);for(var Re=this[Fe],be=1,ye=0;++ye<Ie&&(be*=256);)Re+=this[Fe+ye]*be;return be*=128,Re>=be&&(Re-=Math.pow(2,8*Ie)),Re},d.prototype.readIntBE=function(Fe,Ie,ze){Fe=Fe>>>0,Ie=Ie>>>0,ze||$(Fe,Ie,this.length);for(var Re=Ie,be=1,ye=this[Fe+--Re];Re>0&&(be*=256);)ye+=this[Fe+--Re]*be;return be*=128,ye>=be&&(ye-=Math.pow(2,8*Ie)),ye},d.prototype.readInt8=function(Fe,Ie){return Fe=Fe>>>0,Ie||$(Fe,1,this.length),this[Fe]&128?(255-this[Fe]+1)*-1:this[Fe]},d.prototype.readInt16LE=function(Fe,Ie){Fe=Fe>>>0,Ie||$(Fe,2,this.length);var ze=this[Fe]|this[Fe+1]<<8;return ze&32768?ze|4294901760:ze},d.prototype.readInt16BE=function(Fe,Ie){Fe=Fe>>>0,Ie||$(Fe,2,this.length);var ze=this[Fe+1]|this[Fe]<<8;return ze&32768?ze|4294901760:ze},d.prototype.readInt32LE=function(Fe,Ie){return Fe=Fe>>>0,Ie||$(Fe,4,this.length),this[Fe]|this[Fe+1]<<8|this[Fe+2]<<16|this[Fe+3]<<24},d.prototype.readInt32BE=function(Fe,Ie){return Fe=Fe>>>0,Ie||$(Fe,4,this.length),this[Fe]<<24|this[Fe+1]<<16|this[Fe+2]<<8|this[Fe+3]},d.prototype.readBigInt64LE=Ct(function(Fe){Fe=Fe>>>0,He(Fe,"offset");var Ie=this[Fe],ze=this[Fe+7];(Ie===void 0||ze===void 0)&&Ge(Fe,this.length-8);var Re=this[Fe+4]+this[Fe+5]*Math.pow(2,8)+this[Fe+6]*Math.pow(2,16)+(ze<<24);return(BigInt(Re)<<BigInt(32))+BigInt(Ie+this[++Fe]*Math.pow(2,8)+this[++Fe]*Math.pow(2,16)+this[++Fe]*Math.pow(2,24))}),d.prototype.readBigInt64BE=Ct(function(Fe){Fe=Fe>>>0,He(Fe,"offset");var Ie=this[Fe],ze=this[Fe+7];(Ie===void 0||ze===void 0)&&Ge(Fe,this.length-8);var Re=(Ie<<24)+this[++Fe]*Math.pow(2,16)+this[++Fe]*Math.pow(2,8)+this[++Fe];return(BigInt(Re)<<BigInt(32))+BigInt(this[++Fe]*Math.pow(2,24)+this[++Fe]*Math.pow(2,16)+this[++Fe]*Math.pow(2,8)+ze)}),d.prototype.readFloatLE=function(Fe,Ie){return Fe=Fe>>>0,Ie||$(Fe,4,this.length),m.read(this,Fe,!0,23,4)},d.prototype.readFloatBE=function(Fe,Ie){return Fe=Fe>>>0,Ie||$(Fe,4,this.length),m.read(this,Fe,!1,23,4)},d.prototype.readDoubleLE=function(Fe,Ie){return Fe=Fe>>>0,Ie||$(Fe,8,this.length),m.read(this,Fe,!0,52,8)},d.prototype.readDoubleBE=function(Fe,Ie){return Fe=Fe>>>0,Ie||$(Fe,8,this.length),m.read(this,Fe,!1,52,8)};function le(Qe,Fe,Ie,ze,Re,be){if(!d.isBuffer(Qe))throw new TypeError('"buffer" argument must be a Buffer instance');if(Fe>Re||Fe<be)throw new RangeError('"value" argument is out of bounds');if(Ie+ze>Qe.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(Fe,Ie,ze,Re){if(Fe=+Fe,Ie=Ie>>>0,ze=ze>>>0,!Re){var be=Math.pow(2,8*ze)-1;le(this,Fe,Ie,ze,be,0)}var ye=1,Ae=0;for(this[Ie]=Fe&255;++Ae<ze&&(ye*=256);)this[Ie+Ae]=Fe/ye&255;return Ie+ze},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(Fe,Ie,ze,Re){if(Fe=+Fe,Ie=Ie>>>0,ze=ze>>>0,!Re){var be=Math.pow(2,8*ze)-1;le(this,Fe,Ie,ze,be,0)}var ye=ze-1,Ae=1;for(this[Ie+ye]=Fe&255;--ye>=0&&(Ae*=256);)this[Ie+ye]=Fe/Ae&255;return Ie+ze},d.prototype.writeUint8=d.prototype.writeUInt8=function(Fe,Ie,ze){return Fe=+Fe,Ie=Ie>>>0,ze||le(this,Fe,Ie,1,255,0),this[Ie]=Fe&255,Ie+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(Fe,Ie,ze){return Fe=+Fe,Ie=Ie>>>0,ze||le(this,Fe,Ie,2,65535,0),this[Ie]=Fe&255,this[Ie+1]=Fe>>>8,Ie+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(Fe,Ie,ze){return Fe=+Fe,Ie=Ie>>>0,ze||le(this,Fe,Ie,2,65535,0),this[Ie]=Fe>>>8,this[Ie+1]=Fe&255,Ie+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(Fe,Ie,ze){return Fe=+Fe,Ie=Ie>>>0,ze||le(this,Fe,Ie,4,4294967295,0),this[Ie+3]=Fe>>>24,this[Ie+2]=Fe>>>16,this[Ie+1]=Fe>>>8,this[Ie]=Fe&255,Ie+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(Fe,Ie,ze){return Fe=+Fe,Ie=Ie>>>0,ze||le(this,Fe,Ie,4,4294967295,0),this[Ie]=Fe>>>24,this[Ie+1]=Fe>>>16,this[Ie+2]=Fe>>>8,this[Ie+3]=Fe&255,Ie+4};function ie(Qe,Fe,Ie,ze,Re){Se(Fe,ze,Re,Qe,Ie,7);var be=Number(Fe&BigInt(4294967295));Qe[Ie++]=be,be=be>>8,Qe[Ie++]=be,be=be>>8,Qe[Ie++]=be,be=be>>8,Qe[Ie++]=be;var ye=Number(Fe>>BigInt(32)&BigInt(4294967295));return Qe[Ie++]=ye,ye=ye>>8,Qe[Ie++]=ye,ye=ye>>8,Qe[Ie++]=ye,ye=ye>>8,Qe[Ie++]=ye,Ie}function ce(Qe,Fe,Ie,ze,Re){Se(Fe,ze,Re,Qe,Ie,7);var be=Number(Fe&BigInt(4294967295));Qe[Ie+7]=be,be=be>>8,Qe[Ie+6]=be,be=be>>8,Qe[Ie+5]=be,be=be>>8,Qe[Ie+4]=be;var ye=Number(Fe>>BigInt(32)&BigInt(4294967295));return Qe[Ie+3]=ye,ye=ye>>8,Qe[Ie+2]=ye,ye=ye>>8,Qe[Ie+1]=ye,ye=ye>>8,Qe[Ie]=ye,Ie+8}d.prototype.writeBigUInt64LE=Ct(function(Fe){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ie(this,Fe,Ie,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=Ct(function(Fe){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ce(this,Fe,Ie,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(Fe,Ie,ze,Re){if(Fe=+Fe,Ie=Ie>>>0,!Re){var be=Math.pow(2,8*ze-1);le(this,Fe,Ie,ze,be-1,-be)}var ye=0,Ae=1,Ee=0;for(this[Ie]=Fe&255;++ye<ze&&(Ae*=256);)Fe<0&&Ee===0&&this[Ie+ye-1]!==0&&(Ee=1),this[Ie+ye]=(Fe/Ae>>0)-Ee&255;return Ie+ze},d.prototype.writeIntBE=function(Fe,Ie,ze,Re){if(Fe=+Fe,Ie=Ie>>>0,!Re){var be=Math.pow(2,8*ze-1);le(this,Fe,Ie,ze,be-1,-be)}var ye=ze-1,Ae=1,Ee=0;for(this[Ie+ye]=Fe&255;--ye>=0&&(Ae*=256);)Fe<0&&Ee===0&&this[Ie+ye+1]!==0&&(Ee=1),this[Ie+ye]=(Fe/Ae>>0)-Ee&255;return Ie+ze},d.prototype.writeInt8=function(Fe,Ie,ze){return Fe=+Fe,Ie=Ie>>>0,ze||le(this,Fe,Ie,1,127,-128),Fe<0&&(Fe=255+Fe+1),this[Ie]=Fe&255,Ie+1},d.prototype.writeInt16LE=function(Fe,Ie,ze){return Fe=+Fe,Ie=Ie>>>0,ze||le(this,Fe,Ie,2,32767,-32768),this[Ie]=Fe&255,this[Ie+1]=Fe>>>8,Ie+2},d.prototype.writeInt16BE=function(Fe,Ie,ze){return Fe=+Fe,Ie=Ie>>>0,ze||le(this,Fe,Ie,2,32767,-32768),this[Ie]=Fe>>>8,this[Ie+1]=Fe&255,Ie+2},d.prototype.writeInt32LE=function(Fe,Ie,ze){return Fe=+Fe,Ie=Ie>>>0,ze||le(this,Fe,Ie,4,2147483647,-2147483648),this[Ie]=Fe&255,this[Ie+1]=Fe>>>8,this[Ie+2]=Fe>>>16,this[Ie+3]=Fe>>>24,Ie+4},d.prototype.writeInt32BE=function(Fe,Ie,ze){return Fe=+Fe,Ie=Ie>>>0,ze||le(this,Fe,Ie,4,2147483647,-2147483648),Fe<0&&(Fe=4294967295+Fe+1),this[Ie]=Fe>>>24,this[Ie+1]=Fe>>>16,this[Ie+2]=Fe>>>8,this[Ie+3]=Fe&255,Ie+4},d.prototype.writeBigInt64LE=Ct(function(Fe){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ie(this,Fe,Ie,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=Ct(function(Fe){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ce(this,Fe,Ie,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function me(Qe,Fe,Ie,ze,Re,be){if(Ie+ze>Qe.length)throw new RangeError("Index out of range");if(Ie<0)throw new RangeError("Index out of range")}function Me(Qe,Fe,Ie,ze,Re){return Fe=+Fe,Ie=Ie>>>0,Re||me(Qe,Fe,Ie,4),m.write(Qe,Fe,Ie,ze,23,4),Ie+4}d.prototype.writeFloatLE=function(Fe,Ie,ze){return Me(this,Fe,Ie,!0,ze)},d.prototype.writeFloatBE=function(Fe,Ie,ze){return Me(this,Fe,Ie,!1,ze)};function we(Qe,Fe,Ie,ze,Re){return Fe=+Fe,Ie=Ie>>>0,Re||me(Qe,Fe,Ie,8),m.write(Qe,Fe,Ie,ze,52,8),Ie+8}d.prototype.writeDoubleLE=function(Fe,Ie,ze){return we(this,Fe,Ie,!0,ze)},d.prototype.writeDoubleBE=function(Fe,Ie,ze){return we(this,Fe,Ie,!1,ze)},d.prototype.copy=function(Fe,Ie,ze,Re){if(!d.isBuffer(Fe))throw new TypeError("argument should be a Buffer");if(ze||(ze=0),!Re&&Re!==0&&(Re=this.length),Ie>=Fe.length&&(Ie=Fe.length),Ie||(Ie=0),Re>0&&Re<ze&&(Re=ze),Re===ze||Fe.length===0||this.length===0)return 0;if(Ie<0)throw new RangeError("targetStart out of bounds");if(ze<0||ze>=this.length)throw new RangeError("Index out of range");if(Re<0)throw new RangeError("sourceEnd out of bounds");Re>this.length&&(Re=this.length),Fe.length-Ie<Re-ze&&(Re=Fe.length-Ie+ze);var be=Re-ze;return this===Fe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ie,ze,Re):Uint8Array.prototype.set.call(Fe,this.subarray(ze,Re),Ie),be},d.prototype.fill=function(Fe,Ie,ze,Re){if(typeof Fe=="string"){if(typeof Ie=="string"?(Re=Ie,Ie=0,ze=this.length):typeof ze=="string"&&(Re=ze,ze=this.length),Re!==void 0&&typeof Re!="string")throw new TypeError("encoding must be a string");if(typeof Re=="string"&&!d.isEncoding(Re))throw new TypeError("Unknown encoding: "+Re);if(Fe.length===1){var be=Fe.charCodeAt(0);(Re==="utf8"&&be<128||Re==="latin1")&&(Fe=be)}}else typeof Fe=="number"?Fe=Fe&255:typeof Fe=="boolean"&&(Fe=Number(Fe));if(Ie<0||this.length<Ie||this.length<ze)throw new RangeError("Out of range index");if(ze<=Ie)return this;Ie=Ie>>>0,ze=ze===void 0?this.length:ze>>>0,Fe||(Fe=0);var ye;if(typeof Fe=="number")for(ye=Ie;ye<ze;++ye)this[ye]=Fe;else{var Ae=d.isBuffer(Fe)?Fe:d.from(Fe,Re),Ee=Ae.length;if(Ee===0)throw new TypeError('The value "'+Fe+'" is invalid for argument "value"');for(ye=0;ye<ze-Ie;++ye)this[ye+Ie]=Ae[ye%Ee]}return this};var Oe={};function Be(Qe,Fe,Ie){Oe[Qe]=function(ze){v(be,ze);var Re=t(be);function be(){var ye;return g(this,be),ye=Re.call(this),Object.defineProperty(s(ye),"message",{value:Fe.apply(s(ye),arguments),writable:!0,configurable:!0}),ye.name="".concat(ye.name," [").concat(Qe,"]"),ye.stack,delete ye.name,ye}return i(be,[{key:"code",get:function(){return Qe},set:function(Ae){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ae,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Qe,"]: ").concat(this.message)}}]),be}(Ie)}Be("ERR_BUFFER_OUT_OF_BOUNDS",function(Qe){return Qe?"".concat(Qe," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Be("ERR_INVALID_ARG_TYPE",function(Qe,Fe){return'The "'.concat(Qe,'" argument must be of type number. Received type ').concat(f(Fe))},TypeError),Be("ERR_OUT_OF_RANGE",function(Qe,Fe,Ie){var ze='The value of "'.concat(Qe,'" is out of range.'),Re=Ie;return Number.isInteger(Ie)&&Math.abs(Ie)>Math.pow(2,32)?Re=Ce(String(Ie)):typeof Ie=="bigint"&&(Re=String(Ie),(Ie>Math.pow(BigInt(2),BigInt(32))||Ie<-Math.pow(BigInt(2),BigInt(32)))&&(Re=Ce(Re)),Re+="n"),ze+=" It must be ".concat(Fe,". Received ").concat(Re),ze},RangeError);function Ce(Qe){for(var Fe="",Ie=Qe.length,ze=Qe[0]==="-"?1:0;Ie>=ze+4;Ie-=3)Fe="_".concat(Qe.slice(Ie-3,Ie)).concat(Fe);return"".concat(Qe.slice(0,Ie)).concat(Fe)}function xe(Qe,Fe,Ie){He(Fe,"offset"),(Qe[Fe]===void 0||Qe[Fe+Ie]===void 0)&&Ge(Fe,Qe.length-(Ie+1))}function Se(Qe,Fe,Ie,ze,Re,be){if(Qe>Ie||Qe<Fe){var ye=typeof Fe=="bigint"?"n":"",Ae;throw be>3?Fe===0||Fe===BigInt(0)?Ae=">= 0".concat(ye," and < 2").concat(ye," ** ").concat((be+1)*8).concat(ye):Ae=">= -(2".concat(ye," ** ").concat((be+1)*8-1).concat(ye,") and < 2 ** ")+"".concat((be+1)*8-1).concat(ye):Ae=">= ".concat(Fe).concat(ye," and <= ").concat(Ie).concat(ye),new Oe.ERR_OUT_OF_RANGE("value",Ae,Qe)}xe(ze,Re,be)}function He(Qe,Fe){if(typeof Qe!="number")throw new Oe.ERR_INVALID_ARG_TYPE(Fe,"number",Qe)}function Ge(Qe,Fe,Ie){throw Math.floor(Qe)!==Qe?(He(Qe,Ie),new Oe.ERR_OUT_OF_RANGE(Ie||"offset","an integer",Qe)):Fe<0?new Oe.ERR_BUFFER_OUT_OF_BOUNDS:new Oe.ERR_OUT_OF_RANGE(Ie||"offset",">= ".concat(Ie?1:0," and <= ").concat(Fe),Qe)}var ke=/[^+/0-9A-Za-z-_]/g;function We(Qe){if(Qe=Qe.split("=")[0],Qe=Qe.trim().replace(ke,""),Qe.length<2)return"";for(;Qe.length%4!==0;)Qe=Qe+"=";return Qe}function it(Qe,Fe){Fe=Fe||1/0;for(var Ie,ze=Qe.length,Re=null,be=[],ye=0;ye<ze;++ye){if(Ie=Qe.charCodeAt(ye),Ie>55295&&Ie<57344){if(!Re){if(Ie>56319){(Fe-=3)>-1&&be.push(239,191,189);continue}else if(ye+1===ze){(Fe-=3)>-1&&be.push(239,191,189);continue}Re=Ie;continue}if(Ie<56320){(Fe-=3)>-1&&be.push(239,191,189),Re=Ie;continue}Ie=(Re-55296<<10|Ie-56320)+65536}else Re&&(Fe-=3)>-1&&be.push(239,191,189);if(Re=null,Ie<128){if((Fe-=1)<0)break;be.push(Ie)}else if(Ie<2048){if((Fe-=2)<0)break;be.push(Ie>>6|192,Ie&63|128)}else if(Ie<65536){if((Fe-=3)<0)break;be.push(Ie>>12|224,Ie>>6&63|128,Ie&63|128)}else if(Ie<1114112){if((Fe-=4)<0)break;be.push(Ie>>18|240,Ie>>12&63|128,Ie>>6&63|128,Ie&63|128)}else throw new Error("Invalid code point")}return be}function et(Qe){for(var Fe=[],Ie=0;Ie<Qe.length;++Ie)Fe.push(Qe.charCodeAt(Ie)&255);return Fe}function tt(Qe,Fe){for(var Ie,ze,Re,be=[],ye=0;ye<Qe.length&&!((Fe-=2)<0);++ye)Ie=Qe.charCodeAt(ye),ze=Ie>>8,Re=Ie%256,be.push(Re),be.push(ze);return be}function at(Qe){return u.toByteArray(We(Qe))}function ht(Qe,Fe,Ie,ze){var Re;for(Re=0;Re<ze&&!(Re+Ie>=Fe.length||Re>=Qe.length);++Re)Fe[Re+Ie]=Qe[Re];return Re}function yt(Qe,Fe){return Qe instanceof Fe||Qe!=null&&Qe.constructor!=null&&Qe.constructor.name!=null&&Qe.constructor.name===Fe.name}function gt(Qe){return Qe!==Qe}var Et=function(){for(var Qe="0123456789abcdef",Fe=new Array(256),Ie=0;Ie<16;++Ie)for(var ze=Ie*16,Re=0;Re<16;++Re)Fe[ze+Re]=Qe[Ie]+Qe[Re];return Fe}();function Ct(Qe){return typeof BigInt>"u"?Vt:Qe}function Vt(){throw new Error("BigInt not supported")}},35791:function(W){W.exports=P,W.exports.isMobile=P,W.exports.default=P;var H=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,g=/android|ipad|playbook|silk/i;function P(i){i||(i={});var L=i.ua;if(!L&&typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),typeof L!="string")return!1;var A=H.test(L)&&!e.test(L)||!!i.tablet&&g.test(L);return!A&&i.tablet&&i.featureDetect&&navigator&&navigator.maxTouchPoints>1&&L.indexOf("Macintosh")!==-1&&L.indexOf("Safari")!==-1&&(A=!0),A}},86781:function(W,H,e){e.r(H),e.d(H,{sankeyCenter:function(){return s},sankeyCircular:function(){return C},sankeyJustify:function(){return r},sankeyLeft:function(){return p},sankeyRight:function(){return t}});var g=e(33064),P=e(15140),i=e(45879),L=e(2502),A=e.n(L);function v(we){return we.target.depth}function p(we){return we.depth}function t(we,Oe){return Oe-1-we.height}function r(we,Oe){return we.sourceLinks.length?we.depth:Oe-1}function s(we){return we.targetLinks.length?we.depth:we.sourceLinks.length?(0,g.VV)(we.sourceLinks,v)-1:0}function n(we){return function(){return we}}var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(we){return typeof we}:function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we};function f(we,Oe){return m(we.source,Oe.source)||we.index-Oe.index}function u(we,Oe){return m(we.target,Oe.target)||we.index-Oe.index}function m(we,Oe){return we.partOfCycle===Oe.partOfCycle?we.y0-Oe.y0:we.circularLinkType==="top"||Oe.circularLinkType==="bottom"?-1:1}function c(we){return we.value}function w(we){return(we.y0+we.y1)/2}function h(we){return w(we.source)}function o(we){return w(we.target)}function d(we){return we.index}function M(we){return we.nodes}function T(we){return we.links}function E(we,Oe){var Be=we.get(Oe);if(!Be)throw new Error("missing: "+Oe);return Be}function x(we,Oe){return Oe(we)}var S=25,b=10,a=.3;function C(){var we=0,Oe=0,Be=1,Ce=1,xe=24,Se,He=d,Ge=r,ke=M,We=T,it=32,et=2,tt,at=null;function ht(){var Ie={nodes:ke.apply(null,arguments),links:We.apply(null,arguments)};yt(Ie),y(Ie,He,at),gt(Ie),Vt(Ie),z(Ie,He),Qe(Ie,it,He),Fe(Ie);for(var ze=4,Re=0;Re<ze;Re++)$(Ie,Ce,He),le(Ie,Ce,He),ee(Ie,Oe,Ce,He),$(Ie,Ce,He),le(Ie,Ce,He);return Me(Ie,Oe,Ce),_(Ie,et,Ce,He),Ie}ht.nodeId=function(Ie){return arguments.length?(He=typeof Ie=="function"?Ie:n(Ie),ht):He},ht.nodeAlign=function(Ie){return arguments.length?(Ge=typeof Ie=="function"?Ie:n(Ie),ht):Ge},ht.nodeWidth=function(Ie){return arguments.length?(xe=+Ie,ht):xe},ht.nodePadding=function(Ie){return arguments.length?(Se=+Ie,ht):Se},ht.nodes=function(Ie){return arguments.length?(ke=typeof Ie=="function"?Ie:n(Ie),ht):ke},ht.links=function(Ie){return arguments.length?(We=typeof Ie=="function"?Ie:n(Ie),ht):We},ht.size=function(Ie){return arguments.length?(we=Oe=0,Be=+Ie[0],Ce=+Ie[1],ht):[Be-we,Ce-Oe]},ht.extent=function(Ie){return arguments.length?(we=+Ie[0][0],Be=+Ie[1][0],Oe=+Ie[0][1],Ce=+Ie[1][1],ht):[[we,Oe],[Be,Ce]]},ht.iterations=function(Ie){return arguments.length?(it=+Ie,ht):it},ht.circularLinkGap=function(Ie){return arguments.length?(et=+Ie,ht):et},ht.nodePaddingRatio=function(Ie){return arguments.length?(tt=+Ie,ht):tt},ht.sortNodes=function(Ie){return arguments.length?(at=Ie,ht):at},ht.update=function(Ie){return z(Ie,He),Fe(Ie),Ie.links.forEach(function(ze){ze.circular&&(ze.circularLinkType=ze.y0+ze.y1<Ce?"top":"bottom",ze.source.circularLinkType=ze.circularLinkType,ze.target.circularLinkType=ze.circularLinkType)}),$(Ie,Ce,He,!1),le(Ie,Ce,He),_(Ie,et,Ce,He),Ie};function yt(Ie){Ie.nodes.forEach(function(Re,be){Re.index=be,Re.sourceLinks=[],Re.targetLinks=[]});var ze=(0,P.UI)(Ie.nodes,He);return Ie.links.forEach(function(Re,be){Re.index=be;var ye=Re.source,Ae=Re.target;(typeof ye>"u"?"undefined":l(ye))!=="object"&&(ye=Re.source=E(ze,ye)),(typeof Ae>"u"?"undefined":l(Ae))!=="object"&&(Ae=Re.target=E(ze,Ae)),ye.sourceLinks.push(Re),Ae.targetLinks.push(Re)}),Ie}function gt(Ie){Ie.nodes.forEach(function(ze){ze.partOfCycle=!1,ze.value=Math.max((0,g.Sm)(ze.sourceLinks,c),(0,g.Sm)(ze.targetLinks,c)),ze.sourceLinks.forEach(function(Re){Re.circular&&(ze.partOfCycle=!0,ze.circularLinkType=Re.circularLinkType)}),ze.targetLinks.forEach(function(Re){Re.circular&&(ze.partOfCycle=!0,ze.circularLinkType=Re.circularLinkType)})})}function Et(Ie){var ze=0,Re=0,be=0,ye=0,Ae=(0,g.Fp)(Ie.nodes,function(Ee){return Ee.column});return Ie.links.forEach(function(Ee){Ee.circular&&(Ee.circularLinkType=="top"?ze=ze+Ee.width:Re=Re+Ee.width,Ee.target.column==0&&(ye=ye+Ee.width),Ee.source.column==Ae&&(be=be+Ee.width))}),ze=ze>0?ze+S+b:ze,Re=Re>0?Re+S+b:Re,be=be>0?be+S+b:be,ye=ye>0?ye+S+b:ye,{top:ze,bottom:Re,left:ye,right:be}}function Ct(Ie,ze){var Re=(0,g.Fp)(Ie.nodes,function(qe){return qe.column}),be=Be-we,ye=Ce-Oe,Ae=be+ze.right+ze.left,Ee=ye+ze.top+ze.bottom,Ne=be/Ae,Je=ye/Ee;return we=we*Ne+ze.left,Be=ze.right==0?Be:Be*Ne,Oe=Oe*Je+ze.top,Ce=Ce*Je,Ie.nodes.forEach(function(qe){qe.x0=we+qe.column*((Be-we-xe)/Re),qe.x1=qe.x0+xe}),Je}function Vt(Ie){var ze,Re,be;for(ze=Ie.nodes,Re=[],be=0;ze.length;++be,ze=Re,Re=[])ze.forEach(function(ye){ye.depth=be,ye.sourceLinks.forEach(function(Ae){Re.indexOf(Ae.target)<0&&!Ae.circular&&Re.push(Ae.target)})});for(ze=Ie.nodes,Re=[],be=0;ze.length;++be,ze=Re,Re=[])ze.forEach(function(ye){ye.height=be,ye.targetLinks.forEach(function(Ae){Re.indexOf(Ae.source)<0&&!Ae.circular&&Re.push(Ae.source)})});Ie.nodes.forEach(function(ye){ye.column=Math.floor(Ge.call(null,ye,be))})}function Qe(Ie,ze,Re){var be=(0,P.b1)().key(function(qe){return qe.column}).sortKeys(g.j2).entries(Ie.nodes).map(function(qe){return qe.values});Ee(Re),Je();for(var ye=1,Ae=ze;Ae>0;--Ae)Ne(ye*=.99,Re),Je();function Ee(qe){if(tt){var vt=1/0;be.forEach(function(At){var zt=Ce*tt/(At.length+1);vt=zt<vt?zt:vt}),Se=vt}var bt=(0,g.VV)(be,function(At){return(Ce-Oe-(At.length-1)*Se)/(0,g.Sm)(At,c)});bt=bt*a,Ie.links.forEach(function(At){At.width=At.value*bt});var Wt=Et(Ie),qt=Ct(Ie,Wt);bt=bt*qt,Ie.links.forEach(function(At){At.width=At.value*bt}),be.forEach(function(At){var zt=At.length;At.forEach(function(Jt,Mr){Jt.depth==be.length-1&&zt==1||Jt.depth==0&&zt==1?(Jt.y0=Ce/2-Jt.value*bt,Jt.y1=Jt.y0+Jt.value*bt):Jt.partOfCycle?F(Jt,qe)==0?(Jt.y0=Ce/2+Mr,Jt.y1=Jt.y0+Jt.value*bt):Jt.circularLinkType=="top"?(Jt.y0=Oe+Mr,Jt.y1=Jt.y0+Jt.value*bt):(Jt.y0=Ce-Jt.value*bt-Mr,Jt.y1=Jt.y0+Jt.value*bt):Wt.top==0||Wt.bottom==0?(Jt.y0=(Ce-Oe)/zt*Mr,Jt.y1=Jt.y0+Jt.value*bt):(Jt.y0=(Ce-Oe)/2-zt/2+Mr,Jt.y1=Jt.y0+Jt.value*bt)})})}function Ne(qe,vt){var bt=be.length;be.forEach(function(Wt){var qt=Wt.length,At=Wt[0].depth;Wt.forEach(function(zt){var Jt;if((zt.sourceLinks.length||zt.targetLinks.length)&&!(zt.partOfCycle&&F(zt,vt)>0))if(At==0&&qt==1)Jt=zt.y1-zt.y0,zt.y0=Ce/2-Jt/2,zt.y1=Ce/2+Jt/2;else if(At==bt-1&&qt==1)Jt=zt.y1-zt.y0,zt.y0=Ce/2-Jt/2,zt.y1=Ce/2+Jt/2;else{var Mr=0,pt=(0,g.J6)(zt.sourceLinks,o),Zt=(0,g.J6)(zt.targetLinks,h);pt&&Zt?Mr=(pt+Zt)/2:Mr=pt||Zt;var Kt=(Mr-w(zt))*qe;zt.y0+=Kt,zt.y1+=Kt}})})}function Je(){be.forEach(function(qe){var vt,bt,Wt=Oe,qt=qe.length,At;for(qe.sort(m),At=0;At<qt;++At)vt=qe[At],bt=Wt-vt.y0,bt>0&&(vt.y0+=bt,vt.y1+=bt),Wt=vt.y1+Se;if(bt=Wt-Se-Ce,bt>0)for(Wt=vt.y0-=bt,vt.y1-=bt,At=qt-2;At>=0;--At)vt=qe[At],bt=vt.y1+Se-Wt,bt>0&&(vt.y0-=bt,vt.y1-=bt),Wt=vt.y0})}}function Fe(Ie){Ie.nodes.forEach(function(ze){ze.sourceLinks.sort(u),ze.targetLinks.sort(f)}),Ie.nodes.forEach(function(ze){var Re=ze.y0,be=Re,ye=ze.y1,Ae=ye;ze.sourceLinks.forEach(function(Ee){Ee.circular?(Ee.y0=ye-Ee.width/2,ye=ye-Ee.width):(Ee.y0=Re+Ee.width/2,Re+=Ee.width)}),ze.targetLinks.forEach(function(Ee){Ee.circular?(Ee.y1=Ae-Ee.width/2,Ae=Ae-Ee.width):(Ee.y1=be+Ee.width/2,be+=Ee.width)})})}return ht}function y(we,Oe,Be){var Ce=0;if(Be===null){for(var xe=[],Se=0;Se<we.links.length;Se++){var He=we.links[Se],Ge=He.source.index,ke=He.target.index;xe[Ge]||(xe[Ge]=[]),xe[ke]||(xe[ke]=[]),xe[Ge].indexOf(ke)===-1&&xe[Ge].push(ke)}var We=A()(xe);We.sort(function(at,ht){return at.length-ht.length});var it={};for(Se=0;Se<We.length;Se++){var et=We[Se],tt=et.slice(-2);it[tt[0]]||(it[tt[0]]={}),it[tt[0]][tt[1]]=!0}we.links.forEach(function(at){var ht=at.target.index,yt=at.source.index;ht===yt||it[yt]&&it[yt][ht]?(at.circular=!0,at.circularLinkID=Ce,Ce=Ce+1):at.circular=!1})}else we.links.forEach(function(at){at.source[Be]<at.target[Be]?at.circular=!1:(at.circular=!0,at.circularLinkID=Ce,Ce=Ce+1)})}function z(we,Oe){var Be=0,Ce=0;we.links.forEach(function(xe){xe.circular&&(xe.source.circularLinkType||xe.target.circularLinkType?xe.circularLinkType=xe.source.circularLinkType?xe.source.circularLinkType:xe.target.circularLinkType:xe.circularLinkType=Be<Ce?"top":"bottom",xe.circularLinkType=="top"?Be=Be+1:Ce=Ce+1,we.nodes.forEach(function(Se){(x(Se,Oe)==x(xe.source,Oe)||x(Se,Oe)==x(xe.target,Oe))&&(Se.circularLinkType=xe.circularLinkType)}))}),we.links.forEach(function(xe){xe.circular&&(xe.source.circularLinkType==xe.target.circularLinkType&&(xe.circularLinkType=xe.source.circularLinkType),me(xe,Oe)&&(xe.circularLinkType=xe.source.circularLinkType))})}function I(we){var Oe=Math.abs(we.y1-we.y0),Be=Math.abs(we.target.x0-we.source.x1);return Math.atan(Be/Oe)}function B(we,Oe){return we.source.column<Oe.target.column?!1:!(we.target.column>Oe.source.column)}function F(we,Oe){var Be=0;we.sourceLinks.forEach(function(xe){Be=xe.circular&&!me(xe,Oe)?Be+1:Be});var Ce=0;return we.targetLinks.forEach(function(xe){Ce=xe.circular&&!me(xe,Oe)?Ce+1:Ce}),Be+Ce}function O(we){var Oe=we.source.sourceLinks,Be=0;Oe.forEach(function(Se){Be=Se.circular?Be+1:Be});var Ce=we.target.targetLinks,xe=0;return Ce.forEach(function(Se){xe=Se.circular?xe+1:xe}),!(Be>1||xe>1)}function N(we,Oe,Be){return we.sort(Y),we.forEach(function(Ce,xe){var Se=0;if(me(Ce,Be)&&O(Ce))Ce.circularPathData.verticalBuffer=Se+Ce.width/2;else{var He=0;for(He;He<xe;He++)if(B(we[xe],we[He])){var Ge=we[He].circularPathData.verticalBuffer+we[He].width/2+Oe;Se=Ge>Se?Ge:Se}Ce.circularPathData.verticalBuffer=Se+Ce.width/2}}),we}function _(we,Oe,Be,Ce){var xe=5,Se=(0,g.VV)(we.links,function(ke){return ke.source.y0});we.links.forEach(function(ke){ke.circular&&(ke.circularPathData={})});var He=we.links.filter(function(ke){return ke.circularLinkType=="top"});N(He,Oe,Ce);var Ge=we.links.filter(function(ke){return ke.circularLinkType=="bottom"});N(Ge,Oe,Ce),we.links.forEach(function(ke){if(ke.circular){if(ke.circularPathData.arcRadius=ke.width+b,ke.circularPathData.leftNodeBuffer=xe,ke.circularPathData.rightNodeBuffer=xe,ke.circularPathData.sourceWidth=ke.source.x1-ke.source.x0,ke.circularPathData.sourceX=ke.source.x0+ke.circularPathData.sourceWidth,ke.circularPathData.targetX=ke.target.x0,ke.circularPathData.sourceY=ke.y0,ke.circularPathData.targetY=ke.y1,me(ke,Ce)&&O(ke))ke.circularPathData.leftSmallArcRadius=b+ke.width/2,ke.circularPathData.leftLargeArcRadius=b+ke.width/2,ke.circularPathData.rightSmallArcRadius=b+ke.width/2,ke.circularPathData.rightLargeArcRadius=b+ke.width/2,ke.circularLinkType=="bottom"?(ke.circularPathData.verticalFullExtent=ke.source.y1+S+ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.rightLargeArcRadius):(ke.circularPathData.verticalFullExtent=ke.source.y0-S-ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.rightLargeArcRadius);else{var We=ke.source.column,it=ke.circularLinkType,et=we.links.filter(function(ht){return ht.source.column==We&&ht.circularLinkType==it});ke.circularLinkType=="bottom"?et.sort(re):et.sort(K);var tt=0;et.forEach(function(ht,yt){ht.circularLinkID==ke.circularLinkID&&(ke.circularPathData.leftSmallArcRadius=b+ke.width/2+tt,ke.circularPathData.leftLargeArcRadius=b+ke.width/2+yt*Oe+tt),tt=tt+ht.width}),We=ke.target.column,et=we.links.filter(function(ht){return ht.target.column==We&&ht.circularLinkType==it}),ke.circularLinkType=="bottom"?et.sort(fe):et.sort(ae),tt=0,et.forEach(function(ht,yt){ht.circularLinkID==ke.circularLinkID&&(ke.circularPathData.rightSmallArcRadius=b+ke.width/2+tt,ke.circularPathData.rightLargeArcRadius=b+ke.width/2+yt*Oe+tt),tt=tt+ht.width}),ke.circularLinkType=="bottom"?(ke.circularPathData.verticalFullExtent=Math.max(Be,ke.source.y1,ke.target.y1)+S+ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.rightLargeArcRadius):(ke.circularPathData.verticalFullExtent=Se-S-ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.rightLargeArcRadius)}ke.circularPathData.leftInnerExtent=ke.circularPathData.sourceX+ke.circularPathData.leftNodeBuffer,ke.circularPathData.rightInnerExtent=ke.circularPathData.targetX-ke.circularPathData.rightNodeBuffer,ke.circularPathData.leftFullExtent=ke.circularPathData.sourceX+ke.circularPathData.leftLargeArcRadius+ke.circularPathData.leftNodeBuffer,ke.circularPathData.rightFullExtent=ke.circularPathData.targetX-ke.circularPathData.rightLargeArcRadius-ke.circularPathData.rightNodeBuffer}if(ke.circular)ke.path=U(ke);else{var at=(0,i.h5)().source(function(ht){var yt=ht.source.x0+(ht.source.x1-ht.source.x0),gt=ht.y0;return[yt,gt]}).target(function(ht){var yt=ht.target.x0,gt=ht.y1;return[yt,gt]});ke.path=at(ke)}})}function U(we){var Oe="";return we.circularLinkType=="top"?Oe="M"+we.circularPathData.sourceX+" "+we.circularPathData.sourceY+" L"+we.circularPathData.leftInnerExtent+" "+we.circularPathData.sourceY+" A"+we.circularPathData.leftLargeArcRadius+" "+we.circularPathData.leftSmallArcRadius+" 0 0 0 "+we.circularPathData.leftFullExtent+" "+(we.circularPathData.sourceY-we.circularPathData.leftSmallArcRadius)+" L"+we.circularPathData.leftFullExtent+" "+we.circularPathData.verticalLeftInnerExtent+" A"+we.circularPathData.leftLargeArcRadius+" "+we.circularPathData.leftLargeArcRadius+" 0 0 0 "+we.circularPathData.leftInnerExtent+" "+we.circularPathData.verticalFullExtent+" L"+we.circularPathData.rightInnerExtent+" "+we.circularPathData.verticalFullExtent+" A"+we.circularPathData.rightLargeArcRadius+" "+we.circularPathData.rightLargeArcRadius+" 0 0 0 "+we.circularPathData.rightFullExtent+" "+we.circularPathData.verticalRightInnerExtent+" L"+we.circularPathData.rightFullExtent+" "+(we.circularPathData.targetY-we.circularPathData.rightSmallArcRadius)+" A"+we.circularPathData.rightLargeArcRadius+" "+we.circularPathData.rightSmallArcRadius+" 0 0 0 "+we.circularPathData.rightInnerExtent+" "+we.circularPathData.targetY+" L"+we.circularPathData.targetX+" "+we.circularPathData.targetY:Oe="M"+we.circularPathData.sourceX+" "+we.circularPathData.sourceY+" L"+we.circularPathData.leftInnerExtent+" "+we.circularPathData.sourceY+" A"+we.circularPathData.leftLargeArcRadius+" "+we.circularPathData.leftSmallArcRadius+" 0 0 1 "+we.circularPathData.leftFullExtent+" "+(we.circularPathData.sourceY+we.circularPathData.leftSmallArcRadius)+" L"+we.circularPathData.leftFullExtent+" "+we.circularPathData.verticalLeftInnerExtent+" A"+we.circularPathData.leftLargeArcRadius+" "+we.circularPathData.leftLargeArcRadius+" 0 0 1 "+we.circularPathData.leftInnerExtent+" "+we.circularPathData.verticalFullExtent+" L"+we.circularPathData.rightInnerExtent+" "+we.circularPathData.verticalFullExtent+" A"+we.circularPathData.rightLargeArcRadius+" "+we.circularPathData.rightLargeArcRadius+" 0 0 1 "+we.circularPathData.rightFullExtent+" "+we.circularPathData.verticalRightInnerExtent+" L"+we.circularPathData.rightFullExtent+" "+(we.circularPathData.targetY+we.circularPathData.rightSmallArcRadius)+" A"+we.circularPathData.rightLargeArcRadius+" "+we.circularPathData.rightSmallArcRadius+" 0 0 1 "+we.circularPathData.rightInnerExtent+" "+we.circularPathData.targetY+" L"+we.circularPathData.targetX+" "+we.circularPathData.targetY,Oe}function Y(we,Oe){return Q(we)==Q(Oe)?we.circularLinkType=="bottom"?re(we,Oe):K(we,Oe):Q(Oe)-Q(we)}function K(we,Oe){return we.y0-Oe.y0}function re(we,Oe){return Oe.y0-we.y0}function ae(we,Oe){return we.y1-Oe.y1}function fe(we,Oe){return Oe.y1-we.y1}function Q(we){return we.target.column-we.source.column}function j(we){return we.target.x0-we.source.x1}function X(we,Oe){var Be=I(we),Ce=j(Oe)/Math.tan(Be),xe=ce(we)=="up"?we.y1+Ce:we.y1-Ce;return xe}function J(we,Oe){var Be=I(we),Ce=j(Oe)/Math.tan(Be),xe=ce(we)=="up"?we.y1-Ce:we.y1+Ce;return xe}function ee(we,Oe,Be,Ce){we.links.forEach(function(xe){if(!xe.circular&&xe.target.column-xe.source.column>1){var Se=xe.source.column+1,He=xe.target.column-1,Ge=1,ke=He-Se+1;for(Ge=1;Se<=He;Se++,Ge++)we.nodes.forEach(function(We){if(We.column==Se){var it=Ge/(ke+1),et=Math.pow(1-it,3),tt=3*it*Math.pow(1-it,2),at=3*Math.pow(it,2)*(1-it),ht=Math.pow(it,3),yt=et*xe.y0+tt*xe.y0+at*xe.y1+ht*xe.y1,gt=yt-xe.width/2,Et=yt+xe.width/2,Ct;gt>We.y0&&gt<We.y1?(Ct=We.y1-gt+10,Ct=We.circularLinkType=="bottom"?Ct:-Ct,We=q(We,Ct,Oe,Be),we.nodes.forEach(function(Vt){x(Vt,Ce)==x(We,Ce)||Vt.column!=We.column||se(We,Vt)&&q(Vt,Ct,Oe,Be)})):Et>We.y0&&Et<We.y1?(Ct=Et-We.y0+10,We=q(We,Ct,Oe,Be),we.nodes.forEach(function(Vt){x(Vt,Ce)==x(We,Ce)||Vt.column!=We.column||Vt.y0<We.y1&&Vt.y1>We.y1&&q(Vt,Ct,Oe,Be)})):gt<We.y0&&Et>We.y1&&(Ct=Et-We.y0+10,We=q(We,Ct,Oe,Be),we.nodes.forEach(function(Vt){x(Vt,Ce)==x(We,Ce)||Vt.column!=We.column||Vt.y0<We.y1&&Vt.y1>We.y1&&q(Vt,Ct,Oe,Be)}))}})}})}function se(we,Oe){return we.y0>Oe.y0&&we.y0<Oe.y1||we.y1>Oe.y0&&we.y1<Oe.y1?!0:we.y0<Oe.y0&&we.y1>Oe.y1}function q(we,Oe,Be,Ce){return we.y0+Oe>=Be&&we.y1+Oe<=Ce&&(we.y0=we.y0+Oe,we.y1=we.y1+Oe,we.targetLinks.forEach(function(xe){xe.y1=xe.y1+Oe}),we.sourceLinks.forEach(function(xe){xe.y0=xe.y0+Oe})),we}function $(we,Oe,Be,Ce){we.nodes.forEach(function(xe){Ce&&xe.y+(xe.y1-xe.y0)>Oe&&(xe.y=xe.y-(xe.y+(xe.y1-xe.y0)-Oe));var Se=we.links.filter(function(ke){return x(ke.source,Be)==x(xe,Be)}),He=Se.length;He>1&&Se.sort(function(ke,We){if(!ke.circular&&!We.circular){if(ke.target.column==We.target.column)return ke.y1-We.y1;if(ie(ke,We)){if(ke.target.column>We.target.column){var it=J(We,ke);return ke.y1-it}if(We.target.column>ke.target.column){var et=J(ke,We);return et-We.y1}}else return ke.y1-We.y1}if(ke.circular&&!We.circular)return ke.circularLinkType=="top"?-1:1;if(We.circular&&!ke.circular)return We.circularLinkType=="top"?1:-1;if(ke.circular&&We.circular)return ke.circularLinkType===We.circularLinkType&&ke.circularLinkType=="top"?ke.target.column===We.target.column?ke.target.y1-We.target.y1:We.target.column-ke.target.column:ke.circularLinkType===We.circularLinkType&&ke.circularLinkType=="bottom"?ke.target.column===We.target.column?We.target.y1-ke.target.y1:ke.target.column-We.target.column:ke.circularLinkType=="top"?-1:1});var Ge=xe.y0;Se.forEach(function(ke){ke.y0=Ge+ke.width/2,Ge=Ge+ke.width}),Se.forEach(function(ke,We){if(ke.circularLinkType=="bottom"){var it=We+1,et=0;for(it;it<He;it++)et=et+Se[it].width;ke.y0=xe.y1-et-ke.width/2}})})}function le(we,Oe,Be){we.nodes.forEach(function(Ce){var xe=we.links.filter(function(Ge){return x(Ge.target,Be)==x(Ce,Be)}),Se=xe.length;Se>1&&xe.sort(function(Ge,ke){if(!Ge.circular&&!ke.circular){if(Ge.source.column==ke.source.column)return Ge.y0-ke.y0;if(ie(Ge,ke)){if(ke.source.column<Ge.source.column){var We=X(ke,Ge);return Ge.y0-We}if(Ge.source.column<ke.source.column){var it=X(Ge,ke);return it-ke.y0}}else return Ge.y0-ke.y0}if(Ge.circular&&!ke.circular)return Ge.circularLinkType=="top"?-1:1;if(ke.circular&&!Ge.circular)return ke.circularLinkType=="top"?1:-1;if(Ge.circular&&ke.circular)return Ge.circularLinkType===ke.circularLinkType&&Ge.circularLinkType=="top"?Ge.source.column===ke.source.column?Ge.source.y1-ke.source.y1:Ge.source.column-ke.source.column:Ge.circularLinkType===ke.circularLinkType&&Ge.circularLinkType=="bottom"?Ge.source.column===ke.source.column?Ge.source.y1-ke.source.y1:ke.source.column-Ge.source.column:Ge.circularLinkType=="top"?-1:1});var He=Ce.y0;xe.forEach(function(Ge){Ge.y1=He+Ge.width/2,He=He+Ge.width}),xe.forEach(function(Ge,ke){if(Ge.circularLinkType=="bottom"){var We=ke+1,it=0;for(We;We<Se;We++)it=it+xe[We].width;Ge.y1=Ce.y1-it-Ge.width/2}})})}function ie(we,Oe){return ce(we)==ce(Oe)}function ce(we){return we.y0-we.y1>0?"up":"down"}function me(we,Oe){return x(we.source,Oe)==x(we.target,Oe)}function Me(we,Oe,Be){var Ce=we.nodes,xe=we.links,Se=!1,He=!1;if(xe.forEach(function(tt){tt.circularLinkType=="top"?Se=!0:tt.circularLinkType=="bottom"&&(He=!0)}),Se==!1||He==!1){var Ge=(0,g.VV)(Ce,function(tt){return tt.y0}),ke=(0,g.Fp)(Ce,function(tt){return tt.y1}),We=ke-Ge,it=Be-Oe,et=it/We;Ce.forEach(function(tt){var at=(tt.y1-tt.y0)*et;tt.y0=(tt.y0-Ge)*et,tt.y1=tt.y0+at}),xe.forEach(function(tt){tt.y0=(tt.y0-Ge)*et,tt.y1=(tt.y1-Ge)*et,tt.width=tt.width*et})}}},30838:function(W,H,e){e.r(H),e.d(H,{sankey:function(){return d},sankeyCenter:function(){return p},sankeyJustify:function(){return v},sankeyLeft:function(){return L},sankeyLinkHorizontal:function(){return x},sankeyRight:function(){return A}});var g=e(33064),P=e(15140);function i(S){return S.target.depth}function L(S){return S.depth}function A(S,b){return b-1-S.height}function v(S,b){return S.sourceLinks.length?S.depth:b-1}function p(S){return S.targetLinks.length?S.depth:S.sourceLinks.length?(0,g.VV)(S.sourceLinks,i)-1:0}function t(S){return function(){return S}}function r(S,b){return n(S.source,b.source)||S.index-b.index}function s(S,b){return n(S.target,b.target)||S.index-b.index}function n(S,b){return S.y0-b.y0}function l(S){return S.value}function f(S){return(S.y0+S.y1)/2}function u(S){return f(S.source)*S.value}function m(S){return f(S.target)*S.value}function c(S){return S.index}function w(S){return S.nodes}function h(S){return S.links}function o(S,b){var a=S.get(b);if(!a)throw new Error("missing: "+b);return a}function d(){var S=0,b=0,a=1,C=1,y=24,z=8,I=c,B=v,F=w,O=h,N=32,_=2/3;function U(){var Q={nodes:F.apply(null,arguments),links:O.apply(null,arguments)};return Y(Q),K(Q),re(Q),ae(Q),fe(Q),Q}U.update=function(Q){return fe(Q),Q},U.nodeId=function(Q){return arguments.length?(I=typeof Q=="function"?Q:t(Q),U):I},U.nodeAlign=function(Q){return arguments.length?(B=typeof Q=="function"?Q:t(Q),U):B},U.nodeWidth=function(Q){return arguments.length?(y=+Q,U):y},U.nodePadding=function(Q){return arguments.length?(z=+Q,U):z},U.nodes=function(Q){return arguments.length?(F=typeof Q=="function"?Q:t(Q),U):F},U.links=function(Q){return arguments.length?(O=typeof Q=="function"?Q:t(Q),U):O},U.size=function(Q){return arguments.length?(S=b=0,a=+Q[0],C=+Q[1],U):[a-S,C-b]},U.extent=function(Q){return arguments.length?(S=+Q[0][0],a=+Q[1][0],b=+Q[0][1],C=+Q[1][1],U):[[S,b],[a,C]]},U.iterations=function(Q){return arguments.length?(N=+Q,U):N};function Y(Q){Q.nodes.forEach(function(X,J){X.index=J,X.sourceLinks=[],X.targetLinks=[]});var j=(0,P.UI)(Q.nodes,I);Q.links.forEach(function(X,J){X.index=J;var ee=X.source,se=X.target;typeof ee!="object"&&(ee=X.source=o(j,ee)),typeof se!="object"&&(se=X.target=o(j,se)),ee.sourceLinks.push(X),se.targetLinks.push(X)})}function K(Q){Q.nodes.forEach(function(j){j.value=Math.max((0,g.Sm)(j.sourceLinks,l),(0,g.Sm)(j.targetLinks,l))})}function re(Q){var j,X,J;for(j=Q.nodes,X=[],J=0;j.length;++J,j=X,X=[])j.forEach(function(se){se.depth=J,se.sourceLinks.forEach(function(q){X.indexOf(q.target)<0&&X.push(q.target)})});for(j=Q.nodes,X=[],J=0;j.length;++J,j=X,X=[])j.forEach(function(se){se.height=J,se.targetLinks.forEach(function(q){X.indexOf(q.source)<0&&X.push(q.source)})});var ee=(a-S-y)/(J-1);Q.nodes.forEach(function(se){se.x1=(se.x0=S+Math.max(0,Math.min(J-1,Math.floor(B.call(null,se,J))))*ee)+y})}function ae(Q){var j=(0,P.b1)().key(function(le){return le.x0}).sortKeys(g.j2).entries(Q.nodes).map(function(le){return le.values});ee(),$();for(var X=1,J=N;J>0;--J)q(X*=.99),$(),se(X),$();function ee(){var le=(0,g.Fp)(j,function(me){return me.length}),ie=_*(C-b)/(le-1);z>ie&&(z=ie);var ce=(0,g.VV)(j,function(me){return(C-b-(me.length-1)*z)/(0,g.Sm)(me,l)});j.forEach(function(me){me.forEach(function(Me,we){Me.y1=(Me.y0=we)+Me.value*ce})}),Q.links.forEach(function(me){me.width=me.value*ce})}function se(le){j.forEach(function(ie){ie.forEach(function(ce){if(ce.targetLinks.length){var me=((0,g.Sm)(ce.targetLinks,u)/(0,g.Sm)(ce.targetLinks,l)-f(ce))*le;ce.y0+=me,ce.y1+=me}})})}function q(le){j.slice().reverse().forEach(function(ie){ie.forEach(function(ce){if(ce.sourceLinks.length){var me=((0,g.Sm)(ce.sourceLinks,m)/(0,g.Sm)(ce.sourceLinks,l)-f(ce))*le;ce.y0+=me,ce.y1+=me}})})}function $(){j.forEach(function(le){var ie,ce,me=b,Me=le.length,we;for(le.sort(n),we=0;we<Me;++we)ie=le[we],ce=me-ie.y0,ce>0&&(ie.y0+=ce,ie.y1+=ce),me=ie.y1+z;if(ce=me-z-C,ce>0)for(me=ie.y0-=ce,ie.y1-=ce,we=Me-2;we>=0;--we)ie=le[we],ce=ie.y1+z-me,ce>0&&(ie.y0-=ce,ie.y1-=ce),me=ie.y0})}}function fe(Q){Q.nodes.forEach(function(j){j.sourceLinks.sort(s),j.targetLinks.sort(r)}),Q.nodes.forEach(function(j){var X=j.y0,J=X;j.sourceLinks.forEach(function(ee){ee.y0=X+ee.width/2,X+=ee.width}),j.targetLinks.forEach(function(ee){ee.y1=J+ee.width/2,J+=ee.width})})}return U}var M=e(45879);function T(S){return[S.source.x1,S.y0]}function E(S){return[S.target.x0,S.y1]}function x(){return(0,M.h5)().source(T).target(E)}},39898:function(W,H,e){var g,P;(function(){var i={version:"3.8.0"},L=[].slice,A=function(ue){return L.call(ue)},v=self.document;function p(ue){return ue&&(ue.ownerDocument||ue.document||ue).documentElement}function t(ue){return ue&&(ue.ownerDocument&&ue.ownerDocument.defaultView||ue.document&&ue||ue.defaultView)}if(v)try{A(v.documentElement.childNodes)[0].nodeType}catch{A=function(Le){for(var Ue=Le.length,$e=new Array(Ue);Ue--;)$e[Ue]=Le[Ue];return $e}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var r=this.Element.prototype,s=r.setAttribute,n=r.setAttributeNS,l=this.CSSStyleDeclaration.prototype,f=l.setProperty;r.setAttribute=function(Le,Ue){s.call(this,Le,Ue+"")},r.setAttributeNS=function(Le,Ue,$e){n.call(this,Le,Ue,$e+"")},l.setProperty=function(Le,Ue,$e){f.call(this,Le,Ue+"",$e)}}i.ascending=u;function u(ue,Le){return ue<Le?-1:ue>Le?1:ue>=Le?0:NaN}i.descending=function(ue,Le){return Le<ue?-1:Le>ue?1:Le>=ue?0:NaN},i.min=function(ue,Le){var Ue=-1,$e=ue.length,rt,ot;if(arguments.length===1){for(;++Ue<$e;)if((ot=ue[Ue])!=null&&ot>=ot){rt=ot;break}for(;++Ue<$e;)(ot=ue[Ue])!=null&&rt>ot&&(rt=ot)}else{for(;++Ue<$e;)if((ot=Le.call(ue,ue[Ue],Ue))!=null&&ot>=ot){rt=ot;break}for(;++Ue<$e;)(ot=Le.call(ue,ue[Ue],Ue))!=null&&rt>ot&&(rt=ot)}return rt},i.max=function(ue,Le){var Ue=-1,$e=ue.length,rt,ot;if(arguments.length===1){for(;++Ue<$e;)if((ot=ue[Ue])!=null&&ot>=ot){rt=ot;break}for(;++Ue<$e;)(ot=ue[Ue])!=null&&ot>rt&&(rt=ot)}else{for(;++Ue<$e;)if((ot=Le.call(ue,ue[Ue],Ue))!=null&&ot>=ot){rt=ot;break}for(;++Ue<$e;)(ot=Le.call(ue,ue[Ue],Ue))!=null&&ot>rt&&(rt=ot)}return rt},i.extent=function(ue,Le){var Ue=-1,$e=ue.length,rt,ot,Pt;if(arguments.length===1){for(;++Ue<$e;)if((ot=ue[Ue])!=null&&ot>=ot){rt=Pt=ot;break}for(;++Ue<$e;)(ot=ue[Ue])!=null&&(rt>ot&&(rt=ot),Pt<ot&&(Pt=ot))}else{for(;++Ue<$e;)if((ot=Le.call(ue,ue[Ue],Ue))!=null&&ot>=ot){rt=Pt=ot;break}for(;++Ue<$e;)(ot=Le.call(ue,ue[Ue],Ue))!=null&&(rt>ot&&(rt=ot),Pt<ot&&(Pt=ot))}return[rt,Pt]};function m(ue){return ue===null?NaN:+ue}function c(ue){return!isNaN(ue)}i.sum=function(ue,Le){var Ue=0,$e=ue.length,rt,ot=-1;if(arguments.length===1)for(;++ot<$e;)c(rt=+ue[ot])&&(Ue+=rt);else for(;++ot<$e;)c(rt=+Le.call(ue,ue[ot],ot))&&(Ue+=rt);return Ue},i.mean=function(ue,Le){var Ue=0,$e=ue.length,rt,ot=-1,Pt=$e;if(arguments.length===1)for(;++ot<$e;)c(rt=m(ue[ot]))?Ue+=rt:--Pt;else for(;++ot<$e;)c(rt=m(Le.call(ue,ue[ot],ot)))?Ue+=rt:--Pt;if(Pt)return Ue/Pt},i.quantile=function(ue,Le){var Ue=(ue.length-1)*Le+1,$e=Math.floor(Ue),rt=+ue[$e-1],ot=Ue-$e;return ot?rt+ot*(ue[$e]-rt):rt},i.median=function(ue,Le){var Ue=[],$e=ue.length,rt,ot=-1;if(arguments.length===1)for(;++ot<$e;)c(rt=m(ue[ot]))&&Ue.push(rt);else for(;++ot<$e;)c(rt=m(Le.call(ue,ue[ot],ot)))&&Ue.push(rt);if(Ue.length)return i.quantile(Ue.sort(u),.5)},i.variance=function(ue,Le){var Ue=ue.length,$e=0,rt,ot,Pt=0,ft=-1,Ht=0;if(arguments.length===1)for(;++ft<Ue;)c(rt=m(ue[ft]))&&(ot=rt-$e,$e+=ot/++Ht,Pt+=ot*(rt-$e));else for(;++ft<Ue;)c(rt=m(Le.call(ue,ue[ft],ft)))&&(ot=rt-$e,$e+=ot/++Ht,Pt+=ot*(rt-$e));if(Ht>1)return Pt/(Ht-1)},i.deviation=function(){var ue=i.variance.apply(this,arguments);return ue&&Math.sqrt(ue)};function w(ue){return{left:function(Le,Ue,$e,rt){for(arguments.length<3&&($e=0),arguments.length<4&&(rt=Le.length);$e<rt;){var ot=$e+rt>>>1;ue(Le[ot],Ue)<0?$e=ot+1:rt=ot}return $e},right:function(Le,Ue,$e,rt){for(arguments.length<3&&($e=0),arguments.length<4&&(rt=Le.length);$e<rt;){var ot=$e+rt>>>1;ue(Le[ot],Ue)>0?rt=ot:$e=ot+1}return $e}}}var h=w(u);i.bisectLeft=h.left,i.bisect=i.bisectRight=h.right,i.bisector=function(ue){return w(ue.length===1?function(Le,Ue){return u(ue(Le),Ue)}:ue)},i.shuffle=function(ue,Le,Ue){($e=arguments.length)<3&&(Ue=ue.length,$e<2&&(Le=0));for(var $e=Ue-Le,rt,ot;$e;)ot=Math.random()*$e--|0,rt=ue[$e+Le],ue[$e+Le]=ue[ot+Le],ue[ot+Le]=rt;return ue},i.permute=function(ue,Le){for(var Ue=Le.length,$e=new Array(Ue);Ue--;)$e[Ue]=ue[Le[Ue]];return $e},i.pairs=function(ue){for(var Le=0,Ue=ue.length-1,$e=ue[0],rt=new Array(Ue<0?0:Ue);Le<Ue;)rt[Le]=[$e,$e=ue[++Le]];return rt},i.transpose=function(ue){if(!(ot=ue.length))return[];for(var Le=-1,Ue=i.min(ue,o),$e=new Array(Ue);++Le<Ue;)for(var rt=-1,ot,Pt=$e[Le]=new Array(ot);++rt<ot;)Pt[rt]=ue[rt][Le];return $e};function o(ue){return ue.length}i.zip=function(){return i.transpose(arguments)},i.keys=function(ue){var Le=[];for(var Ue in ue)Le.push(Ue);return Le},i.values=function(ue){var Le=[];for(var Ue in ue)Le.push(ue[Ue]);return Le},i.entries=function(ue){var Le=[];for(var Ue in ue)Le.push({key:Ue,value:ue[Ue]});return Le},i.merge=function(ue){for(var Le=ue.length,Ue,$e=-1,rt=0,ot,Pt;++$e<Le;)rt+=ue[$e].length;for(ot=new Array(rt);--Le>=0;)for(Pt=ue[Le],Ue=Pt.length;--Ue>=0;)ot[--rt]=Pt[Ue];return ot};var d=Math.abs;i.range=function(ue,Le,Ue){if(arguments.length<3&&(Ue=1,arguments.length<2&&(Le=ue,ue=0)),(Le-ue)/Ue===1/0)throw new Error("infinite range");var $e=[],rt=M(d(Ue)),ot=-1,Pt;if(ue*=rt,Le*=rt,Ue*=rt,Ue<0)for(;(Pt=ue+Ue*++ot)>Le;)$e.push(Pt/rt);else for(;(Pt=ue+Ue*++ot)<Le;)$e.push(Pt/rt);return $e};function M(ue){for(var Le=1;ue*Le%1;)Le*=10;return Le}function T(ue,Le){for(var Ue in Le)Object.defineProperty(ue.prototype,Ue,{value:Le[Ue],enumerable:!1})}i.map=function(ue,Le){var Ue=new E;if(ue instanceof E)ue.forEach(function(ft,Ht){Ue.set(ft,Ht)});else if(Array.isArray(ue)){var $e=-1,rt=ue.length,ot;if(arguments.length===1)for(;++$e<rt;)Ue.set($e,ue[$e]);else for(;++$e<rt;)Ue.set(Le.call(ue,ot=ue[$e],$e),ot)}else for(var Pt in ue)Ue.set(Pt,ue[Pt]);return Ue};function E(){this._=Object.create(null)}var x="__proto__",S="\0";T(E,{has:C,get:function(ue){return this._[b(ue)]},set:function(ue,Le){return this._[b(ue)]=Le},remove:y,keys:z,values:function(){var ue=[];for(var Le in this._)ue.push(this._[Le]);return ue},entries:function(){var ue=[];for(var Le in this._)ue.push({key:a(Le),value:this._[Le]});return ue},size:I,empty:B,forEach:function(ue){for(var Le in this._)ue.call(this,a(Le),this._[Le])}});function b(ue){return(ue+="")===x||ue[0]===S?S+ue:ue}function a(ue){return(ue+="")[0]===S?ue.slice(1):ue}function C(ue){return b(ue)in this._}function y(ue){return(ue=b(ue))in this._&&delete this._[ue]}function z(){var ue=[];for(var Le in this._)ue.push(a(Le));return ue}function I(){var ue=0;for(var Le in this._)++ue;return ue}function B(){for(var ue in this._)return!1;return!0}i.nest=function(){var ue={},Le=[],Ue=[],$e,rt;function ot(ft,Ht,er){if(er>=Le.length)return rt?rt.call(ue,Ht):$e?Ht.sort($e):Ht;for(var nr=-1,Pr=Ht.length,Cr=Le[er++],Xr,rn,Ir,Nr=new E,jr;++nr<Pr;)(jr=Nr.get(Xr=Cr(rn=Ht[nr])))?jr.push(rn):Nr.set(Xr,[rn]);return ft?(rn=ft(),Ir=function(an,hn){rn.set(an,ot(ft,hn,er))}):(rn={},Ir=function(an,hn){rn[an]=ot(ft,hn,er)}),Nr.forEach(Ir),rn}function Pt(ft,Ht){if(Ht>=Le.length)return ft;var er=[],nr=Ue[Ht++];return ft.forEach(function(Pr,Cr){er.push({key:Pr,values:Pt(Cr,Ht)})}),nr?er.sort(function(Pr,Cr){return nr(Pr.key,Cr.key)}):er}return ue.map=function(ft,Ht){return ot(Ht,ft,0)},ue.entries=function(ft){return Pt(ot(i.map,ft,0),0)},ue.key=function(ft){return Le.push(ft),ue},ue.sortKeys=function(ft){return Ue[Le.length-1]=ft,ue},ue.sortValues=function(ft){return $e=ft,ue},ue.rollup=function(ft){return rt=ft,ue},ue},i.set=function(ue){var Le=new F;if(ue)for(var Ue=0,$e=ue.length;Ue<$e;++Ue)Le.add(ue[Ue]);return Le};function F(){this._=Object.create(null)}T(F,{has:C,add:function(ue){return this._[b(ue+="")]=!0,ue},remove:y,values:z,size:I,empty:B,forEach:function(ue){for(var Le in this._)ue.call(this,a(Le))}}),i.behavior={};function O(ue){return ue}i.rebind=function(ue,Le){for(var Ue=1,$e=arguments.length,rt;++Ue<$e;)ue[rt=arguments[Ue]]=N(ue,Le,Le[rt]);return ue};function N(ue,Le,Ue){return function(){var $e=Ue.apply(Le,arguments);return $e===Le?ue:$e}}function _(ue,Le){if(Le in ue)return Le;Le=Le.charAt(0).toUpperCase()+Le.slice(1);for(var Ue=0,$e=U.length;Ue<$e;++Ue){var rt=U[Ue]+Le;if(rt in ue)return rt}}var U=["webkit","ms","moz","Moz","o","O"];function Y(){}i.dispatch=function(){for(var ue=new K,Le=-1,Ue=arguments.length;++Le<Ue;)ue[arguments[Le]]=re(ue);return ue};function K(){}K.prototype.on=function(ue,Le){var Ue=ue.indexOf("."),$e="";if(Ue>=0&&($e=ue.slice(Ue+1),ue=ue.slice(0,Ue)),ue)return arguments.length<2?this[ue].on($e):this[ue].on($e,Le);if(arguments.length===2){if(Le==null)for(ue in this)this.hasOwnProperty(ue)&&this[ue].on($e,null);return this}};function re(ue){var Le=[],Ue=new E;function $e(){for(var rt=Le,ot=-1,Pt=rt.length,ft;++ot<Pt;)(ft=rt[ot].on)&&ft.apply(this,arguments);return ue}return $e.on=function(rt,ot){var Pt=Ue.get(rt),ft;return arguments.length<2?Pt&&Pt.on:(Pt&&(Pt.on=null,Le=Le.slice(0,ft=Le.indexOf(Pt)).concat(Le.slice(ft+1)),Ue.remove(rt)),ot&&Le.push(Ue.set(rt,{on:ot})),ue)},$e}i.event=null;function ae(){i.event.preventDefault()}function fe(){for(var ue=i.event,Le;Le=ue.sourceEvent;)ue=Le;return ue}function Q(ue){for(var Le=new K,Ue=0,$e=arguments.length;++Ue<$e;)Le[arguments[Ue]]=re(Le);return Le.of=function(rt,ot){return function(Pt){try{var ft=Pt.sourceEvent=i.event;Pt.target=ue,i.event=Pt,Le[Pt.type].apply(rt,ot)}finally{i.event=ft}}},Le}i.requote=function(ue){return ue.replace(j,"\\$&")};var j=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,X={}.__proto__?function(ue,Le){ue.__proto__=Le}:function(ue,Le){for(var Ue in Le)ue[Ue]=Le[Ue]};function J(ue){return X(ue,$),ue}var ee=function(ue,Le){return Le.querySelector(ue)},se=function(ue,Le){return Le.querySelectorAll(ue)},q=function(ue,Le){var Ue=ue.matches||ue[_(ue,"matchesSelector")];return q=function($e,rt){return Ue.call($e,rt)},q(ue,Le)};typeof Sizzle=="function"&&(ee=function(ue,Le){return Sizzle(ue,Le)[0]||null},se=Sizzle,q=Sizzle.matchesSelector),i.selection=function(){return i.select(v.documentElement)};var $=i.selection.prototype=[];$.select=function(ue){var Le=[],Ue,$e,rt,ot;ue=le(ue);for(var Pt=-1,ft=this.length;++Pt<ft;){Le.push(Ue=[]),Ue.parentNode=(rt=this[Pt]).parentNode;for(var Ht=-1,er=rt.length;++Ht<er;)(ot=rt[Ht])?(Ue.push($e=ue.call(ot,ot.__data__,Ht,Pt)),$e&&"__data__"in ot&&($e.__data__=ot.__data__)):Ue.push(null)}return J(Le)};function le(ue){return typeof ue=="function"?ue:function(){return ee(ue,this)}}$.selectAll=function(ue){var Le=[],Ue,$e;ue=ie(ue);for(var rt=-1,ot=this.length;++rt<ot;)for(var Pt=this[rt],ft=-1,Ht=Pt.length;++ft<Ht;)($e=Pt[ft])&&(Le.push(Ue=A(ue.call($e,$e.__data__,ft,rt))),Ue.parentNode=$e);return J(Le)};function ie(ue){return typeof ue=="function"?ue:function(){return se(ue,this)}}var ce="http://www.w3.org/1999/xhtml",me={svg:"http://www.w3.org/2000/svg",xhtml:ce,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};i.ns={prefix:me,qualify:function(ue){var Le=ue.indexOf(":"),Ue=ue;return Le>=0&&(Ue=ue.slice(0,Le))!=="xmlns"&&(ue=ue.slice(Le+1)),me.hasOwnProperty(Ue)?{space:me[Ue],local:ue}:ue}},$.attr=function(ue,Le){if(arguments.length<2){if(typeof ue=="string"){var Ue=this.node();return ue=i.ns.qualify(ue),ue.local?Ue.getAttributeNS(ue.space,ue.local):Ue.getAttribute(ue)}for(Le in ue)this.each(Me(Le,ue[Le]));return this}return this.each(Me(ue,Le))};function Me(ue,Le){ue=i.ns.qualify(ue);function Ue(){this.removeAttribute(ue)}function $e(){this.removeAttributeNS(ue.space,ue.local)}function rt(){this.setAttribute(ue,Le)}function ot(){this.setAttributeNS(ue.space,ue.local,Le)}function Pt(){var Ht=Le.apply(this,arguments);Ht==null?this.removeAttribute(ue):this.setAttribute(ue,Ht)}function ft(){var Ht=Le.apply(this,arguments);Ht==null?this.removeAttributeNS(ue.space,ue.local):this.setAttributeNS(ue.space,ue.local,Ht)}return Le==null?ue.local?$e:Ue:typeof Le=="function"?ue.local?ft:Pt:ue.local?ot:rt}function we(ue){return ue.trim().replace(/\s+/g," ")}$.classed=function(ue,Le){if(arguments.length<2){if(typeof ue=="string"){var Ue=this.node(),$e=(ue=Be(ue)).length,rt=-1;if(Le=Ue.classList){for(;++rt<$e;)if(!Le.contains(ue[rt]))return!1}else for(Le=Ue.getAttribute("class");++rt<$e;)if(!Oe(ue[rt]).test(Le))return!1;return!0}for(Le in ue)this.each(Ce(Le,ue[Le]));return this}return this.each(Ce(ue,Le))};function Oe(ue){return new RegExp("(?:^|\\s+)"+i.requote(ue)+"(?:\\s+|$)","g")}function Be(ue){return(ue+"").trim().split(/^|\s+/)}function Ce(ue,Le){ue=Be(ue).map(xe);var Ue=ue.length;function $e(){for(var ot=-1;++ot<Ue;)ue[ot](this,Le)}function rt(){for(var ot=-1,Pt=Le.apply(this,arguments);++ot<Ue;)ue[ot](this,Pt)}return typeof Le=="function"?rt:$e}function xe(ue){var Le=Oe(ue);return function(Ue,$e){if(rt=Ue.classList)return $e?rt.add(ue):rt.remove(ue);var rt=Ue.getAttribute("class")||"";$e?(Le.lastIndex=0,Le.test(rt)||Ue.setAttribute("class",we(rt+" "+ue))):Ue.setAttribute("class",we(rt.replace(Le," ")))}}$.style=function(ue,Le,Ue){var $e=arguments.length;if($e<3){if(typeof ue!="string"){$e<2&&(Le="");for(Ue in ue)this.each(Se(Ue,ue[Ue],Le));return this}if($e<2){var rt=this.node();return t(rt).getComputedStyle(rt,null).getPropertyValue(ue)}Ue=""}return this.each(Se(ue,Le,Ue))};function Se(ue,Le,Ue){function $e(){this.style.removeProperty(ue)}function rt(){this.style.setProperty(ue,Le,Ue)}function ot(){var Pt=Le.apply(this,arguments);Pt==null?this.style.removeProperty(ue):this.style.setProperty(ue,Pt,Ue)}return Le==null?$e:typeof Le=="function"?ot:rt}$.property=function(ue,Le){if(arguments.length<2){if(typeof ue=="string")return this.node()[ue];for(Le in ue)this.each(He(Le,ue[Le]));return this}return this.each(He(ue,Le))};function He(ue,Le){function Ue(){delete this[ue]}function $e(){this[ue]=Le}function rt(){var ot=Le.apply(this,arguments);ot==null?delete this[ue]:this[ue]=ot}return Le==null?Ue:typeof Le=="function"?rt:$e}$.text=function(ue){return arguments.length?this.each(typeof ue=="function"?function(){var Le=ue.apply(this,arguments);this.textContent=Le??""}:ue==null?function(){this.textContent=""}:function(){this.textContent=ue}):this.node().textContent},$.html=function(ue){return arguments.length?this.each(typeof ue=="function"?function(){var Le=ue.apply(this,arguments);this.innerHTML=Le??""}:ue==null?function(){this.innerHTML=""}:function(){this.innerHTML=ue}):this.node().innerHTML},$.append=function(ue){return ue=Ge(ue),this.select(function(){return this.appendChild(ue.apply(this,arguments))})};function Ge(ue){function Le(){var $e=this.ownerDocument,rt=this.namespaceURI;return rt===ce&&$e.documentElement.namespaceURI===ce?$e.createElement(ue):$e.createElementNS(rt,ue)}function Ue(){return this.ownerDocument.createElementNS(ue.space,ue.local)}return typeof ue=="function"?ue:(ue=i.ns.qualify(ue)).local?Ue:Le}$.insert=function(ue,Le){return ue=Ge(ue),Le=le(Le),this.select(function(){return this.insertBefore(ue.apply(this,arguments),Le.apply(this,arguments)||null)})},$.remove=function(){return this.each(ke)};function ke(){var ue=this.parentNode;ue&&ue.removeChild(this)}$.data=function(ue,Le){var Ue=-1,$e=this.length,rt,ot;if(!arguments.length){for(ue=new Array($e=(rt=this[0]).length);++Ue<$e;)(ot=rt[Ue])&&(ue[Ue]=ot.__data__);return ue}function Pt(nr,Pr){var Cr,Xr=nr.length,rn=Pr.length,Ir=Math.min(Xr,rn),Nr=new Array(rn),jr=new Array(rn),an=new Array(Xr),hn,Zr;if(Le){var Un=new E,Yn=new Array(Xr),qn;for(Cr=-1;++Cr<Xr;)(hn=nr[Cr])&&(Un.has(qn=Le.call(hn,hn.__data__,Cr))?an[Cr]=hn:Un.set(qn,hn),Yn[Cr]=qn);for(Cr=-1;++Cr<rn;)(hn=Un.get(qn=Le.call(Pr,Zr=Pr[Cr],Cr)))?hn!==!0&&(Nr[Cr]=hn,hn.__data__=Zr):jr[Cr]=We(Zr),Un.set(qn,!0);for(Cr=-1;++Cr<Xr;)Cr in Yn&&Un.get(Yn[Cr])!==!0&&(an[Cr]=nr[Cr])}else{for(Cr=-1;++Cr<Ir;)hn=nr[Cr],Zr=Pr[Cr],hn?(hn.__data__=Zr,Nr[Cr]=hn):jr[Cr]=We(Zr);for(;Cr<rn;++Cr)jr[Cr]=We(Pr[Cr]);for(;Cr<Xr;++Cr)an[Cr]=nr[Cr]}jr.update=Nr,jr.parentNode=Nr.parentNode=an.parentNode=nr.parentNode,ft.push(jr),Ht.push(Nr),er.push(an)}var ft=at([]),Ht=J([]),er=J([]);if(typeof ue=="function")for(;++Ue<$e;)Pt(rt=this[Ue],ue.call(rt,rt.parentNode.__data__,Ue));else for(;++Ue<$e;)Pt(rt=this[Ue],ue);return Ht.enter=function(){return ft},Ht.exit=function(){return er},Ht};function We(ue){return{__data__:ue}}$.datum=function(ue){return arguments.length?this.property("__data__",ue):this.property("__data__")},$.filter=function(ue){var Le=[],Ue,$e,rt;typeof ue!="function"&&(ue=it(ue));for(var ot=0,Pt=this.length;ot<Pt;ot++){Le.push(Ue=[]),Ue.parentNode=($e=this[ot]).parentNode;for(var ft=0,Ht=$e.length;ft<Ht;ft++)(rt=$e[ft])&&ue.call(rt,rt.__data__,ft,ot)&&Ue.push(rt)}return J(Le)};function it(ue){return function(){return q(this,ue)}}$.order=function(){for(var ue=-1,Le=this.length;++ue<Le;)for(var Ue=this[ue],$e=Ue.length-1,rt=Ue[$e],ot;--$e>=0;)(ot=Ue[$e])&&(rt&&rt!==ot.nextSibling&&rt.parentNode.insertBefore(ot,rt),rt=ot);return this},$.sort=function(ue){ue=et.apply(this,arguments);for(var Le=-1,Ue=this.length;++Le<Ue;)this[Le].sort(ue);return this.order()};function et(ue){return arguments.length||(ue=u),function(Le,Ue){return Le&&Ue?ue(Le.__data__,Ue.__data__):!Le-!Ue}}$.each=function(ue){return tt(this,function(Le,Ue,$e){ue.call(Le,Le.__data__,Ue,$e)})};function tt(ue,Le){for(var Ue=0,$e=ue.length;Ue<$e;Ue++)for(var rt=ue[Ue],ot=0,Pt=rt.length,ft;ot<Pt;ot++)(ft=rt[ot])&&Le(ft,ot,Ue);return ue}$.call=function(ue){var Le=A(arguments);return ue.apply(Le[0]=this,Le),this},$.empty=function(){return!this.node()},$.node=function(){for(var ue=0,Le=this.length;ue<Le;ue++)for(var Ue=this[ue],$e=0,rt=Ue.length;$e<rt;$e++){var ot=Ue[$e];if(ot)return ot}return null},$.size=function(){var ue=0;return tt(this,function(){++ue}),ue};function at(ue){return X(ue,ht),ue}var ht=[];i.selection.enter=at,i.selection.enter.prototype=ht,ht.append=$.append,ht.empty=$.empty,ht.node=$.node,ht.call=$.call,ht.size=$.size,ht.select=function(ue){for(var Le=[],Ue,$e,rt,ot,Pt,ft=-1,Ht=this.length;++ft<Ht;){rt=(ot=this[ft]).update,Le.push(Ue=[]),Ue.parentNode=ot.parentNode;for(var er=-1,nr=ot.length;++er<nr;)(Pt=ot[er])?(Ue.push(rt[er]=$e=ue.call(ot.parentNode,Pt.__data__,er,ft)),$e.__data__=Pt.__data__):Ue.push(null)}return J(Le)},ht.insert=function(ue,Le){return arguments.length<2&&(Le=yt(this)),$.insert.call(this,ue,Le)};function yt(ue){var Le,Ue;return function($e,rt,ot){var Pt=ue[ot].update,ft=Pt.length,Ht;for(ot!=Ue&&(Ue=ot,Le=0),rt>=Le&&(Le=rt+1);!(Ht=Pt[Le])&&++Le<ft;);return Ht}}i.select=function(ue){var Le;return typeof ue=="string"?(Le=[ee(ue,v)],Le.parentNode=v.documentElement):(Le=[ue],Le.parentNode=p(ue)),J([Le])},i.selectAll=function(ue){var Le;return typeof ue=="string"?(Le=A(se(ue,v)),Le.parentNode=v.documentElement):(Le=A(ue),Le.parentNode=null),J([Le])},$.on=function(ue,Le,Ue){var $e=arguments.length;if($e<3){if(typeof ue!="string"){$e<2&&(Le=!1);for(Ue in ue)this.each(gt(Ue,ue[Ue],Le));return this}if($e<2)return($e=this.node()["__on"+ue])&&$e._;Ue=!1}return this.each(gt(ue,Le,Ue))};function gt(ue,Le,Ue){var $e="__on"+ue,rt=ue.indexOf("."),ot=Ct;rt>0&&(ue=ue.slice(0,rt));var Pt=Et.get(ue);Pt&&(ue=Pt,ot=Vt);function ft(){var nr=this[$e];nr&&(this.removeEventListener(ue,nr,nr.$),delete this[$e])}function Ht(){var nr=ot(Le,A(arguments));ft.call(this),this.addEventListener(ue,this[$e]=nr,nr.$=Ue),nr._=Le}function er(){var nr=new RegExp("^__on([^.]+)"+i.requote(ue)+"$"),Pr;for(var Cr in this)if(Pr=Cr.match(nr)){var Xr=this[Cr];this.removeEventListener(Pr[1],Xr,Xr.$),delete this[Cr]}}return rt?Le?Ht:ft:Le?Y:er}var Et=i.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&Et.forEach(function(ue){"on"+ue in v&&Et.remove(ue)});function Ct(ue,Le){return function(Ue){var $e=i.event;i.event=Ue,Le[0]=this.__data__;try{ue.apply(this,Le)}finally{i.event=$e}}}function Vt(ue,Le){var Ue=Ct(ue,Le);return function($e){var rt=this,ot=$e.relatedTarget;(!ot||ot!==rt&&!(ot.compareDocumentPosition(rt)&8))&&Ue.call(rt,$e)}}var Qe,Fe=0;function Ie(ue){var Le=".dragsuppress-"+ ++Fe,Ue="click"+Le,$e=i.select(t(ue)).on("touchmove"+Le,ae).on("dragstart"+Le,ae).on("selectstart"+Le,ae);if(Qe==null&&(Qe="onselectstart"in ue?!1:_(ue.style,"userSelect")),Qe){var rt=p(ue).style,ot=rt[Qe];rt[Qe]="none"}return function(Pt){if($e.on(Le,null),Qe&&(rt[Qe]=ot),Pt){var ft=function(){$e.on(Ue,null)};$e.on(Ue,function(){ae(),ft()},!0),setTimeout(ft,0)}}}i.mouse=function(ue){return Re(ue,fe())};var ze=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Re(ue,Le){Le.changedTouches&&(Le=Le.changedTouches[0]);var Ue=ue.ownerSVGElement||ue;if(Ue.createSVGPoint){var $e=Ue.createSVGPoint();if(ze<0){var rt=t(ue);if(rt.scrollX||rt.scrollY){Ue=i.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ot=Ue[0][0].getScreenCTM();ze=!(ot.f||ot.e),Ue.remove()}}return ze?($e.x=Le.pageX,$e.y=Le.pageY):($e.x=Le.clientX,$e.y=Le.clientY),$e=$e.matrixTransform(ue.getScreenCTM().inverse()),[$e.x,$e.y]}var Pt=ue.getBoundingClientRect();return[Le.clientX-Pt.left-ue.clientLeft,Le.clientY-Pt.top-ue.clientTop]}i.touch=function(ue,Le,Ue){if(arguments.length<3&&(Ue=Le,Le=fe().changedTouches),Le){for(var $e=0,rt=Le.length,ot;$e<rt;++$e)if((ot=Le[$e]).identifier===Ue)return Re(ue,ot)}},i.behavior.drag=function(){var ue=Q(rt,"drag","dragstart","dragend"),Le=null,Ue=ot(Y,i.mouse,t,"mousemove","mouseup"),$e=ot(be,i.touch,O,"touchmove","touchend");function rt(){this.on("mousedown.drag",Ue).on("touchstart.drag",$e)}function ot(Pt,ft,Ht,er,nr){return function(){var Pr=this,Cr=i.event.target.correspondingElement||i.event.target,Xr=Pr.parentNode,rn=ue.of(Pr,arguments),Ir=0,Nr=Pt(),jr=".drag"+(Nr==null?"":"-"+Nr),an,hn=i.select(Ht(Cr)).on(er+jr,Yn).on(nr+jr,qn),Zr=Ie(Cr),Un=ft(Xr,Nr);Le?(an=Le.apply(Pr,arguments),an=[an.x-Un[0],an.y-Un[1]]):an=[0,0],rn({type:"dragstart"});function Yn(){var oa=ft(Xr,Nr),wa,ba;oa&&(wa=oa[0]-Un[0],ba=oa[1]-Un[1],Ir|=wa|ba,Un=oa,rn({type:"drag",x:oa[0]+an[0],y:oa[1]+an[1],dx:wa,dy:ba}))}function qn(){ft(Xr,Nr)&&(hn.on(er+jr,null).on(nr+jr,null),Zr(Ir),rn({type:"dragend"}))}}}return rt.origin=function(Pt){return arguments.length?(Le=Pt,rt):Le},i.rebind(rt,ue,"on")};function be(){return i.event.changedTouches[0].identifier}i.touches=function(ue,Le){return arguments.length<2&&(Le=fe().touches),Le?A(Le).map(function(Ue){var $e=Re(ue,Ue);return $e.identifier=Ue.identifier,$e}):[]};var ye=1e-6,Ae=ye*ye,Ee=Math.PI,Ne=2*Ee,Je=Ne-ye,qe=Ee/2,vt=Ee/180,bt=180/Ee;function Wt(ue,Le,Ue){return(Le[0]-ue[0])*(Ue[1]-ue[1])-(Le[1]-ue[1])*(Ue[0]-ue[0])}function qt(ue){return ue>1?qe:ue<-1?-qe:Math.asin(ue)}function At(ue){return((ue=Math.exp(ue))-1/ue)/2}function zt(ue){return((ue=Math.exp(ue))+1/ue)/2}function Jt(ue){return((ue=Math.exp(2*ue))-1)/(ue+1)}var Mr=Math.SQRT2,pt=2,Zt=4;i.interpolateZoom=function(ue,Le){var Ue=ue[0],$e=ue[1],rt=ue[2],ot=Le[0],Pt=Le[1],ft=Le[2],Ht=ot-Ue,er=Pt-$e,nr=Ht*Ht+er*er,Pr,Cr;if(nr<Ae)Cr=Math.log(ft/rt)/Mr,Pr=function(an){return[Ue+an*Ht,$e+an*er,rt*Math.exp(Mr*an*Cr)]};else{var Xr=Math.sqrt(nr),rn=(ft*ft-rt*rt+Zt*nr)/(2*rt*pt*Xr),Ir=(ft*ft-rt*rt-Zt*nr)/(2*ft*pt*Xr),Nr=Math.log(Math.sqrt(rn*rn+1)-rn),jr=Math.log(Math.sqrt(Ir*Ir+1)-Ir);Cr=(jr-Nr)/Mr,Pr=function(an){var hn=an*Cr,Zr=zt(Nr),Un=rt/(pt*Xr)*(Zr*Jt(Mr*hn+Nr)-At(Nr));return[Ue+Un*Ht,$e+Un*er,rt*Zr/zt(Mr*hn+Nr)]}}return Pr.duration=Cr*1e3,Pr},i.behavior.zoom=function(){var ue={x:0,y:0,k:1},Le,Ue,$e,rt=[960,500],ot=Kt,Pt=250,ft=0,Ht="mousedown.zoom",er="mousemove.zoom",nr="mouseup.zoom",Pr,Cr="touchstart.zoom",Xr,rn=Q(hn,"zoomstart","zoom","zoomend"),Ir,Nr,jr,an;ur||(ur="onwheel"in v?(mr=function(){return-i.event.deltaY*(i.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(mr=function(){return i.event.wheelDelta},"mousewheel"):(mr=function(){return-i.event.detail},"MozMousePixelScroll"));function hn(Vn){Vn.on(Ht,Oa).on(ur+".zoom",ti).on("dblclick.zoom",fi).on(Cr,Qa)}hn.event=function(Vn){Vn.each(function(){var Na=rn.of(this,arguments),_a=ue;Rr?i.select(this).transition().each("start.zoom",function(){ue=this.__chart__||{x:0,y:0,k:1},ba(Na)}).tween("zoom:zoom",function(){var ja=rt[0],Si=rt[1],zi=Ue?Ue[0]:ja/2,Ui=Ue?Ue[1]:Si/2,bi=i.interpolateZoom([(zi-ue.x)/ue.k,(Ui-ue.y)/ue.k,ja/ue.k],[(zi-_a.x)/_a.k,(Ui-_a.y)/_a.k,ja/_a.k]);return function(hi){var ya=bi(hi),Sa=ja/ya[2];this.__chart__=ue={x:zi-ya[0]*Sa,y:Ui-ya[1]*Sa,k:Sa},Ua(Na)}}).each("interrupt.zoom",function(){Ca(Na)}).each("end.zoom",function(){Ca(Na)}):(this.__chart__=ue,ba(Na),Ua(Na),Ca(Na))})},hn.translate=function(Vn){return arguments.length?(ue={x:+Vn[0],y:+Vn[1],k:ue.k},wa(),hn):[ue.x,ue.y]},hn.scale=function(Vn){return arguments.length?(ue={x:ue.x,y:ue.y,k:null},Yn(+Vn),wa(),hn):ue.k},hn.scaleExtent=function(Vn){return arguments.length?(ot=Vn==null?Kt:[+Vn[0],+Vn[1]],hn):ot},hn.center=function(Vn){return arguments.length?($e=Vn&&[+Vn[0],+Vn[1]],hn):$e},hn.size=function(Vn){return arguments.length?(rt=Vn&&[+Vn[0],+Vn[1]],hn):rt},hn.duration=function(Vn){return arguments.length?(Pt=+Vn,hn):Pt},hn.x=function(Vn){return arguments.length?(Nr=Vn,Ir=Vn.copy(),ue={x:0,y:0,k:1},hn):Nr},hn.y=function(Vn){return arguments.length?(an=Vn,jr=Vn.copy(),ue={x:0,y:0,k:1},hn):an};function Zr(Vn){return[(Vn[0]-ue.x)/ue.k,(Vn[1]-ue.y)/ue.k]}function Un(Vn){return[Vn[0]*ue.k+ue.x,Vn[1]*ue.k+ue.y]}function Yn(Vn){ue.k=Math.max(ot[0],Math.min(ot[1],Vn))}function qn(Vn,Na){Na=Un(Na),ue.x+=Vn[0]-Na[0],ue.y+=Vn[1]-Na[1]}function oa(Vn,Na,_a,ja){Vn.__chart__={x:ue.x,y:ue.y,k:ue.k},Yn(Math.pow(2,ja)),qn(Ue=Na,_a),Vn=i.select(Vn),Pt>0&&(Vn=Vn.transition().duration(Pt)),Vn.call(hn.event)}function wa(){Nr&&Nr.domain(Ir.range().map(function(Vn){return(Vn-ue.x)/ue.k}).map(Ir.invert)),an&&an.domain(jr.range().map(function(Vn){return(Vn-ue.y)/ue.k}).map(jr.invert))}function ba(Vn){ft++||Vn({type:"zoomstart"})}function Ua(Vn){wa(),Vn({type:"zoom",scale:ue.k,translate:[ue.x,ue.y]})}function Ca(Vn){--ft||(Vn({type:"zoomend"}),Ue=null)}function Oa(){var Vn=this,Na=rn.of(Vn,arguments),_a=0,ja=i.select(t(Vn)).on(er,Ui).on(nr,bi),Si=Zr(i.mouse(Vn)),zi=Ie(Vn);Ot.call(Vn),ba(Na);function Ui(){_a=1,qn(i.mouse(Vn),Si),Ua(Na)}function bi(){ja.on(er,null).on(nr,null),zi(_a),Ca(Na)}}function Qa(){var Vn=this,Na=rn.of(Vn,arguments),_a={},ja=0,Si,zi=".zoom-"+i.event.changedTouches[0].identifier,Ui="touchmove"+zi,bi="touchend"+zi,hi=[],ya=i.select(Vn),Sa=Ie(Vn);Bi(),ba(Na),ya.on(Ht,null).on(Cr,Bi);function wi(){var xo=i.touches(Vn);return Si=ue.k,xo.forEach(function(Ci){Ci.identifier in _a&&(_a[Ci.identifier]=Zr(Ci))}),xo}function Bi(){var xo=i.event.target;i.select(xo).on(Ui,_o).on(bi,$i),hi.push(xo);for(var Ci=i.event.changedTouches,Ho=0,yi=Ci.length;Ho<yi;++Ho)_a[Ci[Ho].identifier]=null;var ps=wi(),Vo=Date.now();if(ps.length===1){if(Vo-Xr<500){var Za=ps[0];oa(Vn,Za,_a[Za.identifier],Math.floor(Math.log(ue.k)/Math.LN2)+1),ae()}Xr=Vo}else if(ps.length>1){var Za=ps[0],Ti=ps[1],gc=Za[0]-Ti[0],Df=Za[1]-Ti[1];ja=gc*gc+Df*Df}}function _o(){var xo=i.touches(Vn),Ci,Ho,yi,ps;Ot.call(Vn);for(var Vo=0,Za=xo.length;Vo<Za;++Vo,ps=null)if(yi=xo[Vo],ps=_a[yi.identifier]){if(Ho)break;Ci=yi,Ho=ps}if(ps){var Ti=(Ti=yi[0]-Ci[0])*Ti+(Ti=yi[1]-Ci[1])*Ti,gc=ja&&Math.sqrt(Ti/ja);Ci=[(Ci[0]+yi[0])/2,(Ci[1]+yi[1])/2],Ho=[(Ho[0]+ps[0])/2,(Ho[1]+ps[1])/2],Yn(gc*Si)}Xr=null,qn(Ci,Ho),Ua(Na)}function $i(){if(i.event.touches.length){for(var xo=i.event.changedTouches,Ci=0,Ho=xo.length;Ci<Ho;++Ci)delete _a[xo[Ci].identifier];for(var yi in _a)return void wi()}i.selectAll(hi).on(zi,null),ya.on(Ht,Oa).on(Cr,Qa),Sa(),Ca(Na)}}function ti(){var Vn=rn.of(this,arguments);Pr?clearTimeout(Pr):(Ot.call(this),Le=Zr(Ue=$e||i.mouse(this)),ba(Vn)),Pr=setTimeout(function(){Pr=null,Ca(Vn)},50),ae(),Yn(Math.pow(2,mr()*.002)*ue.k),qn(Ue,Le),Ua(Vn)}function fi(){var Vn=i.mouse(this),Na=Math.log(ue.k)/Math.LN2;oa(this,Vn,Zr(Vn),i.event.shiftKey?Math.ceil(Na)-1:Math.floor(Na)+1)}return i.rebind(hn,rn,"on")};var Kt=[0,1/0],mr,ur;i.color=dt;function dt(){}dt.prototype.toString=function(){return this.rgb()+""},i.hsl=st;function st(ue,Le,Ue){return this instanceof st?(this.h=+ue,this.s=+Le,void(this.l=+Ue)):arguments.length<2?ue instanceof st?new st(ue.h,ue.s,ue.l):pr(""+ue,vr,st):new st(ue,Le,Ue)}var xt=st.prototype=new dt;xt.brighter=function(ue){return ue=Math.pow(.7,arguments.length?ue:1),new st(this.h,this.s,this.l/ue)},xt.darker=function(ue){return ue=Math.pow(.7,arguments.length?ue:1),new st(this.h,this.s,ue*this.l)},xt.rgb=function(){return Mt(this.h,this.s,this.l)};function Mt(ue,Le,Ue){var $e,rt;ue=isNaN(ue)?0:(ue%=360)<0?ue+360:ue,Le=isNaN(Le)||Le<0?0:Le>1?1:Le,Ue=Ue<0?0:Ue>1?1:Ue,rt=Ue<=.5?Ue*(1+Le):Ue+Le-Ue*Le,$e=2*Ue-rt;function ot(ft){return ft>360?ft-=360:ft<0&&(ft+=360),ft<60?$e+(rt-$e)*ft/60:ft<180?rt:ft<240?$e+(rt-$e)*(240-ft)/60:$e}function Pt(ft){return Math.round(ot(ft)*255)}return new or(Pt(ue+120),Pt(ue),Pt(ue-120))}i.hcl=Dt;function Dt(ue,Le,Ue){return this instanceof Dt?(this.h=+ue,this.c=+Le,void(this.l=+Ue)):arguments.length<2?ue instanceof Dt?new Dt(ue.h,ue.c,ue.l):ue instanceof Bt?It(ue.l,ue.a,ue.b):It((ue=Hr((ue=i.rgb(ue)).r,ue.g,ue.b)).l,ue.a,ue.b):new Dt(ue,Le,Ue)}var Rt=Dt.prototype=new dt;Rt.brighter=function(ue){return new Dt(this.h,this.c,Math.min(100,this.l+Xt*(arguments.length?ue:1)))},Rt.darker=function(ue){return new Dt(this.h,this.c,Math.max(0,this.l-Xt*(arguments.length?ue:1)))},Rt.rgb=function(){return Nt(this.h,this.c,this.l).rgb()};function Nt(ue,Le,Ue){return isNaN(ue)&&(ue=0),isNaN(Le)&&(Le=0),new Bt(Ue,Math.cos(ue*=vt)*Le,Math.sin(ue)*Le)}i.lab=Bt;function Bt(ue,Le,Ue){return this instanceof Bt?(this.l=+ue,this.a=+Le,void(this.b=+Ue)):arguments.length<2?ue instanceof Bt?new Bt(ue.l,ue.a,ue.b):ue instanceof Dt?Nt(ue.h,ue.c,ue.l):Hr((ue=or(ue)).r,ue.g,ue.b):new Bt(ue,Le,Ue)}var Xt=18,lr=.95047,sr=1,dr=1.08883,je=Bt.prototype=new dt;je.brighter=function(ue){return new Bt(Math.min(100,this.l+Xt*(arguments.length?ue:1)),this.a,this.b)},je.darker=function(ue){return new Bt(Math.max(0,this.l-Xt*(arguments.length?ue:1)),this.a,this.b)},je.rgb=function(){return Ye(this.l,this.a,this.b)};function Ye(ue,Le,Ue){var $e=(ue+16)/116,rt=$e+Le/500,ot=$e-Ue/200;return rt=kt(rt)*lr,$e=kt($e)*sr,ot=kt(ot)*dr,new or(tr(3.2404542*rt-1.5371385*$e-.4985314*ot),tr(-.969266*rt+1.8760108*$e+.041556*ot),tr(.0556434*rt-.2040259*$e+1.0572252*ot))}function It(ue,Le,Ue){return ue>0?new Dt(Math.atan2(Ue,Le)*bt,Math.sqrt(Le*Le+Ue*Ue),ue):new Dt(NaN,NaN,ue)}function kt(ue){return ue>.206893034?ue*ue*ue:(ue-.13793103448275862)/7.787037}function Yt(ue){return ue>.008856?Math.pow(ue,.3333333333333333):7.787037*ue+.13793103448275862}function tr(ue){return Math.round(255*(ue<=.00304?12.92*ue:1.055*Math.pow(ue,.4166666666666667)-.055))}i.rgb=or;function or(ue,Le,Ue){return this instanceof or?(this.r=~~ue,this.g=~~Le,void(this.b=~~Ue)):arguments.length<2?ue instanceof or?new or(ue.r,ue.g,ue.b):pr(""+ue,or,Mt):new or(ue,Le,Ue)}function rr(ue){return new or(ue>>16,ue>>8&255,ue&255)}function _t(ue){return rr(ue)+""}var hr=or.prototype=new dt;hr.brighter=function(ue){ue=Math.pow(.7,arguments.length?ue:1);var Le=this.r,Ue=this.g,$e=this.b,rt=30;return!Le&&!Ue&&!$e?new or(rt,rt,rt):(Le&&Le<rt&&(Le=rt),Ue&&Ue<rt&&(Ue=rt),$e&&$e<rt&&($e=rt),new or(Math.min(255,Le/ue),Math.min(255,Ue/ue),Math.min(255,$e/ue)))},hr.darker=function(ue){return ue=Math.pow(.7,arguments.length?ue:1),new or(ue*this.r,ue*this.g,ue*this.b)},hr.hsl=function(){return vr(this.r,this.g,this.b)},hr.toString=function(){return"#"+gr(this.r)+gr(this.g)+gr(this.b)};function gr(ue){return ue<16?"0"+Math.max(0,ue).toString(16):Math.min(255,ue).toString(16)}function pr(ue,Le,Ue){var $e=0,rt=0,ot=0,Pt,ft,Ht;if(Pt=/([a-z]+)\((.*)\)/.exec(ue=ue.toLowerCase()),Pt)switch(ft=Pt[2].split(","),Pt[1]){case"hsl":return Ue(parseFloat(ft[0]),parseFloat(ft[1])/100,parseFloat(ft[2])/100);case"rgb":return Le(Fr(ft[0]),Fr(ft[1]),Fr(ft[2]))}return(Ht=pn.get(ue))?Le(Ht.r,Ht.g,Ht.b):(ue!=null&&ue.charAt(0)==="#"&&!isNaN(Ht=parseInt(ue.slice(1),16))&&(ue.length===4?($e=(Ht&3840)>>4,$e=$e>>4|$e,rt=Ht&240,rt=rt>>4|rt,ot=Ht&15,ot=ot<<4|ot):ue.length===7&&($e=(Ht&16711680)>>16,rt=(Ht&65280)>>8,ot=Ht&255)),Le($e,rt,ot))}function vr(ue,Le,Ue){var $e=Math.min(ue/=255,Le/=255,Ue/=255),rt=Math.max(ue,Le,Ue),ot=rt-$e,Pt,ft,Ht=(rt+$e)/2;return ot?(ft=Ht<.5?ot/(rt+$e):ot/(2-rt-$e),ue==rt?Pt=(Le-Ue)/ot+(Le<Ue?6:0):Le==rt?Pt=(Ue-ue)/ot+2:Pt=(ue-Le)/ot+4,Pt*=60):(Pt=NaN,ft=Ht>0&&Ht<1?0:Pt),new st(Pt,ft,Ht)}function Hr(ue,Le,Ue){ue=kr(ue),Le=kr(Le),Ue=kr(Ue);var $e=Yt((.4124564*ue+.3575761*Le+.1804375*Ue)/lr),rt=Yt((.2126729*ue+.7151522*Le+.072175*Ue)/sr),ot=Yt((.0193339*ue+.119192*Le+.9503041*Ue)/dr);return Bt(116*rt-16,500*($e-rt),200*(rt-ot))}function kr(ue){return(ue/=255)<=.04045?ue/12.92:Math.pow((ue+.055)/1.055,2.4)}function Fr(ue){var Le=parseFloat(ue);return ue.charAt(ue.length-1)==="%"?Math.round(Le*2.55):Le}var pn=i.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});pn.forEach(function(ue,Le){pn.set(ue,rr(Le))});function qr(ue){return typeof ue=="function"?ue:function(){return ue}}i.functor=qr,i.xhr=On(O);function On(ue){return function(Le,Ue,$e){return arguments.length===2&&typeof Ue=="function"&&($e=Ue,Ue=null),Tn(Le,Ue,ue,$e)}}function Tn(ue,Le,Ue,$e){var rt={},ot=i.dispatch("beforesend","progress","load","error"),Pt={},ft=new XMLHttpRequest,Ht=null;self.XDomainRequest&&!("withCredentials"in ft)&&/^(http(s)?:)?\/\//.test(ue)&&(ft=new XDomainRequest),"onload"in ft?ft.onload=ft.onerror=er:ft.onreadystatechange=function(){ft.readyState>3&&er()};function er(){var nr=ft.status,Pr;if(!nr&&Er(ft)||nr>=200&&nr<300||nr===304){try{Pr=Ue.call(rt,ft)}catch(Cr){ot.error.call(rt,Cr);return}ot.load.call(rt,Pr)}else ot.error.call(rt,ft)}return ft.onprogress=function(nr){var Pr=i.event;i.event=nr;try{ot.progress.call(rt,ft)}finally{i.event=Pr}},rt.header=function(nr,Pr){return nr=(nr+"").toLowerCase(),arguments.length<2?Pt[nr]:(Pr==null?delete Pt[nr]:Pt[nr]=Pr+"",rt)},rt.mimeType=function(nr){return arguments.length?(Le=nr==null?null:nr+"",rt):Le},rt.responseType=function(nr){return arguments.length?(Ht=nr,rt):Ht},rt.response=function(nr){return Ue=nr,rt},["get","post"].forEach(function(nr){rt[nr]=function(){return rt.send.apply(rt,[nr].concat(A(arguments)))}}),rt.send=function(nr,Pr,Cr){if(arguments.length===2&&typeof Pr=="function"&&(Cr=Pr,Pr=null),ft.open(nr,ue,!0),Le!=null&&!("accept"in Pt)&&(Pt.accept=Le+",*/*"),ft.setRequestHeader)for(var Xr in Pt)ft.setRequestHeader(Xr,Pt[Xr]);return Le!=null&&ft.overrideMimeType&&ft.overrideMimeType(Le),Ht!=null&&(ft.responseType=Ht),Cr!=null&&rt.on("error",Cr).on("load",function(rn){Cr(null,rn)}),ot.beforesend.call(rt,ft),ft.send(Pr??null),rt},rt.abort=function(){return ft.abort(),rt},i.rebind(rt,ot,"on"),$e==null?rt:rt.get(Sr($e))}function Sr(ue){return ue.length===1?function(Le,Ue){ue(Le==null?Ue:null)}:ue}function Er(ue){var Le=ue.responseType;return Le&&Le!=="text"?ue.response:ue.responseText}i.dsv=function(ue,Le){var Ue=new RegExp('["'+ue+`
]`),$e=ue.charCodeAt(0);function rt(er,nr,Pr){arguments.length<3&&(Pr=nr,nr=null);var Cr=Tn(er,Le,nr==null?ot:Pt(nr),Pr);return Cr.row=function(Xr){return arguments.length?Cr.response((nr=Xr)==null?ot:Pt(Xr)):nr},Cr}function ot(er){return rt.parse(er.responseText)}function Pt(er){return function(nr){return rt.parse(nr.responseText,er)}}rt.parse=function(er,nr){var Pr;return rt.parseRows(er,function(Cr,Xr){if(Pr)return Pr(Cr,Xr-1);var rn=function(Ir){for(var Nr={},jr=Cr.length,an=0;an<jr;++an)Nr[Cr[an]]=Ir[an];return Nr};Pr=nr?function(Ir,Nr){return nr(rn(Ir),Nr)}:rn})},rt.parseRows=function(er,nr){var Pr={},Cr={},Xr=[],rn=er.length,Ir=0,Nr=0,jr,an;function hn(){if(Ir>=rn)return Cr;if(an)return an=!1,Pr;var Un=Ir;if(er.charCodeAt(Un)===34){for(var Yn=Un;Yn++<rn;)if(er.charCodeAt(Yn)===34){if(er.charCodeAt(Yn+1)!==34)break;++Yn}Ir=Yn+2;var qn=er.charCodeAt(Yn+1);return qn===13?(an=!0,er.charCodeAt(Yn+2)===10&&++Ir):qn===10&&(an=!0),er.slice(Un+1,Yn).replace(/""/g,'"')}for(;Ir<rn;){var qn=er.charCodeAt(Ir++),oa=1;if(qn===10)an=!0;else if(qn===13)an=!0,er.charCodeAt(Ir)===10&&(++Ir,++oa);else if(qn!==$e)continue;return er.slice(Un,Ir-oa)}return er.slice(Un)}for(;(jr=hn())!==Cr;){for(var Zr=[];jr!==Pr&&jr!==Cr;)Zr.push(jr),jr=hn();nr&&(Zr=nr(Zr,Nr++))==null||Xr.push(Zr)}return Xr},rt.format=function(er){if(Array.isArray(er[0]))return rt.formatRows(er);var nr=new F,Pr=[];return er.forEach(function(Cr){for(var Xr in Cr)nr.has(Xr)||Pr.push(nr.add(Xr))}),[Pr.map(Ht).join(ue)].concat(er.map(function(Cr){return Pr.map(function(Xr){return Ht(Cr[Xr])}).join(ue)})).join(`
`)},rt.formatRows=function(er){return er.map(ft).join(`
`)};function ft(er){return er.map(Ht).join(ue)}function Ht(er){return Ue.test(er)?'"'+er.replace(/\"/g,'""')+'"':er}return rt},i.csv=i.dsv(",","text/csv"),i.tsv=i.dsv("	","text/tab-separated-values");var Gr,Br,nn,gn,mn=this[_(this,"requestAnimationFrame")]||function(ue){setTimeout(ue,17)};i.timer=function(){Pn.apply(this,arguments)};function Pn(ue,Le,Ue){var $e=arguments.length;$e<2&&(Le=0),$e<3&&(Ue=Date.now());var rt=Ue+Le,ot={c:ue,t:rt,n:null};return Br?Br.n=ot:Gr=ot,Br=ot,nn||(gn=clearTimeout(gn),nn=1,mn(Fn)),ot}function Fn(){var ue=ia(),Le=jn()-ue;Le>24?(isFinite(Le)&&(clearTimeout(gn),gn=setTimeout(Fn,Le)),nn=0):(nn=1,mn(Fn))}i.timer.flush=function(){ia(),jn()};function ia(){for(var ue=Date.now(),Le=Gr;Le;)ue>=Le.t&&Le.c(ue-Le.t)&&(Le.c=null),Le=Le.n;return ue}function jn(){for(var ue,Le=Gr,Ue=1/0;Le;)Le.c?(Le.t<Ue&&(Ue=Le.t),Le=(ue=Le).n):Le=ue?ue.n=Le.n:Gr=Le.n;return Br=ue,Ue}i.round=function(ue,Le){return Le?Math.round(ue*(Le=Math.pow(10,Le)))/Le:Math.round(ue)},i.geom={};function $n(ue){return ue[0]}function Wn(ue){return ue[1]}i.geom.hull=function(ue){var Le=$n,Ue=Wn;if(arguments.length)return $e(ue);function $e(rt){if(rt.length<3)return[];var ot=qr(Le),Pt=qr(Ue),ft,Ht=rt.length,er=[],nr=[];for(ft=0;ft<Ht;ft++)er.push([+ot.call(this,rt[ft],ft),+Pt.call(this,rt[ft],ft),ft]);for(er.sort(Tr),ft=0;ft<Ht;ft++)nr.push([er[ft][0],-er[ft][1]]);var Pr=Qn(er),Cr=Qn(nr),Xr=Cr[0]===Pr[0],rn=Cr[Cr.length-1]===Pr[Pr.length-1],Ir=[];for(ft=Pr.length-1;ft>=0;--ft)Ir.push(rt[er[Pr[ft]][2]]);for(ft=+Xr;ft<Cr.length-rn;++ft)Ir.push(rt[er[Cr[ft]][2]]);return Ir}return $e.x=function(rt){return arguments.length?(Le=rt,$e):Le},$e.y=function(rt){return arguments.length?(Ue=rt,$e):Ue},$e};function Qn(ue){for(var Le=ue.length,Ue=[0,1],$e=2,rt=2;rt<Le;rt++){for(;$e>1&&Wt(ue[Ue[$e-2]],ue[Ue[$e-1]],ue[rt])<=0;)--$e;Ue[$e++]=rt}return Ue.slice(0,$e)}function Tr(ue,Le){return ue[0]-Le[0]||ue[1]-Le[1]}i.geom.polygon=function(ue){return X(ue,sn),ue};var sn=i.geom.polygon.prototype=[];sn.area=function(){for(var ue=-1,Le=this.length,Ue,$e=this[Le-1],rt=0;++ue<Le;)Ue=$e,$e=this[ue],rt+=Ue[1]*$e[0]-Ue[0]*$e[1];return rt*.5},sn.centroid=function(ue){var Le=-1,Ue=this.length,$e=0,rt=0,ot,Pt=this[Ue-1],ft;for(arguments.length||(ue=-1/(6*this.area()));++Le<Ue;)ot=Pt,Pt=this[Le],ft=ot[0]*Pt[1]-Pt[0]*ot[1],$e+=(ot[0]+Pt[0])*ft,rt+=(ot[1]+Pt[1])*ft;return[$e*ue,rt*ue]},sn.clip=function(ue){for(var Le,Ue=Hn(ue),$e=-1,rt=this.length-Hn(this),ot,Pt,ft=this[rt-1],Ht,er,nr;++$e<rt;){for(Le=ue.slice(),ue.length=0,Ht=this[$e],er=Le[(Pt=Le.length-Ue)-1],ot=-1;++ot<Pt;)nr=Le[ot],tn(nr,ft,Ht)?(tn(er,ft,Ht)||ue.push(yn(er,nr,ft,Ht)),ue.push(nr)):tn(er,ft,Ht)&&ue.push(yn(er,nr,ft,Ht)),er=nr;Ue&&ue.push(ue[0]),ft=Ht}return ue};function tn(ue,Le,Ue){return(Ue[0]-Le[0])*(ue[1]-Le[1])<(Ue[1]-Le[1])*(ue[0]-Le[0])}function yn(ue,Le,Ue,$e){var rt=ue[0],ot=Ue[0],Pt=Le[0]-rt,ft=$e[0]-ot,Ht=ue[1],er=Ue[1],nr=Le[1]-Ht,Pr=$e[1]-er,Cr=(ft*(Ht-er)-Pr*(rt-ot))/(Pr*Pt-ft*nr);return[rt+Cr*Pt,Ht+Cr*nr]}function Hn(ue){var Le=ue[0],Ue=ue[ue.length-1];return!(Le[0]-Ue[0]||Le[1]-Ue[1])}var Sn,En,Nn,ea=[],xa,Wa,jt=[];function wr(){yo(this),this.edge=this.site=this.circle=null}function en(ue){var Le=ea.pop()||new wr;return Le.site=ue,Le}function un(ue){Zn(ue),Nn.remove(ue),ea.push(ue),yo(ue)}function cn(ue){var Le=ue.circle,Ue=Le.x,$e=Le.cy,rt={x:Ue,y:$e},ot=ue.P,Pt=ue.N,ft=[ue];un(ue);for(var Ht=ot;Ht.circle&&d(Ue-Ht.circle.x)<ye&&d($e-Ht.circle.cy)<ye;)ot=Ht.P,ft.unshift(Ht),un(Ht),Ht=ot;ft.unshift(Ht),Zn(Ht);for(var er=Pt;er.circle&&d(Ue-er.circle.x)<ye&&d($e-er.circle.cy)<ye;)Pt=er.N,ft.push(er),un(er),er=Pt;ft.push(er),Zn(er);var nr=ft.length,Pr;for(Pr=1;Pr<nr;++Pr)er=ft[Pr],Ht=ft[Pr-1],pa(er.edge,Ht.site,er.site,rt);Ht=ft[0],er=ft[nr-1],er.edge=sa(Ht.site,er.site,null,rt),_n(Ht),_n(er)}function Dn(ue){for(var Le=ue.x,Ue=ue.y,$e,rt,ot,Pt,ft=Nn._;ft;)if(ot=Mn(ft,Ue)-Le,ot>ye)ft=ft.L;else if(Pt=Le-vn(ft,Ue),Pt>ye){if(!ft.R){$e=ft;break}ft=ft.R}else{ot>-ye?($e=ft.P,rt=ft):Pt>-ye?($e=ft,rt=ft.N):$e=rt=ft;break}var Ht=en(ue);if(Nn.insert($e,Ht),!(!$e&&!rt)){if($e===rt){Zn($e),rt=en($e.site),Nn.insert(Ht,rt),Ht.edge=rt.edge=sa($e.site,Ht.site),_n($e),_n(rt);return}if(!rt){Ht.edge=sa($e.site,Ht.site);return}Zn($e),Zn(rt);var er=$e.site,nr=er.x,Pr=er.y,Cr=ue.x-nr,Xr=ue.y-Pr,rn=rt.site,Ir=rn.x-nr,Nr=rn.y-Pr,jr=2*(Cr*Nr-Xr*Ir),an=Cr*Cr+Xr*Xr,hn=Ir*Ir+Nr*Nr,Zr={x:(Nr*an-Xr*hn)/jr+nr,y:(Cr*hn-Ir*an)/jr+Pr};pa(rt.edge,er,rn,Zr),Ht.edge=sa(er,ue,null,Zr),rt.edge=sa(ue,rn,null,Zr),_n($e),_n(rt)}}function Mn(ue,Le){var Ue=ue.site,$e=Ue.x,rt=Ue.y,ot=rt-Le;if(!ot)return $e;var Pt=ue.P;if(!Pt)return-1/0;Ue=Pt.site;var ft=Ue.x,Ht=Ue.y,er=Ht-Le;if(!er)return ft;var nr=ft-$e,Pr=1/ot-1/er,Cr=nr/er;return Pr?(-Cr+Math.sqrt(Cr*Cr-2*Pr*(nr*nr/(-2*er)-Ht+er/2+rt-ot/2)))/Pr+$e:($e+ft)/2}function vn(ue,Le){var Ue=ue.N;if(Ue)return Mn(Ue,Le);var $e=ue.site;return $e.y===Le?$e.x:1/0}function Dr(ue){this.site=ue,this.edges=[]}Dr.prototype.prepare=function(){for(var ue=this.edges,Le=ue.length,Ue;Le--;)Ue=ue[Le].edge,(!Ue.b||!Ue.a)&&ue.splice(Le,1);return ue.sort(zr),ue.length};function Lr(ue){for(var Le=ue[0][0],Ue=ue[1][0],$e=ue[0][1],rt=ue[1][1],ot,Pt,ft,Ht,er=En,nr=er.length,Pr,Cr,Xr,rn,Ir,Nr;nr--;)if(Pr=er[nr],!(!Pr||!Pr.prepare()))for(Xr=Pr.edges,rn=Xr.length,Cr=0;Cr<rn;)Nr=Xr[Cr].end(),ft=Nr.x,Ht=Nr.y,Ir=Xr[++Cr%rn].start(),ot=Ir.x,Pt=Ir.y,(d(ft-ot)>ye||d(Ht-Pt)>ye)&&(Xr.splice(Cr,0,new Ki(la(Pr.site,Nr,d(ft-Le)<ye&&rt-Ht>ye?{x:Le,y:d(ot-Le)<ye?Pt:rt}:d(Ht-rt)<ye&&Ue-ft>ye?{x:d(Pt-rt)<ye?ot:Ue,y:rt}:d(ft-Ue)<ye&&Ht-$e>ye?{x:Ue,y:d(ot-Ue)<ye?Pt:$e}:d(Ht-$e)<ye&&ft-Le>ye?{x:d(Pt-$e)<ye?ot:Le,y:$e}:null),Pr.site,null)),++rn)}function zr(ue,Le){return Le.angle-ue.angle}function dn(){yo(this),this.x=this.y=this.arc=this.site=this.cy=null}function _n(ue){var Le=ue.P,Ue=ue.N;if(!(!Le||!Ue)){var $e=Le.site,rt=ue.site,ot=Ue.site;if($e!==ot){var Pt=rt.x,ft=rt.y,Ht=$e.x-Pt,er=$e.y-ft,nr=ot.x-Pt,Nr=ot.y-ft,Pr=2*(Ht*Nr-er*nr);if(!(Pr>=-Ae)){var Cr=Ht*Ht+er*er,Xr=nr*nr+Nr*Nr,rn=(Nr*Cr-er*Xr)/Pr,Ir=(Ht*Xr-nr*Cr)/Pr,Nr=Ir+ft,jr=jt.pop()||new dn;jr.arc=ue,jr.site=rt,jr.x=rn+Pt,jr.y=Nr+Math.sqrt(rn*rn+Ir*Ir),jr.cy=Nr,ue.circle=jr;for(var an=null,hn=Wa._;hn;)if(jr.y<hn.y||jr.y===hn.y&&jr.x<=hn.x)if(hn.L)hn=hn.L;else{an=hn.P;break}else if(hn.R)hn=hn.R;else{an=hn;break}Wa.insert(an,jr),an||(xa=jr)}}}}function Zn(ue){var Le=ue.circle;Le&&(Le.P||(xa=Le.N),Wa.remove(Le),jt.push(Le),yo(Le),ue.circle=null)}function xn(ue,Le,Ue,$e){return function(rt){var ot=rt.a,Pt=rt.b,ft=ot.x,Ht=ot.y,er=Pt.x,nr=Pt.y,Pr=0,Cr=1,Xr=er-ft,rn=nr-Ht,Ir;if(Ir=ue-ft,!(!Xr&&Ir>0)){if(Ir/=Xr,Xr<0){if(Ir<Pr)return;Ir<Cr&&(Cr=Ir)}else if(Xr>0){if(Ir>Cr)return;Ir>Pr&&(Pr=Ir)}if(Ir=Ue-ft,!(!Xr&&Ir<0)){if(Ir/=Xr,Xr<0){if(Ir>Cr)return;Ir>Pr&&(Pr=Ir)}else if(Xr>0){if(Ir<Pr)return;Ir<Cr&&(Cr=Ir)}if(Ir=Le-Ht,!(!rn&&Ir>0)){if(Ir/=rn,rn<0){if(Ir<Pr)return;Ir<Cr&&(Cr=Ir)}else if(rn>0){if(Ir>Cr)return;Ir>Pr&&(Pr=Ir)}if(Ir=$e-Ht,!(!rn&&Ir<0)){if(Ir/=rn,rn<0){if(Ir>Cr)return;Ir>Pr&&(Pr=Ir)}else if(rn>0){if(Ir<Pr)return;Ir<Cr&&(Cr=Ir)}return Pr>0&&(rt.a={x:ft+Pr*Xr,y:Ht+Pr*rn}),Cr<1&&(rt.b={x:ft+Cr*Xr,y:Ht+Cr*rn}),rt}}}}}}function Bn(ue){for(var Le=Sn,Ue=xn(ue[0][0],ue[0][1],ue[1][0],ue[1][1]),$e=Le.length,rt;$e--;)rt=Le[$e],(!na(rt,ue)||!Ue(rt)||d(rt.a.x-rt.b.x)<ye&&d(rt.a.y-rt.b.y)<ye)&&(rt.a=rt.b=null,Le.splice($e,1))}function na(ue,Le){var Ue=ue.b;if(Ue)return!0;var $e=ue.a,rt=Le[0][0],ot=Le[1][0],Pt=Le[0][1],ft=Le[1][1],Ht=ue.l,er=ue.r,nr=Ht.x,Pr=Ht.y,Cr=er.x,Xr=er.y,rn=(nr+Cr)/2,Ir=(Pr+Xr)/2,Nr,jr;if(Xr===Pr){if(rn<rt||rn>=ot)return;if(nr>Cr){if(!$e)$e={x:rn,y:Pt};else if($e.y>=ft)return;Ue={x:rn,y:ft}}else{if(!$e)$e={x:rn,y:ft};else if($e.y<Pt)return;Ue={x:rn,y:Pt}}}else if(Nr=(nr-Cr)/(Xr-Pr),jr=Ir-Nr*rn,Nr<-1||Nr>1)if(nr>Cr){if(!$e)$e={x:(Pt-jr)/Nr,y:Pt};else if($e.y>=ft)return;Ue={x:(ft-jr)/Nr,y:ft}}else{if(!$e)$e={x:(ft-jr)/Nr,y:ft};else if($e.y<Pt)return;Ue={x:(Pt-jr)/Nr,y:Pt}}else if(Pr<Xr){if(!$e)$e={x:rt,y:Nr*rt+jr};else if($e.x>=ot)return;Ue={x:ot,y:Nr*ot+jr}}else{if(!$e)$e={x:ot,y:Nr*ot+jr};else if($e.x<rt)return;Ue={x:rt,y:Nr*rt+jr}}return ue.a=$e,ue.b=Ue,!0}function ua(ue,Le){this.l=ue,this.r=Le,this.a=this.b=null}function sa(ue,Le,Ue,$e){var rt=new ua(ue,Le);return Sn.push(rt),Ue&&pa(rt,ue,Le,Ue),$e&&pa(rt,Le,ue,$e),En[ue.i].edges.push(new Ki(rt,ue,Le)),En[Le.i].edges.push(new Ki(rt,Le,ue)),rt}function la(ue,Le,Ue){var $e=new ua(ue,null);return $e.a=Le,$e.b=Ue,Sn.push($e),$e}function pa(ue,Le,Ue,$e){!ue.a&&!ue.b?(ue.a=$e,ue.l=Le,ue.r=Ue):ue.l===Ue?ue.b=$e:ue.a=$e}function Ki(ue,Le,Ue){var $e=ue.a,rt=ue.b;this.edge=ue,this.site=Le,this.angle=Ue?Math.atan2(Ue.y-Le.y,Ue.x-Le.x):ue.l===Le?Math.atan2(rt.x-$e.x,$e.y-rt.y):Math.atan2($e.x-rt.x,rt.y-$e.y)}Ki.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function co(){this._=null}function yo(ue){ue.U=ue.C=ue.L=ue.R=ue.P=ue.N=null}co.prototype={insert:function(ue,Le){var Ue,$e,rt;if(ue){if(Le.P=ue,Le.N=ue.N,ue.N&&(ue.N.P=Le),ue.N=Le,ue.R){for(ue=ue.R;ue.L;)ue=ue.L;ue.L=Le}else ue.R=Le;Ue=ue}else this._?(ue=sf(this._),Le.P=null,Le.N=ue,ue.P=ue.L=Le,Ue=ue):(Le.P=Le.N=null,this._=Le,Ue=null);for(Le.L=Le.R=null,Le.U=Ue,Le.C=!0,ue=Le;Ue&&Ue.C;)$e=Ue.U,Ue===$e.L?(rt=$e.R,rt&&rt.C?(Ue.C=rt.C=!1,$e.C=!0,ue=$e):(ue===Ue.R&&(Mo(this,Ue),ue=Ue,Ue=ue.U),Ue.C=!1,$e.C=!0,mo(this,$e))):(rt=$e.L,rt&&rt.C?(Ue.C=rt.C=!1,$e.C=!0,ue=$e):(ue===Ue.L&&(mo(this,Ue),ue=Ue,Ue=ue.U),Ue.C=!1,$e.C=!0,Mo(this,$e))),Ue=ue.U;this._.C=!1},remove:function(ue){ue.N&&(ue.N.P=ue.P),ue.P&&(ue.P.N=ue.N),ue.N=ue.P=null;var Le=ue.U,Ue,$e=ue.L,rt=ue.R,ot,Pt;if($e?rt?ot=sf(rt):ot=$e:ot=rt,Le?Le.L===ue?Le.L=ot:Le.R=ot:this._=ot,$e&&rt?(Pt=ot.C,ot.C=ue.C,ot.L=$e,$e.U=ot,ot!==rt?(Le=ot.U,ot.U=ue.U,ue=ot.R,Le.L=ue,ot.R=rt,rt.U=ot):(ot.U=Le,Le=ot,ue=ot.R)):(Pt=ue.C,ue=ot),ue&&(ue.U=Le),!Pt){if(ue&&ue.C){ue.C=!1;return}do{if(ue===this._)break;if(ue===Le.L){if(Ue=Le.R,Ue.C&&(Ue.C=!1,Le.C=!0,Mo(this,Le),Ue=Le.R),Ue.L&&Ue.L.C||Ue.R&&Ue.R.C){(!Ue.R||!Ue.R.C)&&(Ue.L.C=!1,Ue.C=!0,mo(this,Ue),Ue=Le.R),Ue.C=Le.C,Le.C=Ue.R.C=!1,Mo(this,Le),ue=this._;break}}else if(Ue=Le.L,Ue.C&&(Ue.C=!1,Le.C=!0,mo(this,Le),Ue=Le.L),Ue.L&&Ue.L.C||Ue.R&&Ue.R.C){(!Ue.L||!Ue.L.C)&&(Ue.R.C=!1,Ue.C=!0,Mo(this,Ue),Ue=Le.L),Ue.C=Le.C,Le.C=Ue.L.C=!1,mo(this,Le),ue=this._;break}Ue.C=!0,ue=Le,Le=Le.U}while(!ue.C);ue&&(ue.C=!1)}}};function Mo(ue,Le){var Ue=Le,$e=Le.R,rt=Ue.U;rt?rt.L===Ue?rt.L=$e:rt.R=$e:ue._=$e,$e.U=rt,Ue.U=$e,Ue.R=$e.L,Ue.R&&(Ue.R.U=Ue),$e.L=Ue}function mo(ue,Le){var Ue=Le,$e=Le.L,rt=Ue.U;rt?rt.L===Ue?rt.L=$e:rt.R=$e:ue._=$e,$e.U=rt,Ue.U=$e,Ue.L=$e.R,Ue.L&&(Ue.L.U=Ue),$e.R=Ue}function sf(ue){for(;ue.L;)ue=ue.L;return ue}function ei(ue,Le){var Ue=ue.sort(eu).pop(),$e,rt,ot;for(Sn=[],En=new Array(ue.length),Nn=new co,Wa=new co;;)if(ot=xa,Ue&&(!ot||Ue.y<ot.y||Ue.y===ot.y&&Ue.x<ot.x))(Ue.x!==$e||Ue.y!==rt)&&(En[Ue.i]=new Dr(Ue),Dn(Ue),$e=Ue.x,rt=Ue.y),Ue=ue.pop();else if(ot)cn(ot.arc);else break;Le&&(Bn(Le),Lr(Le));var Pt={cells:En,edges:Sn};return Nn=Wa=Sn=En=null,Pt}function eu(ue,Le){return Le.y-ue.y||Le.x-ue.x}i.geom.voronoi=function(ue){var Le=$n,Ue=Wn,$e=Le,rt=Ue,ot=Pl;if(ue)return Pt(ue);function Pt(Ht){var er=new Array(Ht.length),nr=ot[0][0],Pr=ot[0][1],Cr=ot[1][0],Xr=ot[1][1];return ei(ft(Ht),ot).cells.forEach(function(rn,Ir){var Nr=rn.edges,jr=rn.site,an=er[Ir]=Nr.length?Nr.map(function(hn){var Zr=hn.start();return[Zr.x,Zr.y]}):jr.x>=nr&&jr.x<=Cr&&jr.y>=Pr&&jr.y<=Xr?[[nr,Xr],[Cr,Xr],[Cr,Pr],[nr,Pr]]:[];an.point=Ht[Ir]}),er}function ft(Ht){return Ht.map(function(er,nr){return{x:Math.round($e(er,nr)/ye)*ye,y:Math.round(rt(er,nr)/ye)*ye,i:nr}})}return Pt.links=function(Ht){return ei(ft(Ht)).edges.filter(function(er){return er.l&&er.r}).map(function(er){return{source:Ht[er.l.i],target:Ht[er.r.i]}})},Pt.triangles=function(Ht){var er=[];return ei(ft(Ht)).cells.forEach(function(nr,Pr){for(var Cr=nr.site,Xr=nr.edges.sort(zr),rn=-1,Ir=Xr.length,Nr,jr=Xr[Ir-1].edge,an=jr.l===Cr?jr.r:jr.l;++rn<Ir;)Nr=an,jr=Xr[rn].edge,an=jr.l===Cr?jr.r:jr.l,Pr<Nr.i&&Pr<an.i&&Ji(Cr,Nr,an)<0&&er.push([Ht[Pr],Ht[Nr.i],Ht[an.i]])}),er},Pt.x=function(Ht){return arguments.length?($e=qr(Le=Ht),Pt):Le},Pt.y=function(Ht){return arguments.length?(rt=qr(Ue=Ht),Pt):Ue},Pt.clipExtent=function(Ht){return arguments.length?(ot=Ht??Pl,Pt):ot===Pl?null:ot},Pt.size=function(Ht){return arguments.length?Pt.clipExtent(Ht&&[[0,0],Ht]):ot===Pl?null:ot&&ot[1]},Pt};var Pl=[[-1e6,-1e6],[1e6,1e6]];function Ji(ue,Le,Ue){return(ue.x-Ue.x)*(Le.y-ue.y)-(ue.x-Le.x)*(Ue.y-ue.y)}i.geom.delaunay=function(ue){return i.geom.voronoi().triangles(ue)},i.geom.quadtree=function(ue,Le,Ue,$e,rt){var ot=$n,Pt=Wn,ft;if(ft=arguments.length)return ot=So,Pt=$f,ft===3&&(rt=Ue,$e=Le,Ue=Le=0),Ht(ue);function Ht(er){var nr,Pr=qr(ot),Cr=qr(Pt),Xr,rn,Ir,Nr,jr,an,hn,Zr;if(Le!=null)jr=Le,an=Ue,hn=$e,Zr=rt;else if(hn=Zr=-(jr=an=1/0),Xr=[],rn=[],Nr=er.length,ft)for(Ir=0;Ir<Nr;++Ir)nr=er[Ir],nr.x<jr&&(jr=nr.x),nr.y<an&&(an=nr.y),nr.x>hn&&(hn=nr.x),nr.y>Zr&&(Zr=nr.y),Xr.push(nr.x),rn.push(nr.y);else for(Ir=0;Ir<Nr;++Ir){var Un=+Pr(nr=er[Ir],Ir),Yn=+Cr(nr,Ir);Un<jr&&(jr=Un),Yn<an&&(an=Yn),Un>hn&&(hn=Un),Yn>Zr&&(Zr=Yn),Xr.push(Un),rn.push(Yn)}var qn=hn-jr,oa=Zr-an;qn>oa?Zr=an+qn:hn=jr+oa;function wa(Ca,Oa,Qa,ti,fi,Vn,Na,_a){if(!(isNaN(Qa)||isNaN(ti)))if(Ca.leaf){var ja=Ca.x,Si=Ca.y;if(ja!=null)if(d(ja-Qa)+d(Si-ti)<.01)ba(Ca,Oa,Qa,ti,fi,Vn,Na,_a);else{var zi=Ca.point;Ca.x=Ca.y=Ca.point=null,ba(Ca,zi,ja,Si,fi,Vn,Na,_a),ba(Ca,Oa,Qa,ti,fi,Vn,Na,_a)}else Ca.x=Qa,Ca.y=ti,Ca.point=Oa}else ba(Ca,Oa,Qa,ti,fi,Vn,Na,_a)}function ba(Ca,Oa,Qa,ti,fi,Vn,Na,_a){var ja=(fi+Na)*.5,Si=(Vn+_a)*.5,zi=Qa>=ja,Ui=ti>=Si,bi=Ui<<1|zi;Ca.leaf=!1,Ca=Ca.nodes[bi]||(Ca.nodes[bi]=tu()),zi?fi=ja:Na=ja,Ui?Vn=Si:_a=Si,wa(Ca,Oa,Qa,ti,fi,Vn,Na,_a)}var Ua=tu();if(Ua.add=function(Ca){wa(Ua,Ca,+Pr(Ca,++Ir),+Cr(Ca,Ir),jr,an,hn,Zr)},Ua.visit=function(Ca){Ri(Ca,Ua,jr,an,hn,Zr)},Ua.find=function(Ca){return ru(Ua,Ca[0],Ca[1],jr,an,hn,Zr)},Ir=-1,Le==null){for(;++Ir<Nr;)wa(Ua,er[Ir],Xr[Ir],rn[Ir],jr,an,hn,Zr);--Ir}else er.forEach(Ua.add);return Xr=rn=er=nr=null,Ua}return Ht.x=function(er){return arguments.length?(ot=er,Ht):ot},Ht.y=function(er){return arguments.length?(Pt=er,Ht):Pt},Ht.extent=function(er){return arguments.length?(er==null?Le=Ue=$e=rt=null:(Le=+er[0][0],Ue=+er[0][1],$e=+er[1][0],rt=+er[1][1]),Ht):Le==null?null:[[Le,Ue],[$e,rt]]},Ht.size=function(er){return arguments.length?(er==null?Le=Ue=$e=rt=null:(Le=Ue=0,$e=+er[0],rt=+er[1]),Ht):Le==null?null:[$e-Le,rt-Ue]},Ht};function So(ue){return ue.x}function $f(ue){return ue.y}function tu(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Ri(ue,Le,Ue,$e,rt,ot){if(!ue(Le,Ue,$e,rt,ot)){var Pt=(Ue+rt)*.5,ft=($e+ot)*.5,Ht=Le.nodes;Ht[0]&&Ri(ue,Ht[0],Ue,$e,Pt,ft),Ht[1]&&Ri(ue,Ht[1],Pt,$e,rt,ft),Ht[2]&&Ri(ue,Ht[2],Ue,ft,Pt,ot),Ht[3]&&Ri(ue,Ht[3],Pt,ft,rt,ot)}}function ru(ue,Le,Ue,$e,rt,ot,Pt){var ft=1/0,Ht;return function er(nr,Pr,Cr,Xr,rn){if(!(Pr>ot||Cr>Pt||Xr<$e||rn<rt)){if(Ir=nr.point){var Ir,Nr=Le-nr.x,jr=Ue-nr.y,an=Nr*Nr+jr*jr;if(an<ft){var hn=Math.sqrt(ft=an);$e=Le-hn,rt=Ue-hn,ot=Le+hn,Pt=Ue+hn,Ht=Ir}}for(var Zr=nr.nodes,Un=(Pr+Xr)*.5,Yn=(Cr+rn)*.5,qn=Le>=Un,oa=Ue>=Yn,wa=oa<<1|qn,ba=wa+4;wa<ba;++wa)if(nr=Zr[wa&3])switch(wa&3){case 0:er(nr,Pr,Cr,Un,Yn);break;case 1:er(nr,Un,Cr,Xr,Yn);break;case 2:er(nr,Pr,Yn,Un,rn);break;case 3:er(nr,Un,Yn,Xr,rn);break}}}(ue,$e,rt,ot,Pt),Ht}i.interpolateRgb=Io;function Io(ue,Le){ue=i.rgb(ue),Le=i.rgb(Le);var Ue=ue.r,$e=ue.g,rt=ue.b,ot=Le.r-Ue,Pt=Le.g-$e,ft=Le.b-rt;return function(Ht){return"#"+gr(Math.round(Ue+ot*Ht))+gr(Math.round($e+Pt*Ht))+gr(Math.round(rt+ft*Ht))}}i.interpolateObject=Wi;function Wi(ue,Le){var Ue={},$e={},rt;for(rt in ue)rt in Le?Ue[rt]=Ss(ue[rt],Le[rt]):$e[rt]=ue[rt];for(rt in Le)rt in ue||($e[rt]=Le[rt]);return function(ot){for(rt in Ue)$e[rt]=Ue[rt](ot);return $e}}i.interpolateNumber=ko;function ko(ue,Le){return ue=+ue,Le=+Le,function(Ue){return ue*(1-Ue)+Le*Ue}}i.interpolateString=ho;function ho(ue,Le){var Ue=Bo.lastIndex=ls.lastIndex=0,$e,rt,ot,Pt=-1,ft=[],Ht=[];for(ue=ue+"",Le=Le+"";($e=Bo.exec(ue))&&(rt=ls.exec(Le));)(ot=rt.index)>Ue&&(ot=Le.slice(Ue,ot),ft[Pt]?ft[Pt]+=ot:ft[++Pt]=ot),($e=$e[0])===(rt=rt[0])?ft[Pt]?ft[Pt]+=rt:ft[++Pt]=rt:(ft[++Pt]=null,Ht.push({i:Pt,x:ko($e,rt)})),Ue=ls.lastIndex;return Ue<Le.length&&(ot=Le.slice(Ue),ft[Pt]?ft[Pt]+=ot:ft[++Pt]=ot),ft.length<2?Ht[0]?(Le=Ht[0].x,function(er){return Le(er)+""}):function(){return Le}:(Le=Ht.length,function(er){for(var nr=0,Pr;nr<Le;++nr)ft[(Pr=Ht[nr]).i]=Pr.x(er);return ft.join("")})}var Bo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ls=new RegExp(Bo.source,"g");i.interpolate=Ss;function Ss(ue,Le){for(var Ue=i.interpolators.length,$e;--Ue>=0&&!($e=i.interpolators[Ue](ue,Le)););return $e}i.interpolators=[function(ue,Le){var Ue=typeof Le;return(Ue==="string"?pn.has(Le.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Le)?Io:ho:Le instanceof dt?Io:Array.isArray(Le)?eo:Ue==="object"&&isNaN(Le)?Wi:ko)(ue,Le)}],i.interpolateArray=eo;function eo(ue,Le){var Ue=[],$e=[],rt=ue.length,ot=Le.length,Pt=Math.min(ue.length,Le.length),ft;for(ft=0;ft<Pt;++ft)Ue.push(Ss(ue[ft],Le[ft]));for(;ft<rt;++ft)$e[ft]=ue[ft];for(;ft<ot;++ft)$e[ft]=Le[ft];return function(Ht){for(ft=0;ft<Pt;++ft)$e[ft]=Ue[ft](Ht);return $e}}var qf=function(){return O},us=i.map({linear:qf,poly:nu,quad:function(){return uf},cubic:function(){return ff},sin:function(){return eh},exp:function(){return th},circle:function(){return rh},elastic:cf,back:nh,bounce:function(){return ah}}),to=i.map({in:O,out:Es,"in-out":fs,"out-in":function(ue){return fs(Es(ue))}});i.ease=function(ue){var Le=ue.indexOf("-"),Ue=Le>=0?ue.slice(0,Le):ue,$e=Le>=0?ue.slice(Le+1):"in";return Ue=us.get(Ue)||qf,$e=to.get($e)||O,lf($e(Ue.apply(null,L.call(arguments,1))))};function lf(ue){return function(Le){return Le<=0?0:Le>=1?1:ue(Le)}}function Es(ue){return function(Le){return 1-ue(1-Le)}}function fs(ue){return function(Le){return .5*(Le<.5?ue(2*Le):2-ue(2-2*Le))}}function uf(ue){return ue*ue}function ff(ue){return ue*ue*ue}function qc(ue){if(ue<=0)return 0;if(ue>=1)return 1;var Le=ue*ue,Ue=Le*ue;return 4*(ue<.5?Ue:3*(ue-Le)+Ue-.75)}function nu(ue){return function(Le){return Math.pow(Le,ue)}}function eh(ue){return 1-Math.cos(ue*qe)}function th(ue){return Math.pow(2,10*(ue-1))}function rh(ue){return 1-Math.sqrt(1-ue*ue)}function cf(ue,Le){var Ue;return arguments.length<2&&(Le=.45),arguments.length?Ue=Le/Ne*Math.asin(1/ue):(ue=1,Ue=Le/4),function($e){return 1+ue*Math.pow(2,-10*$e)*Math.sin(($e-Ue)*Ne/Le)}}function nh(ue){return ue||(ue=1.70158),function(Le){return Le*Le*((ue+1)*Le-ue)}}function ah(ue){return ue<.36363636363636365?7.5625*ue*ue:ue<.7272727272727273?7.5625*(ue-=.5454545454545454)*ue+.75:ue<.9090909090909091?7.5625*(ue-=.8181818181818182)*ue+.9375:7.5625*(ue-=.9545454545454546)*ue+.984375}i.interpolateHcl=ec;function ec(ue,Le){ue=i.hcl(ue),Le=i.hcl(Le);var Ue=ue.h,$e=ue.c,rt=ue.l,ot=Le.h-Ue,Pt=Le.c-$e,ft=Le.l-rt;return isNaN(Pt)&&(Pt=0,$e=isNaN($e)?Le.c:$e),isNaN(ot)?(ot=0,Ue=isNaN(Ue)?Le.h:Ue):ot>180?ot-=360:ot<-180&&(ot+=360),function(Ht){return Nt(Ue+ot*Ht,$e+Pt*Ht,rt+ft*Ht)+""}}i.interpolateHsl=ih;function ih(ue,Le){ue=i.hsl(ue),Le=i.hsl(Le);var Ue=ue.h,$e=ue.s,rt=ue.l,ot=Le.h-Ue,Pt=Le.s-$e,ft=Le.l-rt;return isNaN(Pt)&&(Pt=0,$e=isNaN($e)?Le.s:$e),isNaN(ot)?(ot=0,Ue=isNaN(Ue)?Le.h:Ue):ot>180?ot-=360:ot<-180&&(ot+=360),function(Ht){return Mt(Ue+ot*Ht,$e+Pt*Ht,rt+ft*Ht)+""}}i.interpolateLab=oh;function oh(ue,Le){ue=i.lab(ue),Le=i.lab(Le);var Ue=ue.l,$e=ue.a,rt=ue.b,ot=Le.l-Ue,Pt=Le.a-$e,ft=Le.b-rt;return function(Ht){return Ye(Ue+ot*Ht,$e+Pt*Ht,rt+ft*Ht)+""}}i.interpolateRound=hf;function hf(ue,Le){return Le-=ue,function(Ue){return Math.round(ue+Le*Ue)}}i.transform=function(ue){var Le=v.createElementNS(i.ns.prefix.svg,"g");return(i.transform=function(Ue){if(Ue!=null){Le.setAttribute("transform",Ue);var $e=Le.transform.baseVal.consolidate()}return new ll($e?$e.matrix:sh)})(ue)};function ll(ue){var Le=[ue.a,ue.b],Ue=[ue.c,ue.d],$e=Rl(Le),rt=ul(Le,Ue),ot=Rl(Du(Ue,Le,-rt))||0;Le[0]*Ue[1]<Ue[0]*Le[1]&&(Le[0]*=-1,Le[1]*=-1,$e*=-1,rt*=-1),this.rotate=($e?Math.atan2(Le[1],Le[0]):Math.atan2(-Ue[0],Ue[1]))*bt,this.translate=[ue.e,ue.f],this.scale=[$e,ot],this.skew=ot?Math.atan2(rt,ot)*bt:0}ll.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function ul(ue,Le){return ue[0]*Le[0]+ue[1]*Le[1]}function Rl(ue){var Le=Math.sqrt(ul(ue,ue));return Le&&(ue[0]/=Le,ue[1]/=Le),Le}function Du(ue,Le,Ue){return ue[0]+=Ue*Le[0],ue[1]+=Ue*Le[1],ue}var sh={a:1,b:0,c:0,d:1,e:0,f:0};i.interpolateTransform=fl;function Cs(ue){return ue.length?ue.pop()+",":""}function tc(ue,Le,Ue,$e){if(ue[0]!==Le[0]||ue[1]!==Le[1]){var rt=Ue.push("translate(",null,",",null,")");$e.push({i:rt-4,x:ko(ue[0],Le[0])},{i:rt-2,x:ko(ue[1],Le[1])})}else(Le[0]||Le[1])&&Ue.push("translate("+Le+")")}function vf(ue,Le,Ue,$e){ue!==Le?(ue-Le>180?Le+=360:Le-ue>180&&(ue+=360),$e.push({i:Ue.push(Cs(Ue)+"rotate(",null,")")-2,x:ko(ue,Le)})):Le&&Ue.push(Cs(Ue)+"rotate("+Le+")")}function lh(ue,Le,Ue,$e){ue!==Le?$e.push({i:Ue.push(Cs(Ue)+"skewX(",null,")")-2,x:ko(ue,Le)}):Le&&Ue.push(Cs(Ue)+"skewX("+Le+")")}function Uo(ue,Le,Ue,$e){if(ue[0]!==Le[0]||ue[1]!==Le[1]){var rt=Ue.push(Cs(Ue)+"scale(",null,",",null,")");$e.push({i:rt-4,x:ko(ue[0],Le[0])},{i:rt-2,x:ko(ue[1],Le[1])})}else(Le[0]!==1||Le[1]!==1)&&Ue.push(Cs(Ue)+"scale("+Le+")")}function fl(ue,Le){var Ue=[],$e=[];return ue=i.transform(ue),Le=i.transform(Le),tc(ue.translate,Le.translate,Ue,$e),vf(ue.rotate,Le.rotate,Ue,$e),lh(ue.skew,Le.skew,Ue,$e),Uo(ue.scale,Le.scale,Ue,$e),ue=Le=null,function(rt){for(var ot=-1,Pt=$e.length,ft;++ot<Pt;)Ue[(ft=$e[ot]).i]=ft.x(rt);return Ue.join("")}}function au(ue,Le){return Le=(Le-=ue=+ue)||1/Le,function(Ue){return(Ue-ue)/Le}}function Dl(ue,Le){return Le=(Le-=ue=+ue)||1/Le,function(Ue){return Math.max(0,Math.min(1,(Ue-ue)/Le))}}i.layout={},i.layout.bundle=function(){return function(ue){for(var Le=[],Ue=-1,$e=ue.length;++Ue<$e;)Le.push(cs(ue[Ue]));return Le}};function cs(ue){for(var Le=ue.source,Ue=ue.target,$e=df(Le,Ue),rt=[Le];Le!==$e;)Le=Le.parent,rt.push(Le);for(var ot=rt.length;Ue!==$e;)rt.splice(ot,0,Ue),Ue=Ue.parent;return rt}function Ls(ue){for(var Le=[],Ue=ue.parent;Ue!=null;)Le.push(ue),ue=Ue,Ue=Ue.parent;return Le.push(ue),Le}function df(ue,Le){if(ue===Le)return ue;for(var Ue=Ls(ue),$e=Ls(Le),rt=Ue.pop(),ot=$e.pop(),Pt=null;rt===ot;)Pt=rt,rt=Ue.pop(),ot=$e.pop();return Pt}i.layout.chord=function(){var ue={},Le,Ue,$e,rt,ot=0,Pt,ft,Ht;function er(){var Pr={},Cr=[],Xr=i.range(rt),rn=[],Ir,Nr,jr,an,hn;for(Le=[],Ue=[],Ir=0,an=-1;++an<rt;){for(Nr=0,hn=-1;++hn<rt;)Nr+=$e[an][hn];Cr.push(Nr),rn.push(i.range(rt)),Ir+=Nr}for(Pt&&Xr.sort(function(Ua,Ca){return Pt(Cr[Ua],Cr[Ca])}),ft&&rn.forEach(function(Ua,Ca){Ua.sort(function(Oa,Qa){return ft($e[Ca][Oa],$e[Ca][Qa])})}),Ir=(Ne-ot*rt)/Ir,Nr=0,an=-1;++an<rt;){for(jr=Nr,hn=-1;++hn<rt;){var Zr=Xr[an],Un=rn[Zr][hn],Yn=$e[Zr][Un],qn=Nr,oa=Nr+=Yn*Ir;Pr[Zr+"-"+Un]={index:Zr,subindex:Un,startAngle:qn,endAngle:oa,value:Yn}}Ue[Zr]={index:Zr,startAngle:jr,endAngle:Nr,value:Cr[Zr]},Nr+=ot}for(an=-1;++an<rt;)for(hn=an-1;++hn<rt;){var wa=Pr[an+"-"+hn],ba=Pr[hn+"-"+an];(wa.value||ba.value)&&Le.push(wa.value<ba.value?{source:ba,target:wa}:{source:wa,target:ba})}Ht&&nr()}function nr(){Le.sort(function(Pr,Cr){return Ht((Pr.source.value+Pr.target.value)/2,(Cr.source.value+Cr.target.value)/2)})}return ue.matrix=function(Pr){return arguments.length?(rt=($e=Pr)&&$e.length,Le=Ue=null,ue):$e},ue.padding=function(Pr){return arguments.length?(ot=Pr,Le=Ue=null,ue):ot},ue.sortGroups=function(Pr){return arguments.length?(Pt=Pr,Le=Ue=null,ue):Pt},ue.sortSubgroups=function(Pr){return arguments.length?(ft=Pr,Le=null,ue):ft},ue.sortChords=function(Pr){return arguments.length?(Ht=Pr,Le&&nr(),ue):Ht},ue.chords=function(){return Le||er(),Le},ue.groups=function(){return Ue||er(),Ue},ue},i.layout.force=function(){var ue={},Le=i.dispatch("start","tick","end"),Ue,$e=[1,1],rt,ot,Pt=.9,ft=kl,Ht=rc,er=-30,nr=nc,Pr=.1,Cr=.64,Xr=[],rn=[],Ir,Nr,jr;function an(Zr){return function(Un,Yn,qn,oa){if(Un.point!==Zr){var wa=Un.cx-Zr.x,ba=Un.cy-Zr.y,Ua=oa-Yn,Ca=wa*wa+ba*ba;if(Ua*Ua/Cr<Ca){if(Ca<nr){var Oa=Un.charge/Ca;Zr.px-=wa*Oa,Zr.py-=ba*Oa}return!0}if(Un.point&&Ca&&Ca<nr){var Oa=Un.pointCharge/Ca;Zr.px-=wa*Oa,Zr.py-=ba*Oa}}return!Un.charge}}ue.tick=function(){if((ot*=.99)<.005)return Ue=null,Le.end({type:"end",alpha:ot=0}),!0;var Zr=Xr.length,Un=rn.length,Yn,qn,oa,wa,ba,Ua,Ca,Oa,Qa;for(qn=0;qn<Un;++qn)oa=rn[qn],wa=oa.source,ba=oa.target,Oa=ba.x-wa.x,Qa=ba.y-wa.y,(Ua=Oa*Oa+Qa*Qa)&&(Ua=ot*Nr[qn]*((Ua=Math.sqrt(Ua))-Ir[qn])/Ua,Oa*=Ua,Qa*=Ua,ba.x-=Oa*(Ca=wa.weight+ba.weight?wa.weight/(wa.weight+ba.weight):.5),ba.y-=Qa*Ca,wa.x+=Oa*(Ca=1-Ca),wa.y+=Qa*Ca);if((Ca=ot*Pr)&&(Oa=$e[0]/2,Qa=$e[1]/2,qn=-1,Ca))for(;++qn<Zr;)oa=Xr[qn],oa.x+=(Oa-oa.x)*Ca,oa.y+=(Qa-oa.y)*Ca;if(er)for(Iu(Yn=i.geom.quadtree(Xr),ot,jr),qn=-1;++qn<Zr;)(oa=Xr[qn]).fixed||Yn.visit(an(oa));for(qn=-1;++qn<Zr;)oa=Xr[qn],oa.fixed?(oa.x=oa.px,oa.y=oa.py):(oa.x-=(oa.px-(oa.px=oa.x))*Pt,oa.y-=(oa.py-(oa.py=oa.y))*Pt);Le.tick({type:"tick",alpha:ot})},ue.nodes=function(Zr){return arguments.length?(Xr=Zr,ue):Xr},ue.links=function(Zr){return arguments.length?(rn=Zr,ue):rn},ue.size=function(Zr){return arguments.length?($e=Zr,ue):$e},ue.linkDistance=function(Zr){return arguments.length?(ft=typeof Zr=="function"?Zr:+Zr,ue):ft},ue.distance=ue.linkDistance,ue.linkStrength=function(Zr){return arguments.length?(Ht=typeof Zr=="function"?Zr:+Zr,ue):Ht},ue.friction=function(Zr){return arguments.length?(Pt=+Zr,ue):Pt},ue.charge=function(Zr){return arguments.length?(er=typeof Zr=="function"?Zr:+Zr,ue):er},ue.chargeDistance=function(Zr){return arguments.length?(nr=Zr*Zr,ue):Math.sqrt(nr)},ue.gravity=function(Zr){return arguments.length?(Pr=+Zr,ue):Pr},ue.theta=function(Zr){return arguments.length?(Cr=Zr*Zr,ue):Math.sqrt(Cr)},ue.alpha=function(Zr){return arguments.length?(Zr=+Zr,ot?Zr>0?ot=Zr:(Ue.c=null,Ue.t=NaN,Ue=null,Le.end({type:"end",alpha:ot=0})):Zr>0&&(Le.start({type:"start",alpha:ot=Zr}),Ue=Pn(ue.tick)),ue):ot},ue.start=function(){var Zr,Un=Xr.length,Yn=rn.length,qn=$e[0],oa=$e[1],wa,ba;for(Zr=0;Zr<Un;++Zr)(ba=Xr[Zr]).index=Zr,ba.weight=0;for(Zr=0;Zr<Yn;++Zr)ba=rn[Zr],typeof ba.source=="number"&&(ba.source=Xr[ba.source]),typeof ba.target=="number"&&(ba.target=Xr[ba.target]),++ba.source.weight,++ba.target.weight;for(Zr=0;Zr<Un;++Zr)ba=Xr[Zr],isNaN(ba.x)&&(ba.x=Ua("x",qn)),isNaN(ba.y)&&(ba.y=Ua("y",oa)),isNaN(ba.px)&&(ba.px=ba.x),isNaN(ba.py)&&(ba.py=ba.y);if(Ir=[],typeof ft=="function")for(Zr=0;Zr<Yn;++Zr)Ir[Zr]=+ft.call(this,rn[Zr],Zr);else for(Zr=0;Zr<Yn;++Zr)Ir[Zr]=ft;if(Nr=[],typeof Ht=="function")for(Zr=0;Zr<Yn;++Zr)Nr[Zr]=+Ht.call(this,rn[Zr],Zr);else for(Zr=0;Zr<Yn;++Zr)Nr[Zr]=Ht;if(jr=[],typeof er=="function")for(Zr=0;Zr<Un;++Zr)jr[Zr]=+er.call(this,Xr[Zr],Zr);else for(Zr=0;Zr<Un;++Zr)jr[Zr]=er;function Ua(Ca,Oa){if(!wa){for(wa=new Array(Un),fi=0;fi<Un;++fi)wa[fi]=[];for(fi=0;fi<Yn;++fi){var Qa=rn[fi];wa[Qa.source.index].push(Qa.target),wa[Qa.target.index].push(Qa.source)}}for(var ti=wa[Zr],fi=-1,Vn=ti.length,Na;++fi<Vn;)if(!isNaN(Na=ti[fi][Ca]))return Na;return Math.random()*Oa}return ue.resume()},ue.resume=function(){return ue.alpha(.1)},ue.stop=function(){return ue.alpha(0)},ue.drag=function(){if(rt||(rt=i.behavior.drag().origin(O).on("dragstart.force",Il).on("drag.force",hn).on("dragend.force",Gs)),!arguments.length)return rt;this.on("mouseover.force",_i).on("mouseout.force",pf).call(rt)};function hn(Zr){Zr.px=i.event.x,Zr.py=i.event.y,ue.resume()}return i.rebind(ue,Le,"on")};function Il(ue){ue.fixed|=2}function Gs(ue){ue.fixed&=-7}function _i(ue){ue.fixed|=4,ue.px=ue.x,ue.py=ue.y}function pf(ue){ue.fixed&=-5}function Iu(ue,Le,Ue){var $e=0,rt=0;if(ue.charge=0,!ue.leaf)for(var ot=ue.nodes,Pt=ot.length,ft=-1,Ht;++ft<Pt;)Ht=ot[ft],Ht!=null&&(Iu(Ht,Le,Ue),ue.charge+=Ht.charge,$e+=Ht.charge*Ht.cx,rt+=Ht.charge*Ht.cy);if(ue.point){ue.leaf||(ue.point.x+=Math.random()-.5,ue.point.y+=Math.random()-.5);var er=Le*Ue[ue.point.index];ue.charge+=ue.pointCharge=er,$e+=er*ue.point.x,rt+=er*ue.point.y}ue.cx=$e/ue.charge,ue.cy=rt/ue.charge}var kl=20,rc=1,nc=1/0;i.layout.hierarchy=function(){var ue=gf,Le=ku,Ue=uh;function $e(rt){var ot=[rt],Pt=[],ft;for(rt.depth=0;(ft=ot.pop())!=null;)if(Pt.push(ft),(er=Le.call($e,ft,ft.depth))&&(Ht=er.length)){for(var Ht,er,nr;--Ht>=0;)ot.push(nr=er[Ht]),nr.parent=ft,nr.depth=ft.depth+1;Ue&&(ft.value=0),ft.children=er}else Ue&&(ft.value=+Ue.call($e,ft,ft.depth)||0),delete ft.children;return Qi(rt,function(Pr){var Cr,Xr;ue&&(Cr=Pr.children)&&Cr.sort(ue),Ue&&(Xr=Pr.parent)&&(Xr.value+=Pr.value)}),Pt}return $e.sort=function(rt){return arguments.length?(ue=rt,$e):ue},$e.children=function(rt){return arguments.length?(Le=rt,$e):Le},$e.value=function(rt){return arguments.length?(Ue=rt,$e):Ue},$e.revalue=function(rt){return Ue&&(_l(rt,function(ot){ot.children&&(ot.value=0)}),Qi(rt,function(ot){var Pt;ot.children||(ot.value=+Ue.call($e,ot,ot.depth)||0),(Pt=ot.parent)&&(Pt.value+=ot.value)})),rt},$e};function Fl(ue,Le){return i.rebind(ue,Le,"sort","children","value"),ue.nodes=ue,ue.links=fh,ue}function _l(ue,Le){for(var Ue=[ue];(ue=Ue.pop())!=null;)if(Le(ue),(rt=ue.children)&&($e=rt.length))for(var $e,rt;--$e>=0;)Ue.push(rt[$e])}function Qi(ue,Le){for(var Ue=[ue],$e=[];(ue=Ue.pop())!=null;)if($e.push(ue),(Pt=ue.children)&&(ot=Pt.length))for(var rt=-1,ot,Pt;++rt<ot;)Ue.push(Pt[rt]);for(;(ue=$e.pop())!=null;)Le(ue)}function ku(ue){return ue.children}function uh(ue){return ue.value}function gf(ue,Le){return Le.value-ue.value}function fh(ue){return i.merge(ue.map(function(Le){return(Le.children||[]).map(function(Ue){return{source:Le,target:Ue}})}))}i.layout.partition=function(){var ue=i.layout.hierarchy(),Le=[1,1];function Ue(ot,Pt,ft,Ht){var er=ot.children;if(ot.x=Pt,ot.y=ot.depth*Ht,ot.dx=ft,ot.dy=Ht,er&&(Pr=er.length)){var nr=-1,Pr,Cr,Xr;for(ft=ot.value?ft/ot.value:0;++nr<Pr;)Ue(Cr=er[nr],Pt,Xr=Cr.value*ft,Ht),Pt+=Xr}}function $e(ot){var Pt=ot.children,ft=0;if(Pt&&(er=Pt.length))for(var Ht=-1,er;++Ht<er;)ft=Math.max(ft,$e(Pt[Ht]));return 1+ft}function rt(ot,Pt){var ft=ue.call(this,ot,Pt);return Ue(ft[0],0,Le[0],Le[1]/$e(ft[0])),ft}return rt.size=function(ot){return arguments.length?(Le=ot,rt):Le},Fl(rt,ue)},i.layout.pie=function(){var ue=Number,Le=Fu,Ue=0,$e=Ne,rt=0;function ot(Pt){var ft=Pt.length,Ht=Pt.map(function(an,hn){return+ue.call(ot,an,hn)}),er=+(typeof Ue=="function"?Ue.apply(this,arguments):Ue),nr=(typeof $e=="function"?$e.apply(this,arguments):$e)-er,Pr=Math.min(Math.abs(nr)/ft,+(typeof rt=="function"?rt.apply(this,arguments):rt)),Cr=Pr*(nr<0?-1:1),Xr=i.sum(Ht),rn=Xr?(nr-ft*Cr)/Xr:0,Ir=i.range(ft),Nr=[],jr;return Le!=null&&Ir.sort(Le===Fu?function(an,hn){return Ht[hn]-Ht[an]}:function(an,hn){return Le(Pt[an],Pt[hn])}),Ir.forEach(function(an){Nr[an]={data:Pt[an],value:jr=Ht[an],startAngle:er,endAngle:er+=jr*rn+Cr,padAngle:Pr}}),Nr}return ot.value=function(Pt){return arguments.length?(ue=Pt,ot):ue},ot.sort=function(Pt){return arguments.length?(Le=Pt,ot):Le},ot.startAngle=function(Pt){return arguments.length?(Ue=Pt,ot):Ue},ot.endAngle=function(Pt){return arguments.length?($e=Pt,ot):$e},ot.padAngle=function(Pt){return arguments.length?(rt=Pt,ot):rt},ot};var Fu={};i.layout.stack=function(){var ue=O,Le=_u,Ue=bf,$e=mf,rt=iu,ot=yf;function Pt(ft,Ht){if(!(rn=ft.length))return ft;var er=ft.map(function(an,hn){return ue.call(Pt,an,hn)}),nr=er.map(function(an){return an.map(function(hn,Zr){return[rt.call(Pt,hn,Zr),ot.call(Pt,hn,Zr)]})}),Pr=Le.call(Pt,nr,Ht);er=i.permute(er,Pr),nr=i.permute(nr,Pr);var Cr=Ue.call(Pt,nr,Ht),Xr=er[0].length,rn,Ir,Nr,jr;for(Nr=0;Nr<Xr;++Nr)for($e.call(Pt,er[0][Nr],jr=Cr[Nr],nr[0][Nr][1]),Ir=1;Ir<rn;++Ir)$e.call(Pt,er[Ir][Nr],jr+=nr[Ir-1][Nr][1],nr[Ir][Nr][1]);return ft}return Pt.values=function(ft){return arguments.length?(ue=ft,Pt):ue},Pt.order=function(ft){return arguments.length?(Le=typeof ft=="function"?ft:ou.get(ft)||_u,Pt):Le},Pt.offset=function(ft){return arguments.length?(Ue=typeof ft=="function"?ft:xf.get(ft)||bf,Pt):Ue},Pt.x=function(ft){return arguments.length?(rt=ft,Pt):rt},Pt.y=function(ft){return arguments.length?(ot=ft,Pt):ot},Pt.out=function(ft){return arguments.length?($e=ft,Pt):$e},Pt};function iu(ue){return ue.x}function yf(ue){return ue.y}function mf(ue,Le,Ue){ue.y0=Le,ue.y=Ue}var ou=i.map({"inside-out":function(ue){var Le=ue.length,Ue,$e,rt=ue.map(pi),ot=ue.map(ac),Pt=i.range(Le).sort(function(Pr,Cr){return rt[Pr]-rt[Cr]}),ft=0,Ht=0,er=[],nr=[];for(Ue=0;Ue<Le;++Ue)$e=Pt[Ue],ft<Ht?(ft+=ot[$e],er.push($e)):(Ht+=ot[$e],nr.push($e));return nr.reverse().concat(er)},reverse:function(ue){return i.range(ue.length).reverse()},default:_u}),xf=i.map({silhouette:function(ue){var Le=ue.length,Ue=ue[0].length,$e=[],rt=0,ot,Pt,ft,Ht=[];for(Pt=0;Pt<Ue;++Pt){for(ot=0,ft=0;ot<Le;ot++)ft+=ue[ot][Pt][1];ft>rt&&(rt=ft),$e.push(ft)}for(Pt=0;Pt<Ue;++Pt)Ht[Pt]=(rt-$e[Pt])/2;return Ht},wiggle:function(ue){var Le=ue.length,Ue=ue[0],$e=Ue.length,rt,ot,Pt,ft,Ht,er,nr,Pr,Cr,Xr=[];for(Xr[0]=Pr=Cr=0,ot=1;ot<$e;++ot){for(rt=0,ft=0;rt<Le;++rt)ft+=ue[rt][ot][1];for(rt=0,Ht=0,nr=Ue[ot][0]-Ue[ot-1][0];rt<Le;++rt){for(Pt=0,er=(ue[rt][ot][1]-ue[rt][ot-1][1])/(2*nr);Pt<rt;++Pt)er+=(ue[Pt][ot][1]-ue[Pt][ot-1][1])/nr;Ht+=er*ue[rt][ot][1]}Xr[ot]=Pr-=ft?Ht/ft*nr:0,Pr<Cr&&(Cr=Pr)}for(ot=0;ot<$e;++ot)Xr[ot]-=Cr;return Xr},expand:function(ue){var Le=ue.length,Ue=ue[0].length,$e=1/Le,rt,ot,Pt,ft=[];for(ot=0;ot<Ue;++ot){for(rt=0,Pt=0;rt<Le;rt++)Pt+=ue[rt][ot][1];if(Pt)for(rt=0;rt<Le;rt++)ue[rt][ot][1]/=Pt;else for(rt=0;rt<Le;rt++)ue[rt][ot][1]=$e}for(ot=0;ot<Ue;++ot)ft[ot]=0;return ft},zero:bf});function _u(ue){return i.range(ue.length)}function bf(ue){for(var Le=-1,Ue=ue[0].length,$e=[];++Le<Ue;)$e[Le]=0;return $e}function pi(ue){for(var Le=1,Ue=0,$e=ue[0][1],rt,ot=ue.length;Le<ot;++Le)(rt=ue[Le][1])>$e&&(Ue=Le,$e=rt);return Ue}function ac(ue){return ue.reduce(Jo,0)}function Jo(ue,Le){return ue+Le[1]}i.layout.histogram=function(){var ue=!0,Le=Number,Ue=wf,$e=zl;function rt(ot,Cr){for(var ft=[],Ht=ot.map(Le,this),er=Ue.call(this,Ht,Cr),nr=$e.call(this,er,Ht,Cr),Pr,Cr=-1,Xr=Ht.length,rn=nr.length-1,Ir=ue?1:1/Xr,Nr;++Cr<rn;)Pr=ft[Cr]=[],Pr.dx=nr[Cr+1]-(Pr.x=nr[Cr]),Pr.y=0;if(rn>0)for(Cr=-1;++Cr<Xr;)Nr=Ht[Cr],Nr>=er[0]&&Nr<=er[1]&&(Pr=ft[i.bisect(nr,Nr,1,rn)-1],Pr.y+=Ir,Pr.push(ot[Cr]));return ft}return rt.value=function(ot){return arguments.length?(Le=ot,rt):Le},rt.range=function(ot){return arguments.length?(Ue=qr(ot),rt):Ue},rt.bins=function(ot){return arguments.length?($e=typeof ot=="number"?function(Pt){return cl(Pt,ot)}:qr(ot),rt):$e},rt.frequency=function(ot){return arguments.length?(ue=!!ot,rt):ue},rt};function zl(ue,Le){return cl(ue,Math.ceil(Math.log(Le.length)/Math.LN2+1))}function cl(ue,Le){for(var Ue=-1,$e=+ue[0],rt=(ue[1]-$e)/Le,ot=[];++Ue<=Le;)ot[Ue]=rt*Ue+$e;return ot}function wf(ue){return[i.min(ue),i.max(ue)]}i.layout.pack=function(){var ue=i.layout.hierarchy().sort(Oi),Le=0,Ue=[1,1],$e;function rt(ot,Pt){var ft=ue.call(this,ot,Pt),Ht=ft[0],er=Ue[0],nr=Ue[1],Pr=$e==null?Math.sqrt:typeof $e=="function"?$e:function(){return $e};if(Ht.x=Ht.y=0,Qi(Ht,function(Xr){Xr.r=+Pr(Xr.value)}),Qi(Ht,Rs),Le){var Cr=Le*($e?1:Math.max(2*Ht.r/er,2*Ht.r/nr))/2;Qi(Ht,function(Xr){Xr.r+=Cr}),Qi(Ht,Rs),Qi(Ht,function(Xr){Xr.r-=Cr})}return js(Ht,er/2,nr/2,$e?1:1/Math.max(2*Ht.r/er,2*Ht.r/nr)),ft}return rt.size=function(ot){return arguments.length?(Ue=ot,rt):Ue},rt.radius=function(ot){return arguments.length?($e=ot==null||typeof ot=="function"?ot:+ot,rt):$e},rt.padding=function(ot){return arguments.length?(Le=+ot,rt):Le},Fl(rt,ue)};function Oi(ue,Le){return ue.value-Le.value}function su(ue,Le){var Ue=ue._pack_next;ue._pack_next=Le,Le._pack_prev=ue,Le._pack_next=Ue,Ue._pack_prev=Le}function Eo(ue,Le){ue._pack_next=Le,Le._pack_prev=ue}function Ps(ue,Le){var Ue=Le.x-ue.x,$e=Le.y-ue.y,rt=ue.r+Le.r;return .999*rt*rt>Ue*Ue+$e*$e}function Rs(ue){if(!(Le=ue.children)||!(Cr=Le.length))return;var Le,Ue=1/0,$e=-1/0,rt=1/0,ot=-1/0,Pt,ft,Ht,er,nr,Pr,Cr;function Xr(Zr){Ue=Math.min(Zr.x-Zr.r,Ue),$e=Math.max(Zr.x+Zr.r,$e),rt=Math.min(Zr.y-Zr.r,rt),ot=Math.max(Zr.y+Zr.r,ot)}if(Le.forEach(Ws),Pt=Le[0],Pt.x=-Pt.r,Pt.y=0,Xr(Pt),Cr>1&&(ft=Le[1],ft.x=ft.r,ft.y=0,Xr(ft),Cr>2))for(Ht=Le[2],Qo(Pt,ft,Ht),Xr(Ht),su(Pt,Ht),Pt._pack_prev=Ht,su(Ht,ft),ft=Pt._pack_next,er=3;er<Cr;er++){Qo(Pt,ft,Ht=Le[er]);var rn=0,Ir=1,Nr=1;for(nr=ft._pack_next;nr!==ft;nr=nr._pack_next,Ir++)if(Ps(nr,Ht)){rn=1;break}if(rn==1)for(Pr=Pt._pack_prev;Pr!==nr._pack_prev&&!Ps(Pr,Ht);Pr=Pr._pack_prev,Nr++);rn?(Ir<Nr||Ir==Nr&&ft.r<Pt.r?Eo(Pt,ft=nr):Eo(Pt=Pr,ft),er--):(su(Pt,Ht),ft=Ht,Xr(Ht))}var jr=(Ue+$e)/2,an=(rt+ot)/2,hn=0;for(er=0;er<Cr;er++)Ht=Le[er],Ht.x-=jr,Ht.y-=an,hn=Math.max(hn,Ht.r+Math.sqrt(Ht.x*Ht.x+Ht.y*Ht.y));ue.r=hn,Le.forEach(Ys)}function Ws(ue){ue._pack_next=ue._pack_prev=ue}function Ys(ue){delete ue._pack_next,delete ue._pack_prev}function js(ue,Le,Ue,$e){var rt=ue.children;if(ue.x=Le+=$e*ue.x,ue.y=Ue+=$e*ue.y,ue.r*=$e,rt)for(var ot=-1,Pt=rt.length;++ot<Pt;)js(rt[ot],Le,Ue,$e)}function Qo(ue,Le,Ue){var $e=ue.r+Ue.r,rt=Le.x-ue.x,ot=Le.y-ue.y;if($e&&(rt||ot)){var Pt=Le.r+Ue.r,ft=rt*rt+ot*ot;Pt*=Pt,$e*=$e;var Ht=.5+($e-Pt)/(2*ft),er=Math.sqrt(Math.max(0,2*Pt*($e+ft)-($e-=ft)*$e-Pt*Pt))/(2*ft);Ue.x=ue.x+Ht*rt+er*ot,Ue.y=ue.y+Ht*ot-er*rt}else Ue.x=ue.x+$e,Ue.y=ue.y}i.layout.tree=function(){var ue=i.layout.hierarchy().sort(null).value(null),Le=hs,Ue=[1,1],$e=null;function rt(nr,Pr){var Cr=ue.call(this,nr,Pr),Xr=Cr[0],rn=ot(Xr);if(Qi(rn,Pt),rn.parent.m=-rn.z,_l(rn,ft),$e)_l(Xr,er);else{var Ir=Xr,Nr=Xr,jr=Xr;_l(Xr,function(Un){Un.x<Ir.x&&(Ir=Un),Un.x>Nr.x&&(Nr=Un),Un.depth>jr.depth&&(jr=Un)});var an=Le(Ir,Nr)/2-Ir.x,hn=Ue[0]/(Nr.x+Le(Nr,Ir)/2+an),Zr=Ue[1]/(jr.depth||1);_l(Xr,function(Un){Un.x=(Un.x+an)*hn,Un.y=Un.depth*Zr})}return Cr}function ot(nr){for(var Pr={A:null,children:[nr]},Cr=[Pr],Xr;(Xr=Cr.pop())!=null;)for(var rn=Xr.children,Ir,Nr=0,jr=rn.length;Nr<jr;++Nr)Cr.push((rn[Nr]=Ir={_:rn[Nr],parent:Xr,children:(Ir=rn[Nr].children)&&Ir.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Nr}).a=Ir);return Pr.children[0]}function Pt(nr){var Pr=nr.children,Cr=nr.parent.children,Xr=nr.i?Cr[nr.i-1]:null;if(Pr.length){ch(nr);var rn=(Pr[0].z+Pr[Pr.length-1].z)/2;Xr?(nr.z=Xr.z+Le(nr._,Xr._),nr.m=nr.z-rn):nr.z=rn}else Xr&&(nr.z=Xr.z+Le(nr._,Xr._));nr.parent.A=Ht(nr,Xr,nr.parent.A||Cr[0])}function ft(nr){nr._.x=nr.z+nr.parent.m,nr.m+=nr.parent.m}function Ht(nr,Pr,Cr){if(Pr){for(var Xr=nr,rn=nr,Ir=Pr,Nr=Xr.parent.children[0],jr=Xr.m,an=rn.m,hn=Ir.m,Zr=Nr.m,Un;Ir=uu(Ir),Xr=lu(Xr),Ir&&Xr;)Nr=lu(Nr),rn=uu(rn),rn.a=nr,Un=Ir.z+hn-Xr.z-jr+Le(Ir._,Xr._),Un>0&&(zu(hh(Ir,nr,Cr),nr,Un),jr+=Un,an+=Un),hn+=Ir.m,jr+=Xr.m,Zr+=Nr.m,an+=rn.m;Ir&&!uu(rn)&&(rn.t=Ir,rn.m+=hn-an),Xr&&!lu(Nr)&&(Nr.t=Xr,Nr.m+=jr-Zr,Cr=nr)}return Cr}function er(nr){nr.x*=Ue[0],nr.y=nr.depth*Ue[1]}return rt.separation=function(nr){return arguments.length?(Le=nr,rt):Le},rt.size=function(nr){return arguments.length?($e=(Ue=nr)==null?er:null,rt):$e?null:Ue},rt.nodeSize=function(nr){return arguments.length?($e=(Ue=nr)==null?null:er,rt):$e?Ue:null},Fl(rt,ue)};function hs(ue,Le){return ue.parent==Le.parent?1:2}function lu(ue){var Le=ue.children;return Le.length?Le[0]:ue.t}function uu(ue){var Le=ue.children,Ue;return(Ue=Le.length)?Le[Ue-1]:ue.t}function zu(ue,Le,Ue){var $e=Ue/(Le.i-ue.i);Le.c-=$e,Le.s+=Ue,ue.c+=$e,Le.z+=Ue,Le.m+=Ue}function ch(ue){for(var Le=0,Ue=0,$e=ue.children,rt=$e.length,ot;--rt>=0;)ot=$e[rt],ot.z+=Le,ot.m+=Le,Le+=ot.s+(Ue+=ot.c)}function hh(ue,Le,Ue){return ue.a.parent===Le.parent?ue.a:Ue}i.layout.cluster=function(){var ue=i.layout.hierarchy().sort(null).value(null),Le=hs,Ue=[1,1],$e=!1;function rt(ot,Pt){var ft=ue.call(this,ot,Pt),Ht=ft[0],er,nr=0;Qi(Ht,function(Ir){var Nr=Ir.children;Nr&&Nr.length?(Ir.x=dh(Nr),Ir.y=vh(Nr)):(Ir.x=er?nr+=Le(Ir,er):0,Ir.y=0,er=Ir)});var Pr=Ou(Ht),Cr=ic(Ht),Xr=Pr.x-Le(Pr,Cr)/2,rn=Cr.x+Le(Cr,Pr)/2;return Qi(Ht,$e?function(Ir){Ir.x=(Ir.x-Ht.x)*Ue[0],Ir.y=(Ht.y-Ir.y)*Ue[1]}:function(Ir){Ir.x=(Ir.x-Xr)/(rn-Xr)*Ue[0],Ir.y=(1-(Ht.y?Ir.y/Ht.y:1))*Ue[1]}),ft}return rt.separation=function(ot){return arguments.length?(Le=ot,rt):Le},rt.size=function(ot){return arguments.length?($e=(Ue=ot)==null,rt):$e?null:Ue},rt.nodeSize=function(ot){return arguments.length?($e=(Ue=ot)!=null,rt):$e?Ue:null},Fl(rt,ue)};function vh(ue){return 1+i.max(ue,function(Le){return Le.y})}function dh(ue){return ue.reduce(function(Le,Ue){return Le+Ue.x},0)/ue.length}function Ou(ue){var Le=ue.children;return Le&&Le.length?Ou(Le[0]):ue}function ic(ue){var Le=ue.children,Ue;return Le&&(Ue=Le.length)?ic(Le[Ue-1]):ue}i.layout.treemap=function(){var ue=i.layout.hierarchy(),Le=Math.round,Ue=[1,1],$e=null,rt=Ol,ot=!1,Pt,ft="squarify",Ht=.5*(1+Math.sqrt(5));function er(Ir,Nr){for(var jr=-1,an=Ir.length,hn,Zr;++jr<an;)Zr=(hn=Ir[jr]).value*(Nr<0?0:Nr),hn.area=isNaN(Zr)||Zr<=0?0:Zr}function nr(Ir){var Nr=Ir.children;if(Nr&&Nr.length){var jr=rt(Ir),an=[],hn=Nr.slice(),Zr,Un=1/0,Yn,qn=ft==="slice"?jr.dx:ft==="dice"?jr.dy:ft==="slice-dice"?Ir.depth&1?jr.dy:jr.dx:Math.min(jr.dx,jr.dy),oa;for(er(hn,jr.dx*jr.dy/Ir.value),an.area=0;(oa=hn.length)>0;)an.push(Zr=hn[oa-1]),an.area+=Zr.area,ft!=="squarify"||(Yn=Cr(an,qn))<=Un?(hn.pop(),Un=Yn):(an.area-=an.pop().area,Xr(an,qn,jr,!1),qn=Math.min(jr.dx,jr.dy),an.length=an.area=0,Un=1/0);an.length&&(Xr(an,qn,jr,!0),an.length=an.area=0),Nr.forEach(nr)}}function Pr(Ir){var Nr=Ir.children;if(Nr&&Nr.length){var jr=rt(Ir),an=Nr.slice(),hn,Zr=[];for(er(an,jr.dx*jr.dy/Ir.value),Zr.area=0;hn=an.pop();)Zr.push(hn),Zr.area+=hn.area,hn.z!=null&&(Xr(Zr,hn.z?jr.dx:jr.dy,jr,!an.length),Zr.length=Zr.area=0);Nr.forEach(Pr)}}function Cr(Ir,Nr){for(var jr=Ir.area,an,hn=0,Zr=1/0,Un=-1,Yn=Ir.length;++Un<Yn;)(an=Ir[Un].area)&&(an<Zr&&(Zr=an),an>hn&&(hn=an));return jr*=jr,Nr*=Nr,jr?Math.max(Nr*hn*Ht/jr,jr/(Nr*Zr*Ht)):1/0}function Xr(Ir,Nr,jr,an){var hn=-1,Zr=Ir.length,Un=jr.x,Yn=jr.y,qn=Nr?Le(Ir.area/Nr):0,oa;if(Nr==jr.dx){for((an||qn>jr.dy)&&(qn=jr.dy);++hn<Zr;)oa=Ir[hn],oa.x=Un,oa.y=Yn,oa.dy=qn,Un+=oa.dx=Math.min(jr.x+jr.dx-Un,qn?Le(oa.area/qn):0);oa.z=!0,oa.dx+=jr.x+jr.dx-Un,jr.y+=qn,jr.dy-=qn}else{for((an||qn>jr.dx)&&(qn=jr.dx);++hn<Zr;)oa=Ir[hn],oa.x=Un,oa.y=Yn,oa.dx=qn,Yn+=oa.dy=Math.min(jr.y+jr.dy-Yn,qn?Le(oa.area/qn):0);oa.z=!1,oa.dy+=jr.y+jr.dy-Yn,jr.x+=qn,jr.dx-=qn}}function rn(Ir){var Nr=Pt||ue(Ir),jr=Nr[0];return jr.x=jr.y=0,jr.value?(jr.dx=Ue[0],jr.dy=Ue[1]):jr.dx=jr.dy=0,Pt&&ue.revalue(jr),er([jr],jr.dx*jr.dy/jr.value),(Pt?Pr:nr)(jr),ot&&(Pt=Nr),Nr}return rn.size=function(Ir){return arguments.length?(Ue=Ir,rn):Ue},rn.padding=function(Ir){if(!arguments.length)return $e;function Nr(hn){var Zr=Ir.call(rn,hn,hn.depth);return Zr==null?Ol(hn):ro(hn,typeof Zr=="number"?[Zr,Zr,Zr,Zr]:Zr)}function jr(hn){return ro(hn,Ir)}var an;return rt=($e=Ir)==null?Ol:(an=typeof Ir)=="function"?Nr:(an==="number"&&(Ir=[Ir,Ir,Ir,Ir]),jr),rn},rn.round=function(Ir){return arguments.length?(Le=Ir?Math.round:Number,rn):Le!=Number},rn.sticky=function(Ir){return arguments.length?(ot=Ir,Pt=null,rn):ot},rn.ratio=function(Ir){return arguments.length?(Ht=Ir,rn):Ht},rn.mode=function(Ir){return arguments.length?(ft=Ir+"",rn):ft},Fl(rn,ue)};function Ol(ue){return{x:ue.x,y:ue.y,dx:ue.dx,dy:ue.dy}}function ro(ue,Le){var Ue=ue.x+Le[3],$e=ue.y+Le[0],rt=ue.dx-Le[1]-Le[3],ot=ue.dy-Le[0]-Le[2];return rt<0&&(Ue+=rt/2,rt=0),ot<0&&($e+=ot/2,ot=0),{x:Ue,y:$e,dx:rt,dy:ot}}i.random={normal:function(ue,Le){var Ue=arguments.length;return Ue<2&&(Le=1),Ue<1&&(ue=0),function(){var $e,rt,ot;do $e=Math.random()*2-1,rt=Math.random()*2-1,ot=$e*$e+rt*rt;while(!ot||ot>1);return ue+Le*$e*Math.sqrt(-2*Math.log(ot)/ot)}},logNormal:function(){var ue=i.random.normal.apply(i,arguments);return function(){return Math.exp(ue())}},bates:function(ue){var Le=i.random.irwinHall(ue);return function(){return Le()/ue}},irwinHall:function(ue){return function(){for(var Le=0,Ue=0;Ue<ue;Ue++)Le+=Math.random();return Le}}},i.scale={};function Co(ue){var Le=ue[0],Ue=ue[ue.length-1];return Le<Ue?[Le,Ue]:[Ue,Le]}function fu(ue){return ue.rangeExtent?ue.rangeExtent():Co(ue.range())}function hl(ue,Le,Ue,$e){var rt=Ue(ue[0],ue[1]),ot=$e(Le[0],Le[1]);return function(Pt){return ot(rt(Pt))}}function cu(ue,Le){var Ue=0,$e=ue.length-1,rt=ue[Ue],ot=ue[$e],Pt;return ot<rt&&(Pt=Ue,Ue=$e,$e=Pt,Pt=rt,rt=ot,ot=Pt),ue[Ue]=Le.floor(rt),ue[$e]=Le.ceil(ot),ue}function Nu(ue){return ue?{floor:function(Le){return Math.floor(Le/ue)*ue},ceil:function(Le){return Math.ceil(Le/ue)*ue}}:ph}var ph={floor:O,ceil:O};function oc(ue,Le,Ue,$e){var rt=[],ot=[],Pt=0,ft=Math.min(ue.length,Le.length)-1;for(ue[ft]<ue[0]&&(ue=ue.slice().reverse(),Le=Le.slice().reverse());++Pt<=ft;)rt.push(Ue(ue[Pt-1],ue[Pt])),ot.push($e(Le[Pt-1],Le[Pt]));return function(Ht){var er=i.bisect(ue,Ht,1,ft)-1;return ot[er](rt[er](Ht))}}i.scale.linear=function(){return sc([0,1],[0,1],Ss,!1)};function sc(ue,Le,Ue,$e){var rt,ot;function Pt(){var Ht=Math.min(ue.length,Le.length)>2?oc:hl,er=$e?Dl:au;return rt=Ht(ue,Le,er,Ue),ot=Ht(Le,ue,er,Ss),ft}function ft(Ht){return rt(Ht)}return ft.invert=function(Ht){return ot(Ht)},ft.domain=function(Ht){return arguments.length?(ue=Ht.map(Number),Pt()):ue},ft.range=function(Ht){return arguments.length?(Le=Ht,Pt()):Le},ft.rangeRound=function(Ht){return ft.range(Ht).interpolate(hf)},ft.clamp=function(Ht){return arguments.length?($e=Ht,Pt()):$e},ft.interpolate=function(Ht){return arguments.length?(Ue=Ht,Pt()):Ue},ft.ticks=function(Ht){return vs(ue,Ht)},ft.tickFormat=function(Ht,er){return d3_scale_linearTickFormat(ue,Ht,er)},ft.nice=function(Ht){return Zs(ue,Ht),Pt()},ft.copy=function(){return sc(ue,Le,Ue,$e)},Pt()}function Tf(ue,Le){return i.rebind(ue,Le,"range","rangeRound","interpolate","clamp")}function Zs(ue,Le){return cu(ue,Nu(Ni(ue,Le)[2])),cu(ue,Nu(Ni(ue,Le)[2])),ue}function Ni(ue,Le){Le==null&&(Le=10);var Ue=Co(ue),$e=Ue[1]-Ue[0],rt=Math.pow(10,Math.floor(Math.log($e/Le)/Math.LN10)),ot=Le/$e*rt;return ot<=.15?rt*=10:ot<=.35?rt*=5:ot<=.75&&(rt*=2),Ue[0]=Math.ceil(Ue[0]/rt)*rt,Ue[1]=Math.floor(Ue[1]/rt)*rt+rt*.5,Ue[2]=rt,Ue}function vs(ue,Le){return i.range.apply(i,Ni(ue,Le))}i.scale.log=function(){return Af(i.scale.linear().domain([0,1]),10,!0,[1,10])};function Af(ue,Le,Ue,$e){function rt(ft){return(Ue?Math.log(ft<0?0:ft):-Math.log(ft>0?0:-ft))/Math.log(Le)}function ot(ft){return Ue?Math.pow(Le,ft):-Math.pow(Le,-ft)}function Pt(ft){return ue(rt(ft))}return Pt.invert=function(ft){return ot(ue.invert(ft))},Pt.domain=function(ft){return arguments.length?(Ue=ft[0]>=0,ue.domain(($e=ft.map(Number)).map(rt)),Pt):$e},Pt.base=function(ft){return arguments.length?(Le=+ft,ue.domain($e.map(rt)),Pt):Le},Pt.nice=function(){var ft=cu($e.map(rt),Ue?Math:lc);return ue.domain(ft),$e=ft.map(ot),Pt},Pt.ticks=function(){var ft=Co($e),Ht=[],er=ft[0],nr=ft[1],Pr=Math.floor(rt(er)),Cr=Math.ceil(rt(nr)),Xr=Le%1?2:Le;if(isFinite(Cr-Pr)){if(Ue){for(;Pr<Cr;Pr++)for(var rn=1;rn<Xr;rn++)Ht.push(ot(Pr)*rn);Ht.push(ot(Pr))}else for(Ht.push(ot(Pr));Pr++<Cr;)for(var rn=Xr-1;rn>0;rn--)Ht.push(ot(Pr)*rn);for(Pr=0;Ht[Pr]<er;Pr++);for(Cr=Ht.length;Ht[Cr-1]>nr;Cr--);Ht=Ht.slice(Pr,Cr)}return Ht},Pt.copy=function(){return Af(ue.copy(),Le,Ue,$e)},Tf(Pt,ue)}var lc={floor:function(ue){return-Math.ceil(-ue)},ceil:function(ue){return-Math.floor(-ue)}};i.scale.pow=function(){return vl(i.scale.linear(),1,[0,1])};function vl(ue,Le,Ue){var $e=Bu(Le),rt=Bu(1/Le);function ot(Pt){return ue($e(Pt))}return ot.invert=function(Pt){return rt(ue.invert(Pt))},ot.domain=function(Pt){return arguments.length?(ue.domain((Ue=Pt.map(Number)).map($e)),ot):Ue},ot.ticks=function(Pt){return vs(Ue,Pt)},ot.tickFormat=function(Pt,ft){return d3_scale_linearTickFormat(Ue,Pt,ft)},ot.nice=function(Pt){return ot.domain(Zs(Ue,Pt))},ot.exponent=function(Pt){return arguments.length?($e=Bu(Le=Pt),rt=Bu(1/Le),ue.domain(Ue.map($e)),ot):Le},ot.copy=function(){return vl(ue.copy(),Le,Ue)},Tf(ot,ue)}function Bu(ue){return function(Le){return Le<0?-Math.pow(-Le,ue):Math.pow(Le,ue)}}i.scale.sqrt=function(){return i.scale.pow().exponent(.5)},i.scale.ordinal=function(){return $o([],{t:"range",a:[[]]})};function $o(ue,Le){var Ue,$e,rt;function ot(ft){return $e[((Ue.get(ft)||(Le.t==="range"?Ue.set(ft,ue.push(ft)):NaN))-1)%$e.length]}function Pt(ft,Ht){return i.range(ue.length).map(function(er){return ft+Ht*er})}return ot.domain=function(ft){if(!arguments.length)return ue;ue=[],Ue=new E;for(var Ht=-1,er=ft.length,nr;++Ht<er;)Ue.has(nr=ft[Ht])||Ue.set(nr,ue.push(nr));return ot[Le.t].apply(ot,Le.a)},ot.range=function(ft){return arguments.length?($e=ft,rt=0,Le={t:"range",a:arguments},ot):$e},ot.rangePoints=function(ft,Ht){arguments.length<2&&(Ht=0);var er=ft[0],nr=ft[1],Pr=ue.length<2?(er=(er+nr)/2,0):(nr-er)/(ue.length-1+Ht);return $e=Pt(er+Pr*Ht/2,Pr),rt=0,Le={t:"rangePoints",a:arguments},ot},ot.rangeRoundPoints=function(ft,Ht){arguments.length<2&&(Ht=0);var er=ft[0],nr=ft[1],Pr=ue.length<2?(er=nr=Math.round((er+nr)/2),0):(nr-er)/(ue.length-1+Ht)|0;return $e=Pt(er+Math.round(Pr*Ht/2+(nr-er-(ue.length-1+Ht)*Pr)/2),Pr),rt=0,Le={t:"rangeRoundPoints",a:arguments},ot},ot.rangeBands=function(ft,Ht,er){arguments.length<2&&(Ht=0),arguments.length<3&&(er=Ht);var nr=ft[1]<ft[0],Pr=ft[nr-0],Cr=ft[1-nr],Xr=(Cr-Pr)/(ue.length-Ht+2*er);return $e=Pt(Pr+Xr*er,Xr),nr&&$e.reverse(),rt=Xr*(1-Ht),Le={t:"rangeBands",a:arguments},ot},ot.rangeRoundBands=function(ft,Ht,er){arguments.length<2&&(Ht=0),arguments.length<3&&(er=Ht);var nr=ft[1]<ft[0],Pr=ft[nr-0],Cr=ft[1-nr],Xr=Math.floor((Cr-Pr)/(ue.length-Ht+2*er));return $e=Pt(Pr+Math.round((Cr-Pr-(ue.length-Ht)*Xr)/2),Xr),nr&&$e.reverse(),rt=Math.round(Xr*(1-Ht)),Le={t:"rangeRoundBands",a:arguments},ot},ot.rangeBand=function(){return rt},ot.rangeExtent=function(){return Co(Le.a[0])},ot.copy=function(){return $o(ue,Le)},ot.domain(ue)}i.scale.category10=function(){return i.scale.ordinal().range(Uu)},i.scale.category20=function(){return i.scale.ordinal().range(Ds)},i.scale.category20b=function(){return i.scale.ordinal().range(Is)},i.scale.category20c=function(){return i.scale.ordinal().range(Mf)};var Uu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(_t),Ds=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(_t),Is=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(_t),Mf=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(_t);i.scale.quantile=function(){return Nl([],[])};function Nl(ue,Le){var Ue;function $e(){var ot=0,Pt=Le.length;for(Ue=[];++ot<Pt;)Ue[ot-1]=i.quantile(ue,ot/Pt);return rt}function rt(ot){if(!isNaN(ot=+ot))return Le[i.bisect(Ue,ot)]}return rt.domain=function(ot){return arguments.length?(ue=ot.map(m).filter(c).sort(u),$e()):ue},rt.range=function(ot){return arguments.length?(Le=ot,$e()):Le},rt.quantiles=function(){return Ue},rt.invertExtent=function(ot){return ot=Le.indexOf(ot),ot<0?[NaN,NaN]:[ot>0?Ue[ot-1]:ue[0],ot<Ue.length?Ue[ot]:ue[ue.length-1]]},rt.copy=function(){return Nl(ue,Le)},$e()}i.scale.quantize=function(){return ui(0,1,[0,1])};function ui(ue,Le,Ue){var $e,rt;function ot(ft){return Ue[Math.max(0,Math.min(rt,Math.floor($e*(ft-ue))))]}function Pt(){return $e=Ue.length/(Le-ue),rt=Ue.length-1,ot}return ot.domain=function(ft){return arguments.length?(ue=+ft[0],Le=+ft[ft.length-1],Pt()):[ue,Le]},ot.range=function(ft){return arguments.length?(Ue=ft,Pt()):Ue},ot.invertExtent=function(ft){return ft=Ue.indexOf(ft),ft=ft<0?NaN:ft/$e+ue,[ft,ft+1/$e]},ot.copy=function(){return ui(ue,Le,Ue)},Pt()}i.scale.threshold=function(){return dl([.5],[0,1])};function dl(ue,Le){function Ue($e){if($e<=$e)return Le[i.bisect(ue,$e)]}return Ue.domain=function($e){return arguments.length?(ue=$e,Ue):ue},Ue.range=function($e){return arguments.length?(Le=$e,Ue):Le},Ue.invertExtent=function($e){return $e=Le.indexOf($e),[ue[$e-1],ue[$e]]},Ue.copy=function(){return dl(ue,Le)},Ue}i.scale.identity=function(){return Hu([0,1])};function Hu(ue){function Le(Ue){return+Ue}return Le.invert=Le,Le.domain=Le.range=function(Ue){return arguments.length?(ue=Ue.map(Le),Le):ue},Le.ticks=function(Ue){return vs(ue,Ue)},Le.tickFormat=function(Ue,$e){return d3_scale_linearTickFormat(ue,Ue,$e)},Le.copy=function(){return Hu(ue)},Le}i.svg={};function Vu(){return 0}i.svg.arc=function(){var ue=gh,Le=Sf,Ue=Vu,$e=Xs,rt=Bl,ot=Ef,Pt=uc;function ft(){var er=Math.max(0,+ue.apply(this,arguments)),nr=Math.max(0,+Le.apply(this,arguments)),Pr=rt.apply(this,arguments)-qe,Cr=ot.apply(this,arguments)-qe,Xr=Math.abs(Cr-Pr),rn=Pr>Cr?0:1;if(nr<er&&(Ir=nr,nr=er,er=Ir),Xr>=Je)return Ht(nr,rn)+(er?Ht(er,1-rn):"")+"Z";var Ir,Nr,jr,an,hn=0,Zr=0,Un,Yn,qn,oa,wa,ba,Ua,Ca,Oa=[];if((an=(+Pt.apply(this,arguments)||0)/2)&&(jr=$e===Xs?Math.sqrt(er*er+nr*nr):+$e.apply(this,arguments),rn||(Zr*=-1),nr&&(Zr=qt(jr/nr*Math.sin(an))),er&&(hn=qt(jr/er*Math.sin(an)))),nr){Un=nr*Math.cos(Pr+Zr),Yn=nr*Math.sin(Pr+Zr),qn=nr*Math.cos(Cr-Zr),oa=nr*Math.sin(Cr-Zr);var Qa=Math.abs(Cr-Pr-2*Zr)<=Ee?0:1;if(Zr&&ks(Un,Yn,qn,oa)===rn^Qa){var ti=(Pr+Cr)/2;Un=nr*Math.cos(ti),Yn=nr*Math.sin(ti),qn=oa=null}}else Un=Yn=0;if(er){wa=er*Math.cos(Cr-hn),ba=er*Math.sin(Cr-hn),Ua=er*Math.cos(Pr+hn),Ca=er*Math.sin(Pr+hn);var fi=Math.abs(Pr-Cr+2*hn)<=Ee?0:1;if(hn&&ks(wa,ba,Ua,Ca)===1-rn^fi){var Vn=(Pr+Cr)/2;wa=er*Math.cos(Vn),ba=er*Math.sin(Vn),Ua=Ca=null}}else wa=ba=0;if(Xr>ye&&(Ir=Math.min(Math.abs(nr-er)/2,+Ue.apply(this,arguments)))>.001){Nr=er<nr^rn?0:1;var Na=Ir,_a=Ir;if(Xr<Ee){var ja=Ua==null?[wa,ba]:qn==null?[Un,Yn]:yn([Un,Yn],[Ua,Ca],[qn,oa],[wa,ba]),Si=Un-ja[0],zi=Yn-ja[1],Ui=qn-ja[0],bi=oa-ja[1],hi=1/Math.sin(Math.acos((Si*Ui+zi*bi)/(Math.sqrt(Si*Si+zi*zi)*Math.sqrt(Ui*Ui+bi*bi)))/2),ya=Math.sqrt(ja[0]*ja[0]+ja[1]*ja[1]);_a=Math.min(Ir,(er-ya)/(hi-1)),Na=Math.min(Ir,(nr-ya)/(hi+1))}if(qn!=null){var Sa=Ks(Ua==null?[wa,ba]:[Ua,Ca],[Un,Yn],nr,Na,rn),wi=Ks([qn,oa],[wa,ba],nr,Na,rn);Ir===Na?Oa.push("M",Sa[0],"A",Na,",",Na," 0 0,",Nr," ",Sa[1],"A",nr,",",nr," 0 ",1-rn^ks(Sa[1][0],Sa[1][1],wi[1][0],wi[1][1]),",",rn," ",wi[1],"A",Na,",",Na," 0 0,",Nr," ",wi[0]):Oa.push("M",Sa[0],"A",Na,",",Na," 0 1,",Nr," ",wi[0])}else Oa.push("M",Un,",",Yn);if(Ua!=null){var Bi=Ks([Un,Yn],[Ua,Ca],er,-_a,rn),_o=Ks([wa,ba],qn==null?[Un,Yn]:[qn,oa],er,-_a,rn);Ir===_a?Oa.push("L",_o[0],"A",_a,",",_a," 0 0,",Nr," ",_o[1],"A",er,",",er," 0 ",rn^ks(_o[1][0],_o[1][1],Bi[1][0],Bi[1][1]),",",1-rn," ",Bi[1],"A",_a,",",_a," 0 0,",Nr," ",Bi[0]):Oa.push("L",_o[0],"A",_a,",",_a," 0 0,",Nr," ",Bi[0])}else Oa.push("L",wa,",",ba)}else Oa.push("M",Un,",",Yn),qn!=null&&Oa.push("A",nr,",",nr," 0 ",Qa,",",rn," ",qn,",",oa),Oa.push("L",wa,",",ba),Ua!=null&&Oa.push("A",er,",",er," 0 ",fi,",",1-rn," ",Ua,",",Ca);return Oa.push("Z"),Oa.join("")}function Ht(er,nr){return"M0,"+er+"A"+er+","+er+" 0 1,"+nr+" 0,"+-er+"A"+er+","+er+" 0 1,"+nr+" 0,"+er}return ft.innerRadius=function(er){return arguments.length?(ue=qr(er),ft):ue},ft.outerRadius=function(er){return arguments.length?(Le=qr(er),ft):Le},ft.cornerRadius=function(er){return arguments.length?(Ue=qr(er),ft):Ue},ft.padRadius=function(er){return arguments.length?($e=er==Xs?Xs:qr(er),ft):$e},ft.startAngle=function(er){return arguments.length?(rt=qr(er),ft):rt},ft.endAngle=function(er){return arguments.length?(ot=qr(er),ft):ot},ft.padAngle=function(er){return arguments.length?(Pt=qr(er),ft):Pt},ft.centroid=function(){var er=(+ue.apply(this,arguments)+ +Le.apply(this,arguments))/2,nr=(+rt.apply(this,arguments)+ +ot.apply(this,arguments))/2-qe;return[Math.cos(nr)*er,Math.sin(nr)*er]},ft};var Xs="auto";function gh(ue){return ue.innerRadius}function Sf(ue){return ue.outerRadius}function Bl(ue){return ue.startAngle}function Ef(ue){return ue.endAngle}function uc(ue){return ue&&ue.padAngle}function ks(ue,Le,Ue,$e){return(ue-Ue)*Le-(Le-$e)*ue>0?0:1}function Ks(ue,Le,Ue,$e,rt){var ot=ue[0]-Le[0],Pt=ue[1]-Le[1],ft=(rt?$e:-$e)/Math.sqrt(ot*ot+Pt*Pt),Ht=ft*Pt,er=-ft*ot,nr=ue[0]+Ht,Pr=ue[1]+er,Cr=Le[0]+Ht,Xr=Le[1]+er,rn=(nr+Cr)/2,Ir=(Pr+Xr)/2,Nr=Cr-nr,jr=Xr-Pr,an=Nr*Nr+jr*jr,hn=Ue-$e,Zr=nr*Xr-Cr*Pr,Un=(jr<0?-1:1)*Math.sqrt(Math.max(0,hn*hn*an-Zr*Zr)),Yn=(Zr*jr-Nr*Un)/an,qn=(-Zr*Nr-jr*Un)/an,oa=(Zr*jr+Nr*Un)/an,wa=(-Zr*Nr+jr*Un)/an,ba=Yn-rn,Ua=qn-Ir,Ca=oa-rn,Oa=wa-Ir;return ba*ba+Ua*Ua>Ca*Ca+Oa*Oa&&(Yn=oa,qn=wa),[[Yn-Ht,qn-er],[Yn*Ue/hn,qn*Ue/hn]]}function pl(){return!0}function yl(ue){var Le=$n,Ue=Wn,$e=pl,rt=Fo,ot=rt.key,Pt=.7;function ft(Ht){var er=[],nr=[],Pr=-1,Cr=Ht.length,Xr,rn=qr(Le),Ir=qr(Ue);function Nr(){er.push("M",rt(ue(nr),Pt))}for(;++Pr<Cr;)$e.call(this,Xr=Ht[Pr],Pr)?nr.push([+rn.call(this,Xr,Pr),+Ir.call(this,Xr,Pr)]):nr.length&&(Nr(),nr=[]);return nr.length&&Nr(),er.length?er.join(""):null}return ft.x=function(Ht){return arguments.length?(Le=Ht,ft):Le},ft.y=function(Ht){return arguments.length?(Ue=Ht,ft):Ue},ft.defined=function(Ht){return arguments.length?($e=Ht,ft):$e},ft.interpolate=function(Ht){return arguments.length?(typeof Ht=="function"?ot=rt=Ht:ot=(rt=Lo.get(Ht)||Fo).key,ft):ot},ft.tension=function(Ht){return arguments.length?(Pt=Ht,ft):Pt},ft}i.svg.line=function(){return yl(O)};var Lo=i.map({linear:Fo,"linear-closed":ml,step:fc,"step-before":Ul,"step-after":Gu,basis:Fs,"basis-open":yh,"basis-closed":Lf,bundle:Wu,cardinal:Cf,"cardinal-open":cc,"cardinal-closed":qo,monotone:Pf});Lo.forEach(function(ue,Le){Le.key=ue,Le.closed=/-closed$/.test(ue)});function Fo(ue){return ue.length>1?ue.join("L"):ue+"Z"}function ml(ue){return ue.join("L")+"Z"}function fc(ue){for(var Le=0,Ue=ue.length,$e=ue[0],rt=[$e[0],",",$e[1]];++Le<Ue;)rt.push("H",($e[0]+($e=ue[Le])[0])/2,"V",$e[1]);return Ue>1&&rt.push("H",$e[0]),rt.join("")}function Ul(ue){for(var Le=0,Ue=ue.length,$e=ue[0],rt=[$e[0],",",$e[1]];++Le<Ue;)rt.push("V",($e=ue[Le])[1],"H",$e[0]);return rt.join("")}function Gu(ue){for(var Le=0,Ue=ue.length,$e=ue[0],rt=[$e[0],",",$e[1]];++Le<Ue;)rt.push("H",($e=ue[Le])[0],"V",$e[1]);return rt.join("")}function cc(ue,Le){return ue.length<4?Fo(ue):ue[1]+Js(ue.slice(1,-1),hu(ue,Le))}function qo(ue,Le){return ue.length<3?ml(ue):ue[0]+Js((ue.push(ue[0]),ue),hu([ue[ue.length-2]].concat(ue,[ue[1]]),Le))}function Cf(ue,Le){return ue.length<3?Fo(ue):ue[0]+Js(ue,hu(ue,Le))}function Js(ue,Le){if(Le.length<1||ue.length!=Le.length&&ue.length!=Le.length+2)return Fo(ue);var Ue=ue.length!=Le.length,$e="",rt=ue[0],ot=ue[1],Pt=Le[0],ft=Pt,Ht=1;if(Ue&&($e+="Q"+(ot[0]-Pt[0]*2/3)+","+(ot[1]-Pt[1]*2/3)+","+ot[0]+","+ot[1],rt=ue[1],Ht=2),Le.length>1){ft=Le[1],ot=ue[Ht],Ht++,$e+="C"+(rt[0]+Pt[0])+","+(rt[1]+Pt[1])+","+(ot[0]-ft[0])+","+(ot[1]-ft[1])+","+ot[0]+","+ot[1];for(var er=2;er<Le.length;er++,Ht++)ot=ue[Ht],ft=Le[er],$e+="S"+(ot[0]-ft[0])+","+(ot[1]-ft[1])+","+ot[0]+","+ot[1]}if(Ue){var nr=ue[Ht];$e+="Q"+(ot[0]+ft[0]*2/3)+","+(ot[1]+ft[1]*2/3)+","+nr[0]+","+nr[1]}return $e}function hu(ue,Le){for(var Ue=[],$e=(1-Le)/2,rt,ot=ue[0],Pt=ue[1],ft=1,Ht=ue.length;++ft<Ht;)rt=ot,ot=Pt,Pt=ue[ft],Ue.push([$e*(Pt[0]-rt[0]),$e*(Pt[1]-rt[1])]);return Ue}function Fs(ue){if(ue.length<3)return Fo(ue);var Le=1,Ue=ue.length,$e=ue[0],rt=$e[0],ot=$e[1],Pt=[rt,rt,rt,($e=ue[1])[0]],ft=[ot,ot,ot,$e[1]],Ht=[rt,",",ot,"L",vo(ds,Pt),",",vo(ds,ft)];for(ue.push(ue[Ue-1]);++Le<=Ue;)$e=ue[Le],Pt.shift(),Pt.push($e[0]),ft.shift(),ft.push($e[1]),du(Ht,Pt,ft);return ue.pop(),Ht.push("L",$e),Ht.join("")}function yh(ue){if(ue.length<4)return Fo(ue);for(var Le=[],Ue=-1,$e=ue.length,rt,ot=[0],Pt=[0];++Ue<3;)rt=ue[Ue],ot.push(rt[0]),Pt.push(rt[1]);for(Le.push(vo(ds,ot)+","+vo(ds,Pt)),--Ue;++Ue<$e;)rt=ue[Ue],ot.shift(),ot.push(rt[0]),Pt.shift(),Pt.push(rt[1]),du(Le,ot,Pt);return Le.join("")}function Lf(ue){for(var Le,Ue=-1,$e=ue.length,rt=$e+4,ot,Pt=[],ft=[];++Ue<4;)ot=ue[Ue%$e],Pt.push(ot[0]),ft.push(ot[1]);for(Le=[vo(ds,Pt),",",vo(ds,ft)],--Ue;++Ue<rt;)ot=ue[Ue%$e],Pt.shift(),Pt.push(ot[0]),ft.shift(),ft.push(ot[1]),du(Le,Pt,ft);return Le.join("")}function Wu(ue,Le){var Ue=ue.length-1;if(Ue)for(var $e=ue[0][0],rt=ue[0][1],ot=ue[Ue][0]-$e,Pt=ue[Ue][1]-rt,ft=-1,Ht,er;++ft<=Ue;)Ht=ue[ft],er=ft/Ue,Ht[0]=Le*Ht[0]+(1-Le)*($e+er*ot),Ht[1]=Le*Ht[1]+(1-Le)*(rt+er*Pt);return Fs(ue)}function vo(ue,Le){return ue[0]*Le[0]+ue[1]*Le[1]+ue[2]*Le[2]+ue[3]*Le[3]}var hc=[0,2/3,1/3,0],vu=[0,1/3,2/3,0],ds=[0,1/6,2/3,1/6];function du(ue,Le,Ue){ue.push("C",vo(hc,Le),",",vo(hc,Ue),",",vo(vu,Le),",",vo(vu,Ue),",",vo(ds,Le),",",vo(ds,Ue))}function Qs(ue,Le){return(Le[1]-ue[1])/(Le[0]-ue[0])}function Yu(ue){for(var Le=0,Ue=ue.length-1,$e=[],rt=ue[0],ot=ue[1],Pt=$e[0]=Qs(rt,ot);++Le<Ue;)$e[Le]=(Pt+(Pt=Qs(rt=ot,ot=ue[Le+1])))/2;return $e[Le]=Pt,$e}function vc(ue){for(var Le=[],Ue,$e,rt,ot,Pt=Yu(ue),ft=-1,Ht=ue.length-1;++ft<Ht;)Ue=Qs(ue[ft],ue[ft+1]),d(Ue)<ye?Pt[ft]=Pt[ft+1]=0:($e=Pt[ft]/Ue,rt=Pt[ft+1]/Ue,ot=$e*$e+rt*rt,ot>9&&(ot=Ue*3/Math.sqrt(ot),Pt[ft]=ot*$e,Pt[ft+1]=ot*rt));for(ft=-1;++ft<=Ht;)ot=(ue[Math.min(Ht,ft+1)][0]-ue[Math.max(0,ft-1)][0])/(6*(1+Pt[ft]*Pt[ft])),Le.push([ot||0,Pt[ft]*ot||0]);return Le}function Pf(ue){return ue.length<3?Fo(ue):ue[0]+Js(ue,vc(ue))}i.svg.line.radial=function(){var ue=yl(Rf);return ue.radius=ue.x,delete ue.x,ue.angle=ue.y,delete ue.y,ue};function Rf(ue){for(var Le,Ue=-1,$e=ue.length,rt,ot;++Ue<$e;)Le=ue[Ue],rt=Le[0],ot=Le[1]-qe,Le[0]=rt*Math.cos(ot),Le[1]=rt*Math.sin(ot);return ue}function xl(ue){var Le=$n,Ue=$n,$e=0,rt=Wn,ot=pl,Pt=Fo,ft=Pt.key,Ht=Pt,er="L",nr=.7;function Pr(Cr){var Xr=[],rn=[],Ir=[],Nr=-1,jr=Cr.length,an,hn=qr(Le),Zr=qr($e),Un=Le===Ue?function(){return qn}:qr(Ue),Yn=$e===rt?function(){return oa}:qr(rt),qn,oa;function wa(){Xr.push("M",Pt(ue(Ir),nr),er,Ht(ue(rn.reverse()),nr),"Z")}for(;++Nr<jr;)ot.call(this,an=Cr[Nr],Nr)?(rn.push([qn=+hn.call(this,an,Nr),oa=+Zr.call(this,an,Nr)]),Ir.push([+Un.call(this,an,Nr),+Yn.call(this,an,Nr)])):rn.length&&(wa(),rn=[],Ir=[]);return rn.length&&wa(),Xr.length?Xr.join(""):null}return Pr.x=function(Cr){return arguments.length?(Le=Ue=Cr,Pr):Ue},Pr.x0=function(Cr){return arguments.length?(Le=Cr,Pr):Le},Pr.x1=function(Cr){return arguments.length?(Ue=Cr,Pr):Ue},Pr.y=function(Cr){return arguments.length?($e=rt=Cr,Pr):rt},Pr.y0=function(Cr){return arguments.length?($e=Cr,Pr):$e},Pr.y1=function(Cr){return arguments.length?(rt=Cr,Pr):rt},Pr.defined=function(Cr){return arguments.length?(ot=Cr,Pr):ot},Pr.interpolate=function(Cr){return arguments.length?(typeof Cr=="function"?ft=Pt=Cr:ft=(Pt=Lo.get(Cr)||Fo).key,Ht=Pt.reverse||Pt,er=Pt.closed?"M":"L",Pr):ft},Pr.tension=function(Cr){return arguments.length?(nr=Cr,Pr):nr},Pr}Ul.reverse=Gu,Gu.reverse=Ul,i.svg.area=function(){return xl(O)},i.svg.area.radial=function(){var ue=xl(Rf);return ue.radius=ue.x,delete ue.x,ue.innerRadius=ue.x0,delete ue.x0,ue.outerRadius=ue.x1,delete ue.x1,ue.angle=ue.y,delete ue.y,ue.startAngle=ue.y0,delete ue.y0,ue.endAngle=ue.y1,delete ue.y1,ue};function ju(ue){return ue.source}function pu(ue){return ue.target}i.svg.chord=function(){var ue=ju,Le=pu,Ue=dc,$e=Bl,rt=Ef;function ot(nr,Pr){var Cr=Pt(this,ue,nr,Pr),Xr=Pt(this,Le,nr,Pr);return"M"+Cr.p0+Ht(Cr.r,Cr.p1,Cr.a1-Cr.a0)+(ft(Cr,Xr)?er(Cr.r,Cr.p1,Cr.r,Cr.p0):er(Cr.r,Cr.p1,Xr.r,Xr.p0)+Ht(Xr.r,Xr.p1,Xr.a1-Xr.a0)+er(Xr.r,Xr.p1,Cr.r,Cr.p0))+"Z"}function Pt(nr,Pr,Cr,Xr){var rn=Pr.call(nr,Cr,Xr),Ir=Ue.call(nr,rn,Xr),Nr=$e.call(nr,rn,Xr)-qe,jr=rt.call(nr,rn,Xr)-qe;return{r:Ir,a0:Nr,a1:jr,p0:[Ir*Math.cos(Nr),Ir*Math.sin(Nr)],p1:[Ir*Math.cos(jr),Ir*Math.sin(jr)]}}function ft(nr,Pr){return nr.a0==Pr.a0&&nr.a1==Pr.a1}function Ht(nr,Pr,Cr){return"A"+nr+","+nr+" 0 "+ +(Cr>Ee)+",1 "+Pr}function er(nr,Pr,Cr,Xr){return"Q 0,0 "+Xr}return ot.radius=function(nr){return arguments.length?(Ue=qr(nr),ot):Ue},ot.source=function(nr){return arguments.length?(ue=qr(nr),ot):ue},ot.target=function(nr){return arguments.length?(Le=qr(nr),ot):Le},ot.startAngle=function(nr){return arguments.length?($e=qr(nr),ot):$e},ot.endAngle=function(nr){return arguments.length?(rt=qr(nr),ot):rt},ot};function dc(ue){return ue.radius}i.svg.diagonal=function(){var ue=ju,Le=pu,Ue=gu;function $e(rt,ot){var Pt=ue.call(this,rt,ot),ft=Le.call(this,rt,ot),Ht=(Pt.y+ft.y)/2,er=[Pt,{x:Pt.x,y:Ht},{x:ft.x,y:Ht},ft];return er=er.map(Ue),"M"+er[0]+"C"+er[1]+" "+er[2]+" "+er[3]}return $e.source=function(rt){return arguments.length?(ue=qr(rt),$e):ue},$e.target=function(rt){return arguments.length?(Le=qr(rt),$e):Le},$e.projection=function(rt){return arguments.length?(Ue=rt,$e):Ue},$e};function gu(ue){return[ue.x,ue.y]}i.svg.diagonal.radial=function(){var ue=i.svg.diagonal(),Le=gu,Ue=ue.projection;return ue.projection=function($e){return arguments.length?Ue(pc(Le=$e)):Le},ue};function pc(ue){return function(){var Le=ue.apply(this,arguments),Ue=Le[0],$e=Le[1]-qe;return[Ue*Math.cos($e),Ue*Math.sin($e)]}}i.svg.symbol=function(){var ue=nt,Le=Xe;function Ue($e,rt){return(mt.get(ue.call(this,$e,rt))||ct)(Le.call(this,$e,rt))}return Ue.type=function($e){return arguments.length?(ue=qr($e),Ue):ue},Ue.size=function($e){return arguments.length?(Le=qr($e),Ue):Le},Ue};function Xe(){return 64}function nt(){return"circle"}function ct(ue){var Le=Math.sqrt(ue/Ee);return"M0,"+Le+"A"+Le+","+Le+" 0 1,1 0,"+-Le+"A"+Le+","+Le+" 0 1,1 0,"+Le+"Z"}var mt=i.map({circle:ct,cross:function(ue){var Le=Math.sqrt(ue/5)/2;return"M"+-3*Le+","+-Le+"H"+-Le+"V"+-3*Le+"H"+Le+"V"+-Le+"H"+3*Le+"V"+Le+"H"+Le+"V"+3*Le+"H"+-Le+"V"+Le+"H"+-3*Le+"Z"},diamond:function(ue){var Le=Math.sqrt(ue/(2*Lt)),Ue=Le*Lt;return"M0,"+-Le+"L"+Ue+",0 0,"+Le+" "+-Ue+",0Z"},square:function(ue){var Le=Math.sqrt(ue)/2;return"M"+-Le+","+-Le+"L"+Le+","+-Le+" "+Le+","+Le+" "+-Le+","+Le+"Z"},"triangle-down":function(ue){var Le=Math.sqrt(ue/Ft),Ue=Le*Ft/2;return"M0,"+Ue+"L"+Le+","+-Ue+" "+-Le+","+-Ue+"Z"},"triangle-up":function(ue){var Le=Math.sqrt(ue/Ft),Ue=Le*Ft/2;return"M0,"+-Ue+"L"+Le+","+Ue+" "+-Le+","+Ue+"Z"}});i.svg.symbolTypes=mt.keys();var Ft=Math.sqrt(3),Lt=Math.tan(30*vt);$.transition=function(ue){for(var Le=Rr||++Ar,Ue=An(ue),$e=[],rt,ot,Pt=Yr||{time:Date.now(),ease:qc,delay:0,duration:250},ft=-1,Ht=this.length;++ft<Ht;){$e.push(rt=[]);for(var er=this[ft],nr=-1,Pr=er.length;++nr<Pr;)(ot=er[nr])&&In(ot,nr,Ue,Le,Pt),rt.push(ot)}return yr($e,Ue,Le)},$.interrupt=function(ue){return this.each(ue==null?Ot:cr(An(ue)))};var Ot=cr(An());function cr(ue){return function(){var Le,Ue,$e;(Le=this[ue])&&($e=Le[Ue=Le.active])&&($e.timer.c=null,$e.timer.t=NaN,--Le.count?delete Le[Ue]:delete this[ue],Le.active+=.5,$e.event&&$e.event.interrupt.call(this,this.__data__,$e.index))}}function yr(ue,Le,Ue){return X(ue,ar),ue.namespace=Le,ue.id=Ue,ue}var ar=[],Ar=0,Rr,Yr;ar.call=$.call,ar.empty=$.empty,ar.node=$.node,ar.size=$.size,i.transition=function(ue,Le){return ue&&ue.transition?Rr?ue.transition(Le):ue:i.selection().transition(ue)},i.transition.prototype=ar,ar.select=function(ue){var Le=this.id,Ue=this.namespace,$e=[],rt,ot,Pt;ue=le(ue);for(var ft=-1,Ht=this.length;++ft<Ht;){$e.push(rt=[]);for(var er=this[ft],nr=-1,Pr=er.length;++nr<Pr;)(Pt=er[nr])&&(ot=ue.call(Pt,Pt.__data__,nr,ft))?("__data__"in Pt&&(ot.__data__=Pt.__data__),In(ot,nr,Ue,Le,Pt[Ue][Le]),rt.push(ot)):rt.push(null)}return yr($e,Ue,Le)},ar.selectAll=function(ue){var Le=this.id,Ue=this.namespace,$e=[],rt,ot,Pt,ft,Ht;ue=ie(ue);for(var er=-1,nr=this.length;++er<nr;)for(var Pr=this[er],Cr=-1,Xr=Pr.length;++Cr<Xr;)if(Pt=Pr[Cr]){Ht=Pt[Ue][Le],ot=ue.call(Pt,Pt.__data__,Cr,er),$e.push(rt=[]);for(var rn=-1,Ir=ot.length;++rn<Ir;)(ft=ot[rn])&&In(ft,rn,Ue,Le,Ht),rt.push(ft)}return yr($e,Ue,Le)},ar.filter=function(ue){var Le=[],Ue,$e,rt;typeof ue!="function"&&(ue=it(ue));for(var ot=0,Pt=this.length;ot<Pt;ot++){Le.push(Ue=[]);for(var $e=this[ot],ft=0,Ht=$e.length;ft<Ht;ft++)(rt=$e[ft])&&ue.call(rt,rt.__data__,ft,ot)&&Ue.push(rt)}return yr(Le,this.namespace,this.id)},ar.tween=function(ue,Le){var Ue=this.id,$e=this.namespace;return arguments.length<2?this.node()[$e][Ue].tween.get(ue):tt(this,Le==null?function(rt){rt[$e][Ue].tween.remove(ue)}:function(rt){rt[$e][Ue].tween.set(ue,Le)})};function Jr(ue,Le,Ue,$e){var rt=ue.id,ot=ue.namespace;return tt(ue,typeof Ue=="function"?function(Pt,ft,Ht){Pt[ot][rt].tween.set(Le,$e(Ue.call(Pt,Pt.__data__,ft,Ht)))}:(Ue=$e(Ue),function(Pt){Pt[ot][rt].tween.set(Le,Ue)}))}ar.attr=function(ue,Le){if(arguments.length<2){for(Le in ue)this.attr(Le,ue[Le]);return this}var Ue=ue=="transform"?fl:Ss,$e=i.ns.qualify(ue);function rt(){this.removeAttribute($e)}function ot(){this.removeAttributeNS($e.space,$e.local)}function Pt(Ht){return Ht==null?rt:(Ht+="",function(){var er=this.getAttribute($e),nr;return er!==Ht&&(nr=Ue(er,Ht),function(Pr){this.setAttribute($e,nr(Pr))})})}function ft(Ht){return Ht==null?ot:(Ht+="",function(){var er=this.getAttributeNS($e.space,$e.local),nr;return er!==Ht&&(nr=Ue(er,Ht),function(Pr){this.setAttributeNS($e.space,$e.local,nr(Pr))})})}return Jr(this,"attr."+ue,Le,$e.local?ft:Pt)},ar.attrTween=function(ue,Le){var Ue=i.ns.qualify(ue);function $e(ot,Pt){var ft=Le.call(this,ot,Pt,this.getAttribute(Ue));return ft&&function(Ht){this.setAttribute(Ue,ft(Ht))}}function rt(ot,Pt){var ft=Le.call(this,ot,Pt,this.getAttributeNS(Ue.space,Ue.local));return ft&&function(Ht){this.setAttributeNS(Ue.space,Ue.local,ft(Ht))}}return this.tween("attr."+ue,Ue.local?rt:$e)},ar.style=function(ue,Le,Ue){var $e=arguments.length;if($e<3){if(typeof ue!="string"){$e<2&&(Le="");for(Ue in ue)this.style(Ue,ue[Ue],Le);return this}Ue=""}function rt(){this.style.removeProperty(ue)}function ot(Pt){return Pt==null?rt:(Pt+="",function(){var ft=t(this).getComputedStyle(this,null).getPropertyValue(ue),Ht;return ft!==Pt&&(Ht=Ss(ft,Pt),function(er){this.style.setProperty(ue,Ht(er),Ue)})})}return Jr(this,"style."+ue,Le,ot)},ar.styleTween=function(ue,Le,Ue){arguments.length<3&&(Ue="");function $e(rt,ot){var Pt=Le.call(this,rt,ot,t(this).getComputedStyle(this,null).getPropertyValue(ue));return Pt&&function(ft){this.style.setProperty(ue,Pt(ft),Ue)}}return this.tween("style."+ue,$e)},ar.text=function(ue){return Jr(this,"text",ue,bn)};function bn(ue){return ue==null&&(ue=""),function(){this.textContent=ue}}ar.remove=function(){var ue=this.namespace;return this.each("end.transition",function(){var Le;this[ue].count<2&&(Le=this.parentNode)&&Le.removeChild(this)})},ar.ease=function(ue){var Le=this.id,Ue=this.namespace;return arguments.length<1?this.node()[Ue][Le].ease:(typeof ue!="function"&&(ue=i.ease.apply(i,arguments)),tt(this,function($e){$e[Ue][Le].ease=ue}))},ar.delay=function(ue){var Le=this.id,Ue=this.namespace;return arguments.length<1?this.node()[Ue][Le].delay:tt(this,typeof ue=="function"?function($e,rt,ot){$e[Ue][Le].delay=+ue.call($e,$e.__data__,rt,ot)}:(ue=+ue,function($e){$e[Ue][Le].delay=ue}))},ar.duration=function(ue){var Le=this.id,Ue=this.namespace;return arguments.length<1?this.node()[Ue][Le].duration:tt(this,typeof ue=="function"?function($e,rt,ot){$e[Ue][Le].duration=Math.max(1,ue.call($e,$e.__data__,rt,ot))}:(ue=Math.max(1,ue),function($e){$e[Ue][Le].duration=ue}))},ar.each=function(ue,Le){var Ue=this.id,$e=this.namespace;if(arguments.length<2){var rt=Yr,ot=Rr;try{Rr=Ue,tt(this,function(Pt,ft,Ht){Yr=Pt[$e][Ue],ue.call(Pt,Pt.__data__,ft,Ht)})}finally{Yr=rt,Rr=ot}}else tt(this,function(Pt){var ft=Pt[$e][Ue];(ft.event||(ft.event=i.dispatch("start","end","interrupt"))).on(ue,Le)});return this},ar.transition=function(){for(var ue=this.id,Le=++Ar,Ue=this.namespace,$e=[],rt,ot,Pt,ft,Ht=0,er=this.length;Ht<er;Ht++){$e.push(rt=[]);for(var ot=this[Ht],nr=0,Pr=ot.length;nr<Pr;nr++)(Pt=ot[nr])&&(ft=Pt[Ue][ue],In(Pt,nr,Ue,Le,{time:ft.time,ease:ft.ease,delay:ft.delay+ft.duration,duration:ft.duration})),rt.push(Pt)}return yr($e,Ue,Le)};function An(ue){return ue==null?"__transition__":"__transition_"+ue+"__"}function In(ue,Le,Ue,$e,rt){var ot=ue[Ue]||(ue[Ue]={active:0,count:0}),Pt=ot[$e],ft,Ht,er,nr,Pr;function Cr(Ir){var Nr=Pt.delay;if(Ht.t=Nr+ft,Nr<=Ir)return Xr(Ir-Nr);Ht.c=Xr}function Xr(Ir){var Nr=ot.active,jr=ot[Nr];jr&&(jr.timer.c=null,jr.timer.t=NaN,--ot.count,delete ot[Nr],jr.event&&jr.event.interrupt.call(ue,ue.__data__,jr.index));for(var an in ot)if(+an<$e){var hn=ot[an];hn.timer.c=null,hn.timer.t=NaN,--ot.count,delete ot[an]}Ht.c=rn,Pn(function(){return Ht.c&&rn(Ir||1)&&(Ht.c=null,Ht.t=NaN),1},0,ft),ot.active=$e,Pt.event&&Pt.event.start.call(ue,ue.__data__,Le),Pr=[],Pt.tween.forEach(function(Zr,Un){(Un=Un.call(ue,ue.__data__,Le))&&Pr.push(Un)}),nr=Pt.ease,er=Pt.duration}function rn(Ir){for(var Nr=Ir/er,jr=nr(Nr),an=Pr.length;an>0;)Pr[--an].call(ue,jr);if(Nr>=1)return Pt.event&&Pt.event.end.call(ue,ue.__data__,Le),--ot.count?delete ot[$e]:delete ue[Ue],1}Pt||(ft=rt.time,Ht=Pn(Cr,0,ft),Pt=ot[$e]={tween:new E,time:ft,timer:Ht,delay:rt.delay,duration:rt.duration,ease:rt.ease,index:Le},rt=null,++ot.count)}i.svg.axis=function(){var ue=i.scale.linear(),Le=va,Ue=6,$e=6,rt=3,ot=[10],Pt=null,ft;function Ht(er){er.each(function(){var nr=i.select(this),Pr=this.__chart__||ue,Cr=this.__chart__=ue.copy(),Xr=Pt??(Cr.ticks?Cr.ticks.apply(Cr,ot):Cr.domain()),rn=ft??(Cr.tickFormat?Cr.tickFormat.apply(Cr,ot):O),Ir=nr.selectAll(".tick").data(Xr,Cr),Nr=Ir.enter().insert("g",".domain").attr("class","tick").style("opacity",ye),jr=i.transition(Ir.exit()).style("opacity",ye).remove(),an=i.transition(Ir.order()).style("opacity",1),hn=Math.max(Ue,0)+rt,Zr,Un=fu(Cr),Yn=nr.selectAll(".domain").data([0]),qn=(Yn.enter().append("path").attr("class","domain"),i.transition(Yn));Nr.append("line"),Nr.append("text");var oa=Nr.select("line"),wa=an.select("line"),ba=Ir.select("text").text(rn),Ua=Nr.select("text"),Ca=an.select("text"),Oa=Le==="top"||Le==="left"?-1:1,Qa,ti,fi,Vn;if(Le==="bottom"||Le==="top"?(Zr=Ra,Qa="x",fi="y",ti="x2",Vn="y2",ba.attr("dy",Oa<0?"0em":".71em").style("text-anchor","middle"),qn.attr("d","M"+Un[0]+","+Oa*$e+"V0H"+Un[1]+"V"+Oa*$e)):(Zr=Da,Qa="y",fi="x",ti="y2",Vn="x2",ba.attr("dy",".32em").style("text-anchor",Oa<0?"end":"start"),qn.attr("d","M"+Oa*$e+","+Un[0]+"H0V"+Un[1]+"H"+Oa*$e)),oa.attr(Vn,Oa*Ue),Ua.attr(fi,Oa*hn),wa.attr(ti,0).attr(Vn,Oa*Ue),Ca.attr(Qa,0).attr(fi,Oa*hn),Cr.rangeBand){var Na=Cr,_a=Na.rangeBand()/2;Pr=Cr=function(ja){return Na(ja)+_a}}else Pr.rangeBand?Pr=Cr:jr.call(Zr,Cr,Pr);Nr.call(Zr,Pr,Cr),an.call(Zr,Cr,Cr)})}return Ht.scale=function(er){return arguments.length?(ue=er,Ht):ue},Ht.orient=function(er){return arguments.length?(Le=er in La?er+"":va,Ht):Le},Ht.ticks=function(){return arguments.length?(ot=A(arguments),Ht):ot},Ht.tickValues=function(er){return arguments.length?(Pt=er,Ht):Pt},Ht.tickFormat=function(er){return arguments.length?(ft=er,Ht):ft},Ht.tickSize=function(er){var nr=arguments.length;return nr?(Ue=+er,$e=+arguments[nr-1],Ht):Ue},Ht.innerTickSize=function(er){return arguments.length?(Ue=+er,Ht):Ue},Ht.outerTickSize=function(er){return arguments.length?($e=+er,Ht):$e},Ht.tickPadding=function(er){return arguments.length?(rt=+er,Ht):rt},Ht.tickSubdivide=function(){return arguments.length&&Ht},Ht};var va="bottom",La={top:1,right:1,bottom:1,left:1};function Ra(ue,Le,Ue){ue.attr("transform",function($e){var rt=Le($e);return"translate("+(isFinite(rt)?rt:Ue($e))+",0)"})}function Da(ue,Le,Ue){ue.attr("transform",function($e){var rt=Le($e);return"translate(0,"+(isFinite(rt)?rt:Ue($e))+")"})}i.svg.brush=function(){var ue=Q(nr,"brushstart","brush","brushend"),Le=null,Ue=null,$e=[0,0],rt=[0,0],ot,Pt,ft=!0,Ht=!0,er=ii[0];function nr(Ir){Ir.each(function(){var Nr=i.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",rn).on("touchstart.brush",rn),jr=Nr.selectAll(".background").data([0]);jr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Nr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var an=Nr.selectAll(".resize").data(er,O);an.exit().remove(),an.enter().append("g").attr("class",function(Yn){return"resize "+Yn}).style("cursor",function(Yn){return ka[Yn]}).append("rect").attr("x",function(Yn){return/[ew]$/.test(Yn)?-3:null}).attr("y",function(Yn){return/^[ns]/.test(Yn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),an.style("display",nr.empty()?"none":null);var hn=i.transition(Nr),Zr=i.transition(jr),Un;Le&&(Un=fu(Le),Zr.attr("x",Un[0]).attr("width",Un[1]-Un[0]),Cr(hn)),Ue&&(Un=fu(Ue),Zr.attr("y",Un[0]).attr("height",Un[1]-Un[0]),Xr(hn)),Pr(hn)})}nr.event=function(Ir){Ir.each(function(){var Nr=ue.of(this,arguments),jr={x:$e,y:rt,i:ot,j:Pt},an=this.__chart__||jr;this.__chart__=jr,Rr?i.select(this).transition().each("start.brush",function(){ot=an.i,Pt=an.j,$e=an.x,rt=an.y,Nr({type:"brushstart"})}).tween("brush:brush",function(){var hn=eo($e,jr.x),Zr=eo(rt,jr.y);return ot=Pt=null,function(Un){$e=jr.x=hn(Un),rt=jr.y=Zr(Un),Nr({type:"brush",mode:"resize"})}}).each("end.brush",function(){ot=jr.i,Pt=jr.j,Nr({type:"brush",mode:"resize"}),Nr({type:"brushend"})}):(Nr({type:"brushstart"}),Nr({type:"brush",mode:"resize"}),Nr({type:"brushend"}))})};function Pr(Ir){Ir.selectAll(".resize").attr("transform",function(Nr){return"translate("+$e[+/e$/.test(Nr)]+","+rt[+/^s/.test(Nr)]+")"})}function Cr(Ir){Ir.select(".extent").attr("x",$e[0]),Ir.selectAll(".extent,.n>rect,.s>rect").attr("width",$e[1]-$e[0])}function Xr(Ir){Ir.select(".extent").attr("y",rt[0]),Ir.selectAll(".extent,.e>rect,.w>rect").attr("height",rt[1]-rt[0])}function rn(){var Ir=this,Nr=i.select(i.event.target),jr=ue.of(Ir,arguments),an=i.select(Ir),hn=Nr.datum(),Zr=!/^(n|s)$/.test(hn)&&Le,Un=!/^(e|w)$/.test(hn)&&Ue,Yn=Nr.classed("extent"),qn=Ie(Ir),oa,wa=i.mouse(Ir),ba,Ua=i.select(t(Ir)).on("keydown.brush",Qa).on("keyup.brush",ti);if(i.event.changedTouches?Ua.on("touchmove.brush",fi).on("touchend.brush",Na):Ua.on("mousemove.brush",fi).on("mouseup.brush",Na),an.interrupt().selectAll("*").interrupt(),Yn)wa[0]=$e[0]-wa[0],wa[1]=rt[0]-wa[1];else if(hn){var Ca=+/w$/.test(hn),Oa=+/^n/.test(hn);ba=[$e[1-Ca]-wa[0],rt[1-Oa]-wa[1]],wa[0]=$e[Ca],wa[1]=rt[Oa]}else i.event.altKey&&(oa=wa.slice());an.style("pointer-events","none").selectAll(".resize").style("display",null),i.select("body").style("cursor",Nr.style("cursor")),jr({type:"brushstart"}),fi();function Qa(){i.event.keyCode==32&&(Yn||(oa=null,wa[0]-=$e[1],wa[1]-=rt[1],Yn=2),ae())}function ti(){i.event.keyCode==32&&Yn==2&&(wa[0]+=$e[1],wa[1]+=rt[1],Yn=0,ae())}function fi(){var _a=i.mouse(Ir),ja=!1;ba&&(_a[0]+=ba[0],_a[1]+=ba[1]),Yn||(i.event.altKey?(oa||(oa=[($e[0]+$e[1])/2,(rt[0]+rt[1])/2]),wa[0]=$e[+(_a[0]<oa[0])],wa[1]=rt[+(_a[1]<oa[1])]):oa=null),Zr&&Vn(_a,Le,0)&&(Cr(an),ja=!0),Un&&Vn(_a,Ue,1)&&(Xr(an),ja=!0),ja&&(Pr(an),jr({type:"brush",mode:Yn?"move":"resize"}))}function Vn(_a,ja,Si){var zi=fu(ja),Ui=zi[0],bi=zi[1],hi=wa[Si],ya=Si?rt:$e,Sa=ya[1]-ya[0],wi,Bi;if(Yn&&(Ui-=hi,bi-=Sa+hi),wi=(Si?Ht:ft)?Math.max(Ui,Math.min(bi,_a[Si])):_a[Si],Yn?Bi=(wi+=hi)+Sa:(oa&&(hi=Math.max(Ui,Math.min(bi,2*oa[Si]-wi))),hi<wi?(Bi=wi,wi=hi):Bi=hi),ya[0]!=wi||ya[1]!=Bi)return Si?Pt=null:ot=null,ya[0]=wi,ya[1]=Bi,!0}function Na(){fi(),an.style("pointer-events","all").selectAll(".resize").style("display",nr.empty()?"none":null),i.select("body").style("cursor",null),Ua.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),qn(),jr({type:"brushend"})}}return nr.x=function(Ir){return arguments.length?(Le=Ir,er=ii[!Le<<1|!Ue],nr):Le},nr.y=function(Ir){return arguments.length?(Ue=Ir,er=ii[!Le<<1|!Ue],nr):Ue},nr.clamp=function(Ir){return arguments.length?(Le&&Ue?(ft=!!Ir[0],Ht=!!Ir[1]):Le?ft=!!Ir:Ue&&(Ht=!!Ir),nr):Le&&Ue?[ft,Ht]:Le?ft:Ue?Ht:null},nr.extent=function(Ir){var Nr,jr,an,hn,Zr;return arguments.length?(Le&&(Nr=Ir[0],jr=Ir[1],Ue&&(Nr=Nr[0],jr=jr[0]),ot=[Nr,jr],Le.invert&&(Nr=Le(Nr),jr=Le(jr)),jr<Nr&&(Zr=Nr,Nr=jr,jr=Zr),(Nr!=$e[0]||jr!=$e[1])&&($e=[Nr,jr])),Ue&&(an=Ir[0],hn=Ir[1],Le&&(an=an[1],hn=hn[1]),Pt=[an,hn],Ue.invert&&(an=Ue(an),hn=Ue(hn)),hn<an&&(Zr=an,an=hn,hn=Zr),(an!=rt[0]||hn!=rt[1])&&(rt=[an,hn])),nr):(Le&&(ot?(Nr=ot[0],jr=ot[1]):(Nr=$e[0],jr=$e[1],Le.invert&&(Nr=Le.invert(Nr),jr=Le.invert(jr)),jr<Nr&&(Zr=Nr,Nr=jr,jr=Zr))),Ue&&(Pt?(an=Pt[0],hn=Pt[1]):(an=rt[0],hn=rt[1],Ue.invert&&(an=Ue.invert(an),hn=Ue.invert(hn)),hn<an&&(Zr=an,an=hn,hn=Zr))),Le&&Ue?[[Nr,an],[jr,hn]]:Le?[Nr,jr]:Ue&&[an,hn])},nr.clear=function(){return nr.empty()||($e=[0,0],rt=[0,0],ot=Pt=null),nr},nr.empty=function(){return!!Le&&$e[0]==$e[1]||!!Ue&&rt[0]==rt[1]},i.rebind(nr,ue,"on")};var ka={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ii=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];i.text=On(function(ue){return ue.responseText}),i.json=function(ue,Le){return Tn(ue,"application/json",Di,Le)};function Di(ue){return JSON.parse(ue.responseText)}i.html=function(ue,Le){return Tn(ue,"text/html",gi,Le)};function gi(ue){var Le=v.createRange();return Le.selectNode(v.body),Le.createContextualFragment(ue.responseText)}i.xml=On(function(ue){return ue.responseXML}),g=i,P=typeof g=="function"?g.call(H,e,H,W):g,P!==void 0&&(W.exports=P)}).apply(self)},88294:function(W,H,e){W.exports=e(62849)},62849:function(W,H,e){var g=e(91358),P=e(53435),i=e(18863),L=e(21527),A=e(71299),v=e(46775),p=e(30120),t=e(64941),r=e(90660),s=e(27084),n=1073741824;W.exports=function(u,m){m||(m={}),u=p(u,"float64"),m=A(m,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var c=v(m.maxDepth,255),w=v(m.bounds,L(u,2));w[0]===w[2]&&w[2]++,w[1]===w[3]&&w[3]++;var h=l(u,w),o=u.length>>>1,d;m.dtype||(m.dtype="array"),typeof m.dtype=="string"?d=new(r(m.dtype))(o):m.dtype&&(d=m.dtype,Array.isArray(d)&&(d.length=o));for(var M=0;M<o;++M)d[M]=M;var T=[],E=[],x=[],S=[];B(0,0,1,d,0,1);for(var b=0,a=0;a<T.length;a++){var C=T[a];if(d.set)d.set(C,b);else for(var y=0,z=C.length;y<z;y++)d[y+b]=C[y];var I=b+T[a].length;S[a]=[b,I],b=I}return d.range=F,d;function B(_,U,Y,K,re,ae){if(!K.length)return null;var fe=T[re]||(T[re]=[]),Q=x[re]||(x[re]=[]),j=E[re]||(E[re]=[]),X=fe.length;if(re++,re>c||ae>n){for(var J=0;J<K.length;J++)fe.push(K[J]),Q.push(ae),j.push(null,null,null,null);return X}if(fe.push(K[0]),Q.push(ae),K.length<=1)return j.push(null,null,null,null),X;for(var ee=Y*.5,se=_+ee,q=U+ee,$=[],le=[],ie=[],ce=[],me=1,Me=K.length;me<Me;me++){var we=K[me],Oe=h[we*2],Be=h[we*2+1];Oe<se?Be<q?$.push(we):le.push(we):Be<q?ie.push(we):ce.push(we)}return ae<<=2,j.push(B(_,U,ee,$,re,ae),B(_,q,ee,le,re,ae+1),B(se,U,ee,ie,re,ae+2),B(se,q,ee,ce,re,ae+3)),X}function F(){for(var _=[],U=arguments.length;U--;)_[U]=arguments[U];var Y;if(t(_[_.length-1])){var K=_.pop();!_.length&&(K.x!=null||K.l!=null||K.left!=null)&&(_=[K],Y={}),Y=A(K,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else Y={};_.length||(_=w);var re=i.apply(void 0,_),ae=[Math.min(re.x,re.x+re.width),Math.min(re.y,re.y+re.height),Math.max(re.x,re.x+re.width),Math.max(re.y,re.y+re.height)],fe=ae[0],Q=ae[1],j=ae[2],X=ae[3],J=l([fe,Q,j,X],w),ee=J[0],se=J[1],q=J[2],$=J[3],le=v(Y.level,T.length);if(Y.d!=null){var ie;typeof Y.d=="number"?ie=[Y.d,Y.d]:Y.d.length&&(ie=Y.d),le=Math.min(Math.max(Math.ceil(-s(Math.abs(ie[0])/(w[2]-w[0]))),Math.ceil(-s(Math.abs(ie[1])/(w[3]-w[1])))),le)}if(le=Math.min(le,T.length),Y.lod)return O(ee,se,q,$,le);var ce=[];me(0,0,1,0,0,1);function me(we,Oe,Be,Ce,xe,Se){if(!(xe===null||Se===null)){var He=we+Be,Ge=Oe+Be;if(!(ee>He||se>Ge||q<we||$<Oe)&&!(Ce>=le)&&xe!==Se){var ke=T[Ce];Se===void 0&&(Se=ke.length);for(var We=xe;We<Se;We++){var it=ke[We],et=u[it*2],tt=u[it*2+1];et>=fe&&et<=j&&tt>=Q&&tt<=X&&ce.push(it)}var at=E[Ce],ht=at[xe*4+0],yt=at[xe*4+1],gt=at[xe*4+2],Et=at[xe*4+3],Ct=Me(at,xe+1),Vt=Be*.5,Qe=Ce+1;me(we,Oe,Vt,Qe,ht,yt||gt||Et||Ct),me(we,Oe+Vt,Vt,Qe,yt,gt||Et||Ct),me(we+Vt,Oe,Vt,Qe,gt,Et||Ct),me(we+Vt,Oe+Vt,Vt,Qe,Et,Ct)}}}function Me(we,Oe){for(var Be=null,Ce=0;Be===null;)if(Be=we[Oe*4+Ce],Ce++,Ce>we.length)return null;return Be}return ce}function O(_,U,Y,K,re){for(var ae=[],fe=0;fe<re;fe++){var Q=x[fe],j=S[fe][0],X=N(_,U,fe),J=N(Y,K,fe),ee=g.ge(Q,X),se=g.gt(Q,J,ee,Q.length-1);ae[fe]=[ee+j,se+j]}return ae}function N(_,U,Y){for(var K=1,re=.5,ae=.5,fe=.5,Q=0;Q<Y;Q++)K<<=2,K+=_<re?U<ae?0:1:U<ae?2:3,fe*=.5,re+=_<re?-fe:fe,ae+=U<ae?-fe:fe;return K}};function l(f,u){for(var m=u[0],c=u[1],w=u[2],h=u[3],o=1/(w-m),d=1/(h-c),M=new Array(f.length),T=0,E=f.length/2;T<E;T++)M[2*T]=P((f[2*T]-m)*o,0,1),M[2*T+1]=P((f[2*T+1]-c)*d,0,1);return M}},30774:function(W,H,e){Object.defineProperty(H,"__esModule",{value:!0});var g=e(60302),P=6378137;function i(t){return g.geomReduce(t,function(r,s){return r+L(s)},0)}H.default=i;function L(t){var r=0,s;switch(t.type){case"Polygon":return A(t.coordinates);case"MultiPolygon":for(s=0;s<t.coordinates.length;s++)r+=A(t.coordinates[s]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function A(t){var r=0;if(t&&t.length>0){r+=Math.abs(v(t[0]));for(var s=1;s<t.length;s++)r-=Math.abs(v(t[s]))}return r}function v(t){var r,s,n,l,f,u,m,c=0,w=t.length;if(w>2){for(m=0;m<w;m++)m===w-2?(l=w-2,f=w-1,u=0):m===w-1?(l=w-1,f=0,u=1):(l=m,f=m+1,u=m+2),r=t[l],s=t[f],n=t[u],c+=(p(n[0])-p(r[0]))*Math.sin(p(s[1]));c=c*P*P/2}return c}function p(t){return t*Math.PI/180}},23132:function(W,H){Object.defineProperty(H,"__esModule",{value:!0}),H.earthRadius=63710088e-1,H.factors={centimeters:H.earthRadius*100,centimetres:H.earthRadius*100,degrees:H.earthRadius/111325,feet:H.earthRadius*3.28084,inches:H.earthRadius*39.37,kilometers:H.earthRadius/1e3,kilometres:H.earthRadius/1e3,meters:H.earthRadius,metres:H.earthRadius,miles:H.earthRadius/1609.344,millimeters:H.earthRadius*1e3,millimetres:H.earthRadius*1e3,nauticalmiles:H.earthRadius/1852,radians:1,yards:H.earthRadius*1.0936},H.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/H.earthRadius,yards:1.0936133},H.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(b,a,C){C===void 0&&(C={});var y={type:"Feature"};return(C.id===0||C.id)&&(y.id=C.id),C.bbox&&(y.bbox=C.bbox),y.properties=a||{},y.geometry=b,y}H.feature=e;function g(b,a,C){switch(b){case"Point":return P(a).geometry;case"LineString":return v(a).geometry;case"Polygon":return L(a).geometry;case"MultiPoint":return s(a).geometry;case"MultiLineString":return r(a).geometry;case"MultiPolygon":return n(a).geometry;default:throw new Error(b+" is invalid")}}H.geometry=g;function P(b,a,C){if(C===void 0&&(C={}),!b)throw new Error("coordinates is required");if(!Array.isArray(b))throw new Error("coordinates must be an Array");if(b.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!T(b[0])||!T(b[1]))throw new Error("coordinates must contain numbers");var y={type:"Point",coordinates:b};return e(y,a,C)}H.point=P;function i(b,a,C){return C===void 0&&(C={}),t(b.map(function(y){return P(y,a)}),C)}H.points=i;function L(b,a,C){C===void 0&&(C={});for(var y=0,z=b;y<z.length;y++){var I=z[y];if(I.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var B=0;B<I[I.length-1].length;B++)if(I[I.length-1][B]!==I[0][B])throw new Error("First and last Position are not equivalent.")}var F={type:"Polygon",coordinates:b};return e(F,a,C)}H.polygon=L;function A(b,a,C){return C===void 0&&(C={}),t(b.map(function(y){return L(y,a)}),C)}H.polygons=A;function v(b,a,C){if(C===void 0&&(C={}),b.length<2)throw new Error("coordinates must be an array of two or more positions");var y={type:"LineString",coordinates:b};return e(y,a,C)}H.lineString=v;function p(b,a,C){return C===void 0&&(C={}),t(b.map(function(y){return v(y,a)}),C)}H.lineStrings=p;function t(b,a){a===void 0&&(a={});var C={type:"FeatureCollection"};return a.id&&(C.id=a.id),a.bbox&&(C.bbox=a.bbox),C.features=b,C}H.featureCollection=t;function r(b,a,C){C===void 0&&(C={});var y={type:"MultiLineString",coordinates:b};return e(y,a,C)}H.multiLineString=r;function s(b,a,C){C===void 0&&(C={});var y={type:"MultiPoint",coordinates:b};return e(y,a,C)}H.multiPoint=s;function n(b,a,C){C===void 0&&(C={});var y={type:"MultiPolygon",coordinates:b};return e(y,a,C)}H.multiPolygon=n;function l(b,a,C){C===void 0&&(C={});var y={type:"GeometryCollection",geometries:b};return e(y,a,C)}H.geometryCollection=l;function f(b,a){if(a===void 0&&(a=0),a&&!(a>=0))throw new Error("precision must be a positive number");var C=Math.pow(10,a||0);return Math.round(b*C)/C}H.round=f;function u(b,a){a===void 0&&(a="kilometers");var C=H.factors[a];if(!C)throw new Error(a+" units is invalid");return b*C}H.radiansToLength=u;function m(b,a){a===void 0&&(a="kilometers");var C=H.factors[a];if(!C)throw new Error(a+" units is invalid");return b/C}H.lengthToRadians=m;function c(b,a){return h(m(b,a))}H.lengthToDegrees=c;function w(b){var a=b%360;return a<0&&(a+=360),a}H.bearingToAzimuth=w;function h(b){var a=b%(2*Math.PI);return a*180/Math.PI}H.radiansToDegrees=h;function o(b){var a=b%360;return a*Math.PI/180}H.degreesToRadians=o;function d(b,a,C){if(a===void 0&&(a="kilometers"),C===void 0&&(C="kilometers"),!(b>=0))throw new Error("length must be a positive number");return u(m(b,a),C)}H.convertLength=d;function M(b,a,C){if(a===void 0&&(a="meters"),C===void 0&&(C="kilometers"),!(b>=0))throw new Error("area must be a positive number");var y=H.areaFactors[a];if(!y)throw new Error("invalid original units");var z=H.areaFactors[C];if(!z)throw new Error("invalid final units");return b/y*z}H.convertArea=M;function T(b){return!isNaN(b)&&b!==null&&!Array.isArray(b)}H.isNumber=T;function E(b){return!!b&&b.constructor===Object}H.isObject=E;function x(b){if(!b)throw new Error("bbox is required");if(!Array.isArray(b))throw new Error("bbox must be an Array");if(b.length!==4&&b.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");b.forEach(function(a){if(!T(a))throw new Error("bbox must only contain numbers")})}H.validateBBox=x;function S(b){if(!b)throw new Error("id is required");if(["string","number"].indexOf(typeof b)===-1)throw new Error("id must be a number or a string")}H.validateId=S},60302:function(W,H,e){Object.defineProperty(H,"__esModule",{value:!0});var g=e(23132);function P(o,d,M){if(o!==null)for(var T,E,x,S,b,a,C,y=0,z=0,I,B=o.type,F=B==="FeatureCollection",O=B==="Feature",N=F?o.features.length:1,_=0;_<N;_++){C=F?o.features[_].geometry:O?o.geometry:o,I=C?C.type==="GeometryCollection":!1,b=I?C.geometries.length:1;for(var U=0;U<b;U++){var Y=0,K=0;if(S=I?C.geometries[U]:C,S!==null){a=S.coordinates;var re=S.type;switch(y=M&&(re==="Polygon"||re==="MultiPolygon")?1:0,re){case null:break;case"Point":if(d(a,z,_,Y,K)===!1)return!1;z++,Y++;break;case"LineString":case"MultiPoint":for(T=0;T<a.length;T++){if(d(a[T],z,_,Y,K)===!1)return!1;z++,re==="MultiPoint"&&Y++}re==="LineString"&&Y++;break;case"Polygon":case"MultiLineString":for(T=0;T<a.length;T++){for(E=0;E<a[T].length-y;E++){if(d(a[T][E],z,_,Y,K)===!1)return!1;z++}re==="MultiLineString"&&Y++,re==="Polygon"&&K++}re==="Polygon"&&Y++;break;case"MultiPolygon":for(T=0;T<a.length;T++){for(K=0,E=0;E<a[T].length;E++){for(x=0;x<a[T][E].length-y;x++){if(d(a[T][E][x],z,_,Y,K)===!1)return!1;z++}K++}Y++}break;case"GeometryCollection":for(T=0;T<S.geometries.length;T++)if(P(S.geometries[T],d,M)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(o,d,M,T){var E=M;return P(o,function(x,S,b,a,C){S===0&&M===void 0?E=x:E=d(E,x,S,b,a,C)},T),E}function L(o,d){var M;switch(o.type){case"FeatureCollection":for(M=0;M<o.features.length&&d(o.features[M].properties,M)!==!1;M++);break;case"Feature":d(o.properties,0);break}}function A(o,d,M){var T=M;return L(o,function(E,x){x===0&&M===void 0?T=E:T=d(T,E,x)}),T}function v(o,d){if(o.type==="Feature")d(o,0);else if(o.type==="FeatureCollection")for(var M=0;M<o.features.length&&d(o.features[M],M)!==!1;M++);}function p(o,d,M){var T=M;return v(o,function(E,x){x===0&&M===void 0?T=E:T=d(T,E,x)}),T}function t(o){var d=[];return P(o,function(M){d.push(M)}),d}function r(o,d){var M,T,E,x,S,b,a,C,y,z,I=0,B=o.type==="FeatureCollection",F=o.type==="Feature",O=B?o.features.length:1;for(M=0;M<O;M++){for(b=B?o.features[M].geometry:F?o.geometry:o,C=B?o.features[M].properties:F?o.properties:{},y=B?o.features[M].bbox:F?o.bbox:void 0,z=B?o.features[M].id:F?o.id:void 0,a=b?b.type==="GeometryCollection":!1,S=a?b.geometries.length:1,E=0;E<S;E++){if(x=a?b.geometries[E]:b,x===null){if(d(null,I,C,y,z)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(x,I,C,y,z)===!1)return!1;break}case"GeometryCollection":{for(T=0;T<x.geometries.length;T++)if(d(x.geometries[T],I,C,y,z)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function s(o,d,M){var T=M;return r(o,function(E,x,S,b,a){x===0&&M===void 0?T=E:T=d(T,E,x,S,b,a)}),T}function n(o,d){r(o,function(M,T,E,x,S){var b=M===null?null:M.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return d(g.feature(M,E,{bbox:x,id:S}),T,0)===!1?!1:void 0}var a;switch(b){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon";break}for(var C=0;C<M.coordinates.length;C++){var y=M.coordinates[C],z={type:a,coordinates:y};if(d(g.feature(z,E),T,C)===!1)return!1}})}function l(o,d,M){var T=M;return n(o,function(E,x,S){x===0&&S===0&&M===void 0?T=E:T=d(T,E,x,S)}),T}function f(o,d){n(o,function(M,T,E){var x=0;if(M.geometry){var S=M.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var b,a=0,C=0,y=0;if(P(M,function(z,I,B,F,O){if(b===void 0||T>a||F>C||O>y){b=z,a=T,C=F,y=O,x=0;return}var N=g.lineString([b,z],M.properties);if(d(N,T,E,O,x)===!1)return!1;x++,b=z})===!1)return!1}}})}function u(o,d,M){var T=M,E=!1;return f(o,function(x,S,b,a,C){E===!1&&M===void 0?T=x:T=d(T,x,S,b,a,C),E=!0}),T}function m(o,d){if(!o)throw new Error("geojson is required");n(o,function(M,T,E){if(M.geometry!==null){var x=M.geometry.type,S=M.geometry.coordinates;switch(x){case"LineString":if(d(M,T,E,0,0)===!1)return!1;break;case"Polygon":for(var b=0;b<S.length;b++)if(d(g.lineString(S[b],M.properties),T,E,b)===!1)return!1;break}}})}function c(o,d,M){var T=M;return m(o,function(E,x,S,b){x===0&&M===void 0?T=E:T=d(T,E,x,S,b)}),T}function w(o,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var M=d.featureIndex||0,T=d.multiFeatureIndex||0,E=d.geometryIndex||0,x=d.segmentIndex||0,S=d.properties,b;switch(o.type){case"FeatureCollection":M<0&&(M=o.features.length+M),S=S||o.features[M].properties,b=o.features[M].geometry;break;case"Feature":S=S||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var a=b.coordinates;switch(b.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=a.length+x-1),g.lineString([a[x],a[x+1]],S,d);case"Polygon":return E<0&&(E=a.length+E),x<0&&(x=a[E].length+x-1),g.lineString([a[E][x],a[E][x+1]],S,d);case"MultiLineString":return T<0&&(T=a.length+T),x<0&&(x=a[T].length+x-1),g.lineString([a[T][x],a[T][x+1]],S,d);case"MultiPolygon":return T<0&&(T=a.length+T),E<0&&(E=a[T].length+E),x<0&&(x=a[T][E].length-x-1),g.lineString([a[T][E][x],a[T][E][x+1]],S,d)}throw new Error("geojson is invalid")}function h(o,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var M=d.featureIndex||0,T=d.multiFeatureIndex||0,E=d.geometryIndex||0,x=d.coordIndex||0,S=d.properties,b;switch(o.type){case"FeatureCollection":M<0&&(M=o.features.length+M),S=S||o.features[M].properties,b=o.features[M].geometry;break;case"Feature":S=S||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var a=b.coordinates;switch(b.type){case"Point":return g.point(a,S,d);case"MultiPoint":return T<0&&(T=a.length+T),g.point(a[T],S,d);case"LineString":return x<0&&(x=a.length+x),g.point(a[x],S,d);case"Polygon":return E<0&&(E=a.length+E),x<0&&(x=a[E].length+x),g.point(a[E][x],S,d);case"MultiLineString":return T<0&&(T=a.length+T),x<0&&(x=a[T].length+x),g.point(a[T][x],S,d);case"MultiPolygon":return T<0&&(T=a.length+T),E<0&&(E=a[T].length+E),x<0&&(x=a[T][E].length-x),g.point(a[T][E][x],S,d)}throw new Error("geojson is invalid")}H.coordEach=P,H.coordReduce=i,H.propEach=L,H.propReduce=A,H.featureEach=v,H.featureReduce=p,H.coordAll=t,H.geomEach=r,H.geomReduce=s,H.flattenEach=n,H.flattenReduce=l,H.segmentEach=f,H.segmentReduce=u,H.lineEach=m,H.lineReduce=c,H.findSegment=w,H.findPoint=h},85268:function(W,H,e){Object.defineProperty(H,"__esModule",{value:!0});var g=e(27138);function P(i){var L=[1/0,1/0,-1/0,-1/0];return g.coordEach(i,function(A){L[0]>A[0]&&(L[0]=A[0]),L[1]>A[1]&&(L[1]=A[1]),L[2]<A[0]&&(L[2]=A[0]),L[3]<A[1]&&(L[3]=A[1])}),L}P.default=P,H.default=P},94228:function(W,H){Object.defineProperty(H,"__esModule",{value:!0}),H.earthRadius=63710088e-1,H.factors={centimeters:H.earthRadius*100,centimetres:H.earthRadius*100,degrees:H.earthRadius/111325,feet:H.earthRadius*3.28084,inches:H.earthRadius*39.37,kilometers:H.earthRadius/1e3,kilometres:H.earthRadius/1e3,meters:H.earthRadius,metres:H.earthRadius,miles:H.earthRadius/1609.344,millimeters:H.earthRadius*1e3,millimetres:H.earthRadius*1e3,nauticalmiles:H.earthRadius/1852,radians:1,yards:H.earthRadius*1.0936},H.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/H.earthRadius,yards:1.0936133},H.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(b,a,C){C===void 0&&(C={});var y={type:"Feature"};return(C.id===0||C.id)&&(y.id=C.id),C.bbox&&(y.bbox=C.bbox),y.properties=a||{},y.geometry=b,y}H.feature=e;function g(b,a,C){switch(b){case"Point":return P(a).geometry;case"LineString":return v(a).geometry;case"Polygon":return L(a).geometry;case"MultiPoint":return s(a).geometry;case"MultiLineString":return r(a).geometry;case"MultiPolygon":return n(a).geometry;default:throw new Error(b+" is invalid")}}H.geometry=g;function P(b,a,C){if(C===void 0&&(C={}),!b)throw new Error("coordinates is required");if(!Array.isArray(b))throw new Error("coordinates must be an Array");if(b.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!T(b[0])||!T(b[1]))throw new Error("coordinates must contain numbers");var y={type:"Point",coordinates:b};return e(y,a,C)}H.point=P;function i(b,a,C){return C===void 0&&(C={}),t(b.map(function(y){return P(y,a)}),C)}H.points=i;function L(b,a,C){C===void 0&&(C={});for(var y=0,z=b;y<z.length;y++){var I=z[y];if(I.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var B=0;B<I[I.length-1].length;B++)if(I[I.length-1][B]!==I[0][B])throw new Error("First and last Position are not equivalent.")}var F={type:"Polygon",coordinates:b};return e(F,a,C)}H.polygon=L;function A(b,a,C){return C===void 0&&(C={}),t(b.map(function(y){return L(y,a)}),C)}H.polygons=A;function v(b,a,C){if(C===void 0&&(C={}),b.length<2)throw new Error("coordinates must be an array of two or more positions");var y={type:"LineString",coordinates:b};return e(y,a,C)}H.lineString=v;function p(b,a,C){return C===void 0&&(C={}),t(b.map(function(y){return v(y,a)}),C)}H.lineStrings=p;function t(b,a){a===void 0&&(a={});var C={type:"FeatureCollection"};return a.id&&(C.id=a.id),a.bbox&&(C.bbox=a.bbox),C.features=b,C}H.featureCollection=t;function r(b,a,C){C===void 0&&(C={});var y={type:"MultiLineString",coordinates:b};return e(y,a,C)}H.multiLineString=r;function s(b,a,C){C===void 0&&(C={});var y={type:"MultiPoint",coordinates:b};return e(y,a,C)}H.multiPoint=s;function n(b,a,C){C===void 0&&(C={});var y={type:"MultiPolygon",coordinates:b};return e(y,a,C)}H.multiPolygon=n;function l(b,a,C){C===void 0&&(C={});var y={type:"GeometryCollection",geometries:b};return e(y,a,C)}H.geometryCollection=l;function f(b,a){if(a===void 0&&(a=0),a&&!(a>=0))throw new Error("precision must be a positive number");var C=Math.pow(10,a||0);return Math.round(b*C)/C}H.round=f;function u(b,a){a===void 0&&(a="kilometers");var C=H.factors[a];if(!C)throw new Error(a+" units is invalid");return b*C}H.radiansToLength=u;function m(b,a){a===void 0&&(a="kilometers");var C=H.factors[a];if(!C)throw new Error(a+" units is invalid");return b/C}H.lengthToRadians=m;function c(b,a){return h(m(b,a))}H.lengthToDegrees=c;function w(b){var a=b%360;return a<0&&(a+=360),a}H.bearingToAzimuth=w;function h(b){var a=b%(2*Math.PI);return a*180/Math.PI}H.radiansToDegrees=h;function o(b){var a=b%360;return a*Math.PI/180}H.degreesToRadians=o;function d(b,a,C){if(a===void 0&&(a="kilometers"),C===void 0&&(C="kilometers"),!(b>=0))throw new Error("length must be a positive number");return u(m(b,a),C)}H.convertLength=d;function M(b,a,C){if(a===void 0&&(a="meters"),C===void 0&&(C="kilometers"),!(b>=0))throw new Error("area must be a positive number");var y=H.areaFactors[a];if(!y)throw new Error("invalid original units");var z=H.areaFactors[C];if(!z)throw new Error("invalid final units");return b/y*z}H.convertArea=M;function T(b){return!isNaN(b)&&b!==null&&!Array.isArray(b)}H.isNumber=T;function E(b){return!!b&&b.constructor===Object}H.isObject=E;function x(b){if(!b)throw new Error("bbox is required");if(!Array.isArray(b))throw new Error("bbox must be an Array");if(b.length!==4&&b.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");b.forEach(function(a){if(!T(a))throw new Error("bbox must only contain numbers")})}H.validateBBox=x;function S(b){if(!b)throw new Error("id is required");if(["string","number"].indexOf(typeof b)===-1)throw new Error("id must be a number or a string")}H.validateId=S},27138:function(W,H,e){Object.defineProperty(H,"__esModule",{value:!0});var g=e(94228);function P(o,d,M){if(o!==null)for(var T,E,x,S,b,a,C,y=0,z=0,I,B=o.type,F=B==="FeatureCollection",O=B==="Feature",N=F?o.features.length:1,_=0;_<N;_++){C=F?o.features[_].geometry:O?o.geometry:o,I=C?C.type==="GeometryCollection":!1,b=I?C.geometries.length:1;for(var U=0;U<b;U++){var Y=0,K=0;if(S=I?C.geometries[U]:C,S!==null){a=S.coordinates;var re=S.type;switch(y=M&&(re==="Polygon"||re==="MultiPolygon")?1:0,re){case null:break;case"Point":if(d(a,z,_,Y,K)===!1)return!1;z++,Y++;break;case"LineString":case"MultiPoint":for(T=0;T<a.length;T++){if(d(a[T],z,_,Y,K)===!1)return!1;z++,re==="MultiPoint"&&Y++}re==="LineString"&&Y++;break;case"Polygon":case"MultiLineString":for(T=0;T<a.length;T++){for(E=0;E<a[T].length-y;E++){if(d(a[T][E],z,_,Y,K)===!1)return!1;z++}re==="MultiLineString"&&Y++,re==="Polygon"&&K++}re==="Polygon"&&Y++;break;case"MultiPolygon":for(T=0;T<a.length;T++){for(K=0,E=0;E<a[T].length;E++){for(x=0;x<a[T][E].length-y;x++){if(d(a[T][E][x],z,_,Y,K)===!1)return!1;z++}K++}Y++}break;case"GeometryCollection":for(T=0;T<S.geometries.length;T++)if(P(S.geometries[T],d,M)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(o,d,M,T){var E=M;return P(o,function(x,S,b,a,C){S===0&&M===void 0?E=x:E=d(E,x,S,b,a,C)},T),E}function L(o,d){var M;switch(o.type){case"FeatureCollection":for(M=0;M<o.features.length&&d(o.features[M].properties,M)!==!1;M++);break;case"Feature":d(o.properties,0);break}}function A(o,d,M){var T=M;return L(o,function(E,x){x===0&&M===void 0?T=E:T=d(T,E,x)}),T}function v(o,d){if(o.type==="Feature")d(o,0);else if(o.type==="FeatureCollection")for(var M=0;M<o.features.length&&d(o.features[M],M)!==!1;M++);}function p(o,d,M){var T=M;return v(o,function(E,x){x===0&&M===void 0?T=E:T=d(T,E,x)}),T}function t(o){var d=[];return P(o,function(M){d.push(M)}),d}function r(o,d){var M,T,E,x,S,b,a,C,y,z,I=0,B=o.type==="FeatureCollection",F=o.type==="Feature",O=B?o.features.length:1;for(M=0;M<O;M++){for(b=B?o.features[M].geometry:F?o.geometry:o,C=B?o.features[M].properties:F?o.properties:{},y=B?o.features[M].bbox:F?o.bbox:void 0,z=B?o.features[M].id:F?o.id:void 0,a=b?b.type==="GeometryCollection":!1,S=a?b.geometries.length:1,E=0;E<S;E++){if(x=a?b.geometries[E]:b,x===null){if(d(null,I,C,y,z)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(x,I,C,y,z)===!1)return!1;break}case"GeometryCollection":{for(T=0;T<x.geometries.length;T++)if(d(x.geometries[T],I,C,y,z)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function s(o,d,M){var T=M;return r(o,function(E,x,S,b,a){x===0&&M===void 0?T=E:T=d(T,E,x,S,b,a)}),T}function n(o,d){r(o,function(M,T,E,x,S){var b=M===null?null:M.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return d(g.feature(M,E,{bbox:x,id:S}),T,0)===!1?!1:void 0}var a;switch(b){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon";break}for(var C=0;C<M.coordinates.length;C++){var y=M.coordinates[C],z={type:a,coordinates:y};if(d(g.feature(z,E),T,C)===!1)return!1}})}function l(o,d,M){var T=M;return n(o,function(E,x,S){x===0&&S===0&&M===void 0?T=E:T=d(T,E,x,S)}),T}function f(o,d){n(o,function(M,T,E){var x=0;if(M.geometry){var S=M.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var b,a=0,C=0,y=0;if(P(M,function(z,I,B,F,O){if(b===void 0||T>a||F>C||O>y){b=z,a=T,C=F,y=O,x=0;return}var N=g.lineString([b,z],M.properties);if(d(N,T,E,O,x)===!1)return!1;x++,b=z})===!1)return!1}}})}function u(o,d,M){var T=M,E=!1;return f(o,function(x,S,b,a,C){E===!1&&M===void 0?T=x:T=d(T,x,S,b,a,C),E=!0}),T}function m(o,d){if(!o)throw new Error("geojson is required");n(o,function(M,T,E){if(M.geometry!==null){var x=M.geometry.type,S=M.geometry.coordinates;switch(x){case"LineString":if(d(M,T,E,0,0)===!1)return!1;break;case"Polygon":for(var b=0;b<S.length;b++)if(d(g.lineString(S[b],M.properties),T,E,b)===!1)return!1;break}}})}function c(o,d,M){var T=M;return m(o,function(E,x,S,b){x===0&&M===void 0?T=E:T=d(T,E,x,S,b)}),T}function w(o,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var M=d.featureIndex||0,T=d.multiFeatureIndex||0,E=d.geometryIndex||0,x=d.segmentIndex||0,S=d.properties,b;switch(o.type){case"FeatureCollection":M<0&&(M=o.features.length+M),S=S||o.features[M].properties,b=o.features[M].geometry;break;case"Feature":S=S||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var a=b.coordinates;switch(b.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=a.length+x-1),g.lineString([a[x],a[x+1]],S,d);case"Polygon":return E<0&&(E=a.length+E),x<0&&(x=a[E].length+x-1),g.lineString([a[E][x],a[E][x+1]],S,d);case"MultiLineString":return T<0&&(T=a.length+T),x<0&&(x=a[T].length+x-1),g.lineString([a[T][x],a[T][x+1]],S,d);case"MultiPolygon":return T<0&&(T=a.length+T),E<0&&(E=a[T].length+E),x<0&&(x=a[T][E].length-x-1),g.lineString([a[T][E][x],a[T][E][x+1]],S,d)}throw new Error("geojson is invalid")}function h(o,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var M=d.featureIndex||0,T=d.multiFeatureIndex||0,E=d.geometryIndex||0,x=d.coordIndex||0,S=d.properties,b;switch(o.type){case"FeatureCollection":M<0&&(M=o.features.length+M),S=S||o.features[M].properties,b=o.features[M].geometry;break;case"Feature":S=S||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var a=b.coordinates;switch(b.type){case"Point":return g.point(a,S,d);case"MultiPoint":return T<0&&(T=a.length+T),g.point(a[T],S,d);case"LineString":return x<0&&(x=a.length+x),g.point(a[x],S,d);case"Polygon":return E<0&&(E=a.length+E),x<0&&(x=a[E].length+x),g.point(a[E][x],S,d);case"MultiLineString":return T<0&&(T=a.length+T),x<0&&(x=a[T].length+x),g.point(a[T][x],S,d);case"MultiPolygon":return T<0&&(T=a.length+T),E<0&&(E=a[T].length+E),x<0&&(x=a[T][E].length-x),g.point(a[T][E][x],S,d)}throw new Error("geojson is invalid")}H.coordEach=P,H.coordReduce=i,H.propEach=L,H.propReduce=A,H.featureEach=v,H.featureReduce=p,H.coordAll=t,H.geomEach=r,H.geomReduce=s,H.flattenEach=n,H.flattenReduce=l,H.segmentEach=f,H.segmentReduce=u,H.lineEach=m,H.lineReduce=c,H.findSegment=w,H.findPoint=h},29261:function(W,H,e){Object.defineProperty(H,"__esModule",{value:!0});var g=e(88553),P=e(64182);function i(L,A){A===void 0&&(A={});var v=0,p=0,t=0;return g.coordEach(L,function(r){v+=r[0],p+=r[1],t++}),P.point([v/t,p/t],A.properties)}H.default=i},64182:function(W,H){Object.defineProperty(H,"__esModule",{value:!0}),H.earthRadius=63710088e-1,H.factors={centimeters:H.earthRadius*100,centimetres:H.earthRadius*100,degrees:H.earthRadius/111325,feet:H.earthRadius*3.28084,inches:H.earthRadius*39.37,kilometers:H.earthRadius/1e3,kilometres:H.earthRadius/1e3,meters:H.earthRadius,metres:H.earthRadius,miles:H.earthRadius/1609.344,millimeters:H.earthRadius*1e3,millimetres:H.earthRadius*1e3,nauticalmiles:H.earthRadius/1852,radians:1,yards:H.earthRadius/1.0936},H.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/H.earthRadius,yards:.91441111923921},H.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(F,O,N){N===void 0&&(N={});var _={type:"Feature"};return(N.id===0||N.id)&&(_.id=N.id),N.bbox&&(_.bbox=N.bbox),_.properties=O||{},_.geometry=F,_}H.feature=e;function g(F,O,N){switch(F){case"Point":return P(O).geometry;case"LineString":return v(O).geometry;case"Polygon":return L(O).geometry;case"MultiPoint":return s(O).geometry;case"MultiLineString":return r(O).geometry;case"MultiPolygon":return n(O).geometry;default:throw new Error(F+" is invalid")}}H.geometry=g;function P(F,O,N){N===void 0&&(N={});var _={type:"Point",coordinates:F};return e(_,O,N)}H.point=P;function i(F,O,N){return N===void 0&&(N={}),t(F.map(function(_){return P(_,O)}),N)}H.points=i;function L(F,O,N){N===void 0&&(N={});for(var _=0,U=F;_<U.length;_++){var Y=U[_];if(Y.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var K=0;K<Y[Y.length-1].length;K++)if(Y[Y.length-1][K]!==Y[0][K])throw new Error("First and last Position are not equivalent.")}var re={type:"Polygon",coordinates:F};return e(re,O,N)}H.polygon=L;function A(F,O,N){return N===void 0&&(N={}),t(F.map(function(_){return L(_,O)}),N)}H.polygons=A;function v(F,O,N){if(N===void 0&&(N={}),F.length<2)throw new Error("coordinates must be an array of two or more positions");var _={type:"LineString",coordinates:F};return e(_,O,N)}H.lineString=v;function p(F,O,N){return N===void 0&&(N={}),t(F.map(function(_){return v(_,O)}),N)}H.lineStrings=p;function t(F,O){O===void 0&&(O={});var N={type:"FeatureCollection"};return O.id&&(N.id=O.id),O.bbox&&(N.bbox=O.bbox),N.features=F,N}H.featureCollection=t;function r(F,O,N){N===void 0&&(N={});var _={type:"MultiLineString",coordinates:F};return e(_,O,N)}H.multiLineString=r;function s(F,O,N){N===void 0&&(N={});var _={type:"MultiPoint",coordinates:F};return e(_,O,N)}H.multiPoint=s;function n(F,O,N){N===void 0&&(N={});var _={type:"MultiPolygon",coordinates:F};return e(_,O,N)}H.multiPolygon=n;function l(F,O,N){N===void 0&&(N={});var _={type:"GeometryCollection",geometries:F};return e(_,O,N)}H.geometryCollection=l;function f(F,O){if(O===void 0&&(O=0),O&&!(O>=0))throw new Error("precision must be a positive number");var N=Math.pow(10,O||0);return Math.round(F*N)/N}H.round=f;function u(F,O){O===void 0&&(O="kilometers");var N=H.factors[O];if(!N)throw new Error(O+" units is invalid");return F*N}H.radiansToLength=u;function m(F,O){O===void 0&&(O="kilometers");var N=H.factors[O];if(!N)throw new Error(O+" units is invalid");return F/N}H.lengthToRadians=m;function c(F,O){return h(m(F,O))}H.lengthToDegrees=c;function w(F){var O=F%360;return O<0&&(O+=360),O}H.bearingToAzimuth=w;function h(F){var O=F%(2*Math.PI);return O*180/Math.PI}H.radiansToDegrees=h;function o(F){var O=F%360;return O*Math.PI/180}H.degreesToRadians=o;function d(F,O,N){if(O===void 0&&(O="kilometers"),N===void 0&&(N="kilometers"),!(F>=0))throw new Error("length must be a positive number");return u(m(F,O),N)}H.convertLength=d;function M(F,O,N){if(O===void 0&&(O="meters"),N===void 0&&(N="kilometers"),!(F>=0))throw new Error("area must be a positive number");var _=H.areaFactors[O];if(!_)throw new Error("invalid original units");var U=H.areaFactors[N];if(!U)throw new Error("invalid final units");return F/_*U}H.convertArea=M;function T(F){return!isNaN(F)&&F!==null&&!Array.isArray(F)&&!/^\s*$/.test(F)}H.isNumber=T;function E(F){return!!F&&F.constructor===Object}H.isObject=E;function x(F){if(!F)throw new Error("bbox is required");if(!Array.isArray(F))throw new Error("bbox must be an Array");if(F.length!==4&&F.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");F.forEach(function(O){if(!T(O))throw new Error("bbox must only contain numbers")})}H.validateBBox=x;function S(F){if(!F)throw new Error("id is required");if(["string","number"].indexOf(typeof F)===-1)throw new Error("id must be a number or a string")}H.validateId=S;function b(){throw new Error("method has been renamed to `radiansToDegrees`")}H.radians2degrees=b;function a(){throw new Error("method has been renamed to `degreesToRadians`")}H.degrees2radians=a;function C(){throw new Error("method has been renamed to `lengthToDegrees`")}H.distanceToDegrees=C;function y(){throw new Error("method has been renamed to `lengthToRadians`")}H.distanceToRadians=y;function z(){throw new Error("method has been renamed to `radiansToLength`")}H.radiansToDistance=z;function I(){throw new Error("method has been renamed to `bearingToAzimuth`")}H.bearingToAngle=I;function B(){throw new Error("method has been renamed to `convertLength`")}H.convertDistance=B},88553:function(W,H,e){Object.defineProperty(H,"__esModule",{value:!0});var g=e(64182);function P(o,d,M){if(o!==null)for(var T,E,x,S,b,a,C,y=0,z=0,I,B=o.type,F=B==="FeatureCollection",O=B==="Feature",N=F?o.features.length:1,_=0;_<N;_++){C=F?o.features[_].geometry:O?o.geometry:o,I=C?C.type==="GeometryCollection":!1,b=I?C.geometries.length:1;for(var U=0;U<b;U++){var Y=0,K=0;if(S=I?C.geometries[U]:C,S!==null){a=S.coordinates;var re=S.type;switch(y=M&&(re==="Polygon"||re==="MultiPolygon")?1:0,re){case null:break;case"Point":if(d(a,z,_,Y,K)===!1)return!1;z++,Y++;break;case"LineString":case"MultiPoint":for(T=0;T<a.length;T++){if(d(a[T],z,_,Y,K)===!1)return!1;z++,re==="MultiPoint"&&Y++}re==="LineString"&&Y++;break;case"Polygon":case"MultiLineString":for(T=0;T<a.length;T++){for(E=0;E<a[T].length-y;E++){if(d(a[T][E],z,_,Y,K)===!1)return!1;z++}re==="MultiLineString"&&Y++,re==="Polygon"&&K++}re==="Polygon"&&Y++;break;case"MultiPolygon":for(T=0;T<a.length;T++){for(K=0,E=0;E<a[T].length;E++){for(x=0;x<a[T][E].length-y;x++){if(d(a[T][E][x],z,_,Y,K)===!1)return!1;z++}K++}Y++}break;case"GeometryCollection":for(T=0;T<S.geometries.length;T++)if(P(S.geometries[T],d,M)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(o,d,M,T){var E=M;return P(o,function(x,S,b,a,C){S===0&&M===void 0?E=x:E=d(E,x,S,b,a,C)},T),E}function L(o,d){var M;switch(o.type){case"FeatureCollection":for(M=0;M<o.features.length&&d(o.features[M].properties,M)!==!1;M++);break;case"Feature":d(o.properties,0);break}}function A(o,d,M){var T=M;return L(o,function(E,x){x===0&&M===void 0?T=E:T=d(T,E,x)}),T}function v(o,d){if(o.type==="Feature")d(o,0);else if(o.type==="FeatureCollection")for(var M=0;M<o.features.length&&d(o.features[M],M)!==!1;M++);}function p(o,d,M){var T=M;return v(o,function(E,x){x===0&&M===void 0?T=E:T=d(T,E,x)}),T}function t(o){var d=[];return P(o,function(M){d.push(M)}),d}function r(o,d){var M,T,E,x,S,b,a,C,y,z,I=0,B=o.type==="FeatureCollection",F=o.type==="Feature",O=B?o.features.length:1;for(M=0;M<O;M++){for(b=B?o.features[M].geometry:F?o.geometry:o,C=B?o.features[M].properties:F?o.properties:{},y=B?o.features[M].bbox:F?o.bbox:void 0,z=B?o.features[M].id:F?o.id:void 0,a=b?b.type==="GeometryCollection":!1,S=a?b.geometries.length:1,E=0;E<S;E++){if(x=a?b.geometries[E]:b,x===null){if(d(null,I,C,y,z)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(x,I,C,y,z)===!1)return!1;break}case"GeometryCollection":{for(T=0;T<x.geometries.length;T++)if(d(x.geometries[T],I,C,y,z)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function s(o,d,M){var T=M;return r(o,function(E,x,S,b,a){x===0&&M===void 0?T=E:T=d(T,E,x,S,b,a)}),T}function n(o,d){r(o,function(M,T,E,x,S){var b=M===null?null:M.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return d(g.feature(M,E,{bbox:x,id:S}),T,0)===!1?!1:void 0}var a;switch(b){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon";break}for(var C=0;C<M.coordinates.length;C++){var y=M.coordinates[C],z={type:a,coordinates:y};if(d(g.feature(z,E),T,C)===!1)return!1}})}function l(o,d,M){var T=M;return n(o,function(E,x,S){x===0&&S===0&&M===void 0?T=E:T=d(T,E,x,S)}),T}function f(o,d){n(o,function(M,T,E){var x=0;if(M.geometry){var S=M.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var b,a=0,C=0,y=0;if(P(M,function(z,I,B,F,O){if(b===void 0||T>a||F>C||O>y){b=z,a=T,C=F,y=O,x=0;return}var N=g.lineString([b,z],M.properties);if(d(N,T,E,O,x)===!1)return!1;x++,b=z})===!1)return!1}}})}function u(o,d,M){var T=M,E=!1;return f(o,function(x,S,b,a,C){E===!1&&M===void 0?T=x:T=d(T,x,S,b,a,C),E=!0}),T}function m(o,d){if(!o)throw new Error("geojson is required");n(o,function(M,T,E){if(M.geometry!==null){var x=M.geometry.type,S=M.geometry.coordinates;switch(x){case"LineString":if(d(M,T,E,0,0)===!1)return!1;break;case"Polygon":for(var b=0;b<S.length;b++)if(d(g.lineString(S[b],M.properties),T,E,b)===!1)return!1;break}}})}function c(o,d,M){var T=M;return m(o,function(E,x,S,b){x===0&&M===void 0?T=E:T=d(T,E,x,S,b)}),T}function w(o,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var M=d.featureIndex||0,T=d.multiFeatureIndex||0,E=d.geometryIndex||0,x=d.segmentIndex||0,S=d.properties,b;switch(o.type){case"FeatureCollection":M<0&&(M=o.features.length+M),S=S||o.features[M].properties,b=o.features[M].geometry;break;case"Feature":S=S||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var a=b.coordinates;switch(b.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=a.length+x-1),g.lineString([a[x],a[x+1]],S,d);case"Polygon":return E<0&&(E=a.length+E),x<0&&(x=a[E].length+x-1),g.lineString([a[E][x],a[E][x+1]],S,d);case"MultiLineString":return T<0&&(T=a.length+T),x<0&&(x=a[T].length+x-1),g.lineString([a[T][x],a[T][x+1]],S,d);case"MultiPolygon":return T<0&&(T=a.length+T),E<0&&(E=a[T].length+E),x<0&&(x=a[T][E].length-x-1),g.lineString([a[T][E][x],a[T][E][x+1]],S,d)}throw new Error("geojson is invalid")}function h(o,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var M=d.featureIndex||0,T=d.multiFeatureIndex||0,E=d.geometryIndex||0,x=d.coordIndex||0,S=d.properties,b;switch(o.type){case"FeatureCollection":M<0&&(M=o.features.length+M),S=S||o.features[M].properties,b=o.features[M].geometry;break;case"Feature":S=S||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var a=b.coordinates;switch(b.type){case"Point":return g.point(a,S,d);case"MultiPoint":return T<0&&(T=a.length+T),g.point(a[T],S,d);case"LineString":return x<0&&(x=a.length+x),g.point(a[x],S,d);case"Polygon":return E<0&&(E=a.length+E),x<0&&(x=a[E].length+x),g.point(a[E][x],S,d);case"MultiLineString":return T<0&&(T=a.length+T),x<0&&(x=a[T].length+x),g.point(a[T][x],S,d);case"MultiPolygon":return T<0&&(T=a.length+T),E<0&&(E=a[T].length+E),x<0&&(x=a[T][E].length-x),g.point(a[T][E][x],S,d)}throw new Error("geojson is invalid")}H.coordEach=P,H.coordReduce=i,H.propEach=L,H.propReduce=A,H.featureEach=v,H.featureReduce=p,H.coordAll=t,H.geomEach=r,H.geomReduce=s,H.flattenEach=n,H.flattenReduce=l,H.segmentEach=f,H.segmentReduce=u,H.lineEach=m,H.lineReduce=c,H.findSegment=w,H.findPoint=h},65185:function(W){W.exports=H;function H(e){var g=0,P=0,i=0,L=0;return e.map(function(A){A=A.slice();var v=A[0],p=v.toUpperCase();if(v!=p)switch(A[0]=p,v){case"a":A[6]+=i,A[7]+=L;break;case"v":A[1]+=L;break;case"h":A[1]+=i;break;default:for(var t=1;t<A.length;)A[t++]+=i,A[t++]+=L}switch(p){case"Z":i=g,L=P;break;case"H":i=A[1];break;case"V":L=A[1];break;case"M":i=g=A[1],L=P=A[2];break;default:i=A[A.length-2],L=A[A.length-1]}return A})}},21527:function(W){W.exports=H;function H(e,g){if(!e||e.length==null)throw Error("Argument should be an array");g==null?g=1:g=Math.floor(g);for(var P=Array(g*2),i=0;i<g;i++){for(var L=-1/0,A=1/0,v=i,p=e.length;v<p;v+=g)e[v]>L&&(L=e[v]),e[v]<A&&(A=e[v]);P[i]=A,P[g+i]=L}return P}},6851:function(W){W.exports=function(H,e,g){if(typeof Array.prototype.findIndex=="function")return H.findIndex(e,g);if(typeof e!="function")throw new TypeError("predicate must be a function");var P=Object(H),i=P.length;if(i===0)return-1;for(var L=0;L<i;L++)if(e.call(g,P[L],L,P))return L;return-1}},54:function(W,H,e){var g=e(21527);W.exports=P;function P(i,L,A){if(!i||i.length==null)throw Error("Argument should be an array");L==null&&(L=1),A==null&&(A=g(i,L));for(var v=0;v<L;v++){var p=A[L+v],t=A[v],r=v,s=i.length;if(p===1/0&&t===-1/0)for(r=v;r<s;r+=L)i[r]=i[r]===p?1:i[r]===t?0:.5;else if(p===1/0)for(r=v;r<s;r+=L)i[r]=i[r]===p?1:0;else if(t===-1/0)for(r=v;r<s;r+=L)i[r]=i[r]===t?0:1;else{var n=p-t;for(r=v;r<s;r+=L)isNaN(i[r])||(i[r]=n===0?.5:(i[r]-t)/n)}}return i}},57471:function(W){W.exports=function(e,g){var P=typeof e=="number",i=typeof g=="number";P&&!i?(g=e,e=0):!P&&!i&&(e=0,g=0),e=e|0,g=g|0;var L=g-e;if(L<0)throw new Error("array length must be positive");for(var A=new Array(L),v=0,p=e;v<L;v++,p++)A[v]=p;return A}},32791:function(W,H,e){var g=e(90386);function P(K){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P=function(ae){return typeof ae}:P=function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},P(K)}function i(K,re){if(!(K instanceof re))throw new TypeError("Cannot call a class as a function")}var L=e(79616),A=L.codes,v=A.ERR_AMBIGUOUS_ARGUMENT,p=A.ERR_INVALID_ARG_TYPE,t=A.ERR_INVALID_ARG_VALUE,r=A.ERR_INVALID_RETURN_VALUE,s=A.ERR_MISSING_ARGS,n=e(73894),l=e(43827),f=l.inspect,u=e(43827).types,m=u.isPromise,c=u.isRegExp,w=Object.assign?Object.assign:e(73523).assign,h=Object.is?Object.is:e(64003),o,d;function M(){var K=e(74061);o=K.isDeepEqual,d=K.isDeepStrictEqual}var T=!1,E=W.exports=C,x={};function S(K){throw K.message instanceof Error?K.message:new n(K)}function b(K,re,ae,fe,Q){var j=arguments.length,X;if(j===0)X="Failed";else if(j===1)ae=K,K=void 0;else{if(T===!1){T=!0;var J=g.emitWarning?g.emitWarning:console.warn.bind(console);J("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}j===2&&(fe="!=")}if(ae instanceof Error)throw ae;var ee={actual:K,expected:re,operator:fe===void 0?"fail":fe,stackStartFn:Q||b};ae!==void 0&&(ee.message=ae);var se=new n(ee);throw X&&(se.message=X,se.generatedMessage=!0),se}E.fail=b,E.AssertionError=n;function a(K,re,ae,fe){if(!ae){var Q=!1;if(re===0)Q=!0,fe="No value argument passed to `assert.ok()`";else if(fe instanceof Error)throw fe;var j=new n({actual:ae,expected:!0,message:fe,operator:"==",stackStartFn:K});throw j.generatedMessage=Q,j}}function C(){for(var K=arguments.length,re=new Array(K),ae=0;ae<K;ae++)re[ae]=arguments[ae];a.apply(void 0,[C,re.length].concat(re))}E.ok=C,E.equal=function K(re,ae,fe){if(arguments.length<2)throw new s("actual","expected");re!=ae&&S({actual:re,expected:ae,message:fe,operator:"==",stackStartFn:K})},E.notEqual=function K(re,ae,fe){if(arguments.length<2)throw new s("actual","expected");re==ae&&S({actual:re,expected:ae,message:fe,operator:"!=",stackStartFn:K})},E.deepEqual=function K(re,ae,fe){if(arguments.length<2)throw new s("actual","expected");o===void 0&&M(),o(re,ae)||S({actual:re,expected:ae,message:fe,operator:"deepEqual",stackStartFn:K})},E.notDeepEqual=function K(re,ae,fe){if(arguments.length<2)throw new s("actual","expected");o===void 0&&M(),o(re,ae)&&S({actual:re,expected:ae,message:fe,operator:"notDeepEqual",stackStartFn:K})},E.deepStrictEqual=function K(re,ae,fe){if(arguments.length<2)throw new s("actual","expected");o===void 0&&M(),d(re,ae)||S({actual:re,expected:ae,message:fe,operator:"deepStrictEqual",stackStartFn:K})},E.notDeepStrictEqual=y;function y(K,re,ae){if(arguments.length<2)throw new s("actual","expected");o===void 0&&M(),d(K,re)&&S({actual:K,expected:re,message:ae,operator:"notDeepStrictEqual",stackStartFn:y})}E.strictEqual=function K(re,ae,fe){if(arguments.length<2)throw new s("actual","expected");h(re,ae)||S({actual:re,expected:ae,message:fe,operator:"strictEqual",stackStartFn:K})},E.notStrictEqual=function K(re,ae,fe){if(arguments.length<2)throw new s("actual","expected");h(re,ae)&&S({actual:re,expected:ae,message:fe,operator:"notStrictEqual",stackStartFn:K})};var z=function K(re,ae,fe){var Q=this;i(this,K),ae.forEach(function(j){j in re&&(fe!==void 0&&typeof fe[j]=="string"&&c(re[j])&&re[j].test(fe[j])?Q[j]=fe[j]:Q[j]=re[j])})};function I(K,re,ae,fe,Q,j){if(!(ae in K)||!d(K[ae],re[ae])){if(!fe){var X=new z(K,Q),J=new z(re,Q,K),ee=new n({actual:X,expected:J,operator:"deepStrictEqual",stackStartFn:j});throw ee.actual=K,ee.expected=re,ee.operator=j.name,ee}S({actual:K,expected:re,message:fe,operator:j.name,stackStartFn:j})}}function B(K,re,ae,fe){if(typeof re!="function"){if(c(re))return re.test(K);if(arguments.length===2)throw new p("expected",["Function","RegExp"],re);if(P(K)!=="object"||K===null){var Q=new n({actual:K,expected:re,message:ae,operator:"deepStrictEqual",stackStartFn:fe});throw Q.operator=fe.name,Q}var j=Object.keys(re);if(re instanceof Error)j.push("name","message");else if(j.length===0)throw new t("error",re,"may not be an empty object");return o===void 0&&M(),j.forEach(function(X){typeof K[X]=="string"&&c(re[X])&&re[X].test(K[X])||I(K,re,X,ae,j,fe)}),!0}return re.prototype!==void 0&&K instanceof re?!0:Error.isPrototypeOf(re)?!1:re.call({},K)===!0}function F(K){if(typeof K!="function")throw new p("fn","Function",K);try{K()}catch(re){return re}return x}function O(K){return m(K)||K!==null&&P(K)==="object"&&typeof K.then=="function"&&typeof K.catch=="function"}function N(K){return Promise.resolve().then(function(){var re;if(typeof K=="function"){if(re=K(),!O(re))throw new r("instance of Promise","promiseFn",re)}else if(O(K))re=K;else throw new p("promiseFn",["Function","Promise"],K);return Promise.resolve().then(function(){return re}).then(function(){return x}).catch(function(ae){return ae})})}function _(K,re,ae,fe){if(typeof ae=="string"){if(arguments.length===4)throw new p("error",["Object","Error","Function","RegExp"],ae);if(P(re)==="object"&&re!==null){if(re.message===ae)throw new v("error/message",'The error message "'.concat(re.message,'" is identical to the message.'))}else if(re===ae)throw new v("error/message",'The error "'.concat(re,'" is identical to the message.'));fe=ae,ae=void 0}else if(ae!=null&&P(ae)!=="object"&&typeof ae!="function")throw new p("error",["Object","Error","Function","RegExp"],ae);if(re===x){var Q="";ae&&ae.name&&(Q+=" (".concat(ae.name,")")),Q+=fe?": ".concat(fe):".";var j=K.name==="rejects"?"rejection":"exception";S({actual:void 0,expected:ae,operator:K.name,message:"Missing expected ".concat(j).concat(Q),stackStartFn:K})}if(ae&&!B(re,ae,fe,K))throw re}function U(K,re,ae,fe){if(re!==x){if(typeof ae=="string"&&(fe=ae,ae=void 0),!ae||B(re,ae)){var Q=fe?": ".concat(fe):".",j=K.name==="doesNotReject"?"rejection":"exception";S({actual:re,expected:ae,operator:K.name,message:"Got unwanted ".concat(j).concat(Q,`
`)+'Actual message: "'.concat(re&&re.message,'"'),stackStartFn:K})}throw re}}E.throws=function K(re){for(var ae=arguments.length,fe=new Array(ae>1?ae-1:0),Q=1;Q<ae;Q++)fe[Q-1]=arguments[Q];_.apply(void 0,[K,F(re)].concat(fe))},E.rejects=function K(re){for(var ae=arguments.length,fe=new Array(ae>1?ae-1:0),Q=1;Q<ae;Q++)fe[Q-1]=arguments[Q];return N(re).then(function(j){return _.apply(void 0,[K,j].concat(fe))})},E.doesNotThrow=function K(re){for(var ae=arguments.length,fe=new Array(ae>1?ae-1:0),Q=1;Q<ae;Q++)fe[Q-1]=arguments[Q];U.apply(void 0,[K,F(re)].concat(fe))},E.doesNotReject=function K(re){for(var ae=arguments.length,fe=new Array(ae>1?ae-1:0),Q=1;Q<ae;Q++)fe[Q-1]=arguments[Q];return N(re).then(function(j){return U.apply(void 0,[K,j].concat(fe))})},E.ifError=function K(re){if(re!=null){var ae="ifError got unwanted exception: ";P(re)==="object"&&typeof re.message=="string"?re.message.length===0&&re.constructor?ae+=re.constructor.name:ae+=re.message:ae+=f(re);var fe=new n({actual:re,expected:null,operator:"ifError",message:ae,stackStartFn:K}),Q=re.stack;if(typeof Q=="string"){var j=Q.split(`
`);j.shift();for(var X=fe.stack.split(`
`),J=0;J<j.length;J++){var ee=X.indexOf(j[J]);if(ee!==-1){X=X.slice(0,ee);break}}fe.stack="".concat(X.join(`
`),`
`).concat(j.join(`
`))}throw fe}};function Y(){for(var K=arguments.length,re=new Array(K),ae=0;ae<K;ae++)re[ae]=arguments[ae];a.apply(void 0,[Y,re.length].concat(re))}E.strict=w(Y,E,{equal:E.strictEqual,deepEqual:E.deepStrictEqual,notEqual:E.notStrictEqual,notDeepEqual:E.notDeepStrictEqual}),E.strict.strict=E.strict},73894:function(W,H,e){var g=e(90386);function P(F){for(var O=1;O<arguments.length;O++){var N=arguments[O]!=null?arguments[O]:{},_=Object.keys(N);typeof Object.getOwnPropertySymbols=="function"&&(_=_.concat(Object.getOwnPropertySymbols(N).filter(function(U){return Object.getOwnPropertyDescriptor(N,U).enumerable}))),_.forEach(function(U){i(F,U,N[U])})}return F}function i(F,O,N){return O in F?Object.defineProperty(F,O,{value:N,enumerable:!0,configurable:!0,writable:!0}):F[O]=N,F}function L(F,O){if(!(F instanceof O))throw new TypeError("Cannot call a class as a function")}function A(F,O){for(var N=0;N<O.length;N++){var _=O[N];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(F,_.key,_)}}function v(F,O,N){return O&&A(F.prototype,O),N&&A(F,N),F}function p(F,O){return O&&(c(O)==="object"||typeof O=="function")?O:t(F)}function t(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function r(F,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(O&&O.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),O&&u(F,O)}function s(F){var O=typeof Map=="function"?new Map:void 0;return s=function(_){if(_===null||!f(_))return _;if(typeof _!="function")throw new TypeError("Super expression must either be null or a function");if(typeof O<"u"){if(O.has(_))return O.get(_);O.set(_,U)}function U(){return l(_,arguments,m(this).constructor)}return U.prototype=Object.create(_.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),u(U,_)},s(F)}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function l(F,O,N){return n()?l=Reflect.construct:l=function(U,Y,K){var re=[null];re.push.apply(re,Y);var ae=Function.bind.apply(U,re),fe=new ae;return K&&u(fe,K.prototype),fe},l.apply(null,arguments)}function f(F){return Function.toString.call(F).indexOf("[native code]")!==-1}function u(F,O){return u=Object.setPrototypeOf||function(_,U){return _.__proto__=U,_},u(F,O)}function m(F){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(N){return N.__proto__||Object.getPrototypeOf(N)},m(F)}function c(F){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(N){return typeof N}:c=function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},c(F)}var w=e(43827),h=w.inspect,o=e(79616),d=o.codes.ERR_INVALID_ARG_TYPE;function M(F,O,N){return(N===void 0||N>F.length)&&(N=F.length),F.substring(N-O.length,N)===O}function T(F,O){if(O=Math.floor(O),F.length==0||O==0)return"";var N=F.length*O;for(O=Math.floor(Math.log(O)/Math.log(2));O;)F+=F,O--;return F+=F.substring(0,N-F.length),F}var E="",x="",S="",b="",a={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},C=10;function y(F){var O=Object.keys(F),N=Object.create(Object.getPrototypeOf(F));return O.forEach(function(_){N[_]=F[_]}),Object.defineProperty(N,"message",{value:F.message}),N}function z(F){return h(F,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function I(F,O,N){var _="",U="",Y=0,K="",re=!1,ae=z(F),fe=ae.split(`
`),Q=z(O).split(`
`),j=0,X="";if(N==="strictEqual"&&c(F)==="object"&&c(O)==="object"&&F!==null&&O!==null&&(N="strictEqualObject"),fe.length===1&&Q.length===1&&fe[0]!==Q[0]){var J=fe[0].length+Q[0].length;if(J<=C){if((c(F)!=="object"||F===null)&&(c(O)!=="object"||O===null)&&(F!==0||O!==0))return"".concat(a[N],`

`)+"".concat(fe[0]," !== ").concat(Q[0],`
`)}else if(N!=="strictEqualObject"){var ee=g.stderr&&g.stderr.isTTY?g.stderr.columns:80;if(J<ee){for(;fe[0][j]===Q[0][j];)j++;j>2&&(X=`
  `.concat(T(" ",j),"^"),j=0)}}}for(var se=fe[fe.length-1],q=Q[Q.length-1];se===q&&(j++<2?K=`
  `.concat(se).concat(K):_=se,fe.pop(),Q.pop(),!(fe.length===0||Q.length===0));)se=fe[fe.length-1],q=Q[Q.length-1];var $=Math.max(fe.length,Q.length);if($===0){var le=ae.split(`
`);if(le.length>30)for(le[26]="".concat(E,"...").concat(b);le.length>27;)le.pop();return"".concat(a.notIdentical,`

`).concat(le.join(`
`),`
`)}j>3&&(K=`
`.concat(E,"...").concat(b).concat(K),re=!0),_!==""&&(K=`
  `.concat(_).concat(K),_="");var ie=0,ce=a[N]+`
`.concat(x,"+ actual").concat(b," ").concat(S,"- expected").concat(b),me=" ".concat(E,"...").concat(b," Lines skipped");for(j=0;j<$;j++){var Me=j-Y;if(fe.length<j+1)Me>1&&j>2&&(Me>4?(U+=`
`.concat(E,"...").concat(b),re=!0):Me>3&&(U+=`
  `.concat(Q[j-2]),ie++),U+=`
  `.concat(Q[j-1]),ie++),Y=j,_+=`
`.concat(S,"-").concat(b," ").concat(Q[j]),ie++;else if(Q.length<j+1)Me>1&&j>2&&(Me>4?(U+=`
`.concat(E,"...").concat(b),re=!0):Me>3&&(U+=`
  `.concat(fe[j-2]),ie++),U+=`
  `.concat(fe[j-1]),ie++),Y=j,U+=`
`.concat(x,"+").concat(b," ").concat(fe[j]),ie++;else{var we=Q[j],Oe=fe[j],Be=Oe!==we&&(!M(Oe,",")||Oe.slice(0,-1)!==we);Be&&M(we,",")&&we.slice(0,-1)===Oe&&(Be=!1,Oe+=","),Be?(Me>1&&j>2&&(Me>4?(U+=`
`.concat(E,"...").concat(b),re=!0):Me>3&&(U+=`
  `.concat(fe[j-2]),ie++),U+=`
  `.concat(fe[j-1]),ie++),Y=j,U+=`
`.concat(x,"+").concat(b," ").concat(Oe),_+=`
`.concat(S,"-").concat(b," ").concat(we),ie+=2):(U+=_,_="",(Me===1||j===0)&&(U+=`
  `.concat(Oe),ie++))}if(ie>20&&j<$-2)return"".concat(ce).concat(me,`
`).concat(U,`
`).concat(E,"...").concat(b).concat(_,`
`)+"".concat(E,"...").concat(b)}return"".concat(ce).concat(re?me:"",`
`).concat(U).concat(_).concat(K).concat(X)}var B=function(F){r(O,F);function O(N){var _;if(L(this,O),c(N)!=="object"||N===null)throw new d("options","Object",N);var U=N.message,Y=N.operator,K=N.stackStartFn,re=N.actual,ae=N.expected,fe=Error.stackTraceLimit;if(Error.stackTraceLimit=0,U!=null)_=p(this,m(O).call(this,String(U)));else if(g.stderr&&g.stderr.isTTY&&(g.stderr&&g.stderr.getColorDepth&&g.stderr.getColorDepth()!==1?(E="\x1B[34m",x="\x1B[32m",b="\x1B[39m",S="\x1B[31m"):(E="",x="",b="",S="")),c(re)==="object"&&re!==null&&c(ae)==="object"&&ae!==null&&"stack"in re&&re instanceof Error&&"stack"in ae&&ae instanceof Error&&(re=y(re),ae=y(ae)),Y==="deepStrictEqual"||Y==="strictEqual")_=p(this,m(O).call(this,I(re,ae,Y)));else if(Y==="notDeepStrictEqual"||Y==="notStrictEqual"){var Q=a[Y],j=z(re).split(`
`);if(Y==="notStrictEqual"&&c(re)==="object"&&re!==null&&(Q=a.notStrictEqualObject),j.length>30)for(j[26]="".concat(E,"...").concat(b);j.length>27;)j.pop();j.length===1?_=p(this,m(O).call(this,"".concat(Q," ").concat(j[0]))):_=p(this,m(O).call(this,"".concat(Q,`

`).concat(j.join(`
`),`
`)))}else{var X=z(re),J="",ee=a[Y];Y==="notDeepEqual"||Y==="notEqual"?(X="".concat(a[Y],`

`).concat(X),X.length>1024&&(X="".concat(X.slice(0,1021),"..."))):(J="".concat(z(ae)),X.length>512&&(X="".concat(X.slice(0,509),"...")),J.length>512&&(J="".concat(J.slice(0,509),"...")),Y==="deepEqual"||Y==="equal"?X="".concat(ee,`

`).concat(X,`

should equal

`):J=" ".concat(Y," ").concat(J)),_=p(this,m(O).call(this,"".concat(X).concat(J)))}return Error.stackTraceLimit=fe,_.generatedMessage=!U,Object.defineProperty(t(_),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),_.code="ERR_ASSERTION",_.actual=re,_.expected=ae,_.operator=Y,Error.captureStackTrace&&Error.captureStackTrace(t(_),K),_.stack,_.name="AssertionError",p(_)}return v(O,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:h.custom,value:function(_,U){return h(this,P({},U,{customInspect:!1,depth:0}))}}]),O}(s(Error));W.exports=B},79616:function(W,H,e){function g(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(h){return typeof h}:g=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},g(c)}function P(c,w){if(!(c instanceof w))throw new TypeError("Cannot call a class as a function")}function i(c,w){return w&&(g(w)==="object"||typeof w=="function")?w:L(c)}function L(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function A(c){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)},A(c)}function v(c,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(w&&w.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),w&&p(c,w)}function p(c,w){return p=Object.setPrototypeOf||function(o,d){return o.__proto__=d,o},p(c,w)}var t={},r,s;function n(c,w,h){h||(h=Error);function o(M,T,E){return typeof w=="string"?w:w(M,T,E)}var d=function(M){v(T,M);function T(E,x,S){var b;return P(this,T),b=i(this,A(T).call(this,o(E,x,S))),b.code=c,b}return T}(h);t[c]=d}function l(c,w){if(Array.isArray(c)){var h=c.length;return c=c.map(function(o){return String(o)}),h>2?"one of ".concat(w," ").concat(c.slice(0,h-1).join(", "),", or ")+c[h-1]:h===2?"one of ".concat(w," ").concat(c[0]," or ").concat(c[1]):"of ".concat(w," ").concat(c[0])}else return"of ".concat(w," ").concat(String(c))}function f(c,w,h){return c.substr(!h||h<0?0:+h,w.length)===w}function u(c,w,h){return(h===void 0||h>c.length)&&(h=c.length),c.substring(h-w.length,h)===w}function m(c,w,h){return typeof h!="number"&&(h=0),h+w.length>c.length?!1:c.indexOf(w,h)!==-1}n("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),n("ERR_INVALID_ARG_TYPE",function(c,w,h){r===void 0&&(r=e(32791)),r(typeof c=="string","'name' must be a string");var o;typeof w=="string"&&f(w,"not ")?(o="must not be",w=w.replace(/^not /,"")):o="must be";var d;if(u(c," argument"))d="The ".concat(c," ").concat(o," ").concat(l(w,"type"));else{var M=m(c,".")?"property":"argument";d='The "'.concat(c,'" ').concat(M," ").concat(o," ").concat(l(w,"type"))}return d+=". Received type ".concat(g(h)),d},TypeError),n("ERR_INVALID_ARG_VALUE",function(c,w){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";s===void 0&&(s=e(43827));var o=s.inspect(w);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(c,"' ").concat(h,". Received ").concat(o)},TypeError),n("ERR_INVALID_RETURN_VALUE",function(c,w,h){var o;return h&&h.constructor&&h.constructor.name?o="instance of ".concat(h.constructor.name):o="type ".concat(g(h)),"Expected ".concat(c,' to be returned from the "').concat(w,'"')+" function but got ".concat(o,".")},TypeError),n("ERR_MISSING_ARGS",function(){for(var c=arguments.length,w=new Array(c),h=0;h<c;h++)w[h]=arguments[h];r===void 0&&(r=e(32791)),r(w.length>0,"At least one arg needs to be specified");var o="The ",d=w.length;switch(w=w.map(function(M){return'"'.concat(M,'"')}),d){case 1:o+="".concat(w[0]," argument");break;case 2:o+="".concat(w[0]," and ").concat(w[1]," arguments");break;default:o+=w.slice(0,d-1).join(", "),o+=", and ".concat(w[d-1]," arguments");break}return"".concat(o," must be specified")},TypeError),W.exports.codes=t},74061:function(W,H,e){function g(Ce,xe){return L(Ce)||i(Ce,xe)||P()}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(Ce,xe){var Se=[],He=!0,Ge=!1,ke=void 0;try{for(var We=Ce[Symbol.iterator](),it;!(He=(it=We.next()).done)&&(Se.push(it.value),!(xe&&Se.length===xe));He=!0);}catch(et){Ge=!0,ke=et}finally{try{!He&&We.return!=null&&We.return()}finally{if(Ge)throw ke}}return Se}function L(Ce){if(Array.isArray(Ce))return Ce}function A(Ce){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?A=function(Se){return typeof Se}:A=function(Se){return Se&&typeof Symbol=="function"&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},A(Ce)}var v=/a/g.flags!==void 0,p=function(xe){var Se=[];return xe.forEach(function(He){return Se.push(He)}),Se},t=function(xe){var Se=[];return xe.forEach(function(He,Ge){return Se.push([Ge,He])}),Se},r=Object.is?Object.is:e(64003),s=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:e(15567);function l(Ce){return Ce.call.bind(Ce)}var f=l(Object.prototype.hasOwnProperty),u=l(Object.prototype.propertyIsEnumerable),m=l(Object.prototype.toString),c=e(43827).types,w=c.isAnyArrayBuffer,h=c.isArrayBufferView,o=c.isDate,d=c.isMap,M=c.isRegExp,T=c.isSet,E=c.isNativeError,x=c.isBoxedPrimitive,S=c.isNumberObject,b=c.isStringObject,a=c.isBooleanObject,C=c.isBigIntObject,y=c.isSymbolObject,z=c.isFloat32Array,I=c.isFloat64Array;function B(Ce){if(Ce.length===0||Ce.length>10)return!0;for(var xe=0;xe<Ce.length;xe++){var Se=Ce.charCodeAt(xe);if(Se<48||Se>57)return!0}return Ce.length===10&&Ce>=Math.pow(2,32)}function F(Ce){return Object.keys(Ce).filter(B).concat(s(Ce).filter(Object.prototype.propertyIsEnumerable.bind(Ce)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function O(Ce,xe){if(Ce===xe)return 0;for(var Se=Ce.length,He=xe.length,Ge=0,ke=Math.min(Se,He);Ge<ke;++Ge)if(Ce[Ge]!==xe[Ge]){Se=Ce[Ge],He=xe[Ge];break}return Se<He?-1:He<Se?1:0}var N=!0,_=!1,U=0,Y=1,K=2,re=3;function ae(Ce,xe){return v?Ce.source===xe.source&&Ce.flags===xe.flags:RegExp.prototype.toString.call(Ce)===RegExp.prototype.toString.call(xe)}function fe(Ce,xe){if(Ce.byteLength!==xe.byteLength)return!1;for(var Se=0;Se<Ce.byteLength;Se++)if(Ce[Se]!==xe[Se])return!1;return!0}function Q(Ce,xe){return Ce.byteLength!==xe.byteLength?!1:O(new Uint8Array(Ce.buffer,Ce.byteOffset,Ce.byteLength),new Uint8Array(xe.buffer,xe.byteOffset,xe.byteLength))===0}function j(Ce,xe){return Ce.byteLength===xe.byteLength&&O(new Uint8Array(Ce),new Uint8Array(xe))===0}function X(Ce,xe){return S(Ce)?S(xe)&&r(Number.prototype.valueOf.call(Ce),Number.prototype.valueOf.call(xe)):b(Ce)?b(xe)&&String.prototype.valueOf.call(Ce)===String.prototype.valueOf.call(xe):a(Ce)?a(xe)&&Boolean.prototype.valueOf.call(Ce)===Boolean.prototype.valueOf.call(xe):C(Ce)?C(xe)&&BigInt.prototype.valueOf.call(Ce)===BigInt.prototype.valueOf.call(xe):y(xe)&&Symbol.prototype.valueOf.call(Ce)===Symbol.prototype.valueOf.call(xe)}function J(Ce,xe,Se,He){if(Ce===xe)return Ce!==0?!0:Se?r(Ce,xe):!0;if(Se){if(A(Ce)!=="object")return typeof Ce=="number"&&n(Ce)&&n(xe);if(A(xe)!=="object"||Ce===null||xe===null||Object.getPrototypeOf(Ce)!==Object.getPrototypeOf(xe))return!1}else{if(Ce===null||A(Ce)!=="object")return xe===null||A(xe)!=="object"?Ce==xe:!1;if(xe===null||A(xe)!=="object")return!1}var Ge=m(Ce),ke=m(xe);if(Ge!==ke)return!1;if(Array.isArray(Ce)){if(Ce.length!==xe.length)return!1;var We=F(Ce),it=F(xe);return We.length!==it.length?!1:se(Ce,xe,Se,He,Y,We)}if(Ge==="[object Object]"&&(!d(Ce)&&d(xe)||!T(Ce)&&T(xe)))return!1;if(o(Ce)){if(!o(xe)||Date.prototype.getTime.call(Ce)!==Date.prototype.getTime.call(xe))return!1}else if(M(Ce)){if(!M(xe)||!ae(Ce,xe))return!1}else if(E(Ce)||Ce instanceof Error){if(Ce.message!==xe.message||Ce.name!==xe.name)return!1}else if(h(Ce)){if(!Se&&(z(Ce)||I(Ce))){if(!fe(Ce,xe))return!1}else if(!Q(Ce,xe))return!1;var et=F(Ce),tt=F(xe);return et.length!==tt.length?!1:se(Ce,xe,Se,He,U,et)}else{if(T(Ce))return!T(xe)||Ce.size!==xe.size?!1:se(Ce,xe,Se,He,K);if(d(Ce))return!d(xe)||Ce.size!==xe.size?!1:se(Ce,xe,Se,He,re);if(w(Ce)){if(!j(Ce,xe))return!1}else if(x(Ce)&&!X(Ce,xe))return!1}return se(Ce,xe,Se,He,U)}function ee(Ce,xe){return xe.filter(function(Se){return u(Ce,Se)})}function se(Ce,xe,Se,He,Ge,ke){if(arguments.length===5){ke=Object.keys(Ce);var We=Object.keys(xe);if(ke.length!==We.length)return!1}for(var it=0;it<ke.length;it++)if(!f(xe,ke[it]))return!1;if(Se&&arguments.length===5){var et=s(Ce);if(et.length!==0){var tt=0;for(it=0;it<et.length;it++){var at=et[it];if(u(Ce,at)){if(!u(xe,at))return!1;ke.push(at),tt++}else if(u(xe,at))return!1}var ht=s(xe);if(et.length!==ht.length&&ee(xe,ht).length!==tt)return!1}else{var yt=s(xe);if(yt.length!==0&&ee(xe,yt).length!==0)return!1}}if(ke.length===0&&(Ge===U||Ge===Y&&Ce.length===0||Ce.size===0))return!0;if(He===void 0)He={val1:new Map,val2:new Map,position:0};else{var gt=He.val1.get(Ce);if(gt!==void 0){var Et=He.val2.get(xe);if(Et!==void 0)return gt===Et}He.position++}He.val1.set(Ce,He.position),He.val2.set(xe,He.position);var Ct=we(Ce,xe,Se,ke,He,Ge);return He.val1.delete(Ce),He.val2.delete(xe),Ct}function q(Ce,xe,Se,He){for(var Ge=p(Ce),ke=0;ke<Ge.length;ke++){var We=Ge[ke];if(J(xe,We,Se,He))return Ce.delete(We),!0}return!1}function $(Ce){switch(A(Ce)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Ce=+Ce;case"number":if(n(Ce))return!1}return!0}function le(Ce,xe,Se){var He=$(Se);return He??(xe.has(He)&&!Ce.has(He))}function ie(Ce,xe,Se,He,Ge){var ke=$(Se);if(ke!=null)return ke;var We=xe.get(ke);return We===void 0&&!xe.has(ke)||!J(He,We,!1,Ge)?!1:!Ce.has(ke)&&J(He,We,!1,Ge)}function ce(Ce,xe,Se,He){for(var Ge=null,ke=p(Ce),We=0;We<ke.length;We++){var it=ke[We];if(A(it)==="object"&&it!==null)Ge===null&&(Ge=new Set),Ge.add(it);else if(!xe.has(it)){if(Se||!le(Ce,xe,it))return!1;Ge===null&&(Ge=new Set),Ge.add(it)}}if(Ge!==null){for(var et=p(xe),tt=0;tt<et.length;tt++){var at=et[tt];if(A(at)==="object"&&at!==null){if(!q(Ge,at,Se,He))return!1}else if(!Se&&!Ce.has(at)&&!q(Ge,at,Se,He))return!1}return Ge.size===0}return!0}function me(Ce,xe,Se,He,Ge,ke){for(var We=p(Ce),it=0;it<We.length;it++){var et=We[it];if(J(Se,et,Ge,ke)&&J(He,xe.get(et),Ge,ke))return Ce.delete(et),!0}return!1}function Me(Ce,xe,Se,He){for(var Ge=null,ke=t(Ce),We=0;We<ke.length;We++){var it=g(ke[We],2),et=it[0],tt=it[1];if(A(et)==="object"&&et!==null)Ge===null&&(Ge=new Set),Ge.add(et);else{var at=xe.get(et);if(at===void 0&&!xe.has(et)||!J(tt,at,Se,He)){if(Se||!ie(Ce,xe,et,tt,He))return!1;Ge===null&&(Ge=new Set),Ge.add(et)}}}if(Ge!==null){for(var ht=t(xe),yt=0;yt<ht.length;yt++){var gt=g(ht[yt],2),et=gt[0],Et=gt[1];if(A(et)==="object"&&et!==null){if(!me(Ge,Ce,et,Et,Se,He))return!1}else if(!Se&&(!Ce.has(et)||!J(Ce.get(et),Et,!1,He))&&!me(Ge,Ce,et,Et,!1,He))return!1}return Ge.size===0}return!0}function we(Ce,xe,Se,He,Ge,ke){var We=0;if(ke===K){if(!ce(Ce,xe,Se,Ge))return!1}else if(ke===re){if(!Me(Ce,xe,Se,Ge))return!1}else if(ke===Y)for(;We<Ce.length;We++)if(f(Ce,We)){if(!f(xe,We)||!J(Ce[We],xe[We],Se,Ge))return!1}else{if(f(xe,We))return!1;for(var it=Object.keys(Ce);We<it.length;We++){var et=it[We];if(!f(xe,et)||!J(Ce[et],xe[et],Se,Ge))return!1}return it.length===Object.keys(xe).length}for(We=0;We<He.length;We++){var tt=He[We];if(!J(Ce[tt],xe[tt],Se,Ge))return!1}return!0}function Oe(Ce,xe){return J(Ce,xe,_)}function Be(Ce,xe){return J(Ce,xe,N)}W.exports={isDeepEqual:Oe,isDeepStrictEqual:Be}},95341:function(W,H){H.byteLength=p,H.toByteArray=r,H.fromByteArray=l;for(var e=[],g=[],P=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=0,A=i.length;L<A;++L)e[L]=i[L],g[i.charCodeAt(L)]=L;g["-".charCodeAt(0)]=62,g["_".charCodeAt(0)]=63;function v(f){var u=f.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=f.indexOf("=");m===-1&&(m=u);var c=m===u?0:4-m%4;return[m,c]}function p(f){var u=v(f),m=u[0],c=u[1];return(m+c)*3/4-c}function t(f,u,m){return(u+m)*3/4-m}function r(f){var u,m=v(f),c=m[0],w=m[1],h=new P(t(f,c,w)),o=0,d=w>0?c-4:c,M;for(M=0;M<d;M+=4)u=g[f.charCodeAt(M)]<<18|g[f.charCodeAt(M+1)]<<12|g[f.charCodeAt(M+2)]<<6|g[f.charCodeAt(M+3)],h[o++]=u>>16&255,h[o++]=u>>8&255,h[o++]=u&255;return w===2&&(u=g[f.charCodeAt(M)]<<2|g[f.charCodeAt(M+1)]>>4,h[o++]=u&255),w===1&&(u=g[f.charCodeAt(M)]<<10|g[f.charCodeAt(M+1)]<<4|g[f.charCodeAt(M+2)]>>2,h[o++]=u>>8&255,h[o++]=u&255),h}function s(f){return e[f>>18&63]+e[f>>12&63]+e[f>>6&63]+e[f&63]}function n(f,u,m){for(var c,w=[],h=u;h<m;h+=3)c=(f[h]<<16&16711680)+(f[h+1]<<8&65280)+(f[h+2]&255),w.push(s(c));return w.join("")}function l(f){for(var u,m=f.length,c=m%3,w=[],h=16383,o=0,d=m-c;o<d;o+=h)w.push(n(f,o,o+h>d?d:o+h));return c===1?(u=f[m-1],w.push(e[u>>2]+e[u<<4&63]+"==")):c===2&&(u=(f[m-2]<<8)+f[m-1],w.push(e[u>>10]+e[u>>4&63]+e[u<<2&63]+"=")),w.join("")}},91358:function(W){function H(A,v,p,t,r){for(var s=r+1;t<=r;){var n=t+r>>>1,l=A[n],f=p!==void 0?p(l,v):l-v;f>=0?(s=n,r=n-1):t=n+1}return s}function e(A,v,p,t,r){for(var s=r+1;t<=r;){var n=t+r>>>1,l=A[n],f=p!==void 0?p(l,v):l-v;f>0?(s=n,r=n-1):t=n+1}return s}function g(A,v,p,t,r){for(var s=t-1;t<=r;){var n=t+r>>>1,l=A[n],f=p!==void 0?p(l,v):l-v;f<0?(s=n,t=n+1):r=n-1}return s}function P(A,v,p,t,r){for(var s=t-1;t<=r;){var n=t+r>>>1,l=A[n],f=p!==void 0?p(l,v):l-v;f<=0?(s=n,t=n+1):r=n-1}return s}function i(A,v,p,t,r){for(;t<=r;){var s=t+r>>>1,n=A[s],l=p!==void 0?p(n,v):n-v;if(l===0)return s;l<=0?t=s+1:r=s-1}return-1}function L(A,v,p,t,r,s){return typeof p=="function"?s(A,v,p,t===void 0?0:t|0,r===void 0?A.length-1:r|0):s(A,v,void 0,p===void 0?0:p|0,t===void 0?A.length-1:t|0)}W.exports={ge:function(A,v,p,t,r){return L(A,v,p,t,r,H)},gt:function(A,v,p,t,r){return L(A,v,p,t,r,e)},lt:function(A,v,p,t,r){return L(A,v,p,t,r,g)},le:function(A,v,p,t,r){return L(A,v,p,t,r,P)},eq:function(A,v,p,t,r){return L(A,v,p,t,r,i)}}},13547:function(W,H){"use restrict";var e=32;H.INT_BITS=e,H.INT_MAX=2147483647,H.INT_MIN=-1<<e-1,H.sign=function(i){return(i>0)-(i<0)},H.abs=function(i){var L=i>>e-1;return(i^L)-L},H.min=function(i,L){return L^(i^L)&-(i<L)},H.max=function(i,L){return i^(i^L)&-(i<L)},H.isPow2=function(i){return!(i&i-1)&&!!i},H.log2=function(i){var L,A;return L=(i>65535)<<4,i>>>=L,A=(i>255)<<3,i>>>=A,L|=A,A=(i>15)<<2,i>>>=A,L|=A,A=(i>3)<<1,i>>>=A,L|=A,L|i>>1},H.log10=function(i){return i>=1e9?9:i>=1e8?8:i>=1e7?7:i>=1e6?6:i>=1e5?5:i>=1e4?4:i>=1e3?3:i>=100?2:i>=10?1:0},H.popCount=function(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),(i+(i>>>4)&252645135)*16843009>>>24};function g(i){var L=32;return i&=-i,i&&L--,i&65535&&(L-=16),i&16711935&&(L-=8),i&252645135&&(L-=4),i&858993459&&(L-=2),i&1431655765&&(L-=1),L}H.countTrailingZeros=g,H.nextPow2=function(i){return i+=i===0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1},H.prevPow2=function(i){return i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i-(i>>>1)},H.parity=function(i){return i^=i>>>16,i^=i>>>8,i^=i>>>4,i&=15,27030>>>i&1};var P=new Array(256);(function(i){for(var L=0;L<256;++L){var A=L,v=L,p=7;for(A>>>=1;A;A>>>=1)v<<=1,v|=A&1,--p;i[L]=v<<p&255}})(P),H.reverse=function(i){return P[i&255]<<24|P[i>>>8&255]<<16|P[i>>>16&255]<<8|P[i>>>24&255]},H.interleave2=function(i,L){return i&=65535,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,L&=65535,L=(L|L<<8)&16711935,L=(L|L<<4)&252645135,L=(L|L<<2)&858993459,L=(L|L<<1)&1431655765,i|L<<1},H.deinterleave2=function(i,L){return i=i>>>L&1431655765,i=(i|i>>>1)&858993459,i=(i|i>>>2)&252645135,i=(i|i>>>4)&16711935,i=(i|i>>>16)&65535,i<<16>>16},H.interleave3=function(i,L,A){return i&=1023,i=(i|i<<16)&4278190335,i=(i|i<<8)&251719695,i=(i|i<<4)&3272356035,i=(i|i<<2)&1227133513,L&=1023,L=(L|L<<16)&4278190335,L=(L|L<<8)&251719695,L=(L|L<<4)&3272356035,L=(L|L<<2)&1227133513,i|=L<<1,A&=1023,A=(A|A<<16)&4278190335,A=(A|A<<8)&251719695,A=(A|A<<4)&3272356035,A=(A|A<<2)&1227133513,i|A<<2},H.deinterleave3=function(i,L){return i=i>>>L&1227133513,i=(i|i>>>2)&3272356035,i=(i|i>>>4)&251719695,i=(i|i>>>8)&4278190335,i=(i|i>>>16)&1023,i<<22>>22},H.nextCombination=function(i){var L=i|i-1;return L+1|(~L&-~L)-1>>>g(i)+1}},44781:function(W,H,e){var g=e(53435);W.exports=i;var P=1e20;function i(v,p){p||(p={});var t=p.cutoff==null?.25:p.cutoff,r=p.radius==null?8:p.radius,s=p.channel||0,n,l,f,u,m,c,w,h,o,d,M;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!p.width||!p.height)throw Error("For raw data width and height should be provided by options");n=p.width,l=p.height,u=v,p.stride?c=p.stride:c=Math.floor(v.length/n/l)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(h=v,w=h.getContext("2d"),n=h.width,l=h.height,o=w.getImageData(0,0,n,l),u=o.data,c=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(h=v.canvas,w=v,n=h.width,l=h.height,o=w.getImageData(0,0,n,l),u=o.data,c=4):window.ImageData&&v instanceof window.ImageData&&(o=v,n=v.width,l=v.height,u=o.data,c=4);if(f=Math.max(n,l),window.Uint8ClampedArray&&u instanceof window.Uint8ClampedArray||window.Uint8Array&&u instanceof window.Uint8Array)for(m=u,u=Array(n*l),d=0,M=m.length;d<M;d++)u[d]=m[d*c+s]/255;else if(c!==1)throw Error("Raw data can have only 1 value per pixel");var T=Array(n*l),E=Array(n*l),x=Array(f),S=Array(f),b=Array(f+1),a=Array(f);for(d=0,M=n*l;d<M;d++){var C=u[d];T[d]=C===1?0:C===0?P:Math.pow(Math.max(0,.5-C),2),E[d]=C===1?P:C===0?0:Math.pow(Math.max(0,C-.5),2)}L(T,n,l,x,S,a,b),L(E,n,l,x,S,a,b);var y=window.Float32Array?new Float32Array(n*l):new Array(n*l);for(d=0,M=n*l;d<M;d++)y[d]=g(1-((T[d]-E[d])/r+t),0,1);return y}function L(v,p,t,r,s,n,l){for(var f=0;f<p;f++){for(var u=0;u<t;u++)r[u]=v[u*p+f];for(A(r,s,n,l,t),u=0;u<t;u++)v[u*p+f]=s[u]}for(u=0;u<t;u++){for(f=0;f<p;f++)r[f]=v[u*p+f];for(A(r,s,n,l,p),f=0;f<p;f++)v[u*p+f]=Math.sqrt(s[f])}}function A(v,p,t,r,s){t[0]=0,r[0]=-P,r[1]=+P;for(var n=1,l=0;n<s;n++){for(var f=(v[n]+n*n-(v[t[l]]+t[l]*t[l]))/(2*n-2*t[l]);f<=r[l];)l--,f=(v[n]+n*n-(v[t[l]]+t[l]*t[l]))/(2*n-2*t[l]);l++,t[l]=n,r[l]=f,r[l+1]=+P}for(n=0,l=0;n<s;n++){for(;r[l+1]<n;)l++;p[n]=(n-t[l])*(n-t[l])+v[t[l]]}}},6614:function(W,H,e){var g=e(68318),P=e(68222),i=P(g("String.prototype.indexOf"));W.exports=function(A,v){var p=g(A,!!v);return typeof p=="function"&&i(A,".prototype.")>-1?P(p):p}},68222:function(W,H,e){var g=e(77575),P=e(68318),i=P("%Function.prototype.apply%"),L=P("%Function.prototype.call%"),A=P("%Reflect.apply%",!0)||g.call(L,i),v=P("%Object.getOwnPropertyDescriptor%",!0),p=P("%Object.defineProperty%",!0),t=P("%Math.max%");if(p)try{p({},"a",{value:1})}catch{p=null}W.exports=function(n){var l=A(g,L,arguments);if(v&&p){var f=v(l,"length");f.configurable&&p(l,"length",{value:1+t(0,n.length-(arguments.length-1))})}return l};var r=function(){return A(g,i,arguments)};p?p(W.exports,"apply",{value:r}):W.exports.apply=r},53435:function(W){W.exports=H;function H(e,g,P){return g<P?e<g?g:e>P?P:e:e<P?P:e>g?g:e}},6475:function(W,H,e){var g=e(53435);W.exports=P,W.exports.to=P,W.exports.from=i;function P(L,A){A==null&&(A=!0);var v=L[0],p=L[1],t=L[2],r=L[3];r==null&&(r=A?1:255),A&&(v*=255,p*=255,t*=255,r*=255),v=g(v,0,255)&255,p=g(p,0,255)&255,t=g(t,0,255)&255,r=g(r,0,255)&255;var s=v*16777216+(p<<16)+(t<<8)+r;return s}function i(L,A){L=+L;var v=L>>>24,p=(L&16711680)>>>16,t=(L&65280)>>>8,r=L&255;return A===!1?[v,p,t,r]:[v/255,p/255,t/255,r/255]}},76857:function(W){W.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(W,H,e){var g=e(36652),P=e(53435),i=e(90660);W.exports=function(v,p){(p==="float"||!p)&&(p="array"),p==="uint"&&(p="uint8"),p==="uint_clamped"&&(p="uint8_clamped");var t=i(p),r=new t(4),s=p!=="uint8"&&p!=="uint8_clamped";return(!v.length||typeof v=="string")&&(v=g(v),v[0]/=255,v[1]/=255,v[2]/=255),L(v)?(r[0]=v[0],r[1]=v[1],r[2]=v[2],r[3]=v[3]!=null?v[3]:255,s&&(r[0]/=255,r[1]/=255,r[2]/=255,r[3]/=255),r):(s?(r[0]=v[0],r[1]=v[1],r[2]=v[2],r[3]=v[3]!=null?v[3]:1):(r[0]=P(Math.floor(v[0]*255),0,255),r[1]=P(Math.floor(v[1]*255),0,255),r[2]=P(Math.floor(v[2]*255),0,255),r[3]=v[3]==null?255:P(Math.floor(v[3]*255),0,255)),r)};function L(A){return!!(A instanceof Uint8Array||A instanceof Uint8ClampedArray||Array.isArray(A)&&(A[0]>1||A[0]===0)&&(A[1]>1||A[1]===0)&&(A[2]>1||A[2]===0)&&(!A[3]||A[3]>1))}},90736:function(W,H,e){var g=e(76857),P=e(10973),i=e(46775);W.exports=A;var L={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function A(v){var p,t=[],r=1,s;if(typeof v=="string")if(g[v])t=g[v].slice(),s="rgb";else if(v==="transparent")r=0,s="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(v)){var n=v.slice(1),l=n.length,f=l<=4;r=1,f?(t=[parseInt(n[0]+n[0],16),parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16)],l===4&&(r=parseInt(n[3]+n[3],16)/255)):(t=[parseInt(n[0]+n[1],16),parseInt(n[2]+n[3],16),parseInt(n[4]+n[5],16)],l===8&&(r=parseInt(n[6]+n[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),s="rgb"}else if(p=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(v)){var u=p[1],m=u==="rgb",n=u.replace(/a$/,"");s=n;var l=n==="cmyk"?4:n==="gray"?1:3;t=p[2].trim().split(/\s*,\s*/).map(function(o,d){if(/%$/.test(o))return d===l?parseFloat(o)/100:n==="rgb"?parseFloat(o)*255/100:parseFloat(o);if(n[d]==="h"){if(/deg$/.test(o))return parseFloat(o);if(L[o]!==void 0)return L[o]}return parseFloat(o)}),u===n&&t.push(1),r=m||t[l]===void 0?1:t[l],t=t.slice(0,l)}else v.length>10&&/[0-9](?:\s|\/)/.test(v)&&(t=v.match(/([0-9]+)/g).map(function(w){return parseFloat(w)}),s=v.match(/([a-z])/ig).join("").toLowerCase());else if(!isNaN(v))s="rgb",t=[v>>>16,(v&65280)>>>8,v&255];else if(P(v)){var c=i(v.r,v.red,v.R,null);c!==null?(s="rgb",t=[c,i(v.g,v.green,v.G),i(v.b,v.blue,v.B)]):(s="hsl",t=[i(v.h,v.hue,v.H),i(v.s,v.saturation,v.S),i(v.l,v.lightness,v.L,v.b,v.brightness)]),r=i(v.a,v.alpha,v.opacity,1),v.opacity!=null&&(r/=100)}else(Array.isArray(v)||e.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(v))&&(t=[v[0],v[1],v[2]],s="rgb",r=v.length===4?v[3]:1);return{space:s,values:t,alpha:r}}},36652:function(W,H,e){var g=e(90736),P=e(80009),i=e(53435);W.exports=function(A){var v,p=g(A);return p.space?(v=Array(3),v[0]=i(p.values[0],0,255),v[1]=i(p.values[1],0,255),v[2]=i(p.values[2],0,255),p.space[0]==="h"&&(v=P.rgb(v)),v.push(i(p.alpha,0,1)),v):[]}},80009:function(W,H,e){var g=e(6866);W.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(P){var i=P[0]/360,L=P[1]/100,A=P[2]/100,v,p,t,r,s;if(L===0)return s=A*255,[s,s,s];A<.5?p=A*(1+L):p=A+L-A*L,v=2*A-p,r=[0,0,0];for(var n=0;n<3;n++)t=i+.3333333333333333*-(n-1),t<0?t++:t>1&&t--,6*t<1?s=v+(p-v)*6*t:2*t<1?s=p:3*t<2?s=v+(p-v)*(.6666666666666666-t)*6:s=v,r[n]=s*255;return r}},g.hsl=function(P){var i=P[0]/255,L=P[1]/255,A=P[2]/255,v=Math.min(i,L,A),p=Math.max(i,L,A),t=p-v,r,s,n;return p===v?r=0:i===p?r=(L-A)/t:L===p?r=2+(A-i)/t:A===p&&(r=4+(i-L)/t),r=Math.min(r*60,360),r<0&&(r+=360),n=(v+p)/2,p===v?s=0:n<=.5?s=t/(p+v):s=t/(2-p-v),[r,s*100,n*100]}},6866:function(W){W.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(W){W.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|)o.?tom(e|)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(W,H,e){W.exports={parse:e(41004),stringify:e(53313)}},63625:function(W,H,e){var g=e(40402);W.exports={isSize:function(i){return/^[\d\.]/.test(i)||i.indexOf("/")!==-1||g.indexOf(i)!==-1}}},41004:function(W,H,e){var g=e(90448),P=e(38732),i=e(41901),L=e(15659),A=e(96209),v=e(83794),p=e(99011),t=e(63625).isSize;W.exports=s;var r=s.cache={};function s(l){if(typeof l!="string")throw new Error("Font argument must be a string.");if(r[l])return r[l];if(l==="")throw new Error("Cannot parse an empty string.");if(i.indexOf(l)!==-1)return r[l]={system:l};for(var f={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},u=p(l,/\s+/),m;m=u.shift();){if(P.indexOf(m)!==-1)return["style","variant","weight","stretch"].forEach(function(w){f[w]=m}),r[l]=f;if(A.indexOf(m)!==-1){f.style=m;continue}if(m==="normal"||m==="small-caps"){f.variant=m;continue}if(v.indexOf(m)!==-1){f.stretch=m;continue}if(L.indexOf(m)!==-1){f.weight=m;continue}if(t(m)){var c=p(m,"/");if(f.size=c[0],c[1]!=null?f.lineHeight=n(c[1]):u[0]==="/"&&(u.shift(),f.lineHeight=n(u.shift())),!u.length)throw new Error("Missing required font-family.");return f.family=p(u.join(" "),/\s*,\s*/).map(g),r[l]=f}throw new Error("Unknown or unsupported font token: "+m)}throw new Error("Missing required font-size.")}function n(l){var f=parseFloat(l);return f.toString()===l?f:l}},53313:function(W,H,e){var g=e(71299),P=e(63625).isSize,i=l(e(38732)),L=l(e(41901)),A=l(e(15659)),v=l(e(96209)),p=l(e(83794)),t={normal:1,"small-caps":1},r={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},s={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};W.exports=function(u){if(u=g(u,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),u.system)return u.system&&n(u.system,L),u.system;if(n(u.style,v),n(u.variant,t),n(u.weight,A),n(u.stretch,p),u.size==null&&(u.size=s.size),typeof u.size=="number"&&(u.size+="px"),!P)throw Error("Bad size value `"+u.size+"`");u.family||(u.family=s.family),Array.isArray(u.family)&&(u.family.length||(u.family=[s.family]),u.family=u.family.map(function(c){return r[c]?c:'"'+c+'"'}).join(", "));var m=[];return m.push(u.style),u.variant!==u.style&&m.push(u.variant),u.weight!==u.variant&&u.weight!==u.style&&m.push(u.weight),u.stretch!==u.weight&&u.stretch!==u.variant&&u.stretch!==u.style&&m.push(u.stretch),m.push(u.size+(u.lineHeight==null||u.lineHeight==="normal"||u.lineHeight+""=="1"?"":"/"+u.lineHeight)),m.push(u.family),m.filter(Boolean).join(" ")};function n(f,u){if(f&&!u[f]&&!i[f])throw Error("Unknown keyword `"+f+"`");return f}function l(f){for(var u={},m=0;m<f.length;m++)u[f[m]]=1;return u}},55174:function(W,H,e){var g=e(24582),P=e(10424),i=e(82527),L=e(19012),A=e(21780),v=e(16906),p=Function.prototype.bind,t=Object.defineProperty,r=Object.prototype.hasOwnProperty,s;s=function(n,l,f){var u=P(l)&&i(l.value),m;return m=L(l),delete m.writable,delete m.value,m.get=function(){return!f.overwriteDefinition&&r.call(this,n)?u:(l.value=p.call(u,f.resolveContext?f.resolveContext(this):this),t(this,n,l),this[n])},m},W.exports=function(n){var l=A(arguments[1]);return g(l.resolveContext)&&i(l.resolveContext),v(n,function(f,u){return s(u,f,l)})}},62072:function(W,H,e){var g=e(24582),P=e(84985),i=e(95879),L=e(21780),A=e(66741),v=W.exports=function(p,t){var r,s,n,l,f;return arguments.length<2||typeof p!="string"?(l=t,t=p,p=null):l=arguments[2],g(p)?(r=A.call(p,"c"),s=A.call(p,"e"),n=A.call(p,"w")):(r=n=!0,s=!1),f={value:t,configurable:r,enumerable:s,writable:n},l?i(L(l),f):f};v.gs=function(p,t,r){var s,n,l,f;return typeof p!="string"?(l=r,r=t,t=p,p=null):l=arguments[3],g(t)?P(t)?g(r)?P(r)||(l=r,r=void 0):r=void 0:(l=t,t=r=void 0):t=void 0,g(p)?(s=A.call(p,"c"),n=A.call(p,"e")):(s=!0,n=!1),f={get:t,set:r,configurable:s,enumerable:n},l?i(L(l),f):f}},33064:function(W,H,e){e.d(H,{j2:function(){return g},Fp:function(){return L},J6:function(){return v},TS:function(){return p},VV:function(){return t},w6:function(){return r},Sm:function(){return s}});function g(n,l){return n<l?-1:n>l?1:n>=l?0:NaN}function P(n){return n.length===1&&(n=i(n)),{left:function(l,f,u,m){for(u==null&&(u=0),m==null&&(m=l.length);u<m;){var c=u+m>>>1;n(l[c],f)<0?u=c+1:m=c}return u},right:function(l,f,u,m){for(u==null&&(u=0),m==null&&(m=l.length);u<m;){var c=u+m>>>1;n(l[c],f)>0?m=c:u=c+1}return u}}}function i(n){return function(l,f){return g(n(l),f)}}P(g);function L(n,l){var f=n.length,u=-1,m,c;if(l==null){for(;++u<f;)if((m=n[u])!=null&&m>=m)for(c=m;++u<f;)(m=n[u])!=null&&m>c&&(c=m)}else for(;++u<f;)if((m=l(n[u],u,n))!=null&&m>=m)for(c=m;++u<f;)(m=l(n[u],u,n))!=null&&m>c&&(c=m);return c}function A(n){return n===null?NaN:+n}function v(n,l){var f=n.length,u=f,m=-1,c,w=0;if(l==null)for(;++m<f;)isNaN(c=A(n[m]))?--u:w+=c;else for(;++m<f;)isNaN(c=A(l(n[m],m,n)))?--u:w+=c;if(u)return w/u}function p(n){for(var l=n.length,f,u=-1,m=0,c,w;++u<l;)m+=n[u].length;for(c=new Array(m);--l>=0;)for(w=n[l],f=w.length;--f>=0;)c[--m]=w[f];return c}function t(n,l){var f=n.length,u=-1,m,c;if(l==null){for(;++u<f;)if((m=n[u])!=null&&m>=m)for(c=m;++u<f;)(m=n[u])!=null&&c>m&&(c=m)}else for(;++u<f;)if((m=l(n[u],u,n))!=null&&m>=m)for(c=m;++u<f;)(m=l(n[u],u,n))!=null&&c>m&&(c=m);return c}function r(n,l,f){n=+n,l=+l,f=(m=arguments.length)<2?(l=n,n=0,1):m<3?1:+f;for(var u=-1,m=Math.max(0,Math.ceil((l-n)/f))|0,c=new Array(m);++u<m;)c[u]=n+u*f;return c}function s(n,l){var f=n.length,u=-1,m,c=0;if(l==null)for(;++u<f;)(m=+n[u])&&(c+=m);else for(;++u<f;)(m=+l(n[u],u,n))&&(c+=m);return c}},15140:function(W,H,e){e.d(H,{UI:function(){return L},b1:function(){return A}});var g="$";function P(){}P.prototype=i.prototype={constructor:P,has:function(l){return g+l in this},get:function(l){return this[g+l]},set:function(l,f){return this[g+l]=f,this},remove:function(l){var f=g+l;return f in this&&delete this[f]},clear:function(){for(var l in this)l[0]===g&&delete this[l]},keys:function(){var l=[];for(var f in this)f[0]===g&&l.push(f.slice(1));return l},values:function(){var l=[];for(var f in this)f[0]===g&&l.push(this[f]);return l},entries:function(){var l=[];for(var f in this)f[0]===g&&l.push({key:f.slice(1),value:this[f]});return l},size:function(){var l=0;for(var f in this)f[0]===g&&++l;return l},empty:function(){for(var l in this)if(l[0]===g)return!1;return!0},each:function(l){for(var f in this)f[0]===g&&l(this[f],f.slice(1),this)}};function i(l,f){var u=new P;if(l instanceof P)l.each(function(o,d){u.set(d,o)});else if(Array.isArray(l)){var m=-1,c=l.length,w;if(f==null)for(;++m<c;)u.set(m,l[m]);else for(;++m<c;)u.set(f(w=l[m],m,l),w)}else if(l)for(var h in l)u.set(h,l[h]);return u}var L=i;function A(){var l=[],f=[],u,m,c;function w(o,d,M,T){if(d>=l.length)return u!=null&&o.sort(u),m!=null?m(o):o;for(var E=-1,x=o.length,S=l[d++],b,a,C=L(),y,z=M();++E<x;)(y=C.get(b=S(a=o[E])+""))?y.push(a):C.set(b,[a]);return C.each(function(I,B){T(z,B,w(I,d,M,T))}),z}function h(o,d){if(++d>l.length)return o;var M,T=f[d-1];return m!=null&&d>=l.length?M=o.entries():(M=[],o.each(function(E,x){M.push({key:x,values:h(E,d)})})),T!=null?M.sort(function(E,x){return T(E.key,x.key)}):M}return c={object:function(o){return w(o,0,v,p)},map:function(o){return w(o,0,t,r)},entries:function(o){return h(w(o,0,t,r),0)},key:function(o){return l.push(o),c},sortKeys:function(o){return f[l.length-1]=o,c},sortValues:function(o){return u=o,c},rollup:function(o){return m=o,c}}}function v(){return{}}function p(l,f,u){l[f]=u}function t(){return L()}function r(l,f,u){l.set(f,u)}function s(){}var n=L.prototype;s.prototype={constructor:s,has:n.has,add:function(l){return l+="",this[g+l]=l,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49887:function(W,H,e){e.r(H),e.d(H,{forceCenter:function(){return g},forceCollide:function(){return C},forceLink:function(){return B},forceManyBody:function(){return We},forceRadial:function(){return it},forceSimulation:function(){return ke},forceX:function(){return et},forceY:function(){return tt}});function g(at,ht){var yt;at==null&&(at=0),ht==null&&(ht=0);function gt(){var Et,Ct=yt.length,Vt,Qe=0,Fe=0;for(Et=0;Et<Ct;++Et)Vt=yt[Et],Qe+=Vt.x,Fe+=Vt.y;for(Qe=Qe/Ct-at,Fe=Fe/Ct-ht,Et=0;Et<Ct;++Et)Vt=yt[Et],Vt.x-=Qe,Vt.y-=Fe}return gt.initialize=function(Et){yt=Et},gt.x=function(Et){return arguments.length?(at=+Et,gt):at},gt.y=function(Et){return arguments.length?(ht=+Et,gt):ht},gt}function P(at){return function(){return at}}function i(){return(Math.random()-.5)*1e-6}function L(at){var ht=+this._x.call(null,at),yt=+this._y.call(null,at);return A(this.cover(ht,yt),ht,yt,at)}function A(at,ht,yt,gt){if(isNaN(ht)||isNaN(yt))return at;var Et,Ct=at._root,Vt={data:gt},Qe=at._x0,Fe=at._y0,Ie=at._x1,ze=at._y1,Re,be,ye,Ae,Ee,Ne,Je,qe;if(!Ct)return at._root=Vt,at;for(;Ct.length;)if((Ee=ht>=(Re=(Qe+Ie)/2))?Qe=Re:Ie=Re,(Ne=yt>=(be=(Fe+ze)/2))?Fe=be:ze=be,Et=Ct,!(Ct=Ct[Je=Ne<<1|Ee]))return Et[Je]=Vt,at;if(ye=+at._x.call(null,Ct.data),Ae=+at._y.call(null,Ct.data),ht===ye&&yt===Ae)return Vt.next=Ct,Et?Et[Je]=Vt:at._root=Vt,at;do Et=Et?Et[Je]=new Array(4):at._root=new Array(4),(Ee=ht>=(Re=(Qe+Ie)/2))?Qe=Re:Ie=Re,(Ne=yt>=(be=(Fe+ze)/2))?Fe=be:ze=be;while((Je=Ne<<1|Ee)===(qe=(Ae>=be)<<1|ye>=Re));return Et[qe]=Ct,Et[Je]=Vt,at}function v(at){var ht,yt,gt=at.length,Et,Ct,Vt=new Array(gt),Qe=new Array(gt),Fe=1/0,Ie=1/0,ze=-1/0,Re=-1/0;for(yt=0;yt<gt;++yt)isNaN(Et=+this._x.call(null,ht=at[yt]))||isNaN(Ct=+this._y.call(null,ht))||(Vt[yt]=Et,Qe[yt]=Ct,Et<Fe&&(Fe=Et),Et>ze&&(ze=Et),Ct<Ie&&(Ie=Ct),Ct>Re&&(Re=Ct));if(Fe>ze||Ie>Re)return this;for(this.cover(Fe,Ie).cover(ze,Re),yt=0;yt<gt;++yt)A(this,Vt[yt],Qe[yt],at[yt]);return this}function p(at,ht){if(isNaN(at=+at)||isNaN(ht=+ht))return this;var yt=this._x0,gt=this._y0,Et=this._x1,Ct=this._y1;if(isNaN(yt))Et=(yt=Math.floor(at))+1,Ct=(gt=Math.floor(ht))+1;else{for(var Vt=Et-yt,Qe=this._root,Fe,Ie;yt>at||at>=Et||gt>ht||ht>=Ct;)switch(Ie=(ht<gt)<<1|at<yt,Fe=new Array(4),Fe[Ie]=Qe,Qe=Fe,Vt*=2,Ie){case 0:Et=yt+Vt,Ct=gt+Vt;break;case 1:yt=Et-Vt,Ct=gt+Vt;break;case 2:Et=yt+Vt,gt=Ct-Vt;break;case 3:yt=Et-Vt,gt=Ct-Vt;break}this._root&&this._root.length&&(this._root=Qe)}return this._x0=yt,this._y0=gt,this._x1=Et,this._y1=Ct,this}function t(){var at=[];return this.visit(function(ht){if(!ht.length)do at.push(ht.data);while(ht=ht.next)}),at}function r(at){return arguments.length?this.cover(+at[0][0],+at[0][1]).cover(+at[1][0],+at[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function s(at,ht,yt,gt,Et){this.node=at,this.x0=ht,this.y0=yt,this.x1=gt,this.y1=Et}function n(at,ht,yt){var gt,Et=this._x0,Ct=this._y0,Vt,Qe,Fe,Ie,ze=this._x1,Re=this._y1,be=[],ye=this._root,Ae,Ee;for(ye&&be.push(new s(ye,Et,Ct,ze,Re)),yt==null?yt=1/0:(Et=at-yt,Ct=ht-yt,ze=at+yt,Re=ht+yt,yt*=yt);Ae=be.pop();)if(!(!(ye=Ae.node)||(Vt=Ae.x0)>ze||(Qe=Ae.y0)>Re||(Fe=Ae.x1)<Et||(Ie=Ae.y1)<Ct))if(ye.length){var Ne=(Vt+Fe)/2,Je=(Qe+Ie)/2;be.push(new s(ye[3],Ne,Je,Fe,Ie),new s(ye[2],Vt,Je,Ne,Ie),new s(ye[1],Ne,Qe,Fe,Je),new s(ye[0],Vt,Qe,Ne,Je)),(Ee=(ht>=Je)<<1|at>=Ne)&&(Ae=be[be.length-1],be[be.length-1]=be[be.length-1-Ee],be[be.length-1-Ee]=Ae)}else{var qe=at-+this._x.call(null,ye.data),vt=ht-+this._y.call(null,ye.data),bt=qe*qe+vt*vt;if(bt<yt){var Wt=Math.sqrt(yt=bt);Et=at-Wt,Ct=ht-Wt,ze=at+Wt,Re=ht+Wt,gt=ye.data}}return gt}function l(at){if(isNaN(ze=+this._x.call(null,at))||isNaN(Re=+this._y.call(null,at)))return this;var ht,yt=this._root,gt,Et,Ct,Vt=this._x0,Qe=this._y0,Fe=this._x1,Ie=this._y1,ze,Re,be,ye,Ae,Ee,Ne,Je;if(!yt)return this;if(yt.length)for(;;){if((Ae=ze>=(be=(Vt+Fe)/2))?Vt=be:Fe=be,(Ee=Re>=(ye=(Qe+Ie)/2))?Qe=ye:Ie=ye,ht=yt,!(yt=yt[Ne=Ee<<1|Ae]))return this;if(!yt.length)break;(ht[Ne+1&3]||ht[Ne+2&3]||ht[Ne+3&3])&&(gt=ht,Je=Ne)}for(;yt.data!==at;)if(Et=yt,!(yt=yt.next))return this;return(Ct=yt.next)&&delete yt.next,Et?(Ct?Et.next=Ct:delete Et.next,this):ht?(Ct?ht[Ne]=Ct:delete ht[Ne],(yt=ht[0]||ht[1]||ht[2]||ht[3])&&yt===(ht[3]||ht[2]||ht[1]||ht[0])&&!yt.length&&(gt?gt[Je]=yt:this._root=yt),this):(this._root=Ct,this)}function f(at){for(var ht=0,yt=at.length;ht<yt;++ht)this.remove(at[ht]);return this}function u(){return this._root}function m(){var at=0;return this.visit(function(ht){if(!ht.length)do++at;while(ht=ht.next)}),at}function c(at){var ht=[],yt,gt=this._root,Et,Ct,Vt,Qe,Fe;for(gt&&ht.push(new s(gt,this._x0,this._y0,this._x1,this._y1));yt=ht.pop();)if(!at(gt=yt.node,Ct=yt.x0,Vt=yt.y0,Qe=yt.x1,Fe=yt.y1)&&gt.length){var Ie=(Ct+Qe)/2,ze=(Vt+Fe)/2;(Et=gt[3])&&ht.push(new s(Et,Ie,ze,Qe,Fe)),(Et=gt[2])&&ht.push(new s(Et,Ct,ze,Ie,Fe)),(Et=gt[1])&&ht.push(new s(Et,Ie,Vt,Qe,ze)),(Et=gt[0])&&ht.push(new s(Et,Ct,Vt,Ie,ze))}return this}function w(at){var ht=[],yt=[],gt;for(this._root&&ht.push(new s(this._root,this._x0,this._y0,this._x1,this._y1));gt=ht.pop();){var Et=gt.node;if(Et.length){var Ct,Vt=gt.x0,Qe=gt.y0,Fe=gt.x1,Ie=gt.y1,ze=(Vt+Fe)/2,Re=(Qe+Ie)/2;(Ct=Et[0])&&ht.push(new s(Ct,Vt,Qe,ze,Re)),(Ct=Et[1])&&ht.push(new s(Ct,ze,Qe,Fe,Re)),(Ct=Et[2])&&ht.push(new s(Ct,Vt,Re,ze,Ie)),(Ct=Et[3])&&ht.push(new s(Ct,ze,Re,Fe,Ie))}yt.push(gt)}for(;gt=yt.pop();)at(gt.node,gt.x0,gt.y0,gt.x1,gt.y1);return this}function h(at){return at[0]}function o(at){return arguments.length?(this._x=at,this):this._x}function d(at){return at[1]}function M(at){return arguments.length?(this._y=at,this):this._y}function T(at,ht,yt){var gt=new E(ht??h,yt??d,NaN,NaN,NaN,NaN);return at==null?gt:gt.addAll(at)}function E(at,ht,yt,gt,Et,Ct){this._x=at,this._y=ht,this._x0=yt,this._y0=gt,this._x1=Et,this._y1=Ct,this._root=void 0}function x(at){for(var ht={data:at.data},yt=ht;at=at.next;)yt=yt.next={data:at.data};return ht}var S=T.prototype=E.prototype;S.copy=function(){var at=new E(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ht=this._root,yt,gt;if(!ht)return at;if(!ht.length)return at._root=x(ht),at;for(yt=[{source:ht,target:at._root=new Array(4)}];ht=yt.pop();)for(var Et=0;Et<4;++Et)(gt=ht.source[Et])&&(gt.length?yt.push({source:gt,target:ht.target[Et]=new Array(4)}):ht.target[Et]=x(gt));return at},S.add=L,S.addAll=v,S.cover=p,S.data=t,S.extent=r,S.find=n,S.remove=l,S.removeAll=f,S.root=u,S.size=m,S.visit=c,S.visitAfter=w,S.x=o,S.y=M;function b(at){return at.x+at.vx}function a(at){return at.y+at.vy}function C(at){var ht,yt,gt=1,Et=1;typeof at!="function"&&(at=P(at==null?1:+at));function Ct(){for(var Fe,Ie=ht.length,ze,Re,be,ye,Ae,Ee,Ne=0;Ne<Et;++Ne)for(ze=T(ht,b,a).visitAfter(Vt),Fe=0;Fe<Ie;++Fe)Re=ht[Fe],Ae=yt[Re.index],Ee=Ae*Ae,be=Re.x+Re.vx,ye=Re.y+Re.vy,ze.visit(Je);function Je(qe,vt,bt,Wt,qt){var At=qe.data,zt=qe.r,Jt=Ae+zt;if(At){if(At.index>Re.index){var Mr=be-At.x-At.vx,pt=ye-At.y-At.vy,Zt=Mr*Mr+pt*pt;Zt<Jt*Jt&&(Mr===0&&(Mr=i(),Zt+=Mr*Mr),pt===0&&(pt=i(),Zt+=pt*pt),Zt=(Jt-(Zt=Math.sqrt(Zt)))/Zt*gt,Re.vx+=(Mr*=Zt)*(Jt=(zt*=zt)/(Ee+zt)),Re.vy+=(pt*=Zt)*Jt,At.vx-=Mr*(Jt=1-Jt),At.vy-=pt*Jt)}return}return vt>be+Jt||Wt<be-Jt||bt>ye+Jt||qt<ye-Jt}}function Vt(Fe){if(Fe.data)return Fe.r=yt[Fe.data.index];for(var Ie=Fe.r=0;Ie<4;++Ie)Fe[Ie]&&Fe[Ie].r>Fe.r&&(Fe.r=Fe[Ie].r)}function Qe(){if(ht){var Fe,Ie=ht.length,ze;for(yt=new Array(Ie),Fe=0;Fe<Ie;++Fe)ze=ht[Fe],yt[ze.index]=+at(ze,Fe,ht)}}return Ct.initialize=function(Fe){ht=Fe,Qe()},Ct.iterations=function(Fe){return arguments.length?(Et=+Fe,Ct):Et},Ct.strength=function(Fe){return arguments.length?(gt=+Fe,Ct):gt},Ct.radius=function(Fe){return arguments.length?(at=typeof Fe=="function"?Fe:P(+Fe),Qe(),Ct):at},Ct}var y=e(15140);function z(at){return at.index}function I(at,ht){var yt=at.get(ht);if(!yt)throw new Error("missing: "+ht);return yt}function B(at){var ht=z,yt=ze,gt,Et=P(30),Ct,Vt,Qe,Fe,Ie=1;at==null&&(at=[]);function ze(Ee){return 1/Math.min(Qe[Ee.source.index],Qe[Ee.target.index])}function Re(Ee){for(var Ne=0,Je=at.length;Ne<Ie;++Ne)for(var qe=0,vt,bt,Wt,qt,At,zt,Jt;qe<Je;++qe)vt=at[qe],bt=vt.source,Wt=vt.target,qt=Wt.x+Wt.vx-bt.x-bt.vx||i(),At=Wt.y+Wt.vy-bt.y-bt.vy||i(),zt=Math.sqrt(qt*qt+At*At),zt=(zt-Ct[qe])/zt*Ee*gt[qe],qt*=zt,At*=zt,Wt.vx-=qt*(Jt=Fe[qe]),Wt.vy-=At*Jt,bt.vx+=qt*(Jt=1-Jt),bt.vy+=At*Jt}function be(){if(Vt){var Ee,Ne=Vt.length,Je=at.length,qe=(0,y.UI)(Vt,ht),vt;for(Ee=0,Qe=new Array(Ne);Ee<Je;++Ee)vt=at[Ee],vt.index=Ee,typeof vt.source!="object"&&(vt.source=I(qe,vt.source)),typeof vt.target!="object"&&(vt.target=I(qe,vt.target)),Qe[vt.source.index]=(Qe[vt.source.index]||0)+1,Qe[vt.target.index]=(Qe[vt.target.index]||0)+1;for(Ee=0,Fe=new Array(Je);Ee<Je;++Ee)vt=at[Ee],Fe[Ee]=Qe[vt.source.index]/(Qe[vt.source.index]+Qe[vt.target.index]);gt=new Array(Je),ye(),Ct=new Array(Je),Ae()}}function ye(){if(Vt)for(var Ee=0,Ne=at.length;Ee<Ne;++Ee)gt[Ee]=+yt(at[Ee],Ee,at)}function Ae(){if(Vt)for(var Ee=0,Ne=at.length;Ee<Ne;++Ee)Ct[Ee]=+Et(at[Ee],Ee,at)}return Re.initialize=function(Ee){Vt=Ee,be()},Re.links=function(Ee){return arguments.length?(at=Ee,be(),Re):at},Re.id=function(Ee){return arguments.length?(ht=Ee,Re):ht},Re.iterations=function(Ee){return arguments.length?(Ie=+Ee,Re):Ie},Re.strength=function(Ee){return arguments.length?(yt=typeof Ee=="function"?Ee:P(+Ee),ye(),Re):yt},Re.distance=function(Ee){return arguments.length?(Et=typeof Ee=="function"?Ee:P(+Ee),Ae(),Re):Et},Re}var F={value:function(){}};function O(){for(var at=0,ht=arguments.length,yt={},gt;at<ht;++at){if(!(gt=arguments[at]+"")||gt in yt||/[\s.]/.test(gt))throw new Error("illegal type: "+gt);yt[gt]=[]}return new N(yt)}function N(at){this._=at}function _(at,ht){return at.trim().split(/^|\s+/).map(function(yt){var gt="",Et=yt.indexOf(".");if(Et>=0&&(gt=yt.slice(Et+1),yt=yt.slice(0,Et)),yt&&!ht.hasOwnProperty(yt))throw new Error("unknown type: "+yt);return{type:yt,name:gt}})}N.prototype=O.prototype={constructor:N,on:function(at,ht){var yt=this._,gt=_(at+"",yt),Et,Ct=-1,Vt=gt.length;if(arguments.length<2){for(;++Ct<Vt;)if((Et=(at=gt[Ct]).type)&&(Et=U(yt[Et],at.name)))return Et;return}if(ht!=null&&typeof ht!="function")throw new Error("invalid callback: "+ht);for(;++Ct<Vt;)if(Et=(at=gt[Ct]).type)yt[Et]=Y(yt[Et],at.name,ht);else if(ht==null)for(Et in yt)yt[Et]=Y(yt[Et],at.name,null);return this},copy:function(){var at={},ht=this._;for(var yt in ht)at[yt]=ht[yt].slice();return new N(at)},call:function(at,ht){if((Et=arguments.length-2)>0)for(var yt=new Array(Et),gt=0,Et,Ct;gt<Et;++gt)yt[gt]=arguments[gt+2];if(!this._.hasOwnProperty(at))throw new Error("unknown type: "+at);for(Ct=this._[at],gt=0,Et=Ct.length;gt<Et;++gt)Ct[gt].value.apply(ht,yt)},apply:function(at,ht,yt){if(!this._.hasOwnProperty(at))throw new Error("unknown type: "+at);for(var gt=this._[at],Et=0,Ct=gt.length;Et<Ct;++Et)gt[Et].value.apply(ht,yt)}};function U(at,ht){for(var yt=0,gt=at.length,Et;yt<gt;++yt)if((Et=at[yt]).name===ht)return Et.value}function Y(at,ht,yt){for(var gt=0,Et=at.length;gt<Et;++gt)if(at[gt].name===ht){at[gt]=F,at=at.slice(0,gt).concat(at.slice(gt+1));break}return yt!=null&&at.push({name:ht,value:yt}),at}var K=O,re=0,ae=0,fe=0,Q=1e3,j,X,J=0,ee=0,se=0,q=typeof performance=="object"&&performance.now?performance:Date,$=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(at){setTimeout(at,17)};function le(){return ee||($(ie),ee=q.now()+se)}function ie(){ee=0}function ce(){this._call=this._time=this._next=null}ce.prototype=me.prototype={constructor:ce,restart:function(at,ht,yt){if(typeof at!="function")throw new TypeError("callback is not a function");yt=(yt==null?le():+yt)+(ht==null?0:+ht),!this._next&&X!==this&&(X?X._next=this:j=this,X=this),this._call=at,this._time=yt,Ce()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ce())}};function me(at,ht,yt){var gt=new ce;return gt.restart(at,ht,yt),gt}function Me(){le(),++re;for(var at=j,ht;at;)(ht=ee-at._time)>=0&&at._call.call(null,ht),at=at._next;--re}function we(){ee=(J=q.now())+se,re=ae=0;try{Me()}finally{re=0,Be(),ee=0}}function Oe(){var at=q.now(),ht=at-J;ht>Q&&(se-=ht,J=at)}function Be(){for(var at,ht=j,yt,gt=1/0;ht;)ht._call?(gt>ht._time&&(gt=ht._time),at=ht,ht=ht._next):(yt=ht._next,ht._next=null,ht=at?at._next=yt:j=yt);X=at,Ce(gt)}function Ce(at){if(!re){ae&&(ae=clearTimeout(ae));var ht=at-ee;ht>24?(at<1/0&&(ae=setTimeout(we,at-q.now()-se)),fe&&(fe=clearInterval(fe))):(fe||(J=q.now(),fe=setInterval(Oe,Q)),re=1,$(we))}}function xe(at){return at.x}function Se(at){return at.y}var He=10,Ge=Math.PI*(3-Math.sqrt(5));function ke(at){var ht,yt=1,gt=.001,Et=1-Math.pow(gt,1/300),Ct=0,Vt=.6,Qe=(0,y.UI)(),Fe=me(ze),Ie=K("tick","end");at==null&&(at=[]);function ze(){Re(),Ie.call("tick",ht),yt<gt&&(Fe.stop(),Ie.call("end",ht))}function Re(Ae){var Ee,Ne=at.length,Je;Ae===void 0&&(Ae=1);for(var qe=0;qe<Ae;++qe)for(yt+=(Ct-yt)*Et,Qe.each(function(vt){vt(yt)}),Ee=0;Ee<Ne;++Ee)Je=at[Ee],Je.fx==null?Je.x+=Je.vx*=Vt:(Je.x=Je.fx,Je.vx=0),Je.fy==null?Je.y+=Je.vy*=Vt:(Je.y=Je.fy,Je.vy=0);return ht}function be(){for(var Ae=0,Ee=at.length,Ne;Ae<Ee;++Ae){if(Ne=at[Ae],Ne.index=Ae,Ne.fx!=null&&(Ne.x=Ne.fx),Ne.fy!=null&&(Ne.y=Ne.fy),isNaN(Ne.x)||isNaN(Ne.y)){var Je=He*Math.sqrt(Ae),qe=Ae*Ge;Ne.x=Je*Math.cos(qe),Ne.y=Je*Math.sin(qe)}(isNaN(Ne.vx)||isNaN(Ne.vy))&&(Ne.vx=Ne.vy=0)}}function ye(Ae){return Ae.initialize&&Ae.initialize(at),Ae}return be(),ht={tick:Re,restart:function(){return Fe.restart(ze),ht},stop:function(){return Fe.stop(),ht},nodes:function(Ae){return arguments.length?(at=Ae,be(),Qe.each(ye),ht):at},alpha:function(Ae){return arguments.length?(yt=+Ae,ht):yt},alphaMin:function(Ae){return arguments.length?(gt=+Ae,ht):gt},alphaDecay:function(Ae){return arguments.length?(Et=+Ae,ht):+Et},alphaTarget:function(Ae){return arguments.length?(Ct=+Ae,ht):Ct},velocityDecay:function(Ae){return arguments.length?(Vt=1-Ae,ht):1-Vt},force:function(Ae,Ee){return arguments.length>1?(Ee==null?Qe.remove(Ae):Qe.set(Ae,ye(Ee)),ht):Qe.get(Ae)},find:function(Ae,Ee,Ne){var Je=0,qe=at.length,vt,bt,Wt,qt,At;for(Ne==null?Ne=1/0:Ne*=Ne,Je=0;Je<qe;++Je)qt=at[Je],vt=Ae-qt.x,bt=Ee-qt.y,Wt=vt*vt+bt*bt,Wt<Ne&&(At=qt,Ne=Wt);return At},on:function(Ae,Ee){return arguments.length>1?(Ie.on(Ae,Ee),ht):Ie.on(Ae)}}}function We(){var at,ht,yt,gt=P(-30),Et,Ct=1,Vt=1/0,Qe=.81;function Fe(be){var ye,Ae=at.length,Ee=T(at,xe,Se).visitAfter(ze);for(yt=be,ye=0;ye<Ae;++ye)ht=at[ye],Ee.visit(Re)}function Ie(){if(at){var be,ye=at.length,Ae;for(Et=new Array(ye),be=0;be<ye;++be)Ae=at[be],Et[Ae.index]=+gt(Ae,be,at)}}function ze(be){var ye=0,Ae,Ee,Ne=0,Je,qe,vt;if(be.length){for(Je=qe=vt=0;vt<4;++vt)(Ae=be[vt])&&(Ee=Math.abs(Ae.value))&&(ye+=Ae.value,Ne+=Ee,Je+=Ee*Ae.x,qe+=Ee*Ae.y);be.x=Je/Ne,be.y=qe/Ne}else{Ae=be,Ae.x=Ae.data.x,Ae.y=Ae.data.y;do ye+=Et[Ae.data.index];while(Ae=Ae.next)}be.value=ye}function Re(be,ye,Ae,Ee){if(!be.value)return!0;var Ne=be.x-ht.x,Je=be.y-ht.y,qe=Ee-ye,vt=Ne*Ne+Je*Je;if(qe*qe/Qe<vt)return vt<Vt&&(Ne===0&&(Ne=i(),vt+=Ne*Ne),Je===0&&(Je=i(),vt+=Je*Je),vt<Ct&&(vt=Math.sqrt(Ct*vt)),ht.vx+=Ne*be.value*yt/vt,ht.vy+=Je*be.value*yt/vt),!0;if(be.length||vt>=Vt)return;(be.data!==ht||be.next)&&(Ne===0&&(Ne=i(),vt+=Ne*Ne),Je===0&&(Je=i(),vt+=Je*Je),vt<Ct&&(vt=Math.sqrt(Ct*vt)));do be.data!==ht&&(qe=Et[be.data.index]*yt/vt,ht.vx+=Ne*qe,ht.vy+=Je*qe);while(be=be.next)}return Fe.initialize=function(be){at=be,Ie()},Fe.strength=function(be){return arguments.length?(gt=typeof be=="function"?be:P(+be),Ie(),Fe):gt},Fe.distanceMin=function(be){return arguments.length?(Ct=be*be,Fe):Math.sqrt(Ct)},Fe.distanceMax=function(be){return arguments.length?(Vt=be*be,Fe):Math.sqrt(Vt)},Fe.theta=function(be){return arguments.length?(Qe=be*be,Fe):Math.sqrt(Qe)},Fe}function it(at,ht,yt){var gt,Et=P(.1),Ct,Vt;typeof at!="function"&&(at=P(+at)),ht==null&&(ht=0),yt==null&&(yt=0);function Qe(Ie){for(var ze=0,Re=gt.length;ze<Re;++ze){var be=gt[ze],ye=be.x-ht||1e-6,Ae=be.y-yt||1e-6,Ee=Math.sqrt(ye*ye+Ae*Ae),Ne=(Vt[ze]-Ee)*Ct[ze]*Ie/Ee;be.vx+=ye*Ne,be.vy+=Ae*Ne}}function Fe(){if(gt){var Ie,ze=gt.length;for(Ct=new Array(ze),Vt=new Array(ze),Ie=0;Ie<ze;++Ie)Vt[Ie]=+at(gt[Ie],Ie,gt),Ct[Ie]=isNaN(Vt[Ie])?0:+Et(gt[Ie],Ie,gt)}}return Qe.initialize=function(Ie){gt=Ie,Fe()},Qe.strength=function(Ie){return arguments.length?(Et=typeof Ie=="function"?Ie:P(+Ie),Fe(),Qe):Et},Qe.radius=function(Ie){return arguments.length?(at=typeof Ie=="function"?Ie:P(+Ie),Fe(),Qe):at},Qe.x=function(Ie){return arguments.length?(ht=+Ie,Qe):ht},Qe.y=function(Ie){return arguments.length?(yt=+Ie,Qe):yt},Qe}function et(at){var ht=P(.1),yt,gt,Et;typeof at!="function"&&(at=P(at==null?0:+at));function Ct(Qe){for(var Fe=0,Ie=yt.length,ze;Fe<Ie;++Fe)ze=yt[Fe],ze.vx+=(Et[Fe]-ze.x)*gt[Fe]*Qe}function Vt(){if(yt){var Qe,Fe=yt.length;for(gt=new Array(Fe),Et=new Array(Fe),Qe=0;Qe<Fe;++Qe)gt[Qe]=isNaN(Et[Qe]=+at(yt[Qe],Qe,yt))?0:+ht(yt[Qe],Qe,yt)}}return Ct.initialize=function(Qe){yt=Qe,Vt()},Ct.strength=function(Qe){return arguments.length?(ht=typeof Qe=="function"?Qe:P(+Qe),Vt(),Ct):ht},Ct.x=function(Qe){return arguments.length?(at=typeof Qe=="function"?Qe:P(+Qe),Vt(),Ct):at},Ct}function tt(at){var ht=P(.1),yt,gt,Et;typeof at!="function"&&(at=P(at==null?0:+at));function Ct(Qe){for(var Fe=0,Ie=yt.length,ze;Fe<Ie;++Fe)ze=yt[Fe],ze.vy+=(Et[Fe]-ze.y)*gt[Fe]*Qe}function Vt(){if(yt){var Qe,Fe=yt.length;for(gt=new Array(Fe),Et=new Array(Fe),Qe=0;Qe<Fe;++Qe)gt[Qe]=isNaN(Et[Qe]=+at(yt[Qe],Qe,yt))?0:+ht(yt[Qe],Qe,yt)}}return Ct.initialize=function(Qe){yt=Qe,Vt()},Ct.strength=function(Qe){return arguments.length?(ht=typeof Qe=="function"?Qe:P(+Qe),Vt(),Ct):ht},Ct.y=function(Qe){return arguments.length?(at=typeof Qe=="function"?Qe:P(+Qe),Vt(),Ct):at},Ct}},60721:function(W,H,e){e.d(H,{WU:function(){return o},FF:function(){return w}});function g(M){return Math.abs(M=Math.round(M))>=1e21?M.toLocaleString("en").replace(/,/g,""):M.toString(10)}function P(M,T){if((E=(M=T?M.toExponential(T-1):M.toExponential()).indexOf("e"))<0)return null;var E,x=M.slice(0,E);return[x.length>1?x[0]+x.slice(2):x,+M.slice(E+1)]}function i(M){return M=P(Math.abs(M)),M?M[1]:NaN}function L(M,T){return function(E,x){for(var S=E.length,b=[],a=0,C=M[0],y=0;S>0&&C>0&&(y+C+1>x&&(C=Math.max(1,x-y)),b.push(E.substring(S-=C,S+C)),!((y+=C+1)>x));)C=M[a=(a+1)%M.length];return b.reverse().join(T)}}function A(M){return function(T){return T.replace(/[0-9]/g,function(E){return M[+E]})}}var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function p(M){if(!(T=v.exec(M)))throw new Error("invalid format: "+M);var T;return new t({fill:T[1],align:T[2],sign:T[3],symbol:T[4],zero:T[5],width:T[6],comma:T[7],precision:T[8]&&T[8].slice(1),trim:T[9],type:T[10]})}p.prototype=t.prototype;function t(M){this.fill=M.fill===void 0?" ":M.fill+"",this.align=M.align===void 0?">":M.align+"",this.sign=M.sign===void 0?"-":M.sign+"",this.symbol=M.symbol===void 0?"":M.symbol+"",this.zero=!!M.zero,this.width=M.width===void 0?void 0:+M.width,this.comma=!!M.comma,this.precision=M.precision===void 0?void 0:+M.precision,this.trim=!!M.trim,this.type=M.type===void 0?"":M.type+""}t.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function r(M){e:for(var T=M.length,E=1,x=-1,S;E<T;++E)switch(M[E]){case".":x=S=E;break;case"0":x===0&&(x=E),S=E;break;default:if(!+M[E])break e;x>0&&(x=0);break}return x>0?M.slice(0,x)+M.slice(S+1):M}var s;function n(M,T){var E=P(M,T);if(!E)return M+"";var x=E[0],S=E[1],b=S-(s=Math.max(-8,Math.min(8,Math.floor(S/3)))*3)+1,a=x.length;return b===a?x:b>a?x+new Array(b-a+1).join("0"):b>0?x.slice(0,b)+"."+x.slice(b):"0."+new Array(1-b).join("0")+P(M,Math.max(0,T+b-1))[0]}function l(M,T){var E=P(M,T);if(!E)return M+"";var x=E[0],S=E[1];return S<0?"0."+new Array(-S).join("0")+x:x.length>S+1?x.slice(0,S+1)+"."+x.slice(S+1):x+new Array(S-x.length+2).join("0")}var f={"%":function(M,T){return(M*100).toFixed(T)},b:function(M){return Math.round(M).toString(2)},c:function(M){return M+""},d:g,e:function(M,T){return M.toExponential(T)},f:function(M,T){return M.toFixed(T)},g:function(M,T){return M.toPrecision(T)},o:function(M){return Math.round(M).toString(8)},p:function(M,T){return l(M*100,T)},r:l,s:n,X:function(M){return Math.round(M).toString(16).toUpperCase()},x:function(M){return Math.round(M).toString(16)}};function u(M){return M}var m=Array.prototype.map,c=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function w(M){var T=M.grouping===void 0||M.thousands===void 0?u:L(m.call(M.grouping,Number),M.thousands+""),E=M.currency===void 0?"":M.currency[0]+"",x=M.currency===void 0?"":M.currency[1]+"",S=M.decimal===void 0?".":M.decimal+"",b=M.numerals===void 0?u:A(m.call(M.numerals,String)),a=M.percent===void 0?"%":M.percent+"",C=M.minus===void 0?"-":M.minus+"",y=M.nan===void 0?"NaN":M.nan+"";function z(B){B=p(B);var F=B.fill,O=B.align,N=B.sign,_=B.symbol,U=B.zero,Y=B.width,K=B.comma,re=B.precision,ae=B.trim,fe=B.type;fe==="n"?(K=!0,fe="g"):f[fe]||(re===void 0&&(re=12),ae=!0,fe="g"),(U||F==="0"&&O==="=")&&(U=!0,F="0",O="=");var Q=_==="$"?E:_==="#"&&/[boxX]/.test(fe)?"0"+fe.toLowerCase():"",j=_==="$"?x:/[%p]/.test(fe)?a:"",X=f[fe],J=/[defgprs%]/.test(fe);re=re===void 0?6:/[gprs]/.test(fe)?Math.max(1,Math.min(21,re)):Math.max(0,Math.min(20,re));function ee(se){var q=Q,$=j,le,ie,ce;if(fe==="c")$=X(se)+$,se="";else{se=+se;var me=se<0||1/se<0;if(se=isNaN(se)?y:X(Math.abs(se),re),ae&&(se=r(se)),me&&+se==0&&N!=="+"&&(me=!1),q=(me?N==="("?N:C:N==="-"||N==="("?"":N)+q,$=(fe==="s"?c[8+s/3]:"")+$+(me&&N==="("?")":""),J){for(le=-1,ie=se.length;++le<ie;)if(ce=se.charCodeAt(le),48>ce||ce>57){$=(ce===46?S+se.slice(le+1):se.slice(le))+$,se=se.slice(0,le);break}}}K&&!U&&(se=T(se,1/0));var Me=q.length+se.length+$.length,we=Me<Y?new Array(Y-Me+1).join(F):"";switch(K&&U&&(se=T(we+se,we.length?Y-$.length:1/0),we=""),O){case"<":se=q+se+$+we;break;case"=":se=q+we+se+$;break;case"^":se=we.slice(0,Me=we.length>>1)+q+se+$+we.slice(Me);break;default:se=we+q+se+$;break}return b(se)}return ee.toString=function(){return B+""},ee}function I(B,F){var O=z((B=p(B),B.type="f",B)),N=Math.max(-8,Math.min(8,Math.floor(i(F)/3)))*3,_=Math.pow(10,-N),U=c[8+N/3];return function(Y){return O(_*Y)+U}}return{format:z,formatPrefix:I}}var h,o;d({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function d(M){return h=w(M),o=h.format,h.formatPrefix,h}},65704:function(W,H,e){e.r(H),e.d(H,{geoAiry:function(){return U},geoAiryRaw:function(){return _},geoAitoff:function(){return K},geoAitoffRaw:function(){return Y},geoArmadillo:function(){return ae},geoArmadilloRaw:function(){return re},geoAugust:function(){return Q},geoAugustRaw:function(){return fe},geoBaker:function(){return ee},geoBakerRaw:function(){return J},geoBerghaus:function(){return $},geoBerghausRaw:function(){return q},geoBertin1953:function(){return Be},geoBertin1953Raw:function(){return Oe},geoBoggs:function(){return it},geoBoggsRaw:function(){return We},geoBonne:function(){return yt},geoBonneRaw:function(){return ht},geoBottomley:function(){return Et},geoBottomleyRaw:function(){return gt},geoBromley:function(){return Vt},geoBromleyRaw:function(){return Ct},geoChamberlin:function(){return Ee},geoChamberlinAfrica:function(){return Ae},geoChamberlinRaw:function(){return be},geoCollignon:function(){return Je},geoCollignonRaw:function(){return Ne},geoCraig:function(){return vt},geoCraigRaw:function(){return qe},geoCraster:function(){return qt},geoCrasterRaw:function(){return Wt},geoCylindricalEqualArea:function(){return zt},geoCylindricalEqualAreaRaw:function(){return At},geoCylindricalStereographic:function(){return Mr},geoCylindricalStereographicRaw:function(){return Jt},geoEckert1:function(){return Zt},geoEckert1Raw:function(){return pt},geoEckert2:function(){return mr},geoEckert2Raw:function(){return Kt},geoEckert3:function(){return dt},geoEckert3Raw:function(){return ur},geoEckert4:function(){return xt},geoEckert4Raw:function(){return st},geoEckert5:function(){return Dt},geoEckert5Raw:function(){return Mt},geoEckert6:function(){return Nt},geoEckert6Raw:function(){return Rt},geoEisenlohr:function(){return lr},geoEisenlohrRaw:function(){return Xt},geoFahey:function(){return je},geoFaheyRaw:function(){return dr},geoFoucaut:function(){return It},geoFoucautRaw:function(){return Ye},geoFoucautSinusoidal:function(){return Yt},geoFoucautSinusoidalRaw:function(){return kt},geoGilbert:function(){return hr},geoGingery:function(){return Hr},geoGingeryRaw:function(){return gr},geoGinzburg4:function(){return pn},geoGinzburg4Raw:function(){return Fr},geoGinzburg5:function(){return On},geoGinzburg5Raw:function(){return qr},geoGinzburg6:function(){return Sr},geoGinzburg6Raw:function(){return Tn},geoGinzburg8:function(){return Gr},geoGinzburg8Raw:function(){return Er},geoGinzburg9:function(){return nn},geoGinzburg9Raw:function(){return Br},geoGringorten:function(){return ia},geoGringortenQuincuncial:function(){return ph},geoGringortenRaw:function(){return mn},geoGuyou:function(){return yn},geoGuyouRaw:function(){return Tr},geoHammer:function(){return me},geoHammerRaw:function(){return ie},geoHammerRetroazimuthal:function(){return Nn},geoHammerRetroazimuthalRaw:function(){return Sn},geoHealpix:function(){return vn},geoHealpixRaw:function(){return en},geoHill:function(){return Lr},geoHillRaw:function(){return Dr},geoHomolosine:function(){return Bn},geoHomolosineRaw:function(){return xn},geoHufnagel:function(){return ua},geoHufnagelRaw:function(){return na},geoHyperelliptical:function(){return Ki},geoHyperellipticalRaw:function(){return pa},geoInterrupt:function(){return mo},geoInterruptedBoggs:function(){return ei},geoInterruptedHomolosine:function(){return Pl},geoInterruptedMollweide:function(){return So},geoInterruptedMollweideHemispheres:function(){return tu},geoInterruptedQuarticAuthalic:function(){return df},geoInterruptedSinuMollweide:function(){return ru},geoInterruptedSinusoidal:function(){return Wi},geoKavrayskiy7:function(){return ho},geoKavrayskiy7Raw:function(){return ko},geoLagrange:function(){return ls},geoLagrangeRaw:function(){return Bo},geoLarrivee:function(){return qf},geoLarriveeRaw:function(){return eo},geoLaskowski:function(){return to},geoLaskowskiRaw:function(){return us},geoLittrow:function(){return Es},geoLittrowRaw:function(){return lf},geoLoximuthal:function(){return uf},geoLoximuthalRaw:function(){return fs},geoMiller:function(){return qc},geoMillerRaw:function(){return ff},geoModifiedStereographic:function(){return ll},geoModifiedStereographicAlaska:function(){return ah},geoModifiedStereographicGs48:function(){return ec},geoModifiedStereographicGs50:function(){return ih},geoModifiedStereographicLee:function(){return hf},geoModifiedStereographicMiller:function(){return oh},geoModifiedStereographicRaw:function(){return nu},geoMollweide:function(){return He},geoMollweideRaw:function(){return Se},geoMtFlatPolarParabolic:function(){return sh},geoMtFlatPolarParabolicRaw:function(){return Du},geoMtFlatPolarQuartic:function(){return tc},geoMtFlatPolarQuarticRaw:function(){return Cs},geoMtFlatPolarSinusoidal:function(){return lh},geoMtFlatPolarSinusoidalRaw:function(){return vf},geoNaturalEarth:function(){return Uo.Z},geoNaturalEarth2:function(){return au},geoNaturalEarth2Raw:function(){return fl},geoNaturalEarthRaw:function(){return Uo.K},geoNellHammer:function(){return cs},geoNellHammerRaw:function(){return Dl},geoNicolosi:function(){return Gs},geoNicolosiRaw:function(){return Il},geoPatterson:function(){return uh},geoPattersonRaw:function(){return ku},geoPeirceQuincuncial:function(){return oc},geoPierceQuincuncial:function(){return oc},geoPolyconic:function(){return fh},geoPolyconicRaw:function(){return gf},geoPolyhedral:function(){return pi},geoPolyhedralButterfly:function(){return Ps},geoPolyhedralCollignon:function(){return Ys},geoPolyhedralWaterman:function(){return js},geoProject:function(){return vh},geoQuantize:function(){return sc},geoQuincuncial:function(){return Nu},geoRectangularPolyconic:function(){return Zs},geoRectangularPolyconicRaw:function(){return Tf},geoRobinson:function(){return Af},geoRobinsonRaw:function(){return vs},geoSatellite:function(){return Bu},geoSatelliteRaw:function(){return vl},geoSinuMollweide:function(){return Zn},geoSinuMollweideRaw:function(){return _n},geoSinusoidal:function(){return at},geoSinusoidalRaw:function(){return tt},geoStitch:function(){return yl},geoTimes:function(){return Fo},geoTimesRaw:function(){return Lo},geoTwoPointAzimuthal:function(){return Gu},geoTwoPointAzimuthalRaw:function(){return fc},geoTwoPointAzimuthalUsa:function(){return Ul},geoTwoPointEquidistant:function(){return Cf},geoTwoPointEquidistantRaw:function(){return cc},geoTwoPointEquidistantUsa:function(){return qo},geoVanDerGrinten:function(){return hu},geoVanDerGrinten2:function(){return yh},geoVanDerGrinten2Raw:function(){return Fs},geoVanDerGrinten3:function(){return Wu},geoVanDerGrinten3Raw:function(){return Lf},geoVanDerGrinten4:function(){return hc},geoVanDerGrinten4Raw:function(){return vo},geoVanDerGrintenRaw:function(){return Js},geoWagner:function(){return du},geoWagner4:function(){return Rf},geoWagner4Raw:function(){return Pf},geoWagner6:function(){return ju},geoWagner6Raw:function(){return xl},geoWagner7:function(){return Qs},geoWagnerRaw:function(){return ds},geoWiechel:function(){return dc},geoWiechelRaw:function(){return pu},geoWinkel3:function(){return pc},geoWinkel3Raw:function(){return gu}});var g=e(15002),P=Math.abs,i=Math.atan,L=Math.atan2,A=Math.cos,v=Math.exp,p=Math.floor,t=Math.log,r=Math.max,s=Math.min,n=Math.pow,l=Math.round,f=Math.sign||function(Xe){return Xe>0?1:Xe<0?-1:0},u=Math.sin,m=Math.tan,c=1e-6,w=1e-12,h=Math.PI,o=h/2,d=h/4,M=Math.SQRT1_2,T=z(2),E=z(h),x=h*2,S=180/h,b=h/180;function a(Xe){return Xe?Xe/Math.sin(Xe):1}function C(Xe){return Xe>1?o:Xe<-1?-o:Math.asin(Xe)}function y(Xe){return Xe>1?0:Xe<-1?h:Math.acos(Xe)}function z(Xe){return Xe>0?Math.sqrt(Xe):0}function I(Xe){return Xe=v(2*Xe),(Xe-1)/(Xe+1)}function B(Xe){return(v(Xe)-v(-Xe))/2}function F(Xe){return(v(Xe)+v(-Xe))/2}function O(Xe){return t(Xe+z(Xe*Xe+1))}function N(Xe){return t(Xe+z(Xe*Xe-1))}function _(Xe){var nt=m(Xe/2),ct=2*t(A(Xe/2))/(nt*nt);function mt(Ft,Lt){var Ot=A(Ft),cr=A(Lt),yr=u(Lt),ar=cr*Ot,Ar=-((1-ar?t((1+ar)/2)/(1-ar):-.5)+ct/(1+ar));return[Ar*cr*u(Ft),Ar*yr]}return mt.invert=function(Ft,Lt){var Ot=z(Ft*Ft+Lt*Lt),cr=-Xe/2,yr=50,ar;if(!Ot)return[0,0];do{var Ar=cr/2,Rr=A(Ar),Yr=u(Ar),Jr=Yr/Rr,bn=-t(P(Rr));cr-=ar=(2/Jr*bn-ct*Jr-Ot)/(-bn/(Yr*Yr)+1-ct/(2*Rr*Rr))*(Rr<0?.7:1)}while(P(ar)>c&&--yr>0);var An=u(cr);return[L(Ft*An,Ot*A(cr)),C(Lt*An/Ot)]},mt}function U(){var Xe=o,nt=(0,g.r)(_),ct=nt(Xe);return ct.radius=function(mt){return arguments.length?nt(Xe=mt*b):Xe*S},ct.scale(179.976).clipAngle(147)}function Y(Xe,nt){var ct=A(nt),mt=a(y(ct*A(Xe/=2)));return[2*ct*u(Xe)*mt,u(nt)*mt]}Y.invert=function(Xe,nt){if(!(Xe*Xe+4*nt*nt>h*h+c)){var ct=Xe,mt=nt,Ft=25;do{var Lt=u(ct),Ot=u(ct/2),cr=A(ct/2),yr=u(mt),ar=A(mt),Ar=u(2*mt),Rr=yr*yr,Yr=ar*ar,Jr=Ot*Ot,bn=1-Yr*cr*cr,An=bn?y(ar*cr)*z(In=1/bn):In=0,In,va=2*An*ar*Ot-Xe,La=An*yr-nt,Ra=In*(Yr*Jr+An*ar*cr*Rr),Da=In*(.5*Lt*Ar-An*2*yr*Ot),ka=In*.25*(Ar*Ot-An*yr*Yr*Lt),ii=In*(Rr*cr+An*Jr*ar),Di=Da*ka-ii*Ra;if(!Di)break;var gi=(La*Da-va*ii)/Di,ue=(va*ka-La*Ra)/Di;ct-=gi,mt-=ue}while((P(gi)>c||P(ue)>c)&&--Ft>0);return[ct,mt]}};function K(){return(0,g.Z)(Y).scale(152.63)}function re(Xe){var nt=u(Xe),ct=A(Xe),mt=Xe>=0?1:-1,Ft=m(mt*Xe),Lt=(1+nt-ct)/2;function Ot(cr,yr){var ar=A(yr),Ar=A(cr/=2);return[(1+ar)*u(cr),(mt*yr>-L(Ar,Ft)-.001?0:-mt*10)+Lt+u(yr)*ct-(1+ar)*nt*Ar]}return Ot.invert=function(cr,yr){var ar=0,Ar=0,Rr=50;do{var Yr=A(ar),Jr=u(ar),bn=A(Ar),An=u(Ar),In=1+bn,va=In*Jr-cr,La=Lt+An*ct-In*nt*Yr-yr,Ra=In*Yr/2,Da=-Jr*An,ka=nt*In*Jr/2,ii=ct*bn+nt*Yr*An,Di=Da*ka-ii*Ra,gi=(La*Da-va*ii)/Di/2,ue=(va*ka-La*Ra)/Di;P(ue)>2&&(ue/=2),ar-=gi,Ar-=ue}while((P(gi)>c||P(ue)>c)&&--Rr>0);return mt*Ar>-L(A(ar),Ft)-.001?[ar*2,Ar]:null},Ot}function ae(){var Xe=20*b,nt=Xe>=0?1:-1,ct=m(nt*Xe),mt=(0,g.r)(re),Ft=mt(Xe),Lt=Ft.stream;return Ft.parallel=function(Ot){return arguments.length?(ct=m((nt=(Xe=Ot*b)>=0?1:-1)*Xe),mt(Xe)):Xe*S},Ft.stream=function(Ot){var cr=Ft.rotate(),yr=Lt(Ot),ar=(Ft.rotate([0,0]),Lt(Ot)),Ar=Ft.precision();return Ft.rotate(cr),yr.sphere=function(){ar.polygonStart(),ar.lineStart();for(var Rr=nt*-180;nt*Rr<180;Rr+=nt*90)ar.point(Rr,nt*90);if(Xe)for(;nt*(Rr-=3*nt*Ar)>=-180;)ar.point(Rr,nt*-L(A(Rr*b/2),ct)*S);ar.lineEnd(),ar.polygonEnd()},yr},Ft.scale(218.695).center([0,28.0974])}function fe(Xe,nt){var ct=m(nt/2),mt=z(1-ct*ct),Ft=1+mt*A(Xe/=2),Lt=u(Xe)*mt/Ft,Ot=ct/Ft,cr=Lt*Lt,yr=Ot*Ot;return[1.3333333333333333*Lt*(3+cr-3*yr),1.3333333333333333*Ot*(3+3*cr-yr)]}fe.invert=function(Xe,nt){if(Xe*=.375,nt*=.375,!Xe&&P(nt)>1)return null;var ct=Xe*Xe,mt=nt*nt,Ft=1+ct+mt,Lt=z((Ft-z(Ft*Ft-4*nt*nt))/2),Ot=C(Lt)/3,cr=Lt?N(P(nt/Lt))/3:O(P(Xe))/3,yr=A(Ot),ar=F(cr),Ar=ar*ar-yr*yr;return[f(Xe)*2*L(B(cr)*yr,.25-Ar),f(nt)*2*L(ar*u(Ot),.25+Ar)]};function Q(){return(0,g.Z)(fe).scale(66.1603)}var j=z(8),X=t(1+T);function J(Xe,nt){var ct=P(nt);return ct<d?[Xe,t(m(d+nt/2))]:[Xe*A(ct)*(2*T-1/u(ct)),f(nt)*(2*T*(ct-d)-t(m(ct/2)))]}J.invert=function(Xe,nt){if((Lt=P(nt))<X)return[Xe,2*i(v(nt))-o];var ct=d,mt=25,Ft,Lt;do{var Ot=A(ct/2),cr=m(ct/2);ct-=Ft=(j*(ct-d)-t(cr)-Lt)/(j-Ot*Ot/(2*cr))}while(P(Ft)>w&&--mt>0);return[Xe/(A(ct)*(j-1/u(ct))),f(nt)*ct]};function ee(){return(0,g.Z)(J).scale(112.314)}var se=e(17889);function q(Xe){var nt=2*h/Xe;function ct(mt,Ft){var Lt=(0,se.N)(mt,Ft);if(P(mt)>o){var Ot=L(Lt[1],Lt[0]),cr=z(Lt[0]*Lt[0]+Lt[1]*Lt[1]),yr=nt*l((Ot-o)/nt)+o,ar=L(u(Ot-=yr),2-A(Ot));Ot=yr+C(h/cr*u(ar))-ar,Lt[0]=cr*A(Ot),Lt[1]=cr*u(Ot)}return Lt}return ct.invert=function(mt,Ft){var Lt=z(mt*mt+Ft*Ft);if(Lt>o){var Ot=L(Ft,mt),cr=nt*l((Ot-o)/nt)+o,yr=Ot>cr?-1:1,ar=Lt*A(cr-Ot),Ar=1/m(yr*y((ar-h)/z(h*(h-2*ar)+Lt*Lt)));Ot=cr+2*i((Ar+yr*z(Ar*Ar-3))/3),mt=Lt*A(Ot),Ft=Lt*u(Ot)}return se.N.invert(mt,Ft)},ct}function $(){var Xe=5,nt=(0,g.r)(q),ct=nt(Xe),mt=ct.stream,Ft=.01,Lt=-A(Ft*b),Ot=u(Ft*b);return ct.lobes=function(cr){return arguments.length?nt(Xe=+cr):Xe},ct.stream=function(cr){var yr=ct.rotate(),ar=mt(cr),Ar=(ct.rotate([0,0]),mt(cr));return ct.rotate(yr),ar.sphere=function(){Ar.polygonStart(),Ar.lineStart();for(var Rr=0,Yr=360/Xe,Jr=2*h/Xe,bn=90-180/Xe,An=o;Rr<Xe;++Rr,bn-=Yr,An-=Jr)Ar.point(L(Ot*A(An),Lt)*S,C(Ot*u(An))*S),bn<-90?(Ar.point(-90,-180-bn-Ft),Ar.point(-90,-180-bn+Ft)):(Ar.point(90,bn+Ft),Ar.point(90,bn-Ft));Ar.lineEnd(),Ar.polygonEnd()},ar},ct.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var le=e(12956);function ie(Xe,nt){if(arguments.length<2&&(nt=Xe),nt===1)return le.l;if(nt===1/0)return ce;function ct(mt,Ft){var Lt=(0,le.l)(mt/nt,Ft);return Lt[0]*=Xe,Lt}return ct.invert=function(mt,Ft){var Lt=le.l.invert(mt/Xe,Ft);return Lt[0]*=nt,Lt},ct}function ce(Xe,nt){return[Xe*A(nt)/A(nt/=2),2*u(nt)]}ce.invert=function(Xe,nt){var ct=2*C(nt/2);return[Xe*A(ct/2)/A(ct),ct]};function me(){var Xe=2,nt=(0,g.r)(ie),ct=nt(Xe);return ct.coefficient=function(mt){return arguments.length?nt(Xe=+mt):Xe},ct.scale(169.529)}function Me(Xe,nt,ct){var mt=100,Ft,Lt,Ot;ct=ct===void 0?0:+ct,nt=+nt;do Lt=Xe(ct),Ot=Xe(ct+c),Lt===Ot&&(Ot=Lt+c),ct-=Ft=-1*c*(Lt-nt)/(Lt-Ot);while(mt-- >0&&P(Ft)>c);return mt<0?NaN:ct}function we(Xe,nt,ct){return nt===void 0&&(nt=40),ct===void 0&&(ct=w),function(mt,Ft,Lt,Ot){var cr,yr,ar;Lt=Lt===void 0?0:+Lt,Ot=Ot===void 0?0:+Ot;for(var Ar=0;Ar<nt;Ar++){var Rr=Xe(Lt,Ot),Yr=Rr[0]-mt,Jr=Rr[1]-Ft;if(P(Yr)<ct&&P(Jr)<ct)break;var bn=Yr*Yr+Jr*Jr;if(bn>cr){Lt-=yr/=2,Ot-=ar/=2;continue}cr=bn;var An=(Lt>0?-1:1)*ct,In=(Ot>0?-1:1)*ct,va=Xe(Lt+An,Ot),La=Xe(Lt,Ot+In),Ra=(va[0]-Rr[0])/An,Da=(va[1]-Rr[1])/An,ka=(La[0]-Rr[0])/In,ii=(La[1]-Rr[1])/In,Di=ii*Ra-Da*ka,gi=(P(Di)<.5?.5:1)/Di;if(yr=(Jr*ka-Yr*ii)*gi,ar=(Yr*Da-Jr*Ra)*gi,Lt+=yr,Ot+=ar,P(yr)<ct&&P(ar)<ct)break}return[Lt,Ot]}}function Oe(){var Xe=ie(1.68,2),nt=1.4,ct=12;function mt(Ft,Lt){if(Ft+Lt<-nt){var Ot=(Ft-Lt+1.6)*(Ft+Lt+nt)/8;Ft+=Ot,Lt-=.8*Ot*u(Lt+h/2)}var cr=Xe(Ft,Lt),yr=(1-A(Ft*Lt))/ct;return cr[1]<0&&(cr[0]*=1+yr),cr[1]>0&&(cr[1]*=1+yr/1.5*cr[0]*cr[0]),cr}return mt.invert=we(mt),mt}function Be(){return(0,g.Z)(Oe()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Ce(Xe,nt){var ct=Xe*u(nt),mt=30,Ft;do nt-=Ft=(nt+u(nt)-ct)/(1+A(nt));while(P(Ft)>c&&--mt>0);return nt/2}function xe(Xe,nt,ct){function mt(Ft,Lt){return[Xe*Ft*A(Lt=Ce(ct,Lt)),nt*u(Lt)]}return mt.invert=function(Ft,Lt){return Lt=C(Lt/nt),[Ft/(Xe*A(Lt)),C((2*Lt+u(2*Lt))/ct)]},mt}var Se=xe(T/o,T,h);function He(){return(0,g.Z)(Se).scale(169.529)}var Ge=2.00276,ke=1.11072;function We(Xe,nt){var ct=Ce(h,nt);return[Ge*Xe/(1/A(nt)+ke/A(ct)),(nt+T*u(ct))/Ge]}We.invert=function(Xe,nt){var ct=Ge*nt,mt=nt<0?-d:d,Ft=25,Lt,Ot;do Ot=ct-T*u(mt),mt-=Lt=(u(2*mt)+2*mt-h*u(Ot))/(2*A(2*mt)+2+h*A(Ot)*T*A(mt));while(P(Lt)>c&&--Ft>0);return Ot=ct-T*u(mt),[Xe*(1/A(Ot)+ke/A(mt))/Ge,Ot]};function it(){return(0,g.Z)(We).scale(160.857)}function et(Xe){var nt=0,ct=(0,g.r)(Xe),mt=ct(nt);return mt.parallel=function(Ft){return arguments.length?ct(nt=Ft*b):nt*S},mt}function tt(Xe,nt){return[Xe*A(nt),nt]}tt.invert=function(Xe,nt){return[Xe/A(nt),nt]};function at(){return(0,g.Z)(tt).scale(152.63)}function ht(Xe){if(!Xe)return tt;var nt=1/m(Xe);function ct(mt,Ft){var Lt=nt+Xe-Ft,Ot=Lt&&mt*A(Ft)/Lt;return[Lt*u(Ot),nt-Lt*A(Ot)]}return ct.invert=function(mt,Ft){var Lt=z(mt*mt+(Ft=nt-Ft)*Ft),Ot=nt+Xe-Lt;return[Lt/A(Ot)*L(mt,Ft),Ot]},ct}function yt(){return et(ht).scale(123.082).center([0,26.1441]).parallel(45)}function gt(Xe){function nt(ct,mt){var Ft=o-mt,Lt=Ft&&ct*Xe*u(Ft)/Ft;return[Ft*u(Lt)/Xe,o-Ft*A(Lt)]}return nt.invert=function(ct,mt){var Ft=ct*Xe,Lt=o-mt,Ot=z(Ft*Ft+Lt*Lt),cr=L(Ft,Lt);return[(Ot?Ot/u(Ot):1)*cr/Xe,o-Ot]},nt}function Et(){var Xe=.5,nt=(0,g.r)(gt),ct=nt(Xe);return ct.fraction=function(mt){return arguments.length?nt(Xe=+mt):Xe},ct.scale(158.837)}var Ct=xe(1,4/h,h);function Vt(){return(0,g.Z)(Ct).scale(152.63)}var Qe=e(66624),Fe=e(49386);function Ie(Xe,nt,ct,mt,Ft,Lt){var Ot=A(Lt),cr;if(P(Xe)>1||P(Lt)>1)cr=y(ct*Ft+nt*mt*Ot);else{var yr=u(Xe/2),ar=u(Lt/2);cr=2*C(z(yr*yr+nt*mt*ar*ar))}return P(cr)>c?[cr,L(mt*u(Lt),nt*Ft-ct*mt*Ot)]:[0,0]}function ze(Xe,nt,ct){return y((Xe*Xe+nt*nt-ct*ct)/(2*Xe*nt))}function Re(Xe){return Xe-2*h*p((Xe+h)/(2*h))}function be(Xe,nt,ct){for(var mt=[[Xe[0],Xe[1],u(Xe[1]),A(Xe[1])],[nt[0],nt[1],u(nt[1]),A(nt[1])],[ct[0],ct[1],u(ct[1]),A(ct[1])]],Ft=mt[2],Lt,Ot=0;Ot<3;++Ot,Ft=Lt)Lt=mt[Ot],Ft.v=Ie(Lt[1]-Ft[1],Ft[3],Ft[2],Lt[3],Lt[2],Lt[0]-Ft[0]),Ft.point=[0,0];var cr=ze(mt[0].v[0],mt[2].v[0],mt[1].v[0]),yr=ze(mt[0].v[0],mt[1].v[0],mt[2].v[0]),ar=h-cr;mt[2].point[1]=0,mt[0].point[0]=-(mt[1].point[0]=mt[0].v[0]/2);var Ar=[mt[2].point[0]=mt[0].point[0]+mt[2].v[0]*A(cr),2*(mt[0].point[1]=mt[1].point[1]=mt[2].v[0]*u(cr))];function Rr(Yr,Jr){var bn=u(Jr),An=A(Jr),In=new Array(3),va;for(va=0;va<3;++va){var La=mt[va];if(In[va]=Ie(Jr-La[1],La[3],La[2],An,bn,Yr-La[0]),!In[va][0])return La.point;In[va][1]=Re(In[va][1]-La.v[1])}var Ra=Ar.slice();for(va=0;va<3;++va){var Da=va==2?0:va+1,ka=ze(mt[va].v[0],In[va][0],In[Da][0]);In[va][1]<0&&(ka=-ka),va?va==1?(ka=yr-ka,Ra[0]-=In[va][0]*A(ka),Ra[1]-=In[va][0]*u(ka)):(ka=ar-ka,Ra[0]+=In[va][0]*A(ka),Ra[1]+=In[va][0]*u(ka)):(Ra[0]+=In[va][0]*A(ka),Ra[1]-=In[va][0]*u(ka))}return Ra[0]/=3,Ra[1]/=3,Ra}return Rr}function ye(Xe){return Xe[0]*=b,Xe[1]*=b,Xe}function Ae(){return Ee([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Ee(Xe,nt,ct){var mt=(0,Qe.Z)({type:"MultiPoint",coordinates:[Xe,nt,ct]}),Ft=[-mt[0],-mt[1]],Lt=(0,Fe.Z)(Ft),Ot=be(ye(Lt(Xe)),ye(Lt(nt)),ye(Lt(ct)));Ot.invert=we(Ot);var cr=(0,g.Z)(Ot).rotate(Ft),yr=cr.center;return delete cr.rotate,cr.center=function(ar){return arguments.length?yr(Lt(ar)):Lt.invert(yr())},cr.clipAngle(90)}function Ne(Xe,nt){var ct=z(1-u(nt));return[2/E*Xe*ct,E*(1-ct)]}Ne.invert=function(Xe,nt){var ct=(ct=nt/E-1)*ct;return[ct>0?Xe*z(h/ct)/2:0,C(1-ct)]};function Je(){return(0,g.Z)(Ne).scale(95.6464).center([0,30])}function qe(Xe){var nt=m(Xe);function ct(mt,Ft){return[mt,(mt?mt/u(mt):1)*(u(Ft)*A(mt)-nt*A(Ft))]}return ct.invert=nt?function(mt,Ft){mt&&(Ft*=u(mt)/mt);var Lt=A(mt);return[mt,2*L(z(Lt*Lt+nt*nt-Ft*Ft)-Lt,nt-Ft)]}:function(mt,Ft){return[mt,C(mt?Ft*m(mt)/mt:Ft)]},ct}function vt(){return et(qe).scale(249.828).clipAngle(90)}var bt=z(3);function Wt(Xe,nt){return[bt*Xe*(2*A(2*nt/3)-1)/E,bt*E*u(nt/3)]}Wt.invert=function(Xe,nt){var ct=3*C(nt/(bt*E));return[E*Xe/(bt*(2*A(2*ct/3)-1)),ct]};function qt(){return(0,g.Z)(Wt).scale(156.19)}function At(Xe){var nt=A(Xe);function ct(mt,Ft){return[mt*nt,u(Ft)/nt]}return ct.invert=function(mt,Ft){return[mt/nt,C(Ft*nt)]},ct}function zt(){return et(At).parallel(38.58).scale(195.044)}function Jt(Xe){var nt=A(Xe);function ct(mt,Ft){return[mt*nt,(1+nt)*m(Ft/2)]}return ct.invert=function(mt,Ft){return[mt/nt,i(Ft/(1+nt))*2]},ct}function Mr(){return et(Jt).scale(124.75)}function pt(Xe,nt){var ct=z(8/(3*h));return[ct*Xe*(1-P(nt)/h),ct*nt]}pt.invert=function(Xe,nt){var ct=z(8/(3*h)),mt=nt/ct;return[Xe/(ct*(1-P(mt)/h)),mt]};function Zt(){return(0,g.Z)(pt).scale(165.664)}function Kt(Xe,nt){var ct=z(4-3*u(P(nt)));return[2/z(6*h)*Xe*ct,f(nt)*z(2*h/3)*(2-ct)]}Kt.invert=function(Xe,nt){var ct=2-P(nt)/z(2*h/3);return[Xe*z(6*h)/(2*ct),f(nt)*C((4-ct*ct)/3)]};function mr(){return(0,g.Z)(Kt).scale(165.664)}function ur(Xe,nt){var ct=z(h*(4+h));return[2/ct*Xe*(1+z(1-4*nt*nt/(h*h))),4/ct*nt]}ur.invert=function(Xe,nt){var ct=z(h*(4+h))/2;return[Xe*ct/(1+z(1-nt*nt*(4+h)/(4*h))),nt*ct/2]};function dt(){return(0,g.Z)(ur).scale(180.739)}function st(Xe,nt){var ct=(2+o)*u(nt);nt/=2;for(var mt=0,Ft=1/0;mt<10&&P(Ft)>c;mt++){var Lt=A(nt);nt-=Ft=(nt+u(nt)*(Lt+2)-ct)/(2*Lt*(1+Lt))}return[2/z(h*(4+h))*Xe*(1+A(nt)),2*z(h/(4+h))*u(nt)]}st.invert=function(Xe,nt){var ct=nt*z((4+h)/h)/2,mt=C(ct),Ft=A(mt);return[Xe/(2/z(h*(4+h))*(1+Ft)),C((mt+ct*(Ft+2))/(2+o))]};function xt(){return(0,g.Z)(st).scale(180.739)}function Mt(Xe,nt){return[Xe*(1+A(nt))/z(2+h),2*nt/z(2+h)]}Mt.invert=function(Xe,nt){var ct=z(2+h),mt=nt*ct/2;return[ct*Xe/(1+A(mt)),mt]};function Dt(){return(0,g.Z)(Mt).scale(173.044)}function Rt(Xe,nt){for(var ct=(1+o)*u(nt),mt=0,Ft=1/0;mt<10&&P(Ft)>c;mt++)nt-=Ft=(nt+u(nt)-ct)/(1+A(nt));return ct=z(2+h),[Xe*(1+A(nt))/ct,2*nt/ct]}Rt.invert=function(Xe,nt){var ct=1+o,mt=z(ct/2);return[Xe*2*mt/(1+A(nt*=mt)),C((nt+u(nt))/ct)]};function Nt(){return(0,g.Z)(Rt).scale(173.044)}var Bt=3+2*T;function Xt(Xe,nt){var ct=u(Xe/=2),mt=A(Xe),Ft=z(A(nt)),Lt=A(nt/=2),Ot=u(nt)/(Lt+T*mt*Ft),cr=z(2/(1+Ot*Ot)),yr=z((T*Lt+(mt+ct)*Ft)/(T*Lt+(mt-ct)*Ft));return[Bt*(cr*(yr-1/yr)-2*t(yr)),Bt*(cr*Ot*(yr+1/yr)-2*i(Ot))]}Xt.invert=function(Xe,nt){if(!(Lt=fe.invert(Xe/1.2,nt*1.065)))return null;var ct=Lt[0],mt=Lt[1],Ft=20,Lt;Xe/=Bt,nt/=Bt;do{var Ot=ct/2,cr=mt/2,yr=u(Ot),ar=A(Ot),Ar=u(cr),Rr=A(cr),Yr=A(mt),Jr=z(Yr),bn=Ar/(Rr+T*ar*Jr),An=bn*bn,In=z(2/(1+An)),va=T*Rr+(ar+yr)*Jr,La=T*Rr+(ar-yr)*Jr,Ra=va/La,Da=z(Ra),ka=Da-1/Da,ii=Da+1/Da,Di=In*ka-2*t(Da)-Xe,gi=In*bn*ii-2*i(bn)-nt,ue=Ar&&M*Jr*yr*An/Ar,Le=(T*ar*Rr+Jr)/(2*(Rr+T*ar*Jr)*(Rr+T*ar*Jr)*Jr),Ue=-.5*bn*In*In*In,$e=Ue*ue,rt=Ue*Le,ot=(ot=2*Rr+T*Jr*(ar-yr))*ot*Da,Pt=(T*ar*Rr*Jr+Yr)/ot,ft=-(T*yr*Ar)/(Jr*ot),Ht=ka*$e-2*Pt/Da+In*(Pt+Pt/Ra),er=ka*rt-2*ft/Da+In*(ft+ft/Ra),nr=bn*ii*$e-2*ue/(1+An)+In*ii*ue+In*bn*(Pt-Pt/Ra),Pr=bn*ii*rt-2*Le/(1+An)+In*ii*Le+In*bn*(ft-ft/Ra),Cr=er*nr-Pr*Ht;if(!Cr)break;var Xr=(gi*er-Di*Pr)/Cr,rn=(Di*nr-gi*Ht)/Cr;ct-=Xr,mt=r(-o,s(o,mt-rn))}while((P(Xr)>c||P(rn)>c)&&--Ft>0);return P(P(mt)-o)<c?[0,mt]:Ft&&[ct,mt]};function lr(){return(0,g.Z)(Xt).scale(62.5271)}var sr=A(35*b);function dr(Xe,nt){var ct=m(nt/2);return[Xe*sr*z(1-ct*ct),(1+sr)*ct]}dr.invert=function(Xe,nt){var ct=nt/(1+sr);return[Xe&&Xe/(sr*z(1-ct*ct)),2*i(ct)]};function je(){return(0,g.Z)(dr).scale(137.152)}function Ye(Xe,nt){var ct=nt/2,mt=A(ct);return[2*Xe/E*A(nt)*mt*mt,E*m(ct)]}Ye.invert=function(Xe,nt){var ct=i(nt/E),mt=A(ct),Ft=2*ct;return[Xe*E/2/(A(Ft)*mt*mt),Ft]};function It(){return(0,g.Z)(Ye).scale(135.264)}function kt(Xe){var nt=1-Xe,ct=Lt(h,0)[0]-Lt(-h,0)[0],mt=Lt(0,o)[1]-Lt(0,-o)[1],Ft=z(2*mt/ct);function Lt(yr,ar){var Ar=A(ar),Rr=u(ar);return[Ar/(nt+Xe*Ar)*yr,nt*ar+Xe*Rr]}function Ot(yr,ar){var Ar=Lt(yr,ar);return[Ar[0]*Ft,Ar[1]/Ft]}function cr(yr){return Ot(0,yr)[1]}return Ot.invert=function(yr,ar){var Ar=Me(cr,ar),Rr=yr/Ft*(Xe+nt/A(Ar));return[Rr,Ar]},Ot}function Yt(){var Xe=.5,nt=(0,g.r)(kt),ct=nt(Xe);return ct.alpha=function(mt){return arguments.length?nt(Xe=+mt):Xe},ct.scale(168.725)}var tr=e(57962),or=e(97492);function rr(Xe){return[Xe[0]/2,C(m(Xe[1]/2*b))*S]}function _t(Xe){return[Xe[0]*2,2*i(u(Xe[1]*b))*S]}function hr(Xe){Xe==null&&(Xe=tr.Z);var nt=Xe(),ct=(0,or.Z)().scale(S).precision(0).clipAngle(null).translate([0,0]);function mt(Lt){return nt(rr(Lt))}nt.invert&&(mt.invert=function(Lt){return _t(nt.invert(Lt))}),mt.stream=function(Lt){var Ot=nt.stream(Lt),cr=ct.stream({point:function(yr,ar){Ot.point(yr/2,C(m(-ar/2*b))*S)},lineStart:function(){Ot.lineStart()},lineEnd:function(){Ot.lineEnd()},polygonStart:function(){Ot.polygonStart()},polygonEnd:function(){Ot.polygonEnd()}});return cr.sphere=Ot.sphere,cr};function Ft(Lt){mt[Lt]=function(){return arguments.length?(nt[Lt].apply(nt,arguments),mt):nt[Lt]()}}return mt.rotate=function(Lt){return arguments.length?(ct.rotate(Lt),mt):ct.rotate()},mt.center=function(Lt){return arguments.length?(nt.center(rr(Lt)),mt):_t(nt.center())},Ft("angle"),Ft("clipAngle"),Ft("clipExtent"),Ft("fitExtent"),Ft("fitHeight"),Ft("fitSize"),Ft("fitWidth"),Ft("scale"),Ft("translate"),Ft("precision"),mt.scale(249.5)}function gr(Xe,nt){var ct=2*h/nt,mt=Xe*Xe;function Ft(Lt,Ot){var cr=(0,se.N)(Lt,Ot),yr=cr[0],ar=cr[1],Ar=yr*yr+ar*ar;if(Ar>mt){var Rr=z(Ar),Yr=L(ar,yr),Jr=ct*l(Yr/ct),bn=Yr-Jr,An=Xe*A(bn),In=(Xe*u(bn)-bn*u(An))/(o-An),va=pr(bn,In),La=(h-Xe)/vr(va,An,h);yr=Rr;var Ra=50,Da;do yr-=Da=(Xe+vr(va,An,yr)*La-Rr)/(va(yr)*La);while(P(Da)>c&&--Ra>0);ar=bn*u(yr),yr<o&&(ar-=In*(yr-o));var ka=u(Jr),ii=A(Jr);cr[0]=yr*ii-ar*ka,cr[1]=yr*ka+ar*ii}return cr}return Ft.invert=function(Lt,Ot){var cr=Lt*Lt+Ot*Ot;if(cr>mt){var yr=z(cr),ar=L(Ot,Lt),Ar=ct*l(ar/ct),Rr=ar-Ar;Lt=yr*A(Rr),Ot=yr*u(Rr);for(var Yr=Lt-o,Jr=u(Lt),bn=Ot/Jr,An=Lt<o?1/0:0,In=10;;){var va=Xe*u(bn),La=Xe*A(bn),Ra=u(La),Da=o-La,ka=(va-bn*Ra)/Da,ii=pr(bn,ka);if(P(An)<w||!--In)break;bn-=An=(bn*Jr-ka*Yr-Ot)/(Jr-Yr*2*(Da*(La+bn*va*A(La)-Ra)-va*(va-bn*Ra))/(Da*Da))}yr=Xe+vr(ii,La,Lt)*(h-Xe)/vr(ii,La,h),ar=Ar+bn,Lt=yr*A(ar),Ot=yr*u(ar)}return se.N.invert(Lt,Ot)},Ft}function pr(Xe,nt){return function(ct){var mt=Xe*A(ct);return ct<o&&(mt-=nt),z(1+mt*mt)}}function vr(Xe,nt,ct){for(var mt=50,Ft=(ct-nt)/mt,Lt=Xe(nt)+Xe(ct),Ot=1,cr=nt;Ot<mt;++Ot)Lt+=2*Xe(cr+=Ft);return Lt*.5*Ft}function Hr(){var Xe=6,nt=30*b,ct=A(nt),mt=u(nt),Ft=(0,g.r)(gr),Lt=Ft(nt,Xe),Ot=Lt.stream,cr=.01,yr=-A(cr*b),ar=u(cr*b);return Lt.radius=function(Ar){return arguments.length?(ct=A(nt=Ar*b),mt=u(nt),Ft(nt,Xe)):nt*S},Lt.lobes=function(Ar){return arguments.length?Ft(nt,Xe=+Ar):Xe},Lt.stream=function(Ar){var Rr=Lt.rotate(),Yr=Ot(Ar),Jr=(Lt.rotate([0,0]),Ot(Ar));return Lt.rotate(Rr),Yr.sphere=function(){Jr.polygonStart(),Jr.lineStart();for(var bn=0,An=2*h/Xe,In=0;bn<Xe;++bn,In-=An)Jr.point(L(ar*A(In),yr)*S,C(ar*u(In))*S),Jr.point(L(mt*A(In-An/2),ct)*S,C(mt*u(In-An/2))*S);Jr.lineEnd(),Jr.polygonEnd()},Yr},Lt.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function kr(Xe,nt,ct,mt,Ft,Lt,Ot,cr){arguments.length<8&&(cr=0);function yr(ar,Ar){if(!Ar)return[Xe*ar/h,0];var Rr=Ar*Ar,Yr=Xe+Rr*(nt+Rr*(ct+Rr*mt)),Jr=Ar*(Ft-1+Rr*(Lt-cr+Rr*Ot)),bn=(Yr*Yr+Jr*Jr)/(2*Jr),An=ar*C(Yr/bn)/h;return[bn*u(An),Ar*(1+Rr*cr)+bn*(1-A(An))]}return yr.invert=function(ar,Ar){var Rr=h*ar/Xe,Yr=Ar,Jr,bn,An=50;do{var In=Yr*Yr,va=Xe+In*(nt+In*(ct+In*mt)),La=Yr*(Ft-1+In*(Lt-cr+In*Ot)),Ra=va*va+La*La,Da=2*La,ka=Ra/Da,ii=ka*ka,Di=C(va/ka)/h,gi=Rr*Di,ue=va*va,Le=(2*nt+In*(4*ct+In*6*mt))*Yr,Ue=Ft+In*(3*Lt+In*5*Ot),$e=2*(va*Le+La*(Ue-1)),rt=2*(Ue-1),ot=($e*Da-Ra*rt)/(Da*Da),Pt=A(gi),ft=u(gi),Ht=ka*Pt,er=ka*ft,nr=Rr/h*(1/z(1-ue/ii))*(Le*ka-va*ot)/ii,Pr=er-ar,Cr=Yr*(1+In*cr)+ka-Ht-Ar,Xr=ot*ft+Ht*nr,rn=Ht*Di,Ir=1+ot-(ot*Pt-er*nr),Nr=er*Di,jr=Xr*Nr-Ir*rn;if(!jr)break;Rr-=Jr=(Cr*Xr-Pr*Ir)/jr,Yr-=bn=(Pr*Nr-Cr*rn)/jr}while((P(Jr)>c||P(bn)>c)&&--An>0);return[Rr,Yr]},yr}var Fr=kr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function pn(){return(0,g.Z)(Fr).scale(149.995)}var qr=kr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function On(){return(0,g.Z)(qr).scale(153.93)}var Tn=kr(5/6*h,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Sr(){return(0,g.Z)(Tn).scale(130.945)}function Er(Xe,nt){var ct=Xe*Xe,mt=nt*nt;return[Xe*(1-.162388*mt)*(.87-952426e-9*ct*ct),nt*(1+mt/12)]}Er.invert=function(Xe,nt){var ct=Xe,mt=nt,Ft=50,Lt;do{var Ot=mt*mt;mt-=Lt=(mt*(1+Ot/12)-nt)/(1+Ot/4)}while(P(Lt)>c&&--Ft>0);Ft=50,Xe/=1-.162388*Ot;do{var cr=(cr=ct*ct)*cr;ct-=Lt=(ct*(.87-952426e-9*cr)-Xe)/(.87-.00476213*cr)}while(P(Lt)>c&&--Ft>0);return[ct,mt]};function Gr(){return(0,g.Z)(Er).scale(131.747)}var Br=kr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function nn(){return(0,g.Z)(Br).scale(131.087)}function gn(Xe){var nt=Xe(o,0)[0]-Xe(-o,0)[0];function ct(mt,Ft){var Lt=mt>0?-.5:.5,Ot=Xe(mt+Lt*h,Ft);return Ot[0]-=Lt*nt,Ot}return Xe.invert&&(ct.invert=function(mt,Ft){var Lt=mt>0?-.5:.5,Ot=Xe.invert(mt+Lt*nt,Ft),cr=Ot[0]-Lt*h;return cr<-h?cr+=2*h:cr>h&&(cr-=2*h),Ot[0]=cr,Ot}),ct}function mn(Xe,nt){var ct=f(Xe),mt=f(nt),Ft=A(nt),Lt=A(Xe)*Ft,Ot=u(Xe)*Ft,cr=u(mt*nt);Xe=P(L(Ot,cr)),nt=C(Lt),P(Xe-o)>c&&(Xe%=o);var yr=Pn(Xe>h/4?o-Xe:Xe,nt);return Xe>h/4&&(cr=yr[0],yr[0]=-yr[1],yr[1]=-cr),yr[0]*=ct,yr[1]*=-mt,yr}mn.invert=function(Xe,nt){P(Xe)>1&&(Xe=f(Xe)*2-Xe),P(nt)>1&&(nt=f(nt)*2-nt);var ct=f(Xe),mt=f(nt),Ft=-ct*Xe,Lt=-mt*nt,Ot=Lt/Ft<1,cr=Fn(Ot?Lt:Ft,Ot?Ft:Lt),yr=cr[0],ar=cr[1],Ar=A(ar);return Ot&&(yr=-o-yr),[ct*(L(u(yr)*Ar,-u(ar))+h),mt*C(A(yr)*Ar)]};function Pn(Xe,nt){if(nt===o)return[0,0];var ct=u(nt),mt=ct*ct,Ft=mt*mt,Lt=1+Ft,Ot=1+3*Ft,cr=1-Ft,yr=C(1/z(Lt)),ar=cr+mt*Lt*yr,Ar=(1-ct)/ar,Rr=z(Ar),Yr=Ar*Lt,Jr=z(Yr),bn=Rr*cr,An,In;if(Xe===0)return[0,-(bn+mt*Jr)];var va=A(nt),La=1/va,Ra=2*ct*va,Da=(-3*mt+yr*Ot)*Ra,ka=(-ar*va-(1-ct)*Da)/(ar*ar),ii=.5*ka/Rr,Di=cr*ii-2*mt*Rr*Ra,gi=mt*Lt*ka+Ar*Ot*Ra,ue=-La*Ra,Le=-La*gi,Ue=-2*La*Di,$e=4*Xe/h,rt;if(Xe>.222*h||nt<h/4&&Xe>.175*h){if(An=(bn+mt*z(Yr*(1+Ft)-bn*bn))/(1+Ft),Xe>h/4)return[An,An];var ot=An,Pt=.5*An;An=.5*(Pt+ot),In=50;do{var ft=z(Yr-An*An),Ht=An*(Ue+ue*ft)+Le*C(An/Jr)-$e;if(!Ht)break;Ht<0?Pt=An:ot=An,An=.5*(Pt+ot)}while(P(ot-Pt)>c&&--In>0)}else{An=c,In=25;do{var er=An*An,nr=z(Yr-er),Pr=Ue+ue*nr,Cr=An*Pr+Le*C(An/Jr)-$e,Xr=Pr+(Le-ue*er)/nr;An-=rt=nr?Cr/Xr:0}while(P(rt)>c&&--In>0)}return[An,-bn-mt*z(Yr-An*An)]}function Fn(Xe,nt){for(var ct=0,mt=1,Ft=.5,Lt=50;;){var Ot=Ft*Ft,cr=z(Ft),yr=C(1/z(1+Ot)),ar=1-Ot+Ft*(1+Ot)*yr,Ar=(1-cr)/ar,Rr=z(Ar),Yr=Ar*(1+Ot),Jr=Rr*(1-Ot),bn=Yr-Xe*Xe,An=z(bn),In=nt+Jr+Ft*An;if(P(mt-ct)<w||--Lt===0||In===0)break;In>0?ct=Ft:mt=Ft,Ft=.5*(ct+mt)}if(!Lt)return null;var va=C(cr),La=A(va),Ra=1/La,Da=2*cr*La,ka=(-3*Ft+yr*(1+3*Ot))*Da,ii=(-ar*La-(1-cr)*ka)/(ar*ar),Di=.5*ii/Rr,gi=(1-Ot)*Di-2*Ft*Rr*Da,ue=-2*Ra*gi,Le=-Ra*Da,Ue=-Ra*(Ft*(1+Ot)*ii+Ar*(1+3*Ot)*Da);return[h/4*(Xe*(ue+Le*An)+Ue*C(Xe/z(Yr))),va]}function ia(){return(0,g.Z)(gn(mn)).scale(239.75)}function jn(Xe,nt,ct){var mt,Ft,Lt;return Xe?(mt=$n(Xe,ct),nt?(Ft=$n(nt,1-ct),Lt=Ft[1]*Ft[1]+ct*mt[0]*mt[0]*Ft[0]*Ft[0],[[mt[0]*Ft[2]/Lt,mt[1]*mt[2]*Ft[0]*Ft[1]/Lt],[mt[1]*Ft[1]/Lt,-mt[0]*mt[2]*Ft[0]*Ft[2]/Lt],[mt[2]*Ft[1]*Ft[2]/Lt,-ct*mt[0]*mt[1]*Ft[0]/Lt]]):[[mt[0],0],[mt[1],0],[mt[2],0]]):(Ft=$n(nt,1-ct),[[0,Ft[0]/Ft[1]],[1/Ft[1],0],[Ft[2]/Ft[1],0]])}function $n(Xe,nt){var ct,mt,Ft,Lt,Ot;if(nt<c)return Lt=u(Xe),mt=A(Xe),ct=nt*(Xe-Lt*mt)/4,[Lt-ct*mt,mt+ct*Lt,1-nt*Lt*Lt/2,Xe-ct];if(nt>=1-c)return ct=(1-nt)/4,mt=F(Xe),Lt=I(Xe),Ft=1/mt,Ot=mt*B(Xe),[Lt+ct*(Ot-Xe)/(mt*mt),Ft-ct*Lt*Ft*(Ot-Xe),Ft+ct*Lt*Ft*(Ot+Xe),2*i(v(Xe))-o+ct*(Ot-Xe)/mt];var cr=[1,0,0,0,0,0,0,0,0],yr=[z(nt),0,0,0,0,0,0,0,0],ar=0;for(mt=z(1-nt),Ot=1;P(yr[ar]/cr[ar])>c&&ar<8;)ct=cr[ar++],yr[ar]=(ct-mt)/2,cr[ar]=(ct+mt)/2,mt=z(ct*mt),Ot*=2;Ft=Ot*cr[ar]*Xe;do Lt=yr[ar]*u(mt=Ft)/cr[ar],Ft=(C(Lt)+Ft)/2;while(--ar);return[u(Ft),Lt=A(Ft),Lt/A(Ft-mt),Ft]}function Wn(Xe,nt,ct){var mt=P(Xe),Ft=P(nt),Lt=B(Ft);if(mt){var Ot=1/u(mt),cr=1/(m(mt)*m(mt)),yr=-(cr+ct*(Lt*Lt*Ot*Ot)-1+ct),ar=(ct-1)*cr,Ar=(-yr+z(yr*yr-4*ar))/2;return[Qn(i(1/z(Ar)),ct)*f(Xe),Qn(i(z((Ar/cr-1)/ct)),1-ct)*f(nt)]}return[0,Qn(i(Lt),1-ct)*f(nt)]}function Qn(Xe,nt){if(!nt)return Xe;if(nt===1)return t(m(Xe/2+d));for(var ct=1,mt=z(1-nt),Ft=z(nt),Lt=0;P(Ft)>c;Lt++){if(Xe%h){var Ot=i(mt*m(Xe)/ct);Ot<0&&(Ot+=h),Xe+=Ot+~~(Xe/h)*h}else Xe+=Xe;Ft=(ct+mt)/2,mt=z(ct*mt),Ft=((ct=Ft)-mt)/2}return Xe/(n(2,Lt)*ct)}function Tr(Xe,nt){var ct=(T-1)/(T+1),mt=z(1-ct*ct),Ft=Qn(o,mt*mt),Lt=-1,Ot=t(m(h/4+P(nt)/2)),cr=v(Lt*Ot)/z(ct),yr=sn(cr*A(Lt*Xe),cr*u(Lt*Xe)),ar=Wn(yr[0],yr[1],mt*mt);return[-ar[1],(nt>=0?1:-1)*(.5*Ft-ar[0])]}function sn(Xe,nt){var ct=Xe*Xe,mt=nt+1,Ft=1-ct-nt*nt;return[.5*((Xe>=0?o:-o)-L(Ft,2*Xe)),-.25*t(Ft*Ft+4*ct)+.5*t(mt*mt+ct)]}function tn(Xe,nt){var ct=nt[0]*nt[0]+nt[1]*nt[1];return[(Xe[0]*nt[0]+Xe[1]*nt[1])/ct,(Xe[1]*nt[0]-Xe[0]*nt[1])/ct]}Tr.invert=function(Xe,nt){var ct=(T-1)/(T+1),mt=z(1-ct*ct),Ft=Qn(o,mt*mt),Lt=-1,Ot=jn(.5*Ft-nt,-Xe,mt*mt),cr=tn(Ot[0],Ot[1]),yr=L(cr[1],cr[0])/Lt;return[yr,2*i(v(.5/Lt*t(ct*cr[0]*cr[0]+ct*cr[1]*cr[1])))-o]};function yn(){return(0,g.Z)(gn(Tr)).scale(151.496)}var Hn=e(7613);function Sn(Xe){var nt=u(Xe),ct=A(Xe),mt=En(Xe);mt.invert=En(-Xe);function Ft(Lt,Ot){var cr=mt(Lt,Ot);Lt=cr[0],Ot=cr[1];var yr=u(Ot),ar=A(Ot),Ar=A(Lt),Rr=y(nt*yr+ct*ar*Ar),Yr=u(Rr),Jr=P(Yr)>c?Rr/Yr:1;return[Jr*ct*u(Lt),(P(Lt)>o?Jr:-Jr)*(nt*ar-ct*yr*Ar)]}return Ft.invert=function(Lt,Ot){var cr=z(Lt*Lt+Ot*Ot),yr=-u(cr),ar=A(cr),Ar=cr*ar,Rr=-Ot*yr,Yr=cr*nt,Jr=z(Ar*Ar+Rr*Rr-Yr*Yr),bn=L(Ar*Yr+Rr*Jr,Rr*Yr-Ar*Jr),An=(cr>o?-1:1)*L(Lt*yr,cr*A(bn)*ar+Ot*u(bn)*yr);return mt.invert(An,bn)},Ft}function En(Xe){var nt=u(Xe),ct=A(Xe);return function(mt,Ft){var Lt=A(Ft),Ot=A(mt)*Lt,cr=u(mt)*Lt,yr=u(Ft);return[L(cr,Ot*ct-yr*nt),C(yr*ct+Ot*nt)]}}function Nn(){var Xe=0,nt=(0,g.r)(Sn),ct=nt(Xe),mt=ct.rotate,Ft=ct.stream,Lt=(0,Hn.Z)();return ct.parallel=function(Ot){if(!arguments.length)return Xe*S;var cr=ct.rotate();return nt(Xe=Ot*b).rotate(cr)},ct.rotate=function(Ot){return arguments.length?(mt.call(ct,[Ot[0],Ot[1]-Xe*S]),Lt.center([-Ot[0],-Ot[1]]),ct):(Ot=mt.call(ct),Ot[1]+=Xe*S,Ot)},ct.stream=function(Ot){return Ot=Ft(Ot),Ot.sphere=function(){Ot.polygonStart();var cr=.01,yr=Lt.radius(90-cr)().coordinates[0],ar=yr.length-1,Ar=-1,Rr;for(Ot.lineStart();++Ar<ar;)Ot.point((Rr=yr[Ar])[0],Rr[1]);for(Ot.lineEnd(),yr=Lt.radius(90+cr)().coordinates[0],ar=yr.length-1,Ot.lineStart();--Ar>=0;)Ot.point((Rr=yr[Ar])[0],Rr[1]);Ot.lineEnd(),Ot.polygonEnd()},Ot},ct.scale(79.4187).parallel(45).clipAngle(179.999)}var ea=e(33064),xa=e(72736),Wa=3,jt=C(1-1/Wa)*S,wr=At(0);function en(Xe){var nt=jt*b,ct=Ne(h,nt)[0]-Ne(-h,nt)[0],mt=wr(0,nt)[1],Ft=Ne(0,nt)[1],Lt=E-Ft,Ot=x/Xe,cr=4/x,yr=mt+Lt*Lt*4/x;function ar(Ar,Rr){var Yr,Jr=P(Rr);if(Jr>nt){var bn=s(Xe-1,r(0,p((Ar+h)/Ot)));Ar+=h*(Xe-1)/Xe-bn*Ot,Yr=Ne(Ar,Jr),Yr[0]=Yr[0]*x/ct-x*(Xe-1)/(2*Xe)+bn*x/Xe,Yr[1]=mt+(Yr[1]-Ft)*4*Lt/x,Rr<0&&(Yr[1]=-Yr[1])}else Yr=wr(Ar,Rr);return Yr[0]*=cr,Yr[1]/=yr,Yr}return ar.invert=function(Ar,Rr){Ar/=cr,Rr*=yr;var Yr=P(Rr);if(Yr>mt){var Jr=s(Xe-1,r(0,p((Ar+h)/Ot)));Ar=(Ar+h*(Xe-1)/Xe-Jr*Ot)*ct/x;var bn=Ne.invert(Ar,.25*(Yr-mt)*x/Lt+Ft);return bn[0]-=h*(Xe-1)/Xe-Jr*Ot,Rr<0&&(bn[1]=-bn[1]),bn}return wr.invert(Ar,Rr)},ar}function un(Xe,nt){return[Xe,nt&1?90-c:jt]}function cn(Xe,nt){return[Xe,nt&1?-90+c:-jt]}function Dn(Xe){return[Xe[0]*(1-c),Xe[1]]}function Mn(Xe){var nt=[].concat((0,ea.w6)(-180,180+Xe/2,Xe).map(un),(0,ea.w6)(180,-180-Xe/2,-Xe).map(cn));return{type:"Polygon",coordinates:[Xe===180?nt.map(Dn):nt]}}function vn(){var Xe=4,nt=(0,g.r)(en),ct=nt(Xe),mt=ct.stream;return ct.lobes=function(Ft){return arguments.length?nt(Xe=+Ft):Xe},ct.stream=function(Ft){var Lt=ct.rotate(),Ot=mt(Ft),cr=(ct.rotate([0,0]),mt(Ft));return ct.rotate(Lt),Ot.sphere=function(){(0,xa.Z)(Mn(180/Xe),cr)},Ot},ct.scale(239.75)}function Dr(Xe){var nt=1+Xe,ct=u(1/nt),mt=C(ct),Ft=2*z(h/(Lt=h+4*mt*nt)),Lt,Ot=.5*Ft*(nt+z(Xe*(2+Xe))),cr=Xe*Xe,yr=nt*nt;function ar(Ar,Rr){var Yr=1-u(Rr),Jr,bn;if(Yr&&Yr<2){var An=o-Rr,In=25,va;do{var La=u(An),Ra=A(An),Da=mt+L(La,nt-Ra),ka=1+yr-2*nt*Ra;An-=va=(An-cr*mt-nt*La+ka*Da-.5*Yr*Lt)/(2*nt*La*Da)}while(P(va)>w&&--In>0);Jr=Ft*z(ka),bn=Ar*Da/h}else Jr=Ft*(Xe+Yr),bn=Ar*mt/h;return[Jr*u(bn),Ot-Jr*A(bn)]}return ar.invert=function(Ar,Rr){var Yr=Ar*Ar+(Rr-=Ot)*Rr,Jr=(1+yr-Yr/(Ft*Ft))/(2*nt),bn=y(Jr),An=u(bn),In=mt+L(An,nt-Jr);return[C(Ar/z(Yr))*h/In,C(1-2*(bn-cr*mt-nt*An+(1+yr-2*nt*Jr)*In)/Lt)]},ar}function Lr(){var Xe=1,nt=(0,g.r)(Dr),ct=nt(Xe);return ct.ratio=function(mt){return arguments.length?nt(Xe=+mt):Xe},ct.scale(167.774).center([0,18.67])}var zr=.7109889596207567,dn=.0528035274542;function _n(Xe,nt){return nt>-zr?(Xe=Se(Xe,nt),Xe[1]+=dn,Xe):tt(Xe,nt)}_n.invert=function(Xe,nt){return nt>-zr?Se.invert(Xe,nt-dn):tt.invert(Xe,nt)};function Zn(){return(0,g.Z)(_n).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function xn(Xe,nt){return P(nt)>zr?(Xe=Se(Xe,nt),Xe[1]-=nt>0?dn:-dn,Xe):tt(Xe,nt)}xn.invert=function(Xe,nt){return P(nt)>zr?Se.invert(Xe,nt+(nt>0?dn:-dn)):tt.invert(Xe,nt)};function Bn(){return(0,g.Z)(xn).scale(152.63)}function na(Xe,nt,ct,mt){var Ft=z(4*h/(2*ct+(1+Xe-nt/2)*u(2*ct)+(Xe+nt)/2*u(4*ct)+nt/2*u(6*ct))),Lt=z(mt*u(ct)*z((1+Xe*A(2*ct)+nt*A(4*ct))/(1+Xe+nt))),Ot=ct*yr(1);function cr(Rr){return z(1+Xe*A(2*Rr)+nt*A(4*Rr))}function yr(Rr){var Yr=Rr*ct;return(2*Yr+(1+Xe-nt/2)*u(2*Yr)+(Xe+nt)/2*u(4*Yr)+nt/2*u(6*Yr))/ct}function ar(Rr){return cr(Rr)*u(Rr)}var Ar=function(Rr,Yr){var Jr=ct*Me(yr,Ot*u(Yr)/ct,Yr/h);isNaN(Jr)&&(Jr=ct*f(Yr));var bn=Ft*cr(Jr);return[bn*Lt*Rr/h*A(Jr),bn/Lt*u(Jr)]};return Ar.invert=function(Rr,Yr){var Jr=Me(ar,Yr*Lt/Ft);return[Rr*h/(A(Jr)*Ft*Lt*cr(Jr)),C(ct*yr(Jr/ct)/Ot)]},ct===0&&(Ft=z(mt/h),Ar=function(Rr,Yr){return[Rr*Ft,u(Yr)/Ft]},Ar.invert=function(Rr,Yr){return[Rr/Ft,C(Yr*Ft)]}),Ar}function ua(){var Xe=1,nt=0,ct=45*b,mt=2,Ft=(0,g.r)(na),Lt=Ft(Xe,nt,ct,mt);return Lt.a=function(Ot){return arguments.length?Ft(Xe=+Ot,nt,ct,mt):Xe},Lt.b=function(Ot){return arguments.length?Ft(Xe,nt=+Ot,ct,mt):nt},Lt.psiMax=function(Ot){return arguments.length?Ft(Xe,nt,ct=+Ot*b,mt):ct*S},Lt.ratio=function(Ot){return arguments.length?Ft(Xe,nt,ct,mt=+Ot):mt},Lt.scale(180.739)}function sa(Xe,nt,ct,mt,Ft,Lt,Ot,cr,yr,ar,Ar){if(Ar.nanEncountered)return NaN;var Rr,Yr,Jr,bn,An,In,va,La,Ra,Da;if(Rr=ct-nt,Yr=Xe(nt+Rr*.25),Jr=Xe(ct-Rr*.25),isNaN(Yr)){Ar.nanEncountered=!0;return}if(isNaN(Jr)){Ar.nanEncountered=!0;return}return bn=Rr*(mt+4*Yr+Ft)/12,An=Rr*(Ft+4*Jr+Lt)/12,In=bn+An,Da=(In-Ot)/15,ar>yr?(Ar.maxDepthCount++,In+Da):Math.abs(Da)<cr?In+Da:(va=nt+Rr*.5,La=sa(Xe,nt,va,mt,Yr,Ft,bn,cr*.5,yr,ar+1,Ar),isNaN(La)?(Ar.nanEncountered=!0,NaN):(Ra=sa(Xe,va,ct,Ft,Jr,Lt,An,cr*.5,yr,ar+1,Ar),isNaN(Ra)?(Ar.nanEncountered=!0,NaN):La+Ra))}function la(Xe,nt,ct,mt,Ft){var Lt={maxDepthCount:0,nanEncountered:!1};mt===void 0&&(mt=1e-8),Ft===void 0&&(Ft=20);var Ot=Xe(nt),cr=Xe(.5*(nt+ct)),yr=Xe(ct),ar=(Ot+4*cr+yr)*(ct-nt)/6,Ar=sa(Xe,nt,ct,Ot,cr,yr,ar,mt,Ft,1,Lt);return Ar}function pa(Xe,nt,ct){function mt(Jr){return Xe+(1-Xe)*n(1-n(Jr,nt),1/nt)}function Ft(Jr){return la(mt,0,Jr,1e-4)}for(var Lt=1/Ft(1),Ot=1e3,cr=(1+1e-8)*Lt,yr=[],ar=0;ar<=Ot;ar++)yr.push(Ft(ar/Ot)*cr);function Ar(Jr){var bn=0,An=Ot,In=Ot>>1;do yr[In]>Jr?An=In:bn=In,In=bn+An>>1;while(In>bn);var va=yr[In+1]-yr[In];return va&&(va=(Jr-yr[In+1])/va),(In+1+va)/Ot}var Rr=2*Ar(1)/h*Lt/ct,Yr=function(Jr,bn){var An=Ar(P(u(bn))),In=mt(An)*Jr;return An/=Rr,[In,bn>=0?An:-An]};return Yr.invert=function(Jr,bn){var An;return bn*=Rr,P(bn)<1&&(An=f(bn)*C(Ft(P(bn))*Lt)),[Jr/mt(P(bn)),An]},Yr}function Ki(){var Xe=0,nt=2.5,ct=1.183136,mt=(0,g.r)(pa),Ft=mt(Xe,nt,ct);return Ft.alpha=function(Lt){return arguments.length?mt(Xe=+Lt,nt,ct):Xe},Ft.k=function(Lt){return arguments.length?mt(Xe,nt=+Lt,ct):nt},Ft.gamma=function(Lt){return arguments.length?mt(Xe,nt,ct=+Lt):ct},Ft.scale(152.63)}function co(Xe,nt){return P(Xe[0]-nt[0])<c&&P(Xe[1]-nt[1])<c}function yo(Xe,nt){for(var ct=-1,mt=Xe.length,Ft=Xe[0],Lt,Ot,cr,yr=[];++ct<mt;){Lt=Xe[ct],Ot=(Lt[0]-Ft[0])/nt,cr=(Lt[1]-Ft[1])/nt;for(var ar=0;ar<nt;++ar)yr.push([Ft[0]+ar*Ot,Ft[1]+ar*cr]);Ft=Lt}return yr.push(Lt),yr}function Mo(Xe){var nt=[],ct,mt,Ft,Lt,Ot,cr,yr,ar=Xe[0].length;for(yr=0;yr<ar;++yr)ct=Xe[0][yr],mt=ct[0][0],Ft=ct[0][1],Lt=ct[1][1],Ot=ct[2][0],cr=ct[2][1],nt.push(yo([[mt+c,Ft+c],[mt+c,Lt-c],[Ot-c,Lt-c],[Ot-c,cr+c]],30));for(yr=Xe[1].length-1;yr>=0;--yr)ct=Xe[1][yr],mt=ct[0][0],Ft=ct[0][1],Lt=ct[1][1],Ot=ct[2][0],cr=ct[2][1],nt.push(yo([[Ot-c,cr-c],[Ot-c,Lt+c],[mt+c,Lt+c],[mt+c,Ft-c]],30));return{type:"Polygon",coordinates:[(0,ea.TS)(nt)]}}function mo(Xe,nt,ct){var mt,Ft;function Lt(yr,ar){for(var Ar=ar<0?-1:1,Rr=nt[+(ar<0)],Yr=0,Jr=Rr.length-1;Yr<Jr&&yr>Rr[Yr][2][0];++Yr);var bn=Xe(yr-Rr[Yr][1][0],ar);return bn[0]+=Xe(Rr[Yr][1][0],Ar*ar>Ar*Rr[Yr][0][1]?Rr[Yr][0][1]:ar)[0],bn}ct?Lt.invert=ct(Lt):Xe.invert&&(Lt.invert=function(yr,ar){for(var Ar=Ft[+(ar<0)],Rr=nt[+(ar<0)],Yr=0,Jr=Ar.length;Yr<Jr;++Yr){var bn=Ar[Yr];if(bn[0][0]<=yr&&yr<bn[1][0]&&bn[0][1]<=ar&&ar<bn[1][1]){var An=Xe.invert(yr-Xe(Rr[Yr][1][0],0)[0],ar);return An[0]+=Rr[Yr][1][0],co(Lt(An[0],An[1]),[yr,ar])?An:null}}});var Ot=(0,g.Z)(Lt),cr=Ot.stream;return Ot.stream=function(yr){var ar=Ot.rotate(),Ar=cr(yr),Rr=(Ot.rotate([0,0]),cr(yr));return Ot.rotate(ar),Ar.sphere=function(){(0,xa.Z)(mt,Rr)},Ar},Ot.lobes=function(yr){return arguments.length?(mt=Mo(yr),nt=yr.map(function(ar){return ar.map(function(Ar){return[[Ar[0][0]*b,Ar[0][1]*b],[Ar[1][0]*b,Ar[1][1]*b],[Ar[2][0]*b,Ar[2][1]*b]]})}),Ft=nt.map(function(ar){return ar.map(function(Ar){var Rr=Xe(Ar[0][0],Ar[0][1])[0],Yr=Xe(Ar[2][0],Ar[2][1])[0],Jr=Xe(Ar[1][0],Ar[0][1])[1],bn=Xe(Ar[1][0],Ar[1][1])[1],An;return Jr>bn&&(An=Jr,Jr=bn,bn=An),[[Rr,Jr],[Yr,bn]]})}),Ot):nt.map(function(ar){return ar.map(function(Ar){return[[Ar[0][0]*S,Ar[0][1]*S],[Ar[1][0]*S,Ar[1][1]*S],[Ar[2][0]*S,Ar[2][1]*S]]})})},nt!=null&&Ot.lobes(nt),Ot}var sf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ei(){return mo(We,sf).scale(160.857)}var eu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Pl(){return mo(xn,eu).scale(152.63)}var Ji=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function So(){return mo(Se,Ji).scale(169.529)}var $f=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function tu(){return mo(Se,$f).scale(169.529).rotate([20,0])}var Ri=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function ru(){return mo(_n,Ri,we).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Io=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Wi(){return mo(tt,Io).scale(152.63).rotate([-20,0])}function ko(Xe,nt){return[3/x*Xe*z(h*h/3-nt*nt),nt]}ko.invert=function(Xe,nt){return[x/3*Xe/z(h*h/3-nt*nt),nt]};function ho(){return(0,g.Z)(ko).scale(158.837)}function Bo(Xe){function nt(ct,mt){if(P(P(mt)-o)<c)return[0,mt<0?-2:2];var Ft=u(mt),Lt=n((1+Ft)/(1-Ft),Xe/2),Ot=.5*(Lt+1/Lt)+A(ct*=Xe);return[2*u(ct)/Ot,(Lt-1/Lt)/Ot]}return nt.invert=function(ct,mt){var Ft=P(mt);if(P(Ft-2)<c)return ct?null:[0,f(mt)*o];if(Ft>2)return null;ct/=2,mt/=2;var Lt=ct*ct,Ot=mt*mt,cr=2*mt/(1+Lt+Ot);return cr=n((1+cr)/(1-cr),1/Xe),[L(2*ct,1-Lt-Ot)/Xe,C((cr-1)/(cr+1))]},nt}function ls(){var Xe=.5,nt=(0,g.r)(Bo),ct=nt(Xe);return ct.spacing=function(mt){return arguments.length?nt(Xe=+mt):Xe},ct.scale(124.75)}var Ss=h/T;function eo(Xe,nt){return[Xe*(1+z(A(nt)))/2,nt/(A(nt/2)*A(Xe/6))]}eo.invert=function(Xe,nt){var ct=P(Xe),mt=P(nt),Ft=c,Lt=o;mt<Ss?Lt*=mt/Ss:Ft+=6*y(Ss/mt);for(var Ot=0;Ot<25;Ot++){var cr=u(Lt),yr=z(A(Lt)),ar=u(Lt/2),Ar=A(Lt/2),Rr=u(Ft/6),Yr=A(Ft/6),Jr=.5*Ft*(1+yr)-ct,bn=Lt/(Ar*Yr)-mt,An=yr?-.25*Ft*cr/yr:0,In=.5*(1+yr),va=(1+.5*Lt*ar/Ar)/(Ar*Yr),La=Lt/Ar*(Rr/6)/(Yr*Yr),Ra=An*La-va*In,Da=(Jr*La-bn*In)/Ra,ka=(bn*An-Jr*va)/Ra;if(Lt-=Da,Ft-=ka,P(Da)<c&&P(ka)<c)break}return[Xe<0?-Ft:Ft,nt<0?-Lt:Lt]};function qf(){return(0,g.Z)(eo).scale(97.2672)}function us(Xe,nt){var ct=Xe*Xe,mt=nt*nt;return[Xe*(.975534+mt*(-.119161+ct*-.0143059+mt*-.0547009)),nt*(1.00384+ct*(.0802894+mt*-.02855+ct*199025e-9)+mt*(.0998909+mt*-.0491032))]}us.invert=function(Xe,nt){var ct=f(Xe)*h,mt=nt/2,Ft=50;do{var Lt=ct*ct,Ot=mt*mt,cr=ct*mt,yr=ct*(.975534+Ot*(-.119161+Lt*-.0143059+Ot*-.0547009))-Xe,ar=mt*(1.00384+Lt*(.0802894+Ot*-.02855+Lt*199025e-9)+Ot*(.0998909+Ot*-.0491032))-nt,Ar=.975534-Ot*(.119161+3*Lt*.0143059+Ot*.0547009),Rr=-cr*(2*.119161+4*.0547009*Ot+2*.0143059*Lt),Yr=cr*(2*.0802894+4*199025e-9*Lt+2*-.02855*Ot),Jr=1.00384+Lt*(.0802894+199025e-9*Lt)+Ot*(3*(.0998909-.02855*Lt)-5*.0491032*Ot),bn=Rr*Yr-Jr*Ar,An=(ar*Rr-yr*Jr)/bn,In=(yr*Yr-ar*Ar)/bn;ct-=An,mt-=In}while((P(An)>c||P(In)>c)&&--Ft>0);return Ft&&[ct,mt]};function to(){return(0,g.Z)(us).scale(139.98)}function lf(Xe,nt){return[u(Xe)/A(nt),m(nt)*A(Xe)]}lf.invert=function(Xe,nt){var ct=Xe*Xe,mt=nt*nt,Ft=mt+1,Lt=ct+Ft,Ot=Xe?M*z((Lt-z(Lt*Lt-4*ct))/ct):1/z(Ft);return[C(Xe*Ot),f(nt)*y(Ot)]};function Es(){return(0,g.Z)(lf).scale(144.049).clipAngle(89.999)}function fs(Xe){var nt=A(Xe),ct=m(d+Xe/2);function mt(Ft,Lt){var Ot=Lt-Xe,cr=P(Ot)<c?Ft*nt:P(cr=d+Lt/2)<c||P(P(cr)-o)<c?0:Ft*Ot/t(m(cr)/ct);return[cr,Ot]}return mt.invert=function(Ft,Lt){var Ot,cr=Lt+Xe;return[P(Lt)<c?Ft/nt:P(Ot=d+cr/2)<c||P(P(Ot)-o)<c?0:Ft*t(m(Ot)/ct)/Lt,cr]},mt}function uf(){return et(fs).parallel(40).scale(158.837)}function ff(Xe,nt){return[Xe,1.25*t(m(d+.4*nt))]}ff.invert=function(Xe,nt){return[Xe,2.5*i(v(.8*nt))-.625*h]};function qc(){return(0,g.Z)(ff).scale(108.318)}function nu(Xe){var nt=Xe.length-1;function ct(mt,Ft){for(var Lt=A(Ft),Ot=2/(1+Lt*A(mt)),cr=Ot*Lt*u(mt),yr=Ot*u(Ft),ar=nt,Ar=Xe[ar],Rr=Ar[0],Yr=Ar[1],Jr;--ar>=0;)Ar=Xe[ar],Rr=Ar[0]+cr*(Jr=Rr)-yr*Yr,Yr=Ar[1]+cr*Yr+yr*Jr;return Rr=cr*(Jr=Rr)-yr*Yr,Yr=cr*Yr+yr*Jr,[Rr,Yr]}return ct.invert=function(mt,Ft){var Lt=20,Ot=mt,cr=Ft;do{for(var yr=nt,ar=Xe[yr],Ar=ar[0],Rr=ar[1],Yr=0,Jr=0,bn;--yr>=0;)ar=Xe[yr],Yr=Ar+Ot*(bn=Yr)-cr*Jr,Jr=Rr+Ot*Jr+cr*bn,Ar=ar[0]+Ot*(bn=Ar)-cr*Rr,Rr=ar[1]+Ot*Rr+cr*bn;Yr=Ar+Ot*(bn=Yr)-cr*Jr,Jr=Rr+Ot*Jr+cr*bn,Ar=Ot*(bn=Ar)-cr*Rr-mt,Rr=Ot*Rr+cr*bn-Ft;var An=Yr*Yr+Jr*Jr,In,va;Ot-=In=(Ar*Yr+Rr*Jr)/An,cr-=va=(Rr*Yr-Ar*Jr)/An}while(P(In)+P(va)>c*c&&--Lt>0);if(Lt){var La=z(Ot*Ot+cr*cr),Ra=2*i(La*.5),Da=u(Ra);return[L(Ot*Da,La*A(Ra)),La?C(cr*Da/La):0]}},ct}var eh=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],th=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],rh=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],cf=[[.9245,0],[0,0],[.01943,0]],nh=[[.721316,0],[0,0],[-.00881625,-.00617325]];function ah(){return ll(eh,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function ec(){return ll(th,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function ih(){return ll(rh,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function oh(){return ll(cf,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function hf(){return ll(nh,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function ll(Xe,nt){var ct=(0,g.Z)(nu(Xe)).rotate(nt).clipAngle(90),mt=(0,Fe.Z)(nt),Ft=ct.center;return delete ct.rotate,ct.center=function(Lt){return arguments.length?Ft(mt(Lt)):mt.invert(Ft())},ct}var ul=z(6),Rl=z(7);function Du(Xe,nt){var ct=C(7*u(nt)/(3*ul));return[ul*Xe*(2*A(2*ct/3)-1)/Rl,9*u(ct/3)/Rl]}Du.invert=function(Xe,nt){var ct=3*C(nt*Rl/9);return[Xe*Rl/(ul*(2*A(2*ct/3)-1)),C(u(ct)*3*ul/7)]};function sh(){return(0,g.Z)(Du).scale(164.859)}function Cs(Xe,nt){for(var ct=(1+M)*u(nt),mt=nt,Ft=0,Lt;Ft<25&&(mt-=Lt=(u(mt/2)+u(mt)-ct)/(.5*A(mt/2)+A(mt)),!(P(Lt)<c));Ft++);return[Xe*(1+2*A(mt)/A(mt/2))/(3*T),2*z(3)*u(mt/2)/z(2+T)]}Cs.invert=function(Xe,nt){var ct=nt*z(2+T)/(2*z(3)),mt=2*C(ct);return[3*T*Xe/(1+2*A(mt)/A(mt/2)),C((ct+u(mt))/(1+M))]};function tc(){return(0,g.Z)(Cs).scale(188.209)}function vf(Xe,nt){for(var ct=z(6/(4+h)),mt=(1+h/4)*u(nt),Ft=nt/2,Lt=0,Ot;Lt<25&&(Ft-=Ot=(Ft/2+u(Ft)-mt)/(.5+A(Ft)),!(P(Ot)<c));Lt++);return[ct*(.5+A(Ft))*Xe/1.5,ct*Ft]}vf.invert=function(Xe,nt){var ct=z(6/(4+h)),mt=nt/ct;return P(P(mt)-o)<c&&(mt=mt<0?-o:o),[1.5*Xe/(ct*(.5+A(mt))),C((mt/2+u(mt))/(1+h/4))]};function lh(){return(0,g.Z)(vf).scale(166.518)}var Uo=e(26867);function fl(Xe,nt){var ct=nt*nt,mt=ct*ct,Ft=ct*mt;return[Xe*(.84719-.13063*ct+Ft*Ft*(-.04515+.05494*ct-.02326*mt+.00331*Ft)),nt*(1.01183+mt*mt*(-.02625+.01926*ct-.00396*mt))]}fl.invert=function(Xe,nt){var ct=nt,mt=25,Ft,Lt,Ot,cr;do Lt=ct*ct,Ot=Lt*Lt,ct-=Ft=(ct*(1.01183+Ot*Ot*(-.02625+.01926*Lt-.00396*Ot))-nt)/(1.01183+Ot*Ot*(-.23625+.21186*Lt+-.05148*Ot));while(P(Ft)>w&&--mt>0);return Lt=ct*ct,Ot=Lt*Lt,cr=Lt*Ot,[Xe/(.84719-.13063*Lt+cr*cr*(-.04515+.05494*Lt-.02326*Ot+.00331*cr)),ct]};function au(){return(0,g.Z)(fl).scale(175.295)}function Dl(Xe,nt){return[Xe*(1+A(nt))/2,2*(nt-m(nt/2))]}Dl.invert=function(Xe,nt){for(var ct=nt/2,mt=0,Ft=1/0;mt<10&&P(Ft)>c;++mt){var Lt=A(nt/2);nt-=Ft=(nt-m(nt/2)-ct)/(1-.5/(Lt*Lt))}return[2*Xe/(1+A(nt)),nt]};function cs(){return(0,g.Z)(Dl).scale(152.63)}var Ls=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function df(){return mo(ie(1/0),Ls).rotate([20,0]).scale(152.63)}function Il(Xe,nt){var ct=u(nt),mt=A(nt),Ft=f(Xe);if(Xe===0||P(nt)===o)return[0,nt];if(nt===0)return[Xe,0];if(P(Xe)===o)return[Xe*mt,o*ct];var Lt=h/(2*Xe)-2*Xe/h,Ot=2*nt/h,cr=(1-Ot*Ot)/(ct-Ot),yr=Lt*Lt,ar=cr*cr,Ar=1+yr/ar,Rr=1+ar/yr,Yr=(Lt*ct/cr-Lt/2)/Ar,Jr=(ar*ct/yr+cr/2)/Rr,bn=Yr*Yr+mt*mt/Ar,An=Jr*Jr-(ar*ct*ct/yr+cr*ct-1)/Rr;return[o*(Yr+z(bn)*Ft),o*(Jr+z(An<0?0:An)*f(-nt*Lt)*Ft)]}Il.invert=function(Xe,nt){Xe/=o,nt/=o;var ct=Xe*Xe,mt=nt*nt,Ft=ct+mt,Lt=h*h;return[Xe?(Ft-1+z((1-Ft)*(1-Ft)+4*ct))/(2*Xe)*o:0,Me(function(Ot){return Ft*(h*u(Ot)-2*Ot)*h+4*Ot*Ot*(nt-u(Ot))+2*h*Ot-Lt*nt},0)]};function Gs(){return(0,g.Z)(Il).scale(127.267)}var _i=1.0148,pf=.23185,Iu=-.14499,kl=.02406,rc=_i,nc=5*pf,Fl=7*Iu,_l=9*kl,Qi=1.790857183;function ku(Xe,nt){var ct=nt*nt;return[Xe,nt*(_i+ct*ct*(pf+ct*(Iu+kl*ct)))]}ku.invert=function(Xe,nt){nt>Qi?nt=Qi:nt<-Qi&&(nt=-Qi);var ct=nt,mt;do{var Ft=ct*ct;ct-=mt=(ct*(_i+Ft*Ft*(pf+Ft*(Iu+kl*Ft)))-nt)/(rc+Ft*Ft*(nc+Ft*(Fl+_l*Ft)))}while(P(mt)>c);return[Xe,ct]};function uh(){return(0,g.Z)(ku).scale(139.319)}function gf(Xe,nt){if(P(nt)<c)return[Xe,0];var ct=m(nt),mt=Xe*u(nt);return[u(mt)/ct,nt+(1-A(mt))/ct]}gf.invert=function(Xe,nt){if(P(nt)<c)return[Xe,0];var ct=Xe*Xe+nt*nt,mt=nt*.5,Ft=10,Lt;do{var Ot=m(mt),cr=1/A(mt),yr=ct-2*nt*mt+mt*mt;mt-=Lt=(Ot*yr+2*(mt-nt))/(2+yr*cr*cr+2*(mt-nt)*Ot)}while(P(Lt)>c&&--Ft>0);return Ot=m(mt),[(P(nt)<P(mt+1/Ot)?C(Xe*Ot):f(nt)*f(Xe)*(y(P(Xe*Ot))+o))/u(mt),mt]};function fh(){return(0,g.Z)(gf).scale(103.74)}var Fu=e(77338),iu=e(83074);function yf(Xe,nt){var ct=xf(Xe[1],Xe[0]),mt=xf(nt[1],nt[0]),Ft=bf(ct,mt),Lt=_u(ct)/_u(mt);return ou([1,0,Xe[0][0],0,1,Xe[0][1]],ou([Lt,0,0,0,Lt,0],ou([A(Ft),u(Ft),0,-u(Ft),A(Ft),0],[1,0,-nt[0][0],0,1,-nt[0][1]])))}function mf(Xe){var nt=1/(Xe[0]*Xe[4]-Xe[1]*Xe[3]);return[nt*Xe[4],-nt*Xe[1],nt*(Xe[1]*Xe[5]-Xe[2]*Xe[4]),-nt*Xe[3],nt*Xe[0],nt*(Xe[2]*Xe[3]-Xe[0]*Xe[5])]}function ou(Xe,nt){return[Xe[0]*nt[0]+Xe[1]*nt[3],Xe[0]*nt[1]+Xe[1]*nt[4],Xe[0]*nt[2]+Xe[1]*nt[5]+Xe[2],Xe[3]*nt[0]+Xe[4]*nt[3],Xe[3]*nt[1]+Xe[4]*nt[4],Xe[3]*nt[2]+Xe[4]*nt[5]+Xe[5]]}function xf(Xe,nt){return[Xe[0]-nt[0],Xe[1]-nt[1]]}function _u(Xe){return z(Xe[0]*Xe[0]+Xe[1]*Xe[1])}function bf(Xe,nt){return L(Xe[0]*nt[1]-Xe[1]*nt[0],Xe[0]*nt[0]+Xe[1]*nt[1])}function pi(Xe,nt,ct){mt(Xe,{transform:null});function mt(ar,Ar){if(ar.edges=cl(ar.face),Ar.face){var Rr=ar.shared=zl(ar.face,Ar.face),Yr=yf(Rr.map(Ar.project),Rr.map(ar.project));ar.transform=Ar.transform?ou(Ar.transform,Yr):Yr;for(var Jr=Ar.edges,bn=0,An=Jr.length;bn<An;++bn)Jo(Rr[0],Jr[bn][1])&&Jo(Rr[1],Jr[bn][0])&&(Jr[bn]=ar),Jo(Rr[0],Jr[bn][0])&&Jo(Rr[1],Jr[bn][1])&&(Jr[bn]=ar);for(Jr=ar.edges,bn=0,An=Jr.length;bn<An;++bn)Jo(Rr[0],Jr[bn][0])&&Jo(Rr[1],Jr[bn][1])&&(Jr[bn]=Ar),Jo(Rr[0],Jr[bn][1])&&Jo(Rr[1],Jr[bn][0])&&(Jr[bn]=Ar)}else ar.transform=Ar.transform;return ar.children&&ar.children.forEach(function(In){mt(In,ar)}),ar}function Ft(ar,Ar){var Rr=nt(ar,Ar),Yr=Rr.project([ar*S,Ar*S]),Jr;return(Jr=Rr.transform)?[Jr[0]*Yr[0]+Jr[1]*Yr[1]+Jr[2],-(Jr[3]*Yr[0]+Jr[4]*Yr[1]+Jr[5])]:(Yr[1]=-Yr[1],Yr)}wf(Xe)&&(Ft.invert=function(ar,Ar){var Rr=Lt(Xe,[ar,-Ar]);return Rr&&(Rr[0]*=b,Rr[1]*=b,Rr)});function Lt(ar,Ar){var Rr=ar.project.invert,Yr=ar.transform,Jr=Ar;if(Yr&&(Yr=mf(Yr),Jr=[Yr[0]*Jr[0]+Yr[1]*Jr[1]+Yr[2],Yr[3]*Jr[0]+Yr[4]*Jr[1]+Yr[5]]),Rr&&ar===Ot(bn=Rr(Jr)))return bn;for(var bn,An=ar.children,In=0,va=An&&An.length;In<va;++In)if(bn=Lt(An[In],Ar))return bn}function Ot(ar){return nt(ar[0]*b,ar[1]*b)}var cr=(0,g.Z)(Ft),yr=cr.stream;return cr.stream=function(ar){var Ar=cr.rotate(),Rr=yr(ar),Yr=(cr.rotate([0,0]),yr(ar));return cr.rotate(Ar),Rr.sphere=function(){Yr.polygonStart(),Yr.lineStart(),ac(Yr,Xe),Yr.lineEnd(),Yr.polygonEnd()},Rr},cr.angle(ct==null?-30:ct*S)}function ac(Xe,nt,ct){var mt,Ft=nt.edges,Lt=Ft.length,Ot,cr={type:"MultiPoint",coordinates:nt.face},yr=nt.face.filter(function(An){return P(An[1])!==90}),ar=(0,Fu.Z)({type:"MultiPoint",coordinates:yr}),Ar=!1,Rr=-1,Yr=ar[1][0]-ar[0][0],Jr=Yr===180||Yr===360?[(ar[0][0]+ar[1][0])/2,(ar[0][1]+ar[1][1])/2]:(0,Qe.Z)(cr);if(ct)for(;++Rr<Lt&&Ft[Rr]!==ct;);++Rr;for(var bn=0;bn<Lt;++bn)Ot=Ft[(bn+Rr)%Lt],Array.isArray(Ot)?(Ar||(Xe.point((mt=(0,iu.Z)(Ot[0],Jr)(c))[0],mt[1]),Ar=!0),Xe.point((mt=(0,iu.Z)(Ot[1],Jr)(c))[0],mt[1])):(Ar=!1,Ot!==ct&&ac(Xe,Ot,nt))}function Jo(Xe,nt){return Xe&&nt&&Xe[0]===nt[0]&&Xe[1]===nt[1]}function zl(Xe,nt){for(var ct,mt,Ft=Xe.length,Lt=null,Ot=0;Ot<Ft;++Ot){ct=Xe[Ot];for(var cr=nt.length;--cr>=0;)if(mt=nt[cr],ct[0]===mt[0]&&ct[1]===mt[1]){if(Lt)return[Lt,ct];Lt=ct}}}function cl(Xe){for(var nt=Xe.length,ct=[],mt=Xe[nt-1],Ft=0;Ft<nt;++Ft)ct.push([mt,mt=Xe[Ft]]);return ct}function wf(Xe){return Xe.project.invert||Xe.children&&Xe.children.some(wf)}var Oi=e(98936),su=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Eo=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Xe){return Xe.map(function(nt){return su[nt]})});function Ps(Xe){Xe=Xe||function(ct){var mt=(0,Qe.Z)({type:"MultiPoint",coordinates:ct});return(0,Oi.Z)().scale(1).translate([0,0]).rotate([-mt[0],-mt[1]])};var nt=Eo.map(function(ct){return{face:ct,project:Xe(ct)}});return[-1,0,0,1,0,1,4,5].forEach(function(ct,mt){var Ft=nt[ct];Ft&&(Ft.children||(Ft.children=[])).push(nt[mt])}),pi(nt[0],function(ct,mt){return nt[ct<-h/2?mt<0?6:4:ct<0?mt<0?2:0:ct<h/2?mt<0?3:1:mt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var Rs=2/z(3);function Ws(Xe,nt){var ct=Ne(Xe,nt);return[ct[0]*Rs,ct[1]]}Ws.invert=function(Xe,nt){return Ne.invert(Xe/Rs,nt)};function Ys(Xe){Xe=Xe||function(ct){var mt=(0,Qe.Z)({type:"MultiPoint",coordinates:ct});return(0,g.Z)(Ws).translate([0,0]).scale(1).rotate(mt[1]>0?[-mt[0],0]:[180-mt[0],180])};var nt=Eo.map(function(ct){return{face:ct,project:Xe(ct)}});return[-1,0,0,1,0,1,4,5].forEach(function(ct,mt){var Ft=nt[ct];Ft&&(Ft.children||(Ft.children=[])).push(nt[mt])}),pi(nt[0],function(ct,mt){return nt[ct<-h/2?mt<0?6:4:ct<0?mt<0?2:0:ct<h/2?mt<0?3:1:mt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function js(Xe){Xe=Xe||function(Ot){var cr=Ot.length===6?(0,Qe.Z)({type:"MultiPoint",coordinates:Ot}):Ot[0];return(0,Oi.Z)().scale(1).translate([0,0]).rotate([-cr[0],-cr[1]])};var nt=Eo.map(function(Ot){for(var cr=Ot.map(uu),yr=cr.length,ar=cr[yr-1],Ar,Rr=[],Yr=0;Yr<yr;++Yr)Ar=cr[Yr],Rr.push(lu([ar[0]*.9486832980505138+Ar[0]*.31622776601683794,ar[1]*.9486832980505138+Ar[1]*.31622776601683794,ar[2]*.9486832980505138+Ar[2]*.31622776601683794]),lu([Ar[0]*.9486832980505138+ar[0]*.31622776601683794,Ar[1]*.9486832980505138+ar[1]*.31622776601683794,Ar[2]*.9486832980505138+ar[2]*.31622776601683794])),ar=Ar;return Rr}),ct=[],mt=[-1,0,0,1,0,1,4,5];nt.forEach(function(Ot,cr){for(var yr=Eo[cr],ar=yr.length,Ar=ct[cr]=[],Rr=0;Rr<ar;++Rr)nt.push([yr[Rr],Ot[(Rr*2+2)%(2*ar)],Ot[(Rr*2+1)%(2*ar)]]),mt.push(cr),Ar.push(hs(uu(Ot[(Rr*2+2)%(2*ar)]),uu(Ot[(Rr*2+1)%(2*ar)])))});var Ft=nt.map(function(Ot){return{project:Xe(Ot),face:Ot}});mt.forEach(function(Ot,cr){var yr=Ft[Ot];yr&&(yr.children||(yr.children=[])).push(Ft[cr])});function Lt(Ot,cr){var yr=A(cr),ar=[yr*A(Ot),yr*u(Ot),u(cr)],Ar=Ot<-h/2?cr<0?6:4:Ot<0?cr<0?2:0:Ot<h/2?cr<0?3:1:cr<0?7:5,Rr=ct[Ar];return Ft[Qo(Rr[0],ar)<0?8+3*Ar:Qo(Rr[1],ar)<0?8+3*Ar+1:Qo(Rr[2],ar)<0?8+3*Ar+2:Ar]}return pi(Ft[0],Lt).angle(-30).scale(110.625).center([0,45])}function Qo(Xe,nt){for(var ct=0,mt=Xe.length,Ft=0;ct<mt;++ct)Ft+=Xe[ct]*nt[ct];return Ft}function hs(Xe,nt){return[Xe[1]*nt[2]-Xe[2]*nt[1],Xe[2]*nt[0]-Xe[0]*nt[2],Xe[0]*nt[1]-Xe[1]*nt[0]]}function lu(Xe){return[L(Xe[1],Xe[0])*S,C(r(-1,s(1,Xe[2])))*S]}function uu(Xe){var nt=Xe[0]*b,ct=Xe[1]*b,mt=A(ct);return[mt*A(nt),mt*u(nt),u(ct)]}function zu(){}function ch(Xe){if((ct=Xe.length)<4)return!1;for(var nt=0,ct,mt=Xe[ct-1][1]*Xe[0][0]-Xe[ct-1][0]*Xe[0][1];++nt<ct;)mt+=Xe[nt-1][1]*Xe[nt][0]-Xe[nt-1][0]*Xe[nt][1];return mt<=0}function hh(Xe,nt){for(var ct=nt[0],mt=nt[1],Ft=!1,Lt=0,Ot=Xe.length,cr=Ot-1;Lt<Ot;cr=Lt++){var yr=Xe[Lt],ar=yr[0],Ar=yr[1],Rr=Xe[cr],Yr=Rr[0],Jr=Rr[1];Ar>mt^Jr>mt&&ct<(Yr-ar)*(mt-Ar)/(Jr-Ar)+ar&&(Ft=!Ft)}return Ft}function vh(Xe,nt){var ct=nt.stream,mt;if(!ct)throw new Error("invalid projection");switch(Xe&&Xe.type){case"Feature":mt=Ou;break;case"FeatureCollection":mt=dh;break;default:mt=Ol;break}return mt(Xe,ct)}function dh(Xe,nt){return{type:"FeatureCollection",features:Xe.features.map(function(ct){return Ou(ct,nt)})}}function Ou(Xe,nt){return{type:"Feature",id:Xe.id,properties:Xe.properties,geometry:Ol(Xe.geometry,nt)}}function ic(Xe,nt){return{type:"GeometryCollection",geometries:Xe.geometries.map(function(ct){return Ol(ct,nt)})}}function Ol(Xe,nt){if(!Xe)return null;if(Xe.type==="GeometryCollection")return ic(Xe,nt);var ct;switch(Xe.type){case"Point":ct=fu;break;case"MultiPoint":ct=fu;break;case"LineString":ct=hl;break;case"MultiLineString":ct=hl;break;case"Polygon":ct=cu;break;case"MultiPolygon":ct=cu;break;case"Sphere":ct=cu;break;default:return null}return(0,xa.Z)(Xe,nt(ct)),ct.result()}var ro=[],Co=[],fu={point:function(Xe,nt){ro.push([Xe,nt])},result:function(){var Xe=ro.length?ro.length<2?{type:"Point",coordinates:ro[0]}:{type:"MultiPoint",coordinates:ro}:null;return ro=[],Xe}},hl={lineStart:zu,point:function(Xe,nt){ro.push([Xe,nt])},lineEnd:function(){ro.length&&(Co.push(ro),ro=[])},result:function(){var Xe=Co.length?Co.length<2?{type:"LineString",coordinates:Co[0]}:{type:"MultiLineString",coordinates:Co}:null;return Co=[],Xe}},cu={polygonStart:zu,lineStart:zu,point:function(Xe,nt){ro.push([Xe,nt])},lineEnd:function(){var Xe=ro.length;if(Xe){do ro.push(ro[0].slice());while(++Xe<4);Co.push(ro),ro=[]}},polygonEnd:zu,result:function(){if(!Co.length)return null;var Xe=[],nt=[];return Co.forEach(function(ct){ch(ct)?Xe.push([ct]):nt.push(ct)}),nt.forEach(function(ct){var mt=ct[0];Xe.some(function(Ft){if(hh(Ft[0],mt))return Ft.push(ct),!0})||Xe.push([ct])}),Co=[],Xe.length?Xe.length>1?{type:"MultiPolygon",coordinates:Xe}:{type:"Polygon",coordinates:Xe[0]}:null}};function Nu(Xe){var nt=Xe(o,0)[0]-Xe(-o,0)[0];function ct(mt,Ft){var Lt=P(mt)<o,Ot=Xe(Lt?mt:mt>0?mt-h:mt+h,Ft),cr=(Ot[0]-Ot[1])*M,yr=(Ot[0]+Ot[1])*M;if(Lt)return[cr,yr];var ar=nt*M,Ar=cr>0^yr>0?-1:1;return[Ar*cr-f(yr)*ar,Ar*yr-f(cr)*ar]}return Xe.invert&&(ct.invert=function(mt,Ft){var Lt=(mt+Ft)*M,Ot=(Ft-mt)*M,cr=P(Lt)<.5*nt&&P(Ot)<.5*nt;if(!cr){var yr=nt*M,ar=Lt>0^Ot>0?-1:1,Ar=-ar*mt+(Ot>0?1:-1)*yr,Rr=-ar*Ft+(Lt>0?1:-1)*yr;Lt=(-Ar-Rr)*M,Ot=(Ar-Rr)*M}var Yr=Xe.invert(Lt,Ot);return cr||(Yr[0]+=Lt>0?h:-h),Yr}),(0,g.Z)(ct).rotate([-90,-90,45]).clipAngle(179.999)}function ph(){return Nu(mn).scale(176.423)}function oc(){return Nu(Tr).scale(111.48)}function sc(Xe,nt){if(!(0<=(nt=+nt)&&nt<=20))throw new Error("invalid digits");function ct(ar){var Ar=ar.length,Rr=2,Yr=new Array(Ar);for(Yr[0]=+ar[0].toFixed(nt),Yr[1]=+ar[1].toFixed(nt);Rr<Ar;)Yr[Rr]=ar[Rr],++Rr;return Yr}function mt(ar){return ar.map(ct)}function Ft(ar){for(var Ar=ct(ar[0]),Rr=[Ar],Yr=1;Yr<ar.length;Yr++){var Jr=ct(ar[Yr]);(Jr.length>2||Jr[0]!=Ar[0]||Jr[1]!=Ar[1])&&(Rr.push(Jr),Ar=Jr)}return Rr.length===1&&ar.length>1&&Rr.push(ct(ar[ar.length-1])),Rr}function Lt(ar){return ar.map(Ft)}function Ot(ar){if(ar==null)return ar;var Ar;switch(ar.type){case"GeometryCollection":Ar={type:"GeometryCollection",geometries:ar.geometries.map(Ot)};break;case"Point":Ar={type:"Point",coordinates:ct(ar.coordinates)};break;case"MultiPoint":Ar={type:ar.type,coordinates:mt(ar.coordinates)};break;case"LineString":Ar={type:ar.type,coordinates:Ft(ar.coordinates)};break;case"MultiLineString":case"Polygon":Ar={type:ar.type,coordinates:Lt(ar.coordinates)};break;case"MultiPolygon":Ar={type:"MultiPolygon",coordinates:ar.coordinates.map(Lt)};break;default:return ar}return ar.bbox!=null&&(Ar.bbox=ar.bbox),Ar}function cr(ar){var Ar={type:"Feature",properties:ar.properties,geometry:Ot(ar.geometry)};return ar.id!=null&&(Ar.id=ar.id),ar.bbox!=null&&(Ar.bbox=ar.bbox),Ar}if(Xe!=null)switch(Xe.type){case"Feature":return cr(Xe);case"FeatureCollection":{var yr={type:"FeatureCollection",features:Xe.features.map(cr)};return Xe.bbox!=null&&(yr.bbox=Xe.bbox),yr}default:return Ot(Xe)}return Xe}function Tf(Xe){var nt=u(Xe);function ct(mt,Ft){var Lt=nt?m(mt*nt/2)/nt:mt/2;if(!Ft)return[2*Lt,-Xe];var Ot=2*i(Lt*u(Ft)),cr=1/m(Ft);return[u(Ot)*cr,Ft+(1-A(Ot))*cr-Xe]}return ct.invert=function(mt,Ft){if(P(Ft+=Xe)<c)return[nt?2*i(nt*mt/2)/nt:mt,0];var Lt=mt*mt+Ft*Ft,Ot=0,cr=10,yr;do{var ar=m(Ot),Ar=1/A(Ot),Rr=Lt-2*Ft*Ot+Ot*Ot;Ot-=yr=(ar*Rr+2*(Ot-Ft))/(2+Rr*Ar*Ar+2*(Ot-Ft)*ar)}while(P(yr)>c&&--cr>0);var Yr=mt*(ar=m(Ot)),Jr=m(P(Ft)<P(Ot+1/ar)?C(Yr)*.5:y(Yr)*.5+h/4)/u(Ot);return[nt?2*i(nt*Jr)/nt:2*Jr,Ot]},ct}function Zs(){return et(Tf).scale(131.215)}var Ni=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Ni.forEach(function(Xe){Xe[1]*=1.0144});function vs(Xe,nt){var ct=s(18,P(nt)*36/h),mt=p(ct),Ft=ct-mt,Lt=(Rr=Ni[mt])[0],Ot=Rr[1],cr=(Rr=Ni[++mt])[0],yr=Rr[1],ar=(Rr=Ni[s(19,++mt)])[0],Ar=Rr[1],Rr;return[Xe*(cr+Ft*(ar-Lt)/2+Ft*Ft*(ar-2*cr+Lt)/2),(nt>0?o:-o)*(yr+Ft*(Ar-Ot)/2+Ft*Ft*(Ar-2*yr+Ot)/2)]}vs.invert=function(Xe,nt){var ct=nt/o,mt=ct*90,Ft=s(18,P(mt/5)),Lt=r(0,p(Ft));do{var Ot=Ni[Lt][1],cr=Ni[Lt+1][1],yr=Ni[s(19,Lt+2)][1],ar=yr-Ot,Ar=yr-2*cr+Ot,Rr=2*(P(ct)-cr)/ar,Yr=Ar/ar,Jr=Rr*(1-Yr*Rr*(1-2*Yr*Rr));if(Jr>=0||Lt===1){mt=(nt>=0?5:-5)*(Jr+Ft);var bn=50,An;do Ft=s(18,P(mt)/5),Lt=p(Ft),Jr=Ft-Lt,Ot=Ni[Lt][1],cr=Ni[Lt+1][1],yr=Ni[s(19,Lt+2)][1],mt-=(An=(nt>=0?o:-o)*(cr+Jr*(yr-Ot)/2+Jr*Jr*(yr-2*cr+Ot)/2)-nt)*S;while(P(An)>w&&--bn>0);break}}while(--Lt>=0);var In=Ni[Lt][0],va=Ni[Lt+1][0],La=Ni[s(19,Lt+2)][0];return[Xe/(va+Jr*(La-In)/2+Jr*Jr*(La-2*va+In)/2),mt*b]};function Af(){return(0,g.Z)(vs).scale(152.63)}function lc(Xe){function nt(ct,mt){var Ft=A(mt),Lt=(Xe-1)/(Xe-Ft*A(ct));return[Lt*Ft*u(ct),Lt*u(mt)]}return nt.invert=function(ct,mt){var Ft=ct*ct+mt*mt,Lt=z(Ft),Ot=(Xe-z(1-Ft*(Xe+1)/(Xe-1)))/((Xe-1)/Lt+Lt/(Xe-1));return[L(ct*Ot,Lt*z(1-Ot*Ot)),Lt?C(mt*Ot/Lt):0]},nt}function vl(Xe,nt){var ct=lc(Xe);if(!nt)return ct;var mt=A(nt),Ft=u(nt);function Lt(Ot,cr){var yr=ct(Ot,cr),ar=yr[1],Ar=ar*Ft/(Xe-1)+mt;return[yr[0]*mt/Ar,ar/Ar]}return Lt.invert=function(Ot,cr){var yr=(Xe-1)/(Xe-1-cr*Ft);return ct.invert(yr*Ot,yr*cr*mt)},Lt}function Bu(){var Xe=2,nt=0,ct=(0,g.r)(vl),mt=ct(Xe,nt);return mt.distance=function(Ft){return arguments.length?ct(Xe=+Ft,nt):Xe},mt.tilt=function(Ft){return arguments.length?ct(Xe,nt=Ft*b):nt*S},mt.scale(432.147).clipAngle(y(1/Xe)*S-1e-6)}var $o=1e-4,Uu=1e4,Ds=-180,Is=Ds+$o,Mf=180,Nl=Mf-$o,ui=-90,dl=ui+$o,Hu=90,Vu=Hu-$o;function Xs(Xe){return Xe.length>0}function gh(Xe){return Math.floor(Xe*Uu)/Uu}function Sf(Xe){return Xe===ui||Xe===Hu?[0,Xe]:[Ds,gh(Xe)]}function Bl(Xe){var nt=Xe[0],ct=Xe[1],mt=!1;return nt<=Is?(nt=Ds,mt=!0):nt>=Nl&&(nt=Mf,mt=!0),ct<=dl?(ct=ui,mt=!0):ct>=Vu&&(ct=Hu,mt=!0),mt?[nt,ct]:Xe}function Ef(Xe){return Xe.map(Bl)}function uc(Xe,nt,ct){for(var mt=0,Ft=Xe.length;mt<Ft;++mt){var Lt=Xe[mt].slice();ct.push({index:-1,polygon:nt,ring:Lt});for(var Ot=0,cr=Lt.length;Ot<cr;++Ot){var yr=Lt[Ot],ar=yr[0],Ar=yr[1];if(ar<=Is||ar>=Nl||Ar<=dl||Ar>=Vu){Lt[Ot]=Bl(yr);for(var Rr=Ot+1;Rr<cr;++Rr){var Yr=Lt[Rr],Jr=Yr[0],bn=Yr[1];if(Jr>Is&&Jr<Nl&&bn>dl&&bn<Vu)break}if(Rr===Ot+1)continue;if(Ot){var An={index:-1,polygon:nt,ring:Lt.slice(0,Ot+1)};An.ring[An.ring.length-1]=Sf(Ar),ct[ct.length-1]=An}else ct.pop();if(Rr>=cr)break;ct.push({index:-1,polygon:nt,ring:Lt=Lt.slice(Rr-1)}),Lt[0]=Sf(Lt[0][1]),Ot=-1,cr=Lt.length}}}}function ks(Xe){var nt,ct=Xe.length,mt={},Ft={},Lt,Ot,cr,yr,ar;for(nt=0;nt<ct;++nt){if(Lt=Xe[nt],Ot=Lt.ring[0],yr=Lt.ring[Lt.ring.length-1],Ot[0]===yr[0]&&Ot[1]===yr[1]){Lt.polygon.push(Lt.ring),Xe[nt]=null;continue}Lt.index=nt,mt[Ot]=Ft[yr]=Lt}for(nt=0;nt<ct;++nt)if(Lt=Xe[nt],Lt){if(Ot=Lt.ring[0],yr=Lt.ring[Lt.ring.length-1],cr=Ft[Ot],ar=mt[yr],delete mt[Ot],delete Ft[yr],Ot[0]===yr[0]&&Ot[1]===yr[1]){Lt.polygon.push(Lt.ring);continue}cr?(delete Ft[Ot],delete mt[cr.ring[0]],cr.ring.pop(),Xe[cr.index]=null,Lt={index:-1,polygon:cr.polygon,ring:cr.ring.concat(Lt.ring)},cr===ar?Lt.polygon.push(Lt.ring):(Lt.index=ct++,Xe.push(mt[Lt.ring[0]]=Ft[Lt.ring[Lt.ring.length-1]]=Lt))):ar?(delete mt[yr],delete Ft[ar.ring[ar.ring.length-1]],Lt.ring.pop(),Lt={index:ct++,polygon:ar.polygon,ring:Lt.ring.concat(ar.ring)},Xe[ar.index]=null,Xe.push(mt[Lt.ring[0]]=Ft[Lt.ring[Lt.ring.length-1]]=Lt)):(Lt.ring.push(Lt.ring[0]),Lt.polygon.push(Lt.ring))}}function Ks(Xe){var nt={type:"Feature",geometry:pl(Xe.geometry)};return Xe.id!=null&&(nt.id=Xe.id),Xe.bbox!=null&&(nt.bbox=Xe.bbox),Xe.properties!=null&&(nt.properties=Xe.properties),nt}function pl(Xe){if(Xe==null)return Xe;var nt,ct,mt,Ft;switch(Xe.type){case"GeometryCollection":nt={type:"GeometryCollection",geometries:Xe.geometries.map(pl)};break;case"Point":nt={type:"Point",coordinates:Bl(Xe.coordinates)};break;case"MultiPoint":case"LineString":nt={type:Xe.type,coordinates:Ef(Xe.coordinates)};break;case"MultiLineString":nt={type:"MultiLineString",coordinates:Xe.coordinates.map(Ef)};break;case"Polygon":{var Lt=[];uc(Xe.coordinates,Lt,ct=[]),ks(ct),nt={type:"Polygon",coordinates:Lt};break}case"MultiPolygon":{ct=[],mt=-1,Ft=Xe.coordinates.length;for(var Ot=new Array(Ft);++mt<Ft;)uc(Xe.coordinates[mt],Ot[mt]=[],ct);ks(ct),nt={type:"MultiPolygon",coordinates:Ot.filter(Xs)};break}default:return Xe}return Xe.bbox!=null&&(nt.bbox=Xe.bbox),nt}function yl(Xe){if(Xe==null)return Xe;switch(Xe.type){case"Feature":return Ks(Xe);case"FeatureCollection":{var nt={type:"FeatureCollection",features:Xe.features.map(Ks)};return Xe.bbox!=null&&(nt.bbox=Xe.bbox),nt}default:return pl(Xe)}}function Lo(Xe,nt){var ct=m(nt/2),mt=u(d*ct);return[Xe*(.74482-.34588*mt*mt),1.70711*ct]}Lo.invert=function(Xe,nt){var ct=nt/1.70711,mt=u(d*ct);return[Xe/(.74482-.34588*mt*mt),2*i(ct)]};function Fo(){return(0,g.Z)(Lo).scale(146.153)}function ml(Xe,nt,ct){var mt=(0,iu.Z)(nt,ct),Ft=mt(.5),Lt=(0,Fe.Z)([-Ft[0],-Ft[1]])(nt),Ot=mt.distance/2,cr=-C(u(Lt[1]*b)/u(Ot)),yr=[-Ft[0],-Ft[1],-(Lt[0]>0?h-cr:cr)*S],ar=(0,g.Z)(Xe(Ot)).rotate(yr),Ar=(0,Fe.Z)(yr),Rr=ar.center;return delete ar.rotate,ar.center=function(Yr){return arguments.length?Rr(Ar(Yr)):Ar.invert(Rr())},ar.clipAngle(90)}function fc(Xe){var nt=A(Xe);function ct(mt,Ft){var Lt=(0,Oi.M)(mt,Ft);return Lt[0]*=nt,Lt}return ct.invert=function(mt,Ft){return Oi.M.invert(mt/nt,Ft)},ct}function Ul(){return Gu([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Gu(Xe,nt){return ml(fc,Xe,nt)}function cc(Xe){if(!(Xe*=2))return se.N;var nt=-Xe/2,ct=-nt,mt=Xe*Xe,Ft=m(ct),Lt=.5/u(ct);function Ot(cr,yr){var ar=y(A(yr)*A(cr-nt)),Ar=y(A(yr)*A(cr-ct)),Rr=yr<0?-1:1;return ar*=ar,Ar*=Ar,[(ar-Ar)/(2*Xe),Rr*z(4*mt*Ar-(mt-ar+Ar)*(mt-ar+Ar))/(2*Xe)]}return Ot.invert=function(cr,yr){var ar=yr*yr,Ar=A(z(ar+(Yr=cr+nt)*Yr)),Rr=A(z(ar+(Yr=cr+ct)*Yr)),Yr,Jr;return[L(Jr=Ar-Rr,Yr=(Ar+Rr)*Ft),(yr<0?-1:1)*y(z(Yr*Yr+Jr*Jr)*Lt)]},Ot}function qo(){return Cf([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Cf(Xe,nt){return ml(cc,Xe,nt)}function Js(Xe,nt){if(P(nt)<c)return[Xe,0];var ct=P(nt/o),mt=C(ct);if(P(Xe)<c||P(P(nt)-o)<c)return[0,f(nt)*h*m(mt/2)];var Ft=A(mt),Lt=P(h/Xe-Xe/h)/2,Ot=Lt*Lt,cr=Ft/(ct+Ft-1),yr=cr*(2/ct-1),ar=yr*yr,Ar=ar+Ot,Rr=cr-ar,Yr=Ot+cr;return[f(Xe)*h*(Lt*Rr+z(Ot*Rr*Rr-Ar*(cr*cr-ar)))/Ar,f(nt)*h*(yr*Yr-Lt*z((Ot+1)*Ar-Yr*Yr))/Ar]}Js.invert=function(Xe,nt){if(P(nt)<c)return[Xe,0];if(P(Xe)<c)return[0,o*u(2*i(nt/h))];var ct=(Xe/=h)*Xe,mt=(nt/=h)*nt,Ft=ct+mt,Lt=Ft*Ft,Ot=-P(nt)*(1+Ft),cr=Ot-2*mt+ct,yr=-2*Ot+1+2*mt+Lt,ar=mt/yr+(2*cr*cr*cr/(yr*yr*yr)-9*Ot*cr/(yr*yr))/27,Ar=(Ot-cr*cr/(3*yr))/yr,Rr=2*z(-Ar/3),Yr=y(3*ar/(Ar*Rr))/3;return[h*(Ft-1+z(1+2*(ct-mt)+Lt))/(2*Xe),f(nt)*h*(-Rr*A(Yr+h/3)-cr/(3*yr))]};function hu(){return(0,g.Z)(Js).scale(79.4183)}function Fs(Xe,nt){if(P(nt)<c)return[Xe,0];var ct=P(nt/o),mt=C(ct);if(P(Xe)<c||P(P(nt)-o)<c)return[0,f(nt)*h*m(mt/2)];var Ft=A(mt),Lt=P(h/Xe-Xe/h)/2,Ot=Lt*Lt,cr=Ft*(z(1+Ot)-Lt*Ft)/(1+Ot*ct*ct);return[f(Xe)*h*cr,f(nt)*h*z(1-cr*(2*Lt+cr))]}Fs.invert=function(Xe,nt){if(!Xe)return[0,o*u(2*i(nt/h))];var ct=P(Xe/h),mt=(1-ct*ct-(nt/=h)*nt)/(2*ct),Ft=mt*mt,Lt=z(Ft+1);return[f(Xe)*h*(Lt-mt),f(nt)*o*u(2*L(z((1-2*mt*ct)*(mt+Lt)-ct),z(Lt+mt+ct)))]};function yh(){return(0,g.Z)(Fs).scale(79.4183)}function Lf(Xe,nt){if(P(nt)<c)return[Xe,0];var ct=nt/o,mt=C(ct);if(P(Xe)<c||P(P(nt)-o)<c)return[0,h*m(mt/2)];var Ft=(h/Xe-Xe/h)/2,Lt=ct/(1+A(mt));return[h*(f(Xe)*z(Ft*Ft+1-Lt*Lt)-Ft),h*Lt]}Lf.invert=function(Xe,nt){if(!nt)return[Xe,0];var ct=nt/h,mt=(h*h*(1-ct*ct)-Xe*Xe)/(2*h*Xe);return[Xe?h*(f(Xe)*z(mt*mt+1)-mt):0,o*u(2*i(ct))]};function Wu(){return(0,g.Z)(Lf).scale(79.4183)}function vo(Xe,nt){if(!nt)return[Xe,0];var ct=P(nt);if(!Xe||ct===o)return[0,nt];var mt=ct/o,Ft=mt*mt,Lt=(8*mt-Ft*(Ft+2)-5)/(2*Ft*(mt-1)),Ot=Lt*Lt,cr=mt*Lt,yr=Ft+Ot+2*cr,ar=mt+3*Lt,Ar=Xe/o,Rr=Ar+1/Ar,Yr=f(P(Xe)-o)*z(Rr*Rr-4),Jr=Yr*Yr,bn=yr*(Ft+Ot*Jr-1)+(1-Ft)*(Ft*(ar*ar+4*Ot)+12*cr*Ot+4*Ot*Ot),An=(Yr*(yr+Ot-1)+2*z(bn))/(4*yr+Jr);return[f(Xe)*o*An,f(nt)*o*z(1+Yr*P(An)-An*An)]}vo.invert=function(Xe,nt){var ct;if(!Xe||!nt)return[Xe,nt];nt/=h;var mt=f(Xe)*Xe/o,Ft=(mt*mt-1+4*nt*nt)/P(mt),Lt=Ft*Ft,Ot=2*nt,cr=50;do{var yr=Ot*Ot,ar=(8*Ot-yr*(yr+2)-5)/(2*yr*(Ot-1)),Ar=(3*Ot-yr*Ot-10)/(2*yr*Ot),Rr=ar*ar,Yr=Ot*ar,Jr=Ot+ar,bn=Jr*Jr,An=Ot+3*ar,In=bn*(yr+Rr*Lt-1)+(1-yr)*(yr*(An*An+4*Rr)+Rr*(12*Yr+4*Rr)),va=-2*Jr*(4*Yr*Rr+(1-4*yr+3*yr*yr)*(1+Ar)+Rr*(-6+14*yr-Lt+(-8+8*yr-2*Lt)*Ar)+Yr*(-8+12*yr+(-10+10*yr-Lt)*Ar)),La=z(In),Ra=Ft*(bn+Rr-1)+2*La-mt*(4*bn+Lt),Da=Ft*(2*ar*Ar+2*Jr*(1+Ar))+va/La-8*Jr*(Ft*(-1+Rr+bn)+2*La)*(1+Ar)/(Lt+4*bn);Ot-=ct=Ra/Da}while(ct>c&&--cr>0);return[f(Xe)*(z(Ft*Ft+4)+Ft)*h/4,o*Ot]};function hc(){return(0,g.Z)(vo).scale(127.16)}function vu(Xe,nt,ct,mt,Ft){function Lt(Ot,cr){var yr=ct*u(mt*cr),ar=z(1-yr*yr),Ar=z(2/(1+ar*A(Ot*=Ft)));return[Xe*ar*Ar*u(Ot),nt*yr*Ar]}return Lt.invert=function(Ot,cr){var yr=Ot/Xe,ar=cr/nt,Ar=z(yr*yr+ar*ar),Rr=2*C(Ar/2);return[L(Ot*m(Rr),Xe*Ar)/Ft,Ar&&C(cr*u(Rr)/(nt*ct*Ar))/mt]},Lt}function ds(Xe,nt,ct,mt){var Ft=h/3;Xe=r(Xe,c),nt=r(nt,c),Xe=s(Xe,o),nt=s(nt,h-c),ct=r(ct,0),ct=s(ct,100-c),mt=r(mt,c);var Lt=ct/100+1,Ot=mt/100,cr=y(Lt*A(Ft))/Ft,yr=u(Xe)/u(cr*o),ar=nt/h,Ar=z(Ot*u(Xe/2)/u(nt/2)),Rr=Ar/z(ar*yr*cr),Yr=1/(Ar*z(ar*yr*cr));return vu(Rr,Yr,yr,cr,ar)}function du(){var Xe=65*b,nt=60*b,ct=20,mt=200,Ft=(0,g.r)(ds),Lt=Ft(Xe,nt,ct,mt);return Lt.poleline=function(Ot){return arguments.length?Ft(Xe=+Ot*b,nt,ct,mt):Xe*S},Lt.parallels=function(Ot){return arguments.length?Ft(Xe,nt=+Ot*b,ct,mt):nt*S},Lt.inflation=function(Ot){return arguments.length?Ft(Xe,nt,ct=+Ot,mt):ct},Lt.ratio=function(Ot){return arguments.length?Ft(Xe,nt,ct,mt=+Ot):mt},Lt.scale(163.775)}function Qs(){return du().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var Yu=4*h+3*z(3),vc=2*z(2*h*z(3)/Yu),Pf=xe(vc*z(3)/h,vc,Yu/6);function Rf(){return(0,g.Z)(Pf).scale(176.84)}function xl(Xe,nt){return[Xe*z(1-3*nt*nt/(h*h)),nt]}xl.invert=function(Xe,nt){return[Xe/z(1-3*nt*nt/(h*h)),nt]};function ju(){return(0,g.Z)(xl).scale(152.63)}function pu(Xe,nt){var ct=A(nt),mt=A(Xe)*ct,Ft=1-mt,Lt=A(Xe=L(u(Xe)*ct,-u(nt))),Ot=u(Xe);return ct=z(1-mt*mt),[Ot*ct-Lt*Ft,-Lt*ct-Ot*Ft]}pu.invert=function(Xe,nt){var ct=(Xe*Xe+nt*nt)/-2,mt=z(-ct*(2+ct)),Ft=nt*ct+Xe*mt,Lt=Xe*ct-nt*mt,Ot=z(Lt*Lt+Ft*Ft);return[L(mt*Ft,Ot*(1+ct)),Ot?-C(mt*Lt/Ot):0]};function dc(){return(0,g.Z)(pu).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function gu(Xe,nt){var ct=Y(Xe,nt);return[(ct[0]+Xe/o)/2,(ct[1]+nt)/2]}gu.invert=function(Xe,nt){var ct=Xe,mt=nt,Ft=25;do{var Lt=A(mt),Ot=u(mt),cr=u(2*mt),yr=Ot*Ot,ar=Lt*Lt,Ar=u(ct),Rr=A(ct/2),Yr=u(ct/2),Jr=Yr*Yr,bn=1-ar*Rr*Rr,An=bn?y(Lt*Rr)*z(In=1/bn):In=0,In,va=.5*(2*An*Lt*Yr+ct/o)-Xe,La=.5*(An*Ot+mt)-nt,Ra=.5*In*(ar*Jr+An*Lt*Rr*yr)+.5/o,Da=In*(Ar*cr/4-An*Ot*Yr),ka=.125*In*(cr*Yr-An*Ot*ar*Ar),ii=.5*In*(yr*Rr+An*Jr*Lt)+.5,Di=Da*ka-ii*Ra,gi=(La*Da-va*ii)/Di,ue=(va*ka-La*Ra)/Di;ct-=gi,mt-=ue}while((P(gi)>c||P(ue)>c)&&--Ft>0);return[ct,mt]};function pc(){return(0,g.Z)(gu).scale(158.837)}},33940:function(W,H,e){e.d(H,{Z:function(){return g}});function g(){return new P}function P(){this.reset()}P.prototype={constructor:P,reset:function(){this.s=this.t=0},add:function(A){L(i,A,this.t),L(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new P;function L(A,v,p){var t=A.s=v+p,r=t-v,s=t-r;A.t=v-s+(p-r)}},97860:function(W,H,e){e.d(H,{L9:function(){return A},ZP:function(){return w},gL:function(){return l}});var g=e(33940),P=e(39695),i=e(73182),L=e(72736),A=(0,g.Z)(),v=(0,g.Z)(),p,t,r,s,n,l={point:i.Z,lineStart:i.Z,lineEnd:i.Z,polygonStart:function(){A.reset(),l.lineStart=f,l.lineEnd=u},polygonEnd:function(){var h=+A;v.add(h<0?P.BZ+h:h),this.lineStart=this.lineEnd=this.point=i.Z},sphere:function(){v.add(P.BZ)}};function f(){l.point=m}function u(){c(p,t)}function m(h,o){l.point=c,p=h,t=o,h*=P.uR,o*=P.uR,r=h,s=(0,P.mC)(o=o/2+P.pu),n=(0,P.O$)(o)}function c(h,o){h*=P.uR,o*=P.uR,o=o/2+P.pu;var d=h-r,M=d>=0?1:-1,T=M*d,E=(0,P.mC)(o),x=(0,P.O$)(o),S=n*x,b=s*E+S*(0,P.mC)(T),a=S*M*(0,P.O$)(T);A.add((0,P.fv)(a,b)),r=h,s=E,n=x}function w(h){return v.reset(),(0,L.Z)(h,l),v*2}},77338:function(W,H,e){e.d(H,{Z:function(){return C}});var g=e(33940),P=e(97860),i=e(7620),L=e(39695),A=e(72736),v,p,t,r,s,n,l,f,u=(0,g.Z)(),m,c,w={point:h,lineStart:d,lineEnd:M,polygonStart:function(){w.point=T,w.lineStart=E,w.lineEnd=x,u.reset(),P.gL.polygonStart()},polygonEnd:function(){P.gL.polygonEnd(),w.point=h,w.lineStart=d,w.lineEnd=M,P.L9<0?(v=-(t=180),p=-(r=90)):u>L.Ho?r=90:u<-L.Ho&&(p=-90),c[0]=v,c[1]=t},sphere:function(){v=-(t=180),p=-(r=90)}};function h(y,z){m.push(c=[v=y,t=y]),z<p&&(p=z),z>r&&(r=z)}function o(y,z){var I=(0,i.Og)([y*L.uR,z*L.uR]);if(f){var B=(0,i.T5)(f,I),F=[B[1],-B[0],0],O=(0,i.T5)(F,B);(0,i.iJ)(O),O=(0,i.Y1)(O);var N=y-s,_=N>0?1:-1,U=O[0]*L.RW*_,Y,K=(0,L.Wn)(N)>180;K^(_*s<U&&U<_*y)?(Y=O[1]*L.RW,Y>r&&(r=Y)):(U=(U+360)%360-180,K^(_*s<U&&U<_*y)?(Y=-O[1]*L.RW,Y<p&&(p=Y)):(z<p&&(p=z),z>r&&(r=z))),K?y<s?S(v,y)>S(v,t)&&(t=y):S(y,t)>S(v,t)&&(v=y):t>=v?(y<v&&(v=y),y>t&&(t=y)):y>s?S(v,y)>S(v,t)&&(t=y):S(y,t)>S(v,t)&&(v=y)}else m.push(c=[v=y,t=y]);z<p&&(p=z),z>r&&(r=z),f=I,s=y}function d(){w.point=o}function M(){c[0]=v,c[1]=t,w.point=h,f=null}function T(y,z){if(f){var I=y-s;u.add((0,L.Wn)(I)>180?I+(I>0?360:-360):I)}else n=y,l=z;P.gL.point(y,z),o(y,z)}function E(){P.gL.lineStart()}function x(){T(n,l),P.gL.lineEnd(),(0,L.Wn)(u)>L.Ho&&(v=-(t=180)),c[0]=v,c[1]=t,f=null}function S(y,z){return(z-=y)<0?z+360:z}function b(y,z){return y[0]-z[0]}function a(y,z){return y[0]<=y[1]?y[0]<=z&&z<=y[1]:z<y[0]||y[1]<z}function C(y){var z,I,B,F,O,N,_;if(r=t=-(v=p=1/0),m=[],(0,A.Z)(y,w),I=m.length){for(m.sort(b),z=1,B=m[0],O=[B];z<I;++z)F=m[z],a(B,F[0])||a(B,F[1])?(S(B[0],F[1])>S(B[0],B[1])&&(B[1]=F[1]),S(F[0],B[1])>S(B[0],B[1])&&(B[0]=F[0])):O.push(B=F);for(N=-1/0,I=O.length-1,z=0,B=O[I];z<=I;B=F,++z)F=O[z],(_=S(B[1],F[0]))>N&&(N=_,v=F[0],t=B[1])}return m=c=null,v===1/0||p===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,p],[t,r]]}},7620:function(W,H,e){e.d(H,{Og:function(){return i},T:function(){return p},T5:function(){return A},Y1:function(){return P},iJ:function(){return t},j9:function(){return L},s0:function(){return v}});var g=e(39695);function P(r){return[(0,g.fv)(r[1],r[0]),(0,g.ZR)(r[2])]}function i(r){var s=r[0],n=r[1],l=(0,g.mC)(n);return[l*(0,g.mC)(s),l*(0,g.O$)(s),(0,g.O$)(n)]}function L(r,s){return r[0]*s[0]+r[1]*s[1]+r[2]*s[2]}function A(r,s){return[r[1]*s[2]-r[2]*s[1],r[2]*s[0]-r[0]*s[2],r[0]*s[1]-r[1]*s[0]]}function v(r,s){r[0]+=s[0],r[1]+=s[1],r[2]+=s[2]}function p(r,s){return[r[0]*s,r[1]*s,r[2]*s]}function t(r){var s=(0,g._b)(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);r[0]/=s,r[1]/=s,r[2]/=s}},66624:function(W,H,e){e.d(H,{Z:function(){return I}});var g=e(39695),P=e(73182),i=e(72736),L,A,v,p,t,r,s,n,l,f,u,m,c,w,h,o,d={sphere:P.Z,point:M,lineStart:E,lineEnd:b,polygonStart:function(){d.lineStart=a,d.lineEnd=C},polygonEnd:function(){d.lineStart=E,d.lineEnd=b}};function M(B,F){B*=g.uR,F*=g.uR;var O=(0,g.mC)(F);T(O*(0,g.mC)(B),O*(0,g.O$)(B),(0,g.O$)(F))}function T(B,F,O){++L,v+=(B-v)/L,p+=(F-p)/L,t+=(O-t)/L}function E(){d.point=x}function x(B,F){B*=g.uR,F*=g.uR;var O=(0,g.mC)(F);w=O*(0,g.mC)(B),h=O*(0,g.O$)(B),o=(0,g.O$)(F),d.point=S,T(w,h,o)}function S(B,F){B*=g.uR,F*=g.uR;var O=(0,g.mC)(F),N=O*(0,g.mC)(B),_=O*(0,g.O$)(B),U=(0,g.O$)(F),Y=(0,g.fv)((0,g._b)((Y=h*U-o*_)*Y+(Y=o*N-w*U)*Y+(Y=w*_-h*N)*Y),w*N+h*_+o*U);A+=Y,r+=Y*(w+(w=N)),s+=Y*(h+(h=_)),n+=Y*(o+(o=U)),T(w,h,o)}function b(){d.point=M}function a(){d.point=y}function C(){z(m,c),d.point=M}function y(B,F){m=B,c=F,B*=g.uR,F*=g.uR,d.point=z;var O=(0,g.mC)(F);w=O*(0,g.mC)(B),h=O*(0,g.O$)(B),o=(0,g.O$)(F),T(w,h,o)}function z(B,F){B*=g.uR,F*=g.uR;var O=(0,g.mC)(F),N=O*(0,g.mC)(B),_=O*(0,g.O$)(B),U=(0,g.O$)(F),Y=h*U-o*_,K=o*N-w*U,re=w*_-h*N,ae=(0,g._b)(Y*Y+K*K+re*re),fe=(0,g.ZR)(ae),Q=ae&&-fe/ae;l+=Q*Y,f+=Q*K,u+=Q*re,A+=fe,r+=fe*(w+(w=N)),s+=fe*(h+(h=_)),n+=fe*(o+(o=U)),T(w,h,o)}function I(B){L=A=v=p=t=r=s=n=l=f=u=0,(0,i.Z)(B,d);var F=l,O=f,N=u,_=F*F+O*O+N*N;return _<g.aW&&(F=r,O=s,N=n,A<g.Ho&&(F=v,O=p,N=t),_=F*F+O*O+N*N,_<g.aW)?[NaN,NaN]:[(0,g.fv)(O,F)*g.RW,(0,g.ZR)(N/(0,g._b)(_))*g.RW]}},7613:function(W,H,e){e.d(H,{m:function(){return A},Z:function(){return p}});var g=e(7620);function P(t){return function(){return t}}var i=e(39695),L=e(49386);function A(t,r,s,n,l,f){if(s){var u=(0,i.mC)(r),m=(0,i.O$)(r),c=n*s;l==null?(l=r+n*i.BZ,f=r-c/2):(l=v(u,l),f=v(u,f),(n>0?l<f:l>f)&&(l+=n*i.BZ));for(var w,h=l;n>0?h>f:h<f;h-=c)w=(0,g.Y1)([u,-m*(0,i.mC)(h),-m*(0,i.O$)(h)]),t.point(w[0],w[1])}}function v(t,r){r=(0,g.Og)(r),r[0]-=t,(0,g.iJ)(r);var s=(0,i.Kh)(-r[1]);return((-r[2]<0?-s:s)+i.BZ-i.Ho)%i.BZ}function p(){var t=P([0,0]),r=P(90),s=P(6),n,l,f={point:u};function u(c,w){n.push(c=l(c,w)),c[0]*=i.RW,c[1]*=i.RW}function m(){var c=t.apply(this,arguments),w=r.apply(this,arguments)*i.uR,h=s.apply(this,arguments)*i.uR;return n=[],l=(0,L.I)(-c[0]*i.uR,-c[1]*i.uR,0).invert,A(f,w,h,1),c={type:"Polygon",coordinates:[n]},n=l=null,c}return m.center=function(c){return arguments.length?(t=typeof c=="function"?c:P([+c[0],+c[1]]),m):t},m.radius=function(c){return arguments.length?(r=typeof c=="function"?c:P(+c),m):r},m.precision=function(c){return arguments.length?(s=typeof c=="function"?c:P(+c),m):s},m}},87070:function(W,H,e){var g=e(97023),P=e(39695);H.Z=(0,g.Z)(function(){return!0},i,A,[-P.pi,-P.ou]);function i(v){var p=NaN,t=NaN,r=NaN,s;return{lineStart:function(){v.lineStart(),s=1},point:function(n,l){var f=n>0?P.pi:-P.pi,u=(0,P.Wn)(n-p);(0,P.Wn)(u-P.pi)<P.Ho?(v.point(p,t=(t+l)/2>0?P.ou:-P.ou),v.point(r,t),v.lineEnd(),v.lineStart(),v.point(f,t),v.point(n,t),s=0):r!==f&&u>=P.pi&&((0,P.Wn)(p-r)<P.Ho&&(p-=r*P.Ho),(0,P.Wn)(n-f)<P.Ho&&(n-=f*P.Ho),t=L(p,t,n,l),v.point(r,t),v.lineEnd(),v.lineStart(),v.point(f,t),s=0),v.point(p=n,t=l),r=f},lineEnd:function(){v.lineEnd(),p=t=NaN},clean:function(){return 2-s}}}function L(v,p,t,r){var s,n,l=(0,P.O$)(v-t);return(0,P.Wn)(l)>P.Ho?(0,P.z4)(((0,P.O$)(p)*(n=(0,P.mC)(r))*(0,P.O$)(t)-(0,P.O$)(r)*(s=(0,P.mC)(p))*(0,P.O$)(v))/(s*n*l)):(p+r)/2}function A(v,p,t,r){var s;if(v==null)s=t*P.ou,r.point(-P.pi,s),r.point(0,s),r.point(P.pi,s),r.point(P.pi,0),r.point(P.pi,-s),r.point(0,-s),r.point(-P.pi,-s),r.point(-P.pi,0),r.point(-P.pi,s);else if((0,P.Wn)(v[0]-p[0])>P.Ho){var n=v[0]<p[0]?P.pi:-P.pi;s=t*n/2,r.point(-n,s),r.point(0,s),r.point(n,s)}else r.point(p[0],p[1])}},85272:function(W,H,e){e.d(H,{Z:function(){return P}});var g=e(73182);function P(){var i=[],L;return{point:function(A,v,p){L.push([A,v,p])},lineStart:function(){i.push(L=[])},lineEnd:g.Z,rejoin:function(){i.length>1&&i.push(i.pop().concat(i.shift()))},result:function(){var A=i;return i=[],L=null,A}}}},1457:function(W,H,e){e.d(H,{Z:function(){return v}});var g=e(7620),P=e(7613),i=e(39695),L=e(67108),A=e(97023);function v(p){var t=(0,i.mC)(p),r=6*i.uR,s=t>0,n=(0,i.Wn)(t)>i.Ho;function l(w,h,o,d){(0,P.m)(d,p,r,o,w,h)}function f(w,h){return(0,i.mC)(w)*(0,i.mC)(h)>t}function u(w){var h,o,d,M,T;return{lineStart:function(){M=d=!1,T=1},point:function(E,x){var S=[E,x],b,a=f(E,x),C=s?a?0:c(E,x):a?c(E+(E<0?i.pi:-i.pi),x):0;if(!h&&(M=d=a)&&w.lineStart(),a!==d&&(b=m(h,S),(!b||(0,L.Z)(h,b)||(0,L.Z)(S,b))&&(S[2]=1)),a!==d)T=0,a?(w.lineStart(),b=m(S,h),w.point(b[0],b[1])):(b=m(h,S),w.point(b[0],b[1],2),w.lineEnd()),h=b;else if(n&&h&&s^a){var y;!(C&o)&&(y=m(S,h,!0))&&(T=0,s?(w.lineStart(),w.point(y[0][0],y[0][1]),w.point(y[1][0],y[1][1]),w.lineEnd()):(w.point(y[1][0],y[1][1]),w.lineEnd(),w.lineStart(),w.point(y[0][0],y[0][1],3)))}a&&(!h||!(0,L.Z)(h,S))&&w.point(S[0],S[1]),h=S,d=a,o=C},lineEnd:function(){d&&w.lineEnd(),h=null},clean:function(){return T|(M&&d)<<1}}}function m(w,h,o){var d=(0,g.Og)(w),M=(0,g.Og)(h),T=[1,0,0],E=(0,g.T5)(d,M),x=(0,g.j9)(E,E),S=E[0],b=x-S*S;if(!b)return!o&&w;var a=t*x/b,C=-t*S/b,y=(0,g.T5)(T,E),z=(0,g.T)(T,a),I=(0,g.T)(E,C);(0,g.s0)(z,I);var B=y,F=(0,g.j9)(z,B),O=(0,g.j9)(B,B),N=F*F-O*((0,g.j9)(z,z)-1);if(!(N<0)){var _=(0,i._b)(N),U=(0,g.T)(B,(-F-_)/O);if((0,g.s0)(U,z),U=(0,g.Y1)(U),!o)return U;var Y=w[0],K=h[0],re=w[1],ae=h[1],fe;K<Y&&(fe=Y,Y=K,K=fe);var Q=K-Y,j=(0,i.Wn)(Q-i.pi)<i.Ho,X=j||Q<i.Ho;if(!j&&ae<re&&(fe=re,re=ae,ae=fe),X?j?re+ae>0^U[1]<((0,i.Wn)(U[0]-Y)<i.Ho?re:ae):re<=U[1]&&U[1]<=ae:Q>i.pi^(Y<=U[0]&&U[0]<=K)){var J=(0,g.T)(B,(-F+_)/O);return(0,g.s0)(J,z),[U,(0,g.Y1)(J)]}}}function c(w,h){var o=s?p:i.pi-p,d=0;return w<-o?d|=1:w>o&&(d|=2),h<-o?d|=4:h>o&&(d|=8),d}return(0,A.Z)(f,u,l,s?[0,-p]:[-i.pi,p-i.pi])}},97023:function(W,H,e){e.d(H,{Z:function(){return v}});var g=e(85272),P=e(46225),i=e(39695),L=e(23071),A=e(33064);function v(r,s,n,l){return function(f){var u=s(f),m=(0,g.Z)(),c=s(m),w=!1,h,o,d,M={point:T,lineStart:x,lineEnd:S,polygonStart:function(){M.point=b,M.lineStart=a,M.lineEnd=C,o=[],h=[]},polygonEnd:function(){M.point=T,M.lineStart=x,M.lineEnd=S,o=(0,A.TS)(o);var y=(0,L.Z)(h,l);o.length?(w||(f.polygonStart(),w=!0),(0,P.Z)(o,t,y,n,f)):y&&(w||(f.polygonStart(),w=!0),f.lineStart(),n(null,null,1,f),f.lineEnd()),w&&(f.polygonEnd(),w=!1),o=h=null},sphere:function(){f.polygonStart(),f.lineStart(),n(null,null,1,f),f.lineEnd(),f.polygonEnd()}};function T(y,z){r(y,z)&&f.point(y,z)}function E(y,z){u.point(y,z)}function x(){M.point=E,u.lineStart()}function S(){M.point=T,u.lineEnd()}function b(y,z){d.push([y,z]),c.point(y,z)}function a(){c.lineStart(),d=[]}function C(){b(d[0][0],d[0][1]),c.lineEnd();var y=c.clean(),z=m.result(),I,B=z.length,F,O,N;if(d.pop(),h.push(d),d=null,!!B){if(y&1){if(O=z[0],(F=O.length-1)>0){for(w||(f.polygonStart(),w=!0),f.lineStart(),I=0;I<F;++I)f.point((N=O[I])[0],N[1]);f.lineEnd()}return}B>1&&y&2&&z.push(z.pop().concat(z.shift())),o.push(z.filter(p))}}return M}}function p(r){return r.length>1}function t(r,s){return((r=r.x)[0]<0?r[1]-i.ou-i.Ho:i.ou-r[1])-((s=s.x)[0]<0?s[1]-i.ou-i.Ho:i.ou-s[1])}},87605:function(W,H,e){e.d(H,{Z:function(){return t}});var g=e(39695),P=e(85272);function i(r,s,n,l,f,u){var m=r[0],c=r[1],w=s[0],h=s[1],o=0,d=1,M=w-m,T=h-c,E;if(E=n-m,!(!M&&E>0)){if(E/=M,M<0){if(E<o)return;E<d&&(d=E)}else if(M>0){if(E>d)return;E>o&&(o=E)}if(E=f-m,!(!M&&E<0)){if(E/=M,M<0){if(E>d)return;E>o&&(o=E)}else if(M>0){if(E<o)return;E<d&&(d=E)}if(E=l-c,!(!T&&E>0)){if(E/=T,T<0){if(E<o)return;E<d&&(d=E)}else if(T>0){if(E>d)return;E>o&&(o=E)}if(E=u-c,!(!T&&E<0)){if(E/=T,T<0){if(E>d)return;E>o&&(o=E)}else if(T>0){if(E<o)return;E<d&&(d=E)}return o>0&&(r[0]=m+o*M,r[1]=c+o*T),d<1&&(s[0]=m+d*M,s[1]=c+d*T),!0}}}}}var L=e(46225),A=e(33064),v=1e9,p=-v;function t(r,s,n,l){function f(h,o){return r<=h&&h<=n&&s<=o&&o<=l}function u(h,o,d,M){var T=0,E=0;if(h==null||(T=m(h,d))!==(E=m(o,d))||w(h,o)<0^d>0)do M.point(T===0||T===3?r:n,T>1?l:s);while((T=(T+d+4)%4)!==E);else M.point(o[0],o[1])}function m(h,o){return(0,g.Wn)(h[0]-r)<g.Ho?o>0?0:3:(0,g.Wn)(h[0]-n)<g.Ho?o>0?2:1:(0,g.Wn)(h[1]-s)<g.Ho?o>0?1:0:o>0?3:2}function c(h,o){return w(h.x,o.x)}function w(h,o){var d=m(h,1),M=m(o,1);return d!==M?d-M:d===0?o[1]-h[1]:d===1?h[0]-o[0]:d===2?h[1]-o[1]:o[0]-h[0]}return function(h){var o=h,d=(0,P.Z)(),M,T,E,x,S,b,a,C,y,z,I,B={point:F,lineStart:U,lineEnd:Y,polygonStart:N,polygonEnd:_};function F(re,ae){f(re,ae)&&o.point(re,ae)}function O(){for(var re=0,ae=0,fe=T.length;ae<fe;++ae)for(var Q=T[ae],j=1,X=Q.length,J=Q[0],ee,se,q=J[0],$=J[1];j<X;++j)ee=q,se=$,J=Q[j],q=J[0],$=J[1],se<=l?$>l&&(q-ee)*(l-se)>($-se)*(r-ee)&&++re:$<=l&&(q-ee)*(l-se)<($-se)*(r-ee)&&--re;return re}function N(){o=d,M=[],T=[],I=!0}function _(){var re=O(),ae=I&&re,fe=(M=(0,A.TS)(M)).length;(ae||fe)&&(h.polygonStart(),ae&&(h.lineStart(),u(null,null,1,h),h.lineEnd()),fe&&(0,L.Z)(M,c,re,u,h),h.polygonEnd()),o=h,M=T=E=null}function U(){B.point=K,T&&T.push(E=[]),z=!0,y=!1,a=C=NaN}function Y(){M&&(K(x,S),b&&y&&d.rejoin(),M.push(d.result())),B.point=F,y&&o.lineEnd()}function K(re,ae){var fe=f(re,ae);if(T&&E.push([re,ae]),z)x=re,S=ae,b=fe,z=!1,fe&&(o.lineStart(),o.point(re,ae));else if(fe&&y)o.point(re,ae);else{var Q=[a=Math.max(p,Math.min(v,a)),C=Math.max(p,Math.min(v,C))],j=[re=Math.max(p,Math.min(v,re)),ae=Math.max(p,Math.min(v,ae))];i(Q,j,r,s,n,l)?(y||(o.lineStart(),o.point(Q[0],Q[1])),o.point(j[0],j[1]),fe||o.lineEnd(),I=!1):fe&&(o.lineStart(),o.point(re,ae),I=!1)}a=re,C=ae,y=fe}return B}}},46225:function(W,H,e){e.d(H,{Z:function(){return L}});var g=e(67108),P=e(39695);function i(v,p,t,r){this.x=v,this.z=p,this.o=t,this.e=r,this.v=!1,this.n=this.p=null}function L(v,p,t,r,s){var n=[],l=[],f,u;if(v.forEach(function(d){if(!((M=d.length-1)<=0)){var M,T=d[0],E=d[M],x;if((0,g.Z)(T,E)){if(!T[2]&&!E[2]){for(s.lineStart(),f=0;f<M;++f)s.point((T=d[f])[0],T[1]);s.lineEnd();return}E[0]+=2*P.Ho}n.push(x=new i(T,d,null,!0)),l.push(x.o=new i(T,null,x,!1)),n.push(x=new i(E,d,null,!1)),l.push(x.o=new i(E,null,x,!0))}}),!!n.length){for(l.sort(p),A(n),A(l),f=0,u=l.length;f<u;++f)l[f].e=t=!t;for(var m=n[0],c,w;;){for(var h=m,o=!0;h.v;)if((h=h.n)===m)return;c=h.z,s.lineStart();do{if(h.v=h.o.v=!0,h.e){if(o)for(f=0,u=c.length;f<u;++f)s.point((w=c[f])[0],w[1]);else r(h.x,h.n.x,1,s);h=h.n}else{if(o)for(c=h.p.z,f=c.length-1;f>=0;--f)s.point((w=c[f])[0],w[1]);else r(h.x,h.p.x,-1,s);h=h.p}h=h.o,c=h.z,o=!o}while(!h.v);s.lineEnd()}}}function A(v){if(p=v.length){for(var p,t=0,r=v[0],s;++t<p;)r.n=s=v[t],s.p=r,r=s;r.n=s=v[0],s.p=r}}},96059:function(W,H,e){e.d(H,{Z:function(){return g}});function g(P,i){function L(A,v){return A=P(A,v),i(A[0],A[1])}return P.invert&&i.invert&&(L.invert=function(A,v){return A=i.invert(A,v),A&&P.invert(A[0],A[1])}),L}},8593:function(W,H,e){e.d(H,{Z:function(){return g}});function g(P){return P}},27362:function(W,H,e){e.r(H),e.d(H,{geoAlbers:function(){return mr},geoAlbersUsa:function(){return st},geoArea:function(){return g.ZP},geoAzimuthalEqualArea:function(){return xt.Z},geoAzimuthalEqualAreaRaw:function(){return xt.l},geoAzimuthalEquidistant:function(){return Mt.Z},geoAzimuthalEquidistantRaw:function(){return Mt.N},geoBounds:function(){return P.Z},geoCentroid:function(){return i.Z},geoCircle:function(){return L.Z},geoClipAntimeridian:function(){return A.Z},geoClipCircle:function(){return v.Z},geoClipExtent:function(){return t},geoClipRectangle:function(){return p.Z},geoConicConformal:function(){return sr},geoConicConformalRaw:function(){return lr},geoConicEqualArea:function(){return Kt},geoConicEqualAreaRaw:function(){return Zt},geoConicEquidistant:function(){return Ye},geoConicEquidistantRaw:function(){return je},geoContains:function(){return N},geoDistance:function(){return b},geoEqualEarth:function(){return hr},geoEqualEarthRaw:function(){return _t},geoEquirectangular:function(){return dr.Z},geoEquirectangularRaw:function(){return dr.k},geoGnomonic:function(){return gr.Z},geoGnomonicRaw:function(){return gr.M},geoGraticule:function(){return K},geoGraticule10:function(){return re},geoIdentity:function(){return vr},geoInterpolate:function(){return ae.Z},geoLength:function(){return E},geoMercator:function(){return Nt},geoMercatorRaw:function(){return Rt},geoNaturalEarth1:function(){return Hr.Z},geoNaturalEarth1Raw:function(){return Hr.K},geoOrthographic:function(){return kr.Z},geoOrthographicRaw:function(){return kr.I},geoPath:function(){return zt},geoProjection:function(){return Jt.Z},geoProjectionMutator:function(){return Jt.r},geoRotation:function(){return Dt.Z},geoStereographic:function(){return qr},geoStereographicRaw:function(){return pn},geoStream:function(){return f.Z},geoTransform:function(){return pr.Z},geoTransverseMercator:function(){return Tn},geoTransverseMercatorRaw:function(){return On}});var g=e(97860),P=e(77338),i=e(66624),L=e(7613),A=e(87070),v=e(1457),p=e(87605);function t(){var Sr=0,Er=0,Gr=960,Br=500,nn,gn,mn;return mn={stream:function(Pn){return nn&&gn===Pn?nn:nn=(0,p.Z)(Sr,Er,Gr,Br)(gn=Pn)},extent:function(Pn){return arguments.length?(Sr=+Pn[0][0],Er=+Pn[0][1],Gr=+Pn[1][0],Br=+Pn[1][1],nn=gn=null,mn):[[Sr,Er],[Gr,Br]]}}}var r=e(23071),s=e(33940),n=e(39695),l=e(73182),f=e(72736),u=(0,s.Z)(),m,c,w,h={sphere:l.Z,point:l.Z,lineStart:o,lineEnd:l.Z,polygonStart:l.Z,polygonEnd:l.Z};function o(){h.point=M,h.lineEnd=d}function d(){h.point=h.lineEnd=l.Z}function M(Sr,Er){Sr*=n.uR,Er*=n.uR,m=Sr,c=(0,n.O$)(Er),w=(0,n.mC)(Er),h.point=T}function T(Sr,Er){Sr*=n.uR,Er*=n.uR;var Gr=(0,n.O$)(Er),Br=(0,n.mC)(Er),nn=(0,n.Wn)(Sr-m),gn=(0,n.mC)(nn),mn=(0,n.O$)(nn),Pn=Br*mn,Fn=w*Gr-c*Br*gn,ia=c*Gr+w*Br*gn;u.add((0,n.fv)((0,n._b)(Pn*Pn+Fn*Fn),ia)),m=Sr,c=Gr,w=Br}function E(Sr){return u.reset(),(0,f.Z)(Sr,h),+u}var x=[null,null],S={type:"LineString",coordinates:x};function b(Sr,Er){return x[0]=Sr,x[1]=Er,E(S)}var a={Feature:function(Sr,Er){return y(Sr.geometry,Er)},FeatureCollection:function(Sr,Er){for(var Gr=Sr.features,Br=-1,nn=Gr.length;++Br<nn;)if(y(Gr[Br].geometry,Er))return!0;return!1}},C={Sphere:function(){return!0},Point:function(Sr,Er){return z(Sr.coordinates,Er)},MultiPoint:function(Sr,Er){for(var Gr=Sr.coordinates,Br=-1,nn=Gr.length;++Br<nn;)if(z(Gr[Br],Er))return!0;return!1},LineString:function(Sr,Er){return I(Sr.coordinates,Er)},MultiLineString:function(Sr,Er){for(var Gr=Sr.coordinates,Br=-1,nn=Gr.length;++Br<nn;)if(I(Gr[Br],Er))return!0;return!1},Polygon:function(Sr,Er){return B(Sr.coordinates,Er)},MultiPolygon:function(Sr,Er){for(var Gr=Sr.coordinates,Br=-1,nn=Gr.length;++Br<nn;)if(B(Gr[Br],Er))return!0;return!1},GeometryCollection:function(Sr,Er){for(var Gr=Sr.geometries,Br=-1,nn=Gr.length;++Br<nn;)if(y(Gr[Br],Er))return!0;return!1}};function y(Sr,Er){return Sr&&C.hasOwnProperty(Sr.type)?C[Sr.type](Sr,Er):!1}function z(Sr,Er){return b(Sr,Er)===0}function I(Sr,Er){for(var Gr,Br,nn,gn=0,mn=Sr.length;gn<mn;gn++){if(Br=b(Sr[gn],Er),Br===0||gn>0&&(nn=b(Sr[gn],Sr[gn-1]),nn>0&&Gr<=nn&&Br<=nn&&(Gr+Br-nn)*(1-Math.pow((Gr-Br)/nn,2))<n.aW*nn))return!0;Gr=Br}return!1}function B(Sr,Er){return!!(0,r.Z)(Sr.map(F),O(Er))}function F(Sr){return Sr=Sr.map(O),Sr.pop(),Sr}function O(Sr){return[Sr[0]*n.uR,Sr[1]*n.uR]}function N(Sr,Er){return(Sr&&a.hasOwnProperty(Sr.type)?a[Sr.type]:y)(Sr,Er)}var _=e(33064);function U(Sr,Er,Gr){var Br=(0,_.w6)(Sr,Er-n.Ho,Gr).concat(Er);return function(nn){return Br.map(function(gn){return[nn,gn]})}}function Y(Sr,Er,Gr){var Br=(0,_.w6)(Sr,Er-n.Ho,Gr).concat(Er);return function(nn){return Br.map(function(gn){return[gn,nn]})}}function K(){var Sr,Er,Gr,Br,nn,gn,mn,Pn,Fn=10,ia=Fn,jn=90,$n=360,Wn,Qn,Tr,sn,tn=2.5;function yn(){return{type:"MultiLineString",coordinates:Hn()}}function Hn(){return(0,_.w6)((0,n.mD)(Br/jn)*jn,Gr,jn).map(Tr).concat((0,_.w6)((0,n.mD)(Pn/$n)*$n,mn,$n).map(sn)).concat((0,_.w6)((0,n.mD)(Er/Fn)*Fn,Sr,Fn).filter(function(Sn){return(0,n.Wn)(Sn%jn)>n.Ho}).map(Wn)).concat((0,_.w6)((0,n.mD)(gn/ia)*ia,nn,ia).filter(function(Sn){return(0,n.Wn)(Sn%$n)>n.Ho}).map(Qn))}return yn.lines=function(){return Hn().map(function(Sn){return{type:"LineString",coordinates:Sn}})},yn.outline=function(){return{type:"Polygon",coordinates:[Tr(Br).concat(sn(mn).slice(1),Tr(Gr).reverse().slice(1),sn(Pn).reverse().slice(1))]}},yn.extent=function(Sn){return arguments.length?yn.extentMajor(Sn).extentMinor(Sn):yn.extentMinor()},yn.extentMajor=function(Sn){return arguments.length?(Br=+Sn[0][0],Gr=+Sn[1][0],Pn=+Sn[0][1],mn=+Sn[1][1],Br>Gr&&(Sn=Br,Br=Gr,Gr=Sn),Pn>mn&&(Sn=Pn,Pn=mn,mn=Sn),yn.precision(tn)):[[Br,Pn],[Gr,mn]]},yn.extentMinor=function(Sn){return arguments.length?(Er=+Sn[0][0],Sr=+Sn[1][0],gn=+Sn[0][1],nn=+Sn[1][1],Er>Sr&&(Sn=Er,Er=Sr,Sr=Sn),gn>nn&&(Sn=gn,gn=nn,nn=Sn),yn.precision(tn)):[[Er,gn],[Sr,nn]]},yn.step=function(Sn){return arguments.length?yn.stepMajor(Sn).stepMinor(Sn):yn.stepMinor()},yn.stepMajor=function(Sn){return arguments.length?(jn=+Sn[0],$n=+Sn[1],yn):[jn,$n]},yn.stepMinor=function(Sn){return arguments.length?(Fn=+Sn[0],ia=+Sn[1],yn):[Fn,ia]},yn.precision=function(Sn){return arguments.length?(tn=+Sn,Wn=U(gn,nn,90),Qn=Y(Er,Sr,tn),Tr=U(Pn,mn,90),sn=Y(Br,Gr,tn),yn):tn},yn.extentMajor([[-180,-90+n.Ho],[180,90-n.Ho]]).extentMinor([[-180,-80-n.Ho],[180,80+n.Ho]])}function re(){return K()()}var ae=e(83074),fe=e(8593),Q=(0,s.Z)(),j=(0,s.Z)(),X,J,ee,se,q={point:l.Z,lineStart:l.Z,lineEnd:l.Z,polygonStart:function(){q.lineStart=$,q.lineEnd=ce},polygonEnd:function(){q.lineStart=q.lineEnd=q.point=l.Z,Q.add((0,n.Wn)(j)),j.reset()},result:function(){var Sr=Q/2;return Q.reset(),Sr}};function $(){q.point=le}function le(Sr,Er){q.point=ie,X=ee=Sr,J=se=Er}function ie(Sr,Er){j.add(se*Sr-ee*Er),ee=Sr,se=Er}function ce(){ie(X,J)}var me=q,Me=e(3559),we=0,Oe=0,Be=0,Ce=0,xe=0,Se=0,He=0,Ge=0,ke=0,We,it,et,tt,at={point:ht,lineStart:yt,lineEnd:Ct,polygonStart:function(){at.lineStart=Vt,at.lineEnd=Qe},polygonEnd:function(){at.point=ht,at.lineStart=yt,at.lineEnd=Ct},result:function(){var Sr=ke?[He/ke,Ge/ke]:Se?[Ce/Se,xe/Se]:Be?[we/Be,Oe/Be]:[NaN,NaN];return we=Oe=Be=Ce=xe=Se=He=Ge=ke=0,Sr}};function ht(Sr,Er){we+=Sr,Oe+=Er,++Be}function yt(){at.point=gt}function gt(Sr,Er){at.point=Et,ht(et=Sr,tt=Er)}function Et(Sr,Er){var Gr=Sr-et,Br=Er-tt,nn=(0,n._b)(Gr*Gr+Br*Br);Ce+=nn*(et+Sr)/2,xe+=nn*(tt+Er)/2,Se+=nn,ht(et=Sr,tt=Er)}function Ct(){at.point=ht}function Vt(){at.point=Fe}function Qe(){Ie(We,it)}function Fe(Sr,Er){at.point=Ie,ht(We=et=Sr,it=tt=Er)}function Ie(Sr,Er){var Gr=Sr-et,Br=Er-tt,nn=(0,n._b)(Gr*Gr+Br*Br);Ce+=nn*(et+Sr)/2,xe+=nn*(tt+Er)/2,Se+=nn,nn=tt*Sr-et*Er,He+=nn*(et+Sr),Ge+=nn*(tt+Er),ke+=nn*3,ht(et=Sr,tt=Er)}var ze=at;function Re(Sr){this._context=Sr}Re.prototype={_radius:4.5,pointRadius:function(Sr){return this._radius=Sr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Sr,Er){switch(this._point){case 0:{this._context.moveTo(Sr,Er),this._point=1;break}case 1:{this._context.lineTo(Sr,Er);break}default:{this._context.moveTo(Sr+this._radius,Er),this._context.arc(Sr,Er,this._radius,0,n.BZ);break}}},result:l.Z};var be=(0,s.Z)(),ye,Ae,Ee,Ne,Je,qe={point:l.Z,lineStart:function(){qe.point=vt},lineEnd:function(){ye&&bt(Ae,Ee),qe.point=l.Z},polygonStart:function(){ye=!0},polygonEnd:function(){ye=null},result:function(){var Sr=+be;return be.reset(),Sr}};function vt(Sr,Er){qe.point=bt,Ae=Ne=Sr,Ee=Je=Er}function bt(Sr,Er){Ne-=Sr,Je-=Er,be.add((0,n._b)(Ne*Ne+Je*Je)),Ne=Sr,Je=Er}var Wt=qe;function qt(){this._string=[]}qt.prototype={_radius:4.5,_circle:At(4.5),pointRadius:function(Sr){return(Sr=+Sr)!==this._radius&&(this._radius=Sr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Sr,Er){switch(this._point){case 0:{this._string.push("M",Sr,",",Er),this._point=1;break}case 1:{this._string.push("L",Sr,",",Er);break}default:{this._circle==null&&(this._circle=At(this._radius)),this._string.push("M",Sr,",",Er,this._circle);break}}},result:function(){if(this._string.length){var Sr=this._string.join("");return this._string=[],Sr}else return null}};function At(Sr){return"m0,"+Sr+"a"+Sr+","+Sr+" 0 1,1 0,"+-2*Sr+"a"+Sr+","+Sr+" 0 1,1 0,"+2*Sr+"z"}function zt(Sr,Er){var Gr=4.5,Br,nn;function gn(mn){return mn&&(typeof Gr=="function"&&nn.pointRadius(+Gr.apply(this,arguments)),(0,f.Z)(mn,Br(nn))),nn.result()}return gn.area=function(mn){return(0,f.Z)(mn,Br(me)),me.result()},gn.measure=function(mn){return(0,f.Z)(mn,Br(Wt)),Wt.result()},gn.bounds=function(mn){return(0,f.Z)(mn,Br(Me.Z)),Me.Z.result()},gn.centroid=function(mn){return(0,f.Z)(mn,Br(ze)),ze.result()},gn.projection=function(mn){return arguments.length?(Br=mn==null?(Sr=null,fe.Z):(Sr=mn).stream,gn):Sr},gn.context=function(mn){return arguments.length?(nn=mn==null?(Er=null,new qt):new Re(Er=mn),typeof Gr!="function"&&nn.pointRadius(Gr),gn):Er},gn.pointRadius=function(mn){return arguments.length?(Gr=typeof mn=="function"?mn:(nn.pointRadius(+mn),+mn),gn):Gr},gn.projection(Sr).context(Er)}var Jt=e(15002);function Mr(Sr){var Er=0,Gr=n.pi/3,Br=(0,Jt.r)(Sr),nn=Br(Er,Gr);return nn.parallels=function(gn){return arguments.length?Br(Er=gn[0]*n.uR,Gr=gn[1]*n.uR):[Er*n.RW,Gr*n.RW]},nn}function pt(Sr){var Er=(0,n.mC)(Sr);function Gr(Br,nn){return[Br*Er,(0,n.O$)(nn)/Er]}return Gr.invert=function(Br,nn){return[Br/Er,(0,n.ZR)(nn*Er)]},Gr}function Zt(Sr,Er){var Gr=(0,n.O$)(Sr),Br=(Gr+(0,n.O$)(Er))/2;if((0,n.Wn)(Br)<n.Ho)return pt(Sr);var nn=1+Gr*(2*Br-Gr),gn=(0,n._b)(nn)/Br;function mn(Pn,Fn){var ia=(0,n._b)(nn-2*Br*(0,n.O$)(Fn))/Br;return[ia*(0,n.O$)(Pn*=Br),gn-ia*(0,n.mC)(Pn)]}return mn.invert=function(Pn,Fn){var ia=gn-Fn,jn=(0,n.fv)(Pn,(0,n.Wn)(ia))*(0,n.Xx)(ia);return ia*Br<0&&(jn-=n.pi*(0,n.Xx)(Pn)*(0,n.Xx)(ia)),[jn/Br,(0,n.ZR)((nn-(Pn*Pn+ia*ia)*Br*Br)/(2*Br))]},mn}function Kt(){return Mr(Zt).scale(155.424).center([0,33.6442])}function mr(){return Kt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var ur=e(47589);function dt(Sr){var Er=Sr.length;return{point:function(Gr,Br){for(var nn=-1;++nn<Er;)Sr[nn].point(Gr,Br)},sphere:function(){for(var Gr=-1;++Gr<Er;)Sr[Gr].sphere()},lineStart:function(){for(var Gr=-1;++Gr<Er;)Sr[Gr].lineStart()},lineEnd:function(){for(var Gr=-1;++Gr<Er;)Sr[Gr].lineEnd()},polygonStart:function(){for(var Gr=-1;++Gr<Er;)Sr[Gr].polygonStart()},polygonEnd:function(){for(var Gr=-1;++Gr<Er;)Sr[Gr].polygonEnd()}}}function st(){var Sr,Er,Gr=mr(),Br,nn=Kt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),gn,mn=Kt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Pn,Fn,ia={point:function(Wn,Qn){Fn=[Wn,Qn]}};function jn(Wn){var Qn=Wn[0],Tr=Wn[1];return Fn=null,Br.point(Qn,Tr),Fn||(gn.point(Qn,Tr),Fn)||(Pn.point(Qn,Tr),Fn)}jn.invert=function(Wn){var Qn=Gr.scale(),Tr=Gr.translate(),sn=(Wn[0]-Tr[0])/Qn,tn=(Wn[1]-Tr[1])/Qn;return(tn>=.12&&tn<.234&&sn>=-.425&&sn<-.214?nn:tn>=.166&&tn<.234&&sn>=-.214&&sn<-.115?mn:Gr).invert(Wn)},jn.stream=function(Wn){return Sr&&Er===Wn?Sr:Sr=dt([Gr.stream(Er=Wn),nn.stream(Wn),mn.stream(Wn)])},jn.precision=function(Wn){return arguments.length?(Gr.precision(Wn),nn.precision(Wn),mn.precision(Wn),$n()):Gr.precision()},jn.scale=function(Wn){return arguments.length?(Gr.scale(Wn),nn.scale(Wn*.35),mn.scale(Wn),jn.translate(Gr.translate())):Gr.scale()},jn.translate=function(Wn){if(!arguments.length)return Gr.translate();var Qn=Gr.scale(),Tr=+Wn[0],sn=+Wn[1];return Br=Gr.translate(Wn).clipExtent([[Tr-.455*Qn,sn-.238*Qn],[Tr+.455*Qn,sn+.238*Qn]]).stream(ia),gn=nn.translate([Tr-.307*Qn,sn+.201*Qn]).clipExtent([[Tr-.425*Qn+n.Ho,sn+.12*Qn+n.Ho],[Tr-.214*Qn-n.Ho,sn+.234*Qn-n.Ho]]).stream(ia),Pn=mn.translate([Tr-.205*Qn,sn+.212*Qn]).clipExtent([[Tr-.214*Qn+n.Ho,sn+.166*Qn+n.Ho],[Tr-.115*Qn-n.Ho,sn+.234*Qn-n.Ho]]).stream(ia),$n()},jn.fitExtent=function(Wn,Qn){return(0,ur.qg)(jn,Wn,Qn)},jn.fitSize=function(Wn,Qn){return(0,ur.mF)(jn,Wn,Qn)},jn.fitWidth=function(Wn,Qn){return(0,ur.V6)(jn,Wn,Qn)},jn.fitHeight=function(Wn,Qn){return(0,ur.rf)(jn,Wn,Qn)};function $n(){return Sr=Er=null,jn}return jn.scale(1070)}var xt=e(12956),Mt=e(17889),Dt=e(49386);function Rt(Sr,Er){return[Sr,(0,n.cM)((0,n.OR)((n.ou+Er)/2))]}Rt.invert=function(Sr,Er){return[Sr,2*(0,n.z4)((0,n.Qq)(Er))-n.ou]};function Nt(){return Bt(Rt).scale(961/n.BZ)}function Bt(Sr){var Er=(0,Jt.Z)(Sr),Gr=Er.center,Br=Er.scale,nn=Er.translate,gn=Er.clipExtent,mn=null,Pn,Fn,ia;Er.scale=function($n){return arguments.length?(Br($n),jn()):Br()},Er.translate=function($n){return arguments.length?(nn($n),jn()):nn()},Er.center=function($n){return arguments.length?(Gr($n),jn()):Gr()},Er.clipExtent=function($n){return arguments.length?($n==null?mn=Pn=Fn=ia=null:(mn=+$n[0][0],Pn=+$n[0][1],Fn=+$n[1][0],ia=+$n[1][1]),jn()):mn==null?null:[[mn,Pn],[Fn,ia]]};function jn(){var $n=n.pi*Br(),Wn=Er((0,Dt.Z)(Er.rotate()).invert([0,0]));return gn(mn==null?[[Wn[0]-$n,Wn[1]-$n],[Wn[0]+$n,Wn[1]+$n]]:Sr===Rt?[[Math.max(Wn[0]-$n,mn),Pn],[Math.min(Wn[0]+$n,Fn),ia]]:[[mn,Math.max(Wn[1]-$n,Pn)],[Fn,Math.min(Wn[1]+$n,ia)]])}return jn()}function Xt(Sr){return(0,n.OR)((n.ou+Sr)/2)}function lr(Sr,Er){var Gr=(0,n.mC)(Sr),Br=Sr===Er?(0,n.O$)(Sr):(0,n.cM)(Gr/(0,n.mC)(Er))/(0,n.cM)(Xt(Er)/Xt(Sr)),nn=Gr*(0,n.sQ)(Xt(Sr),Br)/Br;if(!Br)return Rt;function gn(mn,Pn){nn>0?Pn<-n.ou+n.Ho&&(Pn=-n.ou+n.Ho):Pn>n.ou-n.Ho&&(Pn=n.ou-n.Ho);var Fn=nn/(0,n.sQ)(Xt(Pn),Br);return[Fn*(0,n.O$)(Br*mn),nn-Fn*(0,n.mC)(Br*mn)]}return gn.invert=function(mn,Pn){var Fn=nn-Pn,ia=(0,n.Xx)(Br)*(0,n._b)(mn*mn+Fn*Fn),jn=(0,n.fv)(mn,(0,n.Wn)(Fn))*(0,n.Xx)(Fn);return Fn*Br<0&&(jn-=n.pi*(0,n.Xx)(mn)*(0,n.Xx)(Fn)),[jn/Br,2*(0,n.z4)((0,n.sQ)(nn/ia,1/Br))-n.ou]},gn}function sr(){return Mr(lr).scale(109.5).parallels([30,30])}var dr=e(97492);function je(Sr,Er){var Gr=(0,n.mC)(Sr),Br=Sr===Er?(0,n.O$)(Sr):(Gr-(0,n.mC)(Er))/(Er-Sr),nn=Gr/Br+Sr;if((0,n.Wn)(Br)<n.Ho)return dr.k;function gn(mn,Pn){var Fn=nn-Pn,ia=Br*mn;return[Fn*(0,n.O$)(ia),nn-Fn*(0,n.mC)(ia)]}return gn.invert=function(mn,Pn){var Fn=nn-Pn,ia=(0,n.fv)(mn,(0,n.Wn)(Fn))*(0,n.Xx)(Fn);return Fn*Br<0&&(ia-=n.pi*(0,n.Xx)(mn)*(0,n.Xx)(Fn)),[ia/Br,nn-(0,n.Xx)(Br)*(0,n._b)(mn*mn+Fn*Fn)]},gn}function Ye(){return Mr(je).scale(131.154).center([0,13.9389])}var It=1.340264,kt=-.081106,Yt=893e-6,tr=.003796,or=(0,n._b)(3)/2,rr=12;function _t(Sr,Er){var Gr=(0,n.ZR)(or*(0,n.O$)(Er)),Br=Gr*Gr,nn=Br*Br*Br;return[Sr*(0,n.mC)(Gr)/(or*(It+3*kt*Br+nn*(7*Yt+9*tr*Br))),Gr*(It+kt*Br+nn*(Yt+tr*Br))]}_t.invert=function(Sr,Er){for(var Gr=Er,Br=Gr*Gr,nn=Br*Br*Br,gn=0,mn,Pn,Fn;gn<rr&&(Pn=Gr*(It+kt*Br+nn*(Yt+tr*Br))-Er,Fn=It+3*kt*Br+nn*(7*Yt+9*tr*Br),Gr-=mn=Pn/Fn,Br=Gr*Gr,nn=Br*Br*Br,!((0,n.Wn)(mn)<n.aW));++gn);return[or*Sr*(It+3*kt*Br+nn*(7*Yt+9*tr*Br))/(0,n.mC)(Gr),(0,n.ZR)((0,n.O$)(Gr)/or)]};function hr(){return(0,Jt.Z)(_t).scale(177.158)}var gr=e(98936),pr=e(64684);function vr(){var Sr=1,Er=0,Gr=0,Br=1,nn=1,gn=0,mn,Pn,Fn=null,ia,jn,$n,Wn=1,Qn=1,Tr=(0,pr.l)({point:function(En,Nn){var ea=Sn([En,Nn]);this.stream.point(ea[0],ea[1])}}),sn=fe.Z,tn,yn;function Hn(){return Wn=Sr*Br,Qn=Sr*nn,tn=yn=null,Sn}function Sn(En){var Nn=En[0]*Wn,ea=En[1]*Qn;if(gn){var xa=ea*mn-Nn*Pn;Nn=Nn*mn+ea*Pn,ea=xa}return[Nn+Er,ea+Gr]}return Sn.invert=function(En){var Nn=En[0]-Er,ea=En[1]-Gr;if(gn){var xa=ea*mn+Nn*Pn;Nn=Nn*mn-ea*Pn,ea=xa}return[Nn/Wn,ea/Qn]},Sn.stream=function(En){return tn&&yn===En?tn:tn=Tr(sn(yn=En))},Sn.postclip=function(En){return arguments.length?(sn=En,Fn=ia=jn=$n=null,Hn()):sn},Sn.clipExtent=function(En){return arguments.length?(sn=En==null?(Fn=ia=jn=$n=null,fe.Z):(0,p.Z)(Fn=+En[0][0],ia=+En[0][1],jn=+En[1][0],$n=+En[1][1]),Hn()):Fn==null?null:[[Fn,ia],[jn,$n]]},Sn.scale=function(En){return arguments.length?(Sr=+En,Hn()):Sr},Sn.translate=function(En){return arguments.length?(Er=+En[0],Gr=+En[1],Hn()):[Er,Gr]},Sn.angle=function(En){return arguments.length?(gn=En%360*n.uR,Pn=(0,n.O$)(gn),mn=(0,n.mC)(gn),Hn()):gn*n.RW},Sn.reflectX=function(En){return arguments.length?(Br=En?-1:1,Hn()):Br<0},Sn.reflectY=function(En){return arguments.length?(nn=En?-1:1,Hn()):nn<0},Sn.fitExtent=function(En,Nn){return(0,ur.qg)(Sn,En,Nn)},Sn.fitSize=function(En,Nn){return(0,ur.mF)(Sn,En,Nn)},Sn.fitWidth=function(En,Nn){return(0,ur.V6)(Sn,En,Nn)},Sn.fitHeight=function(En,Nn){return(0,ur.rf)(Sn,En,Nn)},Sn}var Hr=e(26867),kr=e(57962),Fr=e(25382);function pn(Sr,Er){var Gr=(0,n.mC)(Er),Br=1+(0,n.mC)(Sr)*Gr;return[Gr*(0,n.O$)(Sr)/Br,(0,n.O$)(Er)/Br]}pn.invert=(0,Fr.O)(function(Sr){return 2*(0,n.z4)(Sr)});function qr(){return(0,Jt.Z)(pn).scale(250).clipAngle(142)}function On(Sr,Er){return[(0,n.cM)((0,n.OR)((n.ou+Er)/2)),-Sr]}On.invert=function(Sr,Er){return[-Er,2*(0,n.z4)((0,n.Qq)(Sr))-n.ou]};function Tn(){var Sr=Bt(On),Er=Sr.center,Gr=Sr.rotate;return Sr.center=function(Br){return arguments.length?Er([-Br[1],Br[0]]):(Br=Er(),[Br[1],-Br[0]])},Sr.rotate=function(Br){return arguments.length?Gr([Br[0],Br[1],Br.length>2?Br[2]+90:90]):(Br=Gr(),[Br[0],Br[1],Br[2]-90])},Gr([0,0,90]).scale(159.155)}},83074:function(W,H,e){e.d(H,{Z:function(){return P}});var g=e(39695);function P(i,L){var A=i[0]*g.uR,v=i[1]*g.uR,p=L[0]*g.uR,t=L[1]*g.uR,r=(0,g.mC)(v),s=(0,g.O$)(v),n=(0,g.mC)(t),l=(0,g.O$)(t),f=r*(0,g.mC)(A),u=r*(0,g.O$)(A),m=n*(0,g.mC)(p),c=n*(0,g.O$)(p),w=2*(0,g.ZR)((0,g._b)((0,g.Jy)(t-v)+r*n*(0,g.Jy)(p-A))),h=(0,g.O$)(w),o=w?function(d){var M=(0,g.O$)(d*=w)/h,T=(0,g.O$)(w-d)/h,E=T*f+M*m,x=T*u+M*c,S=T*s+M*l;return[(0,g.fv)(x,E)*g.RW,(0,g.fv)(S,(0,g._b)(E*E+x*x))*g.RW]}:function(){return[A*g.RW,v*g.RW]};return o.distance=w,o}},39695:function(W,H,e){e.d(H,{BZ:function(){return v},Ho:function(){return g},Jy:function(){return E},Kh:function(){return M},O$:function(){return w},OR:function(){return d},Qq:function(){return u},RW:function(){return p},Wn:function(){return r},Xx:function(){return h},ZR:function(){return T},_b:function(){return o},aW:function(){return P},cM:function(){return m},fv:function(){return n},mC:function(){return l},mD:function(){return f},ou:function(){return L},pi:function(){return i},pu:function(){return A},sQ:function(){return c},uR:function(){return t},z4:function(){return s}});var g=1e-6,P=1e-12,i=Math.PI,L=i/2,A=i/4,v=i*2,p=180/i,t=i/180,r=Math.abs,s=Math.atan,n=Math.atan2,l=Math.cos,f=Math.ceil,u=Math.exp,m=Math.log,c=Math.pow,w=Math.sin,h=Math.sign||function(x){return x>0?1:x<0?-1:0},o=Math.sqrt,d=Math.tan;function M(x){return x>1?0:x<-1?i:Math.acos(x)}function T(x){return x>1?L:x<-1?-L:Math.asin(x)}function E(x){return(x=w(x/2))*x}},73182:function(W,H,e){e.d(H,{Z:function(){return g}});function g(){}},3559:function(W,H,e){var g=e(73182),P=1/0,i=P,L=-P,A=L,v={point:p,lineStart:g.Z,lineEnd:g.Z,polygonStart:g.Z,polygonEnd:g.Z,result:function(){var t=[[P,i],[L,A]];return L=A=-(i=P=1/0),t}};function p(t,r){t<P&&(P=t),t>L&&(L=t),r<i&&(i=r),r>A&&(A=r)}H.Z=v},67108:function(W,H,e){e.d(H,{Z:function(){return P}});var g=e(39695);function P(i,L){return(0,g.Wn)(i[0]-L[0])<g.Ho&&(0,g.Wn)(i[1]-L[1])<g.Ho}},23071:function(W,H,e){e.d(H,{Z:function(){return v}});var g=e(33940),P=e(7620),i=e(39695),L=(0,g.Z)();function A(p){return(0,i.Wn)(p[0])<=i.pi?p[0]:(0,i.Xx)(p[0])*(((0,i.Wn)(p[0])+i.pi)%i.BZ-i.pi)}function v(p,t){var r=A(t),s=t[1],n=(0,i.O$)(s),l=[(0,i.O$)(r),-(0,i.mC)(r),0],f=0,u=0;L.reset(),n===1?s=i.ou+i.Ho:n===-1&&(s=-i.ou-i.Ho);for(var m=0,c=p.length;m<c;++m)if(h=(w=p[m]).length)for(var w,h,o=w[h-1],d=A(o),M=o[1]/2+i.pu,T=(0,i.O$)(M),E=(0,i.mC)(M),x=0;x<h;++x,d=b,T=C,E=y,o=S){var S=w[x],b=A(S),a=S[1]/2+i.pu,C=(0,i.O$)(a),y=(0,i.mC)(a),z=b-d,I=z>=0?1:-1,B=I*z,F=B>i.pi,O=T*C;if(L.add((0,i.fv)(O*I*(0,i.O$)(B),E*y+O*(0,i.mC)(B))),f+=F?z+I*i.BZ:z,F^d>=r^b>=r){var N=(0,P.T5)((0,P.Og)(o),(0,P.Og)(S));(0,P.iJ)(N);var _=(0,P.T5)(l,N);(0,P.iJ)(_);var U=(F^z>=0?-1:1)*(0,i.ZR)(_[2]);(s>U||s===U&&(N[0]||N[1]))&&(u+=F^z>=0?1:-1)}}return(f<-i.Ho||f<i.Ho&&L<-i.Ho)^u&1}},25382:function(W,H,e){e.d(H,{O:function(){return i},W:function(){return P}});var g=e(39695);function P(L){return function(A,v){var p=(0,g.mC)(A),t=(0,g.mC)(v),r=L(p*t);return[r*t*(0,g.O$)(A),r*(0,g.O$)(v)]}}function i(L){return function(A,v){var p=(0,g._b)(A*A+v*v),t=L(p),r=(0,g.O$)(t),s=(0,g.mC)(t);return[(0,g.fv)(A*r,p*s),(0,g.ZR)(p&&v*r/p)]}}},12956:function(W,H,e){e.d(H,{Z:function(){return A},l:function(){return L}});var g=e(39695),P=e(25382),i=e(15002),L=(0,P.W)(function(v){return(0,g._b)(2/(1+v))});L.invert=(0,P.O)(function(v){return 2*(0,g.ZR)(v/2)});function A(){return(0,i.Z)(L).scale(124.75).clipAngle(179.999)}},17889:function(W,H,e){e.d(H,{N:function(){return L},Z:function(){return A}});var g=e(39695),P=e(25382),i=e(15002),L=(0,P.W)(function(v){return(v=(0,g.Kh)(v))&&v/(0,g.O$)(v)});L.invert=(0,P.O)(function(v){return v});function A(){return(0,i.Z)(L).scale(79.4188).clipAngle(179.999)}},97492:function(W,H,e){e.d(H,{Z:function(){return i},k:function(){return P}});var g=e(15002);function P(L,A){return[L,A]}P.invert=P;function i(){return(0,g.Z)(P).scale(152.63)}},47589:function(W,H,e){e.d(H,{V6:function(){return v},mF:function(){return A},qg:function(){return L},rf:function(){return p}});var g=e(72736),P=e(3559);function i(t,r,s){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),n!=null&&t.clipExtent(null),(0,g.Z)(s,t.stream(P.Z)),r(P.Z.result()),n!=null&&t.clipExtent(n),t}function L(t,r,s){return i(t,function(n){var l=r[1][0]-r[0][0],f=r[1][1]-r[0][1],u=Math.min(l/(n[1][0]-n[0][0]),f/(n[1][1]-n[0][1])),m=+r[0][0]+(l-u*(n[1][0]+n[0][0]))/2,c=+r[0][1]+(f-u*(n[1][1]+n[0][1]))/2;t.scale(150*u).translate([m,c])},s)}function A(t,r,s){return L(t,[[0,0],r],s)}function v(t,r,s){return i(t,function(n){var l=+r,f=l/(n[1][0]-n[0][0]),u=(l-f*(n[1][0]+n[0][0]))/2,m=-f*n[0][1];t.scale(150*f).translate([u,m])},s)}function p(t,r,s){return i(t,function(n){var l=+r,f=l/(n[1][1]-n[0][1]),u=-f*n[0][0],m=(l-f*(n[1][1]+n[0][1]))/2;t.scale(150*f).translate([u,m])},s)}},98936:function(W,H,e){e.d(H,{M:function(){return L},Z:function(){return A}});var g=e(39695),P=e(25382),i=e(15002);function L(v,p){var t=(0,g.mC)(p),r=(0,g.mC)(v)*t;return[t*(0,g.O$)(v)/r,(0,g.O$)(p)/r]}L.invert=(0,P.O)(g.z4);function A(){return(0,i.Z)(L).scale(144.049).clipAngle(60)}},15002:function(W,H,e){e.d(H,{Z:function(){return d},r:function(){return M}});var g=e(87070),P=e(1457),i=e(87605),L=e(96059),A=e(8593),v=e(39695),p=e(49386),t=e(64684),r=e(47589),s=e(7620),n=16,l=(0,v.mC)(30*v.uR);function f(T,E){return+E?m(T,E):u(T)}function u(T){return(0,t.l)({point:function(E,x){E=T(E,x),this.stream.point(E[0],E[1])}})}function m(T,E){function x(S,b,a,C,y,z,I,B,F,O,N,_,U,Y){var K=I-S,re=B-b,ae=K*K+re*re;if(ae>4*E&&U--){var fe=C+O,Q=y+N,j=z+_,X=(0,v._b)(fe*fe+Q*Q+j*j),J=(0,v.ZR)(j/=X),ee=(0,v.Wn)((0,v.Wn)(j)-1)<v.Ho||(0,v.Wn)(a-F)<v.Ho?(a+F)/2:(0,v.fv)(Q,fe),se=T(ee,J),q=se[0],$=se[1],le=q-S,ie=$-b,ce=re*le-K*ie;(ce*ce/ae>E||(0,v.Wn)((K*le+re*ie)/ae-.5)>.3||C*O+y*N+z*_<l)&&(x(S,b,a,C,y,z,q,$,ee,fe/=X,Q/=X,j,U,Y),Y.point(q,$),x(q,$,ee,fe,Q,j,I,B,F,O,N,_,U,Y))}}return function(S){var b,a,C,y,z,I,B,F,O,N,_,U,Y={point:K,lineStart:re,lineEnd:fe,polygonStart:function(){S.polygonStart(),Y.lineStart=Q},polygonEnd:function(){S.polygonEnd(),Y.lineStart=re}};function K(J,ee){J=T(J,ee),S.point(J[0],J[1])}function re(){F=NaN,Y.point=ae,S.lineStart()}function ae(J,ee){var se=(0,s.Og)([J,ee]),q=T(J,ee);x(F,O,B,N,_,U,F=q[0],O=q[1],B=J,N=se[0],_=se[1],U=se[2],n,S),S.point(F,O)}function fe(){Y.point=K,S.lineEnd()}function Q(){re(),Y.point=j,Y.lineEnd=X}function j(J,ee){ae(b=J,ee),a=F,C=O,y=N,z=_,I=U,Y.point=ae}function X(){x(F,O,B,N,_,U,a,C,b,y,z,I,n,S),Y.lineEnd=fe,fe()}return Y}}var c=(0,t.l)({point:function(T,E){this.stream.point(T*v.uR,E*v.uR)}});function w(T){return(0,t.l)({point:function(E,x){var S=T(E,x);return this.stream.point(S[0],S[1])}})}function h(T,E,x,S,b){function a(C,y){return C*=S,y*=b,[E+T*C,x-T*y]}return a.invert=function(C,y){return[(C-E)/T*S,(x-y)/T*b]},a}function o(T,E,x,S,b,a){var C=(0,v.mC)(a),y=(0,v.O$)(a),z=C*T,I=y*T,B=C/T,F=y/T,O=(y*x-C*E)/T,N=(y*E+C*x)/T;function _(U,Y){return U*=S,Y*=b,[z*U-I*Y+E,x-I*U-z*Y]}return _.invert=function(U,Y){return[S*(B*U-F*Y+O),b*(N-F*U-B*Y)]},_}function d(T){return M(function(){return T})()}function M(T){var E,x=150,S=480,b=250,a=0,C=0,y=0,z=0,I=0,B,F=0,O=1,N=1,_=null,U=g.Z,Y=null,K,re,ae,fe=A.Z,Q=.5,j,X,J,ee,se;function q(ce){return J(ce[0]*v.uR,ce[1]*v.uR)}function $(ce){return ce=J.invert(ce[0],ce[1]),ce&&[ce[0]*v.RW,ce[1]*v.RW]}q.stream=function(ce){return ee&&se===ce?ee:ee=c(w(B)(U(j(fe(se=ce)))))},q.preclip=function(ce){return arguments.length?(U=ce,_=void 0,ie()):U},q.postclip=function(ce){return arguments.length?(fe=ce,Y=K=re=ae=null,ie()):fe},q.clipAngle=function(ce){return arguments.length?(U=+ce?(0,P.Z)(_=ce*v.uR):(_=null,g.Z),ie()):_*v.RW},q.clipExtent=function(ce){return arguments.length?(fe=ce==null?(Y=K=re=ae=null,A.Z):(0,i.Z)(Y=+ce[0][0],K=+ce[0][1],re=+ce[1][0],ae=+ce[1][1]),ie()):Y==null?null:[[Y,K],[re,ae]]},q.scale=function(ce){return arguments.length?(x=+ce,le()):x},q.translate=function(ce){return arguments.length?(S=+ce[0],b=+ce[1],le()):[S,b]},q.center=function(ce){return arguments.length?(a=ce[0]%360*v.uR,C=ce[1]%360*v.uR,le()):[a*v.RW,C*v.RW]},q.rotate=function(ce){return arguments.length?(y=ce[0]%360*v.uR,z=ce[1]%360*v.uR,I=ce.length>2?ce[2]%360*v.uR:0,le()):[y*v.RW,z*v.RW,I*v.RW]},q.angle=function(ce){return arguments.length?(F=ce%360*v.uR,le()):F*v.RW},q.reflectX=function(ce){return arguments.length?(O=ce?-1:1,le()):O<0},q.reflectY=function(ce){return arguments.length?(N=ce?-1:1,le()):N<0},q.precision=function(ce){return arguments.length?(j=f(X,Q=ce*ce),ie()):(0,v._b)(Q)},q.fitExtent=function(ce,me){return(0,r.qg)(q,ce,me)},q.fitSize=function(ce,me){return(0,r.mF)(q,ce,me)},q.fitWidth=function(ce,me){return(0,r.V6)(q,ce,me)},q.fitHeight=function(ce,me){return(0,r.rf)(q,ce,me)};function le(){var ce=o(x,0,0,O,N,F).apply(null,E(a,C)),me=(F?o:h)(x,S-ce[0],b-ce[1],O,N,F);return B=(0,p.I)(y,z,I),X=(0,L.Z)(E,me),J=(0,L.Z)(B,X),j=f(X,Q),ie()}function ie(){return ee=se=null,q}return function(){return E=T.apply(this,arguments),q.invert=E.invert&&$,le()}}},26867:function(W,H,e){e.d(H,{K:function(){return i},Z:function(){return L}});var g=e(15002),P=e(39695);function i(A,v){var p=v*v,t=p*p;return[A*(.8707-.131979*p+t*(-.013791+t*(.003971*p-.001529*t))),v*(1.007226+p*(.015085+t*(-.044475+.028874*p-.005916*t)))]}i.invert=function(A,v){var p=v,t=25,r;do{var s=p*p,n=s*s;p-=r=(p*(1.007226+s*(.015085+n*(-.044475+.028874*s-.005916*n)))-v)/(1.007226+s*(.045255+n*(-.311325+.259866*s-.06507600000000001*n)))}while((0,P.Wn)(r)>P.Ho&&--t>0);return[A/(.8707+(s=p*p)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),p]};function L(){return(0,g.Z)(i).scale(175.295)}},57962:function(W,H,e){e.d(H,{I:function(){return L},Z:function(){return A}});var g=e(39695),P=e(25382),i=e(15002);function L(v,p){return[(0,g.mC)(p)*(0,g.O$)(v),(0,g.O$)(p)]}L.invert=(0,P.O)(g.ZR);function A(){return(0,i.Z)(L).scale(249.5).clipAngle(90+g.Ho)}},49386:function(W,H,e){e.d(H,{I:function(){return L},Z:function(){return t}});var g=e(96059),P=e(39695);function i(r,s){return[(0,P.Wn)(r)>P.pi?r+Math.round(-r/P.BZ)*P.BZ:r,s]}i.invert=i;function L(r,s,n){return(r%=P.BZ)?s||n?(0,g.Z)(v(r),p(s,n)):v(r):s||n?p(s,n):i}function A(r){return function(s,n){return s+=r,[s>P.pi?s-P.BZ:s<-P.pi?s+P.BZ:s,n]}}function v(r){var s=A(r);return s.invert=A(-r),s}function p(r,s){var n=(0,P.mC)(r),l=(0,P.O$)(r),f=(0,P.mC)(s),u=(0,P.O$)(s);function m(c,w){var h=(0,P.mC)(w),o=(0,P.mC)(c)*h,d=(0,P.O$)(c)*h,M=(0,P.O$)(w),T=M*n+o*l;return[(0,P.fv)(d*f-T*u,o*n-M*l),(0,P.ZR)(T*f+d*u)]}return m.invert=function(c,w){var h=(0,P.mC)(w),o=(0,P.mC)(c)*h,d=(0,P.O$)(c)*h,M=(0,P.O$)(w),T=M*f-d*u;return[(0,P.fv)(d*f+M*u,o*n+T*l),(0,P.ZR)(T*n-o*l)]},m}function t(r){r=L(r[0]*P.uR,r[1]*P.uR,r.length>2?r[2]*P.uR:0);function s(n){return n=r(n[0]*P.uR,n[1]*P.uR),n[0]*=P.RW,n[1]*=P.RW,n}return s.invert=function(n){return n=r.invert(n[0]*P.uR,n[1]*P.uR),n[0]*=P.RW,n[1]*=P.RW,n},s}},72736:function(W,H,e){e.d(H,{Z:function(){return v}});function g(p,t){p&&i.hasOwnProperty(p.type)&&i[p.type](p,t)}var P={Feature:function(p,t){g(p.geometry,t)},FeatureCollection:function(p,t){for(var r=p.features,s=-1,n=r.length;++s<n;)g(r[s].geometry,t)}},i={Sphere:function(p,t){t.sphere()},Point:function(p,t){p=p.coordinates,t.point(p[0],p[1],p[2])},MultiPoint:function(p,t){for(var r=p.coordinates,s=-1,n=r.length;++s<n;)p=r[s],t.point(p[0],p[1],p[2])},LineString:function(p,t){L(p.coordinates,t,0)},MultiLineString:function(p,t){for(var r=p.coordinates,s=-1,n=r.length;++s<n;)L(r[s],t,0)},Polygon:function(p,t){A(p.coordinates,t)},MultiPolygon:function(p,t){for(var r=p.coordinates,s=-1,n=r.length;++s<n;)A(r[s],t)},GeometryCollection:function(p,t){for(var r=p.geometries,s=-1,n=r.length;++s<n;)g(r[s],t)}};function L(p,t,r){var s=-1,n=p.length-r,l;for(t.lineStart();++s<n;)l=p[s],t.point(l[0],l[1],l[2]);t.lineEnd()}function A(p,t){var r=-1,s=p.length;for(t.polygonStart();++r<s;)L(p[r],t,1);t.polygonEnd()}function v(p,t){p&&P.hasOwnProperty(p.type)?P[p.type](p,t):g(p,t)}},64684:function(W,H,e){e.d(H,{Z:function(){return g},l:function(){return P}});function g(L){return{stream:P(L)}}function P(L){return function(A){var v=new i;for(var p in L)v[p]=L[p];return v.stream=A,v}}function i(){}i.prototype={constructor:i,point:function(L,A){this.stream.point(L,A)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(W,H,e){e.r(H),e.d(H,{cluster:function(){return t},hierarchy:function(){return T},pack:function(){return $},packEnclose:function(){return z},packSiblings:function(){return j},partition:function(){return we},stratify:function(){return He},tree:function(){return yt},treemap:function(){return Qe},treemapBinary:function(){return Fe},treemapDice:function(){return Me},treemapResquarify:function(){return ze},treemapSlice:function(){return gt},treemapSliceDice:function(){return Ie},treemapSquarify:function(){return Vt}});function g(Re,be){return Re.parent===be.parent?1:2}function P(Re){return Re.reduce(i,0)/Re.length}function i(Re,be){return Re+be.x}function L(Re){return 1+Re.reduce(A,0)}function A(Re,be){return Math.max(Re,be.y)}function v(Re){for(var be;be=Re.children;)Re=be[0];return Re}function p(Re){for(var be;be=Re.children;)Re=be[be.length-1];return Re}function t(){var Re=g,be=1,ye=1,Ae=!1;function Ee(Ne){var Je,qe=0;Ne.eachAfter(function(At){var zt=At.children;zt?(At.x=P(zt),At.y=L(zt)):(At.x=Je?qe+=Re(At,Je):0,At.y=0,Je=At)});var vt=v(Ne),bt=p(Ne),Wt=vt.x-Re(vt,bt)/2,qt=bt.x+Re(bt,vt)/2;return Ne.eachAfter(Ae?function(At){At.x=(At.x-Ne.x)*be,At.y=(Ne.y-At.y)*ye}:function(At){At.x=(At.x-Wt)/(qt-Wt)*be,At.y=(1-(Ne.y?At.y/Ne.y:1))*ye})}return Ee.separation=function(Ne){return arguments.length?(Re=Ne,Ee):Re},Ee.size=function(Ne){return arguments.length?(Ae=!1,be=+Ne[0],ye=+Ne[1],Ee):Ae?null:[be,ye]},Ee.nodeSize=function(Ne){return arguments.length?(Ae=!0,be=+Ne[0],ye=+Ne[1],Ee):Ae?[be,ye]:null},Ee}function r(Re){var be=0,ye=Re.children,Ae=ye&&ye.length;if(!Ae)be=1;else for(;--Ae>=0;)be+=ye[Ae].value;Re.value=be}function s(){return this.eachAfter(r)}function n(Re){var be=this,ye,Ae=[be],Ee,Ne,Je;do for(ye=Ae.reverse(),Ae=[];be=ye.pop();)if(Re(be),Ee=be.children,Ee)for(Ne=0,Je=Ee.length;Ne<Je;++Ne)Ae.push(Ee[Ne]);while(Ae.length);return this}function l(Re){for(var be=this,ye=[be],Ae,Ee;be=ye.pop();)if(Re(be),Ae=be.children,Ae)for(Ee=Ae.length-1;Ee>=0;--Ee)ye.push(Ae[Ee]);return this}function f(Re){for(var be=this,ye=[be],Ae=[],Ee,Ne,Je;be=ye.pop();)if(Ae.push(be),Ee=be.children,Ee)for(Ne=0,Je=Ee.length;Ne<Je;++Ne)ye.push(Ee[Ne]);for(;be=Ae.pop();)Re(be);return this}function u(Re){return this.eachAfter(function(be){for(var ye=+Re(be.data)||0,Ae=be.children,Ee=Ae&&Ae.length;--Ee>=0;)ye+=Ae[Ee].value;be.value=ye})}function m(Re){return this.eachBefore(function(be){be.children&&be.children.sort(Re)})}function c(Re){for(var be=this,ye=w(be,Re),Ae=[be];be!==ye;)be=be.parent,Ae.push(be);for(var Ee=Ae.length;Re!==ye;)Ae.splice(Ee,0,Re),Re=Re.parent;return Ae}function w(Re,be){if(Re===be)return Re;var ye=Re.ancestors(),Ae=be.ancestors(),Ee=null;for(Re=ye.pop(),be=Ae.pop();Re===be;)Ee=Re,Re=ye.pop(),be=Ae.pop();return Ee}function h(){for(var Re=this,be=[Re];Re=Re.parent;)be.push(Re);return be}function o(){var Re=[];return this.each(function(be){Re.push(be)}),Re}function d(){var Re=[];return this.eachBefore(function(be){be.children||Re.push(be)}),Re}function M(){var Re=this,be=[];return Re.each(function(ye){ye!==Re&&be.push({source:ye.parent,target:ye})}),be}function T(Re,be){var ye=new a(Re),Ae=+Re.value&&(ye.value=Re.value),Ee,Ne=[ye],Je,qe,vt,bt;for(be==null&&(be=x);Ee=Ne.pop();)if(Ae&&(Ee.value=+Ee.data.value),(qe=be(Ee.data))&&(bt=qe.length))for(Ee.children=new Array(bt),vt=bt-1;vt>=0;--vt)Ne.push(Je=Ee.children[vt]=new a(qe[vt])),Je.parent=Ee,Je.depth=Ee.depth+1;return ye.eachBefore(b)}function E(){return T(this).eachBefore(S)}function x(Re){return Re.children}function S(Re){Re.data=Re.data.data}function b(Re){var be=0;do Re.height=be;while((Re=Re.parent)&&Re.height<++be)}function a(Re){this.data=Re,this.depth=this.height=0,this.parent=null}a.prototype=T.prototype={constructor:a,count:s,each:n,eachAfter:f,eachBefore:l,sum:u,sort:m,path:c,ancestors:h,descendants:o,leaves:d,links:M,copy:E};var C=Array.prototype.slice;function y(Re){for(var be=Re.length,ye,Ae;be;)Ae=Math.random()*be--|0,ye=Re[be],Re[be]=Re[Ae],Re[Ae]=ye;return Re}function z(Re){for(var be=0,ye=(Re=y(C.call(Re))).length,Ae=[],Ee,Ne;be<ye;)Ee=Re[be],Ne&&F(Ne,Ee)?++be:(Ne=N(Ae=I(Ae,Ee)),be=0);return Ne}function I(Re,be){var ye,Ae;if(O(be,Re))return[be];for(ye=0;ye<Re.length;++ye)if(B(be,Re[ye])&&O(U(Re[ye],be),Re))return[Re[ye],be];for(ye=0;ye<Re.length-1;++ye)for(Ae=ye+1;Ae<Re.length;++Ae)if(B(U(Re[ye],Re[Ae]),be)&&B(U(Re[ye],be),Re[Ae])&&B(U(Re[Ae],be),Re[ye])&&O(Y(Re[ye],Re[Ae],be),Re))return[Re[ye],Re[Ae],be];throw new Error}function B(Re,be){var ye=Re.r-be.r,Ae=be.x-Re.x,Ee=be.y-Re.y;return ye<0||ye*ye<Ae*Ae+Ee*Ee}function F(Re,be){var ye=Re.r-be.r+1e-6,Ae=be.x-Re.x,Ee=be.y-Re.y;return ye>0&&ye*ye>Ae*Ae+Ee*Ee}function O(Re,be){for(var ye=0;ye<be.length;++ye)if(!F(Re,be[ye]))return!1;return!0}function N(Re){switch(Re.length){case 1:return _(Re[0]);case 2:return U(Re[0],Re[1]);case 3:return Y(Re[0],Re[1],Re[2])}}function _(Re){return{x:Re.x,y:Re.y,r:Re.r}}function U(Re,be){var ye=Re.x,Ae=Re.y,Ee=Re.r,Ne=be.x,Je=be.y,qe=be.r,vt=Ne-ye,bt=Je-Ae,Wt=qe-Ee,qt=Math.sqrt(vt*vt+bt*bt);return{x:(ye+Ne+vt/qt*Wt)/2,y:(Ae+Je+bt/qt*Wt)/2,r:(qt+Ee+qe)/2}}function Y(Re,be,ye){var Ae=Re.x,Ee=Re.y,Ne=Re.r,Je=be.x,qe=be.y,vt=be.r,bt=ye.x,Wt=ye.y,qt=ye.r,At=Ae-Je,zt=Ae-bt,Jt=Ee-qe,Mr=Ee-Wt,pt=vt-Ne,Zt=qt-Ne,Kt=Ae*Ae+Ee*Ee-Ne*Ne,mr=Kt-Je*Je-qe*qe+vt*vt,ur=Kt-bt*bt-Wt*Wt+qt*qt,dt=zt*Jt-At*Mr,st=(Jt*ur-Mr*mr)/(dt*2)-Ae,xt=(Mr*pt-Jt*Zt)/dt,Mt=(zt*mr-At*ur)/(dt*2)-Ee,Dt=(At*Zt-zt*pt)/dt,Rt=xt*xt+Dt*Dt-1,Nt=2*(Ne+st*xt+Mt*Dt),Bt=st*st+Mt*Mt-Ne*Ne,Xt=-(Rt?(Nt+Math.sqrt(Nt*Nt-4*Rt*Bt))/(2*Rt):Bt/Nt);return{x:Ae+st+xt*Xt,y:Ee+Mt+Dt*Xt,r:Xt}}function K(Re,be,ye){var Ae=Re.x-be.x,Ee,Ne,Je=Re.y-be.y,qe,vt,bt=Ae*Ae+Je*Je;bt?(Ne=be.r+ye.r,Ne*=Ne,vt=Re.r+ye.r,vt*=vt,Ne>vt?(Ee=(bt+vt-Ne)/(2*bt),qe=Math.sqrt(Math.max(0,vt/bt-Ee*Ee)),ye.x=Re.x-Ee*Ae-qe*Je,ye.y=Re.y-Ee*Je+qe*Ae):(Ee=(bt+Ne-vt)/(2*bt),qe=Math.sqrt(Math.max(0,Ne/bt-Ee*Ee)),ye.x=be.x+Ee*Ae-qe*Je,ye.y=be.y+Ee*Je+qe*Ae)):(ye.x=be.x+ye.r,ye.y=be.y)}function re(Re,be){var ye=Re.r+be.r-1e-6,Ae=be.x-Re.x,Ee=be.y-Re.y;return ye>0&&ye*ye>Ae*Ae+Ee*Ee}function ae(Re){var be=Re._,ye=Re.next._,Ae=be.r+ye.r,Ee=(be.x*ye.r+ye.x*be.r)/Ae,Ne=(be.y*ye.r+ye.y*be.r)/Ae;return Ee*Ee+Ne*Ne}function fe(Re){this._=Re,this.next=null,this.previous=null}function Q(Re){if(!(Ee=Re.length))return 0;var be,ye,Ae,Ee,Ne,Je,qe,vt,bt,Wt,qt;if(be=Re[0],be.x=0,be.y=0,!(Ee>1))return be.r;if(ye=Re[1],be.x=-ye.r,ye.x=be.r,ye.y=0,!(Ee>2))return be.r+ye.r;K(ye,be,Ae=Re[2]),be=new fe(be),ye=new fe(ye),Ae=new fe(Ae),be.next=Ae.previous=ye,ye.next=be.previous=Ae,Ae.next=ye.previous=be;e:for(qe=3;qe<Ee;++qe){K(be._,ye._,Ae=Re[qe]),Ae=new fe(Ae),vt=ye.next,bt=be.previous,Wt=ye._.r,qt=be._.r;do if(Wt<=qt){if(re(vt._,Ae._)){ye=vt,be.next=ye,ye.previous=be,--qe;continue e}Wt+=vt._.r,vt=vt.next}else{if(re(bt._,Ae._)){be=bt,be.next=ye,ye.previous=be,--qe;continue e}qt+=bt._.r,bt=bt.previous}while(vt!==bt.next);for(Ae.previous=be,Ae.next=ye,be.next=ye.previous=ye=Ae,Ne=ae(be);(Ae=Ae.next)!==ye;)(Je=ae(Ae))<Ne&&(be=Ae,Ne=Je);ye=be.next}for(be=[ye._],Ae=ye;(Ae=Ae.next)!==ye;)be.push(Ae._);for(Ae=z(be),qe=0;qe<Ee;++qe)be=Re[qe],be.x-=Ae.x,be.y-=Ae.y;return Ae.r}function j(Re){return Q(Re),Re}function X(Re){return Re==null?null:J(Re)}function J(Re){if(typeof Re!="function")throw new Error;return Re}function ee(){return 0}function se(Re){return function(){return Re}}function q(Re){return Math.sqrt(Re.value)}function $(){var Re=null,be=1,ye=1,Ae=ee;function Ee(Ne){return Ne.x=be/2,Ne.y=ye/2,Re?Ne.eachBefore(le(Re)).eachAfter(ie(Ae,.5)).eachBefore(ce(1)):Ne.eachBefore(le(q)).eachAfter(ie(ee,1)).eachAfter(ie(Ae,Ne.r/Math.min(be,ye))).eachBefore(ce(Math.min(be,ye)/(2*Ne.r))),Ne}return Ee.radius=function(Ne){return arguments.length?(Re=X(Ne),Ee):Re},Ee.size=function(Ne){return arguments.length?(be=+Ne[0],ye=+Ne[1],Ee):[be,ye]},Ee.padding=function(Ne){return arguments.length?(Ae=typeof Ne=="function"?Ne:se(+Ne),Ee):Ae},Ee}function le(Re){return function(be){be.children||(be.r=Math.max(0,+Re(be)||0))}}function ie(Re,be){return function(ye){if(Ae=ye.children){var Ae,Ee,Ne=Ae.length,Je=Re(ye)*be||0,qe;if(Je)for(Ee=0;Ee<Ne;++Ee)Ae[Ee].r+=Je;if(qe=Q(Ae),Je)for(Ee=0;Ee<Ne;++Ee)Ae[Ee].r-=Je;ye.r=qe+Je}}}function ce(Re){return function(be){var ye=be.parent;be.r*=Re,ye&&(be.x=ye.x+Re*be.x,be.y=ye.y+Re*be.y)}}function me(Re){Re.x0=Math.round(Re.x0),Re.y0=Math.round(Re.y0),Re.x1=Math.round(Re.x1),Re.y1=Math.round(Re.y1)}function Me(Re,be,ye,Ae,Ee){for(var Ne=Re.children,Je,qe=-1,vt=Ne.length,bt=Re.value&&(Ae-be)/Re.value;++qe<vt;)Je=Ne[qe],Je.y0=ye,Je.y1=Ee,Je.x0=be,Je.x1=be+=Je.value*bt}function we(){var Re=1,be=1,ye=0,Ae=!1;function Ee(Je){var qe=Je.height+1;return Je.x0=Je.y0=ye,Je.x1=Re,Je.y1=be/qe,Je.eachBefore(Ne(be,qe)),Ae&&Je.eachBefore(me),Je}function Ne(Je,qe){return function(vt){vt.children&&Me(vt,vt.x0,Je*(vt.depth+1)/qe,vt.x1,Je*(vt.depth+2)/qe);var bt=vt.x0,Wt=vt.y0,qt=vt.x1-ye,At=vt.y1-ye;qt<bt&&(bt=qt=(bt+qt)/2),At<Wt&&(Wt=At=(Wt+At)/2),vt.x0=bt,vt.y0=Wt,vt.x1=qt,vt.y1=At}}return Ee.round=function(Je){return arguments.length?(Ae=!!Je,Ee):Ae},Ee.size=function(Je){return arguments.length?(Re=+Je[0],be=+Je[1],Ee):[Re,be]},Ee.padding=function(Je){return arguments.length?(ye=+Je,Ee):ye},Ee}var Oe="$",Be={depth:-1},Ce={};function xe(Re){return Re.id}function Se(Re){return Re.parentId}function He(){var Re=xe,be=Se;function ye(Ae){var Ee,Ne,Je=Ae.length,qe,vt,bt,Wt=new Array(Je),qt,At,zt={};for(Ne=0;Ne<Je;++Ne)Ee=Ae[Ne],bt=Wt[Ne]=new a(Ee),(qt=Re(Ee,Ne,Ae))!=null&&(qt+="")&&(At=Oe+(bt.id=qt),zt[At]=At in zt?Ce:bt);for(Ne=0;Ne<Je;++Ne)if(bt=Wt[Ne],qt=be(Ae[Ne],Ne,Ae),qt==null||!(qt+="")){if(qe)throw new Error("multiple roots");qe=bt}else{if(vt=zt[Oe+qt],!vt)throw new Error("missing: "+qt);if(vt===Ce)throw new Error("ambiguous: "+qt);vt.children?vt.children.push(bt):vt.children=[bt],bt.parent=vt}if(!qe)throw new Error("no root");if(qe.parent=Be,qe.eachBefore(function(Jt){Jt.depth=Jt.parent.depth+1,--Je}).eachBefore(b),qe.parent=null,Je>0)throw new Error("cycle");return qe}return ye.id=function(Ae){return arguments.length?(Re=J(Ae),ye):Re},ye.parentId=function(Ae){return arguments.length?(be=J(Ae),ye):be},ye}function Ge(Re,be){return Re.parent===be.parent?1:2}function ke(Re){var be=Re.children;return be?be[0]:Re.t}function We(Re){var be=Re.children;return be?be[be.length-1]:Re.t}function it(Re,be,ye){var Ae=ye/(be.i-Re.i);be.c-=Ae,be.s+=ye,Re.c+=Ae,be.z+=ye,be.m+=ye}function et(Re){for(var be=0,ye=0,Ae=Re.children,Ee=Ae.length,Ne;--Ee>=0;)Ne=Ae[Ee],Ne.z+=be,Ne.m+=be,be+=Ne.s+(ye+=Ne.c)}function tt(Re,be,ye){return Re.a.parent===be.parent?Re.a:ye}function at(Re,be){this._=Re,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=be}at.prototype=Object.create(a.prototype);function ht(Re){for(var be=new at(Re,0),ye,Ae=[be],Ee,Ne,Je,qe;ye=Ae.pop();)if(Ne=ye._.children)for(ye.children=new Array(qe=Ne.length),Je=qe-1;Je>=0;--Je)Ae.push(Ee=ye.children[Je]=new at(Ne[Je],Je)),Ee.parent=ye;return(be.parent=new at(null,0)).children=[be],be}function yt(){var Re=Ge,be=1,ye=1,Ae=null;function Ee(bt){var Wt=ht(bt);if(Wt.eachAfter(Ne),Wt.parent.m=-Wt.z,Wt.eachBefore(Je),Ae)bt.eachBefore(vt);else{var qt=bt,At=bt,zt=bt;bt.eachBefore(function(Kt){Kt.x<qt.x&&(qt=Kt),Kt.x>At.x&&(At=Kt),Kt.depth>zt.depth&&(zt=Kt)});var Jt=qt===At?1:Re(qt,At)/2,Mr=Jt-qt.x,pt=be/(At.x+Jt+Mr),Zt=ye/(zt.depth||1);bt.eachBefore(function(Kt){Kt.x=(Kt.x+Mr)*pt,Kt.y=Kt.depth*Zt})}return bt}function Ne(bt){var Wt=bt.children,qt=bt.parent.children,At=bt.i?qt[bt.i-1]:null;if(Wt){et(bt);var zt=(Wt[0].z+Wt[Wt.length-1].z)/2;At?(bt.z=At.z+Re(bt._,At._),bt.m=bt.z-zt):bt.z=zt}else At&&(bt.z=At.z+Re(bt._,At._));bt.parent.A=qe(bt,At,bt.parent.A||qt[0])}function Je(bt){bt._.x=bt.z+bt.parent.m,bt.m+=bt.parent.m}function qe(bt,Wt,qt){if(Wt){for(var At=bt,zt=bt,Jt=Wt,Mr=At.parent.children[0],pt=At.m,Zt=zt.m,Kt=Jt.m,mr=Mr.m,ur;Jt=We(Jt),At=ke(At),Jt&&At;)Mr=ke(Mr),zt=We(zt),zt.a=bt,ur=Jt.z+Kt-At.z-pt+Re(Jt._,At._),ur>0&&(it(tt(Jt,bt,qt),bt,ur),pt+=ur,Zt+=ur),Kt+=Jt.m,pt+=At.m,mr+=Mr.m,Zt+=zt.m;Jt&&!We(zt)&&(zt.t=Jt,zt.m+=Kt-Zt),At&&!ke(Mr)&&(Mr.t=At,Mr.m+=pt-mr,qt=bt)}return qt}function vt(bt){bt.x*=be,bt.y=bt.depth*ye}return Ee.separation=function(bt){return arguments.length?(Re=bt,Ee):Re},Ee.size=function(bt){return arguments.length?(Ae=!1,be=+bt[0],ye=+bt[1],Ee):Ae?null:[be,ye]},Ee.nodeSize=function(bt){return arguments.length?(Ae=!0,be=+bt[0],ye=+bt[1],Ee):Ae?[be,ye]:null},Ee}function gt(Re,be,ye,Ae,Ee){for(var Ne=Re.children,Je,qe=-1,vt=Ne.length,bt=Re.value&&(Ee-ye)/Re.value;++qe<vt;)Je=Ne[qe],Je.x0=be,Je.x1=Ae,Je.y0=ye,Je.y1=ye+=Je.value*bt}var Et=(1+Math.sqrt(5))/2;function Ct(Re,be,ye,Ae,Ee,Ne){for(var Je=[],qe=be.children,vt,bt,Wt=0,qt=0,At=qe.length,zt,Jt,Mr=be.value,pt,Zt,Kt,mr,ur,dt,st;Wt<At;){zt=Ee-ye,Jt=Ne-Ae;do pt=qe[qt++].value;while(!pt&&qt<At);for(Zt=Kt=pt,dt=Math.max(Jt/zt,zt/Jt)/(Mr*Re),st=pt*pt*dt,ur=Math.max(Kt/st,st/Zt);qt<At;++qt){if(pt+=bt=qe[qt].value,bt<Zt&&(Zt=bt),bt>Kt&&(Kt=bt),st=pt*pt*dt,mr=Math.max(Kt/st,st/Zt),mr>ur){pt-=bt;break}ur=mr}Je.push(vt={value:pt,dice:zt<Jt,children:qe.slice(Wt,qt)}),vt.dice?Me(vt,ye,Ae,Ee,Mr?Ae+=Jt*pt/Mr:Ne):gt(vt,ye,Ae,Mr?ye+=zt*pt/Mr:Ee,Ne),Mr-=pt,Wt=qt}return Je}var Vt=function Re(be){function ye(Ae,Ee,Ne,Je,qe){Ct(be,Ae,Ee,Ne,Je,qe)}return ye.ratio=function(Ae){return Re((Ae=+Ae)>1?Ae:1)},ye}(Et);function Qe(){var Re=Vt,be=!1,ye=1,Ae=1,Ee=[0],Ne=ee,Je=ee,qe=ee,vt=ee,bt=ee;function Wt(At){return At.x0=At.y0=0,At.x1=ye,At.y1=Ae,At.eachBefore(qt),Ee=[0],be&&At.eachBefore(me),At}function qt(At){var zt=Ee[At.depth],Jt=At.x0+zt,Mr=At.y0+zt,pt=At.x1-zt,Zt=At.y1-zt;pt<Jt&&(Jt=pt=(Jt+pt)/2),Zt<Mr&&(Mr=Zt=(Mr+Zt)/2),At.x0=Jt,At.y0=Mr,At.x1=pt,At.y1=Zt,At.children&&(zt=Ee[At.depth+1]=Ne(At)/2,Jt+=bt(At)-zt,Mr+=Je(At)-zt,pt-=qe(At)-zt,Zt-=vt(At)-zt,pt<Jt&&(Jt=pt=(Jt+pt)/2),Zt<Mr&&(Mr=Zt=(Mr+Zt)/2),Re(At,Jt,Mr,pt,Zt))}return Wt.round=function(At){return arguments.length?(be=!!At,Wt):be},Wt.size=function(At){return arguments.length?(ye=+At[0],Ae=+At[1],Wt):[ye,Ae]},Wt.tile=function(At){return arguments.length?(Re=J(At),Wt):Re},Wt.padding=function(At){return arguments.length?Wt.paddingInner(At).paddingOuter(At):Wt.paddingInner()},Wt.paddingInner=function(At){return arguments.length?(Ne=typeof At=="function"?At:se(+At),Wt):Ne},Wt.paddingOuter=function(At){return arguments.length?Wt.paddingTop(At).paddingRight(At).paddingBottom(At).paddingLeft(At):Wt.paddingTop()},Wt.paddingTop=function(At){return arguments.length?(Je=typeof At=="function"?At:se(+At),Wt):Je},Wt.paddingRight=function(At){return arguments.length?(qe=typeof At=="function"?At:se(+At),Wt):qe},Wt.paddingBottom=function(At){return arguments.length?(vt=typeof At=="function"?At:se(+At),Wt):vt},Wt.paddingLeft=function(At){return arguments.length?(bt=typeof At=="function"?At:se(+At),Wt):bt},Wt}function Fe(Re,be,ye,Ae,Ee){var Ne=Re.children,Je,qe=Ne.length,vt,bt=new Array(qe+1);for(bt[0]=vt=Je=0;Je<qe;++Je)bt[Je+1]=vt+=Ne[Je].value;Wt(0,qe,Re.value,be,ye,Ae,Ee);function Wt(qt,At,zt,Jt,Mr,pt,Zt){if(qt>=At-1){var Kt=Ne[qt];Kt.x0=Jt,Kt.y0=Mr,Kt.x1=pt,Kt.y1=Zt;return}for(var mr=bt[qt],ur=zt/2+mr,dt=qt+1,st=At-1;dt<st;){var xt=dt+st>>>1;bt[xt]<ur?dt=xt+1:st=xt}ur-bt[dt-1]<bt[dt]-ur&&qt+1<dt&&--dt;var Mt=bt[dt]-mr,Dt=zt-Mt;if(pt-Jt>Zt-Mr){var Rt=(Jt*Dt+pt*Mt)/zt;Wt(qt,dt,Mt,Jt,Mr,Rt,Zt),Wt(dt,At,Dt,Rt,Mr,pt,Zt)}else{var Nt=(Mr*Dt+Zt*Mt)/zt;Wt(qt,dt,Mt,Jt,Mr,pt,Nt),Wt(dt,At,Dt,Jt,Nt,pt,Zt)}}}function Ie(Re,be,ye,Ae,Ee){(Re.depth&1?gt:Me)(Re,be,ye,Ae,Ee)}var ze=function Re(be){function ye(Ae,Ee,Ne,Je,qe){if((vt=Ae._squarify)&&vt.ratio===be)for(var vt,bt,Wt,qt,At=-1,zt,Jt=vt.length,Mr=Ae.value;++At<Jt;){for(bt=vt[At],Wt=bt.children,qt=bt.value=0,zt=Wt.length;qt<zt;++qt)bt.value+=Wt[qt].value;bt.dice?Me(bt,Ee,Ne,Je,Ne+=(qe-Ne)*bt.value/Mr):gt(bt,Ee,Ne,Ee+=(Je-Ee)*bt.value/Mr,qe),Mr-=bt.value}else Ae._squarify=vt=Ct(be,Ae,Ee,Ne,Je,qe),vt.ratio=be}return ye.ratio=function(Ae){return Re((Ae=+Ae)>1?Ae:1)},ye}(Et)},45879:function(W,H,e){e.d(H,{h5:function(){return c}});var g=Math.PI,P=2*g,i=1e-6,L=P-i;function A(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new A}A.prototype=v.prototype={constructor:A,moveTo:function(w,h){this._+="M"+(this._x0=this._x1=+w)+","+(this._y0=this._y1=+h)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(w,h){this._+="L"+(this._x1=+w)+","+(this._y1=+h)},quadraticCurveTo:function(w,h,o,d){this._+="Q"+ +w+","+ +h+","+(this._x1=+o)+","+(this._y1=+d)},bezierCurveTo:function(w,h,o,d,M,T){this._+="C"+ +w+","+ +h+","+ +o+","+ +d+","+(this._x1=+M)+","+(this._y1=+T)},arcTo:function(w,h,o,d,M){w=+w,h=+h,o=+o,d=+d,M=+M;var T=this._x1,E=this._y1,x=o-w,S=d-h,b=T-w,a=E-h,C=b*b+a*a;if(M<0)throw new Error("negative radius: "+M);if(this._x1===null)this._+="M"+(this._x1=w)+","+(this._y1=h);else if(C>i)if(!(Math.abs(a*x-S*b)>i)||!M)this._+="L"+(this._x1=w)+","+(this._y1=h);else{var y=o-T,z=d-E,I=x*x+S*S,B=y*y+z*z,F=Math.sqrt(I),O=Math.sqrt(C),N=M*Math.tan((g-Math.acos((I+C-B)/(2*F*O)))/2),_=N/O,U=N/F;Math.abs(_-1)>i&&(this._+="L"+(w+_*b)+","+(h+_*a)),this._+="A"+M+","+M+",0,0,"+ +(a*y>b*z)+","+(this._x1=w+U*x)+","+(this._y1=h+U*S)}},arc:function(w,h,o,d,M,T){w=+w,h=+h,o=+o,T=!!T;var E=o*Math.cos(d),x=o*Math.sin(d),S=w+E,b=h+x,a=1^T,C=T?d-M:M-d;if(o<0)throw new Error("negative radius: "+o);this._x1===null?this._+="M"+S+","+b:(Math.abs(this._x1-S)>i||Math.abs(this._y1-b)>i)&&(this._+="L"+S+","+b),o&&(C<0&&(C=C%P+P),C>L?this._+="A"+o+","+o+",0,1,"+a+","+(w-E)+","+(h-x)+"A"+o+","+o+",0,1,"+a+","+(this._x1=S)+","+(this._y1=b):C>i&&(this._+="A"+o+","+o+",0,"+ +(C>=g)+","+a+","+(this._x1=w+o*Math.cos(M))+","+(this._y1=h+o*Math.sin(M))))},rect:function(w,h,o,d){this._+="M"+(this._x0=this._x1=+w)+","+(this._y0=this._y1=+h)+"h"+ +o+"v"+ +d+"h"+-o+"Z"},toString:function(){return this._}};var p=v,t=Array.prototype.slice;function r(w){return function(){return w}}function s(w){return w[0]}function n(w){return w[1]}function l(w){return w.source}function f(w){return w.target}function u(w){var h=l,o=f,d=s,M=n,T=null;function E(){var x,S=t.call(arguments),b=h.apply(this,S),a=o.apply(this,S);if(T||(T=x=p()),w(T,+d.apply(this,(S[0]=b,S)),+M.apply(this,S),+d.apply(this,(S[0]=a,S)),+M.apply(this,S)),x)return T=null,x+""||null}return E.source=function(x){return arguments.length?(h=x,E):h},E.target=function(x){return arguments.length?(o=x,E):o},E.x=function(x){return arguments.length?(d=typeof x=="function"?x:r(+x),E):d},E.y=function(x){return arguments.length?(M=typeof x=="function"?x:r(+x),E):M},E.context=function(x){return arguments.length?(T=x??null,E):T},E}function m(w,h,o,d,M){w.moveTo(h,o),w.bezierCurveTo(h=(h+d)/2,o,h,M,d,M)}function c(){return u(m)}},84096:function(W,H,e){e.d(H,{i$:function(){return Fe},Dq:function(){return s},g0:function(){return Ie}});var g=e(58176),P=e(48480),i=e(59879),L=e(82301),A=e(34823),v=e(79791);function p(Re){if(0<=Re.y&&Re.y<100){var be=new Date(-1,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L);return be.setFullYear(Re.y),be}return new Date(Re.y,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L)}function t(Re){if(0<=Re.y&&Re.y<100){var be=new Date(Date.UTC(-1,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L));return be.setUTCFullYear(Re.y),be}return new Date(Date.UTC(Re.y,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L))}function r(Re,be,ye){return{y:Re,m:be,d:ye,H:0,M:0,S:0,L:0}}function s(Re){var be=Re.dateTime,ye=Re.date,Ae=Re.time,Ee=Re.periods,Ne=Re.days,Je=Re.shortDays,qe=Re.months,vt=Re.shortMonths,bt=w(Ee),Wt=h(Ee),qt=w(Ne),At=h(Ne),zt=w(Je),Jt=h(Je),Mr=w(qe),pt=h(qe),Zt=w(vt),Kt=h(vt),mr={a:je,A:Ye,b:It,B:kt,c:null,d:K,e:K,f:j,H:re,I:ae,j:fe,L:Q,m:X,M:J,p:Yt,q:tr,Q:Ct,s:Vt,S:ee,u:se,U:q,V:$,w:le,W:ie,x:null,X:null,y:ce,Y:me,Z:Me,"%":Et},ur={a:or,A:rr,b:_t,B:hr,c:null,d:we,e:we,f:Se,H:Oe,I:Be,j:Ce,L:xe,m:He,M:Ge,p:gr,q:pr,Q:Ct,s:Vt,S:ke,u:We,U:it,V:et,w:tt,W:at,x:null,X:null,y:ht,Y:yt,Z:gt,"%":Et},dt={a:Rt,A:Nt,b:Bt,B:Xt,c:lr,d:y,e:y,f:N,H:I,I,j:z,L:O,m:C,M:B,p:Dt,q:a,Q:U,s:Y,S:F,u:d,U:M,V:T,w:o,W:E,x:sr,X:dr,y:S,Y:x,Z:b,"%":_};mr.x=st(ye,mr),mr.X=st(Ae,mr),mr.c=st(be,mr),ur.x=st(ye,ur),ur.X=st(Ae,ur),ur.c=st(be,ur);function st(vr,Hr){return function(kr){var Fr=[],pn=-1,qr=0,On=vr.length,Tn,Sr,Er;for(kr instanceof Date||(kr=new Date(+kr));++pn<On;)vr.charCodeAt(pn)===37&&(Fr.push(vr.slice(qr,pn)),(Sr=n[Tn=vr.charAt(++pn)])!=null?Tn=vr.charAt(++pn):Sr=Tn==="e"?" ":"0",(Er=Hr[Tn])&&(Tn=Er(kr,Sr)),Fr.push(Tn),qr=pn+1);return Fr.push(vr.slice(qr,pn)),Fr.join("")}}function xt(vr,Hr){return function(kr){var Fr=r(1900,void 0,1),pn=Mt(Fr,vr,kr+="",0),qr,On;if(pn!=kr.length)return null;if("Q"in Fr)return new Date(Fr.Q);if("s"in Fr)return new Date(Fr.s*1e3+("L"in Fr?Fr.L:0));if(Hr&&!("Z"in Fr)&&(Fr.Z=0),"p"in Fr&&(Fr.H=Fr.H%12+Fr.p*12),Fr.m===void 0&&(Fr.m="q"in Fr?Fr.q:0),"V"in Fr){if(Fr.V<1||Fr.V>53)return null;"w"in Fr||(Fr.w=1),"Z"in Fr?(qr=t(r(Fr.y,0,1)),On=qr.getUTCDay(),qr=On>4||On===0?g.l6.ceil(qr):(0,g.l6)(qr),qr=P.Z.offset(qr,(Fr.V-1)*7),Fr.y=qr.getUTCFullYear(),Fr.m=qr.getUTCMonth(),Fr.d=qr.getUTCDate()+(Fr.w+6)%7):(qr=p(r(Fr.y,0,1)),On=qr.getDay(),qr=On>4||On===0?i.wA.ceil(qr):(0,i.wA)(qr),qr=L.Z.offset(qr,(Fr.V-1)*7),Fr.y=qr.getFullYear(),Fr.m=qr.getMonth(),Fr.d=qr.getDate()+(Fr.w+6)%7)}else("W"in Fr||"U"in Fr)&&("w"in Fr||(Fr.w="u"in Fr?Fr.u%7:"W"in Fr?1:0),On="Z"in Fr?t(r(Fr.y,0,1)).getUTCDay():p(r(Fr.y,0,1)).getDay(),Fr.m=0,Fr.d="W"in Fr?(Fr.w+6)%7+Fr.W*7-(On+5)%7:Fr.w+Fr.U*7-(On+6)%7);return"Z"in Fr?(Fr.H+=Fr.Z/100|0,Fr.M+=Fr.Z%100,t(Fr)):p(Fr)}}function Mt(vr,Hr,kr,Fr){for(var pn=0,qr=Hr.length,On=kr.length,Tn,Sr;pn<qr;){if(Fr>=On)return-1;if(Tn=Hr.charCodeAt(pn++),Tn===37){if(Tn=Hr.charAt(pn++),Sr=dt[Tn in n?Hr.charAt(pn++):Tn],!Sr||(Fr=Sr(vr,kr,Fr))<0)return-1}else if(Tn!=kr.charCodeAt(Fr++))return-1}return Fr}function Dt(vr,Hr,kr){var Fr=bt.exec(Hr.slice(kr));return Fr?(vr.p=Wt[Fr[0].toLowerCase()],kr+Fr[0].length):-1}function Rt(vr,Hr,kr){var Fr=zt.exec(Hr.slice(kr));return Fr?(vr.w=Jt[Fr[0].toLowerCase()],kr+Fr[0].length):-1}function Nt(vr,Hr,kr){var Fr=qt.exec(Hr.slice(kr));return Fr?(vr.w=At[Fr[0].toLowerCase()],kr+Fr[0].length):-1}function Bt(vr,Hr,kr){var Fr=Zt.exec(Hr.slice(kr));return Fr?(vr.m=Kt[Fr[0].toLowerCase()],kr+Fr[0].length):-1}function Xt(vr,Hr,kr){var Fr=Mr.exec(Hr.slice(kr));return Fr?(vr.m=pt[Fr[0].toLowerCase()],kr+Fr[0].length):-1}function lr(vr,Hr,kr){return Mt(vr,be,Hr,kr)}function sr(vr,Hr,kr){return Mt(vr,ye,Hr,kr)}function dr(vr,Hr,kr){return Mt(vr,Ae,Hr,kr)}function je(vr){return Je[vr.getDay()]}function Ye(vr){return Ne[vr.getDay()]}function It(vr){return vt[vr.getMonth()]}function kt(vr){return qe[vr.getMonth()]}function Yt(vr){return Ee[+(vr.getHours()>=12)]}function tr(vr){return 1+~~(vr.getMonth()/3)}function or(vr){return Je[vr.getUTCDay()]}function rr(vr){return Ne[vr.getUTCDay()]}function _t(vr){return vt[vr.getUTCMonth()]}function hr(vr){return qe[vr.getUTCMonth()]}function gr(vr){return Ee[+(vr.getUTCHours()>=12)]}function pr(vr){return 1+~~(vr.getUTCMonth()/3)}return{format:function(vr){var Hr=st(vr+="",mr);return Hr.toString=function(){return vr},Hr},parse:function(vr){var Hr=xt(vr+="",!1);return Hr.toString=function(){return vr},Hr},utcFormat:function(vr){var Hr=st(vr+="",ur);return Hr.toString=function(){return vr},Hr},utcParse:function(vr){var Hr=xt(vr+="",!0);return Hr.toString=function(){return vr},Hr}}}var n={"-":"",_:" ",0:"0"},l=/^\s*\d+/,f=/^%/,u=/[\\^$*+?|[\]().{}]/g;function m(Re,be,ye){var Ae=Re<0?"-":"",Ee=(Ae?-Re:Re)+"",Ne=Ee.length;return Ae+(Ne<ye?new Array(ye-Ne+1).join(be)+Ee:Ee)}function c(Re){return Re.replace(u,"\\$&")}function w(Re){return new RegExp("^(?:"+Re.map(c).join("|")+")","i")}function h(Re){for(var be={},ye=-1,Ae=Re.length;++ye<Ae;)be[Re[ye].toLowerCase()]=ye;return be}function o(Re,be,ye){var Ae=l.exec(be.slice(ye,ye+1));return Ae?(Re.w=+Ae[0],ye+Ae[0].length):-1}function d(Re,be,ye){var Ae=l.exec(be.slice(ye,ye+1));return Ae?(Re.u=+Ae[0],ye+Ae[0].length):-1}function M(Re,be,ye){var Ae=l.exec(be.slice(ye,ye+2));return Ae?(Re.U=+Ae[0],ye+Ae[0].length):-1}function T(Re,be,ye){var Ae=l.exec(be.slice(ye,ye+2));return Ae?(Re.V=+Ae[0],ye+Ae[0].length):-1}function E(Re,be,ye){var Ae=l.exec(be.slice(ye,ye+2));return Ae?(Re.W=+Ae[0],ye+Ae[0].length):-1}function x(Re,be,ye){var Ae=l.exec(be.slice(ye,ye+4));return Ae?(Re.y=+Ae[0],ye+Ae[0].length):-1}function S(Re,be,ye){var Ae=l.exec(be.slice(ye,ye+2));return Ae?(Re.y=+Ae[0]+(+Ae[0]>68?1900:2e3),ye+Ae[0].length):-1}function b(Re,be,ye){var Ae=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(be.slice(ye,ye+6));return Ae?(Re.Z=Ae[1]?0:-(Ae[2]+(Ae[3]||"00")),ye+Ae[0].length):-1}function a(Re,be,ye){var Ae=l.exec(be.slice(ye,ye+1));return Ae?(Re.q=Ae[0]*3-3,ye+Ae[0].length):-1}function C(Re,be,ye){var Ae=l.exec(be.slice(ye,ye+2));return Ae?(Re.m=Ae[0]-1,ye+Ae[0].length):-1}function y(Re,be,ye){var Ae=l.exec(be.slice(ye,ye+2));return Ae?(Re.d=+Ae[0],ye+Ae[0].length):-1}function z(Re,be,ye){var Ae=l.exec(be.slice(ye,ye+3));return Ae?(Re.m=0,Re.d=+Ae[0],ye+Ae[0].length):-1}function I(Re,be,ye){var Ae=l.exec(be.slice(ye,ye+2));return Ae?(Re.H=+Ae[0],ye+Ae[0].length):-1}function B(Re,be,ye){var Ae=l.exec(be.slice(ye,ye+2));return Ae?(Re.M=+Ae[0],ye+Ae[0].length):-1}function F(Re,be,ye){var Ae=l.exec(be.slice(ye,ye+2));return Ae?(Re.S=+Ae[0],ye+Ae[0].length):-1}function O(Re,be,ye){var Ae=l.exec(be.slice(ye,ye+3));return Ae?(Re.L=+Ae[0],ye+Ae[0].length):-1}function N(Re,be,ye){var Ae=l.exec(be.slice(ye,ye+6));return Ae?(Re.L=Math.floor(Ae[0]/1e3),ye+Ae[0].length):-1}function _(Re,be,ye){var Ae=f.exec(be.slice(ye,ye+1));return Ae?ye+Ae[0].length:-1}function U(Re,be,ye){var Ae=l.exec(be.slice(ye));return Ae?(Re.Q=+Ae[0],ye+Ae[0].length):-1}function Y(Re,be,ye){var Ae=l.exec(be.slice(ye));return Ae?(Re.s=+Ae[0],ye+Ae[0].length):-1}function K(Re,be){return m(Re.getDate(),be,2)}function re(Re,be){return m(Re.getHours(),be,2)}function ae(Re,be){return m(Re.getHours()%12||12,be,2)}function fe(Re,be){return m(1+L.Z.count((0,A.Z)(Re),Re),be,3)}function Q(Re,be){return m(Re.getMilliseconds(),be,3)}function j(Re,be){return Q(Re,be)+"000"}function X(Re,be){return m(Re.getMonth()+1,be,2)}function J(Re,be){return m(Re.getMinutes(),be,2)}function ee(Re,be){return m(Re.getSeconds(),be,2)}function se(Re){var be=Re.getDay();return be===0?7:be}function q(Re,be){return m(i.OM.count((0,A.Z)(Re)-1,Re),be,2)}function $(Re,be){var ye=Re.getDay();return Re=ye>=4||ye===0?(0,i.bL)(Re):i.bL.ceil(Re),m(i.bL.count((0,A.Z)(Re),Re)+((0,A.Z)(Re).getDay()===4),be,2)}function le(Re){return Re.getDay()}function ie(Re,be){return m(i.wA.count((0,A.Z)(Re)-1,Re),be,2)}function ce(Re,be){return m(Re.getFullYear()%100,be,2)}function me(Re,be){return m(Re.getFullYear()%1e4,be,4)}function Me(Re){var be=Re.getTimezoneOffset();return(be>0?"-":(be*=-1,"+"))+m(be/60|0,"0",2)+m(be%60,"0",2)}function we(Re,be){return m(Re.getUTCDate(),be,2)}function Oe(Re,be){return m(Re.getUTCHours(),be,2)}function Be(Re,be){return m(Re.getUTCHours()%12||12,be,2)}function Ce(Re,be){return m(1+P.Z.count((0,v.Z)(Re),Re),be,3)}function xe(Re,be){return m(Re.getUTCMilliseconds(),be,3)}function Se(Re,be){return xe(Re,be)+"000"}function He(Re,be){return m(Re.getUTCMonth()+1,be,2)}function Ge(Re,be){return m(Re.getUTCMinutes(),be,2)}function ke(Re,be){return m(Re.getUTCSeconds(),be,2)}function We(Re){var be=Re.getUTCDay();return be===0?7:be}function it(Re,be){return m(g.Ox.count((0,v.Z)(Re)-1,Re),be,2)}function et(Re,be){var ye=Re.getUTCDay();return Re=ye>=4||ye===0?(0,g.hB)(Re):g.hB.ceil(Re),m(g.hB.count((0,v.Z)(Re),Re)+((0,v.Z)(Re).getUTCDay()===4),be,2)}function tt(Re){return Re.getUTCDay()}function at(Re,be){return m(g.l6.count((0,v.Z)(Re)-1,Re),be,2)}function ht(Re,be){return m(Re.getUTCFullYear()%100,be,2)}function yt(Re,be){return m(Re.getUTCFullYear()%1e4,be,4)}function gt(){return"+0000"}function Et(){return"%"}function Ct(Re){return+Re}function Vt(Re){return Math.floor(+Re/1e3)}var Qe,Fe,Ie;ze({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ze(Re){return Qe=s(Re),Fe=Qe.format,Qe.parse,Ie=Qe.utcFormat,Qe.utcParse,Qe}},82301:function(W,H,e){e.d(H,{a:function(){return L}});var g=e(30052),P=e(54263),i=(0,g.Z)(function(A){A.setHours(0,0,0,0)},function(A,v){A.setDate(A.getDate()+v)},function(A,v){return(v-A-(v.getTimezoneOffset()-A.getTimezoneOffset())*P.yB)/P.UD},function(A){return A.getDate()-1});H.Z=i;var L=i.range},54263:function(W,H,e){e.d(H,{UD:function(){return L},Y2:function(){return i},Ym:function(){return g},iM:function(){return A},yB:function(){return P}});var g=1e3,P=6e4,i=36e5,L=864e5,A=6048e5},81041:function(W,H,e){e.r(H),e.d(H,{timeDay:function(){return m.Z},timeDays:function(){return m.a},timeFriday:function(){return c.mC},timeFridays:function(){return c.b$},timeHour:function(){return f},timeHours:function(){return u},timeInterval:function(){return g.Z},timeMillisecond:function(){return i},timeMilliseconds:function(){return L},timeMinute:function(){return s},timeMinutes:function(){return n},timeMonday:function(){return c.wA},timeMondays:function(){return c.bJ},timeMonth:function(){return h},timeMonths:function(){return o},timeSaturday:function(){return c.EY},timeSaturdays:function(){return c.Ff},timeSecond:function(){return p},timeSeconds:function(){return t},timeSunday:function(){return c.OM},timeSundays:function(){return c.vm},timeThursday:function(){return c.bL},timeThursdays:function(){return c.$t},timeTuesday:function(){return c.sy},timeTuesdays:function(){return c.aU},timeWednesday:function(){return c.zg},timeWednesdays:function(){return c.Ld},timeWeek:function(){return c.OM},timeWeeks:function(){return c.vm},timeYear:function(){return d.Z},timeYears:function(){return d.g},utcDay:function(){return a.Z},utcDays:function(){return a.y},utcFriday:function(){return C.QQ},utcFridays:function(){return C.fz},utcHour:function(){return S},utcHours:function(){return b},utcMillisecond:function(){return i},utcMilliseconds:function(){return L},utcMinute:function(){return T},utcMinutes:function(){return E},utcMonday:function(){return C.l6},utcMondays:function(){return C.$3},utcMonth:function(){return z},utcMonths:function(){return I},utcSaturday:function(){return C.g4},utcSaturdays:function(){return C.Q_},utcSecond:function(){return p},utcSeconds:function(){return t},utcSunday:function(){return C.Ox},utcSundays:function(){return C.SU},utcThursday:function(){return C.hB},utcThursdays:function(){return C.xj},utcTuesday:function(){return C.J1},utcTuesdays:function(){return C.DK},utcWednesday:function(){return C.b3},utcWednesdays:function(){return C.uy},utcWeek:function(){return C.Ox},utcWeeks:function(){return C.SU},utcYear:function(){return B.Z},utcYears:function(){return B.D}});var g=e(30052),P=(0,g.Z)(function(){},function(F,O){F.setTime(+F+O)},function(F,O){return O-F});P.every=function(F){return F=Math.floor(F),!isFinite(F)||!(F>0)?null:F>1?(0,g.Z)(function(O){O.setTime(Math.floor(O/F)*F)},function(O,N){O.setTime(+O+N*F)},function(O,N){return(N-O)/F}):P};var i=P,L=P.range,A=e(54263),v=(0,g.Z)(function(F){F.setTime(F-F.getMilliseconds())},function(F,O){F.setTime(+F+O*A.Ym)},function(F,O){return(O-F)/A.Ym},function(F){return F.getUTCSeconds()}),p=v,t=v.range,r=(0,g.Z)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*A.Ym)},function(F,O){F.setTime(+F+O*A.yB)},function(F,O){return(O-F)/A.yB},function(F){return F.getMinutes()}),s=r,n=r.range,l=(0,g.Z)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*A.Ym-F.getMinutes()*A.yB)},function(F,O){F.setTime(+F+O*A.Y2)},function(F,O){return(O-F)/A.Y2},function(F){return F.getHours()}),f=l,u=l.range,m=e(82301),c=e(59879),w=(0,g.Z)(function(F){F.setDate(1),F.setHours(0,0,0,0)},function(F,O){F.setMonth(F.getMonth()+O)},function(F,O){return O.getMonth()-F.getMonth()+(O.getFullYear()-F.getFullYear())*12},function(F){return F.getMonth()}),h=w,o=w.range,d=e(34823),M=(0,g.Z)(function(F){F.setUTCSeconds(0,0)},function(F,O){F.setTime(+F+O*A.yB)},function(F,O){return(O-F)/A.yB},function(F){return F.getUTCMinutes()}),T=M,E=M.range,x=(0,g.Z)(function(F){F.setUTCMinutes(0,0,0)},function(F,O){F.setTime(+F+O*A.Y2)},function(F,O){return(O-F)/A.Y2},function(F){return F.getUTCHours()}),S=x,b=x.range,a=e(48480),C=e(58176),y=(0,g.Z)(function(F){F.setUTCDate(1),F.setUTCHours(0,0,0,0)},function(F,O){F.setUTCMonth(F.getUTCMonth()+O)},function(F,O){return O.getUTCMonth()-F.getUTCMonth()+(O.getUTCFullYear()-F.getUTCFullYear())*12},function(F){return F.getUTCMonth()}),z=y,I=y.range,B=e(79791)},30052:function(W,H,e){e.d(H,{Z:function(){return i}});var g=new Date,P=new Date;function i(L,A,v,p){function t(r){return L(r=arguments.length===0?new Date:new Date(+r)),r}return t.floor=function(r){return L(r=new Date(+r)),r},t.ceil=function(r){return L(r=new Date(r-1)),A(r,1),L(r),r},t.round=function(r){var s=t(r),n=t.ceil(r);return r-s<n-r?s:n},t.offset=function(r,s){return A(r=new Date(+r),s==null?1:Math.floor(s)),r},t.range=function(r,s,n){var l=[],f;if(r=t.ceil(r),n=n==null?1:Math.floor(n),!(r<s)||!(n>0))return l;do l.push(f=new Date(+r)),A(r,n),L(r);while(f<r&&r<s);return l},t.filter=function(r){return i(function(s){if(s>=s)for(;L(s),!r(s);)s.setTime(s-1)},function(s,n){if(s>=s)if(n<0)for(;++n<=0;)for(;A(s,-1),!r(s););else for(;--n>=0;)for(;A(s,1),!r(s););})},v&&(t.count=function(r,s){return g.setTime(+r),P.setTime(+s),L(g),L(P),Math.floor(v(g,P))},t.every=function(r){return r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?t.filter(p?function(s){return p(s)%r===0}:function(s){return t.count(0,s)%r===0}):t}),t}},48480:function(W,H,e){e.d(H,{y:function(){return L}});var g=e(30052),P=e(54263),i=(0,g.Z)(function(A){A.setUTCHours(0,0,0,0)},function(A,v){A.setUTCDate(A.getUTCDate()+v)},function(A,v){return(v-A)/P.UD},function(A){return A.getUTCDate()-1});H.Z=i;var L=i.range},58176:function(W,H,e){e.d(H,{$3:function(){return l},DK:function(){return f},J1:function(){return v},Ox:function(){return L},QQ:function(){return r},Q_:function(){return w},SU:function(){return n},b3:function(){return p},fz:function(){return c},g4:function(){return s},hB:function(){return t},l6:function(){return A},uy:function(){return u},xj:function(){return m}});var g=e(30052),P=e(54263);function i(h){return(0,g.Z)(function(o){o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-h)%7),o.setUTCHours(0,0,0,0)},function(o,d){o.setUTCDate(o.getUTCDate()+d*7)},function(o,d){return(d-o)/P.iM})}var L=i(0),A=i(1),v=i(2),p=i(3),t=i(4),r=i(5),s=i(6),n=L.range,l=A.range,f=v.range,u=p.range,m=t.range,c=r.range,w=s.range},79791:function(W,H,e){e.d(H,{D:function(){return i}});var g=e(30052),P=(0,g.Z)(function(L){L.setUTCMonth(0,1),L.setUTCHours(0,0,0,0)},function(L,A){L.setUTCFullYear(L.getUTCFullYear()+A)},function(L,A){return A.getUTCFullYear()-L.getUTCFullYear()},function(L){return L.getUTCFullYear()});P.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,g.Z)(function(A){A.setUTCFullYear(Math.floor(A.getUTCFullYear()/L)*L),A.setUTCMonth(0,1),A.setUTCHours(0,0,0,0)},function(A,v){A.setUTCFullYear(A.getUTCFullYear()+v*L)})},H.Z=P;var i=P.range},59879:function(W,H,e){e.d(H,{$t:function(){return m},EY:function(){return s},Ff:function(){return w},Ld:function(){return u},OM:function(){return L},aU:function(){return f},b$:function(){return c},bJ:function(){return l},bL:function(){return t},mC:function(){return r},sy:function(){return v},vm:function(){return n},wA:function(){return A},zg:function(){return p}});var g=e(30052),P=e(54263);function i(h){return(0,g.Z)(function(o){o.setDate(o.getDate()-(o.getDay()+7-h)%7),o.setHours(0,0,0,0)},function(o,d){o.setDate(o.getDate()+d*7)},function(o,d){return(d-o-(d.getTimezoneOffset()-o.getTimezoneOffset())*P.yB)/P.iM})}var L=i(0),A=i(1),v=i(2),p=i(3),t=i(4),r=i(5),s=i(6),n=L.range,l=A.range,f=v.range,u=p.range,m=t.range,c=r.range,w=s.range},34823:function(W,H,e){e.d(H,{g:function(){return i}});var g=e(30052),P=(0,g.Z)(function(L){L.setMonth(0,1),L.setHours(0,0,0,0)},function(L,A){L.setFullYear(L.getFullYear()+A)},function(L,A){return A.getFullYear()-L.getFullYear()},function(L){return L.getFullYear()});P.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,g.Z)(function(A){A.setFullYear(Math.floor(A.getFullYear()/L)*L),A.setMonth(0,1),A.setHours(0,0,0,0)},function(A,v){A.setFullYear(A.getFullYear()+v*L)})},H.Z=P;var i=P.range},17045:function(W,H,e){var g=e(8709),P=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",i=Object.prototype.toString,L=Array.prototype.concat,A=Object.defineProperty,v=function(n){return typeof n=="function"&&i.call(n)==="[object Function]"},p=e(55622)(),t=A&&p,r=function(n,l,f,u){if(l in n){if(u===!0){if(n[l]===f)return}else if(!v(u)||!u())return}t?A(n,l,{configurable:!0,enumerable:!1,value:f,writable:!0}):n[l]=f},s=function(n,l){var f=arguments.length>2?arguments[2]:{},u=g(l);P&&(u=L.call(u,Object.getOwnPropertySymbols(l)));for(var m=0;m<u.length;m+=1)r(n,u[m],l[u[m]],f[u[m]])};s.supportsDescriptors=!!t,W.exports=s},46775:function(W){W.exports=function(){for(var H=0;H<arguments.length;H++)if(arguments[H]!==void 0)return arguments[H]}},53545:function(W){W.exports=P;var H=P.canvas=document.createElement("canvas"),e=H.getContext("2d"),g=i([32,126]);P.createPairs=i,P.ascii=g;function P(L,A){Array.isArray(L)&&(L=L.join(", "));var v={},p,t=16,r=.05;A&&(A.length===2&&typeof A[0]=="number"?p=i(A):Array.isArray(A)?p=A:(A.o?p=i(A.o):A.pairs&&(p=A.pairs),A.fontSize&&(t=A.fontSize),A.threshold!=null&&(r=A.threshold))),p||(p=g),e.font=t+"px "+L;for(var s=0;s<p.length;s++){var n=p[s],l=e.measureText(n[0]).width+e.measureText(n[1]).width,f=e.measureText(n).width;if(Math.abs(l-f)>t*r){var u=(f-l)/t;v[n]=u*1e3}}return v}function i(L){for(var A=[],v=L[0];v<=L[1];v++)for(var p=String.fromCharCode(v),t=L[0];t<L[1];t++){var r=String.fromCharCode(t),s=p+r;A.push(s)}return A}},31457:function(W,H,e){var g=e(65185),P=e(18625),i={M:"moveTo",C:"bezierCurveTo"};W.exports=function(L,A){L.beginPath(),P(g(A)).forEach(function(v){var p=v[0],t=v.slice(1);L[i[p]].apply(L,t)}),L.closePath()}},90660:function(W){W.exports=function(H){switch(H){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(W){function H(P,i,L){var A=P[L]|0;if(A<=0)return[];var v=new Array(A),p;if(L===P.length-1)for(p=0;p<A;++p)v[p]=i;else for(p=0;p<A;++p)v[p]=H(P,i,L+1);return v}function e(P,i){var L,A;for(L=new Array(P),A=0;A<P;++A)L[A]=i;return L}function g(P,i){switch(typeof i>"u"&&(i=0),typeof P){case"number":if(P>0)return e(P|0,i);break;case"object":if(typeof P.length=="number")return H(P,i,0);break}return[]}W.exports=g},11474:function(W){W.exports=H,W.exports.default=H;function H(I,B,F){F=F||2;var O=B&&B.length,N=O?B[0]*F:I.length,_=e(I,0,N,F,!0),U=[];if(!_||_.next===_.prev)return U;var Y,K,re,ae,fe,Q,j;if(O&&(_=p(I,B,_,F)),I.length>80*F){Y=re=I[0],K=ae=I[1];for(var X=F;X<N;X+=F)fe=I[X],Q=I[X+1],fe<Y&&(Y=fe),Q<K&&(K=Q),fe>re&&(re=fe),Q>ae&&(ae=Q);j=Math.max(re-Y,ae-K),j=j!==0?1/j:0}return P(_,U,F,Y,K,j),U}function e(I,B,F,O,N){var _,U;if(N===z(I,B,F,O)>0)for(_=B;_<F;_+=O)U=a(_,I[_],I[_+1],U);else for(_=F-O;_>=B;_-=O)U=a(_,I[_],I[_+1],U);return U&&o(U,U.next)&&(C(U),U=U.next),U}function g(I,B){if(!I)return I;B||(B=I);var F=I,O;do if(O=!1,!F.steiner&&(o(F,F.next)||h(F.prev,F,F.next)===0)){if(C(F),F=B=F.prev,F===F.next)break;O=!0}else F=F.next;while(O||F!==B);return B}function P(I,B,F,O,N,_,U){if(I){!U&&_&&l(I,O,N,_);for(var Y=I,K,re;I.prev!==I.next;){if(K=I.prev,re=I.next,_?L(I,O,N,_):i(I)){B.push(K.i/F),B.push(I.i/F),B.push(re.i/F),C(I),I=re.next,Y=re.next;continue}if(I=re,I===Y){U?U===1?(I=A(g(I),B,F),P(I,B,F,O,N,_,2)):U===2&&v(I,B,F,O,N,_):P(g(I),B,F,O,N,_,1);break}}}}function i(I){var B=I.prev,F=I,O=I.next;if(h(B,F,O)>=0)return!1;for(var N=I.next.next;N!==I.prev;){if(c(B.x,B.y,F.x,F.y,O.x,O.y,N.x,N.y)&&h(N.prev,N,N.next)>=0)return!1;N=N.next}return!0}function L(I,B,F,O){var N=I.prev,_=I,U=I.next;if(h(N,_,U)>=0)return!1;for(var Y=N.x<_.x?N.x<U.x?N.x:U.x:_.x<U.x?_.x:U.x,K=N.y<_.y?N.y<U.y?N.y:U.y:_.y<U.y?_.y:U.y,re=N.x>_.x?N.x>U.x?N.x:U.x:_.x>U.x?_.x:U.x,ae=N.y>_.y?N.y>U.y?N.y:U.y:_.y>U.y?_.y:U.y,fe=u(Y,K,B,F,O),Q=u(re,ae,B,F,O),j=I.prevZ,X=I.nextZ;j&&j.z>=fe&&X&&X.z<=Q;){if(j!==I.prev&&j!==I.next&&c(N.x,N.y,_.x,_.y,U.x,U.y,j.x,j.y)&&h(j.prev,j,j.next)>=0||(j=j.prevZ,X!==I.prev&&X!==I.next&&c(N.x,N.y,_.x,_.y,U.x,U.y,X.x,X.y)&&h(X.prev,X,X.next)>=0))return!1;X=X.nextZ}for(;j&&j.z>=fe;){if(j!==I.prev&&j!==I.next&&c(N.x,N.y,_.x,_.y,U.x,U.y,j.x,j.y)&&h(j.prev,j,j.next)>=0)return!1;j=j.prevZ}for(;X&&X.z<=Q;){if(X!==I.prev&&X!==I.next&&c(N.x,N.y,_.x,_.y,U.x,U.y,X.x,X.y)&&h(X.prev,X,X.next)>=0)return!1;X=X.nextZ}return!0}function A(I,B,F){var O=I;do{var N=O.prev,_=O.next.next;!o(N,_)&&d(N,O,O.next,_)&&x(N,_)&&x(_,N)&&(B.push(N.i/F),B.push(O.i/F),B.push(_.i/F),C(O),C(O.next),O=I=_),O=O.next}while(O!==I);return g(O)}function v(I,B,F,O,N,_){var U=I;do{for(var Y=U.next.next;Y!==U.prev;){if(U.i!==Y.i&&w(U,Y)){var K=b(U,Y);U=g(U,U.next),K=g(K,K.next),P(U,B,F,O,N,_),P(K,B,F,O,N,_);return}Y=Y.next}U=U.next}while(U!==I)}function p(I,B,F,O){var N=[],_,U,Y,K,re;for(_=0,U=B.length;_<U;_++)Y=B[_]*O,K=_<U-1?B[_+1]*O:I.length,re=e(I,Y,K,O,!1),re===re.next&&(re.steiner=!0),N.push(m(re));for(N.sort(t),_=0;_<N.length;_++)r(N[_],F),F=g(F,F.next);return F}function t(I,B){return I.x-B.x}function r(I,B){if(B=s(I,B),B){var F=b(B,I);g(B,B.next),g(F,F.next)}}function s(I,B){var F=B,O=I.x,N=I.y,_=-1/0,U;do{if(N<=F.y&&N>=F.next.y&&F.next.y!==F.y){var Y=F.x+(N-F.y)*(F.next.x-F.x)/(F.next.y-F.y);if(Y<=O&&Y>_){if(_=Y,Y===O){if(N===F.y)return F;if(N===F.next.y)return F.next}U=F.x<F.next.x?F:F.next}}F=F.next}while(F!==B);if(!U)return null;if(O===_)return U;var K=U,re=U.x,ae=U.y,fe=1/0,Q;F=U;do O>=F.x&&F.x>=re&&O!==F.x&&c(N<ae?O:_,N,re,ae,N<ae?_:O,N,F.x,F.y)&&(Q=Math.abs(N-F.y)/(O-F.x),x(F,I)&&(Q<fe||Q===fe&&(F.x>U.x||F.x===U.x&&n(U,F)))&&(U=F,fe=Q)),F=F.next;while(F!==K);return U}function n(I,B){return h(I.prev,I,B.prev)<0&&h(B.next,I,I.next)<0}function l(I,B,F,O){var N=I;do N.z===null&&(N.z=u(N.x,N.y,B,F,O)),N.prevZ=N.prev,N.nextZ=N.next,N=N.next;while(N!==I);N.prevZ.nextZ=null,N.prevZ=null,f(N)}function f(I){var B,F,O,N,_,U,Y,K,re=1;do{for(F=I,I=null,_=null,U=0;F;){for(U++,O=F,Y=0,B=0;B<re&&(Y++,O=O.nextZ,!!O);B++);for(K=re;Y>0||K>0&&O;)Y!==0&&(K===0||!O||F.z<=O.z)?(N=F,F=F.nextZ,Y--):(N=O,O=O.nextZ,K--),_?_.nextZ=N:I=N,N.prevZ=_,_=N;F=O}_.nextZ=null,re*=2}while(U>1);return I}function u(I,B,F,O,N){return I=32767*(I-F)*N,B=32767*(B-O)*N,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,B=(B|B<<8)&16711935,B=(B|B<<4)&252645135,B=(B|B<<2)&858993459,B=(B|B<<1)&1431655765,I|B<<1}function m(I){var B=I,F=I;do(B.x<F.x||B.x===F.x&&B.y<F.y)&&(F=B),B=B.next;while(B!==I);return F}function c(I,B,F,O,N,_,U,Y){return(N-U)*(B-Y)-(I-U)*(_-Y)>=0&&(I-U)*(O-Y)-(F-U)*(B-Y)>=0&&(F-U)*(_-Y)-(N-U)*(O-Y)>=0}function w(I,B){return I.next.i!==B.i&&I.prev.i!==B.i&&!E(I,B)&&(x(I,B)&&x(B,I)&&S(I,B)&&(h(I.prev,I,B.prev)||h(I,B.prev,B))||o(I,B)&&h(I.prev,I,I.next)>0&&h(B.prev,B,B.next)>0)}function h(I,B,F){return(B.y-I.y)*(F.x-B.x)-(B.x-I.x)*(F.y-B.y)}function o(I,B){return I.x===B.x&&I.y===B.y}function d(I,B,F,O){var N=T(h(I,B,F)),_=T(h(I,B,O)),U=T(h(F,O,I)),Y=T(h(F,O,B));return!!(N!==_&&U!==Y||N===0&&M(I,F,B)||_===0&&M(I,O,B)||U===0&&M(F,I,O)||Y===0&&M(F,B,O))}function M(I,B,F){return B.x<=Math.max(I.x,F.x)&&B.x>=Math.min(I.x,F.x)&&B.y<=Math.max(I.y,F.y)&&B.y>=Math.min(I.y,F.y)}function T(I){return I>0?1:I<0?-1:0}function E(I,B){var F=I;do{if(F.i!==I.i&&F.next.i!==I.i&&F.i!==B.i&&F.next.i!==B.i&&d(F,F.next,I,B))return!0;F=F.next}while(F!==I);return!1}function x(I,B){return h(I.prev,I,I.next)<0?h(I,B,I.next)>=0&&h(I,I.prev,B)>=0:h(I,B,I.prev)<0||h(I,I.next,B)<0}function S(I,B){var F=I,O=!1,N=(I.x+B.x)/2,_=(I.y+B.y)/2;do F.y>_!=F.next.y>_&&F.next.y!==F.y&&N<(F.next.x-F.x)*(_-F.y)/(F.next.y-F.y)+F.x&&(O=!O),F=F.next;while(F!==I);return O}function b(I,B){var F=new y(I.i,I.x,I.y),O=new y(B.i,B.x,B.y),N=I.next,_=B.prev;return I.next=B,B.prev=I,F.next=N,N.prev=F,O.next=F,F.prev=O,_.next=O,O.prev=_,O}function a(I,B,F,O){var N=new y(I,B,F);return O?(N.next=O.next,N.prev=O,O.next.prev=N,O.next=N):(N.prev=N,N.next=N),N}function C(I){I.next.prev=I.prev,I.prev.next=I.next,I.prevZ&&(I.prevZ.nextZ=I.nextZ),I.nextZ&&(I.nextZ.prevZ=I.prevZ)}function y(I,B,F){this.i=I,this.x=B,this.y=F,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}H.deviation=function(I,B,F,O){var N=B&&B.length,_=N?B[0]*F:I.length,U=Math.abs(z(I,0,_,F));if(N)for(var Y=0,K=B.length;Y<K;Y++){var re=B[Y]*F,ae=Y<K-1?B[Y+1]*F:I.length;U-=Math.abs(z(I,re,ae,F))}var fe=0;for(Y=0;Y<O.length;Y+=3){var Q=O[Y]*F,j=O[Y+1]*F,X=O[Y+2]*F;fe+=Math.abs((I[Q]-I[X])*(I[j+1]-I[Q+1])-(I[Q]-I[j])*(I[X+1]-I[Q+1]))}return U===0&&fe===0?0:Math.abs((fe-U)/U)};function z(I,B,F,O){for(var N=0,_=B,U=F-O;_<F;_+=O)N+=(I[U]-I[_])*(I[_+1]+I[U+1]),U=_;return N}H.flatten=function(I){for(var B=I[0][0].length,F={vertices:[],holes:[],dimensions:B},O=0,N=0;N<I.length;N++){for(var _=0;_<I[N].length;_++)for(var U=0;U<B;U++)F.vertices.push(I[N][_][U]);N>0&&(O+=I[N-1].length,F.holes.push(O))}return F}},2502:function(W,H,e){var g=e(68664);W.exports=function(i,L){var A=[],v=[],p=[],t={},r=[],s;function n(M){p[M]=!1,t.hasOwnProperty(M)&&Object.keys(t[M]).forEach(function(T){delete t[M][T],p[T]&&n(T)})}function l(M){var T=!1;v.push(M),p[M]=!0;var E,x;for(E=0;E<r[M].length;E++)x=r[M][E],x===s?(f(s,v),T=!0):p[x]||(T=l(x));if(T)n(M);else for(E=0;E<r[M].length;E++){x=r[M][E];var S=t[x];S||(S={},t[x]=S),S[x]=!0}return v.pop(),T}function f(M,T){var E=[].concat(T).concat(M);L?L(l):A.push(E)}function u(M){for(var T=0;T<i.length;T++)T<M&&(i[T]=[]),i[T]=i[T].filter(function(E){return E>=M})}function m(M){u(M);for(var T=i,E=g(T),x=E.components.filter(function(I){return I.length>1}),S=1/0,b,a=0;a<x.length;a++)for(var C=0;C<x[a].length;C++)x[a][C]<S&&(S=x[a][C],b=a);var y=x[b];if(!y)return!1;var z=i.map(function(I,B){return y.indexOf(B)===-1?[]:I.filter(function(F){return y.indexOf(F)!==-1})});return{leastVertex:S,adjList:z}}s=0;for(var c=i.length;s<c;){var w=m(s);if(s=w.leastVertex,r=w.adjList,r){for(var h=0;h<r.length;h++)for(var o=0;o<r[h].length;o++){var d=r[h][o];p[+d]=!1,t[d]={}}l(s),s=s+1}else s=c}if(!L)return A}},16134:function(W,H,e){var g=e(36672);W.exports=function(){return g(this).length=0,this}},4892:function(W,H,e){W.exports=e(64404)()?Array.from:e(49441)},64404:function(W){W.exports=function(){var H=Array.from,e,g;return typeof H!="function"?!1:(e=["raz","dwa"],g=H(e),!!(g&&g!==e&&g[1]==="dwa"))}},49441:function(W,H,e){var g=e(8260).iterator,P=e(73051),i=e(33717),L=e(35976),A=e(78513),v=e(36672),p=e(95296),t=e(87963),r=Array.isArray,s=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},l=Object.defineProperty;W.exports=function(f){var u=arguments[1],m=arguments[2],c,w,h,o,d,M,T,E,x,S;if(f=Object(v(f)),p(u)&&A(u),!this||this===Array||!i(this)){if(!u){if(P(f))return d=f.length,d!==1?Array.apply(null,f):(o=new Array(1),o[0]=f[0],o);if(r(f)){for(o=new Array(d=f.length),w=0;w<d;++w)o[w]=f[w];return o}}o=[]}else c=this;if(!r(f)){if((x=f[g])!==void 0){for(T=A(x).call(f),c&&(o=new c),E=T.next(),w=0;!E.done;)S=u?s.call(u,m,E.value,w):E.value,c?(n.value=S,l(o,w,n)):o[w]=S,E=T.next(),++w;d=w}else if(t(f)){for(d=f.length,c&&(o=new c),w=0,h=0;w<d;++w)S=f[w],w+1<d&&(M=S.charCodeAt(0),M>=55296&&M<=56319&&(S+=f[++w])),S=u?s.call(u,m,S,h):S,c?(n.value=S,l(o,h,n)):o[h]=S,++h;d=h}}if(d===void 0)for(d=L(f.length),c&&(o=new c(d)),w=0;w<d;++w)S=u?s.call(u,m,f[w],w):f[w],c?(n.value=S,l(o,w,n)):o[w]=S;return c&&(n.value=null,o.length=d),o}},73051:function(W){var H=Object.prototype.toString,e=H.call(function(){return arguments}());W.exports=function(g){return H.call(g)===e}},33717:function(W){var H=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);W.exports=function(g){return typeof g=="function"&&e(H.call(g))}},52345:function(W){W.exports=function(){}},9953:function(W,H,e){W.exports=e(90436)()?Math.sign:e(6069)},90436:function(W){W.exports=function(){var H=Math.sign;return typeof H!="function"?!1:H(10)===1&&H(-20)===-1}},6069:function(W){W.exports=function(H){return H=Number(H),isNaN(H)||H===0?H:H>0?1:-1}},56247:function(W,H,e){var g=e(9953),P=Math.abs,i=Math.floor;W.exports=function(L){return isNaN(L)?0:(L=Number(L),L===0||!isFinite(L)?L:g(L)*i(P(L)))}},35976:function(W,H,e){var g=e(56247),P=Math.max;W.exports=function(i){return P(0,g(i))}},67260:function(W,H,e){var g=e(78513),P=e(36672),i=Function.prototype.bind,L=Function.prototype.call,A=Object.keys,v=Object.prototype.propertyIsEnumerable;W.exports=function(p,t){return function(r,s){var n,l=arguments[2],f=arguments[3];return r=Object(P(r)),g(s),n=A(r),f&&n.sort(typeof f=="function"?i.call(f,r):void 0),typeof p!="function"&&(p=n[p]),L.call(p,n,function(u,m){return v.call(r,u)?L.call(s,l,r[u],u,r,m):t})}}},95879:function(W,H,e){W.exports=e(73583)()?Object.assign:e(34205)},73583:function(W){W.exports=function(){var H=Object.assign,e;return typeof H!="function"?!1:(e={foo:"raz"},H(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},34205:function(W,H,e){var g=e(68700),P=e(36672),i=Math.max;W.exports=function(L,A){var v,p,t=i(arguments.length,2),r;for(L=Object(P(L)),r=function(s){try{L[s]=A[s]}catch(n){v||(v=n)}},p=1;p<t;++p)A=arguments[p],g(A).forEach(r);if(v!==void 0)throw v;return L}},19012:function(W,H,e){var g=e(4892),P=e(95879),i=e(36672);W.exports=function(L){var A=Object(i(L)),v=arguments[1],p=Object(arguments[2]);if(A!==L&&!v)return A;var t={};return v?g(v,function(r){(p.ensure||r in L)&&(t[r]=L[r])}):P(t,L),t}},52818:function(W,H,e){var g=Object.create,P;e(33247)()||(P=e(51882)),W.exports=function(){var i,L,A;return!P||P.level!==1?g:(i={},L={},A={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){if(v==="__proto__"){L[v]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}L[v]=A}),Object.defineProperties(i,L),Object.defineProperty(P,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:i}),function(v,p){return g(v===null?i:v,p)})}()},96437:function(W,H,e){W.exports=e(67260)("forEach")},99611:function(W,H,e){var g=e(95296),P={function:!0,object:!0};W.exports=function(i){return g(i)&&P[typeof i]||!1}},95296:function(W,H,e){var g=e(52345)();W.exports=function(P){return P!==g&&P!==null}},68700:function(W,H,e){W.exports=e(13895)()?Object.keys:e(25217)},13895:function(W){W.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(W,H,e){var g=e(95296),P=Object.keys;W.exports=function(i){return P(g(i)?Object(i):i)}},16906:function(W,H,e){var g=e(78513),P=e(96437),i=Function.prototype.call;W.exports=function(L,A){var v={},p=arguments[2];return g(A),P(L,function(t,r,s,n){v[r]=i.call(A,p,t,r,s,n)}),v}},21780:function(W,H,e){var g=e(95296),P=Array.prototype.forEach,i=Object.create,L=function(A,v){var p;for(p in A)v[p]=A[p]};W.exports=function(A){var v=i(null);return P.call(arguments,function(p){g(p)&&L(Object(p),v)}),v}},1496:function(W,H,e){W.exports=e(33247)()?Object.setPrototypeOf:e(51882)},33247:function(W){var H=Object.create,e=Object.getPrototypeOf,g={};W.exports=function(){var P=Object.setPrototypeOf,i=arguments[0]||H;return typeof P!="function"?!1:e(P(i(null),g))===g}},51882:function(W,H,e){var g=e(99611),P=e(36672),i=Object.prototype.isPrototypeOf,L=Object.defineProperty,A={configurable:!0,enumerable:!1,writable:!0,value:void 0},v;v=function(p,t){if(P(p),t===null||g(t))return p;throw new TypeError("Prototype must be null or an object")},W.exports=function(p){var t,r;return p?(p.level===2?p.set?(r=p.set,t=function(s,n){return r.call(v(s,n),n),s}):t=function(s,n){return v(s,n).__proto__=n,s}:t=function s(n,l){var f;return v(n,l),f=i.call(s.nullPolyfill,n),f&&delete s.nullPolyfill.__proto__,l===null&&(l=s.nullPolyfill),n.__proto__=l,f&&L(s.nullPolyfill,"__proto__",A),n},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:p.level})):null}(function(){var p=Object.create(null),t={},r,s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(s){try{r=s.set,r.call(p,t)}catch{}if(Object.getPrototypeOf(p)===t)return{set:r,level:2}}return p.__proto__=t,Object.getPrototypeOf(p)===t?{level:2}:(p={},p.__proto__=t,Object.getPrototypeOf(p)===t?{level:1}:!1)}()),e(52818)},78513:function(W){W.exports=function(H){if(typeof H!="function")throw new TypeError(H+" is not a function");return H}},98976:function(W,H,e){var g=e(99611);W.exports=function(P){if(!g(P))throw new TypeError(P+" is not an Object");return P}},36672:function(W,H,e){var g=e(95296);W.exports=function(P){if(!g(P))throw new TypeError("Cannot use null or undefined");return P}},66741:function(W,H,e){W.exports=e(17557)()?String.prototype.contains:e(60381)},17557:function(W){var H="razdwatrzy";W.exports=function(){return typeof H.contains!="function"?!1:H.contains("dwa")===!0&&H.contains("foo")===!1}},60381:function(W){var H=String.prototype.indexOf;W.exports=function(e){return H.call(this,e,arguments[1])>-1}},87963:function(W){var H=Object.prototype.toString,e=H.call("");W.exports=function(g){return typeof g=="string"||g&&typeof g=="object"&&(g instanceof String||H.call(g)===e)||!1}},43043:function(W){var H=Object.create(null),e=Math.random;W.exports=function(){var g;do g=e().toString(36).slice(2);while(H[g]);return g}},32411:function(W,H,e){var g=e(1496),P=e(66741),i=e(62072),L=e(8260),A=e(95426),v=Object.defineProperty,p;p=W.exports=function(t,r){if(!(this instanceof p))throw new TypeError("Constructor requires 'new'");A.call(this,t),r?P.call(r,"key+value")?r="key+value":P.call(r,"key")?r="key":r="value":r="value",v(this,"__kind__",i("",r))},g&&g(p,A),delete p.prototype.constructor,p.prototype=Object.create(A.prototype,{_resolve:i(function(t){return this.__kind__==="value"?this.__list__[t]:this.__kind__==="key+value"?[t,this.__list__[t]]:t})}),v(p.prototype,L.toStringTag,i("c","Array Iterator"))},27515:function(W,H,e){var g=e(73051),P=e(78513),i=e(87963),L=e(66661),A=Array.isArray,v=Function.prototype.call,p=Array.prototype.some;W.exports=function(t,r){var s,n=arguments[2],l,f,u,m,c,w,h;if(A(t)||g(t)?s="array":i(t)?s="string":t=L(t),P(r),f=function(){u=!0},s==="array"){p.call(t,function(o){return v.call(r,n,o,f),u});return}if(s==="string"){for(c=t.length,m=0;m<c&&(w=t[m],m+1<c&&(h=w.charCodeAt(0),h>=55296&&h<=56319&&(w+=t[++m])),v.call(r,n,w,f),!u);++m);return}for(l=t.next();!l.done;){if(v.call(r,n,l.value,f),u)return;l=t.next()}}},66661:function(W,H,e){var g=e(73051),P=e(87963),i=e(32411),L=e(259),A=e(58095),v=e(8260).iterator;W.exports=function(p){return typeof A(p)[v]=="function"?p[v]():g(p)?new i(p):P(p)?new L(p):new i(p)}},95426:function(W,H,e){var g=e(16134),P=e(95879),i=e(78513),L=e(36672),A=e(62072),v=e(55174),p=e(8260),t=Object.defineProperty,r=Object.defineProperties,s;W.exports=s=function(n,l){if(!(this instanceof s))throw new TypeError("Constructor requires 'new'");r(this,{__list__:A("w",L(n)),__context__:A("w",l),__nextIndex__:A("w",0)}),l&&(i(l.on),l.on("_add",this._onAdd),l.on("_delete",this._onDelete),l.on("_clear",this._onClear))},delete s.prototype.constructor,r(s.prototype,P({_next:A(function(){var n;if(this.__list__){if(this.__redo__&&(n=this.__redo__.shift(),n!==void 0))return n;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:A(function(){return this._createResult(this._next())}),_createResult:A(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:A(function(n){return this.__list__[n]}),_unBind:A(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:A(function(){return"[object "+(this[p.toStringTag]||"Object")+"]"})},v({_onAdd:A(function(n){if(!(n>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){t(this,"__redo__",A("c",[n]));return}this.__redo__.forEach(function(l,f){l>=n&&(this.__redo__[f]=++l)},this),this.__redo__.push(n)}}),_onDelete:A(function(n){var l;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(l=this.__redo__.indexOf(n),l!==-1&&this.__redo__.splice(l,1),this.__redo__.forEach(function(f,u){f>n&&(this.__redo__[u]=--f)},this)))}),_onClear:A(function(){this.__redo__&&g.call(this.__redo__),this.__nextIndex__=0})}))),t(s.prototype,p.iterator,A(function(){return this}))},35940:function(W,H,e){var g=e(73051),P=e(95296),i=e(87963),L=e(8260).iterator,A=Array.isArray;W.exports=function(v){return P(v)?A(v)||i(v)||g(v)?!0:typeof v[L]=="function":!1}},259:function(W,H,e){var g=e(1496),P=e(62072),i=e(8260),L=e(95426),A=Object.defineProperty,v;v=W.exports=function(p){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");p=String(p),L.call(this,p),A(this,"__length__",P("",p.length))},g&&g(v,L),delete v.prototype.constructor,v.prototype=Object.create(L.prototype,{_next:P(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:P(function(p){var t=this.__list__[p],r;return this.__nextIndex__===this.__length__?t:(r=t.charCodeAt(0),r>=55296&&r<=56319?t+this.__list__[this.__nextIndex__++]:t)})}),A(v.prototype,i.toStringTag,P("c","String Iterator"))},58095:function(W,H,e){var g=e(35940);W.exports=function(P){if(!g(P))throw new TypeError(P+" is not iterable");return P}},73523:function(W){function H(g,P){if(g==null)throw new TypeError("Cannot convert first argument to object");for(var i=Object(g),L=1;L<arguments.length;L++){var A=arguments[L];if(A!=null)for(var v=Object.keys(Object(A)),p=0,t=v.length;p<t;p++){var r=v[p],s=Object.getOwnPropertyDescriptor(A,r);s!==void 0&&s.enumerable&&(i[r]=A[r])}}return i}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:H})}W.exports={assign:H,polyfill:e}},8260:function(W,H,e){W.exports=e(69711)()?e(94908).Symbol:e(18415)},69711:function(W,H,e){var g=e(94908),P={object:!0,symbol:!0};W.exports=function(){var i=g.Symbol,L;if(typeof i!="function")return!1;L=i("test symbol");try{String(L)}catch{return!1}return!(!P[typeof i.iterator]||!P[typeof i.toPrimitive]||!P[typeof i.toStringTag])}},82276:function(W){W.exports=function(H){return H?typeof H=="symbol"?!0:!H.constructor||H.constructor.name!=="Symbol"?!1:H[H.constructor.toStringTag]==="Symbol":!1}},29366:function(W,H,e){var g=e(62072),P=Object.create,i=Object.defineProperty,L=Object.prototype,A=P(null);W.exports=function(v){for(var p=0,t,r;A[v+(p||"")];)++p;return v+=p||"",A[v]=!0,t="@@"+v,i(L,t,g.gs(null,function(s){r||(r=!0,i(this,t,g(s)),r=!1)})),t}},92842:function(W,H,e){var g=e(62072),P=e(94908).Symbol;W.exports=function(i){return Object.defineProperties(i,{hasInstance:g("",P&&P.hasInstance||i("hasInstance")),isConcatSpreadable:g("",P&&P.isConcatSpreadable||i("isConcatSpreadable")),iterator:g("",P&&P.iterator||i("iterator")),match:g("",P&&P.match||i("match")),replace:g("",P&&P.replace||i("replace")),search:g("",P&&P.search||i("search")),species:g("",P&&P.species||i("species")),split:g("",P&&P.split||i("split")),toPrimitive:g("",P&&P.toPrimitive||i("toPrimitive")),toStringTag:g("",P&&P.toStringTag||i("toStringTag")),unscopables:g("",P&&P.unscopables||i("unscopables"))})}},13304:function(W,H,e){var g=e(62072),P=e(53308),i=Object.create(null);W.exports=function(L){return Object.defineProperties(L,{for:g(function(A){return i[A]?i[A]:i[A]=L(String(A))}),keyFor:g(function(A){var v;P(A);for(v in i)if(i[v]===A)return v})})}},18415:function(W,H,e){var g=e(62072),P=e(53308),i=e(94908).Symbol,L=e(29366),A=e(92842),v=e(13304),p=Object.create,t=Object.defineProperties,r=Object.defineProperty,s,n,l;if(typeof i=="function")try{String(i()),l=!0}catch{}else i=null;n=function(u){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return s(u)},W.exports=s=function f(u){var m;if(this instanceof f)throw new TypeError("Symbol is not a constructor");return l?i(u):(m=p(n.prototype),u=u===void 0?"":String(u),t(m,{__description__:g("",u),__name__:g("",L(u))}))},A(s),v(s),t(n.prototype,{constructor:g(s),toString:g("",function(){return this.__name__})}),t(s.prototype,{toString:g(function(){return"Symbol ("+P(this).__description__+")"}),valueOf:g(function(){return P(this)})}),r(s.prototype,s.toPrimitive,g("",function(){var f=P(this);return typeof f=="symbol"?f:f.toString()})),r(s.prototype,s.toStringTag,g("c","Symbol")),r(n.prototype,s.toStringTag,g("c",s.prototype[s.toStringTag])),r(n.prototype,s.toPrimitive,g("c",s.prototype[s.toPrimitive]))},53308:function(W,H,e){var g=e(82276);W.exports=function(P){if(!g(P))throw new TypeError(P+" is not a symbol");return P}},83522:function(W,H,e){W.exports=e(96402)()?WeakMap:e(329)},96402:function(W){W.exports=function(){var H,e;if(typeof WeakMap!="function")return!1;try{H=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(H)!=="[object WeakMap]"||typeof H.set!="function"||H.set({},1)!==H||typeof H.delete!="function"||typeof H.has!="function"||H.get(e)!=="one")}},96416:function(W){W.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},329:function(W,H,e){var g=e(95296),P=e(1496),i=e(98976),L=e(36672),A=e(43043),v=e(62072),p=e(66661),t=e(27515),r=e(8260).toStringTag,s=e(96416),n=Array.isArray,l=Object.defineProperty,f=Object.prototype.hasOwnProperty,u=Object.getPrototypeOf,m;W.exports=m=function(){var c=arguments[0],w;if(!(this instanceof m))throw new TypeError("Constructor requires 'new'");return w=s&&P&&WeakMap!==m?P(new WeakMap,u(this)):this,g(c)&&(n(c)||(c=p(c))),l(w,"__weakMapData__",v("c","$weakMap$"+A())),c&&t(c,function(h){L(h),w.set(h[0],h[1])}),w},s&&(P&&P(m,WeakMap),m.prototype=Object.create(WeakMap.prototype,{constructor:v(m)})),Object.defineProperties(m.prototype,{delete:v(function(c){return f.call(i(c),this.__weakMapData__)?(delete c[this.__weakMapData__],!0):!1}),get:v(function(c){if(f.call(i(c),this.__weakMapData__))return c[this.__weakMapData__]}),has:v(function(c){return f.call(i(c),this.__weakMapData__)}),set:v(function(c,w){return l(i(c),this.__weakMapData__,v("c",w)),this}),toString:v(function(){return"[object WeakMap]"})}),l(m.prototype,r,v("c","WeakMap"))},15398:function(W){var H=typeof Reflect=="object"?Reflect:null,e=H&&typeof H.apply=="function"?H.apply:function(d,M,T){return Function.prototype.apply.call(d,M,T)},g;H&&typeof H.ownKeys=="function"?g=H.ownKeys:Object.getOwnPropertySymbols?g=function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:g=function(d){return Object.getOwnPropertyNames(d)};function P(o){console&&console.warn&&console.warn(o)}var i=Number.isNaN||function(d){return d!==d};function L(){L.init.call(this)}W.exports=L,W.exports.once=c,L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var A=10;function v(o){if(typeof o!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof o)}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return A},set:function(o){if(typeof o!="number"||o<0||i(o))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+o+".");A=o}}),L.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(d){if(typeof d!="number"||d<0||i(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this};function p(o){return o._maxListeners===void 0?L.defaultMaxListeners:o._maxListeners}L.prototype.getMaxListeners=function(){return p(this)},L.prototype.emit=function(d){for(var M=[],T=1;T<arguments.length;T++)M.push(arguments[T]);var E=d==="error",x=this._events;if(x!==void 0)E=E&&x.error===void 0;else if(!E)return!1;if(E){var S;if(M.length>0&&(S=M[0]),S instanceof Error)throw S;var b=new Error("Unhandled error."+(S?" ("+S.message+")":""));throw b.context=S,b}var a=x[d];if(a===void 0)return!1;if(typeof a=="function")e(a,this,M);else for(var C=a.length,y=f(a,C),T=0;T<C;++T)e(y[T],this,M);return!0};function t(o,d,M,T){var E,x,S;if(v(M),x=o._events,x===void 0?(x=o._events=Object.create(null),o._eventsCount=0):(x.newListener!==void 0&&(o.emit("newListener",d,M.listener?M.listener:M),x=o._events),S=x[d]),S===void 0)S=x[d]=M,++o._eventsCount;else if(typeof S=="function"?S=x[d]=T?[M,S]:[S,M]:T?S.unshift(M):S.push(M),E=p(o),E>0&&S.length>E&&!S.warned){S.warned=!0;var b=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");b.name="MaxListenersExceededWarning",b.emitter=o,b.type=d,b.count=S.length,P(b)}return o}L.prototype.addListener=function(d,M){return t(this,d,M,!1)},L.prototype.on=L.prototype.addListener,L.prototype.prependListener=function(d,M){return t(this,d,M,!0)};function r(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function s(o,d,M){var T={fired:!1,wrapFn:void 0,target:o,type:d,listener:M},E=r.bind(T);return E.listener=M,T.wrapFn=E,E}L.prototype.once=function(d,M){return v(M),this.on(d,s(this,d,M)),this},L.prototype.prependOnceListener=function(d,M){return v(M),this.prependListener(d,s(this,d,M)),this},L.prototype.removeListener=function(d,M){var T,E,x,S,b;if(v(M),E=this._events,E===void 0)return this;if(T=E[d],T===void 0)return this;if(T===M||T.listener===M)--this._eventsCount===0?this._events=Object.create(null):(delete E[d],E.removeListener&&this.emit("removeListener",d,T.listener||M));else if(typeof T!="function"){for(x=-1,S=T.length-1;S>=0;S--)if(T[S]===M||T[S].listener===M){b=T[S].listener,x=S;break}if(x<0)return this;x===0?T.shift():u(T,x),T.length===1&&(E[d]=T[0]),E.removeListener!==void 0&&this.emit("removeListener",d,b||M)}return this},L.prototype.off=L.prototype.removeListener,L.prototype.removeAllListeners=function(d){var M,T,E;if(T=this._events,T===void 0)return this;if(T.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):T[d]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete T[d]),this;if(arguments.length===0){var x=Object.keys(T),S;for(E=0;E<x.length;++E)S=x[E],S!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(M=T[d],typeof M=="function")this.removeListener(d,M);else if(M!==void 0)for(E=M.length-1;E>=0;E--)this.removeListener(d,M[E]);return this};function n(o,d,M){var T=o._events;if(T===void 0)return[];var E=T[d];return E===void 0?[]:typeof E=="function"?M?[E.listener||E]:[E]:M?m(E):f(E,E.length)}L.prototype.listeners=function(d){return n(this,d,!0)},L.prototype.rawListeners=function(d){return n(this,d,!1)},L.listenerCount=function(o,d){return typeof o.listenerCount=="function"?o.listenerCount(d):l.call(o,d)},L.prototype.listenerCount=l;function l(o){var d=this._events;if(d!==void 0){var M=d[o];if(typeof M=="function")return 1;if(M!==void 0)return M.length}return 0}L.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]};function f(o,d){for(var M=new Array(d),T=0;T<d;++T)M[T]=o[T];return M}function u(o,d){for(;d+1<o.length;d++)o[d]=o[d+1];o.pop()}function m(o){for(var d=new Array(o.length),M=0;M<d.length;++M)d[M]=o[M].listener||o[M];return d}function c(o,d){return new Promise(function(M,T){function E(S){o.removeListener(d,x),T(S)}function x(){typeof o.removeListener=="function"&&o.removeListener("error",E),M([].slice.call(arguments))}h(o,d,x,{once:!0}),d!=="error"&&w(o,E,{once:!0})})}function w(o,d,M){typeof o.on=="function"&&h(o,"error",d,M)}function h(o,d,M,T){if(typeof o.on=="function")T.once?o.once(d,M):o.on(d,M);else if(typeof o.addEventListener=="function")o.addEventListener(d,function E(x){T.once&&o.removeEventListener(d,E),M(x)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof o)}},60774:function(W){var H=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};W.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return H()}try{return __global__||H()}finally{delete Object.prototype.__global__}}()},94908:function(W,H,e){W.exports=e(51152)()?globalThis:e(60774)},51152:function(W){W.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},92770:function(W,H,e){var g=e(18546);W.exports=function(P){var i=typeof P;if(i==="string"){var L=P;if(P=+P,P===0&&g(L))return!1}else if(i!=="number")return!1;return P-P<1}},30120:function(W,H,e){var g=e(90660);W.exports=P;function P(i,L,A){if(!i)throw new TypeError("must specify data as first parameter");if(A=+(A||0)|0,Array.isArray(i)&&i[0]&&typeof i[0][0]=="number"){var v=i[0].length,p=i.length*v,t,r,s,n;(!L||typeof L=="string")&&(L=new(g(L||"float32"))(p+A));var l=L.length-A;if(p!==l)throw new Error("source length "+p+" ("+v+"x"+i.length+") does not match destination length "+l);for(t=0,s=A;t<i.length;t++)for(r=0;r<v;r++)L[s++]=i[t][r]===null?NaN:i[t][r]}else if(!L||typeof L=="string"){var f=g(L||"float32");if(Array.isArray(i)||L==="array")for(L=new f(i.length+A),t=0,s=A,n=L.length;s<n;s++,t++)L[s]=i[t]===null?NaN:i[t];else A===0?L=new f(i):(L=new f(i.length+A),L.set(i,A))}else L.set(i,A);return L}},68016:function(W,H,e){var g=e(53313),P=[32,126];W.exports=i;function i(L){L=L||{};var A=L.shape?L.shape:L.canvas?[L.canvas.width,L.canvas.height]:[512,512],v=L.canvas||document.createElement("canvas"),p=L.font,t=typeof L.step=="number"?[L.step,L.step]:L.step||[32,32],r=L.chars||P;if(p&&typeof p!="string"&&(p=g(p)),!Array.isArray(r))r=String(r).split("");else if(r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"){for(var s=[],n=r[0],l=0;n<=r[1];n++)s[l++]=String.fromCharCode(n);r=s}A=A.slice(),v.width=A[0],v.height=A[1];var f=v.getContext("2d");f.fillStyle="#000",f.fillRect(0,0,v.width,v.height),f.font=p,f.textAlign="center",f.textBaseline="middle",f.fillStyle="#fff";for(var u=t[0]/2,m=t[1]/2,n=0;n<r.length;n++)f.fillText(r[n],u,m),(u+=t[0])>A[0]-t[0]/2&&(u=t[0]/2,m+=t[1]);return v}},32879:function(W){W.exports=H,H.canvas=document.createElement("canvas"),H.cache={};function H(r,L){L||(L={}),(typeof r=="string"||Array.isArray(r))&&(L.family=r);var A=Array.isArray(L.family)?L.family.join(", "):L.family;if(!A)throw Error("`family` must be defined");var v=L.size||L.fontSize||L.em||48,p=L.weight||L.fontWeight||"",t=L.style||L.fontStyle||"",r=[t,p,v].join(" ")+"px "+A,s=L.origin||"top";if(H.cache[A]&&v<=H.cache[A].em)return e(H.cache[A],s);var n=L.canvas||H.canvas,l=n.getContext("2d"),f={upper:L.upper!==void 0?L.upper:"H",lower:L.lower!==void 0?L.lower:"x",descent:L.descent!==void 0?L.descent:"p",ascent:L.ascent!==void 0?L.ascent:"h",tittle:L.tittle!==void 0?L.tittle:"i",overshoot:L.overshoot!==void 0?L.overshoot:"O"},u=Math.ceil(v*1.5);n.height=u,n.width=u*.5,l.font=r;var m="H",c={top:0};l.clearRect(0,0,u,u),l.textBaseline="top",l.fillStyle="black",l.fillText(m,0,0);var w=g(l.getImageData(0,0,u,u));l.clearRect(0,0,u,u),l.textBaseline="bottom",l.fillText(m,0,u);var h=g(l.getImageData(0,0,u,u));c.lineHeight=c.bottom=u-h+w,l.clearRect(0,0,u,u),l.textBaseline="alphabetic",l.fillText(m,0,u);var o=g(l.getImageData(0,0,u,u)),d=u-o-1+w;c.baseline=c.alphabetic=d,l.clearRect(0,0,u,u),l.textBaseline="middle",l.fillText(m,0,u*.5);var M=g(l.getImageData(0,0,u,u));c.median=c.middle=u-M-1+w-u*.5,l.clearRect(0,0,u,u),l.textBaseline="hanging",l.fillText(m,0,u*.5);var T=g(l.getImageData(0,0,u,u));c.hanging=u-T-1+w-u*.5,l.clearRect(0,0,u,u),l.textBaseline="ideographic",l.fillText(m,0,u);var E=g(l.getImageData(0,0,u,u));if(c.ideographic=u-E-1+w,f.upper&&(l.clearRect(0,0,u,u),l.textBaseline="top",l.fillText(f.upper,0,0),c.upper=g(l.getImageData(0,0,u,u)),c.capHeight=c.baseline-c.upper),f.lower&&(l.clearRect(0,0,u,u),l.textBaseline="top",l.fillText(f.lower,0,0),c.lower=g(l.getImageData(0,0,u,u)),c.xHeight=c.baseline-c.lower),f.tittle&&(l.clearRect(0,0,u,u),l.textBaseline="top",l.fillText(f.tittle,0,0),c.tittle=g(l.getImageData(0,0,u,u))),f.ascent&&(l.clearRect(0,0,u,u),l.textBaseline="top",l.fillText(f.ascent,0,0),c.ascent=g(l.getImageData(0,0,u,u))),f.descent&&(l.clearRect(0,0,u,u),l.textBaseline="top",l.fillText(f.descent,0,0),c.descent=P(l.getImageData(0,0,u,u))),f.overshoot){l.clearRect(0,0,u,u),l.textBaseline="top",l.fillText(f.overshoot,0,0);var x=P(l.getImageData(0,0,u,u));c.overshoot=x-d}for(var S in c)c[S]/=v;return c.em=v,H.cache[A]=c,e(c,s)}function e(i,L){var A={};typeof L=="string"&&(L=i[L]);for(var v in i)v!=="em"&&(A[v]=i[v]-L);return A}function g(i){for(var L=i.height,A=i.data,v=3;v<A.length;v+=4)if(A[v]!==0)return Math.floor((v-3)*.25/L)}function P(i){for(var L=i.height,A=i.data,v=A.length-1;v>0;v-=4)if(A[v]!==0)return Math.floor((v-3)*.25/L)}},31353:function(W,H,e){var g=e(85395),P=Object.prototype.toString,i=Object.prototype.hasOwnProperty,L=function(r,s,n){for(var l=0,f=r.length;l<f;l++)i.call(r,l)&&(n==null?s(r[l],l,r):s.call(n,r[l],l,r))},A=function(r,s,n){for(var l=0,f=r.length;l<f;l++)n==null?s(r.charAt(l),l,r):s.call(n,r.charAt(l),l,r)},v=function(r,s,n){for(var l in r)i.call(r,l)&&(n==null?s(r[l],l,r):s.call(n,r[l],l,r))},p=function(r,s,n){if(!g(s))throw new TypeError("iterator must be a function");var l;arguments.length>=3&&(l=n),P.call(r)==="[object Array]"?L(r,s,l):typeof r=="string"?A(r,s,l):v(r,s,l)};W.exports=p},73047:function(W){var H="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,g=Object.prototype.toString,P="[object Function]";W.exports=function(L){var A=this;if(typeof A!="function"||g.call(A)!==P)throw new TypeError(H+A);for(var v=e.call(arguments,1),p,t=function(){if(this instanceof p){var f=A.apply(this,v.concat(e.call(arguments)));return Object(f)===f?f:this}else return A.apply(L,v.concat(e.call(arguments)))},r=Math.max(0,A.length-v.length),s=[],n=0;n<r;n++)s.push("$"+n);if(p=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(t),A.prototype){var l=function(){};l.prototype=A.prototype,p.prototype=new l,l.prototype=null}return p}},77575:function(W,H,e){var g=e(73047);W.exports=Function.prototype.bind||g},86249:function(W){W.exports=H;function H(e,g){if(typeof e!="string")throw new TypeError("must specify type string");if(g=g||{},typeof document>"u"&&!g.canvas)return null;var P=g.canvas||document.createElement("canvas");typeof g.width=="number"&&(P.width=g.width),typeof g.height=="number"&&(P.height=g.height);var i=g,L;try{var A=[e];e.indexOf("webgl")===0&&A.push("experimental-"+e);for(var v=0;v<A.length;v++)if(L=P.getContext(A[v],i),L)return L}catch{L=null}return L||null}},68318:function(W,H,e){var g,P=SyntaxError,i=Function,L=TypeError,A=function(C){try{return i('"use strict"; return ('+C+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var p=function(){throw new L},t=v?function(){try{return arguments.callee,p}catch{try{return v(arguments,"callee").get}catch{return p}}}():p,r=e(57877)(),s=Object.getPrototypeOf||function(C){return C.__proto__},n={},l=typeof Uint8Array>"u"?g:s(Uint8Array),f={"%AggregateError%":typeof AggregateError>"u"?g:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?g:ArrayBuffer,"%ArrayIteratorPrototype%":r?s([][Symbol.iterator]()):g,"%AsyncFromSyncIteratorPrototype%":g,"%AsyncFunction%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":n,"%AsyncIteratorPrototype%":n,"%Atomics%":typeof Atomics>"u"?g:Atomics,"%BigInt%":typeof BigInt>"u"?g:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?g:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?g:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?g:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?g:Float32Array,"%Float64Array%":typeof Float64Array>"u"?g:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?g:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":n,"%Int8Array%":typeof Int8Array>"u"?g:Int8Array,"%Int16Array%":typeof Int16Array>"u"?g:Int16Array,"%Int32Array%":typeof Int32Array>"u"?g:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":r?s(s([][Symbol.iterator]())):g,"%JSON%":typeof JSON=="object"?JSON:g,"%Map%":typeof Map>"u"?g:Map,"%MapIteratorPrototype%":typeof Map>"u"||!r?g:s(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?g:Promise,"%Proxy%":typeof Proxy>"u"?g:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?g:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?g:Set,"%SetIteratorPrototype%":typeof Set>"u"||!r?g:s(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?g:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":r?s(""[Symbol.iterator]()):g,"%Symbol%":r?Symbol:g,"%SyntaxError%":P,"%ThrowTypeError%":t,"%TypedArray%":l,"%TypeError%":L,"%Uint8Array%":typeof Uint8Array>"u"?g:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?g:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?g:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?g:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?g:WeakMap,"%WeakRef%":typeof WeakRef>"u"?g:WeakRef,"%WeakSet%":typeof WeakSet>"u"?g:WeakSet};try{null.error}catch(C){var u=s(s(C));f["%Error.prototype%"]=u}var m=function C(y){var z;if(y==="%AsyncFunction%")z=A("async function () {}");else if(y==="%GeneratorFunction%")z=A("function* () {}");else if(y==="%AsyncGeneratorFunction%")z=A("async function* () {}");else if(y==="%AsyncGenerator%"){var I=C("%AsyncGeneratorFunction%");I&&(z=I.prototype)}else if(y==="%AsyncIteratorPrototype%"){var B=C("%AsyncGenerator%");B&&(z=s(B.prototype))}return f[y]=z,z},c={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=e(77575),h=e(35065),o=w.call(Function.call,Array.prototype.concat),d=w.call(Function.apply,Array.prototype.splice),M=w.call(Function.call,String.prototype.replace),T=w.call(Function.call,String.prototype.slice),E=w.call(Function.call,RegExp.prototype.exec),x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,b=function(y){var z=T(y,0,1),I=T(y,-1);if(z==="%"&&I!=="%")throw new P("invalid intrinsic syntax, expected closing `%`");if(I==="%"&&z!=="%")throw new P("invalid intrinsic syntax, expected opening `%`");var B=[];return M(y,x,function(F,O,N,_){B[B.length]=N?M(_,S,"$1"):O||F}),B},a=function(y,z){var I=y,B;if(h(c,I)&&(B=c[I],I="%"+B[0]+"%"),h(f,I)){var F=f[I];if(F===n&&(F=m(I)),typeof F>"u"&&!z)throw new L("intrinsic "+y+" exists, but is not available. Please file an issue!");return{alias:B,name:I,value:F}}throw new P("intrinsic "+y+" does not exist!")};W.exports=function(y,z){if(typeof y!="string"||y.length===0)throw new L("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof z!="boolean")throw new L('"allowMissing" argument must be a boolean');if(E(/^%?[^%]*%?$/,y)===null)throw new P("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var I=b(y),B=I.length>0?I[0]:"",F=a("%"+B+"%",z),O=F.name,N=F.value,_=!1,U=F.alias;U&&(B=U[0],d(I,o([0,1],U)));for(var Y=1,K=!0;Y<I.length;Y+=1){var re=I[Y],ae=T(re,0,1),fe=T(re,-1);if((ae==='"'||ae==="'"||ae==="`"||fe==='"'||fe==="'"||fe==="`")&&ae!==fe)throw new P("property names with quotes must have matching quotes");if((re==="constructor"||!K)&&(_=!0),B+="."+re,O="%"+B+"%",h(f,O))N=f[O];else if(N!=null){if(!(re in N)){if(!z)throw new L("base intrinsic for "+y+" exists, but the property is not available.");return}if(v&&Y+1>=I.length){var Q=v(N,re);K=!!Q,K&&"get"in Q&&!("originalValue"in Q.get)?N=Q.get:N=N[re]}else K=h(N,re),N=N[re];K&&!_&&(f[O]=N)}}return N}},85400:function(W){W.exports=H;function H(e,g){var P=g[0],i=g[1],L=g[2],A=g[3],v=g[4],p=g[5],t=g[6],r=g[7],s=g[8],n=g[9],l=g[10],f=g[11],u=g[12],m=g[13],c=g[14],w=g[15];return e[0]=p*(l*w-f*c)-n*(t*w-r*c)+m*(t*f-r*l),e[1]=-(i*(l*w-f*c)-n*(L*w-A*c)+m*(L*f-A*l)),e[2]=i*(t*w-r*c)-p*(L*w-A*c)+m*(L*r-A*t),e[3]=-(i*(t*f-r*l)-p*(L*f-A*l)+n*(L*r-A*t)),e[4]=-(v*(l*w-f*c)-s*(t*w-r*c)+u*(t*f-r*l)),e[5]=P*(l*w-f*c)-s*(L*w-A*c)+u*(L*f-A*l),e[6]=-(P*(t*w-r*c)-v*(L*w-A*c)+u*(L*r-A*t)),e[7]=P*(t*f-r*l)-v*(L*f-A*l)+s*(L*r-A*t),e[8]=v*(n*w-f*m)-s*(p*w-r*m)+u*(p*f-r*n),e[9]=-(P*(n*w-f*m)-s*(i*w-A*m)+u*(i*f-A*n)),e[10]=P*(p*w-r*m)-v*(i*w-A*m)+u*(i*r-A*p),e[11]=-(P*(p*f-r*n)-v*(i*f-A*n)+s*(i*r-A*p)),e[12]=-(v*(n*c-l*m)-s*(p*c-t*m)+u*(p*l-t*n)),e[13]=P*(n*c-l*m)-s*(i*c-L*m)+u*(i*l-L*n),e[14]=-(P*(p*c-t*m)-v*(i*c-L*m)+u*(i*t-L*p)),e[15]=P*(p*l-t*n)-v*(i*l-L*n)+s*(i*t-L*p),e}},42331:function(W){W.exports=H;function H(e){var g=new Float32Array(16);return g[0]=e[0],g[1]=e[1],g[2]=e[2],g[3]=e[3],g[4]=e[4],g[5]=e[5],g[6]=e[6],g[7]=e[7],g[8]=e[8],g[9]=e[9],g[10]=e[10],g[11]=e[11],g[12]=e[12],g[13]=e[13],g[14]=e[14],g[15]=e[15],g}},31042:function(W){W.exports=H;function H(e,g){return e[0]=g[0],e[1]=g[1],e[2]=g[2],e[3]=g[3],e[4]=g[4],e[5]=g[5],e[6]=g[6],e[7]=g[7],e[8]=g[8],e[9]=g[9],e[10]=g[10],e[11]=g[11],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15],e}},11902:function(W){W.exports=H;function H(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},89887:function(W){W.exports=H;function H(e){var g=e[0],P=e[1],i=e[2],L=e[3],A=e[4],v=e[5],p=e[6],t=e[7],r=e[8],s=e[9],n=e[10],l=e[11],f=e[12],u=e[13],m=e[14],c=e[15],w=g*v-P*A,h=g*p-i*A,o=g*t-L*A,d=P*p-i*v,M=P*t-L*v,T=i*t-L*p,E=r*u-s*f,x=r*m-n*f,S=r*c-l*f,b=s*m-n*u,a=s*c-l*u,C=n*c-l*m;return w*C-h*a+o*b+d*S-M*x+T*E}},27812:function(W){W.exports=H;function H(e,g){var P=g[0],i=g[1],L=g[2],A=g[3],v=P+P,p=i+i,t=L+L,r=P*v,s=i*v,n=i*p,l=L*v,f=L*p,u=L*t,m=A*v,c=A*p,w=A*t;return e[0]=1-n-u,e[1]=s+w,e[2]=l-c,e[3]=0,e[4]=s-w,e[5]=1-r-u,e[6]=f+m,e[7]=0,e[8]=l+c,e[9]=f-m,e[10]=1-r-n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},34045:function(W){W.exports=H;function H(e,g,P){var i,L,A,v=P[0],p=P[1],t=P[2],r=Math.sqrt(v*v+p*p+t*t);return Math.abs(r)<1e-6?null:(r=1/r,v*=r,p*=r,t*=r,i=Math.sin(g),L=Math.cos(g),A=1-L,e[0]=v*v*A+L,e[1]=p*v*A+t*i,e[2]=t*v*A-p*i,e[3]=0,e[4]=v*p*A-t*i,e[5]=p*p*A+L,e[6]=t*p*A+v*i,e[7]=0,e[8]=v*t*A+p*i,e[9]=p*t*A-v*i,e[10]=t*t*A+L,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},45973:function(W){W.exports=H;function H(e,g,P){var i=g[0],L=g[1],A=g[2],v=g[3],p=i+i,t=L+L,r=A+A,s=i*p,n=i*t,l=i*r,f=L*t,u=L*r,m=A*r,c=v*p,w=v*t,h=v*r;return e[0]=1-(f+m),e[1]=n+h,e[2]=l-w,e[3]=0,e[4]=n-h,e[5]=1-(s+m),e[6]=u+c,e[7]=0,e[8]=l+w,e[9]=u-c,e[10]=1-(s+f),e[11]=0,e[12]=P[0],e[13]=P[1],e[14]=P[2],e[15]=1,e}},81472:function(W){W.exports=H;function H(e,g){return e[0]=g[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=g[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=g[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},14669:function(W){W.exports=H;function H(e,g){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=g[0],e[13]=g[1],e[14]=g[2],e[15]=1,e}},75262:function(W){W.exports=H;function H(e,g){var P=Math.sin(g),i=Math.cos(g);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=P,e[7]=0,e[8]=0,e[9]=-P,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},331:function(W){W.exports=H;function H(e,g){var P=Math.sin(g),i=Math.cos(g);return e[0]=i,e[1]=0,e[2]=-P,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=P,e[9]=0,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},11049:function(W){W.exports=H;function H(e,g){var P=Math.sin(g),i=Math.cos(g);return e[0]=i,e[1]=P,e[2]=0,e[3]=0,e[4]=-P,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},75195:function(W){W.exports=H;function H(e,g,P,i,L,A,v){var p=1/(P-g),t=1/(L-i),r=1/(A-v);return e[0]=A*2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=A*2*t,e[6]=0,e[7]=0,e[8]=(P+g)*p,e[9]=(L+i)*t,e[10]=(v+A)*r,e[11]=-1,e[12]=0,e[13]=0,e[14]=v*A*2*r,e[15]=0,e}},71551:function(W){W.exports=H;function H(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79576:function(W,H,e){W.exports={create:e(11902),clone:e(42331),copy:e(31042),identity:e(71551),transpose:e(88654),invert:e(95874),adjoint:e(85400),determinant:e(89887),multiply:e(91362),translate:e(31283),scale:e(10789),rotate:e(65074),rotateX:e(35545),rotateY:e(94918),rotateZ:e(15692),fromRotation:e(34045),fromRotationTranslation:e(45973),fromScaling:e(81472),fromTranslation:e(14669),fromXRotation:e(75262),fromYRotation:e(331),fromZRotation:e(11049),fromQuat:e(27812),frustum:e(75195),perspective:e(7864),perspectiveFromFieldOfView:e(35279),ortho:e(60378),lookAt:e(65551),str:e(6726)}},95874:function(W){W.exports=H;function H(e,g){var P=g[0],i=g[1],L=g[2],A=g[3],v=g[4],p=g[5],t=g[6],r=g[7],s=g[8],n=g[9],l=g[10],f=g[11],u=g[12],m=g[13],c=g[14],w=g[15],h=P*p-i*v,o=P*t-L*v,d=P*r-A*v,M=i*t-L*p,T=i*r-A*p,E=L*r-A*t,x=s*m-n*u,S=s*c-l*u,b=s*w-f*u,a=n*c-l*m,C=n*w-f*m,y=l*w-f*c,z=h*y-o*C+d*a+M*b-T*S+E*x;return z?(z=1/z,e[0]=(p*y-t*C+r*a)*z,e[1]=(L*C-i*y-A*a)*z,e[2]=(m*E-c*T+w*M)*z,e[3]=(l*T-n*E-f*M)*z,e[4]=(t*b-v*y-r*S)*z,e[5]=(P*y-L*b+A*S)*z,e[6]=(c*d-u*E-w*o)*z,e[7]=(s*E-l*d+f*o)*z,e[8]=(v*C-p*b+r*x)*z,e[9]=(i*b-P*C-A*x)*z,e[10]=(u*T-m*d+w*h)*z,e[11]=(n*d-s*T-f*h)*z,e[12]=(p*S-v*a-t*x)*z,e[13]=(P*a-i*S+L*x)*z,e[14]=(m*o-u*M-c*h)*z,e[15]=(s*M-n*o+l*h)*z,e):null}},65551:function(W,H,e){var g=e(71551);W.exports=P;function P(i,L,A,v){var p,t,r,s,n,l,f,u,m,c,w=L[0],h=L[1],o=L[2],d=v[0],M=v[1],T=v[2],E=A[0],x=A[1],S=A[2];return Math.abs(w-E)<1e-6&&Math.abs(h-x)<1e-6&&Math.abs(o-S)<1e-6?g(i):(f=w-E,u=h-x,m=o-S,c=1/Math.sqrt(f*f+u*u+m*m),f*=c,u*=c,m*=c,p=M*m-T*u,t=T*f-d*m,r=d*u-M*f,c=Math.sqrt(p*p+t*t+r*r),c?(c=1/c,p*=c,t*=c,r*=c):(p=0,t=0,r=0),s=u*r-m*t,n=m*p-f*r,l=f*t-u*p,c=Math.sqrt(s*s+n*n+l*l),c?(c=1/c,s*=c,n*=c,l*=c):(s=0,n=0,l=0),i[0]=p,i[1]=s,i[2]=f,i[3]=0,i[4]=t,i[5]=n,i[6]=u,i[7]=0,i[8]=r,i[9]=l,i[10]=m,i[11]=0,i[12]=-(p*w+t*h+r*o),i[13]=-(s*w+n*h+l*o),i[14]=-(f*w+u*h+m*o),i[15]=1,i)}},91362:function(W){W.exports=H;function H(e,g,P){var i=g[0],L=g[1],A=g[2],v=g[3],p=g[4],t=g[5],r=g[6],s=g[7],n=g[8],l=g[9],f=g[10],u=g[11],m=g[12],c=g[13],w=g[14],h=g[15],o=P[0],d=P[1],M=P[2],T=P[3];return e[0]=o*i+d*p+M*n+T*m,e[1]=o*L+d*t+M*l+T*c,e[2]=o*A+d*r+M*f+T*w,e[3]=o*v+d*s+M*u+T*h,o=P[4],d=P[5],M=P[6],T=P[7],e[4]=o*i+d*p+M*n+T*m,e[5]=o*L+d*t+M*l+T*c,e[6]=o*A+d*r+M*f+T*w,e[7]=o*v+d*s+M*u+T*h,o=P[8],d=P[9],M=P[10],T=P[11],e[8]=o*i+d*p+M*n+T*m,e[9]=o*L+d*t+M*l+T*c,e[10]=o*A+d*r+M*f+T*w,e[11]=o*v+d*s+M*u+T*h,o=P[12],d=P[13],M=P[14],T=P[15],e[12]=o*i+d*p+M*n+T*m,e[13]=o*L+d*t+M*l+T*c,e[14]=o*A+d*r+M*f+T*w,e[15]=o*v+d*s+M*u+T*h,e}},60378:function(W){W.exports=H;function H(e,g,P,i,L,A,v){var p=1/(g-P),t=1/(i-L),r=1/(A-v);return e[0]=-2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*r,e[11]=0,e[12]=(g+P)*p,e[13]=(L+i)*t,e[14]=(v+A)*r,e[15]=1,e}},7864:function(W){W.exports=H;function H(e,g,P,i,L){var A=1/Math.tan(g/2),v=1/(i-L);return e[0]=A/P,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=A,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(L+i)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*L*i*v,e[15]=0,e}},35279:function(W){W.exports=H;function H(e,g,P,i){var L=Math.tan(g.upDegrees*Math.PI/180),A=Math.tan(g.downDegrees*Math.PI/180),v=Math.tan(g.leftDegrees*Math.PI/180),p=Math.tan(g.rightDegrees*Math.PI/180),t=2/(v+p),r=2/(L+A);return e[0]=t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=0,e[7]=0,e[8]=-((v-p)*t*.5),e[9]=(L-A)*r*.5,e[10]=i/(P-i),e[11]=-1,e[12]=0,e[13]=0,e[14]=i*P/(P-i),e[15]=0,e}},65074:function(W){W.exports=H;function H(e,g,P,i){var L=i[0],A=i[1],v=i[2],p=Math.sqrt(L*L+A*A+v*v),t,r,s,n,l,f,u,m,c,w,h,o,d,M,T,E,x,S,b,a,C,y,z,I;return Math.abs(p)<1e-6?null:(p=1/p,L*=p,A*=p,v*=p,t=Math.sin(P),r=Math.cos(P),s=1-r,n=g[0],l=g[1],f=g[2],u=g[3],m=g[4],c=g[5],w=g[6],h=g[7],o=g[8],d=g[9],M=g[10],T=g[11],E=L*L*s+r,x=A*L*s+v*t,S=v*L*s-A*t,b=L*A*s-v*t,a=A*A*s+r,C=v*A*s+L*t,y=L*v*s+A*t,z=A*v*s-L*t,I=v*v*s+r,e[0]=n*E+m*x+o*S,e[1]=l*E+c*x+d*S,e[2]=f*E+w*x+M*S,e[3]=u*E+h*x+T*S,e[4]=n*b+m*a+o*C,e[5]=l*b+c*a+d*C,e[6]=f*b+w*a+M*C,e[7]=u*b+h*a+T*C,e[8]=n*y+m*z+o*I,e[9]=l*y+c*z+d*I,e[10]=f*y+w*z+M*I,e[11]=u*y+h*z+T*I,g!==e&&(e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e)}},35545:function(W){W.exports=H;function H(e,g,P){var i=Math.sin(P),L=Math.cos(P),A=g[4],v=g[5],p=g[6],t=g[7],r=g[8],s=g[9],n=g[10],l=g[11];return g!==e&&(e[0]=g[0],e[1]=g[1],e[2]=g[2],e[3]=g[3],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[4]=A*L+r*i,e[5]=v*L+s*i,e[6]=p*L+n*i,e[7]=t*L+l*i,e[8]=r*L-A*i,e[9]=s*L-v*i,e[10]=n*L-p*i,e[11]=l*L-t*i,e}},94918:function(W){W.exports=H;function H(e,g,P){var i=Math.sin(P),L=Math.cos(P),A=g[0],v=g[1],p=g[2],t=g[3],r=g[8],s=g[9],n=g[10],l=g[11];return g!==e&&(e[4]=g[4],e[5]=g[5],e[6]=g[6],e[7]=g[7],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[0]=A*L-r*i,e[1]=v*L-s*i,e[2]=p*L-n*i,e[3]=t*L-l*i,e[8]=A*i+r*L,e[9]=v*i+s*L,e[10]=p*i+n*L,e[11]=t*i+l*L,e}},15692:function(W){W.exports=H;function H(e,g,P){var i=Math.sin(P),L=Math.cos(P),A=g[0],v=g[1],p=g[2],t=g[3],r=g[4],s=g[5],n=g[6],l=g[7];return g!==e&&(e[8]=g[8],e[9]=g[9],e[10]=g[10],e[11]=g[11],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[0]=A*L+r*i,e[1]=v*L+s*i,e[2]=p*L+n*i,e[3]=t*L+l*i,e[4]=r*L-A*i,e[5]=s*L-v*i,e[6]=n*L-p*i,e[7]=l*L-t*i,e}},10789:function(W){W.exports=H;function H(e,g,P){var i=P[0],L=P[1],A=P[2];return e[0]=g[0]*i,e[1]=g[1]*i,e[2]=g[2]*i,e[3]=g[3]*i,e[4]=g[4]*L,e[5]=g[5]*L,e[6]=g[6]*L,e[7]=g[7]*L,e[8]=g[8]*A,e[9]=g[9]*A,e[10]=g[10]*A,e[11]=g[11]*A,e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15],e}},6726:function(W){W.exports=H;function H(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},31283:function(W){W.exports=H;function H(e,g,P){var i=P[0],L=P[1],A=P[2],v,p,t,r,s,n,l,f,u,m,c,w;return g===e?(e[12]=g[0]*i+g[4]*L+g[8]*A+g[12],e[13]=g[1]*i+g[5]*L+g[9]*A+g[13],e[14]=g[2]*i+g[6]*L+g[10]*A+g[14],e[15]=g[3]*i+g[7]*L+g[11]*A+g[15]):(v=g[0],p=g[1],t=g[2],r=g[3],s=g[4],n=g[5],l=g[6],f=g[7],u=g[8],m=g[9],c=g[10],w=g[11],e[0]=v,e[1]=p,e[2]=t,e[3]=r,e[4]=s,e[5]=n,e[6]=l,e[7]=f,e[8]=u,e[9]=m,e[10]=c,e[11]=w,e[12]=v*i+s*L+u*A+g[12],e[13]=p*i+n*L+m*A+g[13],e[14]=t*i+l*L+c*A+g[14],e[15]=r*i+f*L+w*A+g[15]),e}},88654:function(W){W.exports=H;function H(e,g){if(e===g){var P=g[1],i=g[2],L=g[3],A=g[6],v=g[7],p=g[11];e[1]=g[4],e[2]=g[8],e[3]=g[12],e[4]=P,e[6]=g[9],e[7]=g[13],e[8]=i,e[9]=A,e[11]=g[14],e[12]=L,e[13]=v,e[14]=p}else e[0]=g[0],e[1]=g[4],e[2]=g[8],e[3]=g[12],e[4]=g[1],e[5]=g[5],e[6]=g[9],e[7]=g[13],e[8]=g[2],e[9]=g[6],e[10]=g[10],e[11]=g[14],e[12]=g[3],e[13]=g[7],e[14]=g[11],e[15]=g[15];return e}},42505:function(W,H,e){var g=e(72791),P=e(71299),i=e(98580),L=e(12018),A=e(83522),v=e(25075),p=e(68016),t=e(58404),r=e(18863),s=e(10973),n=e(25677),l=e(75686),f=e(53545),u=e(56131),m=e(32879),c=e(30120),w=e(13547),h=w.nextPow2,o=new A,d=!1;if(document.body){var M=document.body.appendChild(document.createElement("div"));M.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(M).fontStretch&&(d=!0),document.body.removeChild(M)}var T=function(S){E(S)?(S={regl:S},this.gl=S.regl._gl):this.gl=L(S),this.shader=o.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=S.regl||i({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),o.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(s(S)?S:{})};T.prototype.createShader=function(){var S=this.regl,b=S({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:S.prop("count"),offset:S.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:S.this("sizeBuffer")},width:{offset:0,stride:8,buffer:S.this("sizeBuffer")},char:S.this("charBuffer"),position:S.this("position")},uniforms:{atlasSize:function(C,y){return[y.atlas.width,y.atlas.height]},atlasDim:function(C,y){return[y.atlas.cols,y.atlas.rows]},atlas:function(C,y){return y.atlas.texture},charStep:function(C,y){return y.atlas.step},em:function(C,y){return y.atlas.em},color:S.prop("color"),opacity:S.prop("opacity"),viewport:S.this("viewportArray"),scale:S.this("scale"),align:S.prop("align"),baseline:S.prop("baseline"),translate:S.this("translate"),positionOffset:S.prop("positionOffset")},primitive:"points",viewport:S.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),a={};return{regl:S,draw:b,atlas:a}},T.prototype.update=function(S){var b=this;if(typeof S=="string")S={text:S};else if(!S)return;S=P(S,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),S.opacity!=null&&(Array.isArray(S.opacity)?this.opacity=S.opacity.map(function(ke){return parseFloat(ke)}):this.opacity=parseFloat(S.opacity)),S.viewport!=null&&(this.viewport=r(S.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),S.kerning!=null&&(this.kerning=S.kerning),S.offset!=null&&(typeof S.offset=="number"&&(S.offset=[S.offset,0]),this.positionOffset=c(S.offset)),S.direction&&(this.direction=S.direction),S.range&&(this.range=S.range,this.scale=[1/(S.range[2]-S.range[0]),1/(S.range[3]-S.range[1])],this.translate=[-S.range[0],-S.range[1]]),S.scale&&(this.scale=S.scale),S.translate&&(this.translate=S.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!S.font&&(S.font=T.baseFontSize+"px sans-serif");var a=!1,C=!1;if(S.font&&(Array.isArray(S.font)?S.font:[S.font]).forEach(function(ke,We){if(typeof ke=="string")try{ke=g.parse(ke)}catch{ke=g.parse(T.baseFontSize+"px "+ke)}else ke=g.parse(g.stringify(ke));var it=g.stringify({size:T.baseFontSize,family:ke.family,stretch:d?ke.stretch:void 0,variant:ke.variant,weight:ke.weight,style:ke.style}),et=n(ke.size),tt=Math.round(et[0]*l(et[1]));if(tt!==b.fontSize[We]&&(C=!0,b.fontSize[We]=tt),(!b.font[We]||it!=b.font[We].baseString)&&(a=!0,b.font[We]=T.fonts[it],!b.font[We])){var at=ke.family.join(", "),ht=[ke.style];ke.style!=ke.variant&&ht.push(ke.variant),ke.variant!=ke.weight&&ht.push(ke.weight),d&&ke.weight!=ke.stretch&&ht.push(ke.stretch),b.font[We]={baseString:it,family:at,weight:ke.weight,stretch:ke.stretch,style:ke.style,variant:ke.variant,width:{},kerning:{},metrics:m(at,{origin:"top",fontSize:T.baseFontSize,fontStyle:ht.join(" ")})},T.fonts[it]=b.font[We]}}),(a||C)&&this.font.forEach(function(ke,We){var it=g.stringify({size:b.fontSize[We],family:ke.family,stretch:d?ke.stretch:void 0,variant:ke.variant,weight:ke.weight,style:ke.style});if(b.fontAtlas[We]=b.shader.atlas[it],!b.fontAtlas[We]){var et=ke.metrics;b.shader.atlas[it]=b.fontAtlas[We]={fontString:it,step:Math.ceil(b.fontSize[We]*et.bottom*.5)*2,em:b.fontSize[We],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:b.regl.texture()}}S.text==null&&(S.text=b.text)}),typeof S.text=="string"&&S.position&&S.position.length>2){for(var y=Array(S.position.length*.5),z=0;z<y.length;z++)y[z]=S.text;S.text=y}var I;if(S.text!=null||a){if(this.textOffsets=[0],Array.isArray(S.text)){this.count=S.text[0].length,this.counts=[this.count];for(var B=1;B<S.text.length;B++)this.textOffsets[B]=this.textOffsets[B-1]+S.text[B-1].length,this.count+=S.text[B].length,this.counts.push(S.text[B].length);this.text=S.text.join("")}else this.text=S.text,this.count=this.text.length,this.counts=[this.count];I=[],this.font.forEach(function(ke,We){T.atlasContext.font=ke.baseString;for(var it=b.fontAtlas[We],et=0;et<b.text.length;et++){var tt=b.text.charAt(et);if(it.ids[tt]==null&&(it.ids[tt]=it.chars.length,it.chars.push(tt),I.push(tt)),ke.width[tt]==null&&(ke.width[tt]=T.atlasContext.measureText(tt).width/T.baseFontSize,b.kerning)){var at=[];for(var ht in ke.width)at.push(ht+tt,tt+ht);u(ke.kerning,f(ke.family,{pairs:at}))}}})}if(S.position)if(S.position.length>2){for(var F=!S.position[0].length,O=t.mallocFloat(this.count*2),N=0,_=0;N<this.counts.length;N++){var U=this.counts[N];if(F)for(var Y=0;Y<U;Y++)O[_++]=S.position[N*2],O[_++]=S.position[N*2+1];else for(var K=0;K<U;K++)O[_++]=S.position[N][0],O[_++]=S.position[N][1]}this.position.call?this.position({type:"float",data:O}):this.position=this.regl.buffer({type:"float",data:O}),t.freeFloat(O)}else this.position.destroy&&this.position.destroy(),this.position={constant:S.position};if(S.text||a){var re=t.mallocUint8(this.count),ae=t.mallocFloat(this.count*2);this.textWidth=[];for(var fe=0,Q=0;fe<this.counts.length;fe++){for(var j=this.counts[fe],X=this.font[fe]||this.font[0],J=this.fontAtlas[fe]||this.fontAtlas[0],ee=0;ee<j;ee++){var se=this.text.charAt(Q),q=this.text.charAt(Q-1);if(re[Q]=J.ids[se],ae[Q*2]=X.width[se],ee){var $=ae[Q*2-2],le=ae[Q*2],ie=ae[Q*2-1],ce=ie+$*.5+le*.5;if(this.kerning){var me=X.kerning[q+se];me&&(ce+=me*.001)}ae[Q*2+1]=ce}else ae[Q*2+1]=ae[Q*2]*.5;Q++}this.textWidth.push(ae.length?ae[Q*2-2]*.5+ae[Q*2-1]:0)}S.align||(S.align=this.align),this.charBuffer({data:re,type:"uint8",usage:"stream"}),this.sizeBuffer({data:ae,type:"float",usage:"stream"}),t.freeUint8(re),t.freeFloat(ae),I.length&&this.font.forEach(function(ke,We){var it=b.fontAtlas[We],et=it.step,tt=Math.floor(T.maxAtlasSize/et),at=Math.min(tt,it.chars.length),ht=Math.ceil(it.chars.length/at),yt=h(at*et),gt=h(ht*et);it.width=yt,it.height=gt,it.rows=ht,it.cols=at,it.em&&it.texture({data:p({canvas:T.atlasCanvas,font:it.fontString,chars:it.chars,shape:[yt,gt],step:[et,et]})})})}if(S.align&&(this.align=S.align,this.alignOffset=this.textWidth.map(function(ke,We){var it=Array.isArray(b.align)?b.align.length>1?b.align[We]:b.align[0]:b.align;if(typeof it=="number")return it;switch(it){case"right":case"end":return-ke;case"center":case"centre":case"middle":return-ke*.5}return 0})),this.baseline==null&&S.baseline==null&&(S.baseline=0),S.baseline!=null&&(this.baseline=S.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(ke,We){var it=(b.font[We]||b.font[0]).metrics,et=0;return et+=it.bottom*.5,typeof ke=="number"?et+=ke-it.baseline:et+=-it[ke],et*=-1,et})),S.color!=null)if(S.color||(S.color="transparent"),typeof S.color=="string"||!isNaN(S.color))this.color=v(S.color,"uint8");else{var Me;if(typeof S.color[0]=="number"&&S.color.length>this.counts.length){var we=S.color.length;Me=t.mallocUint8(we);for(var Oe=(S.color.subarray||S.color.slice).bind(S.color),Be=0;Be<we;Be+=4)Me.set(v(Oe(Be,Be+4),"uint8"),Be)}else{var Ce=S.color.length;Me=t.mallocUint8(Ce*4);for(var xe=0;xe<Ce;xe++)Me.set(v(S.color[xe]||0,"uint8"),xe*4)}this.color=Me}if(S.position||S.text||S.color||S.baseline||S.align||S.font||S.offset||S.opacity){var Se=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Se){var He=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(He);for(var Ge=0;Ge<this.batch.length;Ge++)this.batch[Ge]={count:this.counts.length>1?this.counts[Ge]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Ge]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(Ge*4,Ge*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Ge]:this.opacity,baseline:this.baselineOffset[Ge]!=null?this.baselineOffset[Ge]:this.baselineOffset[0],align:this.align?this.alignOffset[Ge]!=null?this.alignOffset[Ge]:this.alignOffset[0]:0,atlas:this.fontAtlas[Ge]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(Ge*2,Ge*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},T.prototype.destroy=function(){},T.prototype.kerning=!0,T.prototype.position={constant:new Float32Array(2)},T.prototype.translate=null,T.prototype.scale=null,T.prototype.font=null,T.prototype.text="",T.prototype.positionOffset=[0,0],T.prototype.opacity=1,T.prototype.color=new Uint8Array([0,0,0,255]),T.prototype.alignOffset=[0,0],T.maxAtlasSize=1024,T.atlasCanvas=document.createElement("canvas"),T.atlasContext=T.atlasCanvas.getContext("2d",{alpha:!1}),T.baseFontSize=64,T.fonts={};function E(x){return typeof x=="function"&&x._gl&&x.prop&&x.texture&&x.buffer}W.exports=T},12018:function(W,H,e){var g=e(71299);W.exports=function(t){if(t?typeof t=="string"&&(t={container:t}):t={},i(t)?t={container:t}:L(t)?t={container:t}:A(t)?t={gl:t}:t=g(t,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),t.pixelRatio||(t.pixelRatio=e.g.pixelRatio||1),t.gl)return t.gl;if(t.canvas&&(t.container=t.canvas.parentNode),t.container){if(typeof t.container=="string"){var r=document.querySelector(t.container);if(!r)throw Error("Element "+t.container+" is not found");t.container=r}i(t.container)?(t.canvas=t.container,t.container=t.canvas.parentNode):t.canvas||(t.canvas=v(),t.container.appendChild(t.canvas),P(t))}else if(!t.canvas)if(typeof document<"u")t.container=document.body||document.documentElement,t.canvas=v(),t.container.appendChild(t.canvas),P(t);else throw Error("Not DOM environment. Use headless-gl.");return t.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(s){try{t.gl=t.canvas.getContext(s,t.attrs)}catch{}return t.gl}),t.gl};function P(p){if(p.container)if(p.container==document.body)document.body.style.width||(p.canvas.width=p.width||p.pixelRatio*e.g.innerWidth),document.body.style.height||(p.canvas.height=p.height||p.pixelRatio*e.g.innerHeight);else{var t=p.container.getBoundingClientRect();p.canvas.width=p.width||t.right-t.left,p.canvas.height=p.height||t.bottom-t.top}}function i(p){return typeof p.getContext=="function"&&"width"in p&&"height"in p}function L(p){return typeof p.nodeName=="string"&&typeof p.appendChild=="function"&&typeof p.getBoundingClientRect=="function"}function A(p){return typeof p.drawArrays=="function"||typeof p.drawElements=="function"}function v(){var p=document.createElement("canvas");return p.style.position="absolute",p.style.top=0,p.style.left=0,p}},56068:function(W){W.exports=function(H){typeof H=="string"&&(H=[H]);for(var e=[].slice.call(arguments,1),g=[],P=0;P<H.length-1;P++)g.push(H[P],e[P]||"");return g.push(H[P]),g.join("")}},40383:function(W,H,e){var g=e(68318),P=g("%Object.getOwnPropertyDescriptor%",!0);if(P)try{P([],"length")}catch{P=null}W.exports=P},57035:function(W,H,e){var g=e(54404),P;typeof e.g.matchMedia=="function"?P=!e.g.matchMedia("(hover: none)").matches:P=g,W.exports=P},38520:function(W,H,e){var g=e(54404);function P(){var i=!1;try{var L=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,L),window.removeEventListener("test",null,L)}catch{i=!1}return i}W.exports=g&&P()},55622:function(W,H,e){var g=e(68318),P=g("%Object.defineProperty%",!0),i=function(){if(P)try{return P({},"a",{value:1}),!0}catch{return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return P([],"length",{value:1}).length!==1}catch{return!0}},W.exports=i},57877:function(W,H,e){var g=typeof Symbol<"u"&&Symbol,P=e(35638);W.exports=function(){return typeof g!="function"||typeof Symbol!="function"||typeof g("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:P()}},35638:function(W){W.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},g=Symbol("test"),P=Object(g);if(typeof g=="string"||Object.prototype.toString.call(g)!=="[object Symbol]"||Object.prototype.toString.call(P)!=="[object Symbol]")return!1;var i=42;e[g]=i;for(g in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var L=Object.getOwnPropertySymbols(e);if(L.length!==1||L[0]!==g||!Object.prototype.propertyIsEnumerable.call(e,g))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var A=Object.getOwnPropertyDescriptor(e,g);if(A.value!==i||A.enumerable!==!0)return!1}return!0}},84543:function(W,H,e){var g=e(35638);W.exports=function(){return g()&&!!Symbol.toStringTag}},35065:function(W,H,e){var g=e(77575);W.exports=g.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(W,H){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */H.read=function(e,g,P,i,L){var A,v,p=L*8-i-1,t=(1<<p)-1,r=t>>1,s=-7,n=P?L-1:0,l=P?-1:1,f=e[g+n];for(n+=l,A=f&(1<<-s)-1,f>>=-s,s+=p;s>0;A=A*256+e[g+n],n+=l,s-=8);for(v=A&(1<<-s)-1,A>>=-s,s+=i;s>0;v=v*256+e[g+n],n+=l,s-=8);if(A===0)A=1-r;else{if(A===t)return v?NaN:(f?-1:1)*(1/0);v=v+Math.pow(2,i),A=A-r}return(f?-1:1)*v*Math.pow(2,A-i)},H.write=function(e,g,P,i,L,A){var v,p,t,r=A*8-L-1,s=(1<<r)-1,n=s>>1,l=L===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:A-1,u=i?1:-1,m=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(p=isNaN(g)?1:0,v=s):(v=Math.floor(Math.log(g)/Math.LN2),g*(t=Math.pow(2,-v))<1&&(v--,t*=2),v+n>=1?g+=l/t:g+=l*Math.pow(2,1-n),g*t>=2&&(v++,t/=2),v+n>=s?(p=0,v=s):v+n>=1?(p=(g*t-1)*Math.pow(2,L),v=v+n):(p=g*Math.pow(2,n-1)*Math.pow(2,L),v=0));L>=8;e[P+f]=p&255,f+=u,p/=256,L-=8);for(v=v<<L|p,r+=L;r>0;e[P+f]=v&255,f+=u,v/=256,r-=8);e[P+f-u]|=m*128}},42018:function(W){typeof Object.create=="function"?W.exports=function(e,g){g&&(e.super_=g,e.prototype=Object.create(g.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:W.exports=function(e,g){if(g){e.super_=g;var P=function(){};P.prototype=g.prototype,e.prototype=new P,e.prototype.constructor=e}}},47216:function(W,H,e){var g=e(84543)(),P=e(6614),i=P("Object.prototype.toString"),L=function(t){return g&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:i(t)==="[object Arguments]"},A=function(t){return L(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&i(t)!=="[object Array]"&&i(t.callee)==="[object Function]"},v=function(){return L(arguments)}();L.isLegacyArguments=A,W.exports=v?L:A},54404:function(W){W.exports=!0},85395:function(W){var H=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,g,P;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{g=Object.defineProperty({},"length",{get:function(){throw P}}),P={},e(function(){throw 42},null,g)}catch(w){w!==P&&(e=null)}else e=null;var i=/^\s*class\b/,L=function(h){try{var o=H.call(h);return i.test(o)}catch{return!1}},A=function(h){try{return L(h)?!1:(H.call(h),!0)}catch{return!1}},v=Object.prototype.toString,p="[object Object]",t="[object Function]",r="[object GeneratorFunction]",s="[object HTMLAllCollection]",n="[object HTML document.all class]",l="[object HTMLCollection]",f=typeof Symbol=="function"&&!!Symbol.toStringTag,u=!(0 in[,]),m=function(){return!1};if(typeof document=="object"){var c=document.all;v.call(c)===v.call(document.all)&&(m=function(h){if((u||!h)&&(typeof h>"u"||typeof h=="object"))try{var o=v.call(h);return(o===s||o===n||o===l||o===p)&&h("")==null}catch{}return!1})}W.exports=e?function(h){if(m(h))return!0;if(!h||typeof h!="function"&&typeof h!="object")return!1;try{e(h,null,g)}catch(o){if(o!==P)return!1}return!L(h)&&A(h)}:function(h){if(m(h))return!0;if(!h||typeof h!="function"&&typeof h!="object")return!1;if(f)return A(h);if(L(h))return!1;var o=v.call(h);return o!==t&&o!==r&&!/^\[object HTML/.test(o)?!1:A(h)}},65481:function(W,H,e){var g=Object.prototype.toString,P=Function.prototype.toString,i=/^\s*(?:function)?\*/,L=e(84543)(),A=Object.getPrototypeOf,v=function(){if(!L)return!1;try{return Function("return function*() {}")()}catch{}},p;W.exports=function(r){if(typeof r!="function")return!1;if(i.test(P.call(r)))return!0;if(!L){var s=g.call(r);return s==="[object GeneratorFunction]"}if(!A)return!1;if(typeof p>"u"){var n=v();p=n?A(n):!1}return A(r)===p}},62683:function(W){W.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(W){W.exports=function(e){return e!==e}},15567:function(W,H,e){var g=e(68222),P=e(17045),i=e(64274),L=e(14922),A=e(22442),v=g(L(),Number);P(v,{getPolyfill:L,implementation:i,shim:A}),W.exports=v},14922:function(W,H,e){var g=e(64274);W.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:g}},22442:function(W,H,e){var g=e(17045),P=e(14922);W.exports=function(){var L=P();return g(Number,{isNaN:L},{isNaN:function(){return Number.isNaN!==L}}),L}},64941:function(W){W.exports=function(H){var e=typeof H;return H!==null&&(e==="object"||e==="function")}},10973:function(W){var H=Object.prototype.toString;W.exports=function(e){var g;return H.call(e)==="[object Object]"&&(g=Object.getPrototypeOf(e),g===null||g===Object.getPrototypeOf({}))}},18546:function(W){W.exports=function(H){for(var e=H.length,g,P=0;P<e;P++)if(g=H.charCodeAt(P),(g<9||g>13)&&g!==32&&g!==133&&g!==160&&g!==5760&&g!==6158&&(g<8192||g>8205)&&g!==8232&&g!==8233&&g!==8239&&g!==8287&&g!==8288&&g!==12288&&g!==65279)return!1;return!0}},89546:function(W){W.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},9187:function(W,H,e){var g=e(31353),P=e(72077),i=e(6614),L=i("Object.prototype.toString"),A=e(84543)(),v=e(40383),p=typeof globalThis>"u"?e.g:globalThis,t=P(),r=i("Array.prototype.indexOf",!0)||function(m,c){for(var w=0;w<m.length;w+=1)if(m[w]===c)return w;return-1},s=i("String.prototype.slice"),n={},l=Object.getPrototypeOf;A&&v&&l&&g(t,function(u){var m=new p[u];if(Symbol.toStringTag in m){var c=l(m),w=v(c,Symbol.toStringTag);if(!w){var h=l(c);w=v(h,Symbol.toStringTag)}n[u]=w.get}});var f=function(m){var c=!1;return g(n,function(w,h){if(!c)try{c=w.call(m)===h}catch{}}),c};W.exports=function(m){if(!m||typeof m!="object")return!1;if(!A||!(Symbol.toStringTag in m)){var c=s(L(m),8,-1);return r(t,c)>-1}return v?f(m):!1}},44517:function(W){(function(H,e){W.exports=e()})(this,function(){var H,e,g;function P(i,L){if(!H)H=L;else if(!e)e=L;else{var A="var sharedChunk = {}; ("+H+")(sharedChunk); ("+e+")(sharedChunk);",v={};H(v),g=L(v),g.workerUrl=window.URL.createObjectURL(new Blob([A],{type:"text/javascript"}))}}return P(["exports"],function(i){function L(R,D){return D={exports:{}},R(D,D.exports),D.exports}var A="1.10.1",v=p;function p(R,D,V,ne){this.cx=3*R,this.bx=3*(V-R)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*D,this.by=3*(ne-D)-this.cy,this.ay=1-this.cy-this.by,this.p1x=R,this.p1y=ne,this.p2x=V,this.p2y=ne}p.prototype.sampleCurveX=function(R){return((this.ax*R+this.bx)*R+this.cx)*R},p.prototype.sampleCurveY=function(R){return((this.ay*R+this.by)*R+this.cy)*R},p.prototype.sampleCurveDerivativeX=function(R){return(3*this.ax*R+2*this.bx)*R+this.cx},p.prototype.solveCurveX=function(R,D){typeof D>"u"&&(D=1e-6);var V,ne,ve,Te,De;for(ve=R,De=0;De<8;De++){if(Te=this.sampleCurveX(ve)-R,Math.abs(Te)<D)return ve;var Ke=this.sampleCurveDerivativeX(ve);if(Math.abs(Ke)<1e-6)break;ve=ve-Te/Ke}if(V=0,ne=1,ve=R,ve<V)return V;if(ve>ne)return ne;for(;V<ne;){if(Te=this.sampleCurveX(ve),Math.abs(Te-R)<D)return ve;R>Te?V=ve:ne=ve,ve=(ne-V)*.5+V}return ve},p.prototype.solve=function(R,D){return this.sampleCurveY(this.solveCurveX(R,D))};var t=r;function r(R,D){this.x=R,this.y=D}r.prototype={clone:function(){return new r(this.x,this.y)},add:function(R){return this.clone()._add(R)},sub:function(R){return this.clone()._sub(R)},multByPoint:function(R){return this.clone()._multByPoint(R)},divByPoint:function(R){return this.clone()._divByPoint(R)},mult:function(R){return this.clone()._mult(R)},div:function(R){return this.clone()._div(R)},rotate:function(R){return this.clone()._rotate(R)},rotateAround:function(R,D){return this.clone()._rotateAround(R,D)},matMult:function(R){return this.clone()._matMult(R)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(R){return this.x===R.x&&this.y===R.y},dist:function(R){return Math.sqrt(this.distSqr(R))},distSqr:function(R){var D=R.x-this.x,V=R.y-this.y;return D*D+V*V},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(R){return Math.atan2(this.y-R.y,this.x-R.x)},angleWith:function(R){return this.angleWithSep(R.x,R.y)},angleWithSep:function(R,D){return Math.atan2(this.x*D-this.y*R,this.x*R+this.y*D)},_matMult:function(R){var D=R[0]*this.x+R[1]*this.y,V=R[2]*this.x+R[3]*this.y;return this.x=D,this.y=V,this},_add:function(R){return this.x+=R.x,this.y+=R.y,this},_sub:function(R){return this.x-=R.x,this.y-=R.y,this},_mult:function(R){return this.x*=R,this.y*=R,this},_div:function(R){return this.x/=R,this.y/=R,this},_multByPoint:function(R){return this.x*=R.x,this.y*=R.y,this},_divByPoint:function(R){return this.x/=R.x,this.y/=R.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var R=this.y;return this.y=this.x,this.x=-R,this},_rotate:function(R){var D=Math.cos(R),V=Math.sin(R),ne=D*this.x-V*this.y,ve=V*this.x+D*this.y;return this.x=ne,this.y=ve,this},_rotateAround:function(R,D){var V=Math.cos(R),ne=Math.sin(R),ve=D.x+V*(this.x-D.x)-ne*(this.y-D.y),Te=D.y+ne*(this.x-D.x)+V*(this.y-D.y);return this.x=ve,this.y=Te,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(R){return R instanceof r?R:Array.isArray(R)?new r(R[0],R[1]):R};function s(R,D){if(Array.isArray(R)){if(!Array.isArray(D)||R.length!==D.length)return!1;for(var V=0;V<R.length;V++)if(!s(R[V],D[V]))return!1;return!0}if(typeof R=="object"&&R!==null&&D!==null){if(typeof D!="object")return!1;var ne=Object.keys(R);if(ne.length!==Object.keys(D).length)return!1;for(var ve in R)if(!s(R[ve],D[ve]))return!1;return!0}return R===D}function n(R){if(R<=0)return 0;if(R>=1)return 1;var D=R*R,V=D*R;return 4*(R<.5?V:3*(R-D)+V-.75)}function l(R,D,V,ne){var ve=new v(R,D,V,ne);return function(Te){return ve.solve(Te)}}var f=l(.25,.1,.25,1);function u(R,D,V){return Math.min(V,Math.max(D,R))}function m(R,D,V){var ne=V-D,ve=((R-D)%ne+ne)%ne+D;return ve===D?V:ve}function c(R,D,V){if(!R.length)return V(null,[]);var ne=R.length,ve=new Array(R.length),Te=null;R.forEach(function(De,Ke){D(De,function(ut,Tt){ut&&(Te=ut),ve[Ke]=Tt,--ne===0&&V(Te,ve)})})}function w(R){var D=[];for(var V in R)D.push(R[V]);return D}function h(R,D){var V=[];for(var ne in R)ne in D||V.push(ne);return V}function o(R){for(var D=[],V=arguments.length-1;V-- >0;)D[V]=arguments[V+1];for(var ne=0,ve=D;ne<ve.length;ne+=1){var Te=ve[ne];for(var De in Te)R[De]=Te[De]}return R}function d(R,D){for(var V={},ne=0;ne<D.length;ne++){var ve=D[ne];ve in R&&(V[ve]=R[ve])}return V}var M=1;function T(){return M++}function E(){function R(D){return D?(D^Math.random()*16>>D/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,R)}return R()}function x(R){return R?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(R):!1}function S(R,D){R.forEach(function(V){D[V]&&(D[V]=D[V].bind(D))})}function b(R,D){return R.indexOf(D,R.length-D.length)!==-1}function a(R,D,V){var ne={};for(var ve in R)ne[ve]=D.call(V||this,R[ve],ve,R);return ne}function C(R,D,V){var ne={};for(var ve in R)D.call(V||this,R[ve],ve,R)&&(ne[ve]=R[ve]);return ne}function y(R){return Array.isArray(R)?R.map(y):typeof R=="object"&&R?a(R,y):R}function z(R,D){for(var V=0;V<R.length;V++)if(D.indexOf(R[V])>=0)return!0;return!1}var I={};function B(R){I[R]||(typeof console<"u"&&console.warn(R),I[R]=!0)}function F(R,D,V){return(V.y-R.y)*(D.x-R.x)>(D.y-R.y)*(V.x-R.x)}function O(R){for(var D=0,V=0,ne=R.length,ve=ne-1,Te=void 0,De=void 0;V<ne;ve=V++)Te=R[V],De=R[ve],D+=(De.x-Te.x)*(Te.y+De.y);return D}function N(R){var D=R[0],V=R[1],ne=R[2];return V+=90,V*=Math.PI/180,ne*=Math.PI/180,{x:D*Math.cos(V)*Math.sin(ne),y:D*Math.sin(V)*Math.sin(ne),z:D*Math.cos(ne)}}function _(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function U(R){var D=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,V={};if(R.replace(D,function(ve,Te,De,Ke){var ut=De||Ke;return V[Te]=ut?ut.toLowerCase():!0,""}),V["max-age"]){var ne=parseInt(V["max-age"],10);isNaN(ne)?delete V["max-age"]:V["max-age"]=ne}return V}var Y=null;function K(R){if(Y==null){var D=R.navigator?R.navigator.userAgent:null;Y=!!R.safari||!!(D&&(/\b(iPad|iPhone|iPod)\b/.test(D)||D.match("Safari")&&!D.match("Chrome")))}return Y}function re(R){try{var D=self[R];return D.setItem("_mapbox_test_",1),D.removeItem("_mapbox_test_"),!0}catch{return!1}}function ae(R){return self.btoa(encodeURIComponent(R).replace(/%([0-9A-F]{2})/g,function(D,V){return String.fromCharCode(+("0x"+V))}))}function fe(R){return decodeURIComponent(self.atob(R).split("").map(function(D){return"%"+("00"+D.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var Q=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),j=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,X=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,J,ee,se={now:Q,frame:function(D){var V=j(D);return{cancel:function(){return X(V)}}},getImageData:function(D,V){V===void 0&&(V=0);var ne=self.document.createElement("canvas"),ve=ne.getContext("2d");if(!ve)throw new Error("failed to create canvas 2d context");return ne.width=D.width,ne.height=D.height,ve.drawImage(D,0,0,D.width,D.height),ve.getImageData(-V,-V,D.width+2*V,D.height+2*V)},resolveURL:function(D){return J||(J=self.document.createElement("a")),J.href=D,J.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return self.matchMedia?(ee==null&&(ee=self.matchMedia("(prefers-reduced-motion: reduce)")),ee.matches):!1}},q={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},$={supported:!1,testSupport:Me},le,ie=!1,ce,me=!1;self.document&&(ce=self.document.createElement("img"),ce.onload=function(){le&&we(le),le=null,me=!0},ce.onerror=function(){ie=!0,le=null},ce.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function Me(R){ie||!ce||(me?we(R):le=R)}function we(R){var D=R.createTexture();R.bindTexture(R.TEXTURE_2D,D);try{if(R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,ce),R.isContextLost())return;$.supported=!0}catch{}R.deleteTexture(D),ie=!0}var Oe="01";function Be(){for(var R="1",D="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",V="",ne=0;ne<10;ne++)V+=D[Math.floor(Math.random()*62)];var ve=12*60*60*1e3,Te=[R,Oe,V].join(""),De=Date.now()+ve;return{token:Te,tokenExpiresAt:De}}var Ce=function(D,V){this._transformRequestFn=D,this._customAccessToken=V,this._createSkuToken()};Ce.prototype._createSkuToken=function(){var D=Be();this._skuToken=D.token,this._skuTokenExpiresAt=D.tokenExpiresAt},Ce.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Ce.prototype.transformRequest=function(D,V){return this._transformRequestFn?this._transformRequestFn(D,V)||{url:D}:{url:D}},Ce.prototype.normalizeStyleURL=function(D,V){if(!xe(D))return D;var ne=it(D);return ne.path="/styles/v1"+ne.path,this._makeAPIURL(ne,this._customAccessToken||V)},Ce.prototype.normalizeGlyphsURL=function(D,V){if(!xe(D))return D;var ne=it(D);return ne.path="/fonts/v1"+ne.path,this._makeAPIURL(ne,this._customAccessToken||V)},Ce.prototype.normalizeSourceURL=function(D,V){if(!xe(D))return D;var ne=it(D);return ne.path="/v4/"+ne.authority+".json",ne.params.push("secure"),this._makeAPIURL(ne,this._customAccessToken||V)},Ce.prototype.normalizeSpriteURL=function(D,V,ne,ve){var Te=it(D);return xe(D)?(Te.path="/styles/v1"+Te.path+"/sprite"+V+ne,this._makeAPIURL(Te,this._customAccessToken||ve)):(Te.path+=""+V+ne,et(Te))},Ce.prototype.normalizeTileURL=function(D,V){if(this._isSkuTokenExpired()&&this._createSkuToken(),D&&!xe(D))return D;var ne=it(D),ve=/(\.(png|jpg)\d*)(?=$)/,Te=/^.+\/v4\//,De=se.devicePixelRatio>=2||V===512?"@2x":"",Ke=$.supported?".webp":"$1";ne.path=ne.path.replace(ve,""+De+Ke),ne.path=ne.path.replace(Te,"/"),ne.path="/v4"+ne.path;var ut=this._customAccessToken||ke(ne.params)||q.ACCESS_TOKEN;return q.REQUIRE_ACCESS_TOKEN&&ut&&this._skuToken&&ne.params.push("sku="+this._skuToken),this._makeAPIURL(ne,ut)},Ce.prototype.canonicalizeTileURL=function(D,V){var ne="/v4/",ve=/\.[\w]+$/,Te=it(D);if(!Te.path.match(/(^\/v4\/)/)||!Te.path.match(ve))return D;var De="mapbox://tiles/";De+=Te.path.replace(ne,"");var Ke=Te.params;return V&&(Ke=Ke.filter(function(ut){return!ut.match(/^access_token=/)})),Ke.length&&(De+="?"+Ke.join("&")),De},Ce.prototype.canonicalizeTileset=function(D,V){for(var ne=V?xe(V):!1,ve=[],Te=0,De=D.tiles||[];Te<De.length;Te+=1){var Ke=De[Te];He(Ke)?ve.push(this.canonicalizeTileURL(Ke,ne)):ve.push(Ke)}return ve},Ce.prototype._makeAPIURL=function(D,V){var ne="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ve=it(q.API_URL);if(D.protocol=ve.protocol,D.authority=ve.authority,ve.path!=="/"&&(D.path=""+ve.path+D.path),!q.REQUIRE_ACCESS_TOKEN)return et(D);if(V=V||q.ACCESS_TOKEN,!V)throw new Error("An API access token is required to use Mapbox GL. "+ne);if(V[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ne);return D.params=D.params.filter(function(Te){return Te.indexOf("access_token")===-1}),D.params.push("access_token="+V),et(D)};function xe(R){return R.indexOf("mapbox:")===0}var Se=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function He(R){return Se.test(R)}function Ge(R){return R.indexOf("sku=")>0&&He(R)}function ke(R){for(var D=0,V=R;D<V.length;D+=1){var ne=V[D],ve=ne.match(/^access_token=(.*)$/);if(ve)return ve[1]}return null}var We=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function it(R){var D=R.match(We);if(!D)throw new Error("Unable to parse URL object");return{protocol:D[1],authority:D[2],path:D[3]||"/",params:D[4]?D[4].split("&"):[]}}function et(R){var D=R.params.length?"?"+R.params.join("&"):"";return R.protocol+"://"+R.authority+R.path+D}var tt="mapbox.eventData";function at(R){if(!R)return null;var D=R.split(".");if(!D||D.length!==3)return null;try{var V=JSON.parse(fe(D[1]));return V}catch{return null}}var ht=function(D){this.type=D,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};ht.prototype.getStorageKey=function(D){var V=at(q.ACCESS_TOKEN),ne="";return V&&V.u?ne=ae(V.u):ne=q.ACCESS_TOKEN||"",D?tt+"."+D+":"+ne:tt+":"+ne},ht.prototype.fetchEventData=function(){var D=re("localStorage"),V=this.getStorageKey(),ne=this.getStorageKey("uuid");if(D)try{var ve=self.localStorage.getItem(V);ve&&(this.eventData=JSON.parse(ve));var Te=self.localStorage.getItem(ne);Te&&(this.anonId=Te)}catch{B("Unable to read from LocalStorage")}},ht.prototype.saveEventData=function(){var D=re("localStorage"),V=this.getStorageKey(),ne=this.getStorageKey("uuid");if(D)try{self.localStorage.setItem(ne,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(V,JSON.stringify(this.eventData))}catch{B("Unable to write to LocalStorage")}},ht.prototype.processRequests=function(D){},ht.prototype.postEvent=function(D,V,ne,ve){var Te=this;if(q.EVENTS_URL){var De=it(q.EVENTS_URL);De.params.push("access_token="+(ve||q.ACCESS_TOKEN||""));var Ke={event:this.type,created:new Date(D).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:A,skuId:Oe,userId:this.anonId},ut=V?o(Ke,V):Ke,Tt={url:et(De),headers:{"Content-Type":"text/plain"},body:JSON.stringify([ut])};this.pendingRequest=Dt(Tt,function(St){Te.pendingRequest=null,ne(St),Te.saveEventData(),Te.processRequests(ve)})}},ht.prototype.queueRequest=function(D,V){this.queue.push(D),this.processRequests(V)};var yt=function(R){function D(){R.call(this,"map.load"),this.success={},this.skuToken=""}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.postMapLoadEvent=function(ne,ve,Te,De){this.skuToken=Te,(q.EVENTS_URL&&De||q.ACCESS_TOKEN&&Array.isArray(ne)&&ne.some(function(Ke){return xe(Ke)||He(Ke)}))&&this.queueRequest({id:ve,timestamp:Date.now()},De)},D.prototype.processRequests=function(ne){var ve=this;if(!(this.pendingRequest||this.queue.length===0)){var Te=this.queue.shift(),De=Te.id,Ke=Te.timestamp;De&&this.success[De]||(this.anonId||this.fetchEventData(),x(this.anonId)||(this.anonId=E()),this.postEvent(Ke,{skuToken:this.skuToken},function(ut){ut||De&&(ve.success[De]=!0)},ne))}},D}(ht),gt=function(R){function D(V){R.call(this,"appUserTurnstile"),this._customAccessToken=V}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.postTurnstileEvent=function(ne,ve){q.EVENTS_URL&&q.ACCESS_TOKEN&&Array.isArray(ne)&&ne.some(function(Te){return xe(Te)||He(Te)})&&this.queueRequest(Date.now(),ve)},D.prototype.processRequests=function(ne){var ve=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var Te=at(q.ACCESS_TOKEN),De=Te?Te.u:q.ACCESS_TOKEN,Ke=De!==this.eventData.tokenU;x(this.anonId)||(this.anonId=E(),Ke=!0);var ut=this.queue.shift();if(this.eventData.lastSuccess){var Tt=new Date(this.eventData.lastSuccess),St=new Date(ut),Gt=(ut-this.eventData.lastSuccess)/(24*60*60*1e3);Ke=Ke||Gt>=1||Gt<-1||Tt.getDate()!==St.getDate()}else Ke=!0;if(!Ke)return this.processRequests();this.postEvent(ut,{"enabled.telemetry":!1},function(ir){ir||(ve.eventData.lastSuccess=ut,ve.eventData.tokenU=De)},ne)}},D}(ht),Et=new gt,Ct=Et.postTurnstileEvent.bind(Et),Vt=new yt,Qe=Vt.postMapLoadEvent.bind(Vt),Fe="mapbox-tiles",Ie=500,ze=50,Re=1e3*60*7,be;function ye(){self.caches&&!be&&(be=self.caches.open(Fe))}var Ae;function Ee(R,D){if(Ae===void 0)try{new Response(new ReadableStream),Ae=!0}catch{Ae=!1}Ae?D(R.body):R.blob().then(D)}function Ne(R,D,V){if(ye(),!!be){var ne={status:D.status,statusText:D.statusText,headers:new self.Headers};D.headers.forEach(function(De,Ke){return ne.headers.set(Ke,De)});var ve=U(D.headers.get("Cache-Control")||"");if(!ve["no-store"]){ve["max-age"]&&ne.headers.set("Expires",new Date(V+ve["max-age"]*1e3).toUTCString());var Te=new Date(ne.headers.get("Expires")).getTime()-V;Te<Re||Ee(D,function(De){var Ke=new self.Response(De,ne);ye(),be&&be.then(function(ut){return ut.put(Je(R.url),Ke)}).catch(function(ut){return B(ut.message)})})}}}function Je(R){var D=R.indexOf("?");return D<0?R:R.slice(0,D)}function qe(R,D){if(ye(),!be)return D(null);var V=Je(R.url);be.then(function(ne){ne.match(V).then(function(ve){var Te=vt(ve);ne.delete(V),Te&&ne.put(V,ve.clone()),D(null,ve,Te)}).catch(D)}).catch(D)}function vt(R){if(!R)return!1;var D=new Date(R.headers.get("Expires")||0),V=U(R.headers.get("Cache-Control")||"");return D>Date.now()&&!V["no-cache"]}var bt=1/0;function Wt(R){bt++,bt>ze&&(R.getActor().send("enforceCacheSizeLimit",Ie),bt=0)}function qt(R){ye(),be&&be.then(function(D){D.keys().then(function(V){for(var ne=0;ne<V.length-R;ne++)D.delete(V[ne])})})}function At(R){var D=self.caches.delete(Fe);R&&D.catch(R).then(function(){return R()})}function zt(R,D){Ie=R,ze=D}var Jt;function Mr(){return Jt==null&&(Jt=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),Jt}var pt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(pt);var Zt=function(R){function D(V,ne,ve){ne===401&&He(ve)&&(V+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),R.call(this,V),this.status=ne,this.url=ve,this.name=this.constructor.name,this.message=V}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},D}(Error),Kt=_()?function(){return self.worker&&self.worker.referrer}:function(){return(self.location.protocol==="blob:"?self.parent:self).location.href},mr=function(R){return/^file:/.test(R)||/^file:/.test(Kt())&&!/^\w+:/.test(R)};function ur(R,D){var V=new self.AbortController,ne=new self.Request(R.url,{method:R.method||"GET",body:R.body,credentials:R.credentials,headers:R.headers,referrer:Kt(),signal:V.signal}),ve=!1,Te=!1,De=Ge(ne.url);R.type==="json"&&ne.headers.set("Accept","application/json");var Ke=function(Tt,St,Gt){if(!Te){if(Tt&&Tt.message!=="SecurityError"&&B(Tt),St&&Gt)return ut(St);var ir=Date.now();self.fetch(ne).then(function($t){if($t.ok){var br=De?$t.clone():null;return ut($t,br,ir)}else return D(new Zt($t.statusText,$t.status,R.url))}).catch(function($t){$t.code!==20&&D(new Error($t.message))})}},ut=function(Tt,St,Gt){(R.type==="arrayBuffer"?Tt.arrayBuffer():R.type==="json"?Tt.json():Tt.text()).then(function(ir){Te||(St&&Gt&&Ne(ne,St,Gt),ve=!0,D(null,ir,Tt.headers.get("Cache-Control"),Tt.headers.get("Expires")))}).catch(function(ir){Te||D(new Error(ir.message))})};return De?qe(ne,Ke):Ke(null,null),{cancel:function(){Te=!0,ve||V.abort()}}}function dt(R,D){var V=new self.XMLHttpRequest;V.open(R.method||"GET",R.url,!0),R.type==="arrayBuffer"&&(V.responseType="arraybuffer");for(var ne in R.headers)V.setRequestHeader(ne,R.headers[ne]);return R.type==="json"&&(V.responseType="text",V.setRequestHeader("Accept","application/json")),V.withCredentials=R.credentials==="include",V.onerror=function(){D(new Error(V.statusText))},V.onload=function(){if((V.status>=200&&V.status<300||V.status===0)&&V.response!==null){var ve=V.response;if(R.type==="json")try{ve=JSON.parse(V.response)}catch(Te){return D(Te)}D(null,ve,V.getResponseHeader("Cache-Control"),V.getResponseHeader("Expires"))}else D(new Zt(V.statusText,V.status,R.url))},V.send(R.body),{cancel:function(){return V.abort()}}}var st=function(R,D){if(!mr(R.url)){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return ur(R,D);if(_()&&self.worker&&self.worker.actor){var V=!0;return self.worker.actor.send("getResource",R,D,void 0,V)}}return dt(R,D)},xt=function(R,D){return st(o(R,{type:"json"}),D)},Mt=function(R,D){return st(o(R,{type:"arrayBuffer"}),D)},Dt=function(R,D){return st(o(R,{method:"POST"}),D)};function Rt(R){var D=self.document.createElement("a");return D.href=R,D.protocol===self.document.location.protocol&&D.host===self.document.location.host}var Nt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Bt(R,D,V,ne){var ve=new self.Image,Te=self.URL;ve.onload=function(){D(null,ve),Te.revokeObjectURL(ve.src)},ve.onerror=function(){return D(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var De=new self.Blob([new Uint8Array(R)],{type:"image/png"});ve.cacheControl=V,ve.expires=ne,ve.src=R.byteLength?Te.createObjectURL(De):Nt}function Xt(R,D){var V=new self.Blob([new Uint8Array(R)],{type:"image/png"});self.createImageBitmap(V).then(function(ne){D(null,ne)}).catch(function(ne){D(new Error("Could not load image because of "+ne.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var lr,sr,dr=function(){lr=[],sr=0};dr();var je=function(R,D){if($.supported&&(R.headers||(R.headers={}),R.headers.accept="image/webp,*/*"),sr>=q.MAX_PARALLEL_IMAGE_REQUESTS){var V={requestParameters:R,callback:D,cancelled:!1,cancel:function(){this.cancelled=!0}};return lr.push(V),V}sr++;var ne=!1,ve=function(){if(!ne)for(ne=!0,sr--;lr.length&&sr<q.MAX_PARALLEL_IMAGE_REQUESTS;){var De=lr.shift(),Ke=De.requestParameters,ut=De.callback,Tt=De.cancelled;Tt||(De.cancel=je(Ke,ut).cancel)}},Te=Mt(R,function(De,Ke,ut,Tt){ve(),De?D(De):Ke&&(Mr()?Xt(Ke,D):Bt(Ke,D,ut,Tt))});return{cancel:function(){Te.cancel(),ve()}}},Ye=function(R,D){var V=self.document.createElement("video");V.muted=!0,V.onloadstart=function(){D(null,V)};for(var ne=0;ne<R.length;ne++){var ve=self.document.createElement("source");Rt(R[ne])||(V.crossOrigin="Anonymous"),ve.src=R[ne],V.appendChild(ve)}return{cancel:function(){}}};function It(R,D,V){var ne=V[R]&&V[R].indexOf(D)!==-1;ne||(V[R]=V[R]||[],V[R].push(D))}function kt(R,D,V){if(V&&V[R]){var ne=V[R].indexOf(D);ne!==-1&&V[R].splice(ne,1)}}var Yt=function(D,V){V===void 0&&(V={}),o(this,V),this.type=D},tr=function(R){function D(V,ne){ne===void 0&&(ne={}),R.call(this,"error",o({error:V},ne))}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Yt),or=function(){};or.prototype.on=function(D,V){return this._listeners=this._listeners||{},It(D,V,this._listeners),this},or.prototype.off=function(D,V){return kt(D,V,this._listeners),kt(D,V,this._oneTimeListeners),this},or.prototype.once=function(D,V){return this._oneTimeListeners=this._oneTimeListeners||{},It(D,V,this._oneTimeListeners),this},or.prototype.fire=function(D,V){typeof D=="string"&&(D=new Yt(D,V||{}));var ne=D.type;if(this.listens(ne)){D.target=this;for(var ve=this._listeners&&this._listeners[ne]?this._listeners[ne].slice():[],Te=0,De=ve;Te<De.length;Te+=1){var Ke=De[Te];Ke.call(this,D)}for(var ut=this._oneTimeListeners&&this._oneTimeListeners[ne]?this._oneTimeListeners[ne].slice():[],Tt=0,St=ut;Tt<St.length;Tt+=1){var Gt=St[Tt];kt(ne,Gt,this._oneTimeListeners),Gt.call(this,D)}var ir=this._eventedParent;ir&&(o(D,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ir.fire(D))}else D instanceof tr&&console.error(D.error);return this},or.prototype.listens=function(D){return this._listeners&&this._listeners[D]&&this._listeners[D].length>0||this._oneTimeListeners&&this._oneTimeListeners[D]&&this._oneTimeListeners[D].length>0||this._eventedParent&&this._eventedParent.listens(D)},or.prototype.setEventedParent=function(D,V){return this._eventedParent=D,this._eventedParentData=V,this};var rr=8,_t={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},hr={"*":{type:"source"}},gr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],pr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},vr={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},Hr={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},kr={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},Fr={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},pn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},qr={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},On=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Tn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Sr={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Er={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Gr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Br={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},nn={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},gn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},mn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Pn={type:"array",value:"*"},Fn={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},ia={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},jn={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},$n={type:"array",value:"*",minimum:1},Wn={type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},Qn={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},Tr=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],sn={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},tn={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},yn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Hn={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Sn={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},En={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Nn={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ea={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},xa={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},Wa={"*":{type:"string"}},jt={$version:rr,$root:_t,sources:hr,source:gr,source_vector:pr,source_raster:vr,source_raster_dem:Hr,source_geojson:kr,source_video:Fr,source_image:pn,layer:qr,layout:On,layout_background:Tn,layout_fill:Sr,layout_circle:Er,layout_heatmap:Gr,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:Br,layout_symbol:nn,layout_raster:gn,layout_hillshade:mn,filter:Pn,filter_operator:Fn,geometry_type:ia,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:jn,expression:$n,expression_name:Wn,light:Qn,paint:Tr,paint_fill:sn,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:tn,paint_circle:yn,paint_heatmap:Hn,paint_symbol:Sn,paint_raster:En,paint_hillshade:Nn,paint_background:ea,transition:xa,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:Wa},wr=function(D,V,ne,ve){this.message=(D?D+": ":"")+ne,ve&&(this.identifier=ve),V!=null&&V.__line__&&(this.line=V.__line__)};function en(R){var D=R.key,V=R.value;return V?[new wr(D,V,"constants have been deprecated as of v8")]:[]}function un(R){for(var D=[],V=arguments.length-1;V-- >0;)D[V]=arguments[V+1];for(var ne=0,ve=D;ne<ve.length;ne+=1){var Te=ve[ne];for(var De in Te)R[De]=Te[De]}return R}function cn(R){return R instanceof Number||R instanceof String||R instanceof Boolean?R.valueOf():R}function Dn(R){if(Array.isArray(R))return R.map(Dn);if(R instanceof Object&&!(R instanceof Number||R instanceof String||R instanceof Boolean)){var D={};for(var V in R)D[V]=Dn(R[V]);return D}return cn(R)}var Mn=function(R){function D(V,ne){R.call(this,ne),this.message=ne,this.key=V}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Error),vn=function(D,V){V===void 0&&(V=[]),this.parent=D,this.bindings={};for(var ne=0,ve=V;ne<ve.length;ne+=1){var Te=ve[ne],De=Te[0],Ke=Te[1];this.bindings[De]=Ke}};vn.prototype.concat=function(D){return new vn(this,D)},vn.prototype.get=function(D){if(this.bindings[D])return this.bindings[D];if(this.parent)return this.parent.get(D);throw new Error(D+" not found in scope.")},vn.prototype.has=function(D){return this.bindings[D]?!0:this.parent?this.parent.has(D):!1};var Dr={kind:"null"},Lr={kind:"number"},zr={kind:"string"},dn={kind:"boolean"},_n={kind:"color"},Zn={kind:"object"},xn={kind:"value"},Bn={kind:"error"},na={kind:"collator"},ua={kind:"formatted"},sa={kind:"resolvedImage"};function la(R,D){return{kind:"array",itemType:R,N:D}}function pa(R){if(R.kind==="array"){var D=pa(R.itemType);return typeof R.N=="number"?"array<"+D+", "+R.N+">":R.itemType.kind==="value"?"array":"array<"+D+">"}else return R.kind}var Ki=[Dr,Lr,zr,dn,_n,ua,Zn,la(xn),sa];function co(R,D){if(D.kind==="error")return null;if(R.kind==="array"){if(D.kind==="array"&&(D.N===0&&D.itemType.kind==="value"||!co(R.itemType,D.itemType))&&(typeof R.N!="number"||R.N===D.N))return null}else{if(R.kind===D.kind)return null;if(R.kind==="value")for(var V=0,ne=Ki;V<ne.length;V+=1){var ve=ne[V];if(!co(ve,D))return null}}return"Expected "+pa(R)+" but found "+pa(D)+" instead."}function yo(R,D){return D.some(function(V){return V.kind===R.kind})}function Mo(R,D){return D.some(function(V){return V==="null"?R===null:V==="array"?Array.isArray(R):V==="object"?R&&!Array.isArray(R)&&typeof R=="object":V===typeof R})}var mo=L(function(R,D){var V={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ne(Tt){return Tt=Math.round(Tt),Tt<0?0:Tt>255?255:Tt}function ve(Tt){return Tt<0?0:Tt>1?1:Tt}function Te(Tt){return Tt[Tt.length-1]==="%"?ne(parseFloat(Tt)/100*255):ne(parseInt(Tt))}function De(Tt){return Tt[Tt.length-1]==="%"?ve(parseFloat(Tt)/100):ve(parseFloat(Tt))}function Ke(Tt,St,Gt){return Gt<0?Gt+=1:Gt>1&&(Gt-=1),Gt*6<1?Tt+(St-Tt)*Gt*6:Gt*2<1?St:Gt*3<2?Tt+(St-Tt)*(2/3-Gt)*6:Tt}function ut(Tt){var St=Tt.replace(/ /g,"").toLowerCase();if(St in V)return V[St].slice();if(St[0]==="#"){if(St.length===4){var Gt=parseInt(St.substr(1),16);return Gt>=0&&Gt<=4095?[(Gt&3840)>>4|(Gt&3840)>>8,Gt&240|(Gt&240)>>4,Gt&15|(Gt&15)<<4,1]:null}else if(St.length===7){var Gt=parseInt(St.substr(1),16);return Gt>=0&&Gt<=16777215?[(Gt&16711680)>>16,(Gt&65280)>>8,Gt&255,1]:null}return null}var ir=St.indexOf("("),$t=St.indexOf(")");if(ir!==-1&&$t+1===St.length){var br=St.substr(0,ir),Or=St.substr(ir+1,$t-(ir+1)).split(","),ln=1;switch(br){case"rgba":if(Or.length!==4)return null;ln=De(Or.pop());case"rgb":return Or.length!==3?null:[Te(Or[0]),Te(Or[1]),Te(Or[2]),ln];case"hsla":if(Or.length!==4)return null;ln=De(Or.pop());case"hsl":if(Or.length!==3)return null;var $r=(parseFloat(Or[0])%360+360)%360/360,Ln=De(Or[1]),wn=De(Or[2]),Cn=wn<=.5?wn*(Ln+1):wn+Ln-wn*Ln,kn=wn*2-Cn;return[ne(Ke(kn,Cn,$r+1/3)*255),ne(Ke(kn,Cn,$r)*255),ne(Ke(kn,Cn,$r-1/3)*255),ln];default:return null}}return null}try{D.parseCSSColor=ut}catch{}}),sf=mo.parseCSSColor,ei=function(D,V,ne,ve){ve===void 0&&(ve=1),this.r=D,this.g=V,this.b=ne,this.a=ve};ei.parse=function(D){if(D){if(D instanceof ei)return D;if(typeof D=="string"){var V=sf(D);if(V)return new ei(V[0]/255*V[3],V[1]/255*V[3],V[2]/255*V[3],V[3])}}},ei.prototype.toString=function(){var D=this.toArray(),V=D[0],ne=D[1],ve=D[2],Te=D[3];return"rgba("+Math.round(V)+","+Math.round(ne)+","+Math.round(ve)+","+Te+")"},ei.prototype.toArray=function(){var D=this,V=D.r,ne=D.g,ve=D.b,Te=D.a;return Te===0?[0,0,0,0]:[V*255/Te,ne*255/Te,ve*255/Te,Te]},ei.black=new ei(0,0,0,1),ei.white=new ei(1,1,1,1),ei.transparent=new ei(0,0,0,0),ei.red=new ei(1,0,0,1);var eu=function(D,V,ne){D?this.sensitivity=V?"variant":"case":this.sensitivity=V?"accent":"base",this.locale=ne,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};eu.prototype.compare=function(D,V){return this.collator.compare(D,V)},eu.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Pl=function(D,V,ne,ve,Te){this.text=D,this.image=V,this.scale=ne,this.fontStack=ve,this.textColor=Te},Ji=function(D){this.sections=D};Ji.fromString=function(D){return new Ji([new Pl(D,null,null,null,null)])},Ji.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(D){return D.text.length!==0||D.image&&D.image.name.length!==0})},Ji.factory=function(D){return D instanceof Ji?D:Ji.fromString(D)},Ji.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(D){return D.text}).join("")},Ji.prototype.serialize=function(){for(var D=["format"],V=0,ne=this.sections;V<ne.length;V+=1){var ve=ne[V];if(ve.image){D.push(["image",ve.image.name]);continue}D.push(ve.text);var Te={};ve.fontStack&&(Te["text-font"]=["literal",ve.fontStack.split(",")]),ve.scale&&(Te["font-scale"]=ve.scale),ve.textColor&&(Te["text-color"]=["rgba"].concat(ve.textColor.toArray())),D.push(Te)}return D};var So=function(D){this.name=D.name,this.available=D.available};So.prototype.toString=function(){return this.name},So.fromString=function(D){return D?new So({name:D,available:!1}):null},So.prototype.serialize=function(){return["image",this.name]};function $f(R,D,V,ne){if(!(typeof R=="number"&&R>=0&&R<=255&&typeof D=="number"&&D>=0&&D<=255&&typeof V=="number"&&V>=0&&V<=255)){var ve=typeof ne=="number"?[R,D,V,ne]:[R,D,V];return"Invalid rgba value ["+ve.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof ne>"u"||typeof ne=="number"&&ne>=0&&ne<=1?null:"Invalid rgba value ["+[R,D,V,ne].join(", ")+"]: 'a' must be between 0 and 1."}function tu(R){if(R===null)return!0;if(typeof R=="string")return!0;if(typeof R=="boolean")return!0;if(typeof R=="number")return!0;if(R instanceof ei)return!0;if(R instanceof eu)return!0;if(R instanceof Ji)return!0;if(R instanceof So)return!0;if(Array.isArray(R)){for(var D=0,V=R;D<V.length;D+=1){var ne=V[D];if(!tu(ne))return!1}return!0}else if(typeof R=="object"){for(var ve in R)if(!tu(R[ve]))return!1;return!0}else return!1}function Ri(R){if(R===null)return Dr;if(typeof R=="string")return zr;if(typeof R=="boolean")return dn;if(typeof R=="number")return Lr;if(R instanceof ei)return _n;if(R instanceof eu)return na;if(R instanceof Ji)return ua;if(R instanceof So)return sa;if(Array.isArray(R)){for(var D=R.length,V,ne=0,ve=R;ne<ve.length;ne+=1){var Te=ve[ne],De=Ri(Te);if(!V)V=De;else{if(V===De)continue;V=xn;break}}return la(V||xn,D)}else return Zn}function ru(R){var D=typeof R;return R===null?"":D==="string"||D==="number"||D==="boolean"?String(R):R instanceof ei||R instanceof Ji||R instanceof So?R.toString():JSON.stringify(R)}var Io=function(D,V){this.type=D,this.value=V};Io.parse=function(D,V){if(D.length!==2)return V.error("'literal' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(!tu(D[1]))return V.error("invalid value");var ne=D[1],ve=Ri(ne),Te=V.expectedType;return ve.kind==="array"&&ve.N===0&&Te&&Te.kind==="array"&&(typeof Te.N!="number"||Te.N===0)&&(ve=Te),new Io(ve,ne)},Io.prototype.evaluate=function(){return this.value},Io.prototype.eachChild=function(){},Io.prototype.outputDefined=function(){return!0},Io.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof ei?["rgba"].concat(this.value.toArray()):this.value instanceof Ji?this.value.serialize():this.value};var Wi=function(D){this.name="ExpressionEvaluationError",this.message=D};Wi.prototype.toJSON=function(){return this.message};var ko={string:zr,number:Lr,boolean:dn,object:Zn},ho=function(D,V){this.type=D,this.args=V};ho.parse=function(D,V){if(D.length<2)return V.error("Expected at least one argument.");var ne=1,ve,Te=D[0];if(Te==="array"){var De;if(D.length>2){var Ke=D[1];if(typeof Ke!="string"||!(Ke in ko)||Ke==="object")return V.error('The item type argument of "array" must be one of string, number, boolean',1);De=ko[Ke],ne++}else De=xn;var ut;if(D.length>3){if(D[2]!==null&&(typeof D[2]!="number"||D[2]<0||D[2]!==Math.floor(D[2])))return V.error('The length argument to "array" must be a positive integer literal',2);ut=D[2],ne++}ve=la(De,ut)}else ve=ko[Te];for(var Tt=[];ne<D.length;ne++){var St=V.parse(D[ne],ne,xn);if(!St)return null;Tt.push(St)}return new ho(ve,Tt)},ho.prototype.evaluate=function(D){for(var V=0;V<this.args.length;V++){var ne=this.args[V].evaluate(D),ve=co(this.type,Ri(ne));if(ve){if(V===this.args.length-1)throw new Wi("Expected value to be of type "+pa(this.type)+", but found "+pa(Ri(ne))+" instead.")}else return ne}return null},ho.prototype.eachChild=function(D){this.args.forEach(D)},ho.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},ho.prototype.serialize=function(){var D=this.type,V=[D.kind];if(D.kind==="array"){var ne=D.itemType;if(ne.kind==="string"||ne.kind==="number"||ne.kind==="boolean"){V.push(ne.kind);var ve=D.N;(typeof ve=="number"||this.args.length>1)&&V.push(ve)}}return V.concat(this.args.map(function(Te){return Te.serialize()}))};var Bo=function(D){this.type=ua,this.sections=D};Bo.parse=function(D,V){if(D.length<2)return V.error("Expected at least one argument.");var ne=D[1];if(!Array.isArray(ne)&&typeof ne=="object")return V.error("First argument must be an image or text section.");for(var ve=[],Te=!1,De=1;De<=D.length-1;++De){var Ke=D[De];if(Te&&typeof Ke=="object"&&!Array.isArray(Ke)){Te=!1;var ut=null;if(Ke["font-scale"]&&(ut=V.parse(Ke["font-scale"],1,Lr),!ut))return null;var Tt=null;if(Ke["text-font"]&&(Tt=V.parse(Ke["text-font"],1,la(zr)),!Tt))return null;var St=null;if(Ke["text-color"]&&(St=V.parse(Ke["text-color"],1,_n),!St))return null;var Gt=ve[ve.length-1];Gt.scale=ut,Gt.font=Tt,Gt.textColor=St}else{var ir=V.parse(D[De],1,xn);if(!ir)return null;var $t=ir.type.kind;if($t!=="string"&&$t!=="value"&&$t!=="null"&&$t!=="resolvedImage")return V.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Te=!0,ve.push({content:ir,scale:null,font:null,textColor:null})}}return new Bo(ve)},Bo.prototype.evaluate=function(D){var V=function(ne){var ve=ne.content.evaluate(D);return Ri(ve)===sa?new Pl("",ve,null,null,null):new Pl(ru(ve),null,ne.scale?ne.scale.evaluate(D):null,ne.font?ne.font.evaluate(D).join(","):null,ne.textColor?ne.textColor.evaluate(D):null)};return new Ji(this.sections.map(V))},Bo.prototype.eachChild=function(D){for(var V=0,ne=this.sections;V<ne.length;V+=1){var ve=ne[V];D(ve.content),ve.scale&&D(ve.scale),ve.font&&D(ve.font),ve.textColor&&D(ve.textColor)}},Bo.prototype.outputDefined=function(){return!1},Bo.prototype.serialize=function(){for(var D=["format"],V=0,ne=this.sections;V<ne.length;V+=1){var ve=ne[V];D.push(ve.content.serialize());var Te={};ve.scale&&(Te["font-scale"]=ve.scale.serialize()),ve.font&&(Te["text-font"]=ve.font.serialize()),ve.textColor&&(Te["text-color"]=ve.textColor.serialize()),D.push(Te)}return D};var ls=function(D){this.type=sa,this.input=D};ls.parse=function(D,V){if(D.length!==2)return V.error("Expected two arguments.");var ne=V.parse(D[1],1,zr);return ne?new ls(ne):V.error("No image name provided.")},ls.prototype.evaluate=function(D){var V=this.input.evaluate(D),ne=So.fromString(V);return ne&&D.availableImages&&(ne.available=D.availableImages.indexOf(V)>-1),ne},ls.prototype.eachChild=function(D){D(this.input)},ls.prototype.outputDefined=function(){return!1},ls.prototype.serialize=function(){return["image",this.input.serialize()]};var Ss={"to-boolean":dn,"to-color":_n,"to-number":Lr,"to-string":zr},eo=function(D,V){this.type=D,this.args=V};eo.parse=function(D,V){if(D.length<2)return V.error("Expected at least one argument.");var ne=D[0];if((ne==="to-boolean"||ne==="to-string")&&D.length!==2)return V.error("Expected one argument.");for(var ve=Ss[ne],Te=[],De=1;De<D.length;De++){var Ke=V.parse(D[De],De,xn);if(!Ke)return null;Te.push(Ke)}return new eo(ve,Te)},eo.prototype.evaluate=function(D){if(this.type.kind==="boolean")return!!this.args[0].evaluate(D);if(this.type.kind==="color"){for(var V,ne,ve=0,Te=this.args;ve<Te.length;ve+=1){var De=Te[ve];if(V=De.evaluate(D),ne=null,V instanceof ei)return V;if(typeof V=="string"){var Ke=D.parseColor(V);if(Ke)return Ke}else if(Array.isArray(V)&&(V.length<3||V.length>4?ne="Invalid rbga value "+JSON.stringify(V)+": expected an array containing either three or four numeric values.":ne=$f(V[0],V[1],V[2],V[3]),!ne))return new ei(V[0]/255,V[1]/255,V[2]/255,V[3])}throw new Wi(ne||"Could not parse color from value '"+(typeof V=="string"?V:String(JSON.stringify(V)))+"'")}else if(this.type.kind==="number"){for(var ut=null,Tt=0,St=this.args;Tt<St.length;Tt+=1){var Gt=St[Tt];if(ut=Gt.evaluate(D),ut===null)return 0;var ir=Number(ut);if(!isNaN(ir))return ir}throw new Wi("Could not convert "+JSON.stringify(ut)+" to number.")}else return this.type.kind==="formatted"?Ji.fromString(ru(this.args[0].evaluate(D))):this.type.kind==="resolvedImage"?So.fromString(ru(this.args[0].evaluate(D))):ru(this.args[0].evaluate(D))},eo.prototype.eachChild=function(D){this.args.forEach(D)},eo.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},eo.prototype.serialize=function(){if(this.type.kind==="formatted")return new Bo([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new ls(this.args[0]).serialize();var D=["to-"+this.type.kind];return this.eachChild(function(V){D.push(V.serialize())}),D};var qf=["Unknown","Point","LineString","Polygon"],us=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};us.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},us.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?qf[this.feature.type]:this.feature.type:null},us.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},us.prototype.canonicalID=function(){return this.canonical},us.prototype.properties=function(){return this.feature&&this.feature.properties||{}},us.prototype.parseColor=function(D){var V=this._parseColorCache[D];return V||(V=this._parseColorCache[D]=ei.parse(D)),V};var to=function(D,V,ne,ve){this.name=D,this.type=V,this._evaluate=ne,this.args=ve};to.prototype.evaluate=function(D){return this._evaluate(D,this.args)},to.prototype.eachChild=function(D){this.args.forEach(D)},to.prototype.outputDefined=function(){return!1},to.prototype.serialize=function(){return[this.name].concat(this.args.map(function(D){return D.serialize()}))},to.parse=function(D,V){var ne,ve=D[0],Te=to.definitions[ve];if(!Te)return V.error('Unknown expression "'+ve+'". If you wanted a literal array, use ["literal", [...]].',0);for(var De=Array.isArray(Te)?Te[0]:Te.type,Ke=Array.isArray(Te)?[[Te[1],Te[2]]]:Te.overloads,ut=Ke.filter(function(Aa){var Ma=Aa[0];return!Array.isArray(Ma)||Ma.length===D.length-1}),Tt=null,St=0,Gt=ut;St<Gt.length;St+=1){var ir=Gt[St],$t=ir[0],br=ir[1];Tt=new Ls(V.registry,V.path,null,V.scope);for(var Or=[],ln=!1,$r=1;$r<D.length;$r++){var Ln=D[$r],wn=Array.isArray($t)?$t[$r-1]:$t.type,Cn=Tt.parse(Ln,1+Or.length,wn);if(!Cn){ln=!0;break}Or.push(Cn)}if(!ln){if(Array.isArray($t)&&$t.length!==Or.length){Tt.error("Expected "+$t.length+" arguments, but found "+Or.length+" instead.");continue}for(var kn=0;kn<Or.length;kn++){var Gn=Array.isArray($t)?$t[kn]:$t.type,ra=Or[kn];Tt.concat(kn+1).checkSubtype(Gn,ra.type)}if(Tt.errors.length===0)return new to(ve,De,br,Or)}}if(ut.length===1)(ne=V.errors).push.apply(ne,Tt.errors);else{for(var ta=ut.length?ut:Ke,Ea=ta.map(function(Aa){var Ma=Aa[0];return lf(Ma)}).join(" | "),ha=[],ma=1;ma<D.length;ma++){var Ba=V.parse(D[ma],1+ha.length);if(!Ba)return null;ha.push(pa(Ba.type))}V.error("Expected arguments of type "+Ea+", but found ("+ha.join(", ")+") instead.")}return null},to.register=function(D,V){to.definitions=V;for(var ne in V)D[ne]=to};function lf(R){return Array.isArray(R)?"("+R.map(pa).join(", ")+")":"("+pa(R.type)+"...)"}var Es=function(D,V,ne){this.type=na,this.locale=ne,this.caseSensitive=D,this.diacriticSensitive=V};Es.parse=function(D,V){if(D.length!==2)return V.error("Expected one argument.");var ne=D[1];if(typeof ne!="object"||Array.isArray(ne))return V.error("Collator options argument must be an object.");var ve=V.parse(ne["case-sensitive"]===void 0?!1:ne["case-sensitive"],1,dn);if(!ve)return null;var Te=V.parse(ne["diacritic-sensitive"]===void 0?!1:ne["diacritic-sensitive"],1,dn);if(!Te)return null;var De=null;return ne.locale&&(De=V.parse(ne.locale,1,zr),!De)?null:new Es(ve,Te,De)},Es.prototype.evaluate=function(D){return new eu(this.caseSensitive.evaluate(D),this.diacriticSensitive.evaluate(D),this.locale?this.locale.evaluate(D):null)},Es.prototype.eachChild=function(D){D(this.caseSensitive),D(this.diacriticSensitive),this.locale&&D(this.locale)},Es.prototype.outputDefined=function(){return!1},Es.prototype.serialize=function(){var D={};return D["case-sensitive"]=this.caseSensitive.serialize(),D["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(D.locale=this.locale.serialize()),["collator",D]};var fs=8192;function uf(R,D){R[0]=Math.min(R[0],D[0]),R[1]=Math.min(R[1],D[1]),R[2]=Math.max(R[2],D[0]),R[3]=Math.max(R[3],D[1])}function ff(R){return(180+R)/360}function qc(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}function nu(R,D){return!(R[0]<=D[0]||R[2]>=D[2]||R[1]<=D[1]||R[3]>=D[3])}function eh(R,D){var V=ff(R[0]),ne=qc(R[1]),ve=Math.pow(2,D.z);return[Math.round(V*ve*fs),Math.round(ne*ve*fs)]}function th(R,D,V){var ne=R[0]-D[0],ve=R[1]-D[1],Te=R[0]-V[0],De=R[1]-V[1];return ne*De-Te*ve===0&&ne*Te<=0&&ve*De<=0}function rh(R,D,V){return D[1]>R[1]!=V[1]>R[1]&&R[0]<(V[0]-D[0])*(R[1]-D[1])/(V[1]-D[1])+D[0]}function cf(R,D){for(var V=!1,ne=0,ve=D.length;ne<ve;ne++)for(var Te=D[ne],De=0,Ke=Te.length;De<Ke-1;De++){if(th(R,Te[De],Te[De+1]))return!1;rh(R,Te[De],Te[De+1])&&(V=!V)}return V}function nh(R,D){for(var V=0;V<D.length;V++)if(cf(R,D[V]))return!0;return!1}function ah(R,D){return R[0]*D[1]-R[1]*D[0]}function ec(R,D,V,ne){var ve=R[0]-V[0],Te=R[1]-V[1],De=D[0]-V[0],Ke=D[1]-V[1],ut=ne[0]-V[0],Tt=ne[1]-V[1],St=ve*Tt-ut*Te,Gt=De*Tt-ut*Ke;return St>0&&Gt<0||St<0&&Gt>0}function ih(R,D,V,ne){var ve=[D[0]-R[0],D[1]-R[1]],Te=[ne[0]-V[0],ne[1]-V[1]];return ah(Te,ve)===0?!1:!!(ec(R,D,V,ne)&&ec(V,ne,R,D))}function oh(R,D,V){for(var ne=0,ve=V;ne<ve.length;ne+=1)for(var Te=ve[ne],De=0;De<Te.length-1;++De)if(ih(R,D,Te[De],Te[De+1]))return!0;return!1}function hf(R,D){for(var V=0;V<R.length;++V)if(!cf(R[V],D))return!1;for(var ne=0;ne<R.length-1;++ne)if(oh(R[ne],R[ne+1],D))return!1;return!0}function ll(R,D){for(var V=0;V<D.length;V++)if(hf(R,D[V]))return!0;return!1}function ul(R,D,V){for(var ne=[],ve=0;ve<R.length;ve++){for(var Te=[],De=0;De<R[ve].length;De++){var Ke=eh(R[ve][De],V);uf(D,Ke),Te.push(Ke)}ne.push(Te)}return ne}function Rl(R,D,V){for(var ne=[],ve=0;ve<R.length;ve++){var Te=ul(R[ve],D,V);ne.push(Te)}return ne}function Du(R,D,V,ne){if(R[0]<V[0]||R[0]>V[2]){var ve=ne*.5,Te=R[0]-V[0]>ve?-ne:V[0]-R[0]>ve?ne:0;Te===0&&(Te=R[0]-V[2]>ve?-ne:V[2]-R[0]>ve?ne:0),R[0]+=Te}uf(D,R)}function sh(R){R[0]=R[1]=1/0,R[2]=R[3]=-1/0}function Cs(R,D,V,ne){for(var ve=Math.pow(2,ne.z)*fs,Te=[ne.x*fs,ne.y*fs],De=[],Ke=0,ut=R;Ke<ut.length;Ke+=1)for(var Tt=ut[Ke],St=0,Gt=Tt;St<Gt.length;St+=1){var ir=Gt[St],$t=[ir.x+Te[0],ir.y+Te[1]];Du($t,D,V,ve),De.push($t)}return De}function tc(R,D,V,ne){for(var ve=Math.pow(2,ne.z)*fs,Te=[ne.x*fs,ne.y*fs],De=[],Ke=0,ut=R;Ke<ut.length;Ke+=1){for(var Tt=ut[Ke],St=[],Gt=0,ir=Tt;Gt<ir.length;Gt+=1){var $t=ir[Gt],br=[$t.x+Te[0],$t.y+Te[1]];uf(D,br),St.push(br)}De.push(St)}if(D[2]-D[0]<=ve/2){sh(D);for(var Or=0,ln=De;Or<ln.length;Or+=1)for(var $r=ln[Or],Ln=0,wn=$r;Ln<wn.length;Ln+=1){var Cn=wn[Ln];Du(Cn,D,V,ve)}}return De}function vf(R,D){var V=[1/0,1/0,-1/0,-1/0],ne=[1/0,1/0,-1/0,-1/0],ve=R.canonicalID();if(D.type==="Polygon"){var Te=ul(D.coordinates,ne,ve),De=Cs(R.geometry(),V,ne,ve);if(!nu(V,ne))return!1;for(var Ke=0,ut=De;Ke<ut.length;Ke+=1){var Tt=ut[Ke];if(!cf(Tt,Te))return!1}}if(D.type==="MultiPolygon"){var St=Rl(D.coordinates,ne,ve),Gt=Cs(R.geometry(),V,ne,ve);if(!nu(V,ne))return!1;for(var ir=0,$t=Gt;ir<$t.length;ir+=1){var br=$t[ir];if(!nh(br,St))return!1}}return!0}function lh(R,D){var V=[1/0,1/0,-1/0,-1/0],ne=[1/0,1/0,-1/0,-1/0],ve=R.canonicalID();if(D.type==="Polygon"){var Te=ul(D.coordinates,ne,ve),De=tc(R.geometry(),V,ne,ve);if(!nu(V,ne))return!1;for(var Ke=0,ut=De;Ke<ut.length;Ke+=1){var Tt=ut[Ke];if(!hf(Tt,Te))return!1}}if(D.type==="MultiPolygon"){var St=Rl(D.coordinates,ne,ve),Gt=tc(R.geometry(),V,ne,ve);if(!nu(V,ne))return!1;for(var ir=0,$t=Gt;ir<$t.length;ir+=1){var br=$t[ir];if(!ll(br,St))return!1}}return!0}var Uo=function(D,V){this.type=dn,this.geojson=D,this.geometries=V};Uo.parse=function(D,V){if(D.length!==2)return V.error("'within' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(tu(D[1])){var ne=D[1];if(ne.type==="FeatureCollection")for(var ve=0;ve<ne.features.length;++ve){var Te=ne.features[ve].geometry.type;if(Te==="Polygon"||Te==="MultiPolygon")return new Uo(ne,ne.features[ve].geometry)}else if(ne.type==="Feature"){var De=ne.geometry.type;if(De==="Polygon"||De==="MultiPolygon")return new Uo(ne,ne.geometry)}else if(ne.type==="Polygon"||ne.type==="MultiPolygon")return new Uo(ne,ne)}return V.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Uo.prototype.evaluate=function(D){if(D.geometry()!=null&&D.canonicalID()!=null){if(D.geometryType()==="Point")return vf(D,this.geometries);if(D.geometryType()==="LineString")return lh(D,this.geometries)}return!1},Uo.prototype.eachChild=function(){},Uo.prototype.outputDefined=function(){return!0},Uo.prototype.serialize=function(){return["within",this.geojson]};function fl(R){if(R instanceof to){if(R.name==="get"&&R.args.length===1)return!1;if(R.name==="feature-state")return!1;if(R.name==="has"&&R.args.length===1)return!1;if(R.name==="properties"||R.name==="geometry-type"||R.name==="id")return!1;if(/^filter-/.test(R.name))return!1}if(R instanceof Uo)return!1;var D=!0;return R.eachChild(function(V){D&&!fl(V)&&(D=!1)}),D}function au(R){if(R instanceof to&&R.name==="feature-state")return!1;var D=!0;return R.eachChild(function(V){D&&!au(V)&&(D=!1)}),D}function Dl(R,D){if(R instanceof to&&D.indexOf(R.name)>=0)return!1;var V=!0;return R.eachChild(function(ne){V&&!Dl(ne,D)&&(V=!1)}),V}var cs=function(D,V){this.type=V.type,this.name=D,this.boundExpression=V};cs.parse=function(D,V){if(D.length!==2||typeof D[1]!="string")return V.error("'var' expression requires exactly one string literal argument.");var ne=D[1];return V.scope.has(ne)?new cs(ne,V.scope.get(ne)):V.error('Unknown variable "'+ne+'". Make sure "'+ne+'" has been bound in an enclosing "let" expression before using it.',1)},cs.prototype.evaluate=function(D){return this.boundExpression.evaluate(D)},cs.prototype.eachChild=function(){},cs.prototype.outputDefined=function(){return!1},cs.prototype.serialize=function(){return["var",this.name]};var Ls=function(D,V,ne,ve,Te){V===void 0&&(V=[]),ve===void 0&&(ve=new vn),Te===void 0&&(Te=[]),this.registry=D,this.path=V,this.key=V.map(function(De){return"["+De+"]"}).join(""),this.scope=ve,this.errors=Te,this.expectedType=ne};Ls.prototype.parse=function(D,V,ne,ve,Te){return Te===void 0&&(Te={}),V?this.concat(V,ne,ve)._parse(D,Te):this._parse(D,Te)},Ls.prototype._parse=function(D,V){(D===null||typeof D=="string"||typeof D=="boolean"||typeof D=="number")&&(D=["literal",D]);function ne(St,Gt,ir){return ir==="assert"?new ho(Gt,[St]):ir==="coerce"?new eo(Gt,[St]):St}if(Array.isArray(D)){if(D.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ve=D[0];if(typeof ve!="string")return this.error("Expression name must be a string, but found "+typeof ve+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Te=this.registry[ve];if(Te){var De=Te.parse(D,this);if(!De)return null;if(this.expectedType){var Ke=this.expectedType,ut=De.type;if((Ke.kind==="string"||Ke.kind==="number"||Ke.kind==="boolean"||Ke.kind==="object"||Ke.kind==="array")&&ut.kind==="value")De=ne(De,Ke,V.typeAnnotation||"assert");else if((Ke.kind==="color"||Ke.kind==="formatted"||Ke.kind==="resolvedImage")&&(ut.kind==="value"||ut.kind==="string"))De=ne(De,Ke,V.typeAnnotation||"coerce");else if(this.checkSubtype(Ke,ut))return null}if(!(De instanceof Io)&&De.type.kind!=="resolvedImage"&&df(De)){var Tt=new us;try{De=new Io(De.type,De.evaluate(Tt))}catch(St){return this.error(St.message),null}}return De}return this.error('Unknown expression "'+ve+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof D>"u"?this.error("'undefined' value invalid. Use null instead."):typeof D=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof D+" instead.")},Ls.prototype.concat=function(D,V,ne){var ve=typeof D=="number"?this.path.concat(D):this.path,Te=ne?this.scope.concat(ne):this.scope;return new Ls(this.registry,ve,V||null,Te,this.errors)},Ls.prototype.error=function(D){for(var V=[],ne=arguments.length-1;ne-- >0;)V[ne]=arguments[ne+1];var ve=""+this.key+V.map(function(Te){return"["+Te+"]"}).join("");this.errors.push(new Mn(ve,D))},Ls.prototype.checkSubtype=function(D,V){var ne=co(D,V);return ne&&this.error(ne),ne};function df(R){if(R instanceof cs)return df(R.boundExpression);if(R instanceof to&&R.name==="error")return!1;if(R instanceof Es)return!1;if(R instanceof Uo)return!1;var D=R instanceof eo||R instanceof ho,V=!0;return R.eachChild(function(ne){D?V=V&&df(ne):V=V&&ne instanceof Io}),V?fl(R)&&Dl(R,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function Il(R,D){for(var V=R.length-1,ne=0,ve=V,Te=0,De,Ke;ne<=ve;)if(Te=Math.floor((ne+ve)/2),De=R[Te],Ke=R[Te+1],De<=D){if(Te===V||D<Ke)return Te;ne=Te+1}else if(De>D)ve=Te-1;else throw new Wi("Input is not a number.");return 0}var Gs=function(D,V,ne){this.type=D,this.input=V,this.labels=[],this.outputs=[];for(var ve=0,Te=ne;ve<Te.length;ve+=1){var De=Te[ve],Ke=De[0],ut=De[1];this.labels.push(Ke),this.outputs.push(ut)}};Gs.parse=function(D,V){if(D.length-1<4)return V.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return V.error("Expected an even number of arguments.");var ne=V.parse(D[1],1,Lr);if(!ne)return null;var ve=[],Te=null;V.expectedType&&V.expectedType.kind!=="value"&&(Te=V.expectedType);for(var De=1;De<D.length;De+=2){var Ke=De===1?-1/0:D[De],ut=D[De+1],Tt=De,St=De+1;if(typeof Ke!="number")return V.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Tt);if(ve.length&&ve[ve.length-1][0]>=Ke)return V.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Tt);var Gt=V.parse(ut,St,Te);if(!Gt)return null;Te=Te||Gt.type,ve.push([Ke,Gt])}return new Gs(Te,ne,ve)},Gs.prototype.evaluate=function(D){var V=this.labels,ne=this.outputs;if(V.length===1)return ne[0].evaluate(D);var ve=this.input.evaluate(D);if(ve<=V[0])return ne[0].evaluate(D);var Te=V.length;if(ve>=V[Te-1])return ne[Te-1].evaluate(D);var De=Il(V,ve);return ne[De].evaluate(D)},Gs.prototype.eachChild=function(D){D(this.input);for(var V=0,ne=this.outputs;V<ne.length;V+=1){var ve=ne[V];D(ve)}},Gs.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},Gs.prototype.serialize=function(){for(var D=["step",this.input.serialize()],V=0;V<this.labels.length;V++)V>0&&D.push(this.labels[V]),D.push(this.outputs[V].serialize());return D};function _i(R,D,V){return R*(1-V)+D*V}function pf(R,D,V){return new ei(_i(R.r,D.r,V),_i(R.g,D.g,V),_i(R.b,D.b,V),_i(R.a,D.a,V))}function Iu(R,D,V){return R.map(function(ne,ve){return _i(ne,D[ve],V)})}var kl=Object.freeze({__proto__:null,number:_i,color:pf,array:Iu}),rc=.95047,nc=1,Fl=1.08883,_l=4/29,Qi=6/29,ku=3*Qi*Qi,uh=Qi*Qi*Qi,gf=Math.PI/180,fh=180/Math.PI;function Fu(R){return R>uh?Math.pow(R,.3333333333333333):R/ku+_l}function iu(R){return R>Qi?R*R*R:ku*(R-_l)}function yf(R){return 255*(R<=.0031308?12.92*R:1.055*Math.pow(R,.4166666666666667)-.055)}function mf(R){return R/=255,R<=.04045?R/12.92:Math.pow((R+.055)/1.055,2.4)}function ou(R){var D=mf(R.r),V=mf(R.g),ne=mf(R.b),ve=Fu((.4124564*D+.3575761*V+.1804375*ne)/rc),Te=Fu((.2126729*D+.7151522*V+.072175*ne)/nc),De=Fu((.0193339*D+.119192*V+.9503041*ne)/Fl);return{l:116*Te-16,a:500*(ve-Te),b:200*(Te-De),alpha:R.a}}function xf(R){var D=(R.l+16)/116,V=isNaN(R.a)?D:D+R.a/500,ne=isNaN(R.b)?D:D-R.b/200;return D=nc*iu(D),V=rc*iu(V),ne=Fl*iu(ne),new ei(yf(3.2404542*V-1.5371385*D-.4985314*ne),yf(-.969266*V+1.8760108*D+.041556*ne),yf(.0556434*V-.2040259*D+1.0572252*ne),R.alpha)}function _u(R,D,V){return{l:_i(R.l,D.l,V),a:_i(R.a,D.a,V),b:_i(R.b,D.b,V),alpha:_i(R.alpha,D.alpha,V)}}function bf(R){var D=ou(R),V=D.l,ne=D.a,ve=D.b,Te=Math.atan2(ve,ne)*fh;return{h:Te<0?Te+360:Te,c:Math.sqrt(ne*ne+ve*ve),l:V,alpha:R.a}}function pi(R){var D=R.h*gf,V=R.c,ne=R.l;return xf({l:ne,a:Math.cos(D)*V,b:Math.sin(D)*V,alpha:R.alpha})}function ac(R,D,V){var ne=D-R;return R+V*(ne>180||ne<-180?ne-360*Math.round(ne/360):ne)}function Jo(R,D,V){return{h:ac(R.h,D.h,V),c:_i(R.c,D.c,V),l:_i(R.l,D.l,V),alpha:_i(R.alpha,D.alpha,V)}}var zl={forward:ou,reverse:xf,interpolate:_u},cl={forward:bf,reverse:pi,interpolate:Jo},wf=Object.freeze({__proto__:null,lab:zl,hcl:cl}),Oi=function(D,V,ne,ve,Te){this.type=D,this.operator=V,this.interpolation=ne,this.input=ve,this.labels=[],this.outputs=[];for(var De=0,Ke=Te;De<Ke.length;De+=1){var ut=Ke[De],Tt=ut[0],St=ut[1];this.labels.push(Tt),this.outputs.push(St)}};Oi.interpolationFactor=function(D,V,ne,ve){var Te=0;if(D.name==="exponential")Te=su(V,D.base,ne,ve);else if(D.name==="linear")Te=su(V,1,ne,ve);else if(D.name==="cubic-bezier"){var De=D.controlPoints,Ke=new v(De[0],De[1],De[2],De[3]);Te=Ke.solve(su(V,1,ne,ve))}return Te},Oi.parse=function(D,V){var ne=D[0],ve=D[1],Te=D[2],De=D.slice(3);if(!Array.isArray(ve)||ve.length===0)return V.error("Expected an interpolation type expression.",1);if(ve[0]==="linear")ve={name:"linear"};else if(ve[0]==="exponential"){var Ke=ve[1];if(typeof Ke!="number")return V.error("Exponential interpolation requires a numeric base.",1,1);ve={name:"exponential",base:Ke}}else if(ve[0]==="cubic-bezier"){var ut=ve.slice(1);if(ut.length!==4||ut.some(function($r){return typeof $r!="number"||$r<0||$r>1}))return V.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ve={name:"cubic-bezier",controlPoints:ut}}else return V.error("Unknown interpolation type "+String(ve[0]),1,0);if(D.length-1<4)return V.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return V.error("Expected an even number of arguments.");if(Te=V.parse(Te,2,Lr),!Te)return null;var Tt=[],St=null;ne==="interpolate-hcl"||ne==="interpolate-lab"?St=_n:V.expectedType&&V.expectedType.kind!=="value"&&(St=V.expectedType);for(var Gt=0;Gt<De.length;Gt+=2){var ir=De[Gt],$t=De[Gt+1],br=Gt+3,Or=Gt+4;if(typeof ir!="number")return V.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',br);if(Tt.length&&Tt[Tt.length-1][0]>=ir)return V.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',br);var ln=V.parse($t,Or,St);if(!ln)return null;St=St||ln.type,Tt.push([ir,ln])}return St.kind!=="number"&&St.kind!=="color"&&!(St.kind==="array"&&St.itemType.kind==="number"&&typeof St.N=="number")?V.error("Type "+pa(St)+" is not interpolatable."):new Oi(St,ne,ve,Te,Tt)},Oi.prototype.evaluate=function(D){var V=this.labels,ne=this.outputs;if(V.length===1)return ne[0].evaluate(D);var ve=this.input.evaluate(D);if(ve<=V[0])return ne[0].evaluate(D);var Te=V.length;if(ve>=V[Te-1])return ne[Te-1].evaluate(D);var De=Il(V,ve),Ke=V[De],ut=V[De+1],Tt=Oi.interpolationFactor(this.interpolation,ve,Ke,ut),St=ne[De].evaluate(D),Gt=ne[De+1].evaluate(D);return this.operator==="interpolate"?kl[this.type.kind.toLowerCase()](St,Gt,Tt):this.operator==="interpolate-hcl"?cl.reverse(cl.interpolate(cl.forward(St),cl.forward(Gt),Tt)):zl.reverse(zl.interpolate(zl.forward(St),zl.forward(Gt),Tt))},Oi.prototype.eachChild=function(D){D(this.input);for(var V=0,ne=this.outputs;V<ne.length;V+=1){var ve=ne[V];D(ve)}},Oi.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},Oi.prototype.serialize=function(){var D;this.interpolation.name==="linear"?D=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?D=["linear"]:D=["exponential",this.interpolation.base]:D=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var V=[this.operator,D,this.input.serialize()],ne=0;ne<this.labels.length;ne++)V.push(this.labels[ne],this.outputs[ne].serialize());return V};function su(R,D,V,ne){var ve=ne-V,Te=R-V;return ve===0?0:D===1?Te/ve:(Math.pow(D,Te)-1)/(Math.pow(D,ve)-1)}var Eo=function(D,V){this.type=D,this.args=V};Eo.parse=function(D,V){if(D.length<2)return V.error("Expectected at least one argument.");var ne=null,ve=V.expectedType;ve&&ve.kind!=="value"&&(ne=ve);for(var Te=[],De=0,Ke=D.slice(1);De<Ke.length;De+=1){var ut=Ke[De],Tt=V.parse(ut,1+Te.length,ne,void 0,{typeAnnotation:"omit"});if(!Tt)return null;ne=ne||Tt.type,Te.push(Tt)}var St=ve&&Te.some(function(Gt){return co(ve,Gt.type)});return St?new Eo(xn,Te):new Eo(ne,Te)},Eo.prototype.evaluate=function(D){for(var V=null,ne=0,ve,Te=0,De=this.args;Te<De.length;Te+=1){var Ke=De[Te];if(ne++,V=Ke.evaluate(D),V&&V instanceof So&&!V.available&&(ve||(ve=V.name),V=null,ne===this.args.length&&(V=ve)),V!==null)break}return V},Eo.prototype.eachChild=function(D){this.args.forEach(D)},Eo.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},Eo.prototype.serialize=function(){var D=["coalesce"];return this.eachChild(function(V){D.push(V.serialize())}),D};var Ps=function(D,V){this.type=V.type,this.bindings=[].concat(D),this.result=V};Ps.prototype.evaluate=function(D){return this.result.evaluate(D)},Ps.prototype.eachChild=function(D){for(var V=0,ne=this.bindings;V<ne.length;V+=1){var ve=ne[V];D(ve[1])}D(this.result)},Ps.parse=function(D,V){if(D.length<4)return V.error("Expected at least 3 arguments, but found "+(D.length-1)+" instead.");for(var ne=[],ve=1;ve<D.length-1;ve+=2){var Te=D[ve];if(typeof Te!="string")return V.error("Expected string, but found "+typeof Te+" instead.",ve);if(/[^a-zA-Z0-9_]/.test(Te))return V.error("Variable names must contain only alphanumeric characters or '_'.",ve);var De=V.parse(D[ve+1],ve+1);if(!De)return null;ne.push([Te,De])}var Ke=V.parse(D[D.length-1],D.length-1,V.expectedType,ne);return Ke?new Ps(ne,Ke):null},Ps.prototype.outputDefined=function(){return this.result.outputDefined()},Ps.prototype.serialize=function(){for(var D=["let"],V=0,ne=this.bindings;V<ne.length;V+=1){var ve=ne[V],Te=ve[0],De=ve[1];D.push(Te,De.serialize())}return D.push(this.result.serialize()),D};var Rs=function(D,V,ne){this.type=D,this.index=V,this.input=ne};Rs.parse=function(D,V){if(D.length!==3)return V.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var ne=V.parse(D[1],1,Lr),ve=V.parse(D[2],2,la(V.expectedType||xn));if(!ne||!ve)return null;var Te=ve.type;return new Rs(Te.itemType,ne,ve)},Rs.prototype.evaluate=function(D){var V=this.index.evaluate(D),ne=this.input.evaluate(D);if(V<0)throw new Wi("Array index out of bounds: "+V+" < 0.");if(V>=ne.length)throw new Wi("Array index out of bounds: "+V+" > "+(ne.length-1)+".");if(V!==Math.floor(V))throw new Wi("Array index must be an integer, but found "+V+" instead.");return ne[V]},Rs.prototype.eachChild=function(D){D(this.index),D(this.input)},Rs.prototype.outputDefined=function(){return!1},Rs.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Ws=function(D,V){this.type=dn,this.needle=D,this.haystack=V};Ws.parse=function(D,V){if(D.length!==3)return V.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var ne=V.parse(D[1],1,xn),ve=V.parse(D[2],2,xn);return!ne||!ve?null:yo(ne.type,[dn,zr,Lr,Dr,xn])?new Ws(ne,ve):V.error("Expected first argument to be of type boolean, string, number or null, but found "+pa(ne.type)+" instead")},Ws.prototype.evaluate=function(D){var V=this.needle.evaluate(D),ne=this.haystack.evaluate(D);if(!ne)return!1;if(!Mo(V,["boolean","string","number","null"]))throw new Wi("Expected first argument to be of type boolean, string, number or null, but found "+pa(Ri(V))+" instead.");if(!Mo(ne,["string","array"]))throw new Wi("Expected second argument to be of type array or string, but found "+pa(Ri(ne))+" instead.");return ne.indexOf(V)>=0},Ws.prototype.eachChild=function(D){D(this.needle),D(this.haystack)},Ws.prototype.outputDefined=function(){return!0},Ws.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Ys=function(D,V,ne){this.type=Lr,this.needle=D,this.haystack=V,this.fromIndex=ne};Ys.parse=function(D,V){if(D.length<=2||D.length>=5)return V.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var ne=V.parse(D[1],1,xn),ve=V.parse(D[2],2,xn);if(!ne||!ve)return null;if(!yo(ne.type,[dn,zr,Lr,Dr,xn]))return V.error("Expected first argument to be of type boolean, string, number or null, but found "+pa(ne.type)+" instead");if(D.length===4){var Te=V.parse(D[3],3,Lr);return Te?new Ys(ne,ve,Te):null}else return new Ys(ne,ve)},Ys.prototype.evaluate=function(D){var V=this.needle.evaluate(D),ne=this.haystack.evaluate(D);if(!Mo(V,["boolean","string","number","null"]))throw new Wi("Expected first argument to be of type boolean, string, number or null, but found "+pa(Ri(V))+" instead.");if(!Mo(ne,["string","array"]))throw new Wi("Expected second argument to be of type array or string, but found "+pa(Ri(ne))+" instead.");if(this.fromIndex){var ve=this.fromIndex.evaluate(D);return ne.indexOf(V,ve)}return ne.indexOf(V)},Ys.prototype.eachChild=function(D){D(this.needle),D(this.haystack),this.fromIndex&&D(this.fromIndex)},Ys.prototype.outputDefined=function(){return!1},Ys.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var D=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),D]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var js=function(D,V,ne,ve,Te,De){this.inputType=D,this.type=V,this.input=ne,this.cases=ve,this.outputs=Te,this.otherwise=De};js.parse=function(D,V){if(D.length<5)return V.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if(D.length%2!==1)return V.error("Expected an even number of arguments.");var ne,ve;V.expectedType&&V.expectedType.kind!=="value"&&(ve=V.expectedType);for(var Te={},De=[],Ke=2;Ke<D.length-1;Ke+=2){var ut=D[Ke],Tt=D[Ke+1];Array.isArray(ut)||(ut=[ut]);var St=V.concat(Ke);if(ut.length===0)return St.error("Expected at least one branch label.");for(var Gt=0,ir=ut;Gt<ir.length;Gt+=1){var $t=ir[Gt];if(typeof $t!="number"&&typeof $t!="string")return St.error("Branch labels must be numbers or strings.");if(typeof $t=="number"&&Math.abs($t)>Number.MAX_SAFE_INTEGER)return St.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof $t=="number"&&Math.floor($t)!==$t)return St.error("Numeric branch labels must be integer values.");if(!ne)ne=Ri($t);else if(St.checkSubtype(ne,Ri($t)))return null;if(typeof Te[String($t)]<"u")return St.error("Branch labels must be unique.");Te[String($t)]=De.length}var br=V.parse(Tt,Ke,ve);if(!br)return null;ve=ve||br.type,De.push(br)}var Or=V.parse(D[1],1,xn);if(!Or)return null;var ln=V.parse(D[D.length-1],D.length-1,ve);return!ln||Or.type.kind!=="value"&&V.concat(1).checkSubtype(ne,Or.type)?null:new js(ne,ve,Or,Te,De,ln)},js.prototype.evaluate=function(D){var V=this.input.evaluate(D),ne=Ri(V)===this.inputType&&this.outputs[this.cases[V]]||this.otherwise;return ne.evaluate(D)},js.prototype.eachChild=function(D){D(this.input),this.outputs.forEach(D),D(this.otherwise)},js.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})&&this.otherwise.outputDefined()},js.prototype.serialize=function(){for(var D=this,V=["match",this.input.serialize()],ne=Object.keys(this.cases).sort(),ve=[],Te={},De=0,Ke=ne;De<Ke.length;De+=1){var ut=Ke[De],Tt=Te[this.cases[ut]];Tt===void 0?(Te[this.cases[ut]]=ve.length,ve.push([this.cases[ut],[ut]])):ve[Tt][1].push(ut)}for(var St=function(Or){return D.inputType.kind==="number"?Number(Or):Or},Gt=0,ir=ve;Gt<ir.length;Gt+=1){var $t=ir[Gt],Tt=$t[0],br=$t[1];br.length===1?V.push(St(br[0])):V.push(br.map(St)),V.push(this.outputs[outputIndex$1].serialize())}return V.push(this.otherwise.serialize()),V};var Qo=function(D,V,ne){this.type=D,this.branches=V,this.otherwise=ne};Qo.parse=function(D,V){if(D.length<4)return V.error("Expected at least 3 arguments, but found only "+(D.length-1)+".");if(D.length%2!==0)return V.error("Expected an odd number of arguments.");var ne;V.expectedType&&V.expectedType.kind!=="value"&&(ne=V.expectedType);for(var ve=[],Te=1;Te<D.length-1;Te+=2){var De=V.parse(D[Te],Te,dn);if(!De)return null;var Ke=V.parse(D[Te+1],Te+1,ne);if(!Ke)return null;ve.push([De,Ke]),ne=ne||Ke.type}var ut=V.parse(D[D.length-1],D.length-1,ne);return ut?new Qo(ne,ve,ut):null},Qo.prototype.evaluate=function(D){for(var V=0,ne=this.branches;V<ne.length;V+=1){var ve=ne[V],Te=ve[0],De=ve[1];if(Te.evaluate(D))return De.evaluate(D)}return this.otherwise.evaluate(D)},Qo.prototype.eachChild=function(D){for(var V=0,ne=this.branches;V<ne.length;V+=1){var ve=ne[V],Te=ve[0],De=ve[1];D(Te),D(De)}D(this.otherwise)},Qo.prototype.outputDefined=function(){return this.branches.every(function(D){D[0];var V=D[1];return V.outputDefined()})&&this.otherwise.outputDefined()},Qo.prototype.serialize=function(){var D=["case"];return this.eachChild(function(V){D.push(V.serialize())}),D};var hs=function(D,V,ne,ve){this.type=D,this.input=V,this.beginIndex=ne,this.endIndex=ve};hs.parse=function(D,V){if(D.length<=2||D.length>=5)return V.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var ne=V.parse(D[1],1,xn),ve=V.parse(D[2],2,Lr);if(!ne||!ve)return null;if(!yo(ne.type,[la(xn),zr,xn]))return V.error("Expected first argument to be of type array or string, but found "+pa(ne.type)+" instead");if(D.length===4){var Te=V.parse(D[3],3,Lr);return Te?new hs(ne.type,ne,ve,Te):null}else return new hs(ne.type,ne,ve)},hs.prototype.evaluate=function(D){var V=this.input.evaluate(D),ne=this.beginIndex.evaluate(D);if(!Mo(V,["string","array"]))throw new Wi("Expected first argument to be of type array or string, but found "+pa(Ri(V))+" instead.");if(this.endIndex){var ve=this.endIndex.evaluate(D);return V.slice(ne,ve)}return V.slice(ne)},hs.prototype.eachChild=function(D){D(this.input),D(this.beginIndex),this.endIndex&&D(this.endIndex)},hs.prototype.outputDefined=function(){return!1},hs.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var D=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),D]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function lu(R,D){return R==="=="||R==="!="?D.kind==="boolean"||D.kind==="string"||D.kind==="number"||D.kind==="null"||D.kind==="value":D.kind==="string"||D.kind==="number"||D.kind==="value"}function uu(R,D,V){return D===V}function zu(R,D,V){return D!==V}function ch(R,D,V){return D<V}function hh(R,D,V){return D>V}function vh(R,D,V){return D<=V}function dh(R,D,V){return D>=V}function Ou(R,D,V,ne){return ne.compare(D,V)===0}function ic(R,D,V,ne){return!Ou(R,D,V,ne)}function Ol(R,D,V,ne){return ne.compare(D,V)<0}function ro(R,D,V,ne){return ne.compare(D,V)>0}function Co(R,D,V,ne){return ne.compare(D,V)<=0}function fu(R,D,V,ne){return ne.compare(D,V)>=0}function hl(R,D,V){var ne=R!=="=="&&R!=="!=";return function(){function ve(Te,De,Ke){this.type=dn,this.lhs=Te,this.rhs=De,this.collator=Ke,this.hasUntypedArgument=Te.type.kind==="value"||De.type.kind==="value"}return ve.parse=function(De,Ke){if(De.length!==3&&De.length!==4)return Ke.error("Expected two or three arguments.");var ut=De[0],Tt=Ke.parse(De[1],1,xn);if(!Tt)return null;if(!lu(ut,Tt.type))return Ke.concat(1).error('"'+ut+`" comparisons are not supported for type '`+pa(Tt.type)+"'.");var St=Ke.parse(De[2],2,xn);if(!St)return null;if(!lu(ut,St.type))return Ke.concat(2).error('"'+ut+`" comparisons are not supported for type '`+pa(St.type)+"'.");if(Tt.type.kind!==St.type.kind&&Tt.type.kind!=="value"&&St.type.kind!=="value")return Ke.error("Cannot compare types '"+pa(Tt.type)+"' and '"+pa(St.type)+"'.");ne&&(Tt.type.kind==="value"&&St.type.kind!=="value"?Tt=new ho(St.type,[Tt]):Tt.type.kind!=="value"&&St.type.kind==="value"&&(St=new ho(Tt.type,[St])));var Gt=null;if(De.length===4){if(Tt.type.kind!=="string"&&St.type.kind!=="string"&&Tt.type.kind!=="value"&&St.type.kind!=="value")return Ke.error("Cannot use collator to compare non-string types.");if(Gt=Ke.parse(De[3],3,na),!Gt)return null}return new ve(Tt,St,Gt)},ve.prototype.evaluate=function(De){var Ke=this.lhs.evaluate(De),ut=this.rhs.evaluate(De);if(ne&&this.hasUntypedArgument){var Tt=Ri(Ke),St=Ri(ut);if(Tt.kind!==St.kind||!(Tt.kind==="string"||Tt.kind==="number"))throw new Wi('Expected arguments for "'+R+'" to be (string, string) or (number, number), but found ('+Tt.kind+", "+St.kind+") instead.")}if(this.collator&&!ne&&this.hasUntypedArgument){var Gt=Ri(Ke),ir=Ri(ut);if(Gt.kind!=="string"||ir.kind!=="string")return D(De,Ke,ut)}return this.collator?V(De,Ke,ut,this.collator.evaluate(De)):D(De,Ke,ut)},ve.prototype.eachChild=function(De){De(this.lhs),De(this.rhs),this.collator&&De(this.collator)},ve.prototype.outputDefined=function(){return!0},ve.prototype.serialize=function(){var De=[R];return this.eachChild(function(Ke){De.push(Ke.serialize())}),De},ve}()}var cu=hl("==",uu,Ou),Nu=hl("!=",zu,ic),ph=hl("<",ch,Ol),oc=hl(">",hh,ro),sc=hl("<=",vh,Co),Tf=hl(">=",dh,fu),Zs=function(D,V,ne,ve,Te){this.type=zr,this.number=D,this.locale=V,this.currency=ne,this.minFractionDigits=ve,this.maxFractionDigits=Te};Zs.parse=function(D,V){if(D.length!==3)return V.error("Expected two arguments.");var ne=V.parse(D[1],1,Lr);if(!ne)return null;var ve=D[2];if(typeof ve!="object"||Array.isArray(ve))return V.error("NumberFormat options argument must be an object.");var Te=null;if(ve.locale&&(Te=V.parse(ve.locale,1,zr),!Te))return null;var De=null;if(ve.currency&&(De=V.parse(ve.currency,1,zr),!De))return null;var Ke=null;if(ve["min-fraction-digits"]&&(Ke=V.parse(ve["min-fraction-digits"],1,Lr),!Ke))return null;var ut=null;return ve["max-fraction-digits"]&&(ut=V.parse(ve["max-fraction-digits"],1,Lr),!ut)?null:new Zs(ne,Te,De,Ke,ut)},Zs.prototype.evaluate=function(D){return new Intl.NumberFormat(this.locale?this.locale.evaluate(D):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(D):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(D):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(D):void 0}).format(this.number.evaluate(D))},Zs.prototype.eachChild=function(D){D(this.number),this.locale&&D(this.locale),this.currency&&D(this.currency),this.minFractionDigits&&D(this.minFractionDigits),this.maxFractionDigits&&D(this.maxFractionDigits)},Zs.prototype.outputDefined=function(){return!1},Zs.prototype.serialize=function(){var D={};return this.locale&&(D.locale=this.locale.serialize()),this.currency&&(D.currency=this.currency.serialize()),this.minFractionDigits&&(D["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(D["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),D]};var Ni=function(D){this.type=Lr,this.input=D};Ni.parse=function(D,V){if(D.length!==2)return V.error("Expected 1 argument, but found "+(D.length-1)+" instead.");var ne=V.parse(D[1],1);return ne?ne.type.kind!=="array"&&ne.type.kind!=="string"&&ne.type.kind!=="value"?V.error("Expected argument of type string or array, but found "+pa(ne.type)+" instead."):new Ni(ne):null},Ni.prototype.evaluate=function(D){var V=this.input.evaluate(D);if(typeof V=="string")return V.length;if(Array.isArray(V))return V.length;throw new Wi("Expected value to be of type string or array, but found "+pa(Ri(V))+" instead.")},Ni.prototype.eachChild=function(D){D(this.input)},Ni.prototype.outputDefined=function(){return!1},Ni.prototype.serialize=function(){var D=["length"];return this.eachChild(function(V){D.push(V.serialize())}),D};var vs={"==":cu,"!=":Nu,">":oc,"<":ph,">=":Tf,"<=":sc,array:ho,at:Rs,boolean:ho,case:Qo,coalesce:Eo,collator:Es,format:Bo,image:ls,in:Ws,"index-of":Ys,interpolate:Oi,"interpolate-hcl":Oi,"interpolate-lab":Oi,length:Ni,let:Ps,literal:Io,match:js,number:ho,"number-format":Zs,object:ho,slice:hs,step:Gs,string:ho,"to-boolean":eo,"to-color":eo,"to-number":eo,"to-string":eo,var:cs,within:Uo};function Af(R,D){var V=D[0],ne=D[1],ve=D[2],Te=D[3];V=V.evaluate(R),ne=ne.evaluate(R),ve=ve.evaluate(R);var De=Te?Te.evaluate(R):1,Ke=$f(V,ne,ve,De);if(Ke)throw new Wi(Ke);return new ei(V/255*De,ne/255*De,ve/255*De,De)}function lc(R,D){return R in D}function vl(R,D){var V=D[R];return typeof V>"u"?null:V}function Bu(R,D,V,ne){for(;V<=ne;){var ve=V+ne>>1;if(D[ve]===R)return!0;D[ve]>R?ne=ve-1:V=ve+1}return!1}function $o(R){return{type:R}}to.register(vs,{error:[Bn,[zr],function(R,D){var V=D[0];throw new Wi(V.evaluate(R))}],typeof:[zr,[xn],function(R,D){var V=D[0];return pa(Ri(V.evaluate(R)))}],"to-rgba":[la(Lr,4),[_n],function(R,D){var V=D[0];return V.evaluate(R).toArray()}],rgb:[_n,[Lr,Lr,Lr],Af],rgba:[_n,[Lr,Lr,Lr,Lr],Af],has:{type:dn,overloads:[[[zr],function(R,D){var V=D[0];return lc(V.evaluate(R),R.properties())}],[[zr,Zn],function(R,D){var V=D[0],ne=D[1];return lc(V.evaluate(R),ne.evaluate(R))}]]},get:{type:xn,overloads:[[[zr],function(R,D){var V=D[0];return vl(V.evaluate(R),R.properties())}],[[zr,Zn],function(R,D){var V=D[0],ne=D[1];return vl(V.evaluate(R),ne.evaluate(R))}]]},"feature-state":[xn,[zr],function(R,D){var V=D[0];return vl(V.evaluate(R),R.featureState||{})}],properties:[Zn,[],function(R){return R.properties()}],"geometry-type":[zr,[],function(R){return R.geometryType()}],id:[xn,[],function(R){return R.id()}],zoom:[Lr,[],function(R){return R.globals.zoom}],"heatmap-density":[Lr,[],function(R){return R.globals.heatmapDensity||0}],"line-progress":[Lr,[],function(R){return R.globals.lineProgress||0}],accumulated:[xn,[],function(R){return R.globals.accumulated===void 0?null:R.globals.accumulated}],"+":[Lr,$o(Lr),function(R,D){for(var V=0,ne=0,ve=D;ne<ve.length;ne+=1){var Te=ve[ne];V+=Te.evaluate(R)}return V}],"*":[Lr,$o(Lr),function(R,D){for(var V=1,ne=0,ve=D;ne<ve.length;ne+=1){var Te=ve[ne];V*=Te.evaluate(R)}return V}],"-":{type:Lr,overloads:[[[Lr,Lr],function(R,D){var V=D[0],ne=D[1];return V.evaluate(R)-ne.evaluate(R)}],[[Lr],function(R,D){var V=D[0];return-V.evaluate(R)}]]},"/":[Lr,[Lr,Lr],function(R,D){var V=D[0],ne=D[1];return V.evaluate(R)/ne.evaluate(R)}],"%":[Lr,[Lr,Lr],function(R,D){var V=D[0],ne=D[1];return V.evaluate(R)%ne.evaluate(R)}],ln2:[Lr,[],function(){return Math.LN2}],pi:[Lr,[],function(){return Math.PI}],e:[Lr,[],function(){return Math.E}],"^":[Lr,[Lr,Lr],function(R,D){var V=D[0],ne=D[1];return Math.pow(V.evaluate(R),ne.evaluate(R))}],sqrt:[Lr,[Lr],function(R,D){var V=D[0];return Math.sqrt(V.evaluate(R))}],log10:[Lr,[Lr],function(R,D){var V=D[0];return Math.log(V.evaluate(R))/Math.LN10}],ln:[Lr,[Lr],function(R,D){var V=D[0];return Math.log(V.evaluate(R))}],log2:[Lr,[Lr],function(R,D){var V=D[0];return Math.log(V.evaluate(R))/Math.LN2}],sin:[Lr,[Lr],function(R,D){var V=D[0];return Math.sin(V.evaluate(R))}],cos:[Lr,[Lr],function(R,D){var V=D[0];return Math.cos(V.evaluate(R))}],tan:[Lr,[Lr],function(R,D){var V=D[0];return Math.tan(V.evaluate(R))}],asin:[Lr,[Lr],function(R,D){var V=D[0];return Math.asin(V.evaluate(R))}],acos:[Lr,[Lr],function(R,D){var V=D[0];return Math.acos(V.evaluate(R))}],atan:[Lr,[Lr],function(R,D){var V=D[0];return Math.atan(V.evaluate(R))}],min:[Lr,$o(Lr),function(R,D){return Math.min.apply(Math,D.map(function(V){return V.evaluate(R)}))}],max:[Lr,$o(Lr),function(R,D){return Math.max.apply(Math,D.map(function(V){return V.evaluate(R)}))}],abs:[Lr,[Lr],function(R,D){var V=D[0];return Math.abs(V.evaluate(R))}],round:[Lr,[Lr],function(R,D){var V=D[0],ne=V.evaluate(R);return ne<0?-Math.round(-ne):Math.round(ne)}],floor:[Lr,[Lr],function(R,D){var V=D[0];return Math.floor(V.evaluate(R))}],ceil:[Lr,[Lr],function(R,D){var V=D[0];return Math.ceil(V.evaluate(R))}],"filter-==":[dn,[zr,xn],function(R,D){var V=D[0],ne=D[1];return R.properties()[V.value]===ne.value}],"filter-id-==":[dn,[xn],function(R,D){var V=D[0];return R.id()===V.value}],"filter-type-==":[dn,[zr],function(R,D){var V=D[0];return R.geometryType()===V.value}],"filter-<":[dn,[zr,xn],function(R,D){var V=D[0],ne=D[1],ve=R.properties()[V.value],Te=ne.value;return typeof ve==typeof Te&&ve<Te}],"filter-id-<":[dn,[xn],function(R,D){var V=D[0],ne=R.id(),ve=V.value;return typeof ne==typeof ve&&ne<ve}],"filter->":[dn,[zr,xn],function(R,D){var V=D[0],ne=D[1],ve=R.properties()[V.value],Te=ne.value;return typeof ve==typeof Te&&ve>Te}],"filter-id->":[dn,[xn],function(R,D){var V=D[0],ne=R.id(),ve=V.value;return typeof ne==typeof ve&&ne>ve}],"filter-<=":[dn,[zr,xn],function(R,D){var V=D[0],ne=D[1],ve=R.properties()[V.value],Te=ne.value;return typeof ve==typeof Te&&ve<=Te}],"filter-id-<=":[dn,[xn],function(R,D){var V=D[0],ne=R.id(),ve=V.value;return typeof ne==typeof ve&&ne<=ve}],"filter->=":[dn,[zr,xn],function(R,D){var V=D[0],ne=D[1],ve=R.properties()[V.value],Te=ne.value;return typeof ve==typeof Te&&ve>=Te}],"filter-id->=":[dn,[xn],function(R,D){var V=D[0],ne=R.id(),ve=V.value;return typeof ne==typeof ve&&ne>=ve}],"filter-has":[dn,[xn],function(R,D){var V=D[0];return V.value in R.properties()}],"filter-has-id":[dn,[],function(R){return R.id()!==null&&R.id()!==void 0}],"filter-type-in":[dn,[la(zr)],function(R,D){var V=D[0];return V.value.indexOf(R.geometryType())>=0}],"filter-id-in":[dn,[la(xn)],function(R,D){var V=D[0];return V.value.indexOf(R.id())>=0}],"filter-in-small":[dn,[zr,la(xn)],function(R,D){var V=D[0],ne=D[1];return ne.value.indexOf(R.properties()[V.value])>=0}],"filter-in-large":[dn,[zr,la(xn)],function(R,D){var V=D[0],ne=D[1];return Bu(R.properties()[V.value],ne.value,0,ne.value.length-1)}],all:{type:dn,overloads:[[[dn,dn],function(R,D){var V=D[0],ne=D[1];return V.evaluate(R)&&ne.evaluate(R)}],[$o(dn),function(R,D){for(var V=0,ne=D;V<ne.length;V+=1){var ve=ne[V];if(!ve.evaluate(R))return!1}return!0}]]},any:{type:dn,overloads:[[[dn,dn],function(R,D){var V=D[0],ne=D[1];return V.evaluate(R)||ne.evaluate(R)}],[$o(dn),function(R,D){for(var V=0,ne=D;V<ne.length;V+=1){var ve=ne[V];if(ve.evaluate(R))return!0}return!1}]]},"!":[dn,[dn],function(R,D){var V=D[0];return!V.evaluate(R)}],"is-supported-script":[dn,[zr],function(R,D){var V=D[0],ne=R.globals&&R.globals.isSupportedScript;return ne?ne(V.evaluate(R)):!0}],upcase:[zr,[zr],function(R,D){var V=D[0];return V.evaluate(R).toUpperCase()}],downcase:[zr,[zr],function(R,D){var V=D[0];return V.evaluate(R).toLowerCase()}],concat:[zr,$o(xn),function(R,D){return D.map(function(V){return ru(V.evaluate(R))}).join("")}],"resolved-locale":[zr,[na],function(R,D){var V=D[0];return V.evaluate(R).resolvedLocale()}]});function Uu(R){return{result:"success",value:R}}function Ds(R){return{result:"error",value:R}}function Is(R){return R["property-type"]==="data-driven"||R["property-type"]==="cross-faded-data-driven"}function Mf(R){return!!R.expression&&R.expression.parameters.indexOf("zoom")>-1}function Nl(R){return!!R.expression&&R.expression.interpolated}function ui(R){return R instanceof Number?"number":R instanceof String?"string":R instanceof Boolean?"boolean":Array.isArray(R)?"array":R===null?"null":typeof R}function dl(R){return typeof R=="object"&&R!==null&&!Array.isArray(R)}function Hu(R){return R}function Vu(R,D){var V=D.type==="color",ne=R.stops&&typeof R.stops[0][0]=="object",ve=ne||R.property!==void 0,Te=ne||!ve,De=R.type||(Nl(D)?"exponential":"interval");if(V&&(R=un({},R),R.stops&&(R.stops=R.stops.map(function(ta){return[ta[0],ei.parse(ta[1])]})),R.default?R.default=ei.parse(R.default):R.default=ei.parse(D.default)),R.colorSpace&&R.colorSpace!=="rgb"&&!wf[R.colorSpace])throw new Error("Unknown color space: "+R.colorSpace);var Ke,ut,Tt;if(De==="exponential")Ke=Bl;else if(De==="interval")Ke=Sf;else if(De==="categorical"){Ke=gh,ut=Object.create(null);for(var St=0,Gt=R.stops;St<Gt.length;St+=1){var ir=Gt[St];ut[ir[0]]=ir[1]}Tt=typeof R.stops[0][0]}else if(De==="identity")Ke=Ef;else throw new Error('Unknown function type "'+De+'"');if(ne){for(var $t={},br=[],Or=0;Or<R.stops.length;Or++){var ln=R.stops[Or],$r=ln[0].zoom;$t[$r]===void 0&&($t[$r]={zoom:$r,type:R.type,property:R.property,default:R.default,stops:[]},br.push($r)),$t[$r].stops.push([ln[0].value,ln[1]])}for(var Ln=[],wn=0,Cn=br;wn<Cn.length;wn+=1){var kn=Cn[wn];Ln.push([$t[kn].zoom,Vu($t[kn],D)])}var Gn={name:"linear"};return{kind:"composite",interpolationType:Gn,interpolationFactor:Oi.interpolationFactor.bind(void 0,Gn),zoomStops:Ln.map(function(ta){return ta[0]}),evaluate:function(Ea,ha){var ma=Ea.zoom;return Bl({stops:Ln,base:R.base},D,ma).evaluate(ma,ha)}}}else if(Te){var ra=De==="exponential"?{name:"exponential",base:R.base!==void 0?R.base:1}:null;return{kind:"camera",interpolationType:ra,interpolationFactor:Oi.interpolationFactor.bind(void 0,ra),zoomStops:R.stops.map(function(ta){return ta[0]}),evaluate:function(ta){var Ea=ta.zoom;return Ke(R,D,Ea,ut,Tt)}}}else return{kind:"source",evaluate:function(Ea,ha){var ma=ha&&ha.properties?ha.properties[R.property]:void 0;return ma===void 0?Xs(R.default,D.default):Ke(R,D,ma,ut,Tt)}}}function Xs(R,D,V){if(R!==void 0)return R;if(D!==void 0)return D;if(V!==void 0)return V}function gh(R,D,V,ne,ve){var Te=typeof V===ve?ne[V]:void 0;return Xs(Te,R.default,D.default)}function Sf(R,D,V){if(ui(V)!=="number")return Xs(R.default,D.default);var ne=R.stops.length;if(ne===1||V<=R.stops[0][0])return R.stops[0][1];if(V>=R.stops[ne-1][0])return R.stops[ne-1][1];var ve=Il(R.stops.map(function(Te){return Te[0]}),V);return R.stops[ve][1]}function Bl(R,D,V){var ne=R.base!==void 0?R.base:1;if(ui(V)!=="number")return Xs(R.default,D.default);var ve=R.stops.length;if(ve===1||V<=R.stops[0][0])return R.stops[0][1];if(V>=R.stops[ve-1][0])return R.stops[ve-1][1];var Te=Il(R.stops.map(function(Gt){return Gt[0]}),V),De=uc(V,ne,R.stops[Te][0],R.stops[Te+1][0]),Ke=R.stops[Te][1],ut=R.stops[Te+1][1],Tt=kl[D.type]||Hu;if(R.colorSpace&&R.colorSpace!=="rgb"){var St=wf[R.colorSpace];Tt=function(Gt,ir){return St.reverse(St.interpolate(St.forward(Gt),St.forward(ir),De))}}return typeof Ke.evaluate=="function"?{evaluate:function(){for(var ir=[],$t=arguments.length;$t--;)ir[$t]=arguments[$t];var br=Ke.evaluate.apply(void 0,ir),Or=ut.evaluate.apply(void 0,ir);if(!(br===void 0||Or===void 0))return Tt(br,Or,De)}}:Tt(Ke,ut,De)}function Ef(R,D,V){return D.type==="color"?V=ei.parse(V):D.type==="formatted"?V=Ji.fromString(V.toString()):D.type==="resolvedImage"?V=So.fromString(V.toString()):ui(V)!==D.type&&(D.type!=="enum"||!D.values[V])&&(V=void 0),Xs(V,R.default,D.default)}function uc(R,D,V,ne){var ve=ne-V,Te=R-V;return ve===0?0:D===1?Te/ve:(Math.pow(D,Te)-1)/(Math.pow(D,ve)-1)}var ks=function(D,V){this.expression=D,this._warningHistory={},this._evaluator=new us,this._defaultValue=V?cc(V):null,this._enumValues=V&&V.type==="enum"?V.values:null};ks.prototype.evaluateWithoutErrorHandling=function(D,V,ne,ve,Te,De){return this._evaluator.globals=D,this._evaluator.feature=V,this._evaluator.featureState=ne,this._evaluator.canonical=ve,this._evaluator.availableImages=Te||null,this._evaluator.formattedSection=De,this.expression.evaluate(this._evaluator)},ks.prototype.evaluate=function(D,V,ne,ve,Te,De){this._evaluator.globals=D,this._evaluator.feature=V||null,this._evaluator.featureState=ne||null,this._evaluator.canonical=ve,this._evaluator.availableImages=Te||null,this._evaluator.formattedSection=De||null;try{var Ke=this.expression.evaluate(this._evaluator);if(Ke==null||typeof Ke=="number"&&Ke!==Ke)return this._defaultValue;if(this._enumValues&&!(Ke in this._enumValues))throw new Wi("Expected value to be one of "+Object.keys(this._enumValues).map(function(ut){return JSON.stringify(ut)}).join(", ")+", but found "+JSON.stringify(Ke)+" instead.");return Ke}catch(ut){return this._warningHistory[ut.message]||(this._warningHistory[ut.message]=!0,typeof console<"u"&&console.warn(ut.message)),this._defaultValue}};function Ks(R){return Array.isArray(R)&&R.length>0&&typeof R[0]=="string"&&R[0]in vs}function pl(R,D){var V=new Ls(vs,[],D?Gu(D):void 0),ne=V.parse(R,void 0,void 0,void 0,D&&D.type==="string"?{typeAnnotation:"coerce"}:void 0);return ne?Uu(new ks(ne,D)):Ds(V.errors)}var yl=function(D,V){this.kind=D,this._styleExpression=V,this.isStateDependent=D!=="constant"&&!au(V.expression)};yl.prototype.evaluateWithoutErrorHandling=function(D,V,ne,ve,Te,De){return this._styleExpression.evaluateWithoutErrorHandling(D,V,ne,ve,Te,De)},yl.prototype.evaluate=function(D,V,ne,ve,Te,De){return this._styleExpression.evaluate(D,V,ne,ve,Te,De)};var Lo=function(D,V,ne,ve){this.kind=D,this.zoomStops=ne,this._styleExpression=V,this.isStateDependent=D!=="camera"&&!au(V.expression),this.interpolationType=ve};Lo.prototype.evaluateWithoutErrorHandling=function(D,V,ne,ve,Te,De){return this._styleExpression.evaluateWithoutErrorHandling(D,V,ne,ve,Te,De)},Lo.prototype.evaluate=function(D,V,ne,ve,Te,De){return this._styleExpression.evaluate(D,V,ne,ve,Te,De)},Lo.prototype.interpolationFactor=function(D,V,ne){return this.interpolationType?Oi.interpolationFactor(this.interpolationType,D,V,ne):0};function Fo(R,D){if(R=pl(R,D),R.result==="error")return R;var V=R.value.expression,ne=fl(V);if(!ne&&!Is(D))return Ds([new Mn("","data expressions not supported")]);var ve=Dl(V,["zoom"]);if(!ve&&!Mf(D))return Ds([new Mn("","zoom expressions not supported")]);var Te=Ul(V);if(!Te&&!ve)return Ds([new Mn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Te instanceof Mn)return Ds([Te]);if(Te instanceof Oi&&!Nl(D))return Ds([new Mn("",'"interpolate" expressions cannot be used with this property')]);if(!Te)return Uu(ne?new yl("constant",R.value):new yl("source",R.value));var De=Te instanceof Oi?Te.interpolation:void 0;return Uu(ne?new Lo("camera",R.value,Te.labels,De):new Lo("composite",R.value,Te.labels,De))}var ml=function(D,V){this._parameters=D,this._specification=V,un(this,Vu(this._parameters,this._specification))};ml.deserialize=function(D){return new ml(D._parameters,D._specification)},ml.serialize=function(D){return{_parameters:D._parameters,_specification:D._specification}};function fc(R,D){if(dl(R))return new ml(R,D);if(Ks(R)){var V=Fo(R,D);if(V.result==="error")throw new Error(V.value.map(function(ve){return ve.key+": "+ve.message}).join(", "));return V.value}else{var ne=R;return typeof R=="string"&&D.type==="color"&&(ne=ei.parse(R)),{kind:"constant",evaluate:function(){return ne}}}}function Ul(R){var D=null;if(R instanceof Ps)D=Ul(R.result);else if(R instanceof Eo)for(var V=0,ne=R.args;V<ne.length;V+=1){var ve=ne[V];if(D=Ul(ve),D)break}else(R instanceof Gs||R instanceof Oi)&&R.input instanceof to&&R.input.name==="zoom"&&(D=R);return D instanceof Mn||R.eachChild(function(Te){var De=Ul(Te);De instanceof Mn?D=De:!D&&De?D=new Mn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):D&&De&&D!==De&&(D=new Mn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),D}function Gu(R){var D={color:_n,string:zr,number:Lr,enum:zr,boolean:dn,formatted:ua,resolvedImage:sa};return R.type==="array"?la(D[R.value]||xn,R.length):D[R.type]}function cc(R){return R.type==="color"&&dl(R.default)?new ei(0,0,0,0):R.type==="color"?ei.parse(R.default)||null:R.default===void 0?null:R.default}function qo(R){var D=R.key,V=R.value,ne=R.valueSpec||{},ve=R.objectElementValidators||{},Te=R.style,De=R.styleSpec,Ke=[],ut=ui(V);if(ut!=="object")return[new wr(D,V,"object expected, "+ut+" found")];for(var Tt in V){var St=Tt.split(".")[0],Gt=ne[St]||ne["*"],ir=void 0;if(ve[St])ir=ve[St];else if(ne[St])ir=ar;else if(ve["*"])ir=ve["*"];else if(ne["*"])ir=ar;else{Ke.push(new wr(D,V[Tt],'unknown property "'+Tt+'"'));continue}Ke=Ke.concat(ir({key:(D&&D+".")+Tt,value:V[Tt],valueSpec:Gt,style:Te,styleSpec:De,object:V,objectKey:Tt},V))}for(var $t in ne)ve[$t]||ne[$t].required&&ne[$t].default===void 0&&V[$t]===void 0&&Ke.push(new wr(D,V,'missing required property "'+$t+'"'));return Ke}function Cf(R){var D=R.value,V=R.valueSpec,ne=R.style,ve=R.styleSpec,Te=R.key,De=R.arrayElementValidator||ar;if(ui(D)!=="array")return[new wr(Te,D,"array expected, "+ui(D)+" found")];if(V.length&&D.length!==V.length)return[new wr(Te,D,"array length "+V.length+" expected, length "+D.length+" found")];if(V["min-length"]&&D.length<V["min-length"])return[new wr(Te,D,"array length at least "+V["min-length"]+" expected, length "+D.length+" found")];var Ke={type:V.value,values:V.values};ve.$version<7&&(Ke.function=V.function),ui(V.value)==="object"&&(Ke=V.value);for(var ut=[],Tt=0;Tt<D.length;Tt++)ut=ut.concat(De({array:D,arrayIndex:Tt,value:D[Tt],valueSpec:Ke,style:ne,styleSpec:ve,key:Te+"["+Tt+"]"}));return ut}function Js(R){var D=R.key,V=R.value,ne=R.valueSpec,ve=ui(V);return ve==="number"&&V!==V&&(ve="NaN"),ve!=="number"?[new wr(D,V,"number expected, "+ve+" found")]:"minimum"in ne&&V<ne.minimum?[new wr(D,V,V+" is less than the minimum value "+ne.minimum)]:"maximum"in ne&&V>ne.maximum?[new wr(D,V,V+" is greater than the maximum value "+ne.maximum)]:[]}function hu(R){var D=R.valueSpec,V=cn(R.value.type),ne,ve={},Te,De,Ke=V!=="categorical"&&R.value.property===void 0,ut=!Ke,Tt=ui(R.value.stops)==="array"&&ui(R.value.stops[0])==="array"&&ui(R.value.stops[0][0])==="object",St=qo({key:R.key,value:R.value,valueSpec:R.styleSpec.function,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{stops:Gt,default:br}});return V==="identity"&&Ke&&St.push(new wr(R.key,R.value,'missing required property "property"')),V!=="identity"&&!R.value.stops&&St.push(new wr(R.key,R.value,'missing required property "stops"')),V==="exponential"&&R.valueSpec.expression&&!Nl(R.valueSpec)&&St.push(new wr(R.key,R.value,"exponential functions not supported")),R.styleSpec.$version>=8&&(ut&&!Is(R.valueSpec)?St.push(new wr(R.key,R.value,"property functions not supported")):Ke&&!Mf(R.valueSpec)&&St.push(new wr(R.key,R.value,"zoom functions not supported"))),(V==="categorical"||Tt)&&R.value.property===void 0&&St.push(new wr(R.key,R.value,'"property" property is required')),St;function Gt(Or){if(V==="identity")return[new wr(Or.key,Or.value,'identity function may not have a "stops" property')];var ln=[],$r=Or.value;return ln=ln.concat(Cf({key:Or.key,value:$r,valueSpec:Or.valueSpec,style:Or.style,styleSpec:Or.styleSpec,arrayElementValidator:ir})),ui($r)==="array"&&$r.length===0&&ln.push(new wr(Or.key,$r,"array must have at least one stop")),ln}function ir(Or){var ln=[],$r=Or.value,Ln=Or.key;if(ui($r)!=="array")return[new wr(Ln,$r,"array expected, "+ui($r)+" found")];if($r.length!==2)return[new wr(Ln,$r,"array length 2 expected, length "+$r.length+" found")];if(Tt){if(ui($r[0])!=="object")return[new wr(Ln,$r,"object expected, "+ui($r[0])+" found")];if($r[0].zoom===void 0)return[new wr(Ln,$r,"object stop key must have zoom")];if($r[0].value===void 0)return[new wr(Ln,$r,"object stop key must have value")];if(De&&De>cn($r[0].zoom))return[new wr(Ln,$r[0].zoom,"stop zoom values must appear in ascending order")];cn($r[0].zoom)!==De&&(De=cn($r[0].zoom),Te=void 0,ve={}),ln=ln.concat(qo({key:Ln+"[0]",value:$r[0],valueSpec:{zoom:{}},style:Or.style,styleSpec:Or.styleSpec,objectElementValidators:{zoom:Js,value:$t}}))}else ln=ln.concat($t({key:Ln+"[0]",value:$r[0],valueSpec:{},style:Or.style,styleSpec:Or.styleSpec},$r));return Ks(Dn($r[1]))?ln.concat([new wr(Ln+"[1]",$r[1],"expressions are not allowed in function stops.")]):ln.concat(ar({key:Ln+"[1]",value:$r[1],valueSpec:D,style:Or.style,styleSpec:Or.styleSpec}))}function $t(Or,ln){var $r=ui(Or.value),Ln=cn(Or.value),wn=Or.value!==null?Or.value:ln;if(!ne)ne=$r;else if($r!==ne)return[new wr(Or.key,wn,$r+" stop domain type must match previous stop domain type "+ne)];if($r!=="number"&&$r!=="string"&&$r!=="boolean")return[new wr(Or.key,wn,"stop domain value must be a number, string, or boolean")];if($r!=="number"&&V!=="categorical"){var Cn="number expected, "+$r+" found";return Is(D)&&V===void 0&&(Cn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new wr(Or.key,wn,Cn)]}return V==="categorical"&&$r==="number"&&(!isFinite(Ln)||Math.floor(Ln)!==Ln)?[new wr(Or.key,wn,"integer expected, found "+Ln)]:V!=="categorical"&&$r==="number"&&Te!==void 0&&Ln<Te?[new wr(Or.key,wn,"stop domain values must appear in ascending order")]:(Te=Ln,V==="categorical"&&Ln in ve?[new wr(Or.key,wn,"stop domain values must be unique")]:(ve[Ln]=!0,[]))}function br(Or){return ar({key:Or.key,value:Or.value,valueSpec:D,style:Or.style,styleSpec:Or.styleSpec})}}function Fs(R){var D=(R.expressionContext==="property"?Fo:pl)(Dn(R.value),R.valueSpec);if(D.result==="error")return D.value.map(function(ne){return new wr(""+R.key+ne.key,R.value,ne.message)});var V=D.value.expression||D.value._styleExpression.expression;if(R.expressionContext==="property"&&R.propertyKey==="text-font"&&!V.outputDefined())return[new wr(R.key,R.value,'Invalid data expression for "'+R.propertyKey+'". Output values must be contained as literals within the expression.')];if(R.expressionContext==="property"&&R.propertyType==="layout"&&!au(V))return[new wr(R.key,R.value,'"feature-state" data expressions are not supported with layout properties.')];if(R.expressionContext==="filter"&&!au(V))return[new wr(R.key,R.value,'"feature-state" data expressions are not supported with filters.')];if(R.expressionContext&&R.expressionContext.indexOf("cluster")===0){if(!Dl(V,["zoom","feature-state"]))return[new wr(R.key,R.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(R.expressionContext==="cluster-initial"&&!fl(V))return[new wr(R.key,R.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function yh(R){var D=R.value,V=R.key,ne=ui(D);return ne!=="boolean"?[new wr(V,D,"boolean expected, "+ne+" found")]:[]}function Lf(R){var D=R.key,V=R.value,ne=ui(V);return ne!=="string"?[new wr(D,V,"color expected, "+ne+" found")]:sf(V)===null?[new wr(D,V,'color expected, "'+V+'" found')]:[]}function Wu(R){var D=R.key,V=R.value,ne=R.valueSpec,ve=[];return Array.isArray(ne.values)?ne.values.indexOf(cn(V))===-1&&ve.push(new wr(D,V,"expected one of ["+ne.values.join(", ")+"], "+JSON.stringify(V)+" found")):Object.keys(ne.values).indexOf(cn(V))===-1&&ve.push(new wr(D,V,"expected one of ["+Object.keys(ne.values).join(", ")+"], "+JSON.stringify(V)+" found")),ve}function vo(R){if(R===!0||R===!1)return!0;if(!Array.isArray(R)||R.length===0)return!1;switch(R[0]){case"has":return R.length>=2&&R[1]!=="$id"&&R[1]!=="$type";case"in":return R.length>=3&&(typeof R[1]!="string"||Array.isArray(R[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return R.length!==3||Array.isArray(R[1])||Array.isArray(R[2]);case"any":case"all":for(var D=0,V=R.slice(1);D<V.length;D+=1){var ne=V[D];if(!vo(ne)&&typeof ne!="boolean")return!1}return!0;default:return!0}}var hc={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function vu(R){if(R==null)return{filter:function(){return!0},needGeometry:!1};vo(R)||(R=Qs(R));var D=pl(R,hc);if(D.result==="error")throw new Error(D.value.map(function(ne){return ne.key+": "+ne.message}).join(", "));var V=du(R);return{filter:function(ne,ve,Te){return D.value.evaluate(ne,ve,{},Te)},needGeometry:V}}function ds(R,D){return R<D?-1:R>D?1:0}function du(R){if(!Array.isArray(R))return!1;if(R[0]==="within")return!0;for(var D=1;D<R.length;D++)if(du(R[D]))return!0;return!1}function Qs(R){if(!R)return!0;var D=R[0];if(R.length<=1)return D!=="any";var V=D==="=="?Yu(R[1],R[2],"=="):D==="!="?xl(Yu(R[1],R[2],"==")):D==="<"||D===">"||D==="<="||D===">="?Yu(R[1],R[2],D):D==="any"?vc(R.slice(1)):D==="all"?["all"].concat(R.slice(1).map(Qs)):D==="none"?["all"].concat(R.slice(1).map(Qs).map(xl)):D==="in"?Pf(R[1],R.slice(2)):D==="!in"?xl(Pf(R[1],R.slice(2))):D==="has"?Rf(R[1]):D==="!has"?xl(Rf(R[1])):D==="within"?R:!0;return V}function Yu(R,D,V){switch(R){case"$type":return["filter-type-"+V,D];case"$id":return["filter-id-"+V,D];default:return["filter-"+V,R,D]}}function vc(R){return["any"].concat(R.map(Qs))}function Pf(R,D){if(D.length===0)return!1;switch(R){case"$type":return["filter-type-in",["literal",D]];case"$id":return["filter-id-in",["literal",D]];default:return D.length>200&&!D.some(function(V){return typeof V!=typeof D[0]})?["filter-in-large",R,["literal",D.sort(ds)]]:["filter-in-small",R,["literal",D]]}}function Rf(R){switch(R){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",R]}}function xl(R){return["!",R]}function ju(R){return vo(Dn(R.value))?Fs(un({},R,{expressionContext:"filter",valueSpec:{value:"boolean"}})):pu(R)}function pu(R){var D=R.value,V=R.key;if(ui(D)!=="array")return[new wr(V,D,"array expected, "+ui(D)+" found")];var ne=R.styleSpec,ve,Te=[];if(D.length<1)return[new wr(V,D,"filter array must have at least 1 element")];switch(Te=Te.concat(Wu({key:V+"[0]",value:D[0],valueSpec:ne.filter_operator,style:R.style,styleSpec:R.styleSpec})),cn(D[0])){case"<":case"<=":case">":case">=":D.length>=2&&cn(D[1])==="$type"&&Te.push(new wr(V,D,'"$type" cannot be use with operator "'+D[0]+'"'));case"==":case"!=":D.length!==3&&Te.push(new wr(V,D,'filter array for operator "'+D[0]+'" must have 3 elements'));case"in":case"!in":D.length>=2&&(ve=ui(D[1]),ve!=="string"&&Te.push(new wr(V+"[1]",D[1],"string expected, "+ve+" found")));for(var De=2;De<D.length;De++)ve=ui(D[De]),cn(D[1])==="$type"?Te=Te.concat(Wu({key:V+"["+De+"]",value:D[De],valueSpec:ne.geometry_type,style:R.style,styleSpec:R.styleSpec})):ve!=="string"&&ve!=="number"&&ve!=="boolean"&&Te.push(new wr(V+"["+De+"]",D[De],"string, number, or boolean expected, "+ve+" found"));break;case"any":case"all":case"none":for(var Ke=1;Ke<D.length;Ke++)Te=Te.concat(pu({key:V+"["+Ke+"]",value:D[Ke],style:R.style,styleSpec:R.styleSpec}));break;case"has":case"!has":ve=ui(D[1]),D.length!==2?Te.push(new wr(V,D,'filter array for "'+D[0]+'" operator must have 2 elements')):ve!=="string"&&Te.push(new wr(V+"[1]",D[1],"string expected, "+ve+" found"));break;case"within":ve=ui(D[1]),D.length!==2?Te.push(new wr(V,D,'filter array for "'+D[0]+'" operator must have 2 elements')):ve!=="object"&&Te.push(new wr(V+"[1]",D[1],"object expected, "+ve+" found"));break}return Te}function dc(R,D){var V=R.key,ne=R.style,ve=R.styleSpec,Te=R.value,De=R.objectKey,Ke=ve[D+"_"+R.layerType];if(!Ke)return[];var ut=De.match(/^(.*)-transition$/);if(D==="paint"&&ut&&Ke[ut[1]]&&Ke[ut[1]].transition)return ar({key:V,value:Te,valueSpec:ve.transition,style:ne,styleSpec:ve});var Tt=R.valueSpec||Ke[De];if(!Tt)return[new wr(V,Te,'unknown property "'+De+'"')];var St;if(ui(Te)==="string"&&Is(Tt)&&!Tt.tokens&&(St=/^{([^}]+)}$/.exec(Te)))return[new wr(V,Te,'"'+De+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(St[1])+" }`.")];var Gt=[];return R.layerType==="symbol"&&(De==="text-field"&&ne&&!ne.glyphs&&Gt.push(new wr(V,Te,'use of "text-field" requires a style "glyphs" property')),De==="text-font"&&dl(Dn(Te))&&cn(Te.type)==="identity"&&Gt.push(new wr(V,Te,'"text-font" does not support identity functions'))),Gt.concat(ar({key:R.key,value:Te,valueSpec:Tt,style:ne,styleSpec:ve,expressionContext:"property",propertyType:D,propertyKey:De}))}function gu(R){return dc(R,"paint")}function pc(R){return dc(R,"layout")}function Xe(R){var D=[],V=R.value,ne=R.key,ve=R.style,Te=R.styleSpec;!V.type&&!V.ref&&D.push(new wr(ne,V,'either "type" or "ref" is required'));var De=cn(V.type),Ke=cn(V.ref);if(V.id)for(var ut=cn(V.id),Tt=0;Tt<R.arrayIndex;Tt++){var St=ve.layers[Tt];cn(St.id)===ut&&D.push(new wr(ne,V.id,'duplicate layer id "'+V.id+'", previously used at line '+St.id.__line__))}if("ref"in V){["type","source","source-layer","filter","layout"].forEach(function(br){br in V&&D.push(new wr(ne,V[br],'"'+br+'" is prohibited for ref layers'))});var Gt;ve.layers.forEach(function(br){cn(br.id)===Ke&&(Gt=br)}),Gt?Gt.ref?D.push(new wr(ne,V.ref,"ref cannot reference another ref layer")):De=cn(Gt.type):D.push(new wr(ne,V.ref,'ref layer "'+Ke+'" not found'))}else if(De!=="background")if(!V.source)D.push(new wr(ne,V,'missing required property "source"'));else{var ir=ve.sources&&ve.sources[V.source],$t=ir&&cn(ir.type);ir?$t==="vector"&&De==="raster"?D.push(new wr(ne,V.source,'layer "'+V.id+'" requires a raster source')):$t==="raster"&&De!=="raster"?D.push(new wr(ne,V.source,'layer "'+V.id+'" requires a vector source')):$t==="vector"&&!V["source-layer"]?D.push(new wr(ne,V,'layer "'+V.id+'" must specify a "source-layer"')):$t==="raster-dem"&&De!=="hillshade"?D.push(new wr(ne,V.source,"raster-dem source can only be used with layer type 'hillshade'.")):De==="line"&&V.paint&&V.paint["line-gradient"]&&($t!=="geojson"||!ir.lineMetrics)&&D.push(new wr(ne,V,'layer "'+V.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):D.push(new wr(ne,V.source,'source "'+V.source+'" not found'))}return D=D.concat(qo({key:ne,value:V,valueSpec:Te.layer,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return ar({key:ne+".type",value:V.type,valueSpec:Te.layer.type,style:R.style,styleSpec:R.styleSpec,object:V,objectKey:"type"})},filter:ju,layout:function(Or){return qo({layer:V,key:Or.key,value:Or.value,style:Or.style,styleSpec:Or.styleSpec,objectElementValidators:{"*":function($r){return pc(un({layerType:De},$r))}}})},paint:function(Or){return qo({layer:V,key:Or.key,value:Or.value,style:Or.style,styleSpec:Or.styleSpec,objectElementValidators:{"*":function($r){return gu(un({layerType:De},$r))}}})}}})),D}function nt(R){var D=R.value,V=R.key,ne=ui(D);return ne!=="string"?[new wr(V,D,"string expected, "+ne+" found")]:[]}var ct={promoteId:Ft};function mt(R){var D=R.value,V=R.key,ne=R.styleSpec,ve=R.style;if(!D.type)return[new wr(V,D,'"type" is required')];var Te=cn(D.type),De;switch(Te){case"vector":case"raster":case"raster-dem":return De=qo({key:V,value:D,valueSpec:ne["source_"+Te.replace("-","_")],style:R.style,styleSpec:ne,objectElementValidators:ct}),De;case"geojson":if(De=qo({key:V,value:D,valueSpec:ne.source_geojson,style:ve,styleSpec:ne,objectElementValidators:ct}),D.cluster)for(var Ke in D.clusterProperties){var ut=D.clusterProperties[Ke],Tt=ut[0],St=ut[1],Gt=typeof Tt=="string"?[Tt,["accumulated"],["get",Ke]]:Tt;De.push.apply(De,Fs({key:V+"."+Ke+".map",value:St,expressionContext:"cluster-map"})),De.push.apply(De,Fs({key:V+"."+Ke+".reduce",value:Gt,expressionContext:"cluster-reduce"}))}return De;case"video":return qo({key:V,value:D,valueSpec:ne.source_video,style:ve,styleSpec:ne});case"image":return qo({key:V,value:D,valueSpec:ne.source_image,style:ve,styleSpec:ne});case"canvas":return[new wr(V,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Wu({key:V+".type",value:D.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:ve,styleSpec:ne})}}function Ft(R){var D=R.key,V=R.value;if(ui(V)==="string")return nt({key:D,value:V});var ne=[];for(var ve in V)ne.push.apply(ne,nt({key:D+"."+ve,value:V[ve]}));return ne}function Lt(R){var D=R.value,V=R.styleSpec,ne=V.light,ve=R.style,Te=[],De=ui(D);if(D===void 0)return Te;if(De!=="object")return Te=Te.concat([new wr("light",D,"object expected, "+De+" found")]),Te;for(var Ke in D){var ut=Ke.match(/^(.*)-transition$/);ut&&ne[ut[1]]&&ne[ut[1]].transition?Te=Te.concat(ar({key:Ke,value:D[Ke],valueSpec:V.transition,style:ve,styleSpec:V})):ne[Ke]?Te=Te.concat(ar({key:Ke,value:D[Ke],valueSpec:ne[Ke],style:ve,styleSpec:V})):Te=Te.concat([new wr(Ke,D[Ke],'unknown property "'+Ke+'"')])}return Te}function Ot(R){return nt(R).length===0?[]:Fs(R)}function cr(R){return nt(R).length===0?[]:Fs(R)}var yr={"*":function(){return[]},array:Cf,boolean:yh,number:Js,color:Lf,constants:en,enum:Wu,filter:ju,function:hu,layer:Xe,object:qo,source:mt,light:Lt,string:nt,formatted:Ot,resolvedImage:cr};function ar(R){var D=R.value,V=R.valueSpec,ne=R.styleSpec;if(V.expression&&dl(cn(D)))return hu(R);if(V.expression&&Ks(Dn(D)))return Fs(R);if(V.type&&yr[V.type])return yr[V.type](R);var ve=qo(un({},R,{valueSpec:V.type?ne[V.type]:V}));return ve}function Ar(R){var D=R.value,V=R.key,ne=nt(R);return ne.length||(D.indexOf("{fontstack}")===-1&&ne.push(new wr(V,D,'"glyphs" url must include a "{fontstack}" token')),D.indexOf("{range}")===-1&&ne.push(new wr(V,D,'"glyphs" url must include a "{range}" token'))),ne}function Rr(R,D){D===void 0&&(D=jt);var V=[];return V=V.concat(ar({key:"",value:R,valueSpec:D.$root,styleSpec:D,style:R,objectElementValidators:{glyphs:Ar,"*":function(){return[]}}})),R.constants&&(V=V.concat(en({key:"constants",value:R.constants,style:R,styleSpec:D}))),Yr(V)}Rr.source=Jr(mt),Rr.light=Jr(Lt),Rr.layer=Jr(Xe),Rr.filter=Jr(ju),Rr.paintProperty=Jr(gu),Rr.layoutProperty=Jr(pc);function Yr(R){return[].concat(R).sort(function(D,V){return D.line-V.line})}function Jr(R){return function(){for(var D=[],V=arguments.length;V--;)D[V]=arguments[V];return Yr(R.apply(this,D))}}var bn=Rr,An=bn.light,In=bn.paintProperty,va=bn.layoutProperty;function La(R,D){var V=!1;if(D&&D.length)for(var ne=0,ve=D;ne<ve.length;ne+=1){var Te=ve[ne];R.fire(new tr(new Error(Te.message))),V=!0}return V}var Ra=ka,Da=3;function ka(R,D,V){var ne=this.cells=[];if(R instanceof ArrayBuffer){this.arrayBuffer=R;var ve=new Int32Array(this.arrayBuffer);R=ve[0],D=ve[1],V=ve[2],this.d=D+2*V;for(var Te=0;Te<this.d*this.d;Te++){var De=ve[Da+Te],Ke=ve[Da+Te+1];ne.push(De===Ke?null:ve.subarray(De,Ke))}var ut=ve[Da+ne.length],Tt=ve[Da+ne.length+1];this.keys=ve.subarray(ut,Tt),this.bboxes=ve.subarray(Tt),this.insert=this._insertReadonly}else{this.d=D+2*V;for(var St=0;St<this.d*this.d;St++)ne.push([]);this.keys=[],this.bboxes=[]}this.n=D,this.extent=R,this.padding=V,this.scale=D/R,this.uid=0;var Gt=V/D*R;this.min=-Gt,this.max=R+Gt}ka.prototype.insert=function(R,D,V,ne,ve){this._forEachCell(D,V,ne,ve,this._insertCell,this.uid++),this.keys.push(R),this.bboxes.push(D),this.bboxes.push(V),this.bboxes.push(ne),this.bboxes.push(ve)},ka.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},ka.prototype._insertCell=function(R,D,V,ne,ve,Te){this.cells[ve].push(Te)},ka.prototype.query=function(R,D,V,ne,ve){var Te=this.min,De=this.max;if(R<=Te&&D<=Te&&De<=V&&De<=ne&&!ve)return Array.prototype.slice.call(this.keys);var Ke=[],ut={};return this._forEachCell(R,D,V,ne,this._queryCell,Ke,ut,ve),Ke},ka.prototype._queryCell=function(R,D,V,ne,ve,Te,De,Ke){var ut=this.cells[ve];if(ut!==null)for(var Tt=this.keys,St=this.bboxes,Gt=0;Gt<ut.length;Gt++){var ir=ut[Gt];if(De[ir]===void 0){var $t=ir*4;(Ke?Ke(St[$t+0],St[$t+1],St[$t+2],St[$t+3]):R<=St[$t+2]&&D<=St[$t+3]&&V>=St[$t+0]&&ne>=St[$t+1])?(De[ir]=!0,Te.push(Tt[ir])):De[ir]=!1}}},ka.prototype._forEachCell=function(R,D,V,ne,ve,Te,De,Ke){for(var ut=this._convertToCellCoord(R),Tt=this._convertToCellCoord(D),St=this._convertToCellCoord(V),Gt=this._convertToCellCoord(ne),ir=ut;ir<=St;ir++)for(var $t=Tt;$t<=Gt;$t++){var br=this.d*$t+ir;if(!(Ke&&!Ke(this._convertFromCellCoord(ir),this._convertFromCellCoord($t),this._convertFromCellCoord(ir+1),this._convertFromCellCoord($t+1)))&&ve.call(this,R,D,V,ne,br,Te,De,Ke))return}},ka.prototype._convertFromCellCoord=function(R){return(R-this.padding)/this.scale},ka.prototype._convertToCellCoord=function(R){return Math.max(0,Math.min(this.d-1,Math.floor(R*this.scale)+this.padding))},ka.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var R=this.cells,D=Da+this.cells.length+1+1,V=0,ne=0;ne<this.cells.length;ne++)V+=this.cells[ne].length;var ve=new Int32Array(D+V+this.keys.length+this.bboxes.length);ve[0]=this.extent,ve[1]=this.n,ve[2]=this.padding;for(var Te=D,De=0;De<R.length;De++){var Ke=R[De];ve[Da+De]=Te,ve.set(Ke,Te),Te+=Ke.length}return ve[Da+R.length]=Te,ve.set(this.keys,Te),Te+=this.keys.length,ve[Da+R.length+1]=Te,ve.set(this.bboxes,Te),Te+=this.bboxes.length,ve.buffer};var ii=self.ImageData,Di=self.ImageBitmap,gi={};function ue(R,D,V){V===void 0&&(V={}),Object.defineProperty(D,"_classRegistryKey",{value:R,writeable:!1}),gi[R]={klass:D,omit:V.omit||[],shallow:V.shallow||[]}}ue("Object",Object),Ra.serialize=function(D,V){var ne=D.toArrayBuffer();return V&&V.push(ne),{buffer:ne}},Ra.deserialize=function(D){return new Ra(D.buffer)},ue("Grid",Ra),ue("Color",ei),ue("Error",Error),ue("ResolvedImage",So),ue("StylePropertyFunction",ml),ue("StyleExpression",ks,{omit:["_evaluator"]}),ue("ZoomDependentExpression",Lo),ue("ZoomConstantExpression",yl),ue("CompoundExpression",to,{omit:["_evaluate"]});for(var Le in vs)vs[Le]._classRegistryKey||ue("Expression_"+Le,vs[Le]);function Ue(R){return R&&typeof ArrayBuffer<"u"&&(R instanceof ArrayBuffer||R.constructor&&R.constructor.name==="ArrayBuffer")}function $e(R){return Di&&R instanceof Di}function rt(R,D){if(R==null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp)return R;if(Ue(R)||$e(R))return D&&D.push(R),R;if(ArrayBuffer.isView(R)){var V=R;return D&&D.push(V.buffer),V}if(R instanceof ii)return D&&D.push(R.data.buffer),R;if(Array.isArray(R)){for(var ne=[],ve=0,Te=R;ve<Te.length;ve+=1){var De=Te[ve];ne.push(rt(De,D))}return ne}if(typeof R=="object"){var Ke=R.constructor,ut=Ke._classRegistryKey;if(!ut)throw new Error("can't serialize object of unregistered class");var Tt=Ke.serialize?Ke.serialize(R,D):{};if(!Ke.serialize){for(var St in R)if(R.hasOwnProperty(St)&&!(gi[ut].omit.indexOf(St)>=0)){var Gt=R[St];Tt[St]=gi[ut].shallow.indexOf(St)>=0?Gt:rt(Gt,D)}R instanceof Error&&(Tt.message=R.message)}if(Tt.$name)throw new Error("$name property is reserved for worker serialization logic.");return ut!=="Object"&&(Tt.$name=ut),Tt}throw new Error("can't serialize object of type "+typeof R)}function ot(R){if(R==null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp||Ue(R)||$e(R)||ArrayBuffer.isView(R)||R instanceof ii)return R;if(Array.isArray(R))return R.map(ot);if(typeof R=="object"){var D=R.$name||"Object",V=gi[D],ne=V.klass;if(!ne)throw new Error("can't deserialize unregistered class "+D);if(ne.deserialize)return ne.deserialize(R);for(var ve=Object.create(ne.prototype),Te=0,De=Object.keys(R);Te<De.length;Te+=1){var Ke=De[Te];if(Ke!=="$name"){var ut=R[Ke];ve[Ke]=gi[D].shallow.indexOf(Ke)>=0?ut:ot(ut)}}return ve}throw new Error("can't deserialize object of type "+typeof R)}var Pt=function(){this.first=!0};Pt.prototype.update=function(D,V){var ne=Math.floor(D);return this.first?(this.first=!1,this.lastIntegerZoom=ne,this.lastIntegerZoomTime=0,this.lastZoom=D,this.lastFloorZoom=ne,!0):(this.lastFloorZoom>ne?(this.lastIntegerZoom=ne+1,this.lastIntegerZoomTime=V):this.lastFloorZoom<ne&&(this.lastIntegerZoom=ne,this.lastIntegerZoomTime=V),D!==this.lastZoom?(this.lastZoom=D,this.lastFloorZoom=ne,!0):!1)};var ft={"Latin-1 Supplement":function(R){return R>=128&&R<=255},Arabic:function(R){return R>=1536&&R<=1791},"Arabic Supplement":function(R){return R>=1872&&R<=1919},"Arabic Extended-A":function(R){return R>=2208&&R<=2303},"Hangul Jamo":function(R){return R>=4352&&R<=4607},"Unified Canadian Aboriginal Syllabics":function(R){return R>=5120&&R<=5759},Khmer:function(R){return R>=6016&&R<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(R){return R>=6320&&R<=6399},"General Punctuation":function(R){return R>=8192&&R<=8303},"Letterlike Symbols":function(R){return R>=8448&&R<=8527},"Number Forms":function(R){return R>=8528&&R<=8591},"Miscellaneous Technical":function(R){return R>=8960&&R<=9215},"Control Pictures":function(R){return R>=9216&&R<=9279},"Optical Character Recognition":function(R){return R>=9280&&R<=9311},"Enclosed Alphanumerics":function(R){return R>=9312&&R<=9471},"Geometric Shapes":function(R){return R>=9632&&R<=9727},"Miscellaneous Symbols":function(R){return R>=9728&&R<=9983},"Miscellaneous Symbols and Arrows":function(R){return R>=11008&&R<=11263},"CJK Radicals Supplement":function(R){return R>=11904&&R<=12031},"Kangxi Radicals":function(R){return R>=12032&&R<=12255},"Ideographic Description Characters":function(R){return R>=12272&&R<=12287},"CJK Symbols and Punctuation":function(R){return R>=12288&&R<=12351},Hiragana:function(R){return R>=12352&&R<=12447},Katakana:function(R){return R>=12448&&R<=12543},Bopomofo:function(R){return R>=12544&&R<=12591},"Hangul Compatibility Jamo":function(R){return R>=12592&&R<=12687},Kanbun:function(R){return R>=12688&&R<=12703},"Bopomofo Extended":function(R){return R>=12704&&R<=12735},"CJK Strokes":function(R){return R>=12736&&R<=12783},"Katakana Phonetic Extensions":function(R){return R>=12784&&R<=12799},"Enclosed CJK Letters and Months":function(R){return R>=12800&&R<=13055},"CJK Compatibility":function(R){return R>=13056&&R<=13311},"CJK Unified Ideographs Extension A":function(R){return R>=13312&&R<=19903},"Yijing Hexagram Symbols":function(R){return R>=19904&&R<=19967},"CJK Unified Ideographs":function(R){return R>=19968&&R<=40959},"Yi Syllables":function(R){return R>=40960&&R<=42127},"Yi Radicals":function(R){return R>=42128&&R<=42191},"Hangul Jamo Extended-A":function(R){return R>=43360&&R<=43391},"Hangul Syllables":function(R){return R>=44032&&R<=55215},"Hangul Jamo Extended-B":function(R){return R>=55216&&R<=55295},"Private Use Area":function(R){return R>=57344&&R<=63743},"CJK Compatibility Ideographs":function(R){return R>=63744&&R<=64255},"Arabic Presentation Forms-A":function(R){return R>=64336&&R<=65023},"Vertical Forms":function(R){return R>=65040&&R<=65055},"CJK Compatibility Forms":function(R){return R>=65072&&R<=65103},"Small Form Variants":function(R){return R>=65104&&R<=65135},"Arabic Presentation Forms-B":function(R){return R>=65136&&R<=65279},"Halfwidth and Fullwidth Forms":function(R){return R>=65280&&R<=65519}};function Ht(R){for(var D=0,V=R;D<V.length;D+=1){var ne=V[D];if(Cr(ne.charCodeAt(0)))return!0}return!1}function er(R){for(var D=0,V=R;D<V.length;D+=1){var ne=V[D];if(!nr(ne.charCodeAt(0)))return!1}return!0}function nr(R){return!(ft.Arabic(R)||ft["Arabic Supplement"](R)||ft["Arabic Extended-A"](R)||ft["Arabic Presentation Forms-A"](R)||ft["Arabic Presentation Forms-B"](R))}function Pr(R){return R<11904?!1:!!(ft["Bopomofo Extended"](R)||ft.Bopomofo(R)||ft["CJK Compatibility Forms"](R)||ft["CJK Compatibility Ideographs"](R)||ft["CJK Compatibility"](R)||ft["CJK Radicals Supplement"](R)||ft["CJK Strokes"](R)||ft["CJK Symbols and Punctuation"](R)||ft["CJK Unified Ideographs Extension A"](R)||ft["CJK Unified Ideographs"](R)||ft["Enclosed CJK Letters and Months"](R)||ft["Halfwidth and Fullwidth Forms"](R)||ft.Hiragana(R)||ft["Ideographic Description Characters"](R)||ft["Kangxi Radicals"](R)||ft["Katakana Phonetic Extensions"](R)||ft.Katakana(R)||ft["Vertical Forms"](R)||ft["Yi Radicals"](R)||ft["Yi Syllables"](R))}function Cr(R){return R===746||R===747?!0:R<4352?!1:!!(ft["Bopomofo Extended"](R)||ft.Bopomofo(R)||ft["CJK Compatibility Forms"](R)&&!(R>=65097&&R<=65103)||ft["CJK Compatibility Ideographs"](R)||ft["CJK Compatibility"](R)||ft["CJK Radicals Supplement"](R)||ft["CJK Strokes"](R)||ft["CJK Symbols and Punctuation"](R)&&!(R>=12296&&R<=12305)&&!(R>=12308&&R<=12319)&&R!==12336||ft["CJK Unified Ideographs Extension A"](R)||ft["CJK Unified Ideographs"](R)||ft["Enclosed CJK Letters and Months"](R)||ft["Hangul Compatibility Jamo"](R)||ft["Hangul Jamo Extended-A"](R)||ft["Hangul Jamo Extended-B"](R)||ft["Hangul Jamo"](R)||ft["Hangul Syllables"](R)||ft.Hiragana(R)||ft["Ideographic Description Characters"](R)||ft.Kanbun(R)||ft["Kangxi Radicals"](R)||ft["Katakana Phonetic Extensions"](R)||ft.Katakana(R)&&R!==12540||ft["Halfwidth and Fullwidth Forms"](R)&&R!==65288&&R!==65289&&R!==65293&&!(R>=65306&&R<=65310)&&R!==65339&&R!==65341&&R!==65343&&!(R>=65371&&R<=65503)&&R!==65507&&!(R>=65512&&R<=65519)||ft["Small Form Variants"](R)&&!(R>=65112&&R<=65118)&&!(R>=65123&&R<=65126)||ft["Unified Canadian Aboriginal Syllabics"](R)||ft["Unified Canadian Aboriginal Syllabics Extended"](R)||ft["Vertical Forms"](R)||ft["Yijing Hexagram Symbols"](R)||ft["Yi Syllables"](R)||ft["Yi Radicals"](R))}function Xr(R){return!!(ft["Latin-1 Supplement"](R)&&(R===167||R===169||R===174||R===177||R===188||R===189||R===190||R===215||R===247)||ft["General Punctuation"](R)&&(R===8214||R===8224||R===8225||R===8240||R===8241||R===8251||R===8252||R===8258||R===8263||R===8264||R===8265||R===8273)||ft["Letterlike Symbols"](R)||ft["Number Forms"](R)||ft["Miscellaneous Technical"](R)&&(R>=8960&&R<=8967||R>=8972&&R<=8991||R>=8996&&R<=9e3||R===9003||R>=9085&&R<=9114||R>=9150&&R<=9165||R===9167||R>=9169&&R<=9179||R>=9186&&R<=9215)||ft["Control Pictures"](R)&&R!==9251||ft["Optical Character Recognition"](R)||ft["Enclosed Alphanumerics"](R)||ft["Geometric Shapes"](R)||ft["Miscellaneous Symbols"](R)&&!(R>=9754&&R<=9759)||ft["Miscellaneous Symbols and Arrows"](R)&&(R>=11026&&R<=11055||R>=11088&&R<=11097||R>=11192&&R<=11243)||ft["CJK Symbols and Punctuation"](R)||ft.Katakana(R)||ft["Private Use Area"](R)||ft["CJK Compatibility Forms"](R)||ft["Small Form Variants"](R)||ft["Halfwidth and Fullwidth Forms"](R)||R===8734||R===8756||R===8757||R>=9984&&R<=10087||R>=10102&&R<=10131||R===65532||R===65533)}function rn(R){return!(Cr(R)||Xr(R))}function Ir(R){return ft.Arabic(R)||ft["Arabic Supplement"](R)||ft["Arabic Extended-A"](R)||ft["Arabic Presentation Forms-A"](R)||ft["Arabic Presentation Forms-B"](R)}function Nr(R){return R>=1424&&R<=2303||ft["Arabic Presentation Forms-A"](R)||ft["Arabic Presentation Forms-B"](R)}function jr(R,D){return!(!D&&Nr(R)||R>=2304&&R<=3583||R>=3840&&R<=4255||ft.Khmer(R))}function an(R){for(var D=0,V=R;D<V.length;D+=1){var ne=V[D];if(Nr(ne.charCodeAt(0)))return!0}return!1}function hn(R,D){for(var V=0,ne=R;V<ne.length;V+=1){var ve=ne[V];if(!jr(ve.charCodeAt(0),D))return!1}return!0}var Zr={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},Un=null,Yn=Zr.unavailable,qn=null,oa=function(R){R&&typeof R=="string"&&R.indexOf("NetworkError")>-1&&(Yn=Zr.error),Un&&Un(R)};function wa(){ba.fire(new Yt("pluginStateChange",{pluginStatus:Yn,pluginURL:qn}))}var ba=new or,Ua=function(){return Yn},Ca=function(R){return R({pluginStatus:Yn,pluginURL:qn}),ba.on("pluginStateChange",R),R},Oa=function(R,D,V){if(V===void 0&&(V=!1),Yn===Zr.deferred||Yn===Zr.loading||Yn===Zr.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");qn=se.resolveURL(R),Yn=Zr.deferred,Un=D,wa(),V||Qa()},Qa=function(){if(Yn!==Zr.deferred||!qn)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Yn=Zr.loading,wa(),qn&&Mt({url:qn},function(R){R?oa(R):(Yn=Zr.loaded,wa())})},ti={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Yn===Zr.loaded||ti.applyArabicShaping!=null},isLoading:function(){return Yn===Zr.loading},setState:function(D){Yn=D.pluginStatus,qn=D.pluginURL},isParsed:function(){return ti.applyArabicShaping!=null&&ti.processBidirectionalText!=null&&ti.processStyledBidirectionalText!=null},getPluginURL:function(){return qn}},fi=function(){!ti.isLoading()&&!ti.isLoaded()&&Ua()==="deferred"&&Qa()},Vn=function(D,V){this.zoom=D,V?(this.now=V.now,this.fadeDuration=V.fadeDuration,this.zoomHistory=V.zoomHistory,this.transition=V.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Pt,this.transition={})};Vn.prototype.isSupportedScript=function(D){return hn(D,ti.isLoaded())},Vn.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Vn.prototype.getCrossfadeParameters=function(){var D=this.zoom,V=D-Math.floor(D),ne=this.crossFadingFactor();return D>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:V+(1-V)*ne}:{fromScale:.5,toScale:1,t:1-(1-ne)*V}};var Na=function(D,V){this.property=D,this.value=V,this.expression=fc(V===void 0?D.specification.default:V,D.specification)};Na.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Na.prototype.possiblyEvaluate=function(D,V,ne){return this.property.possiblyEvaluate(this,D,V,ne)};var _a=function(D){this.property=D,this.value=new Na(D,void 0)};_a.prototype.transitioned=function(D,V){return new Si(this.property,this.value,V,o({},D.transition,this.transition),D.now)},_a.prototype.untransitioned=function(){return new Si(this.property,this.value,null,{},0)};var ja=function(D){this._properties=D,this._values=Object.create(D.defaultTransitionablePropertyValues)};ja.prototype.getValue=function(D){return y(this._values[D].value.value)},ja.prototype.setValue=function(D,V){this._values.hasOwnProperty(D)||(this._values[D]=new _a(this._values[D].property)),this._values[D].value=new Na(this._values[D].property,V===null?void 0:y(V))},ja.prototype.getTransition=function(D){return y(this._values[D].transition)},ja.prototype.setTransition=function(D,V){this._values.hasOwnProperty(D)||(this._values[D]=new _a(this._values[D].property)),this._values[D].transition=y(V)||void 0},ja.prototype.serialize=function(){for(var D={},V=0,ne=Object.keys(this._values);V<ne.length;V+=1){var ve=ne[V],Te=this.getValue(ve);Te!==void 0&&(D[ve]=Te);var De=this.getTransition(ve);De!==void 0&&(D[ve+"-transition"]=De)}return D},ja.prototype.transitioned=function(D,V){for(var ne=new zi(this._properties),ve=0,Te=Object.keys(this._values);ve<Te.length;ve+=1){var De=Te[ve];ne._values[De]=this._values[De].transitioned(D,V._values[De])}return ne},ja.prototype.untransitioned=function(){for(var D=new zi(this._properties),V=0,ne=Object.keys(this._values);V<ne.length;V+=1){var ve=ne[V];D._values[ve]=this._values[ve].untransitioned()}return D};var Si=function(D,V,ne,ve,Te){this.property=D,this.value=V,this.begin=Te+ve.delay||0,this.end=this.begin+ve.duration||0,D.specification.transition&&(ve.delay||ve.duration)&&(this.prior=ne)};Si.prototype.possiblyEvaluate=function(D,V,ne){var ve=D.now||0,Te=this.value.possiblyEvaluate(D,V,ne),De=this.prior;if(De){if(ve>this.end)return this.prior=null,Te;if(this.value.isDataDriven())return this.prior=null,Te;if(ve<this.begin)return De.possiblyEvaluate(D,V,ne);var Ke=(ve-this.begin)/(this.end-this.begin);return this.property.interpolate(De.possiblyEvaluate(D,V,ne),Te,n(Ke))}else return Te};var zi=function(D){this._properties=D,this._values=Object.create(D.defaultTransitioningPropertyValues)};zi.prototype.possiblyEvaluate=function(D,V,ne){for(var ve=new hi(this._properties),Te=0,De=Object.keys(this._values);Te<De.length;Te+=1){var Ke=De[Te];ve._values[Ke]=this._values[Ke].possiblyEvaluate(D,V,ne)}return ve},zi.prototype.hasTransition=function(){for(var D=0,V=Object.keys(this._values);D<V.length;D+=1){var ne=V[D];if(this._values[ne].prior)return!0}return!1};var Ui=function(D){this._properties=D,this._values=Object.create(D.defaultPropertyValues)};Ui.prototype.getValue=function(D){return y(this._values[D].value)},Ui.prototype.setValue=function(D,V){this._values[D]=new Na(this._values[D].property,V===null?void 0:y(V))},Ui.prototype.serialize=function(){for(var D={},V=0,ne=Object.keys(this._values);V<ne.length;V+=1){var ve=ne[V],Te=this.getValue(ve);Te!==void 0&&(D[ve]=Te)}return D},Ui.prototype.possiblyEvaluate=function(D,V,ne){for(var ve=new hi(this._properties),Te=0,De=Object.keys(this._values);Te<De.length;Te+=1){var Ke=De[Te];ve._values[Ke]=this._values[Ke].possiblyEvaluate(D,V,ne)}return ve};var bi=function(D,V,ne){this.property=D,this.value=V,this.parameters=ne};bi.prototype.isConstant=function(){return this.value.kind==="constant"},bi.prototype.constantOr=function(D){return this.value.kind==="constant"?this.value.value:D},bi.prototype.evaluate=function(D,V,ne,ve){return this.property.evaluate(this.value,this.parameters,D,V,ne,ve)};var hi=function(D){this._properties=D,this._values=Object.create(D.defaultPossiblyEvaluatedValues)};hi.prototype.get=function(D){return this._values[D]};var ya=function(D){this.specification=D};ya.prototype.possiblyEvaluate=function(D,V){return D.expression.evaluate(V)},ya.prototype.interpolate=function(D,V,ne){var ve=kl[this.specification.type];return ve?ve(D,V,ne):D};var Sa=function(D,V){this.specification=D,this.overrides=V};Sa.prototype.possiblyEvaluate=function(D,V,ne,ve){return D.expression.kind==="constant"||D.expression.kind==="camera"?new bi(this,{kind:"constant",value:D.expression.evaluate(V,null,{},ne,ve)},V):new bi(this,D.expression,V)},Sa.prototype.interpolate=function(D,V,ne){if(D.value.kind!=="constant"||V.value.kind!=="constant")return D;if(D.value.value===void 0||V.value.value===void 0)return new bi(this,{kind:"constant",value:void 0},D.parameters);var ve=kl[this.specification.type];return ve?new bi(this,{kind:"constant",value:ve(D.value.value,V.value.value,ne)},D.parameters):D},Sa.prototype.evaluate=function(D,V,ne,ve,Te,De){return D.kind==="constant"?D.value:D.evaluate(V,ne,ve,Te,De)};var wi=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(ne,ve,Te,De){if(ne.value===void 0)return new bi(this,{kind:"constant",value:void 0},ve);if(ne.expression.kind==="constant"){var Ke=ne.expression.evaluate(ve,null,{},Te,De),ut=ne.property.specification.type==="resolvedImage",Tt=ut&&typeof Ke!="string"?Ke.name:Ke,St=this._calculate(Tt,Tt,Tt,ve);return new bi(this,{kind:"constant",value:St},ve)}else if(ne.expression.kind==="camera"){var Gt=this._calculate(ne.expression.evaluate({zoom:ve.zoom-1}),ne.expression.evaluate({zoom:ve.zoom}),ne.expression.evaluate({zoom:ve.zoom+1}),ve);return new bi(this,{kind:"constant",value:Gt},ve)}else return new bi(this,ne.expression,ve)},D.prototype.evaluate=function(ne,ve,Te,De,Ke,ut){if(ne.kind==="source"){var Tt=ne.evaluate(ve,Te,De,Ke,ut);return this._calculate(Tt,Tt,Tt,ve)}else return ne.kind==="composite"?this._calculate(ne.evaluate({zoom:Math.floor(ve.zoom)-1},Te,De),ne.evaluate({zoom:Math.floor(ve.zoom)},Te,De),ne.evaluate({zoom:Math.floor(ve.zoom)+1},Te,De),ve):ne.value},D.prototype._calculate=function(ne,ve,Te,De){var Ke=De.zoom;return Ke>De.zoomHistory.lastIntegerZoom?{from:ne,to:ve}:{from:Te,to:ve}},D.prototype.interpolate=function(ne){return ne},D}(Sa),Bi=function(D){this.specification=D};Bi.prototype.possiblyEvaluate=function(D,V,ne,ve){if(D.value!==void 0)if(D.expression.kind==="constant"){var Te=D.expression.evaluate(V,null,{},ne,ve);return this._calculate(Te,Te,Te,V)}else return this._calculate(D.expression.evaluate(new Vn(Math.floor(V.zoom-1),V)),D.expression.evaluate(new Vn(Math.floor(V.zoom),V)),D.expression.evaluate(new Vn(Math.floor(V.zoom+1),V)),V)},Bi.prototype._calculate=function(D,V,ne,ve){var Te=ve.zoom;return Te>ve.zoomHistory.lastIntegerZoom?{from:D,to:V}:{from:ne,to:V}},Bi.prototype.interpolate=function(D){return D};var _o=function(D){this.specification=D};_o.prototype.possiblyEvaluate=function(D,V,ne,ve){return!!D.expression.evaluate(V,null,{},ne,ve)},_o.prototype.interpolate=function(){return!1};var $i=function(D){this.properties=D,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var V in D){var ne=D[V];ne.specification.overridable&&this.overridableProperties.push(V);var ve=this.defaultPropertyValues[V]=new Na(ne,void 0),Te=this.defaultTransitionablePropertyValues[V]=new _a(ne);this.defaultTransitioningPropertyValues[V]=Te.untransitioned(),this.defaultPossiblyEvaluatedValues[V]=ve.possiblyEvaluate({})}};ue("DataDrivenProperty",Sa),ue("DataConstantProperty",ya),ue("CrossFadedDataDrivenProperty",wi),ue("CrossFadedProperty",Bi),ue("ColorRampProperty",_o);var xo="-transition",Ci=function(R){function D(V,ne){if(R.call(this),this.id=V.id,this.type=V.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},V.type!=="custom"&&(V=V,this.metadata=V.metadata,this.minzoom=V.minzoom,this.maxzoom=V.maxzoom,V.type!=="background"&&(this.source=V.source,this.sourceLayer=V["source-layer"],this.filter=V.filter),ne.layout&&(this._unevaluatedLayout=new Ui(ne.layout)),ne.paint)){this._transitionablePaint=new ja(ne.paint);for(var ve in V.paint)this.setPaintProperty(ve,V.paint[ve],{validate:!1});for(var Te in V.layout)this.setLayoutProperty(Te,V.layout[Te],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new hi(ne.paint)}}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},D.prototype.getLayoutProperty=function(ne){return ne==="visibility"?this.visibility:this._unevaluatedLayout.getValue(ne)},D.prototype.setLayoutProperty=function(ne,ve,Te){if(Te===void 0&&(Te={}),ve!=null){var De="layers."+this.id+".layout."+ne;if(this._validate(va,De,ne,ve,Te))return}if(ne==="visibility"){this.visibility=ve;return}this._unevaluatedLayout.setValue(ne,ve)},D.prototype.getPaintProperty=function(ne){return b(ne,xo)?this._transitionablePaint.getTransition(ne.slice(0,-xo.length)):this._transitionablePaint.getValue(ne)},D.prototype.setPaintProperty=function(ne,ve,Te){if(Te===void 0&&(Te={}),ve!=null){var De="layers."+this.id+".paint."+ne;if(this._validate(In,De,ne,ve,Te))return!1}if(b(ne,xo))return this._transitionablePaint.setTransition(ne.slice(0,-xo.length),ve||void 0),!1;var Ke=this._transitionablePaint._values[ne],ut=Ke.property.specification["property-type"]==="cross-faded-data-driven",Tt=Ke.value.isDataDriven(),St=Ke.value;this._transitionablePaint.setValue(ne,ve),this._handleSpecialPaintPropertyUpdate(ne);var Gt=this._transitionablePaint._values[ne].value,ir=Gt.isDataDriven();return ir||Tt||ut||this._handleOverridablePaintPropertyUpdate(ne,St,Gt)},D.prototype._handleSpecialPaintPropertyUpdate=function(ne){},D.prototype._handleOverridablePaintPropertyUpdate=function(ne,ve,Te){return!1},D.prototype.isHidden=function(ne){return this.minzoom&&ne<this.minzoom||this.maxzoom&&ne>=this.maxzoom?!0:this.visibility==="none"},D.prototype.updateTransitions=function(ne){this._transitioningPaint=this._transitionablePaint.transitioned(ne,this._transitioningPaint)},D.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},D.prototype.recalculate=function(ne,ve){ne.getCrossfadeParameters&&(this._crossfadeParameters=ne.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ne,void 0,ve)),this.paint=this._transitioningPaint.possiblyEvaluate(ne,void 0,ve)},D.prototype.serialize=function(){var ne={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ne.layout=ne.layout||{},ne.layout.visibility=this.visibility),C(ne,function(ve,Te){return ve!==void 0&&!(Te==="layout"&&!Object.keys(ve).length)&&!(Te==="paint"&&!Object.keys(ve).length)})},D.prototype._validate=function(ne,ve,Te,De,Ke){return Ke===void 0&&(Ke={}),Ke&&Ke.validate===!1?!1:La(this,ne.call(bn,{key:ve,layerType:this.type,objectKey:Te,value:De,styleSpec:jt,style:{glyphs:!0,sprite:!0}}))},D.prototype.is3D=function(){return!1},D.prototype.isTileClipped=function(){return!1},D.prototype.hasOffscreenPass=function(){return!1},D.prototype.resize=function(){},D.prototype.isStateDependent=function(){for(var ne in this.paint._values){var ve=this.paint.get(ne);if(!(!(ve instanceof bi)||!Is(ve.property.specification))&&(ve.value.kind==="source"||ve.value.kind==="composite")&&ve.value.isStateDependent)return!0}return!1},D}(or),Ho={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},yi=function(D,V){this._structArray=D,this._pos1=V*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},ps=128,Vo=5,Za=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};Za.serialize=function(D,V){return D._trim(),V&&(D.isTransferred=!0,V.push(D.arrayBuffer)),{length:D.length,arrayBuffer:D.arrayBuffer}},Za.deserialize=function(D){var V=Object.create(this.prototype);return V.arrayBuffer=D.arrayBuffer,V.length=D.length,V.capacity=D.arrayBuffer.byteLength/V.bytesPerElement,V._refreshViews(),V},Za.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Za.prototype.clear=function(){this.length=0},Za.prototype.resize=function(D){this.reserve(D),this.length=D},Za.prototype.reserve=function(D){if(D>this.capacity){this.capacity=Math.max(D,Math.floor(this.capacity*Vo),ps),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var V=this.uint8;this._refreshViews(),V&&this.uint8.set(V)}},Za.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function Ti(R,D){D===void 0&&(D=1);var V=0,ne=0,ve=R.map(function(De){var Ke=gc(De.type),ut=V=Df(V,Math.max(D,Ke)),Tt=De.components||1;return ne=Math.max(ne,Ke),V+=Ke*Tt,{name:De.name,type:De.type,components:Tt,offset:ut}}),Te=Df(V,Math.max(ne,D));return{members:ve,size:Te,alignment:D}}function gc(R){return Ho[R].BYTES_PER_ELEMENT}function Df(R,D){return Math.ceil(R/D)*D}var mh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve){var Te=this.length;return this.resize(Te+1),this.emplace(Te,ne,ve)},D.prototype.emplace=function(ne,ve,Te){var De=ne*2;return this.int16[De+0]=ve,this.int16[De+1]=Te,ne},D}(Za);mh.prototype.bytesPerElement=4,ue("StructArrayLayout2i4",mh);var Zu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,Te,De){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,ne,ve,Te,De)},D.prototype.emplace=function(ne,ve,Te,De,Ke){var ut=ne*4;return this.int16[ut+0]=ve,this.int16[ut+1]=Te,this.int16[ut+2]=De,this.int16[ut+3]=Ke,ne},D}(Za);Zu.prototype.bytesPerElement=8,ue("StructArrayLayout4i8",Zu);var yc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,Te,De,Ke,ut){var Tt=this.length;return this.resize(Tt+1),this.emplace(Tt,ne,ve,Te,De,Ke,ut)},D.prototype.emplace=function(ne,ve,Te,De,Ke,ut,Tt){var St=ne*6;return this.int16[St+0]=ve,this.int16[St+1]=Te,this.int16[St+2]=De,this.int16[St+3]=Ke,this.int16[St+4]=ut,this.int16[St+5]=Tt,ne},D}(Za);yc.prototype.bytesPerElement=12,ue("StructArrayLayout2i4i12",yc);var Zh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,Te,De,Ke,ut){var Tt=this.length;return this.resize(Tt+1),this.emplace(Tt,ne,ve,Te,De,Ke,ut)},D.prototype.emplace=function(ne,ve,Te,De,Ke,ut,Tt){var St=ne*4,Gt=ne*8;return this.int16[St+0]=ve,this.int16[St+1]=Te,this.uint8[Gt+4]=De,this.uint8[Gt+5]=Ke,this.uint8[Gt+6]=ut,this.uint8[Gt+7]=Tt,ne},D}(Za);Zh.prototype.bytesPerElement=8,ue("StructArrayLayout2i4ub8",Zh);var es=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,Te,De,Ke,ut,Tt,St,Gt,ir){var $t=this.length;return this.resize($t+1),this.emplace($t,ne,ve,Te,De,Ke,ut,Tt,St,Gt,ir)},D.prototype.emplace=function(ne,ve,Te,De,Ke,ut,Tt,St,Gt,ir,$t){var br=ne*9,Or=ne*18;return this.uint16[br+0]=ve,this.uint16[br+1]=Te,this.uint16[br+2]=De,this.uint16[br+3]=Ke,this.uint16[br+4]=ut,this.uint16[br+5]=Tt,this.uint16[br+6]=St,this.uint16[br+7]=Gt,this.uint8[Or+16]=ir,this.uint8[Or+17]=$t,ne},D}(Za);es.prototype.bytesPerElement=18,ue("StructArrayLayout8ui2ub18",es);var Xu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,Te,De,Ke,ut,Tt,St,Gt,ir,$t,br){var Or=this.length;return this.resize(Or+1),this.emplace(Or,ne,ve,Te,De,Ke,ut,Tt,St,Gt,ir,$t,br)},D.prototype.emplace=function(ne,ve,Te,De,Ke,ut,Tt,St,Gt,ir,$t,br,Or){var ln=ne*12;return this.int16[ln+0]=ve,this.int16[ln+1]=Te,this.int16[ln+2]=De,this.int16[ln+3]=Ke,this.uint16[ln+4]=ut,this.uint16[ln+5]=Tt,this.uint16[ln+6]=St,this.uint16[ln+7]=Gt,this.int16[ln+8]=ir,this.int16[ln+9]=$t,this.int16[ln+10]=br,this.int16[ln+11]=Or,ne},D}(Za);Xu.prototype.bytesPerElement=24,ue("StructArrayLayout4i4ui4i24",Xu);var td=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,Te){var De=this.length;return this.resize(De+1),this.emplace(De,ne,ve,Te)},D.prototype.emplace=function(ne,ve,Te,De){var Ke=ne*3;return this.float32[Ke+0]=ve,this.float32[Ke+1]=Te,this.float32[Ke+2]=De,ne},D}(Za);td.prototype.bytesPerElement=12,ue("StructArrayLayout3f12",td);var rd=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne){var ve=this.length;return this.resize(ve+1),this.emplace(ve,ne)},D.prototype.emplace=function(ne,ve){var Te=ne*1;return this.uint32[Te+0]=ve,ne},D}(Za);rd.prototype.bytesPerElement=4,ue("StructArrayLayout1ul4",rd);var xh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,Te,De,Ke,ut,Tt,St,Gt){var ir=this.length;return this.resize(ir+1),this.emplace(ir,ne,ve,Te,De,Ke,ut,Tt,St,Gt)},D.prototype.emplace=function(ne,ve,Te,De,Ke,ut,Tt,St,Gt,ir){var $t=ne*10,br=ne*5;return this.int16[$t+0]=ve,this.int16[$t+1]=Te,this.int16[$t+2]=De,this.int16[$t+3]=Ke,this.int16[$t+4]=ut,this.int16[$t+5]=Tt,this.uint32[br+3]=St,this.uint16[$t+8]=Gt,this.uint16[$t+9]=ir,ne},D}(Za);xh.prototype.bytesPerElement=20,ue("StructArrayLayout6i1ul2ui20",xh);var Xh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,Te,De,Ke,ut){var Tt=this.length;return this.resize(Tt+1),this.emplace(Tt,ne,ve,Te,De,Ke,ut)},D.prototype.emplace=function(ne,ve,Te,De,Ke,ut,Tt){var St=ne*6;return this.int16[St+0]=ve,this.int16[St+1]=Te,this.int16[St+2]=De,this.int16[St+3]=Ke,this.int16[St+4]=ut,this.int16[St+5]=Tt,ne},D}(Za);Xh.prototype.bytesPerElement=12,ue("StructArrayLayout2i2i2i12",Xh);var yu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,Te,De,Ke){var ut=this.length;return this.resize(ut+1),this.emplace(ut,ne,ve,Te,De,Ke)},D.prototype.emplace=function(ne,ve,Te,De,Ke,ut){var Tt=ne*4,St=ne*8;return this.float32[Tt+0]=ve,this.float32[Tt+1]=Te,this.float32[Tt+2]=De,this.int16[St+6]=Ke,this.int16[St+7]=ut,ne},D}(Za);yu.prototype.bytesPerElement=16,ue("StructArrayLayout2f1f2i16",yu);var gs=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,Te,De){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,ne,ve,Te,De)},D.prototype.emplace=function(ne,ve,Te,De,Ke){var ut=ne*12,Tt=ne*3;return this.uint8[ut+0]=ve,this.uint8[ut+1]=Te,this.float32[Tt+1]=De,this.float32[Tt+2]=Ke,ne},D}(Za);gs.prototype.bytesPerElement=12,ue("StructArrayLayout2ub2f12",gs);var mu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,Te){var De=this.length;return this.resize(De+1),this.emplace(De,ne,ve,Te)},D.prototype.emplace=function(ne,ve,Te,De){var Ke=ne*3;return this.uint16[Ke+0]=ve,this.uint16[Ke+1]=Te,this.uint16[Ke+2]=De,ne},D}(Za);mu.prototype.bytesPerElement=6,ue("StructArrayLayout3ui6",mu);var bh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,Te,De,Ke,ut,Tt,St,Gt,ir,$t,br,Or,ln,$r,Ln,wn){var Cn=this.length;return this.resize(Cn+1),this.emplace(Cn,ne,ve,Te,De,Ke,ut,Tt,St,Gt,ir,$t,br,Or,ln,$r,Ln,wn)},D.prototype.emplace=function(ne,ve,Te,De,Ke,ut,Tt,St,Gt,ir,$t,br,Or,ln,$r,Ln,wn,Cn){var kn=ne*24,Gn=ne*12,ra=ne*48;return this.int16[kn+0]=ve,this.int16[kn+1]=Te,this.uint16[kn+2]=De,this.uint16[kn+3]=Ke,this.uint32[Gn+2]=ut,this.uint32[Gn+3]=Tt,this.uint32[Gn+4]=St,this.uint16[kn+10]=Gt,this.uint16[kn+11]=ir,this.uint16[kn+12]=$t,this.float32[Gn+7]=br,this.float32[Gn+8]=Or,this.uint8[ra+36]=ln,this.uint8[ra+37]=$r,this.uint8[ra+38]=Ln,this.uint32[Gn+10]=wn,this.int16[kn+22]=Cn,ne},D}(Za);bh.prototype.bytesPerElement=48,ue("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",bh);var Kh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,Te,De,Ke,ut,Tt,St,Gt,ir,$t,br,Or,ln,$r,Ln,wn,Cn,kn,Gn,ra,ta,Ea,ha,ma,Ba,Aa,Ma){var Ya=this.length;return this.resize(Ya+1),this.emplace(Ya,ne,ve,Te,De,Ke,ut,Tt,St,Gt,ir,$t,br,Or,ln,$r,Ln,wn,Cn,kn,Gn,ra,ta,Ea,ha,ma,Ba,Aa,Ma)},D.prototype.emplace=function(ne,ve,Te,De,Ke,ut,Tt,St,Gt,ir,$t,br,Or,ln,$r,Ln,wn,Cn,kn,Gn,ra,ta,Ea,ha,ma,Ba,Aa,Ma,Ya){var za=ne*34,ri=ne*17;return this.int16[za+0]=ve,this.int16[za+1]=Te,this.int16[za+2]=De,this.int16[za+3]=Ke,this.int16[za+4]=ut,this.int16[za+5]=Tt,this.int16[za+6]=St,this.int16[za+7]=Gt,this.uint16[za+8]=ir,this.uint16[za+9]=$t,this.uint16[za+10]=br,this.uint16[za+11]=Or,this.uint16[za+12]=ln,this.uint16[za+13]=$r,this.uint16[za+14]=Ln,this.uint16[za+15]=wn,this.uint16[za+16]=Cn,this.uint16[za+17]=kn,this.uint16[za+18]=Gn,this.uint16[za+19]=ra,this.uint16[za+20]=ta,this.uint16[za+21]=Ea,this.uint16[za+22]=ha,this.uint32[ri+12]=ma,this.float32[ri+13]=Ba,this.float32[ri+14]=Aa,this.float32[ri+15]=Ma,this.float32[ri+16]=Ya,ne},D}(Za);Kh.prototype.bytesPerElement=68,ue("StructArrayLayout8i15ui1ul4f68",Kh);var mc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne){var ve=this.length;return this.resize(ve+1),this.emplace(ve,ne)},D.prototype.emplace=function(ne,ve){var Te=ne*1;return this.float32[Te+0]=ve,ne},D}(Za);mc.prototype.bytesPerElement=4,ue("StructArrayLayout1f4",mc);var nd=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,Te){var De=this.length;return this.resize(De+1),this.emplace(De,ne,ve,Te)},D.prototype.emplace=function(ne,ve,Te,De){var Ke=ne*3;return this.int16[Ke+0]=ve,this.int16[Ke+1]=Te,this.int16[Ke+2]=De,ne},D}(Za);nd.prototype.bytesPerElement=6,ue("StructArrayLayout3i6",nd);var Ku=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,Te){var De=this.length;return this.resize(De+1),this.emplace(De,ne,ve,Te)},D.prototype.emplace=function(ne,ve,Te,De){var Ke=ne*2,ut=ne*4;return this.uint32[Ke+0]=ve,this.uint16[ut+2]=Te,this.uint16[ut+3]=De,ne},D}(Za);Ku.prototype.bytesPerElement=8,ue("StructArrayLayout1ul2ui8",Ku);var wh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve){var Te=this.length;return this.resize(Te+1),this.emplace(Te,ne,ve)},D.prototype.emplace=function(ne,ve,Te){var De=ne*2;return this.uint16[De+0]=ve,this.uint16[De+1]=Te,ne},D}(Za);wh.prototype.bytesPerElement=4,ue("StructArrayLayout2ui4",wh);var xc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne){var ve=this.length;return this.resize(ve+1),this.emplace(ve,ne)},D.prototype.emplace=function(ne,ve){var Te=ne*1;return this.uint16[Te+0]=ve,ne},D}(Za);xc.prototype.bytesPerElement=2,ue("StructArrayLayout1ui2",xc);var Ju=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve){var Te=this.length;return this.resize(Te+1),this.emplace(Te,ne,ve)},D.prototype.emplace=function(ne,ve,Te){var De=ne*2;return this.float32[De+0]=ve,this.float32[De+1]=Te,ne},D}(Za);Ju.prototype.bytesPerElement=8,ue("StructArrayLayout2f8",Ju);var ad=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,Te,De){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,ne,ve,Te,De)},D.prototype.emplace=function(ne,ve,Te,De,Ke){var ut=ne*4;return this.float32[ut+0]=ve,this.float32[ut+1]=Te,this.float32[ut+2]=De,this.float32[ut+3]=Ke,ne},D}(Za);ad.prototype.bytesPerElement=16,ue("StructArrayLayout4f16",ad);var wp=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var V={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return V.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},V.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},V.x1.get=function(){return this._structArray.int16[this._pos2+2]},V.y1.get=function(){return this._structArray.int16[this._pos2+3]},V.x2.get=function(){return this._structArray.int16[this._pos2+4]},V.y2.get=function(){return this._structArray.int16[this._pos2+5]},V.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},V.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},V.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},V.anchorPoint.get=function(){return new t(this.anchorPointX,this.anchorPointY)},Object.defineProperties(D.prototype,V),D}(yi);wp.prototype.size=20;var Qu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ne){return new wp(this,ne)},D}(xh);ue("CollisionBoxArray",Qu);var id=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var V={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return V.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},V.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},V.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},V.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},V.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},V.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},V.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},V.segment.get=function(){return this._structArray.uint16[this._pos2+10]},V.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},V.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},V.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},V.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},V.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},V.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},V.placedOrientation.set=function(ne){this._structArray.uint8[this._pos1+37]=ne},V.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},V.hidden.set=function(ne){this._structArray.uint8[this._pos1+38]=ne},V.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},V.crossTileID.set=function(ne){this._structArray.uint32[this._pos4+10]=ne},V.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(D.prototype,V),D}(yi);id.prototype.size=48;var bc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ne){return new id(this,ne)},D}(bh);ue("PlacedSymbolArray",bc);var Tp=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var V={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return V.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},V.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},V.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},V.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},V.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},V.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},V.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},V.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},V.key.get=function(){return this._structArray.uint16[this._pos2+8]},V.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},V.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},V.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},V.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},V.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},V.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},V.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},V.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},V.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},V.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},V.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},V.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},V.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},V.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},V.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},V.crossTileID.set=function(ne){this._structArray.uint32[this._pos4+12]=ne},V.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},V.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},V.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},V.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(D.prototype,V),D}(yi);Tp.prototype.size=68;var Ap=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ne){return new Tp(this,ne)},D}(Kh);ue("SymbolInstanceArray",Ap);var bl=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getoffsetX=function(ne){return this.float32[ne*1+0]},D}(mc);ue("GlyphOffsetArray",bl);var Mp=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getx=function(ne){return this.int16[ne*3+0]},D.prototype.gety=function(ne){return this.int16[ne*3+1]},D.prototype.gettileUnitDistanceFromAnchor=function(ne){return this.int16[ne*3+2]},D}(nd);ue("SymbolLineVertexArray",Mp);var Sp=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var V={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return V.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},V.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},V.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(D.prototype,V),D}(yi);Sp.prototype.size=8;var od=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ne){return new Sp(this,ne)},D}(Ku);ue("FeatureIndexArray",od);var Ep=Ti([{name:"a_pos",components:2,type:"Int16"}],4),he=Ep.members,Z=function(D){D===void 0&&(D=[]),this.segments=D};Z.prototype.prepareSegment=function(D,V,ne,ve){var Te=this.segments[this.segments.length-1];return D>Z.MAX_VERTEX_ARRAY_LENGTH&&B("Max vertices per segment is "+Z.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+D),(!Te||Te.vertexLength+D>Z.MAX_VERTEX_ARRAY_LENGTH||Te.sortKey!==ve)&&(Te={vertexOffset:V.length,primitiveOffset:ne.length,vertexLength:0,primitiveLength:0},ve!==void 0&&(Te.sortKey=ve),this.segments.push(Te)),Te},Z.prototype.get=function(){return this.segments},Z.prototype.destroy=function(){for(var D=0,V=this.segments;D<V.length;D+=1){var ne=V[D];for(var ve in ne.vaos)ne.vaos[ve].destroy()}},Z.simpleSegment=function(D,V,ne,ve){return new Z([{vertexOffset:D,primitiveOffset:V,vertexLength:ne,primitiveLength:ve,vaos:{},sortKey:0}])},Z.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ue("SegmentVector",Z);function de(R,D){return R=u(Math.floor(R),0,255),D=u(Math.floor(D),0,255),256*R+D}var te=Ti([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint8"},{name:"a_pixel_ratio_to",components:1,type:"Uint8"}]),pe=L(function(R){function D(V,ne){var ve,Te,De,Ke,ut,Tt,St,Gt;for(ve=V.length&3,Te=V.length-ve,De=ne,ut=3432918353,Tt=461845907,Gt=0;Gt<Te;)St=V.charCodeAt(Gt)&255|(V.charCodeAt(++Gt)&255)<<8|(V.charCodeAt(++Gt)&255)<<16|(V.charCodeAt(++Gt)&255)<<24,++Gt,St=(St&65535)*ut+(((St>>>16)*ut&65535)<<16)&4294967295,St=St<<15|St>>>17,St=(St&65535)*Tt+(((St>>>16)*Tt&65535)<<16)&4294967295,De^=St,De=De<<13|De>>>19,Ke=(De&65535)*5+(((De>>>16)*5&65535)<<16)&4294967295,De=(Ke&65535)+27492+(((Ke>>>16)+58964&65535)<<16);switch(St=0,ve){case 3:St^=(V.charCodeAt(Gt+2)&255)<<16;case 2:St^=(V.charCodeAt(Gt+1)&255)<<8;case 1:St^=V.charCodeAt(Gt)&255,St=(St&65535)*ut+(((St>>>16)*ut&65535)<<16)&4294967295,St=St<<15|St>>>17,St=(St&65535)*Tt+(((St>>>16)*Tt&65535)<<16)&4294967295,De^=St}return De^=V.length,De^=De>>>16,De=(De&65535)*2246822507+(((De>>>16)*2246822507&65535)<<16)&4294967295,De^=De>>>13,De=(De&65535)*3266489909+(((De>>>16)*3266489909&65535)<<16)&4294967295,De^=De>>>16,De>>>0}R.exports=D}),_e=L(function(R){function D(V,ne){for(var ve=V.length,Te=ne^ve,De=0,Ke;ve>=4;)Ke=V.charCodeAt(De)&255|(V.charCodeAt(++De)&255)<<8|(V.charCodeAt(++De)&255)<<16|(V.charCodeAt(++De)&255)<<24,Ke=(Ke&65535)*1540483477+(((Ke>>>16)*1540483477&65535)<<16),Ke^=Ke>>>24,Ke=(Ke&65535)*1540483477+(((Ke>>>16)*1540483477&65535)<<16),Te=(Te&65535)*1540483477+(((Te>>>16)*1540483477&65535)<<16)^Ke,ve-=4,++De;switch(ve){case 3:Te^=(V.charCodeAt(De+2)&255)<<16;case 2:Te^=(V.charCodeAt(De+1)&255)<<8;case 1:Te^=V.charCodeAt(De)&255,Te=(Te&65535)*1540483477+(((Te>>>16)*1540483477&65535)<<16)}return Te^=Te>>>13,Te=(Te&65535)*1540483477+(((Te>>>16)*1540483477&65535)<<16),Te^=Te>>>15,Te>>>0}R.exports=D}),Ze=pe,lt=pe,wt=_e;Ze.murmur3=lt,Ze.murmur2=wt;var Ut=function(){this.ids=[],this.positions=[],this.indexed=!1};Ut.prototype.add=function(D,V,ne,ve){this.ids.push(fr(D)),this.positions.push(V,ne,ve)},Ut.prototype.getPositions=function(D){for(var V=fr(D),ne=0,ve=this.ids.length-1;ne<ve;){var Te=ne+ve>>1;this.ids[Te]>=V?ve=Te:ne=Te+1}for(var De=[];this.ids[ne]===V;){var Ke=this.positions[3*ne],ut=this.positions[3*ne+1],Tt=this.positions[3*ne+2];De.push({index:Ke,start:ut,end:Tt}),ne++}return De},Ut.serialize=function(D,V){var ne=new Float64Array(D.ids),ve=new Uint32Array(D.positions);return xr(ne,ve,0,ne.length-1),V&&V.push(ne.buffer,ve.buffer),{ids:ne,positions:ve}},Ut.deserialize=function(D){var V=new Ut;return V.ids=D.ids,V.positions=D.positions,V.indexed=!0,V};var Qt=Math.pow(2,53)-1;function fr(R){var D=+R;return!isNaN(D)&&D<=Qt?D:Ze(String(R))}function xr(R,D,V,ne){for(;V<ne;){for(var ve=R[V+ne>>1],Te=V-1,De=ne+1;;){do Te++;while(R[Te]<ve);do De--;while(R[De]>ve);if(Te>=De)break;_r(R,Te,De),_r(D,3*Te,3*De),_r(D,3*Te+1,3*De+1),_r(D,3*Te+2,3*De+2)}De-V<ne-De?(xr(R,D,V,De),V=De+1):(xr(R,D,De+1,ne),ne=De)}}function _r(R,D,V){var ne=R[D];R[D]=R[V],R[V]=ne}ue("FeaturePositionMap",Ut);var Vr=function(D,V){this.gl=D.gl,this.location=V},Wr=function(R){function D(V,ne){R.call(this,V,ne),this.current=0}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){this.current!==ne&&(this.current=ne,this.gl.uniform1i(this.location,ne))},D}(Vr),Ur=function(R){function D(V,ne){R.call(this,V,ne),this.current=0}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){this.current!==ne&&(this.current=ne,this.gl.uniform1f(this.location,ne))},D}(Vr),Qr=function(R){function D(V,ne){R.call(this,V,ne),this.current=[0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){(ne[0]!==this.current[0]||ne[1]!==this.current[1])&&(this.current=ne,this.gl.uniform2f(this.location,ne[0],ne[1]))},D}(Vr),fn=function(R){function D(V,ne){R.call(this,V,ne),this.current=[0,0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){(ne[0]!==this.current[0]||ne[1]!==this.current[1]||ne[2]!==this.current[2])&&(this.current=ne,this.gl.uniform3f(this.location,ne[0],ne[1],ne[2]))},D}(Vr),Rn=function(R){function D(V,ne){R.call(this,V,ne),this.current=[0,0,0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){(ne[0]!==this.current[0]||ne[1]!==this.current[1]||ne[2]!==this.current[2]||ne[3]!==this.current[3])&&(this.current=ne,this.gl.uniform4f(this.location,ne[0],ne[1],ne[2],ne[3]))},D}(Vr),zn=function(R){function D(V,ne){R.call(this,V,ne),this.current=ei.transparent}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){(ne.r!==this.current.r||ne.g!==this.current.g||ne.b!==this.current.b||ne.a!==this.current.a)&&(this.current=ne,this.gl.uniform4f(this.location,ne.r,ne.g,ne.b,ne.a))},D}(Vr),Xn=new Float32Array(16),Jn=function(R){function D(V,ne){R.call(this,V,ne),this.current=Xn}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){if(ne[12]!==this.current[12]||ne[0]!==this.current[0]){this.current=ne,this.gl.uniformMatrix4fv(this.location,!1,ne);return}for(var ve=1;ve<16;ve++)if(ne[ve]!==this.current[ve]){this.current=ne,this.gl.uniformMatrix4fv(this.location,!1,ne);break}},D}(Vr);function Kn(R){return[de(255*R.r,255*R.g),de(255*R.b,255*R.a)]}var aa=function(D,V,ne){this.value=D,this.uniformNames=V.map(function(ve){return"u_"+ve}),this.type=ne};aa.prototype.setUniform=function(D,V,ne){D.set(ne.constantOr(this.value))},aa.prototype.getBinding=function(D,V,ne){return this.type==="color"?new zn(D,V):new Ur(D,V)};var ca=function(D,V){this.uniformNames=V.map(function(ne){return"u_"+ne}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};ca.prototype.setConstantPatternPositions=function(D,V){this.pixelRatioFrom=V.pixelRatio,this.pixelRatioTo=D.pixelRatio,this.patternFrom=V.tlbr,this.patternTo=D.tlbr},ca.prototype.setUniform=function(D,V,ne,ve){var Te=ve==="u_pattern_to"?this.patternTo:ve==="u_pattern_from"?this.patternFrom:ve==="u_pixel_ratio_to"?this.pixelRatioTo:ve==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Te&&D.set(Te)},ca.prototype.getBinding=function(D,V,ne){return ne.substr(0,9)==="u_pattern"?new Rn(D,V):new Ur(D,V)};var fa=function(D,V,ne,ve){this.expression=D,this.type=ne,this.maxValue=0,this.paintVertexAttributes=V.map(function(Te){return{name:"a_"+Te,type:"Float32",components:ne==="color"?2:1,offset:0}}),this.paintVertexArray=new ve};fa.prototype.populatePaintArray=function(D,V,ne,ve,Te){var De=this.paintVertexArray.length,Ke=this.expression.evaluate(new Vn(0),V,{},ve,[],Te);this.paintVertexArray.resize(D),this._setPaintValue(De,D,Ke)},fa.prototype.updatePaintArray=function(D,V,ne,ve){var Te=this.expression.evaluate({zoom:0},ne,ve);this._setPaintValue(D,V,Te)},fa.prototype._setPaintValue=function(D,V,ne){if(this.type==="color")for(var ve=Kn(ne),Te=D;Te<V;Te++)this.paintVertexArray.emplace(Te,ve[0],ve[1]);else{for(var De=D;De<V;De++)this.paintVertexArray.emplace(De,ne);this.maxValue=Math.max(this.maxValue,Math.abs(ne))}},fa.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},fa.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var ga=function(D,V,ne,ve,Te,De){this.expression=D,this.uniformNames=V.map(function(Ke){return"u_"+Ke+"_t"}),this.type=ne,this.useIntegerZoom=ve,this.zoom=Te,this.maxValue=0,this.paintVertexAttributes=V.map(function(Ke){return{name:"a_"+Ke,type:"Float32",components:ne==="color"?4:2,offset:0}}),this.paintVertexArray=new De};ga.prototype.populatePaintArray=function(D,V,ne,ve,Te){var De=this.expression.evaluate(new Vn(this.zoom),V,{},ve,[],Te),Ke=this.expression.evaluate(new Vn(this.zoom+1),V,{},ve,[],Te),ut=this.paintVertexArray.length;this.paintVertexArray.resize(D),this._setPaintValue(ut,D,De,Ke)},ga.prototype.updatePaintArray=function(D,V,ne,ve){var Te=this.expression.evaluate({zoom:this.zoom},ne,ve),De=this.expression.evaluate({zoom:this.zoom+1},ne,ve);this._setPaintValue(D,V,Te,De)},ga.prototype._setPaintValue=function(D,V,ne,ve){if(this.type==="color")for(var Te=Kn(ne),De=Kn(ve),Ke=D;Ke<V;Ke++)this.paintVertexArray.emplace(Ke,Te[0],Te[1],De[0],De[1]);else{for(var ut=D;ut<V;ut++)this.paintVertexArray.emplace(ut,ne,ve);this.maxValue=Math.max(this.maxValue,Math.abs(ne),Math.abs(ve))}},ga.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ga.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},ga.prototype.setUniform=function(D,V){var ne=this.useIntegerZoom?Math.floor(V.zoom):V.zoom,ve=u(this.expression.interpolationFactor(ne,this.zoom,this.zoom+1),0,1);D.set(ve)},ga.prototype.getBinding=function(D,V,ne){return new Ur(D,V)};var Ta=function(D,V,ne,ve,Te,De){this.expression=D,this.type=V,this.useIntegerZoom=ne,this.zoom=ve,this.layerId=De,this.zoomInPaintVertexArray=new Te,this.zoomOutPaintVertexArray=new Te};Ta.prototype.populatePaintArray=function(D,V,ne){var ve=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(D),this.zoomOutPaintVertexArray.resize(D),this._setPaintValues(ve,D,V.patterns&&V.patterns[this.layerId],ne)},Ta.prototype.updatePaintArray=function(D,V,ne,ve,Te){this._setPaintValues(D,V,ne.patterns&&ne.patterns[this.layerId],Te)},Ta.prototype._setPaintValues=function(D,V,ne,ve){if(!(!ve||!ne)){var Te=ne.min,De=ne.mid,Ke=ne.max,ut=ve[Te],Tt=ve[De],St=ve[Ke];if(!(!ut||!Tt||!St))for(var Gt=D;Gt<V;Gt++)this.zoomInPaintVertexArray.emplace(Gt,Tt.tl[0],Tt.tl[1],Tt.br[0],Tt.br[1],ut.tl[0],ut.tl[1],ut.br[0],ut.br[1],Tt.pixelRatio,ut.pixelRatio),this.zoomOutPaintVertexArray.emplace(Gt,Tt.tl[0],Tt.tl[1],Tt.br[0],Tt.br[1],St.tl[0],St.tl[1],St.br[0],St.br[1],Tt.pixelRatio,St.pixelRatio)}},Ta.prototype.upload=function(D){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=D.createVertexBuffer(this.zoomInPaintVertexArray,te.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=D.createVertexBuffer(this.zoomOutPaintVertexArray,te.members,this.expression.isStateDependent))},Ta.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Ia=function(D,V,ne,ve){this.binders={},this.layoutAttributes=ve,this._buffers=[];var Te=[];for(var De in D.paint._values)if(ne(De)){var Ke=D.paint.get(De);if(!(!(Ke instanceof bi)||!Is(Ke.property.specification))){var ut=oi(De,D.type),Tt=Ke.value,St=Ke.property.specification.type,Gt=Ke.property.useIntegerZoom,ir=Ke.property.specification["property-type"],$t=ir==="cross-faded"||ir==="cross-faded-data-driven";if(Tt.kind==="constant")this.binders[De]=$t?new ca(Tt.value,ut):new aa(Tt.value,ut,St),Te.push("/u_"+De);else if(Tt.kind==="source"||$t){var br=Xa(De,St,"source");this.binders[De]=$t?new Ta(Tt,St,Gt,V,br,D.id):new fa(Tt,ut,St,br),Te.push("/a_"+De)}else{var Or=Xa(De,St,"composite");this.binders[De]=new ga(Tt,ut,St,Gt,V,Or),Te.push("/z_"+De)}}}this.cacheKey=Te.sort().join("")};Ia.prototype.getMaxValue=function(D){var V=this.binders[D];return V instanceof fa||V instanceof ga?V.maxValue:0},Ia.prototype.populatePaintArrays=function(D,V,ne,ve,Te){for(var De in this.binders){var Ke=this.binders[De];(Ke instanceof fa||Ke instanceof ga||Ke instanceof Ta)&&Ke.populatePaintArray(D,V,ne,ve,Te)}},Ia.prototype.setConstantPatternPositions=function(D,V){for(var ne in this.binders){var ve=this.binders[ne];ve instanceof ca&&ve.setConstantPatternPositions(D,V)}},Ia.prototype.updatePaintArrays=function(D,V,ne,ve,Te){var De=!1;for(var Ke in D)for(var ut=V.getPositions(Ke),Tt=0,St=ut;Tt<St.length;Tt+=1){var Gt=St[Tt],ir=ne.feature(Gt.index);for(var $t in this.binders){var br=this.binders[$t];if((br instanceof fa||br instanceof ga||br instanceof Ta)&&br.expression.isStateDependent===!0){var Or=ve.paint.get($t);br.expression=Or.value,br.updatePaintArray(Gt.start,Gt.end,ir,D[Ke],Te),De=!0}}}return De},Ia.prototype.defines=function(){var D=[];for(var V in this.binders){var ne=this.binders[V];(ne instanceof aa||ne instanceof ca)&&D.push.apply(D,ne.uniformNames.map(function(ve){return"#define HAS_UNIFORM_"+ve}))}return D},Ia.prototype.getPaintVertexBuffers=function(){return this._buffers},Ia.prototype.getUniforms=function(D,V){var ne=[];for(var ve in this.binders){var Te=this.binders[ve];if(Te instanceof aa||Te instanceof ca||Te instanceof ga)for(var De=0,Ke=Te.uniformNames;De<Ke.length;De+=1){var ut=Ke[De];if(V[ut]){var Tt=Te.getBinding(D,V[ut],ut);ne.push({name:ut,property:ve,binding:Tt})}}}return ne},Ia.prototype.setUniforms=function(D,V,ne,ve){for(var Te=0,De=V;Te<De.length;Te+=1){var Ke=De[Te],ut=Ke.name,Tt=Ke.property,St=Ke.binding;this.binders[Tt].setUniform(St,ve,ne.get(Tt),ut)}},Ia.prototype.updatePaintBuffers=function(D){this._buffers=[];for(var V in this.binders){var ne=this.binders[V];if(D&&ne instanceof Ta){var ve=D.fromScale===2?ne.zoomInPaintVertexBuffer:ne.zoomOutPaintVertexBuffer;ve&&this._buffers.push(ve)}else(ne instanceof fa||ne instanceof ga)&&ne.paintVertexBuffer&&this._buffers.push(ne.paintVertexBuffer)}},Ia.prototype.upload=function(D){for(var V in this.binders){var ne=this.binders[V];(ne instanceof fa||ne instanceof ga||ne instanceof Ta)&&ne.upload(D)}this.updatePaintBuffers()},Ia.prototype.destroy=function(){for(var D in this.binders){var V=this.binders[D];(V instanceof fa||V instanceof ga||V instanceof Ta)&&V.destroy()}};var Ha=function(D,V,ne,ve){ve===void 0&&(ve=function(){return!0}),this.programConfigurations={};for(var Te=0,De=V;Te<De.length;Te+=1){var Ke=De[Te];this.programConfigurations[Ke.id]=new Ia(Ke,ne,ve,D)}this.needsUpload=!1,this._featureMap=new Ut,this._bufferOffset=0};Ha.prototype.populatePaintArrays=function(D,V,ne,ve,Te,De){for(var Ke in this.programConfigurations)this.programConfigurations[Ke].populatePaintArrays(D,V,ve,Te,De);V.id!==void 0&&this._featureMap.add(V.id,ne,this._bufferOffset,D),this._bufferOffset=D,this.needsUpload=!0},Ha.prototype.updatePaintArrays=function(D,V,ne,ve){for(var Te=0,De=ne;Te<De.length;Te+=1){var Ke=De[Te];this.needsUpload=this.programConfigurations[Ke.id].updatePaintArrays(D,this._featureMap,V,Ke,ve)||this.needsUpload}},Ha.prototype.get=function(D){return this.programConfigurations[D]},Ha.prototype.upload=function(D){if(this.needsUpload){for(var V in this.programConfigurations)this.programConfigurations[V].upload(D);this.needsUpload=!1}},Ha.prototype.destroy=function(){for(var D in this.programConfigurations)this.programConfigurations[D].destroy()};function oi(R,D){var V={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return V[R]||[R.replace(D+"-","").replace(/-/g,"_")]}function Ga(R){var D={"line-pattern":{source:es,composite:es},"fill-pattern":{source:es,composite:es},"fill-extrusion-pattern":{source:es,composite:es}};return D[R]}function Xa(R,D,V){var ne={color:{source:Ju,composite:ad},number:{source:mc,composite:Ju}},ve=Ga(R);return ve&&ve[V]||ne[D][V]}ue("ConstantBinder",aa),ue("CrossFadedConstantBinder",ca),ue("SourceExpressionBinder",fa),ue("CrossFadedCompositeBinder",Ta),ue("CompositeExpressionBinder",ga),ue("ProgramConfiguration",Ia,{omit:["_buffers"]}),ue("ProgramConfigurationSet",Ha);var Pa=8192;function si(R){return{min:-1*Math.pow(2,R-1),max:Math.pow(2,R-1)-1}}var ci=si(15);function vi(R){for(var D=Pa/R.extent,V=R.loadGeometry(),ne=0;ne<V.length;ne++)for(var ve=V[ne],Te=0;Te<ve.length;Te++){var De=ve[Te];De.x=Math.round(De.x*D),De.y=Math.round(De.y*D),(De.x<ci.min||De.x>ci.max||De.y<ci.min||De.y>ci.max)&&(B("Geometry exceeds allowed extent, reduce your vector tile buffer size"),De.x=u(De.x,ci.min,ci.max),De.y=u(De.y,ci.min,ci.max))}return V}function Ja(R,D,V,ne,ve){R.emplaceBack(D*2+(ne+1)/2,V*2+(ve+1)/2)}var Ai=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(V){return V.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new mh,this.indexArray=new mu,this.segments=new Z,this.programConfigurations=new Ha(he,D.layers,D.zoom),this.stateDependentLayerIds=this.layers.filter(function(V){return V.isStateDependent()}).map(function(V){return V.id})};Ai.prototype.populate=function(D,V,ne){var ve=this.layers[0],Te=[],De=null;ve.type==="circle"&&(De=ve.layout.get("circle-sort-key"));for(var Ke=0,ut=D;Ke<ut.length;Ke+=1){var Tt=ut[Ke],St=Tt.feature,Gt=Tt.id,ir=Tt.index,$t=Tt.sourceLayerIndex,br=this.layers[0]._featureFilter.needGeometry,Or={type:St.type,id:Gt,properties:St.properties,geometry:br?vi(St):[]};if(this.layers[0]._featureFilter.filter(new Vn(this.zoom),Or,ne)){br||(Or.geometry=vi(St));var ln=De?De.evaluate(Or,{},ne):void 0,$r={id:Gt,properties:St.properties,type:St.type,sourceLayerIndex:$t,index:ir,geometry:Or.geometry,patterns:{},sortKey:ln};Te.push($r)}}De&&Te.sort(function(ha,ma){return ha.sortKey-ma.sortKey});for(var Ln=0,wn=Te;Ln<wn.length;Ln+=1){var Cn=wn[Ln],kn=Cn,Gn=kn.geometry,ra=kn.index,ta=kn.sourceLayerIndex,Ea=D[ra].feature;this.addFeature(Cn,Gn,ra,ne),V.featureIndex.insert(Ea,Gn,ra,ta,this.index)}},Ai.prototype.update=function(D,V,ne){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,V,this.stateDependentLayers,ne)},Ai.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ai.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ai.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,he),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},Ai.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ai.prototype.addFeature=function(D,V,ne,ve){for(var Te=0,De=V;Te<De.length;Te+=1)for(var Ke=De[Te],ut=0,Tt=Ke;ut<Tt.length;ut+=1){var St=Tt[ut],Gt=St.x,ir=St.y;if(!(Gt<0||Gt>=Pa||ir<0||ir>=Pa)){var $t=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,D.sortKey),br=$t.vertexLength;Ja(this.layoutVertexArray,Gt,ir,-1,-1),Ja(this.layoutVertexArray,Gt,ir,1,-1),Ja(this.layoutVertexArray,Gt,ir,1,1),Ja(this.layoutVertexArray,Gt,ir,-1,1),this.indexArray.emplaceBack(br,br+1,br+2),this.indexArray.emplaceBack(br,br+3,br+2),$t.vertexLength+=4,$t.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ne,{},ve)},ue("CircleBucket",Ai,{omit:["layers"]});function Va(R,D){for(var V=0;V<R.length;V++)if(ts(D,R[V]))return!0;for(var ne=0;ne<D.length;ne++)if(ts(R,D[ne]))return!0;return!!qs(R,D)}function $a(R,D,V){return!!(ts(R,D)||Vl(D,R,V))}function Hi(R,D){if(R.length===1)return Gl(D,R[0]);for(var V=0;V<D.length;V++)for(var ne=D[V],ve=0;ve<ne.length;ve++)if(ts(R,ne[ve]))return!0;for(var Te=0;Te<R.length;Te++)if(Gl(D,R[Te]))return!0;for(var De=0;De<D.length;De++)if(qs(R,D[De]))return!0;return!1}function no(R,D,V){for(var ne=0;ne<D.length;ne++){var ve=D[ne];if(R.length>=3){for(var Te=0;Te<ve.length;Te++)if(ts(R,ve[Te]))return!0}if($s(R,ve,V))return!0}return!1}function $s(R,D,V){if(R.length>1){if(qs(R,D))return!0;for(var ne=0;ne<D.length;ne++)if(Vl(D[ne],R,V))return!0}for(var ve=0;ve<R.length;ve++)if(Vl(R[ve],D,V))return!0;return!1}function qs(R,D){if(R.length===0||D.length===0)return!1;for(var V=0;V<R.length-1;V++)for(var ne=R[V],ve=R[V+1],Te=0;Te<D.length-1;Te++){var De=D[Te],Ke=D[Te+1];if(Hl(ne,ve,De,Ke))return!0}return!1}function Hl(R,D,V,ne){return F(R,V,ne)!==F(D,V,ne)&&F(R,D,V)!==F(R,D,ne)}function Vl(R,D,V){var ne=V*V;if(D.length===1)return R.distSqr(D[0])<ne;for(var ve=1;ve<D.length;ve++){var Te=D[ve-1],De=D[ve];if(xu(R,Te,De)<ne)return!0}return!1}function xu(R,D,V){var ne=D.distSqr(V);if(ne===0)return R.distSqr(D);var ve=((R.x-D.x)*(V.x-D.x)+(R.y-D.y)*(V.y-D.y))/ne;return ve<0?R.distSqr(D):ve>1?R.distSqr(V):R.distSqr(V.sub(D)._mult(ve)._add(D))}function Gl(R,D){for(var V=!1,ne,ve,Te,De=0;De<R.length;De++){ne=R[De];for(var Ke=0,ut=ne.length-1;Ke<ne.length;ut=Ke++)ve=ne[Ke],Te=ne[ut],ve.y>D.y!=Te.y>D.y&&D.x<(Te.x-ve.x)*(D.y-ve.y)/(Te.y-ve.y)+ve.x&&(V=!V)}return V}function ts(R,D){for(var V=!1,ne=0,ve=R.length-1;ne<R.length;ve=ne++){var Te=R[ne],De=R[ve];Te.y>D.y!=De.y>D.y&&D.x<(De.x-Te.x)*(D.y-Te.y)/(De.y-Te.y)+Te.x&&(V=!V)}return V}function $u(R,D,V,ne,ve){for(var Te=0,De=R;Te<De.length;Te+=1){var Ke=De[Te];if(D<=Ke.x&&V<=Ke.y&&ne>=Ke.x&&ve>=Ke.y)return!0}var ut=[new t(D,V),new t(D,ve),new t(ne,ve),new t(ne,V)];if(R.length>2)for(var Tt=0,St=ut;Tt<St.length;Tt+=1){var Gt=St[Tt];if(ts(R,Gt))return!0}for(var ir=0;ir<R.length-1;ir++){var $t=R[ir],br=R[ir+1];if(zo($t,br,ut))return!0}return!1}function zo(R,D,V){var ne=V[0],ve=V[2];if(R.x<ne.x&&D.x<ne.x||R.x>ve.x&&D.x>ve.x||R.y<ne.y&&D.y<ne.y||R.y>ve.y&&D.y>ve.y)return!1;var Te=F(R,D,V[0]);return Te!==F(R,D,V[1])||Te!==F(R,D,V[2])||Te!==F(R,D,V[3])}function _s(R,D,V){var ne=D.paint.get(R).value;return ne.kind==="constant"?ne.value:V.programConfigurations.get(D.id).getMaxValue(R)}function Wl(R){return Math.sqrt(R[0]*R[0]+R[1]*R[1])}function wl(R,D,V,ne,ve){if(!D[0]&&!D[1])return R;var Te=t.convert(D)._mult(ve);V==="viewport"&&Te._rotate(-ne);for(var De=[],Ke=0;Ke<R.length;Ke++){var ut=R[Ke];De.push(ut.sub(Te))}return De}var Yl=new $i({"circle-sort-key":new Sa(jt.layout_circle["circle-sort-key"])}),Jh=new $i({"circle-radius":new Sa(jt.paint_circle["circle-radius"]),"circle-color":new Sa(jt.paint_circle["circle-color"]),"circle-blur":new Sa(jt.paint_circle["circle-blur"]),"circle-opacity":new Sa(jt.paint_circle["circle-opacity"]),"circle-translate":new ya(jt.paint_circle["circle-translate"]),"circle-translate-anchor":new ya(jt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ya(jt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ya(jt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Sa(jt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Sa(jt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Sa(jt.paint_circle["circle-stroke-opacity"])}),If={paint:Jh,layout:Yl},Po=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var R=arguments,D=0,V=arguments.length;V--;)D+=R[V]*R[V];return Math.sqrt(D)});function Th(){var R=new Po(4);return Po!=Float32Array&&(R[1]=0,R[2]=0),R[0]=1,R[3]=1,R}function Go(R,D,V){var ne=D[0],ve=D[1],Te=D[2],De=D[3],Ke=Math.sin(V),ut=Math.cos(V);return R[0]=ne*ut+Te*Ke,R[1]=ve*ut+De*Ke,R[2]=ne*-Ke+Te*ut,R[3]=ve*-Ke+De*ut,R}function Ah(){var R=new Po(9);return Po!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[5]=0,R[6]=0,R[7]=0),R[0]=1,R[4]=1,R[8]=1,R}function Qh(R,D){var V=Math.sin(D),ne=Math.cos(D);return R[0]=ne,R[1]=V,R[2]=0,R[3]=-V,R[4]=ne,R[5]=0,R[6]=0,R[7]=0,R[8]=1,R}function $h(){var R=new Po(16);return Po!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=0,R[12]=0,R[13]=0,R[14]=0),R[0]=1,R[5]=1,R[10]=1,R[15]=1,R}function Cp(R){var D=new Po(16);return D[0]=R[0],D[1]=R[1],D[2]=R[2],D[3]=R[3],D[4]=R[4],D[5]=R[5],D[6]=R[6],D[7]=R[7],D[8]=R[8],D[9]=R[9],D[10]=R[10],D[11]=R[11],D[12]=R[12],D[13]=R[13],D[14]=R[14],D[15]=R[15],D}function qh(R){return R[0]=1,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=1,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=1,R[11]=0,R[12]=0,R[13]=0,R[14]=0,R[15]=1,R}function wc(R,D){var V=D[0],ne=D[1],ve=D[2],Te=D[3],De=D[4],Ke=D[5],ut=D[6],Tt=D[7],St=D[8],Gt=D[9],ir=D[10],$t=D[11],br=D[12],Or=D[13],ln=D[14],$r=D[15],Ln=V*Ke-ne*De,wn=V*ut-ve*De,Cn=V*Tt-Te*De,kn=ne*ut-ve*Ke,Gn=ne*Tt-Te*Ke,ra=ve*Tt-Te*ut,ta=St*Or-Gt*br,Ea=St*ln-ir*br,ha=St*$r-$t*br,ma=Gt*ln-ir*Or,Ba=Gt*$r-$t*Or,Aa=ir*$r-$t*ln,Ma=Ln*Aa-wn*Ba+Cn*ma+kn*ha-Gn*Ea+ra*ta;return Ma?(Ma=1/Ma,R[0]=(Ke*Aa-ut*Ba+Tt*ma)*Ma,R[1]=(ve*Ba-ne*Aa-Te*ma)*Ma,R[2]=(Or*ra-ln*Gn+$r*kn)*Ma,R[3]=(ir*Gn-Gt*ra-$t*kn)*Ma,R[4]=(ut*ha-De*Aa-Tt*Ea)*Ma,R[5]=(V*Aa-ve*ha+Te*Ea)*Ma,R[6]=(ln*Cn-br*ra-$r*wn)*Ma,R[7]=(St*ra-ir*Cn+$t*wn)*Ma,R[8]=(De*Ba-Ke*ha+Tt*ta)*Ma,R[9]=(ne*ha-V*Ba-Te*ta)*Ma,R[10]=(br*Gn-Or*Cn+$r*Ln)*Ma,R[11]=(Gt*Cn-St*Gn-$t*Ln)*Ma,R[12]=(Ke*Ea-De*ma-ut*ta)*Ma,R[13]=(V*ma-ne*Ea+ve*ta)*Ma,R[14]=(Or*wn-br*kn-ln*Ln)*Ma,R[15]=(St*kn-Gt*wn+ir*Ln)*Ma,R):null}function Tc(R,D,V){var ne=D[0],ve=D[1],Te=D[2],De=D[3],Ke=D[4],ut=D[5],Tt=D[6],St=D[7],Gt=D[8],ir=D[9],$t=D[10],br=D[11],Or=D[12],ln=D[13],$r=D[14],Ln=D[15],wn=V[0],Cn=V[1],kn=V[2],Gn=V[3];return R[0]=wn*ne+Cn*Ke+kn*Gt+Gn*Or,R[1]=wn*ve+Cn*ut+kn*ir+Gn*ln,R[2]=wn*Te+Cn*Tt+kn*$t+Gn*$r,R[3]=wn*De+Cn*St+kn*br+Gn*Ln,wn=V[4],Cn=V[5],kn=V[6],Gn=V[7],R[4]=wn*ne+Cn*Ke+kn*Gt+Gn*Or,R[5]=wn*ve+Cn*ut+kn*ir+Gn*ln,R[6]=wn*Te+Cn*Tt+kn*$t+Gn*$r,R[7]=wn*De+Cn*St+kn*br+Gn*Ln,wn=V[8],Cn=V[9],kn=V[10],Gn=V[11],R[8]=wn*ne+Cn*Ke+kn*Gt+Gn*Or,R[9]=wn*ve+Cn*ut+kn*ir+Gn*ln,R[10]=wn*Te+Cn*Tt+kn*$t+Gn*$r,R[11]=wn*De+Cn*St+kn*br+Gn*Ln,wn=V[12],Cn=V[13],kn=V[14],Gn=V[15],R[12]=wn*ne+Cn*Ke+kn*Gt+Gn*Or,R[13]=wn*ve+Cn*ut+kn*ir+Gn*ln,R[14]=wn*Te+Cn*Tt+kn*$t+Gn*$r,R[15]=wn*De+Cn*St+kn*br+Gn*Ln,R}function Yi(R,D,V){var ne=V[0],ve=V[1],Te=V[2],De,Ke,ut,Tt,St,Gt,ir,$t,br,Or,ln,$r;return D===R?(R[12]=D[0]*ne+D[4]*ve+D[8]*Te+D[12],R[13]=D[1]*ne+D[5]*ve+D[9]*Te+D[13],R[14]=D[2]*ne+D[6]*ve+D[10]*Te+D[14],R[15]=D[3]*ne+D[7]*ve+D[11]*Te+D[15]):(De=D[0],Ke=D[1],ut=D[2],Tt=D[3],St=D[4],Gt=D[5],ir=D[6],$t=D[7],br=D[8],Or=D[9],ln=D[10],$r=D[11],R[0]=De,R[1]=Ke,R[2]=ut,R[3]=Tt,R[4]=St,R[5]=Gt,R[6]=ir,R[7]=$t,R[8]=br,R[9]=Or,R[10]=ln,R[11]=$r,R[12]=De*ne+St*ve+br*Te+D[12],R[13]=Ke*ne+Gt*ve+Or*Te+D[13],R[14]=ut*ne+ir*ve+ln*Te+D[14],R[15]=Tt*ne+$t*ve+$r*Te+D[15]),R}function ys(R,D,V){var ne=V[0],ve=V[1],Te=V[2];return R[0]=D[0]*ne,R[1]=D[1]*ne,R[2]=D[2]*ne,R[3]=D[3]*ne,R[4]=D[4]*ve,R[5]=D[5]*ve,R[6]=D[6]*ve,R[7]=D[7]*ve,R[8]=D[8]*Te,R[9]=D[9]*Te,R[10]=D[10]*Te,R[11]=D[11]*Te,R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15],R}function ms(R,D,V){var ne=Math.sin(V),ve=Math.cos(V),Te=D[4],De=D[5],Ke=D[6],ut=D[7],Tt=D[8],St=D[9],Gt=D[10],ir=D[11];return D!==R&&(R[0]=D[0],R[1]=D[1],R[2]=D[2],R[3]=D[3],R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15]),R[4]=Te*ve+Tt*ne,R[5]=De*ve+St*ne,R[6]=Ke*ve+Gt*ne,R[7]=ut*ve+ir*ne,R[8]=Tt*ve-Te*ne,R[9]=St*ve-De*ne,R[10]=Gt*ve-Ke*ne,R[11]=ir*ve-ut*ne,R}function ev(R,D,V){var ne=Math.sin(V),ve=Math.cos(V),Te=D[0],De=D[1],Ke=D[2],ut=D[3],Tt=D[4],St=D[5],Gt=D[6],ir=D[7];return D!==R&&(R[8]=D[8],R[9]=D[9],R[10]=D[10],R[11]=D[11],R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15]),R[0]=Te*ve+Tt*ne,R[1]=De*ve+St*ne,R[2]=Ke*ve+Gt*ne,R[3]=ut*ve+ir*ne,R[4]=Tt*ve-Te*ne,R[5]=St*ve-De*ne,R[6]=Gt*ve-Ke*ne,R[7]=ir*ve-ut*ne,R}function sd(R,D,V,ne,ve){var Te=1/Math.tan(D/2),De;return R[0]=Te/V,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=Te,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=-1,R[12]=0,R[13]=0,R[15]=0,ve!=null&&ve!==1/0?(De=1/(ne-ve),R[10]=(ve+ne)*De,R[14]=2*ve*ne*De):(R[10]=-1,R[14]=-2*ne),R}function Lg(R,D,V,ne,ve,Te,De){var Ke=1/(D-V),ut=1/(ne-ve),Tt=1/(Te-De);return R[0]=-2*Ke,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=-2*ut,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=2*Tt,R[11]=0,R[12]=(D+V)*Ke,R[13]=(ve+ne)*ut,R[14]=(De+Te)*Tt,R[15]=1,R}var Pg=Tc;function Mh(){var R=new Po(3);return Po!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0),R}function Rg(R){var D=new Po(3);return D[0]=R[0],D[1]=R[1],D[2]=R[2],D}function tv(R,D,V){return R[0]=D[0]+V[0],R[1]=D[1]+V[1],R[2]=D[2]+V[2],R}function Dg(R,D,V){return R[0]=D[0]-V[0],R[1]=D[1]-V[1],R[2]=D[2]-V[2],R}function Ig(R,D,V){return R[0]=D[0]*V,R[1]=D[1]*V,R[2]=D[2]*V,R}function ld(R,D){var V=D[0],ne=D[1],ve=D[2],Te=V*V+ne*ne+ve*ve;return Te>0&&(Te=1/Math.sqrt(Te)),R[0]=D[0]*Te,R[1]=D[1]*Te,R[2]=D[2]*Te,R}function z5(R,D){return R[0]*D[0]+R[1]*D[1]+R[2]*D[2]}function O5(R,D,V){var ne=D[0],ve=D[1],Te=D[2],De=V[0],Ke=V[1],ut=V[2];return R[0]=ve*ut-Te*Ke,R[1]=Te*De-ne*ut,R[2]=ne*Ke-ve*De,R}function N5(R,D,V){var ne=D[0],ve=D[1],Te=D[2];return R[0]=ne*V[0]+ve*V[3]+Te*V[6],R[1]=ne*V[1]+ve*V[4]+Te*V[7],R[2]=ne*V[2]+ve*V[5]+Te*V[8],R}var B5=Dg;(function(){var R=Mh();return function(D,V,ne,ve,Te,De){var Ke,ut;for(V||(V=3),ne||(ne=0),ve?ut=Math.min(ve*V+ne,D.length):ut=D.length,Ke=ne;Ke<ut;Ke+=V)R[0]=D[Ke],R[1]=D[Ke+1],R[2]=D[Ke+2],Te(R,R,De),D[Ke]=R[0],D[Ke+1]=R[1],D[Ke+2]=R[2];return D}})();function U5(){var R=new Po(4);return Po!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0,R[3]=0),R}function H5(R,D,V){return R[0]=D[0]*V,R[1]=D[1]*V,R[2]=D[2]*V,R[3]=D[3]*V,R}function V5(R,D){return R[0]*D[0]+R[1]*D[1]+R[2]*D[2]+R[3]*D[3]}function Lp(R,D,V){var ne=D[0],ve=D[1],Te=D[2],De=D[3];return R[0]=V[0]*ne+V[4]*ve+V[8]*Te+V[12]*De,R[1]=V[1]*ne+V[5]*ve+V[9]*Te+V[13]*De,R[2]=V[2]*ne+V[6]*ve+V[10]*Te+V[14]*De,R[3]=V[3]*ne+V[7]*ve+V[11]*Te+V[15]*De,R}(function(){var R=U5();return function(D,V,ne,ve,Te,De){var Ke,ut;for(V||(V=4),ne||(ne=0),ve?ut=Math.min(ve*V+ne,D.length):ut=D.length,Ke=ne;Ke<ut;Ke+=V)R[0]=D[Ke],R[1]=D[Ke+1],R[2]=D[Ke+2],R[3]=D[Ke+3],Te(R,R,De),D[Ke]=R[0],D[Ke+1]=R[1],D[Ke+2]=R[2],D[Ke+3]=R[3];return D}})();function G5(){var R=new Po(2);return Po!=Float32Array&&(R[0]=0,R[1]=0),R}function W5(R){var D=R[0],V=R[1];return D*D+V*V}var Y5=W5;(function(){var R=G5();return function(D,V,ne,ve,Te,De){var Ke,ut;for(V||(V=2),ne||(ne=0),ve?ut=Math.min(ve*V+ne,D.length):ut=D.length,Ke=ne;Ke<ut;Ke+=V)R[0]=D[Ke],R[1]=D[Ke+1],Te(R,R,De),D[Ke]=R[0],D[Ke+1]=R[1];return D}})();var j5=function(R){function D(V){R.call(this,V,If)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ne){return new Ai(ne)},D.prototype.queryRadius=function(ne){var ve=ne;return _s("circle-radius",this,ve)+_s("circle-stroke-width",this,ve)+Wl(this.paint.get("circle-translate"))},D.prototype.queryIntersectsFeature=function(ne,ve,Te,De,Ke,ut,Tt,St){for(var Gt=wl(ne,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),ut.angle,Tt),ir=this.paint.get("circle-radius").evaluate(ve,Te),$t=this.paint.get("circle-stroke-width").evaluate(ve,Te),br=ir+$t,Or=this.paint.get("circle-pitch-alignment")==="map",ln=Or?Gt:Z5(Gt,St),$r=Or?br*Tt:br,Ln=0,wn=De;Ln<wn.length;Ln+=1)for(var Cn=wn[Ln],kn=0,Gn=Cn;kn<Gn.length;kn+=1){var ra=Gn[kn],ta=Or?ra:Jm(ra,St),Ea=$r,ha=Lp([],[ra.x,ra.y,0,1],St);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Ea*=ha[3]/ut.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Ea*=ut.cameraToCenterDistance/ha[3]),$a(ln,ta,Ea))return!0}return!1},D}(Ci);function Jm(R,D){var V=Lp([],[R.x,R.y,0,1],D);return new t(V[0]/V[3],V[1]/V[3])}function Z5(R,D){return R.map(function(V){return Jm(V,D)})}var Qm=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Ai);ue("HeatmapBucket",Qm,{omit:["layers"]});function kg(R,D,V,ne){var ve=D.width,Te=D.height;if(!ne)ne=new Uint8Array(ve*Te*V);else if(ne instanceof Uint8ClampedArray)ne=new Uint8Array(ne.buffer);else if(ne.length!==ve*Te*V)throw new RangeError("mismatched image size");return R.width=ve,R.height=Te,R.data=ne,R}function $m(R,D,V){var ne=D.width,ve=D.height;if(!(ne===R.width&&ve===R.height)){var Te=kg({},{width:ne,height:ve},V);Fg(R,Te,{x:0,y:0},{x:0,y:0},{width:Math.min(R.width,ne),height:Math.min(R.height,ve)},V),R.width=ne,R.height=ve,R.data=Te.data}}function Fg(R,D,V,ne,ve,Te){if(ve.width===0||ve.height===0)return D;if(ve.width>R.width||ve.height>R.height||V.x>R.width-ve.width||V.y>R.height-ve.height)throw new RangeError("out of range source coordinates for image copy");if(ve.width>D.width||ve.height>D.height||ne.x>D.width-ve.width||ne.y>D.height-ve.height)throw new RangeError("out of range destination coordinates for image copy");for(var De=R.data,Ke=D.data,ut=0;ut<ve.height;ut++)for(var Tt=((V.y+ut)*R.width+V.x)*Te,St=((ne.y+ut)*D.width+ne.x)*Te,Gt=0;Gt<ve.width*Te;Gt++)Ke[St+Gt]=De[Tt+Gt];return D}var Sh=function(D,V){kg(this,D,1,V)};Sh.prototype.resize=function(D){$m(this,D,1)},Sh.prototype.clone=function(){return new Sh({width:this.width,height:this.height},new Uint8Array(this.data))},Sh.copy=function(D,V,ne,ve,Te){Fg(D,V,ne,ve,Te,1)};var xs=function(D,V){kg(this,D,4,V)};xs.prototype.resize=function(D){$m(this,D,4)},xs.prototype.replace=function(D,V){V?this.data.set(D):D instanceof Uint8ClampedArray?this.data=new Uint8Array(D.buffer):this.data=D},xs.prototype.clone=function(){return new xs({width:this.width,height:this.height},new Uint8Array(this.data))},xs.copy=function(D,V,ne,ve,Te){Fg(D,V,ne,ve,Te,4)},ue("AlphaImage",Sh),ue("RGBAImage",xs);var X5=new $i({"heatmap-radius":new Sa(jt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Sa(jt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ya(jt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new _o(jt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ya(jt.paint_heatmap["heatmap-opacity"])}),K5={paint:X5};function qm(R,D){for(var V=new Uint8Array(1024),ne={},ve=0,Te=0;ve<256;ve++,Te+=4){ne[D]=ve/255;var De=R.evaluate(ne);V[Te+0]=Math.floor(De.r*255/De.a),V[Te+1]=Math.floor(De.g*255/De.a),V[Te+2]=Math.floor(De.b*255/De.a),V[Te+3]=Math.floor(De.a*255)}return new xs({width:256,height:1},V)}var J5=function(R){function D(V){R.call(this,V,K5),this._updateColorRamp()}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ne){return new Qm(ne)},D.prototype._handleSpecialPaintPropertyUpdate=function(ne){ne==="heatmap-color"&&this._updateColorRamp()},D.prototype._updateColorRamp=function(){var ne=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=qm(ne,"heatmapDensity"),this.colorRampTexture=null},D.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},D}(Ci),Q5=new $i({"hillshade-illumination-direction":new ya(jt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ya(jt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ya(jt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ya(jt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ya(jt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ya(jt.paint_hillshade["hillshade-accent-color"])}),$5={paint:Q5},q5=function(R){function D(V){R.call(this,V,$5)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},D}(Ci),eA=Ti([{name:"a_pos",components:2,type:"Int16"}],4),ex=eA.members,_g=Pp,tA=Pp;function Pp(R,D,V){V=V||2;var ne=D&&D.length,ve=ne?D[0]*V:R.length,Te=tx(R,0,ve,V,!0),De=[];if(!Te||Te.next===Te.prev)return De;var Ke,ut,Tt,St,Gt,ir,$t;if(ne&&(Te=oA(R,D,Te,V)),R.length>80*V){Ke=Tt=R[0],ut=St=R[1];for(var br=V;br<ve;br+=V)Gt=R[br],ir=R[br+1],Gt<Ke&&(Ke=Gt),ir<ut&&(ut=ir),Gt>Tt&&(Tt=Gt),ir>St&&(St=ir);$t=Math.max(Tt-Ke,St-ut),$t=$t!==0?1/$t:0}return ud(Te,De,V,Ke,ut,$t),De}function tx(R,D,V,ne,ve){var Te,De;if(ve===Ng(R,D,V,ne)>0)for(Te=D;Te<V;Te+=ne)De=ax(Te,R[Te],R[Te+1],De);else for(Te=V-ne;Te>=D;Te-=ne)De=ax(Te,R[Te],R[Te+1],De);return De&&Rp(De,De.next)&&(cd(De),De=De.next),De}function Ac(R,D){if(!R)return R;D||(D=R);var V=R,ne;do if(ne=!1,!V.steiner&&(Rp(V,V.next)||ao(V.prev,V,V.next)===0)){if(cd(V),V=D=V.prev,V===V.next)break;ne=!0}else V=V.next;while(ne||V!==D);return D}function ud(R,D,V,ne,ve,Te,De){if(R){!De&&Te&&cA(R,ne,ve,Te);for(var Ke=R,ut,Tt;R.prev!==R.next;){if(ut=R.prev,Tt=R.next,Te?nA(R,ne,ve,Te):rA(R)){D.push(ut.i/V),D.push(R.i/V),D.push(Tt.i/V),cd(R),R=Tt.next,Ke=Tt.next;continue}if(R=Tt,R===Ke){De?De===1?(R=aA(Ac(R),D,V),ud(R,D,V,ne,ve,Te,2)):De===2&&iA(R,D,V,ne,ve,Te):ud(Ac(R),D,V,ne,ve,Te,1);break}}}}function rA(R){var D=R.prev,V=R,ne=R.next;if(ao(D,V,ne)>=0)return!1;for(var ve=R.next.next;ve!==R.prev;){if(rv(D.x,D.y,V.x,V.y,ne.x,ne.y,ve.x,ve.y)&&ao(ve.prev,ve,ve.next)>=0)return!1;ve=ve.next}return!0}function nA(R,D,V,ne){var ve=R.prev,Te=R,De=R.next;if(ao(ve,Te,De)>=0)return!1;for(var Ke=ve.x<Te.x?ve.x<De.x?ve.x:De.x:Te.x<De.x?Te.x:De.x,ut=ve.y<Te.y?ve.y<De.y?ve.y:De.y:Te.y<De.y?Te.y:De.y,Tt=ve.x>Te.x?ve.x>De.x?ve.x:De.x:Te.x>De.x?Te.x:De.x,St=ve.y>Te.y?ve.y>De.y?ve.y:De.y:Te.y>De.y?Te.y:De.y,Gt=zg(Ke,ut,D,V,ne),ir=zg(Tt,St,D,V,ne),$t=R.prevZ,br=R.nextZ;$t&&$t.z>=Gt&&br&&br.z<=ir;){if($t!==R.prev&&$t!==R.next&&rv(ve.x,ve.y,Te.x,Te.y,De.x,De.y,$t.x,$t.y)&&ao($t.prev,$t,$t.next)>=0||($t=$t.prevZ,br!==R.prev&&br!==R.next&&rv(ve.x,ve.y,Te.x,Te.y,De.x,De.y,br.x,br.y)&&ao(br.prev,br,br.next)>=0))return!1;br=br.nextZ}for(;$t&&$t.z>=Gt;){if($t!==R.prev&&$t!==R.next&&rv(ve.x,ve.y,Te.x,Te.y,De.x,De.y,$t.x,$t.y)&&ao($t.prev,$t,$t.next)>=0)return!1;$t=$t.prevZ}for(;br&&br.z<=ir;){if(br!==R.prev&&br!==R.next&&rv(ve.x,ve.y,Te.x,Te.y,De.x,De.y,br.x,br.y)&&ao(br.prev,br,br.next)>=0)return!1;br=br.nextZ}return!0}function aA(R,D,V){var ne=R;do{var ve=ne.prev,Te=ne.next.next;!Rp(ve,Te)&&rx(ve,ne,ne.next,Te)&&fd(ve,Te)&&fd(Te,ve)&&(D.push(ve.i/V),D.push(ne.i/V),D.push(Te.i/V),cd(ne),cd(ne.next),ne=R=Te),ne=ne.next}while(ne!==R);return Ac(ne)}function iA(R,D,V,ne,ve,Te){var De=R;do{for(var Ke=De.next.next;Ke!==De.prev;){if(De.i!==Ke.i&&dA(De,Ke)){var ut=nx(De,Ke);De=Ac(De,De.next),ut=Ac(ut,ut.next),ud(De,D,V,ne,ve,Te),ud(ut,D,V,ne,ve,Te);return}Ke=Ke.next}De=De.next}while(De!==R)}function oA(R,D,V,ne){var ve=[],Te,De,Ke,ut,Tt;for(Te=0,De=D.length;Te<De;Te++)Ke=D[Te]*ne,ut=Te<De-1?D[Te+1]*ne:R.length,Tt=tx(R,Ke,ut,ne,!1),Tt===Tt.next&&(Tt.steiner=!0),ve.push(vA(Tt));for(ve.sort(sA),Te=0;Te<ve.length;Te++)lA(ve[Te],V),V=Ac(V,V.next);return V}function sA(R,D){return R.x-D.x}function lA(R,D){if(D=uA(R,D),D){var V=nx(D,R);Ac(D,D.next),Ac(V,V.next)}}function uA(R,D){var V=D,ne=R.x,ve=R.y,Te=-1/0,De;do{if(ve<=V.y&&ve>=V.next.y&&V.next.y!==V.y){var Ke=V.x+(ve-V.y)*(V.next.x-V.x)/(V.next.y-V.y);if(Ke<=ne&&Ke>Te){if(Te=Ke,Ke===ne){if(ve===V.y)return V;if(ve===V.next.y)return V.next}De=V.x<V.next.x?V:V.next}}V=V.next}while(V!==D);if(!De)return null;if(ne===Te)return De;var ut=De,Tt=De.x,St=De.y,Gt=1/0,ir;V=De;do ne>=V.x&&V.x>=Tt&&ne!==V.x&&rv(ve<St?ne:Te,ve,Tt,St,ve<St?Te:ne,ve,V.x,V.y)&&(ir=Math.abs(ve-V.y)/(ne-V.x),fd(V,R)&&(ir<Gt||ir===Gt&&(V.x>De.x||V.x===De.x&&fA(De,V)))&&(De=V,Gt=ir)),V=V.next;while(V!==ut);return De}function fA(R,D){return ao(R.prev,R,D.prev)<0&&ao(D.next,R,R.next)<0}function cA(R,D,V,ne){var ve=R;do ve.z===null&&(ve.z=zg(ve.x,ve.y,D,V,ne)),ve.prevZ=ve.prev,ve.nextZ=ve.next,ve=ve.next;while(ve!==R);ve.prevZ.nextZ=null,ve.prevZ=null,hA(ve)}function hA(R){var D,V,ne,ve,Te,De,Ke,ut,Tt=1;do{for(V=R,R=null,Te=null,De=0;V;){for(De++,ne=V,Ke=0,D=0;D<Tt&&(Ke++,ne=ne.nextZ,!!ne);D++);for(ut=Tt;Ke>0||ut>0&&ne;)Ke!==0&&(ut===0||!ne||V.z<=ne.z)?(ve=V,V=V.nextZ,Ke--):(ve=ne,ne=ne.nextZ,ut--),Te?Te.nextZ=ve:R=ve,ve.prevZ=Te,Te=ve;V=ne}Te.nextZ=null,Tt*=2}while(De>1);return R}function zg(R,D,V,ne,ve){return R=32767*(R-V)*ve,D=32767*(D-ne)*ve,R=(R|R<<8)&16711935,R=(R|R<<4)&252645135,R=(R|R<<2)&858993459,R=(R|R<<1)&1431655765,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,R|D<<1}function vA(R){var D=R,V=R;do(D.x<V.x||D.x===V.x&&D.y<V.y)&&(V=D),D=D.next;while(D!==R);return V}function rv(R,D,V,ne,ve,Te,De,Ke){return(ve-De)*(D-Ke)-(R-De)*(Te-Ke)>=0&&(R-De)*(ne-Ke)-(V-De)*(D-Ke)>=0&&(V-De)*(Te-Ke)-(ve-De)*(ne-Ke)>=0}function dA(R,D){return R.next.i!==D.i&&R.prev.i!==D.i&&!pA(R,D)&&(fd(R,D)&&fd(D,R)&&gA(R,D)&&(ao(R.prev,R,D.prev)||ao(R,D.prev,D))||Rp(R,D)&&ao(R.prev,R,R.next)>0&&ao(D.prev,D,D.next)>0)}function ao(R,D,V){return(D.y-R.y)*(V.x-D.x)-(D.x-R.x)*(V.y-D.y)}function Rp(R,D){return R.x===D.x&&R.y===D.y}function rx(R,D,V,ne){var ve=Ip(ao(R,D,V)),Te=Ip(ao(R,D,ne)),De=Ip(ao(V,ne,R)),Ke=Ip(ao(V,ne,D));return!!(ve!==Te&&De!==Ke||ve===0&&Dp(R,V,D)||Te===0&&Dp(R,ne,D)||De===0&&Dp(V,R,ne)||Ke===0&&Dp(V,D,ne))}function Dp(R,D,V){return D.x<=Math.max(R.x,V.x)&&D.x>=Math.min(R.x,V.x)&&D.y<=Math.max(R.y,V.y)&&D.y>=Math.min(R.y,V.y)}function Ip(R){return R>0?1:R<0?-1:0}function pA(R,D){var V=R;do{if(V.i!==R.i&&V.next.i!==R.i&&V.i!==D.i&&V.next.i!==D.i&&rx(V,V.next,R,D))return!0;V=V.next}while(V!==R);return!1}function fd(R,D){return ao(R.prev,R,R.next)<0?ao(R,D,R.next)>=0&&ao(R,R.prev,D)>=0:ao(R,D,R.prev)<0||ao(R,R.next,D)<0}function gA(R,D){var V=R,ne=!1,ve=(R.x+D.x)/2,Te=(R.y+D.y)/2;do V.y>Te!=V.next.y>Te&&V.next.y!==V.y&&ve<(V.next.x-V.x)*(Te-V.y)/(V.next.y-V.y)+V.x&&(ne=!ne),V=V.next;while(V!==R);return ne}function nx(R,D){var V=new Og(R.i,R.x,R.y),ne=new Og(D.i,D.x,D.y),ve=R.next,Te=D.prev;return R.next=D,D.prev=R,V.next=ve,ve.prev=V,ne.next=V,V.prev=ne,Te.next=ne,ne.prev=Te,ne}function ax(R,D,V,ne){var ve=new Og(R,D,V);return ne?(ve.next=ne.next,ve.prev=ne,ne.next.prev=ve,ne.next=ve):(ve.prev=ve,ve.next=ve),ve}function cd(R){R.next.prev=R.prev,R.prev.next=R.next,R.prevZ&&(R.prevZ.nextZ=R.nextZ),R.nextZ&&(R.nextZ.prevZ=R.prevZ)}function Og(R,D,V){this.i=R,this.x=D,this.y=V,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}Pp.deviation=function(R,D,V,ne){var ve=D&&D.length,Te=ve?D[0]*V:R.length,De=Math.abs(Ng(R,0,Te,V));if(ve)for(var Ke=0,ut=D.length;Ke<ut;Ke++){var Tt=D[Ke]*V,St=Ke<ut-1?D[Ke+1]*V:R.length;De-=Math.abs(Ng(R,Tt,St,V))}var Gt=0;for(Ke=0;Ke<ne.length;Ke+=3){var ir=ne[Ke]*V,$t=ne[Ke+1]*V,br=ne[Ke+2]*V;Gt+=Math.abs((R[ir]-R[br])*(R[$t+1]-R[ir+1])-(R[ir]-R[$t])*(R[br+1]-R[ir+1]))}return De===0&&Gt===0?0:Math.abs((Gt-De)/De)};function Ng(R,D,V,ne){for(var ve=0,Te=D,De=V-ne;Te<V;Te+=ne)ve+=(R[De]-R[Te])*(R[Te+1]+R[De+1]),De=Te;return ve}Pp.flatten=function(R){for(var D=R[0][0].length,V={vertices:[],holes:[],dimensions:D},ne=0,ve=0;ve<R.length;ve++){for(var Te=0;Te<R[ve].length;Te++)for(var De=0;De<D;De++)V.vertices.push(R[ve][Te][De]);ve>0&&(ne+=R[ve-1].length,V.holes.push(ne))}return V},_g.default=tA;function yA(R,D,V,ne,ve){ix(R,D,V||0,ne||R.length-1,ve||mA)}function ix(R,D,V,ne,ve){for(;ne>V;){if(ne-V>600){var Te=ne-V+1,De=D-V+1,Ke=Math.log(Te),ut=.5*Math.exp(2*Ke/3),Tt=.5*Math.sqrt(Ke*ut*(Te-ut)/Te)*(De-Te/2<0?-1:1),St=Math.max(V,Math.floor(D-De*ut/Te+Tt)),Gt=Math.min(ne,Math.floor(D+(Te-De)*ut/Te+Tt));ix(R,D,St,Gt,ve)}var ir=R[D],$t=V,br=ne;for(hd(R,V,D),ve(R[ne],ir)>0&&hd(R,V,ne);$t<br;){for(hd(R,$t,br),$t++,br--;ve(R[$t],ir)<0;)$t++;for(;ve(R[br],ir)>0;)br--}ve(R[V],ir)===0?hd(R,V,br):(br++,hd(R,br,ne)),br<=D&&(V=br+1),D<=br&&(ne=br-1)}}function hd(R,D,V){var ne=R[D];R[D]=R[V],R[V]=ne}function mA(R,D){return R<D?-1:R>D?1:0}function Bg(R,D){var V=R.length;if(V<=1)return[R];for(var ne=[],ve,Te,De=0;De<V;De++){var Ke=O(R[De]);Ke!==0&&(R[De].area=Math.abs(Ke),Te===void 0&&(Te=Ke<0),Te===Ke<0?(ve&&ne.push(ve),ve=[R[De]]):ve.push(R[De]))}if(ve&&ne.push(ve),D>1)for(var ut=0;ut<ne.length;ut++)ne[ut].length<=D||(yA(ne[ut],D,1,ne[ut].length-1,xA),ne[ut]=ne[ut].slice(0,D));return ne}function xA(R,D){return D.area-R.area}function Ug(R,D,V){for(var ne=V.patternDependencies,ve=!1,Te=0,De=D;Te<De.length;Te+=1){var Ke=De[Te],ut=Ke.paint.get(R+"-pattern");ut.isConstant()||(ve=!0);var Tt=ut.constantOr(null);Tt&&(ve=!0,ne[Tt.to]=!0,ne[Tt.from]=!0)}return ve}function Hg(R,D,V,ne,ve){for(var Te=ve.patternDependencies,De=0,Ke=D;De<Ke.length;De+=1){var ut=Ke[De],Tt=ut.paint.get(R+"-pattern"),St=Tt.value;if(St.kind!=="constant"){var Gt=St.evaluate({zoom:ne-1},V,{},ve.availableImages),ir=St.evaluate({zoom:ne},V,{},ve.availableImages),$t=St.evaluate({zoom:ne+1},V,{},ve.availableImages);Gt=Gt&&Gt.name?Gt.name:Gt,ir=ir&&ir.name?ir.name:ir,$t=$t&&$t.name?$t.name:$t,Te[Gt]=!0,Te[ir]=!0,Te[$t]=!0,V.patterns[ut.id]={min:Gt,mid:ir,max:$t}}}return V}var bA=500,bu=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(V){return V.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new mh,this.indexArray=new mu,this.indexArray2=new wh,this.programConfigurations=new Ha(ex,D.layers,D.zoom),this.segments=new Z,this.segments2=new Z,this.stateDependentLayerIds=this.layers.filter(function(V){return V.isStateDependent()}).map(function(V){return V.id})};bu.prototype.populate=function(D,V,ne){this.hasPattern=Ug("fill",this.layers,V);for(var ve=this.layers[0].layout.get("fill-sort-key"),Te=[],De=0,Ke=D;De<Ke.length;De+=1){var ut=Ke[De],Tt=ut.feature,St=ut.id,Gt=ut.index,ir=ut.sourceLayerIndex,$t=this.layers[0]._featureFilter.needGeometry,br={type:Tt.type,id:St,properties:Tt.properties,geometry:$t?vi(Tt):[]};if(this.layers[0]._featureFilter.filter(new Vn(this.zoom),br,ne)){$t||(br.geometry=vi(Tt));var Or=ve?ve.evaluate(br,{},ne,V.availableImages):void 0,ln={id:St,properties:Tt.properties,type:Tt.type,sourceLayerIndex:ir,index:Gt,geometry:br.geometry,patterns:{},sortKey:Or};Te.push(ln)}}ve&&Te.sort(function(ha,ma){return ha.sortKey-ma.sortKey});for(var $r=0,Ln=Te;$r<Ln.length;$r+=1){var wn=Ln[$r],Cn=wn,kn=Cn.geometry,Gn=Cn.index,ra=Cn.sourceLayerIndex;if(this.hasPattern){var ta=Hg("fill",this.layers,wn,this.zoom,V);this.patternFeatures.push(ta)}else this.addFeature(wn,kn,Gn,ne,{});var Ea=D[Gn].feature;V.featureIndex.insert(Ea,kn,Gn,ra,this.index)}},bu.prototype.update=function(D,V,ne){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,V,this.stateDependentLayers,ne)},bu.prototype.addFeatures=function(D,V,ne){for(var ve=0,Te=this.patternFeatures;ve<Te.length;ve+=1){var De=Te[ve];this.addFeature(De,De.geometry,De.index,V,ne)}},bu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},bu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},bu.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,ex),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.indexBuffer2=D.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(D),this.uploaded=!0},bu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},bu.prototype.addFeature=function(D,V,ne,ve,Te){for(var De=0,Ke=Bg(V,bA);De<Ke.length;De+=1){for(var ut=Ke[De],Tt=0,St=0,Gt=ut;St<Gt.length;St+=1){var ir=Gt[St];Tt+=ir.length}for(var $t=this.segments.prepareSegment(Tt,this.layoutVertexArray,this.indexArray),br=$t.vertexLength,Or=[],ln=[],$r=0,Ln=ut;$r<Ln.length;$r+=1){var wn=Ln[$r];if(wn.length!==0){wn!==ut[0]&&ln.push(Or.length/2);var Cn=this.segments2.prepareSegment(wn.length,this.layoutVertexArray,this.indexArray2),kn=Cn.vertexLength;this.layoutVertexArray.emplaceBack(wn[0].x,wn[0].y),this.indexArray2.emplaceBack(kn+wn.length-1,kn),Or.push(wn[0].x),Or.push(wn[0].y);for(var Gn=1;Gn<wn.length;Gn++)this.layoutVertexArray.emplaceBack(wn[Gn].x,wn[Gn].y),this.indexArray2.emplaceBack(kn+Gn-1,kn+Gn),Or.push(wn[Gn].x),Or.push(wn[Gn].y);Cn.vertexLength+=wn.length,Cn.primitiveLength+=wn.length}}for(var ra=_g(Or,ln),ta=0;ta<ra.length;ta+=3)this.indexArray.emplaceBack(br+ra[ta],br+ra[ta+1],br+ra[ta+2]);$t.vertexLength+=Tt,$t.primitiveLength+=ra.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ne,Te,ve)},ue("FillBucket",bu,{omit:["layers","patternFeatures"]});var wA=new $i({"fill-sort-key":new Sa(jt.layout_fill["fill-sort-key"])}),TA=new $i({"fill-antialias":new ya(jt.paint_fill["fill-antialias"]),"fill-opacity":new Sa(jt.paint_fill["fill-opacity"]),"fill-color":new Sa(jt.paint_fill["fill-color"]),"fill-outline-color":new Sa(jt.paint_fill["fill-outline-color"]),"fill-translate":new ya(jt.paint_fill["fill-translate"]),"fill-translate-anchor":new ya(jt.paint_fill["fill-translate-anchor"]),"fill-pattern":new wi(jt.paint_fill["fill-pattern"])}),AA={paint:TA,layout:wA},MA=function(R){function D(V){R.call(this,V,AA)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(ne,ve){R.prototype.recalculate.call(this,ne,ve);var Te=this.paint._values["fill-outline-color"];Te.value.kind==="constant"&&Te.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},D.prototype.createBucket=function(ne){return new bu(ne)},D.prototype.queryRadius=function(){return Wl(this.paint.get("fill-translate"))},D.prototype.queryIntersectsFeature=function(ne,ve,Te,De,Ke,ut,Tt){var St=wl(ne,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),ut.angle,Tt);return Hi(St,De)},D.prototype.isTileClipped=function(){return!0},D}(Ci),SA=Ti([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),ox=SA.members,sx=nv;function nv(R,D,V,ne,ve){this.properties={},this.extent=V,this.type=0,this._pbf=R,this._geometry=-1,this._keys=ne,this._values=ve,R.readFields(EA,this,D)}function EA(R,D,V){R==1?D.id=V.readVarint():R==2?CA(V,D):R==3?D.type=V.readVarint():R==4&&(D._geometry=V.pos)}function CA(R,D){for(var V=R.readVarint()+R.pos;R.pos<V;){var ne=D._keys[R.readVarint()],ve=D._values[R.readVarint()];D.properties[ne]=ve}}nv.types=["Unknown","Point","LineString","Polygon"],nv.prototype.loadGeometry=function(){var R=this._pbf;R.pos=this._geometry;for(var D=R.readVarint()+R.pos,V=1,ne=0,ve=0,Te=0,De=[],Ke;R.pos<D;){if(ne<=0){var ut=R.readVarint();V=ut&7,ne=ut>>3}if(ne--,V===1||V===2)ve+=R.readSVarint(),Te+=R.readSVarint(),V===1&&(Ke&&De.push(Ke),Ke=[]),Ke.push(new t(ve,Te));else if(V===7)Ke&&Ke.push(Ke[0].clone());else throw new Error("unknown command "+V)}return Ke&&De.push(Ke),De},nv.prototype.bbox=function(){var R=this._pbf;R.pos=this._geometry;for(var D=R.readVarint()+R.pos,V=1,ne=0,ve=0,Te=0,De=1/0,Ke=-1/0,ut=1/0,Tt=-1/0;R.pos<D;){if(ne<=0){var St=R.readVarint();V=St&7,ne=St>>3}if(ne--,V===1||V===2)ve+=R.readSVarint(),Te+=R.readSVarint(),ve<De&&(De=ve),ve>Ke&&(Ke=ve),Te<ut&&(ut=Te),Te>Tt&&(Tt=Te);else if(V!==7)throw new Error("unknown command "+V)}return[De,ut,Ke,Tt]},nv.prototype.toGeoJSON=function(R,D,V){var ne=this.extent*Math.pow(2,V),ve=this.extent*R,Te=this.extent*D,De=this.loadGeometry(),Ke=nv.types[this.type],ut,Tt;function St($t){for(var br=0;br<$t.length;br++){var Or=$t[br],ln=180-(Or.y+Te)*360/ne;$t[br]=[(Or.x+ve)*360/ne-180,360/Math.PI*Math.atan(Math.exp(ln*Math.PI/180))-90]}}switch(this.type){case 1:var Gt=[];for(ut=0;ut<De.length;ut++)Gt[ut]=De[ut][0];De=Gt,St(De);break;case 2:for(ut=0;ut<De.length;ut++)St(De[ut]);break;case 3:for(De=LA(De),ut=0;ut<De.length;ut++)for(Tt=0;Tt<De[ut].length;Tt++)St(De[ut][Tt]);break}De.length===1?De=De[0]:Ke="Multi"+Ke;var ir={type:"Feature",geometry:{type:Ke,coordinates:De},properties:this.properties};return"id"in this&&(ir.id=this.id),ir};function LA(R){var D=R.length;if(D<=1)return[R];for(var V=[],ne,ve,Te=0;Te<D;Te++){var De=PA(R[Te]);De!==0&&(ve===void 0&&(ve=De<0),ve===De<0?(ne&&V.push(ne),ne=[R[Te]]):ne.push(R[Te]))}return ne&&V.push(ne),V}function PA(R){for(var D=0,V=0,ne=R.length,ve=ne-1,Te,De;V<ne;ve=V++)Te=R[V],De=R[ve],D+=(De.x-Te.x)*(Te.y+De.y);return D}var lx=ux;function ux(R,D){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=R,this._keys=[],this._values=[],this._features=[],R.readFields(RA,this,D),this.length=this._features.length}function RA(R,D,V){R===15?D.version=V.readVarint():R===1?D.name=V.readString():R===5?D.extent=V.readVarint():R===2?D._features.push(V.pos):R===3?D._keys.push(V.readString()):R===4&&D._values.push(DA(V))}function DA(R){for(var D=null,V=R.readVarint()+R.pos;R.pos<V;){var ne=R.readVarint()>>3;D=ne===1?R.readString():ne===2?R.readFloat():ne===3?R.readDouble():ne===4?R.readVarint64():ne===5?R.readVarint():ne===6?R.readSVarint():ne===7?R.readBoolean():null}return D}ux.prototype.feature=function(R){if(R<0||R>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[R];var D=this._pbf.readVarint()+this._pbf.pos;return new sx(this._pbf,D,this.extent,this._keys,this._values)};var IA=kA;function kA(R,D){this.layers=R.readFields(FA,{},D)}function FA(R,D,V){if(R===3){var ne=new lx(V,V.readVarint()+V.pos);ne.length&&(D[ne.name]=ne)}}var _A=IA,zA=sx,OA=lx,av={VectorTile:_A,VectorTileFeature:zA,VectorTileLayer:OA},NA=av.VectorTileFeature.types,BA=500,Vg=Math.pow(2,13);function vd(R,D,V,ne,ve,Te,De,Ke){R.emplaceBack(D,V,Math.floor(ne*Vg)*2+De,ve*Vg*2,Te*Vg*2,Math.round(Ke))}var wu=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(V){return V.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new yc,this.indexArray=new mu,this.programConfigurations=new Ha(ox,D.layers,D.zoom),this.segments=new Z,this.stateDependentLayerIds=this.layers.filter(function(V){return V.isStateDependent()}).map(function(V){return V.id})};wu.prototype.populate=function(D,V,ne){this.features=[],this.hasPattern=Ug("fill-extrusion",this.layers,V);for(var ve=0,Te=D;ve<Te.length;ve+=1){var De=Te[ve],Ke=De.feature,ut=De.id,Tt=De.index,St=De.sourceLayerIndex,Gt=this.layers[0]._featureFilter.needGeometry,ir={type:Ke.type,id:ut,properties:Ke.properties,geometry:Gt?vi(Ke):[]};if(this.layers[0]._featureFilter.filter(new Vn(this.zoom),ir,ne)){var $t={id:ut,sourceLayerIndex:St,index:Tt,geometry:Gt?ir.geometry:vi(Ke),properties:Ke.properties,type:Ke.type,patterns:{}};typeof Ke.id<"u"&&($t.id=Ke.id),this.hasPattern?this.features.push(Hg("fill-extrusion",this.layers,$t,this.zoom,V)):this.addFeature($t,$t.geometry,Tt,ne,{}),V.featureIndex.insert(Ke,$t.geometry,Tt,St,this.index,!0)}}},wu.prototype.addFeatures=function(D,V,ne){for(var ve=0,Te=this.features;ve<Te.length;ve+=1){var De=Te[ve],Ke=De.geometry;this.addFeature(De,Ke,De.index,V,ne)}},wu.prototype.update=function(D,V,ne){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,V,this.stateDependentLayers,ne)},wu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},wu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},wu.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,ox),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},wu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},wu.prototype.addFeature=function(D,V,ne,ve,Te){for(var De=0,Ke=Bg(V,BA);De<Ke.length;De+=1){for(var ut=Ke[De],Tt=0,St=0,Gt=ut;St<Gt.length;St+=1){var ir=Gt[St];Tt+=ir.length}for(var $t=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),br=0,Or=ut;br<Or.length;br+=1){var ln=Or[br];if(ln.length!==0&&!HA(ln))for(var $r=0,Ln=0;Ln<ln.length;Ln++){var wn=ln[Ln];if(Ln>=1){var Cn=ln[Ln-1];if(!UA(wn,Cn)){$t.vertexLength+4>Z.MAX_VERTEX_ARRAY_LENGTH&&($t=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var kn=wn.sub(Cn)._perp()._unit(),Gn=Cn.dist(wn);$r+Gn>32768&&($r=0),vd(this.layoutVertexArray,wn.x,wn.y,kn.x,kn.y,0,0,$r),vd(this.layoutVertexArray,wn.x,wn.y,kn.x,kn.y,0,1,$r),$r+=Gn,vd(this.layoutVertexArray,Cn.x,Cn.y,kn.x,kn.y,0,0,$r),vd(this.layoutVertexArray,Cn.x,Cn.y,kn.x,kn.y,0,1,$r);var ra=$t.vertexLength;this.indexArray.emplaceBack(ra,ra+2,ra+1),this.indexArray.emplaceBack(ra+1,ra+2,ra+3),$t.vertexLength+=4,$t.primitiveLength+=2}}}}if($t.vertexLength+Tt>Z.MAX_VERTEX_ARRAY_LENGTH&&($t=this.segments.prepareSegment(Tt,this.layoutVertexArray,this.indexArray)),NA[D.type]==="Polygon"){for(var ta=[],Ea=[],ha=$t.vertexLength,ma=0,Ba=ut;ma<Ba.length;ma+=1){var Aa=Ba[ma];if(Aa.length!==0){Aa!==ut[0]&&Ea.push(ta.length/2);for(var Ma=0;Ma<Aa.length;Ma++){var Ya=Aa[Ma];vd(this.layoutVertexArray,Ya.x,Ya.y,0,0,1,1,0),ta.push(Ya.x),ta.push(Ya.y)}}}for(var za=_g(ta,Ea),ri=0;ri<za.length;ri+=3)this.indexArray.emplaceBack(ha+za[ri],ha+za[ri+2],ha+za[ri+1]);$t.primitiveLength+=za.length/3,$t.vertexLength+=Tt}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ne,Te,ve)},ue("FillExtrusionBucket",wu,{omit:["layers","features"]});function UA(R,D){return R.x===D.x&&(R.x<0||R.x>Pa)||R.y===D.y&&(R.y<0||R.y>Pa)}function HA(R){return R.every(function(D){return D.x<0})||R.every(function(D){return D.x>Pa})||R.every(function(D){return D.y<0})||R.every(function(D){return D.y>Pa})}var VA=new $i({"fill-extrusion-opacity":new ya(jt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Sa(jt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ya(jt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ya(jt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new wi(jt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Sa(jt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Sa(jt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ya(jt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),GA={paint:VA},WA=function(R){function D(V){R.call(this,V,GA)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ne){return new wu(ne)},D.prototype.queryRadius=function(){return Wl(this.paint.get("fill-extrusion-translate"))},D.prototype.is3D=function(){return!0},D.prototype.queryIntersectsFeature=function(ne,ve,Te,De,Ke,ut,Tt,St){var Gt=wl(ne,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),ut.angle,Tt),ir=this.paint.get("fill-extrusion-height").evaluate(ve,Te),$t=this.paint.get("fill-extrusion-base").evaluate(ve,Te),br=ZA(Gt,St,ut,0),Or=jA(De,$t,ir,St),ln=Or[0],$r=Or[1];return YA(ln,$r,br)},D}(Ci);function dd(R,D){return R.x*D.x+R.y*D.y}function fx(R,D){if(R.length===1){for(var V=0,ne=D[V++],ve;!ve||ne.equals(ve);)if(ve=D[V++],!ve)return 1/0;for(;V<D.length;V++){var Te=D[V],De=R[0],Ke=ve.sub(ne),ut=Te.sub(ne),Tt=De.sub(ne),St=dd(Ke,Ke),Gt=dd(Ke,ut),ir=dd(ut,ut),$t=dd(Tt,Ke),br=dd(Tt,ut),Or=St*ir-Gt*Gt,ln=(ir*$t-Gt*br)/Or,$r=(St*br-Gt*$t)/Or,Ln=1-ln-$r,wn=ne.z*Ln+ve.z*ln+Te.z*$r;if(isFinite(wn))return wn}return 1/0}else{for(var Cn=1/0,kn=0,Gn=D;kn<Gn.length;kn+=1){var ra=Gn[kn];Cn=Math.min(Cn,ra.z)}return Cn}}function YA(R,D,V){var ne=1/0;Hi(V,D)&&(ne=fx(V,D[0]));for(var ve=0;ve<D.length;ve++)for(var Te=D[ve],De=R[ve],Ke=0;Ke<Te.length-1;Ke++){var ut=Te[Ke],Tt=Te[Ke+1],St=De[Ke],Gt=De[Ke+1],ir=[ut,Tt,Gt,St,ut];Va(V,ir)&&(ne=Math.min(ne,fx(V,ir)))}return ne===1/0?!1:ne}function jA(R,D,V,ne){for(var ve=[],Te=[],De=ne[8]*D,Ke=ne[9]*D,ut=ne[10]*D,Tt=ne[11]*D,St=ne[8]*V,Gt=ne[9]*V,ir=ne[10]*V,$t=ne[11]*V,br=0,Or=R;br<Or.length;br+=1){for(var ln=Or[br],$r=[],Ln=[],wn=0,Cn=ln;wn<Cn.length;wn+=1){var kn=Cn[wn],Gn=kn.x,ra=kn.y,ta=ne[0]*Gn+ne[4]*ra+ne[12],Ea=ne[1]*Gn+ne[5]*ra+ne[13],ha=ne[2]*Gn+ne[6]*ra+ne[14],ma=ne[3]*Gn+ne[7]*ra+ne[15],Ba=ta+De,Aa=Ea+Ke,Ma=ha+ut,Ya=ma+Tt,za=ta+St,ri=Ea+Gt,xi=ha+ir,ni=ma+$t,ai=new t(Ba/Ya,Aa/Ya);ai.z=Ma/Ya,$r.push(ai);var qa=new t(za/ni,ri/ni);qa.z=xi/ni,Ln.push(qa)}ve.push($r),Te.push(Ln)}return[ve,Te]}function ZA(R,D,V,ne){for(var ve=[],Te=0,De=R;Te<De.length;Te+=1){var Ke=De[Te],ut=[Ke.x,Ke.y,ne,1];Lp(ut,ut,D),ve.push(new t(ut[0]/ut[3],ut[1]/ut[3]))}return ve}var XA=Ti([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),cx=XA.members,KA=av.VectorTileFeature.types,hx=63,JA=Math.cos(75/2*(Math.PI/180)),QA=15,$A=20,qA=15,vx=1/2,dx=Math.pow(2,qA-1)/vx,bs=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(V){return V.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Zh,this.indexArray=new mu,this.programConfigurations=new Ha(cx,D.layers,D.zoom),this.segments=new Z,this.stateDependentLayerIds=this.layers.filter(function(V){return V.isStateDependent()}).map(function(V){return V.id})};bs.prototype.populate=function(D,V,ne){this.hasPattern=Ug("line",this.layers,V);for(var ve=this.layers[0].layout.get("line-sort-key"),Te=[],De=0,Ke=D;De<Ke.length;De+=1){var ut=Ke[De],Tt=ut.feature,St=ut.id,Gt=ut.index,ir=ut.sourceLayerIndex,$t=this.layers[0]._featureFilter.needGeometry,br={type:Tt.type,id:St,properties:Tt.properties,geometry:$t?vi(Tt):[]};if(this.layers[0]._featureFilter.filter(new Vn(this.zoom),br,ne)){$t||(br.geometry=vi(Tt));var Or=ve?ve.evaluate(br,{},ne):void 0,ln={id:St,properties:Tt.properties,type:Tt.type,sourceLayerIndex:ir,index:Gt,geometry:br.geometry,patterns:{},sortKey:Or};Te.push(ln)}}ve&&Te.sort(function(ha,ma){return ha.sortKey-ma.sortKey});for(var $r=0,Ln=Te;$r<Ln.length;$r+=1){var wn=Ln[$r],Cn=wn,kn=Cn.geometry,Gn=Cn.index,ra=Cn.sourceLayerIndex;if(this.hasPattern){var ta=Hg("line",this.layers,wn,this.zoom,V);this.patternFeatures.push(ta)}else this.addFeature(wn,kn,Gn,ne,{});var Ea=D[Gn].feature;V.featureIndex.insert(Ea,kn,Gn,ra,this.index)}},bs.prototype.update=function(D,V,ne){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,V,this.stateDependentLayers,ne)},bs.prototype.addFeatures=function(D,V,ne){for(var ve=0,Te=this.patternFeatures;ve<Te.length;ve+=1){var De=Te[ve];this.addFeature(De,De.geometry,De.index,V,ne)}},bs.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},bs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},bs.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,cx),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},bs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},bs.prototype.addFeature=function(D,V,ne,ve,Te){for(var De=this.layers[0].layout,Ke=De.get("line-join").evaluate(D,{}),ut=De.get("line-cap"),Tt=De.get("line-miter-limit"),St=De.get("line-round-limit"),Gt=0,ir=V;Gt<ir.length;Gt+=1){var $t=ir[Gt];this.addLine($t,D,Ke,ut,Tt,St)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ne,Te,ve)},bs.prototype.addLine=function(D,V,ne,ve,Te,De){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,V.properties&&V.properties.hasOwnProperty("mapbox_clip_start")&&V.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+V.properties.mapbox_clip_start,this.clipEnd=+V.properties.mapbox_clip_end;for(var Ke=0;Ke<D.length-1;Ke++)this.totalDistance+=D[Ke].dist(D[Ke+1]);this.updateScaledDistance()}for(var ut=KA[V.type]==="Polygon",Tt=D.length;Tt>=2&&D[Tt-1].equals(D[Tt-2]);)Tt--;for(var St=0;St<Tt-1&&D[St].equals(D[St+1]);)St++;if(!(Tt<(ut?3:2))){ne==="bevel"&&(Te=1.05);var Gt=this.overscaling<=16?QA*Pa/(512*this.overscaling):0,ir=this.segments.prepareSegment(Tt*10,this.layoutVertexArray,this.indexArray),$t,br=void 0,Or=void 0,ln=void 0,$r=void 0;this.e1=this.e2=-1,ut&&($t=D[Tt-2],$r=D[St].sub($t)._unit()._perp());for(var Ln=St;Ln<Tt;Ln++)if(Or=Ln===Tt-1?ut?D[St+1]:void 0:D[Ln+1],!(Or&&D[Ln].equals(Or))){$r&&(ln=$r),$t&&(br=$t),$t=D[Ln],$r=Or?Or.sub($t)._unit()._perp():ln,ln=ln||$r;var wn=ln.add($r);(wn.x!==0||wn.y!==0)&&wn._unit();var Cn=ln.x*$r.x+ln.y*$r.y,kn=wn.x*$r.x+wn.y*$r.y,Gn=kn!==0?1/kn:1/0,ra=2*Math.sqrt(2-2*kn),ta=kn<JA&&br&&Or,Ea=ln.x*$r.y-ln.y*$r.x>0;if(ta&&Ln>St){var ha=$t.dist(br);if(ha>2*Gt){var ma=$t.sub($t.sub(br)._mult(Gt/ha)._round());this.updateDistance(br,ma),this.addCurrentVertex(ma,ln,0,0,ir),br=ma}}var Ba=br&&Or,Aa=Ba?ne:ut?"butt":ve;if(Ba&&Aa==="round"&&(Gn<De?Aa="miter":Gn<=2&&(Aa="fakeround")),Aa==="miter"&&Gn>Te&&(Aa="bevel"),Aa==="bevel"&&(Gn>2&&(Aa="flipbevel"),Gn<Te&&(Aa="miter")),br&&this.updateDistance(br,$t),Aa==="miter")wn._mult(Gn),this.addCurrentVertex($t,wn,0,0,ir);else if(Aa==="flipbevel"){if(Gn>100)wn=$r.mult(-1);else{var Ma=Gn*ln.add($r).mag()/ln.sub($r).mag();wn._perp()._mult(Ma*(Ea?-1:1))}this.addCurrentVertex($t,wn,0,0,ir),this.addCurrentVertex($t,wn.mult(-1),0,0,ir)}else if(Aa==="bevel"||Aa==="fakeround"){var Ya=-Math.sqrt(Gn*Gn-1),za=Ea?Ya:0,ri=Ea?0:Ya;if(br&&this.addCurrentVertex($t,ln,za,ri,ir),Aa==="fakeround")for(var xi=Math.round(ra*180/Math.PI/$A),ni=1;ni<xi;ni++){var ai=ni/xi;if(ai!==.5){var qa=ai-.5,Ei=1.0904+Cn*(-3.2452+Cn*(3.55645-Cn*1.43519)),Pi=.848013+Cn*(-1.06021+Cn*.215638);ai=ai+ai*qa*(ai-1)*(Ei*qa*qa+Pi)}var Vi=$r.sub(ln)._mult(ai)._add(ln)._unit()._mult(Ea?-1:1);this.addHalfVertex($t,Vi.x,Vi.y,!1,Ea,0,ir)}Or&&this.addCurrentVertex($t,$r,-za,-ri,ir)}else if(Aa==="butt")this.addCurrentVertex($t,wn,0,0,ir);else if(Aa==="square"){var ji=br?1:-1;this.addCurrentVertex($t,wn,ji,ji,ir)}else Aa==="round"&&(br&&(this.addCurrentVertex($t,ln,0,0,ir),this.addCurrentVertex($t,ln,1,1,ir,!0)),Or&&(this.addCurrentVertex($t,$r,-1,-1,ir,!0),this.addCurrentVertex($t,$r,0,0,ir)));if(ta&&Ln<Tt-1){var wo=$t.dist(Or);if(wo>2*Gt){var so=$t.add(Or.sub($t)._mult(Gt/wo)._round());this.updateDistance($t,so),this.addCurrentVertex(so,$r,0,0,ir),$t=so}}}}},bs.prototype.addCurrentVertex=function(D,V,ne,ve,Te,De){De===void 0&&(De=!1);var Ke=V.x+V.y*ne,ut=V.y-V.x*ne,Tt=-V.x+V.y*ve,St=-V.y-V.x*ve;this.addHalfVertex(D,Ke,ut,De,!1,ne,Te),this.addHalfVertex(D,Tt,St,De,!0,-ve,Te),this.distance>dx/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(D,V,ne,ve,Te,De))},bs.prototype.addHalfVertex=function(D,V,ne,ve,Te,De,Ke){var ut=D.x,Tt=D.y,St=this.scaledDistance*vx;this.layoutVertexArray.emplaceBack((ut<<1)+(ve?1:0),(Tt<<1)+(Te?1:0),Math.round(hx*V)+128,Math.round(hx*ne)+128,(De===0?0:De<0?-1:1)+1|(St&63)<<2,St>>6);var Gt=Ke.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Gt),Ke.primitiveLength++),Te?this.e2=Gt:this.e1=Gt},bs.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(dx-1):this.distance},bs.prototype.updateDistance=function(D,V){this.distance+=D.dist(V),this.updateScaledDistance()},ue("LineBucket",bs,{omit:["layers","patternFeatures"]});var e4=new $i({"line-cap":new ya(jt.layout_line["line-cap"]),"line-join":new Sa(jt.layout_line["line-join"]),"line-miter-limit":new ya(jt.layout_line["line-miter-limit"]),"line-round-limit":new ya(jt.layout_line["line-round-limit"]),"line-sort-key":new Sa(jt.layout_line["line-sort-key"])}),t4=new $i({"line-opacity":new Sa(jt.paint_line["line-opacity"]),"line-color":new Sa(jt.paint_line["line-color"]),"line-translate":new ya(jt.paint_line["line-translate"]),"line-translate-anchor":new ya(jt.paint_line["line-translate-anchor"]),"line-width":new Sa(jt.paint_line["line-width"]),"line-gap-width":new Sa(jt.paint_line["line-gap-width"]),"line-offset":new Sa(jt.paint_line["line-offset"]),"line-blur":new Sa(jt.paint_line["line-blur"]),"line-dasharray":new Bi(jt.paint_line["line-dasharray"]),"line-pattern":new wi(jt.paint_line["line-pattern"]),"line-gradient":new _o(jt.paint_line["line-gradient"])}),px={paint:t4,layout:e4},r4=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(ne,ve){return ve=new Vn(Math.floor(ve.zoom),{now:ve.now,fadeDuration:ve.fadeDuration,zoomHistory:ve.zoomHistory,transition:ve.transition}),R.prototype.possiblyEvaluate.call(this,ne,ve)},D.prototype.evaluate=function(ne,ve,Te,De){return ve=o({},ve,{zoom:Math.floor(ve.zoom)}),R.prototype.evaluate.call(this,ne,ve,Te,De)},D}(Sa),gx=new r4(px.paint.properties["line-width"].specification);gx.useIntegerZoom=!0;var n4=function(R){function D(V){R.call(this,V,px)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._handleSpecialPaintPropertyUpdate=function(ne){ne==="line-gradient"&&this._updateGradient()},D.prototype._updateGradient=function(){var ne=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=qm(ne,"lineProgress"),this.gradientTexture=null},D.prototype.recalculate=function(ne,ve){R.prototype.recalculate.call(this,ne,ve),this.paint._values["line-floorwidth"]=gx.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ne)},D.prototype.createBucket=function(ne){return new bs(ne)},D.prototype.queryRadius=function(ne){var ve=ne,Te=yx(_s("line-width",this,ve),_s("line-gap-width",this,ve)),De=_s("line-offset",this,ve);return Te/2+Math.abs(De)+Wl(this.paint.get("line-translate"))},D.prototype.queryIntersectsFeature=function(ne,ve,Te,De,Ke,ut,Tt){var St=wl(ne,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),ut.angle,Tt),Gt=Tt/2*yx(this.paint.get("line-width").evaluate(ve,Te),this.paint.get("line-gap-width").evaluate(ve,Te)),ir=this.paint.get("line-offset").evaluate(ve,Te);return ir&&(De=a4(De,ir*Tt)),no(St,De,Gt)},D.prototype.isTileClipped=function(){return!0},D}(Ci);function yx(R,D){return D>0?D+2*R:R}function a4(R,D){for(var V=[],ne=new t(0,0),ve=0;ve<R.length;ve++){for(var Te=R[ve],De=[],Ke=0;Ke<Te.length;Ke++){var ut=Te[Ke-1],Tt=Te[Ke],St=Te[Ke+1],Gt=Ke===0?ne:Tt.sub(ut)._unit()._perp(),ir=Ke===Te.length-1?ne:St.sub(Tt)._unit()._perp(),$t=Gt._add(ir)._unit(),br=$t.x*ir.x+$t.y*ir.y;$t._mult(1/br),De.push($t._mult(D)._add(Tt))}V.push(De)}return V}var Gg=Ti([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),i4=Ti([{name:"a_projected_pos",components:3,type:"Float32"}],4);Ti([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var o4=Ti([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Ti([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var mx=Ti([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),s4=Ti([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Ti([{name:"triangle",components:3,type:"Uint16"}]),Ti([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ti([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ti([{type:"Float32",name:"offsetX"}]),Ti([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function l4(R,D,V){var ne=D.layout.get("text-transform").evaluate(V,{});return ne==="uppercase"?R=R.toLocaleUpperCase():ne==="lowercase"&&(R=R.toLocaleLowerCase()),ti.applyArabicShaping&&(R=ti.applyArabicShaping(R)),R}function u4(R,D,V){return R.sections.forEach(function(ne){ne.text=l4(ne.text,D,V)}),R}function f4(R){var D={},V={},ne=[],ve=0;function Te($r){ne.push(R[$r]),ve++}function De($r,Ln,wn){var Cn=V[$r];return delete V[$r],V[Ln]=Cn,ne[Cn].geometry[0].pop(),ne[Cn].geometry[0]=ne[Cn].geometry[0].concat(wn[0]),Cn}function Ke($r,Ln,wn){var Cn=D[Ln];return delete D[Ln],D[$r]=Cn,ne[Cn].geometry[0].shift(),ne[Cn].geometry[0]=wn[0].concat(ne[Cn].geometry[0]),Cn}function ut($r,Ln,wn){var Cn=wn?Ln[0][Ln[0].length-1]:Ln[0][0];return $r+":"+Cn.x+":"+Cn.y}for(var Tt=0;Tt<R.length;Tt++){var St=R[Tt],Gt=St.geometry,ir=St.text?St.text.toString():null;if(!ir){Te(Tt);continue}var $t=ut(ir,Gt),br=ut(ir,Gt,!0);if($t in V&&br in D&&V[$t]!==D[br]){var Or=Ke($t,br,Gt),ln=De($t,br,ne[Or].geometry);delete D[$t],delete V[br],V[ut(ir,ne[ln].geometry,!0)]=ln,ne[Or].geometry=null}else $t in V?De($t,br,Gt):br in D?Ke($t,br,Gt):(Te(Tt),D[$t]=ve-1,V[br]=ve-1)}return ne.filter(function($r){return $r.geometry})}var pd={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function c4(R){for(var D="",V=0;V<R.length;V++){var ne=R.charCodeAt(V+1)||null,ve=R.charCodeAt(V-1)||null,Te=(!ne||!rn(ne)||pd[R[V+1]])&&(!ve||!rn(ve)||pd[R[V-1]]);Te&&pd[R[V]]?D+=pd[R[V]]:D+=R[V]}return D}var Ro=24,h4=function(R,D,V,ne,ve){var Te,De,Ke=ve*8-ne-1,ut=(1<<Ke)-1,Tt=ut>>1,St=-7,Gt=V?ve-1:0,ir=V?-1:1,$t=R[D+Gt];for(Gt+=ir,Te=$t&(1<<-St)-1,$t>>=-St,St+=Ke;St>0;Te=Te*256+R[D+Gt],Gt+=ir,St-=8);for(De=Te&(1<<-St)-1,Te>>=-St,St+=ne;St>0;De=De*256+R[D+Gt],Gt+=ir,St-=8);if(Te===0)Te=1-Tt;else{if(Te===ut)return De?NaN:($t?-1:1)*(1/0);De=De+Math.pow(2,ne),Te=Te-Tt}return($t?-1:1)*De*Math.pow(2,Te-ne)},v4=function(R,D,V,ne,ve,Te){var De,Ke,ut,Tt=Te*8-ve-1,St=(1<<Tt)-1,Gt=St>>1,ir=ve===23?Math.pow(2,-24)-Math.pow(2,-77):0,$t=ne?0:Te-1,br=ne?1:-1,Or=D<0||D===0&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(Ke=isNaN(D)?1:0,De=St):(De=Math.floor(Math.log(D)/Math.LN2),D*(ut=Math.pow(2,-De))<1&&(De--,ut*=2),De+Gt>=1?D+=ir/ut:D+=ir*Math.pow(2,1-Gt),D*ut>=2&&(De++,ut/=2),De+Gt>=St?(Ke=0,De=St):De+Gt>=1?(Ke=(D*ut-1)*Math.pow(2,ve),De=De+Gt):(Ke=D*Math.pow(2,Gt-1)*Math.pow(2,ve),De=0));ve>=8;R[V+$t]=Ke&255,$t+=br,Ke/=256,ve-=8);for(De=De<<ve|Ke,Tt+=ve;Tt>0;R[V+$t]=De&255,$t+=br,De/=256,Tt-=8);R[V+$t-br]|=Or*128},kp={read:h4,write:v4},Fp=Li;function Li(R){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(R)?R:new Uint8Array(R||0),this.pos=0,this.type=0,this.length=this.buf.length}Li.Varint=0,Li.Fixed64=1,Li.Bytes=2,Li.Fixed32=5;var Wg=65536*65536,xx=1/Wg,d4=12,bx=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Li.prototype={destroy:function(){this.buf=null},readFields:function(R,D,V){for(V=V||this.length;this.pos<V;){var ne=this.readVarint(),ve=ne>>3,Te=this.pos;this.type=ne&7,R(ve,D,this),this.pos===Te&&this.skip(ne)}return D},readMessage:function(R,D){return this.readFields(R,D,this.readVarint()+this.pos)},readFixed32:function(){var R=_p(this.buf,this.pos);return this.pos+=4,R},readSFixed32:function(){var R=Tx(this.buf,this.pos);return this.pos+=4,R},readFixed64:function(){var R=_p(this.buf,this.pos)+_p(this.buf,this.pos+4)*Wg;return this.pos+=8,R},readSFixed64:function(){var R=_p(this.buf,this.pos)+Tx(this.buf,this.pos+4)*Wg;return this.pos+=8,R},readFloat:function(){var R=kp.read(this.buf,this.pos,!0,23,4);return this.pos+=4,R},readDouble:function(){var R=kp.read(this.buf,this.pos,!0,52,8);return this.pos+=8,R},readVarint:function(R){var D=this.buf,V,ne;return ne=D[this.pos++],V=ne&127,ne<128||(ne=D[this.pos++],V|=(ne&127)<<7,ne<128)||(ne=D[this.pos++],V|=(ne&127)<<14,ne<128)||(ne=D[this.pos++],V|=(ne&127)<<21,ne<128)?V:(ne=D[this.pos],V|=(ne&15)<<28,p4(V,R,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var R=this.readVarint();return R%2===1?(R+1)/-2:R/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var R=this.readVarint()+this.pos,D=this.pos;return this.pos=R,R-D>=d4&&bx?P4(this.buf,D,R):L4(this.buf,D,R)},readBytes:function(){var R=this.readVarint()+this.pos,D=this.buf.subarray(this.pos,R);return this.pos=R,D},readPackedVarint:function(R,D){if(this.type!==Li.Bytes)return R.push(this.readVarint(D));var V=kf(this);for(R=R||[];this.pos<V;)R.push(this.readVarint(D));return R},readPackedSVarint:function(R){if(this.type!==Li.Bytes)return R.push(this.readSVarint());var D=kf(this);for(R=R||[];this.pos<D;)R.push(this.readSVarint());return R},readPackedBoolean:function(R){if(this.type!==Li.Bytes)return R.push(this.readBoolean());var D=kf(this);for(R=R||[];this.pos<D;)R.push(this.readBoolean());return R},readPackedFloat:function(R){if(this.type!==Li.Bytes)return R.push(this.readFloat());var D=kf(this);for(R=R||[];this.pos<D;)R.push(this.readFloat());return R},readPackedDouble:function(R){if(this.type!==Li.Bytes)return R.push(this.readDouble());var D=kf(this);for(R=R||[];this.pos<D;)R.push(this.readDouble());return R},readPackedFixed32:function(R){if(this.type!==Li.Bytes)return R.push(this.readFixed32());var D=kf(this);for(R=R||[];this.pos<D;)R.push(this.readFixed32());return R},readPackedSFixed32:function(R){if(this.type!==Li.Bytes)return R.push(this.readSFixed32());var D=kf(this);for(R=R||[];this.pos<D;)R.push(this.readSFixed32());return R},readPackedFixed64:function(R){if(this.type!==Li.Bytes)return R.push(this.readFixed64());var D=kf(this);for(R=R||[];this.pos<D;)R.push(this.readFixed64());return R},readPackedSFixed64:function(R){if(this.type!==Li.Bytes)return R.push(this.readSFixed64());var D=kf(this);for(R=R||[];this.pos<D;)R.push(this.readSFixed64());return R},skip:function(R){var D=R&7;if(D===Li.Varint)for(;this.buf[this.pos++]>127;);else if(D===Li.Bytes)this.pos=this.readVarint()+this.pos;else if(D===Li.Fixed32)this.pos+=4;else if(D===Li.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+D)},writeTag:function(R,D){this.writeVarint(R<<3|D)},realloc:function(R){for(var D=this.length||16;D<this.pos+R;)D*=2;if(D!==this.length){var V=new Uint8Array(D);V.set(this.buf),this.buf=V,this.length=D}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(R){this.realloc(4),ov(this.buf,R,this.pos),this.pos+=4},writeSFixed32:function(R){this.realloc(4),ov(this.buf,R,this.pos),this.pos+=4},writeFixed64:function(R){this.realloc(8),ov(this.buf,R&-1,this.pos),ov(this.buf,Math.floor(R*xx),this.pos+4),this.pos+=8},writeSFixed64:function(R){this.realloc(8),ov(this.buf,R&-1,this.pos),ov(this.buf,Math.floor(R*xx),this.pos+4),this.pos+=8},writeVarint:function(R){if(R=+R||0,R>268435455||R<0){g4(R,this);return}this.realloc(4),this.buf[this.pos++]=R&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=(R>>>=7)&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=(R>>>=7)&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=R>>>7&127)))},writeSVarint:function(R){this.writeVarint(R<0?-R*2-1:R*2)},writeBoolean:function(R){this.writeVarint(!!R)},writeString:function(R){R=String(R),this.realloc(R.length*4),this.pos++;var D=this.pos;this.pos=R4(this.buf,R,this.pos);var V=this.pos-D;V>=128&&wx(D,V,this),this.pos=D-1,this.writeVarint(V),this.pos+=V},writeFloat:function(R){this.realloc(4),kp.write(this.buf,R,this.pos,!0,23,4),this.pos+=4},writeDouble:function(R){this.realloc(8),kp.write(this.buf,R,this.pos,!0,52,8),this.pos+=8},writeBytes:function(R){var D=R.length;this.writeVarint(D),this.realloc(D);for(var V=0;V<D;V++)this.buf[this.pos++]=R[V]},writeRawMessage:function(R,D){this.pos++;var V=this.pos;R(D,this);var ne=this.pos-V;ne>=128&&wx(V,ne,this),this.pos=V-1,this.writeVarint(ne),this.pos+=ne},writeMessage:function(R,D,V){this.writeTag(R,Li.Bytes),this.writeRawMessage(D,V)},writePackedVarint:function(R,D){D.length&&this.writeMessage(R,x4,D)},writePackedSVarint:function(R,D){D.length&&this.writeMessage(R,b4,D)},writePackedBoolean:function(R,D){D.length&&this.writeMessage(R,A4,D)},writePackedFloat:function(R,D){D.length&&this.writeMessage(R,w4,D)},writePackedDouble:function(R,D){D.length&&this.writeMessage(R,T4,D)},writePackedFixed32:function(R,D){D.length&&this.writeMessage(R,M4,D)},writePackedSFixed32:function(R,D){D.length&&this.writeMessage(R,S4,D)},writePackedFixed64:function(R,D){D.length&&this.writeMessage(R,E4,D)},writePackedSFixed64:function(R,D){D.length&&this.writeMessage(R,C4,D)},writeBytesField:function(R,D){this.writeTag(R,Li.Bytes),this.writeBytes(D)},writeFixed32Field:function(R,D){this.writeTag(R,Li.Fixed32),this.writeFixed32(D)},writeSFixed32Field:function(R,D){this.writeTag(R,Li.Fixed32),this.writeSFixed32(D)},writeFixed64Field:function(R,D){this.writeTag(R,Li.Fixed64),this.writeFixed64(D)},writeSFixed64Field:function(R,D){this.writeTag(R,Li.Fixed64),this.writeSFixed64(D)},writeVarintField:function(R,D){this.writeTag(R,Li.Varint),this.writeVarint(D)},writeSVarintField:function(R,D){this.writeTag(R,Li.Varint),this.writeSVarint(D)},writeStringField:function(R,D){this.writeTag(R,Li.Bytes),this.writeString(D)},writeFloatField:function(R,D){this.writeTag(R,Li.Fixed32),this.writeFloat(D)},writeDoubleField:function(R,D){this.writeTag(R,Li.Fixed64),this.writeDouble(D)},writeBooleanField:function(R,D){this.writeVarintField(R,!!D)}};function p4(R,D,V){var ne=V.buf,ve,Te;if(Te=ne[V.pos++],ve=(Te&112)>>4,Te<128||(Te=ne[V.pos++],ve|=(Te&127)<<3,Te<128)||(Te=ne[V.pos++],ve|=(Te&127)<<10,Te<128)||(Te=ne[V.pos++],ve|=(Te&127)<<17,Te<128)||(Te=ne[V.pos++],ve|=(Te&127)<<24,Te<128)||(Te=ne[V.pos++],ve|=(Te&1)<<31,Te<128))return iv(R,ve,D);throw new Error("Expected varint not more than 10 bytes")}function kf(R){return R.type===Li.Bytes?R.readVarint()+R.pos:R.pos+1}function iv(R,D,V){return V?D*4294967296+(R>>>0):(D>>>0)*4294967296+(R>>>0)}function g4(R,D){var V,ne;if(R>=0?(V=R%4294967296|0,ne=R/4294967296|0):(V=~(-R%4294967296),ne=~(-R/4294967296),V^4294967295?V=V+1|0:(V=0,ne=ne+1|0)),R>=18446744073709552e3||R<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");D.realloc(10),y4(V,ne,D),m4(ne,D)}function y4(R,D,V){V.buf[V.pos++]=R&127|128,R>>>=7,V.buf[V.pos++]=R&127|128,R>>>=7,V.buf[V.pos++]=R&127|128,R>>>=7,V.buf[V.pos++]=R&127|128,R>>>=7,V.buf[V.pos]=R&127}function m4(R,D){var V=(R&7)<<4;D.buf[D.pos++]|=V|((R>>>=3)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127)))))}function wx(R,D,V){var ne=D<=16383?1:D<=2097151?2:D<=268435455?3:Math.floor(Math.log(D)/(Math.LN2*7));V.realloc(ne);for(var ve=V.pos-1;ve>=R;ve--)V.buf[ve+ne]=V.buf[ve]}function x4(R,D){for(var V=0;V<R.length;V++)D.writeVarint(R[V])}function b4(R,D){for(var V=0;V<R.length;V++)D.writeSVarint(R[V])}function w4(R,D){for(var V=0;V<R.length;V++)D.writeFloat(R[V])}function T4(R,D){for(var V=0;V<R.length;V++)D.writeDouble(R[V])}function A4(R,D){for(var V=0;V<R.length;V++)D.writeBoolean(R[V])}function M4(R,D){for(var V=0;V<R.length;V++)D.writeFixed32(R[V])}function S4(R,D){for(var V=0;V<R.length;V++)D.writeSFixed32(R[V])}function E4(R,D){for(var V=0;V<R.length;V++)D.writeFixed64(R[V])}function C4(R,D){for(var V=0;V<R.length;V++)D.writeSFixed64(R[V])}function _p(R,D){return(R[D]|R[D+1]<<8|R[D+2]<<16)+R[D+3]*16777216}function ov(R,D,V){R[V]=D,R[V+1]=D>>>8,R[V+2]=D>>>16,R[V+3]=D>>>24}function Tx(R,D){return(R[D]|R[D+1]<<8|R[D+2]<<16)+(R[D+3]<<24)}function L4(R,D,V){for(var ne="",ve=D;ve<V;){var Te=R[ve],De=null,Ke=Te>239?4:Te>223?3:Te>191?2:1;if(ve+Ke>V)break;var ut,Tt,St;Ke===1?Te<128&&(De=Te):Ke===2?(ut=R[ve+1],(ut&192)===128&&(De=(Te&31)<<6|ut&63,De<=127&&(De=null))):Ke===3?(ut=R[ve+1],Tt=R[ve+2],(ut&192)===128&&(Tt&192)===128&&(De=(Te&15)<<12|(ut&63)<<6|Tt&63,(De<=2047||De>=55296&&De<=57343)&&(De=null))):Ke===4&&(ut=R[ve+1],Tt=R[ve+2],St=R[ve+3],(ut&192)===128&&(Tt&192)===128&&(St&192)===128&&(De=(Te&15)<<18|(ut&63)<<12|(Tt&63)<<6|St&63,(De<=65535||De>=1114112)&&(De=null))),De===null?(De=65533,Ke=1):De>65535&&(De-=65536,ne+=String.fromCharCode(De>>>10&1023|55296),De=56320|De&1023),ne+=String.fromCharCode(De),ve+=Ke}return ne}function P4(R,D,V){return bx.decode(R.subarray(D,V))}function R4(R,D,V){for(var ne=0,ve,Te;ne<D.length;ne++){if(ve=D.charCodeAt(ne),ve>55295&&ve<57344)if(Te)if(ve<56320){R[V++]=239,R[V++]=191,R[V++]=189,Te=ve;continue}else ve=Te-55296<<10|ve-56320|65536,Te=null;else{ve>56319||ne+1===D.length?(R[V++]=239,R[V++]=191,R[V++]=189):Te=ve;continue}else Te&&(R[V++]=239,R[V++]=191,R[V++]=189,Te=null);ve<128?R[V++]=ve:(ve<2048?R[V++]=ve>>6|192:(ve<65536?R[V++]=ve>>12|224:(R[V++]=ve>>18|240,R[V++]=ve>>12&63|128),R[V++]=ve>>6&63|128),R[V++]=ve&63|128)}return V}var Yg=3;function D4(R,D,V){R===1&&V.readMessage(I4,D)}function I4(R,D,V){if(R===3){var ne=V.readMessage(k4,{}),ve=ne.id,Te=ne.bitmap,De=ne.width,Ke=ne.height,ut=ne.left,Tt=ne.top,St=ne.advance;D.push({id:ve,bitmap:new Sh({width:De+2*Yg,height:Ke+2*Yg},Te),metrics:{width:De,height:Ke,left:ut,top:Tt,advance:St}})}}function k4(R,D,V){R===1?D.id=V.readVarint():R===2?D.bitmap=V.readBytes():R===3?D.width=V.readVarint():R===4?D.height=V.readVarint():R===5?D.left=V.readSVarint():R===6?D.top=V.readSVarint():R===7&&(D.advance=V.readVarint())}function F4(R){return new Fp(R).readFields(D4,[])}var Ax=Yg;function Mx(R){for(var D=0,V=0,ne=0,ve=R;ne<ve.length;ne+=1){var Te=ve[ne];D+=Te.w*Te.h,V=Math.max(V,Te.w)}R.sort(function(ln,$r){return $r.h-ln.h});for(var De=Math.max(Math.ceil(Math.sqrt(D/.95)),V),Ke=[{x:0,y:0,w:De,h:1/0}],ut=0,Tt=0,St=0,Gt=R;St<Gt.length;St+=1)for(var ir=Gt[St],$t=Ke.length-1;$t>=0;$t--){var br=Ke[$t];if(!(ir.w>br.w||ir.h>br.h)){if(ir.x=br.x,ir.y=br.y,Tt=Math.max(Tt,ir.y+ir.h),ut=Math.max(ut,ir.x+ir.w),ir.w===br.w&&ir.h===br.h){var Or=Ke.pop();$t<Ke.length&&(Ke[$t]=Or)}else ir.h===br.h?(br.x+=ir.w,br.w-=ir.w):ir.w===br.w?(br.y+=ir.h,br.h-=ir.h):(Ke.push({x:br.x+ir.w,y:br.y,w:br.w-ir.w,h:ir.h}),br.y+=ir.h,br.h-=ir.h);break}}return{w:ut,h:Tt,fill:D/(ut*Tt)||0}}var zs=1,zp=function(D,V){var ne=V.pixelRatio,ve=V.version,Te=V.stretchX,De=V.stretchY,Ke=V.content;this.paddedRect=D,this.pixelRatio=ne,this.stretchX=Te,this.stretchY=De,this.content=Ke,this.version=ve},gd={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};gd.tl.get=function(){return[this.paddedRect.x+zs,this.paddedRect.y+zs]},gd.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-zs,this.paddedRect.y+this.paddedRect.h-zs]},gd.tlbr.get=function(){return this.tl.concat(this.br)},gd.displaySize.get=function(){return[(this.paddedRect.w-zs*2)/this.pixelRatio,(this.paddedRect.h-zs*2)/this.pixelRatio]},Object.defineProperties(zp.prototype,gd);var yd=function(D,V){var ne={},ve={};this.haveRenderCallbacks=[];var Te=[];this.addImages(D,ne,Te),this.addImages(V,ve,Te);var De=Mx(Te),Ke=De.w,ut=De.h,Tt=new xs({width:Ke||1,height:ut||1});for(var St in D){var Gt=D[St],ir=ne[St].paddedRect;xs.copy(Gt.data,Tt,{x:0,y:0},{x:ir.x+zs,y:ir.y+zs},Gt.data)}for(var $t in V){var br=V[$t],Or=ve[$t].paddedRect,ln=Or.x+zs,$r=Or.y+zs,Ln=br.data.width,wn=br.data.height;xs.copy(br.data,Tt,{x:0,y:0},{x:ln,y:$r},br.data),xs.copy(br.data,Tt,{x:0,y:wn-1},{x:ln,y:$r-1},{width:Ln,height:1}),xs.copy(br.data,Tt,{x:0,y:0},{x:ln,y:$r+wn},{width:Ln,height:1}),xs.copy(br.data,Tt,{x:Ln-1,y:0},{x:ln-1,y:$r},{width:1,height:wn}),xs.copy(br.data,Tt,{x:0,y:0},{x:ln+Ln,y:$r},{width:1,height:wn})}this.image=Tt,this.iconPositions=ne,this.patternPositions=ve};yd.prototype.addImages=function(D,V,ne){for(var ve in D){var Te=D[ve],De={x:0,y:0,w:Te.data.width+2*zs,h:Te.data.height+2*zs};ne.push(De),V[ve]=new zp(De,Te),Te.hasRenderCallback&&this.haveRenderCallbacks.push(ve)}},yd.prototype.patchUpdatedImages=function(D,V){D.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var ne in D.updatedImages)this.patchUpdatedImage(this.iconPositions[ne],D.getImage(ne),V),this.patchUpdatedImage(this.patternPositions[ne],D.getImage(ne),V)},yd.prototype.patchUpdatedImage=function(D,V,ne){if(!(!D||!V)&&D.version!==V.version){D.version=V.version;var ve=D.tl,Te=ve[0],De=ve[1];ne.update(V.data,void 0,{x:Te,y:De})}},ue("ImagePosition",zp),ue("ImageAtlas",yd);var el={horizontal:1,vertical:2,horizontalOnly:3},md=-17;function _4(R){for(var D=0,V=R;D<V.length;D+=1){var ne=V[D];if(ne.positionedGlyphs.length!==0)return!1}return!0}var Sx=57344,Ex=63743,sv=function(){this.scale=1,this.fontStack="",this.imageName=null};sv.forText=function(D,V){var ne=new sv;return ne.scale=D||1,ne.fontStack=V,ne},sv.forImage=function(D){var V=new sv;return V.imageName=D,V};var Wo=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};Wo.fromFeature=function(D,V){for(var ne=new Wo,ve=0;ve<D.sections.length;ve++){var Te=D.sections[ve];Te.image?ne.addImageSection(Te):ne.addTextSection(Te,V)}return ne},Wo.prototype.length=function(){return this.text.length},Wo.prototype.getSection=function(D){return this.sections[this.sectionIndex[D]]},Wo.prototype.getSectionIndex=function(D){return this.sectionIndex[D]},Wo.prototype.getCharCode=function(D){return this.text.charCodeAt(D)},Wo.prototype.verticalizePunctuation=function(){this.text=c4(this.text)},Wo.prototype.trim=function(){for(var D=0,V=0;V<this.text.length&&qu[this.text.charCodeAt(V)];V++)D++;for(var ne=this.text.length,ve=this.text.length-1;ve>=0&&ve>=D&&qu[this.text.charCodeAt(ve)];ve--)ne--;this.text=this.text.substring(D,ne),this.sectionIndex=this.sectionIndex.slice(D,ne)},Wo.prototype.substring=function(D,V){var ne=new Wo;return ne.text=this.text.substring(D,V),ne.sectionIndex=this.sectionIndex.slice(D,V),ne.sections=this.sections,ne},Wo.prototype.toString=function(){return this.text},Wo.prototype.getMaxScale=function(){var D=this;return this.sectionIndex.reduce(function(V,ne){return Math.max(V,D.sections[ne].scale)},0)},Wo.prototype.addTextSection=function(D,V){this.text+=D.text,this.sections.push(sv.forText(D.scale,D.fontStack||V));for(var ne=this.sections.length-1,ve=0;ve<D.text.length;++ve)this.sectionIndex.push(ne)},Wo.prototype.addImageSection=function(D){var V=D.image?D.image.name:"";if(V.length===0){B("Can't add FormattedSection with an empty image.");return}var ne=this.getNextImageSectionCharCode();if(!ne){B("Reached maximum number of images "+(Ex-Sx+2));return}this.text+=String.fromCharCode(ne),this.sections.push(sv.forImage(V)),this.sectionIndex.push(this.sections.length-1)},Wo.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=Ex?null:++this.imageSectionID:(this.imageSectionID=Sx,this.imageSectionID)};function z4(R,D){for(var V=[],ne=R.text,ve=0,Te=0,De=D;Te<De.length;Te+=1){var Ke=De[Te];V.push(R.substring(ve,Ke)),ve=Ke}return ve<ne.length&&V.push(R.substring(ve,ne.length)),V}function Op(R,D,V,ne,ve,Te,De,Ke,ut,Tt,St,Gt,ir,$t,br,Or){var ln=Wo.fromFeature(R,ve);Gt===el.vertical&&ln.verticalizePunctuation();var $r,Ln=ti.processBidirectionalText,wn=ti.processStyledBidirectionalText;if(Ln&&ln.sections.length===1){$r=[];for(var Cn=Ln(ln.toString(),jg(ln,Tt,Te,D,ne,$t,br)),kn=0,Gn=Cn;kn<Gn.length;kn+=1){var ra=Gn[kn],ta=new Wo;ta.text=ra,ta.sections=ln.sections;for(var Ea=0;Ea<ra.length;Ea++)ta.sectionIndex.push(0);$r.push(ta)}}else if(wn){$r=[];for(var ha=wn(ln.text,ln.sectionIndex,jg(ln,Tt,Te,D,ne,$t,br)),ma=0,Ba=ha;ma<Ba.length;ma+=1){var Aa=Ba[ma],Ma=new Wo;Ma.text=Aa[0],Ma.sectionIndex=Aa[1],Ma.sections=ln.sections,$r.push(Ma)}}else $r=z4(ln,jg(ln,Tt,Te,D,ne,$t,br));var Ya=[],za={positionedLines:Ya,text:ln.toString(),top:St[1],bottom:St[1],left:St[0],right:St[0],writingMode:Gt,iconsInText:!1,verticalizable:!1};return B4(za,D,V,ne,$r,De,Ke,ut,Gt,Tt,ir,Or),_4(Ya)?!1:za}var qu={};qu[9]=!0,qu[10]=!0,qu[11]=!0,qu[12]=!0,qu[13]=!0,qu[32]=!0;var Os={};Os[10]=!0,Os[32]=!0,Os[38]=!0,Os[40]=!0,Os[41]=!0,Os[43]=!0,Os[45]=!0,Os[47]=!0,Os[173]=!0,Os[183]=!0,Os[8203]=!0,Os[8208]=!0,Os[8211]=!0,Os[8231]=!0;function Cx(R,D,V,ne,ve,Te){if(D.imageName){var ut=ne[D.imageName];return ut?ut.displaySize[0]*D.scale*Ro/Te+ve:0}else{var De=V[D.fontStack],Ke=De&&De[R];return Ke?Ke.metrics.advance*D.scale+ve:0}}function O4(R,D,V,ne,ve,Te){for(var De=0,Ke=0;Ke<R.length();Ke++){var ut=R.getSection(Ke);De+=Cx(R.getCharCode(Ke),ut,ne,ve,D,Te)}var Tt=Math.max(1,Math.ceil(De/V));return De/Tt}function Lx(R,D,V,ne){var ve=Math.pow(R-D,2);return ne?R<D?ve/2:ve*2:ve+Math.abs(V)*V}function N4(R,D,V){var ne=0;return R===10&&(ne-=1e4),V&&(ne+=150),(R===40||R===65288)&&(ne+=50),(D===41||D===65289)&&(ne+=50),ne}function Px(R,D,V,ne,ve,Te){for(var De=null,Ke=Lx(D,V,ve,Te),ut=0,Tt=ne;ut<Tt.length;ut+=1){var St=Tt[ut],Gt=D-St.x,ir=Lx(Gt,V,ve,Te)+St.badness;ir<=Ke&&(De=St,Ke=ir)}return{index:R,x:D,priorBreak:De,badness:Ke}}function Rx(R){return R?Rx(R.priorBreak).concat(R.index):[]}function jg(R,D,V,ne,ve,Te,De){if(Te!=="point")return[];if(!R)return[];for(var Ke=[],ut=O4(R,D,V,ne,ve,De),Tt=R.text.indexOf("")>=0,St=0,Gt=0;Gt<R.length();Gt++){var ir=R.getSection(Gt),$t=R.getCharCode(Gt);if(qu[$t]||(St+=Cx($t,ir,ne,ve,D,De)),Gt<R.length()-1){var br=Pr($t);(Os[$t]||br||ir.imageName)&&Ke.push(Px(Gt+1,St,ut,Ke,N4($t,R.getCharCode(Gt+1),br&&Tt),!1))}}return Rx(Px(R.length(),St,ut,Ke,0,!0))}function Zg(R){var D=.5,V=.5;switch(R){case"right":case"top-right":case"bottom-right":D=1;break;case"left":case"top-left":case"bottom-left":D=0;break}switch(R){case"bottom":case"bottom-right":case"bottom-left":V=1;break;case"top":case"top-right":case"top-left":V=0;break}return{horizontalAlign:D,verticalAlign:V}}function B4(R,D,V,ne,ve,Te,De,Ke,ut,Tt,St,Gt){for(var ir=0,$t=md,br=0,Or=0,ln=Ke==="right"?1:Ke==="left"?0:.5,$r=0,Ln=0,wn=ve;Ln<wn.length;Ln+=1){var Cn=wn[Ln];Cn.trim();var kn=Cn.getMaxScale(),Gn=(kn-1)*Ro,ra={positionedGlyphs:[],lineOffset:0};R.positionedLines[$r]=ra;var ta=ra.positionedGlyphs,Ea=0;if(!Cn.length()){$t+=Te,++$r;continue}for(var ha=0;ha<Cn.length();ha++){var ma=Cn.getSection(ha),Ba=Cn.getSectionIndex(ha),Aa=Cn.getCharCode(ha),Ma=0,Ya=null,za=null,ri=null,xi=Ro,ni=!(ut===el.horizontal||!St&&!Cr(Aa)||St&&(qu[Aa]||Ir(Aa)));if(ma.imageName){var Vi=ne[ma.imageName];if(!Vi)continue;ri=ma.imageName,R.iconsInText=R.iconsInText||!0,za=Vi.paddedRect;var ji=Vi.displaySize;ma.scale=ma.scale*Ro/Gt,Ya={width:ji[0],height:ji[1],left:zs,top:-Ax,advance:ni?ji[1]:ji[0]};var wo=Ro-ji[1]*ma.scale;Ma=Gn+wo,xi=Ya.advance;var so=ni?ji[0]*ma.scale-Ro*kn:ji[1]*ma.scale-Ro*kn;so>0&&so>Ea&&(Ea=so)}else{var ai=V[ma.fontStack],qa=ai&&ai[Aa];if(qa&&qa.rect)za=qa.rect,Ya=qa.metrics;else{var Ei=D[ma.fontStack],Pi=Ei&&Ei[Aa];if(!Pi)continue;Ya=Pi.metrics}Ma=(kn-ma.scale)*Ro}ni?(R.verticalizable=!0,ta.push({glyph:Aa,imageName:ri,x:ir,y:$t+Ma,vertical:ni,scale:ma.scale,fontStack:ma.fontStack,sectionIndex:Ba,metrics:Ya,rect:za}),ir+=xi*ma.scale+Tt):(ta.push({glyph:Aa,imageName:ri,x:ir,y:$t+Ma,vertical:ni,scale:ma.scale,fontStack:ma.fontStack,sectionIndex:Ba,metrics:Ya,rect:za}),ir+=Ya.advance*ma.scale+Tt)}if(ta.length!==0){var Yo=ir-Tt;br=Math.max(Yo,br),U4(ta,0,ta.length-1,ln,Ea)}ir=0;var jo=Te*kn+Ea;ra.lineOffset=Math.max(Ea,Gn),$t+=jo,Or=Math.max(jo,Or),++$r}var To=$t-md,rs=Zg(De),ns=rs.horizontalAlign,po=rs.verticalAlign;H4(R.positionedLines,ln,ns,po,br,Or,Te,To,ve.length),R.top+=-po*To,R.bottom=R.top+To,R.left+=-ns*br,R.right=R.left+br}function U4(R,D,V,ne,ve){if(!(!ne&&!ve))for(var Te=R[V],De=Te.metrics.advance*Te.scale,Ke=(R[V].x+De)*ne,ut=D;ut<=V;ut++)R[ut].x-=Ke,R[ut].y+=ve}function H4(R,D,V,ne,ve,Te,De,Ke,ut){var Tt=(D-V)*ve,St=0;Te!==De?St=-Ke*ne-md:St=(-ne*ut+.5)*De;for(var Gt=0,ir=R;Gt<ir.length;Gt+=1)for(var $t=ir[Gt],br=0,Or=$t.positionedGlyphs;br<Or.length;br+=1){var ln=Or[br];ln.x+=Tt,ln.y+=St}}function V4(R,D,V){var ne=Zg(V),ve=ne.horizontalAlign,Te=ne.verticalAlign,De=D[0],Ke=D[1],ut=De-R.displaySize[0]*ve,Tt=ut+R.displaySize[0],St=Ke-R.displaySize[1]*Te,Gt=St+R.displaySize[1];return{image:R,top:St,bottom:Gt,left:ut,right:Tt}}function Dx(R,D,V,ne,ve,Te){var De=R.image,Ke;if(De.content){var ut=De.content,Tt=De.pixelRatio||1;Ke=[ut[0]/Tt,ut[1]/Tt,De.displaySize[0]-ut[2]/Tt,De.displaySize[1]-ut[3]/Tt]}var St=D.left*Te,Gt=D.right*Te,ir,$t,br,Or;V==="width"||V==="both"?(Or=ve[0]+St-ne[3],$t=ve[0]+Gt+ne[1]):(Or=ve[0]+(St+Gt-De.displaySize[0])/2,$t=Or+De.displaySize[0]);var ln=D.top*Te,$r=D.bottom*Te;return V==="height"||V==="both"?(ir=ve[1]+ln-ne[0],br=ve[1]+$r+ne[2]):(ir=ve[1]+(ln+$r-De.displaySize[1])/2,br=ir+De.displaySize[1]),{image:De,top:ir,right:$t,bottom:br,left:Or,collisionPadding:Ke}}var lv=function(R){function D(V,ne,ve,Te){R.call(this,V,ne),this.angle=ve,Te!==void 0&&(this.segment=Te)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.clone=function(){return new D(this.x,this.y,this.angle,this.segment)},D}(t);ue("Anchor",lv);var Tu=128;function Xg(R,D){var V=D.expression;if(V.kind==="constant"){var ne=V.evaluate(new Vn(R+1));return{kind:"constant",layoutSize:ne}}else{if(V.kind==="source")return{kind:"source"};for(var ve=V.zoomStops,Te=V.interpolationType,De=0;De<ve.length&&ve[De]<=R;)De++;De=Math.max(0,De-1);for(var Ke=De;Ke<ve.length&&ve[Ke]<R+1;)Ke++;Ke=Math.min(ve.length-1,Ke);var ut=ve[De],Tt=ve[Ke];if(V.kind==="composite")return{kind:"composite",minZoom:ut,maxZoom:Tt,interpolationType:Te};var St=V.evaluate(new Vn(ut)),Gt=V.evaluate(new Vn(Tt));return{kind:"camera",minZoom:ut,maxZoom:Tt,minSize:St,maxSize:Gt,interpolationType:Te}}}function Ix(R,D,V){var ne=D.uSize,ve=D.uSizeT,Te=V.lowerSize,De=V.upperSize;return R.kind==="source"?Te/Tu:R.kind==="composite"?_i(Te/Tu,De/Tu,ve):ne}function kx(R,D){var V=0,ne=0;if(R.kind==="constant")ne=R.layoutSize;else if(R.kind!=="source"){var ve=R.interpolationType,Te=R.minZoom,De=R.maxZoom,Ke=ve?u(Oi.interpolationFactor(ve,D,Te,De),0,1):0;R.kind==="camera"?ne=_i(R.minSize,R.maxSize,Ke):V=Ke}return{uSizeT:V,uSize:ne}}var G4=Object.freeze({__proto__:null,getSizeData:Xg,evaluateSizeForFeature:Ix,evaluateSizeForZoom:kx,SIZE_PACK_FACTOR:Tu});function Fx(R,D,V,ne,ve){if(D.segment===void 0)return!0;for(var Te=D,De=D.segment+1,Ke=0;Ke>-V/2;){if(De--,De<0)return!1;Ke-=R[De].dist(Te),Te=R[De]}Ke+=R[De].dist(R[De+1]),De++;for(var ut=[],Tt=0;Ke<V/2;){var St=R[De-1],Gt=R[De],ir=R[De+1];if(!ir)return!1;var $t=St.angleTo(Gt)-Gt.angleTo(ir);for($t=Math.abs(($t+3*Math.PI)%(Math.PI*2)-Math.PI),ut.push({distance:Ke,angleDelta:$t}),Tt+=$t;Ke-ut[0].distance>ne;)Tt-=ut.shift().angleDelta;if(Tt>ve)return!1;De++,Ke+=Gt.dist(ir)}return!0}function _x(R){for(var D=0,V=0;V<R.length-1;V++)D+=R[V].dist(R[V+1]);return D}function zx(R,D,V){return R?.6*D*V:0}function Ox(R,D){return Math.max(R?R.right-R.left:0,D?D.right-D.left:0)}function W4(R,D,V,ne,ve,Te){for(var De=zx(V,ve,Te),Ke=Ox(V,ne)*Te,ut=0,Tt=_x(R)/2,St=0;St<R.length-1;St++){var Gt=R[St],ir=R[St+1],$t=Gt.dist(ir);if(ut+$t>Tt){var br=(Tt-ut)/$t,Or=_i(Gt.x,ir.x,br),ln=_i(Gt.y,ir.y,br),$r=new lv(Or,ln,ir.angleTo(Gt),St);return $r._round(),!De||Fx(R,$r,Ke,De,D)?$r:void 0}ut+=$t}}function Y4(R,D,V,ne,ve,Te,De,Ke,ut){var Tt=zx(ne,Te,De),St=Ox(ne,ve),Gt=St*De,ir=R[0].x===0||R[0].x===ut||R[0].y===0||R[0].y===ut;D-Gt<D/4&&(D=Gt+D/4);var $t=Te*2,br=ir?D/2*Ke%D:(St/2+$t)*De*Ke%D;return Nx(R,br,D,Tt,V,Gt,ir,!1,ut)}function Nx(R,D,V,ne,ve,Te,De,Ke,ut){for(var Tt=Te/2,St=_x(R),Gt=0,ir=D-V,$t=[],br=0;br<R.length-1;br++){for(var Or=R[br],ln=R[br+1],$r=Or.dist(ln),Ln=ln.angleTo(Or);ir+V<Gt+$r;){ir+=V;var wn=(ir-Gt)/$r,Cn=_i(Or.x,ln.x,wn),kn=_i(Or.y,ln.y,wn);if(Cn>=0&&Cn<ut&&kn>=0&&kn<ut&&ir-Tt>=0&&ir+Tt<=St){var Gn=new lv(Cn,kn,Ln,br);Gn._round(),(!ne||Fx(R,Gn,Te,ne,ve))&&$t.push(Gn)}}Gt+=$r}return!Ke&&!$t.length&&!De&&($t=Nx(R,Gt/2,V,ne,ve,Te,De,!0,ut)),$t}function Bx(R,D,V,ne,ve){for(var Te=[],De=0;De<R.length;De++)for(var Ke=R[De],ut=void 0,Tt=0;Tt<Ke.length-1;Tt++){var St=Ke[Tt],Gt=Ke[Tt+1];St.x<D&&Gt.x<D||(St.x<D?St=new t(D,St.y+(Gt.y-St.y)*((D-St.x)/(Gt.x-St.x)))._round():Gt.x<D&&(Gt=new t(D,St.y+(Gt.y-St.y)*((D-St.x)/(Gt.x-St.x)))._round()),!(St.y<V&&Gt.y<V)&&(St.y<V?St=new t(St.x+(Gt.x-St.x)*((V-St.y)/(Gt.y-St.y)),V)._round():Gt.y<V&&(Gt=new t(St.x+(Gt.x-St.x)*((V-St.y)/(Gt.y-St.y)),V)._round()),!(St.x>=ne&&Gt.x>=ne)&&(St.x>=ne?St=new t(ne,St.y+(Gt.y-St.y)*((ne-St.x)/(Gt.x-St.x)))._round():Gt.x>=ne&&(Gt=new t(ne,St.y+(Gt.y-St.y)*((ne-St.x)/(Gt.x-St.x)))._round()),!(St.y>=ve&&Gt.y>=ve)&&(St.y>=ve?St=new t(St.x+(Gt.x-St.x)*((ve-St.y)/(Gt.y-St.y)),ve)._round():Gt.y>=ve&&(Gt=new t(St.x+(Gt.x-St.x)*((ve-St.y)/(Gt.y-St.y)),ve)._round()),(!ut||!St.equals(ut[ut.length-1]))&&(ut=[St],Te.push(ut)),ut.push(Gt)))))}return Te}var uv=zs;function Ux(R,D,V,ne){var ve=[],Te=R.image,De=Te.pixelRatio,Ke=Te.paddedRect.w-2*uv,ut=Te.paddedRect.h-2*uv,Tt=R.right-R.left,St=R.bottom-R.top,Gt=Te.stretchX||[[0,Ke]],ir=Te.stretchY||[[0,ut]],$t=function(ai,qa){return ai+qa[1]-qa[0]},br=Gt.reduce($t,0),Or=ir.reduce($t,0),ln=Ke-br,$r=ut-Or,Ln=0,wn=br,Cn=0,kn=Or,Gn=0,ra=ln,ta=0,Ea=$r;if(Te.content&&ne){var ha=Te.content;Ln=Np(Gt,0,ha[0]),Cn=Np(ir,0,ha[1]),wn=Np(Gt,ha[0],ha[2]),kn=Np(ir,ha[1],ha[3]),Gn=ha[0]-Ln,ta=ha[1]-Cn,ra=ha[2]-ha[0]-wn,Ea=ha[3]-ha[1]-kn}var ma=function(ai,qa,Ei,Pi){var Vi=Bp(ai.stretch-Ln,wn,Tt,R.left),ji=Up(ai.fixed-Gn,ra,ai.stretch,br),wo=Bp(qa.stretch-Cn,kn,St,R.top),so=Up(qa.fixed-ta,Ea,qa.stretch,Or),Yo=Bp(Ei.stretch-Ln,wn,Tt,R.left),jo=Up(Ei.fixed-Gn,ra,Ei.stretch,br),To=Bp(Pi.stretch-Cn,kn,St,R.top),rs=Up(Pi.fixed-ta,Ea,Pi.stretch,Or),ns=new t(Vi,wo),po=new t(Yo,wo),as=new t(Yo,To),tl=new t(Vi,To),zf=new t(ji/De,so/De),Ec=new t(jo/De,rs/De),Cc=D*Math.PI/180;if(Cc){var Lc=Math.sin(Cc),yv=Math.cos(Cc),jl=[yv,-Lc,Lc,yv];ns._matMult(jl),po._matMult(jl),tl._matMult(jl),as._matMult(jl)}var jp=ai.stretch+ai.fixed,ry=Ei.stretch+Ei.fixed,Zp=qa.stretch+qa.fixed,ny=Pi.stretch+Pi.fixed,Tl={x:Te.paddedRect.x+uv+jp,y:Te.paddedRect.y+uv+Zp,w:ry-jp,h:ny-Zp},mv=ra/De/Tt,Xp=Ea/De/St;return{tl:ns,tr:po,bl:tl,br:as,tex:Tl,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:zf,pixelOffsetBR:Ec,minFontScaleX:mv,minFontScaleY:Xp,isSDF:V}};if(!ne||!Te.stretchX&&!Te.stretchY)ve.push(ma({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Ke+1},{fixed:0,stretch:ut+1}));else for(var Ba=Hx(Gt,ln,br),Aa=Hx(ir,$r,Or),Ma=0;Ma<Ba.length-1;Ma++)for(var Ya=Ba[Ma],za=Ba[Ma+1],ri=0;ri<Aa.length-1;ri++){var xi=Aa[ri],ni=Aa[ri+1];ve.push(ma(Ya,xi,za,ni))}return ve}function Np(R,D,V){for(var ne=0,ve=0,Te=R;ve<Te.length;ve+=1){var De=Te[ve];ne+=Math.max(D,Math.min(V,De[1]))-Math.max(D,Math.min(V,De[0]))}return ne}function Hx(R,D,V){for(var ne=[{fixed:-uv,stretch:0}],ve=0,Te=R;ve<Te.length;ve+=1){var De=Te[ve],Ke=De[0],ut=De[1],Tt=ne[ne.length-1];ne.push({fixed:Ke-Tt.stretch,stretch:Tt.stretch}),ne.push({fixed:Ke-Tt.stretch,stretch:Tt.stretch+(ut-Ke)})}return ne.push({fixed:D+uv,stretch:V}),ne}function Bp(R,D,V,ne){return R/D*V+ne}function Up(R,D,V,ne){return R-D*V/ne}function j4(R,D,V,ne,ve,Te,De,Ke){for(var ut=ne.layout.get("text-rotate").evaluate(Te,{})*Math.PI/180,Tt=[],St=0,Gt=D.positionedLines;St<Gt.length;St+=1)for(var ir=Gt[St],$t=0,br=ir.positionedGlyphs;$t<br.length;$t+=1){var Or=br[$t];if(Or.rect){var ln=Or.rect||{},$r=1,Ln=Ax+$r,wn=!0,Cn=1,kn=0,Gn=(ve||Ke)&&Or.vertical,ra=Or.metrics.advance*Or.scale/2;if(Ke&&D.verticalizable){var ta=(Or.scale-1)*Ro,Ea=(Ro-Or.metrics.width*Or.scale)/2;kn=ir.lineOffset/2-(Or.imageName?-Ea:ta)}if(Or.imageName){var ha=De[Or.imageName];wn=ha.sdf,Cn=ha.pixelRatio,Ln=zs/Cn}var ma=ve?[Or.x+ra,Or.y]:[0,0],Ba=ve?[0,0]:[Or.x+ra+V[0],Or.y+V[1]-kn],Aa=[0,0];Gn&&(Aa=Ba,Ba=[0,0]);var Ma=(Or.metrics.left-Ln)*Or.scale-ra+Ba[0],Ya=(-Or.metrics.top-Ln)*Or.scale+Ba[1],za=Ma+ln.w*Or.scale/Cn,ri=Ya+ln.h*Or.scale/Cn,xi=new t(Ma,Ya),ni=new t(za,Ya),ai=new t(Ma,ri),qa=new t(za,ri);if(Gn){var Ei=new t(-ra,ra-md),Pi=-Math.PI/2,Vi=Ro/2-ra,ji=Or.imageName?Vi:0,wo=new t(5-md-Vi,-ji),so=new(Function.prototype.bind.apply(t,[null].concat(Aa)));xi._rotateAround(Pi,Ei)._add(wo)._add(so),ni._rotateAround(Pi,Ei)._add(wo)._add(so),ai._rotateAround(Pi,Ei)._add(wo)._add(so),qa._rotateAround(Pi,Ei)._add(wo)._add(so)}if(ut){var Yo=Math.sin(ut),jo=Math.cos(ut),To=[jo,-Yo,Yo,jo];xi._matMult(To),ni._matMult(To),ai._matMult(To),qa._matMult(To)}var rs=new t(0,0),ns=new t(0,0),po=0,as=0;Tt.push({tl:xi,tr:ni,bl:ai,br:qa,tex:ln,writingMode:D.writingMode,glyphOffset:ma,sectionIndex:Or.sectionIndex,isSDF:wn,pixelOffsetTL:rs,pixelOffsetBR:ns,minFontScaleX:po,minFontScaleY:as})}}return Tt}var Hp=function(D,V,ne,ve,Te,De,Ke,ut,Tt,St){if(this.boxStartIndex=D.length,Tt){var Gt=De.top,ir=De.bottom,$t=De.collisionPadding;$t&&(Gt-=$t[1],ir+=$t[3]);var br=ir-Gt;br>0&&(br=Math.max(10,br),this.circleDiameter=br)}else{var Or=De.top*Ke-ut,ln=De.bottom*Ke+ut,$r=De.left*Ke-ut,Ln=De.right*Ke+ut,wn=De.collisionPadding;if(wn&&($r-=wn[0]*Ke,Or-=wn[1]*Ke,Ln+=wn[2]*Ke,ln+=wn[3]*Ke),St){var Cn=new t($r,Or),kn=new t(Ln,Or),Gn=new t($r,ln),ra=new t(Ln,ln),ta=St*Math.PI/180;Cn._rotate(ta),kn._rotate(ta),Gn._rotate(ta),ra._rotate(ta),$r=Math.min(Cn.x,kn.x,Gn.x,ra.x),Ln=Math.max(Cn.x,kn.x,Gn.x,ra.x),Or=Math.min(Cn.y,kn.y,Gn.y,ra.y),ln=Math.max(Cn.y,kn.y,Gn.y,ra.y)}D.emplaceBack(V.x,V.y,$r,Or,Ln,ln,ne,ve,Te)}this.boxEndIndex=D.length},fv=function(D,V){if(D===void 0&&(D=[]),V===void 0&&(V=Z4),this.data=D,this.length=this.data.length,this.compare=V,this.length>0)for(var ne=(this.length>>1)-1;ne>=0;ne--)this._down(ne)};fv.prototype.push=function(D){this.data.push(D),this.length++,this._up(this.length-1)},fv.prototype.pop=function(){if(this.length!==0){var D=this.data[0],V=this.data.pop();return this.length--,this.length>0&&(this.data[0]=V,this._down(0)),D}},fv.prototype.peek=function(){return this.data[0]},fv.prototype._up=function(D){for(var V=this,ne=V.data,ve=V.compare,Te=ne[D];D>0;){var De=D-1>>1,Ke=ne[De];if(ve(Te,Ke)>=0)break;ne[D]=Ke,D=De}ne[D]=Te},fv.prototype._down=function(D){for(var V=this,ne=V.data,ve=V.compare,Te=this.length>>1,De=ne[D];D<Te;){var Ke=(D<<1)+1,ut=ne[Ke],Tt=Ke+1;if(Tt<this.length&&ve(ne[Tt],ut)<0&&(Ke=Tt,ut=ne[Tt]),ve(ut,De)>=0)break;ne[D]=ut,D=Ke}ne[D]=De};function Z4(R,D){return R<D?-1:R>D?1:0}function X4(R,D,V){D===void 0&&(D=1),V===void 0&&(V=!1);for(var ne=1/0,ve=1/0,Te=-1/0,De=-1/0,Ke=R[0],ut=0;ut<Ke.length;ut++){var Tt=Ke[ut];(!ut||Tt.x<ne)&&(ne=Tt.x),(!ut||Tt.y<ve)&&(ve=Tt.y),(!ut||Tt.x>Te)&&(Te=Tt.x),(!ut||Tt.y>De)&&(De=Tt.y)}var St=Te-ne,Gt=De-ve,ir=Math.min(St,Gt),$t=ir/2,br=new fv([],K4);if(ir===0)return new t(ne,ve);for(var Or=ne;Or<Te;Or+=ir)for(var ln=ve;ln<De;ln+=ir)br.push(new cv(Or+$t,ln+$t,$t,R));for(var $r=Q4(R),Ln=br.length;br.length;){var wn=br.pop();(wn.d>$r.d||!$r.d)&&($r=wn,V&&console.log("found best %d after %d probes",Math.round(1e4*wn.d)/1e4,Ln)),!(wn.max-$r.d<=D)&&($t=wn.h/2,br.push(new cv(wn.p.x-$t,wn.p.y-$t,$t,R)),br.push(new cv(wn.p.x+$t,wn.p.y-$t,$t,R)),br.push(new cv(wn.p.x-$t,wn.p.y+$t,$t,R)),br.push(new cv(wn.p.x+$t,wn.p.y+$t,$t,R)),Ln+=4)}return V&&(console.log("num probes: "+Ln),console.log("best distance: "+$r.d)),$r.p}function K4(R,D){return D.max-R.max}function cv(R,D,V,ne){this.p=new t(R,D),this.h=V,this.d=J4(this.p,ne),this.max=this.d+this.h*Math.SQRT2}function J4(R,D){for(var V=!1,ne=1/0,ve=0;ve<D.length;ve++)for(var Te=D[ve],De=0,Ke=Te.length,ut=Ke-1;De<Ke;ut=De++){var Tt=Te[De],St=Te[ut];Tt.y>R.y!=St.y>R.y&&R.x<(St.x-Tt.x)*(R.y-Tt.y)/(St.y-Tt.y)+Tt.x&&(V=!V),ne=Math.min(ne,xu(R,Tt,St))}return(V?1:-1)*Math.sqrt(ne)}function Q4(R){for(var D=0,V=0,ne=0,ve=R[0],Te=0,De=ve.length,Ke=De-1;Te<De;Ke=Te++){var ut=ve[Te],Tt=ve[Ke],St=ut.x*Tt.y-Tt.x*ut.y;V+=(ut.x+Tt.x)*St,ne+=(ut.y+Tt.y)*St,D+=St*3}return new cv(V/D,ne/D,0,R)}var hv=7,Kg=Number.POSITIVE_INFINITY;function Vx(R,D){function V(ve,Te){var De=0,Ke=0;Te<0&&(Te=0);var ut=Te/Math.sqrt(2);switch(ve){case"top-right":case"top-left":Ke=ut-hv;break;case"bottom-right":case"bottom-left":Ke=-ut+hv;break;case"bottom":Ke=-Te+hv;break;case"top":Ke=Te-hv;break}switch(ve){case"top-right":case"bottom-right":De=-ut;break;case"top-left":case"bottom-left":De=ut;break;case"left":De=Te;break;case"right":De=-Te;break}return[De,Ke]}function ne(ve,Te,De){var Ke=0,ut=0;switch(Te=Math.abs(Te),De=Math.abs(De),ve){case"top-right":case"top-left":case"top":ut=De-hv;break;case"bottom-right":case"bottom-left":case"bottom":ut=-De+hv;break}switch(ve){case"top-right":case"bottom-right":case"right":Ke=-Te;break;case"top-left":case"bottom-left":case"left":Ke=Te;break}return[Ke,ut]}return D[1]!==Kg?ne(R,D[0],D[1]):V(R,D[0])}function $4(R,D,V,ne,ve,Te,De){R.createArrays();var Ke=512*R.overscaling;R.tilePixelRatio=Pa/Ke,R.compareText={},R.iconsNeedLinear=!1;var ut=R.layers[0].layout,Tt=R.layers[0]._unevaluatedLayout._values,St={};if(R.textSizeData.kind==="composite"){var Gt=R.textSizeData,ir=Gt.minZoom,$t=Gt.maxZoom;St.compositeTextSizes=[Tt["text-size"].possiblyEvaluate(new Vn(ir),De),Tt["text-size"].possiblyEvaluate(new Vn($t),De)]}if(R.iconSizeData.kind==="composite"){var br=R.iconSizeData,Or=br.minZoom,ln=br.maxZoom;St.compositeIconSizes=[Tt["icon-size"].possiblyEvaluate(new Vn(Or),De),Tt["icon-size"].possiblyEvaluate(new Vn(ln),De)]}St.layoutTextSize=Tt["text-size"].possiblyEvaluate(new Vn(R.zoom+1),De),St.layoutIconSize=Tt["icon-size"].possiblyEvaluate(new Vn(R.zoom+1),De),St.textMaxSize=Tt["text-size"].possiblyEvaluate(new Vn(18));for(var $r=ut.get("text-line-height")*Ro,Ln=ut.get("text-rotation-alignment")==="map"&&ut.get("symbol-placement")!=="point",wn=ut.get("text-keep-upright"),Cn=ut.get("text-size"),kn=function(){var ta=ra[Gn],Ea=ut.get("text-font").evaluate(ta,{},De).join(","),ha=Cn.evaluate(ta,{},De),ma=St.layoutTextSize.evaluate(ta,{},De),Ba=St.layoutIconSize.evaluate(ta,{},De),Aa={horizontal:{},vertical:void 0},Ma=ta.text,Ya=[0,0];if(Ma){var za=Ma.toString(),ri=ut.get("text-letter-spacing").evaluate(ta,{},De)*Ro,xi=er(za)?ri:0,ni=ut.get("text-anchor").evaluate(ta,{},De),ai=ut.get("text-variable-anchor");if(!ai){var qa=ut.get("text-radial-offset").evaluate(ta,{},De);qa?Ya=Vx(ni,[qa*Ro,Kg]):Ya=ut.get("text-offset").evaluate(ta,{},De).map(function(zf){return zf*Ro})}var Ei=Ln?"center":ut.get("text-justify").evaluate(ta,{},De),Pi=ut.get("symbol-placement"),Vi=Pi==="point"?ut.get("text-max-width").evaluate(ta,{},De)*Ro:0,ji=function(){R.allowVerticalPlacement&&Ht(za)&&(Aa.vertical=Op(Ma,D,V,ve,Ea,Vi,$r,ni,"left",xi,Ya,el.vertical,!0,Pi,ma,ha))};if(!Ln&&ai){for(var wo=Ei==="auto"?ai.map(function(zf){return Jg(zf)}):[Ei],so=!1,Yo=0;Yo<wo.length;Yo++){var jo=wo[Yo];if(!Aa.horizontal[jo])if(so)Aa.horizontal[jo]=Aa.horizontal[0];else{var To=Op(Ma,D,V,ve,Ea,Vi,$r,"center",jo,xi,Ya,el.horizontal,!1,Pi,ma,ha);To&&(Aa.horizontal[jo]=To,so=To.positionedLines.length===1)}}ji()}else{Ei==="auto"&&(Ei=Jg(ni));var rs=Op(Ma,D,V,ve,Ea,Vi,$r,ni,Ei,xi,Ya,el.horizontal,!1,Pi,ma,ha);rs&&(Aa.horizontal[Ei]=rs),ji(),Ht(za)&&Ln&&wn&&(Aa.vertical=Op(Ma,D,V,ve,Ea,Vi,$r,ni,Ei,xi,Ya,el.vertical,!1,Pi,ma,ha))}}var ns=void 0,po=!1;if(ta.icon&&ta.icon.name){var as=ne[ta.icon.name];as&&(ns=V4(ve[ta.icon.name],ut.get("icon-offset").evaluate(ta,{},De),ut.get("icon-anchor").evaluate(ta,{},De)),po=as.sdf,R.sdfIcons===void 0?R.sdfIcons=as.sdf:R.sdfIcons!==as.sdf&&B("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(as.pixelRatio!==R.pixelRatio||ut.get("icon-rotate").constantOr(1)!==0)&&(R.iconsNeedLinear=!0))}var tl=Wx(Aa.horizontal)||Aa.vertical;R.iconsInText=tl?tl.iconsInText:!1,(tl||ns)&&q4(R,ta,Aa,ns,ne,St,ma,Ba,Ya,po,De)},Gn=0,ra=R.features;Gn<ra.length;Gn+=1)kn();Te&&R.generateCollisionDebugBuffers()}function Jg(R){switch(R){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function q4(R,D,V,ne,ve,Te,De,Ke,ut,Tt,St){var Gt=Te.textMaxSize.evaluate(D,{});Gt===void 0&&(Gt=De);var ir=R.layers[0].layout,$t=ir.get("icon-offset").evaluate(D,{},St),br=Wx(V.horizontal),Or=24,ln=De/Or,$r=R.tilePixelRatio*ln,Ln=R.tilePixelRatio*Gt/Or,wn=R.tilePixelRatio*Ke,Cn=R.tilePixelRatio*ir.get("symbol-spacing"),kn=ir.get("text-padding")*R.tilePixelRatio,Gn=ir.get("icon-padding")*R.tilePixelRatio,ra=ir.get("text-max-angle")/180*Math.PI,ta=ir.get("text-rotation-alignment")==="map"&&ir.get("symbol-placement")!=="point",Ea=ir.get("icon-rotation-alignment")==="map"&&ir.get("symbol-placement")!=="point",ha=ir.get("symbol-placement"),ma=Cn/2,Ba=ir.get("icon-text-fit"),Aa;ne&&Ba!=="none"&&(R.allowVerticalPlacement&&V.vertical&&(Aa=Dx(ne,V.vertical,Ba,ir.get("icon-text-fit-padding"),$t,ln)),br&&(ne=Dx(ne,br,Ba,ir.get("icon-text-fit-padding"),$t,ln)));var Ma=function(yv,jl){jl.x<0||jl.x>=Pa||jl.y<0||jl.y>=Pa||eM(R,jl,yv,V,ne,ve,Aa,R.layers[0],R.collisionBoxArray,D.index,D.sourceLayerIndex,R.index,$r,kn,ta,ut,wn,Gn,Ea,$t,D,Te,Tt,St,De)};if(ha==="line")for(var Ya=0,za=Bx(D.geometry,0,0,Pa,Pa);Ya<za.length;Ya+=1)for(var ri=za[Ya],xi=Y4(ri,Cn,ra,V.vertical||br,ne,Or,Ln,R.overscaling,Pa),ni=0,ai=xi;ni<ai.length;ni+=1){var qa=ai[ni],Ei=br;(!Ei||!tM(R,Ei.text,ma,qa))&&Ma(ri,qa)}else if(ha==="line-center")for(var Pi=0,Vi=D.geometry;Pi<Vi.length;Pi+=1){var ji=Vi[Pi];if(ji.length>1){var wo=W4(ji,ra,V.vertical||br,ne,Or,Ln);wo&&Ma(ji,wo)}}else if(D.type==="Polygon")for(var so=0,Yo=Bg(D.geometry,0);so<Yo.length;so+=1){var jo=Yo[so],To=X4(jo,16);Ma(jo[0],new lv(To.x,To.y,0))}else if(D.type==="LineString")for(var rs=0,ns=D.geometry;rs<ns.length;rs+=1){var po=ns[rs];Ma(po,new lv(po[0].x,po[0].y,0))}else if(D.type==="Point")for(var as=0,tl=D.geometry;as<tl.length;as+=1)for(var zf=tl[as],Ec=0,Cc=zf;Ec<Cc.length;Ec+=1){var Lc=Cc[Ec];Ma([Lc],new lv(Lc.x,Lc.y,0))}}var xd=255,Mc=xd*Tu;function Gx(R,D,V,ne,ve,Te,De,Ke,ut,Tt,St,Gt,ir,$t,br){var Or=j4(D,V,Ke,ve,Te,De,ne,R.allowVerticalPlacement),ln=R.textSizeData,$r=null;ln.kind==="source"?($r=[Tu*ve.layout.get("text-size").evaluate(De,{})],$r[0]>Mc&&B(R.layerIds[0]+': Value for "text-size" is >= '+xd+'. Reduce your "text-size".')):ln.kind==="composite"&&($r=[Tu*$t.compositeTextSizes[0].evaluate(De,{},br),Tu*$t.compositeTextSizes[1].evaluate(De,{},br)],($r[0]>Mc||$r[1]>Mc)&&B(R.layerIds[0]+': Value for "text-size" is >= '+xd+'. Reduce your "text-size".')),R.addSymbols(R.text,Or,$r,Ke,Te,De,Tt,D,ut.lineStartIndex,ut.lineLength,ir,br);for(var Ln=0,wn=St;Ln<wn.length;Ln+=1){var Cn=wn[Ln];Gt[Cn]=R.text.placedSymbolArray.length-1}return Or.length*4}function Wx(R){for(var D in R)return R[D];return null}function eM(R,D,V,ne,ve,Te,De,Ke,ut,Tt,St,Gt,ir,$t,br,Or,ln,$r,Ln,wn,Cn,kn,Gn,ra,ta){var Ea,ha=R.addToLineVertexArray(D,V),ma,Ba,Aa,Ma,Ya=0,za=0,ri=0,xi=0,ni=-1,ai=-1,qa={},Ei=Ze(""),Pi=0,Vi=0;if(Ke._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Ea=Ke.layout.get("text-offset").evaluate(Cn,{},ra).map(function(Td){return Td*Ro}),Pi=Ea[0],Vi=Ea[1]):(Pi=Ke.layout.get("text-radial-offset").evaluate(Cn,{},ra)*Ro,Vi=Kg),R.allowVerticalPlacement&&ne.vertical){var ji=Ke.layout.get("text-rotate").evaluate(Cn,{},ra),wo=ji+90,so=ne.vertical;Aa=new Hp(ut,D,Tt,St,Gt,so,ir,$t,br,wo),De&&(Ma=new Hp(ut,D,Tt,St,Gt,De,ln,$r,br,wo))}if(ve){var Yo=Ke.layout.get("icon-rotate").evaluate(Cn,{}),jo=Ke.layout.get("icon-text-fit")!=="none",To=Ux(ve,Yo,Gn,jo),rs=De?Ux(De,Yo,Gn,jo):void 0;Ba=new Hp(ut,D,Tt,St,Gt,ve,ln,$r,!1,Yo),Ya=To.length*4;var ns=R.iconSizeData,po=null;ns.kind==="source"?(po=[Tu*Ke.layout.get("icon-size").evaluate(Cn,{})],po[0]>Mc&&B(R.layerIds[0]+': Value for "icon-size" is >= '+xd+'. Reduce your "icon-size".')):ns.kind==="composite"&&(po=[Tu*kn.compositeIconSizes[0].evaluate(Cn,{},ra),Tu*kn.compositeIconSizes[1].evaluate(Cn,{},ra)],(po[0]>Mc||po[1]>Mc)&&B(R.layerIds[0]+': Value for "icon-size" is >= '+xd+'. Reduce your "icon-size".')),R.addSymbols(R.icon,To,po,wn,Ln,Cn,!1,D,ha.lineStartIndex,ha.lineLength,-1,ra),ni=R.icon.placedSymbolArray.length-1,rs&&(za=rs.length*4,R.addSymbols(R.icon,rs,po,wn,Ln,Cn,el.vertical,D,ha.lineStartIndex,ha.lineLength,-1,ra),ai=R.icon.placedSymbolArray.length-1)}for(var as in ne.horizontal){var tl=ne.horizontal[as];if(!ma){Ei=Ze(tl.text);var zf=Ke.layout.get("text-rotate").evaluate(Cn,{},ra);ma=new Hp(ut,D,Tt,St,Gt,tl,ir,$t,br,zf)}var Ec=tl.positionedLines.length===1;if(ri+=Gx(R,D,tl,Te,Ke,br,Cn,Or,ha,ne.vertical?el.horizontal:el.horizontalOnly,Ec?Object.keys(ne.horizontal):[as],qa,ni,kn,ra),Ec)break}ne.vertical&&(xi+=Gx(R,D,ne.vertical,Te,Ke,br,Cn,Or,ha,el.vertical,["vertical"],qa,ai,kn,ra));var Cc=ma?ma.boxStartIndex:R.collisionBoxArray.length,Lc=ma?ma.boxEndIndex:R.collisionBoxArray.length,yv=Aa?Aa.boxStartIndex:R.collisionBoxArray.length,jl=Aa?Aa.boxEndIndex:R.collisionBoxArray.length,jp=Ba?Ba.boxStartIndex:R.collisionBoxArray.length,ry=Ba?Ba.boxEndIndex:R.collisionBoxArray.length,Zp=Ma?Ma.boxStartIndex:R.collisionBoxArray.length,ny=Ma?Ma.boxEndIndex:R.collisionBoxArray.length,Tl=-1,mv=function(Td,o2){return Td&&Td.circleDiameter?Math.max(Td.circleDiameter,o2):o2};Tl=mv(ma,Tl),Tl=mv(Aa,Tl),Tl=mv(Ba,Tl),Tl=mv(Ma,Tl);var Xp=Tl>-1?1:0;Xp&&(Tl*=ta/Ro),R.glyphOffsetArray.length>=mi.MAX_GLYPHS&&B("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Cn.sortKey!==void 0&&R.addToSortKeyRanges(R.symbolInstances.length,Cn.sortKey),R.symbolInstances.emplaceBack(D.x,D.y,qa.right>=0?qa.right:-1,qa.center>=0?qa.center:-1,qa.left>=0?qa.left:-1,qa.vertical||-1,ni,ai,Ei,Cc,Lc,yv,jl,jp,ry,Zp,ny,Tt,ri,xi,Ya,za,Xp,0,ir,Pi,Vi,Tl)}function tM(R,D,V,ne){var ve=R.compareText;if(!(D in ve))ve[D]=[];else for(var Te=ve[D],De=Te.length-1;De>=0;De--)if(ne.dist(Te[De])<V)return!0;return ve[D].push(ne),!1}var rM=av.VectorTileFeature.types,nM=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Vp(R,D,V,ne,ve,Te,De,Ke,ut,Tt,St,Gt,ir){var $t=Ke?Math.min(Mc,Math.round(Ke[0])):0,br=Ke?Math.min(Mc,Math.round(Ke[1])):0;R.emplaceBack(D,V,Math.round(ne*32),Math.round(ve*32),Te,De,($t<<1)+(ut?1:0),br,Tt*16,St*16,Gt*256,ir*256)}function Qg(R,D,V){R.emplaceBack(D.x,D.y,V),R.emplaceBack(D.x,D.y,V),R.emplaceBack(D.x,D.y,V),R.emplaceBack(D.x,D.y,V)}function aM(R){for(var D=0,V=R.sections;D<V.length;D+=1){var ne=V[D];if(an(ne.text))return!0}return!1}var vv=function(D){this.layoutVertexArray=new Xu,this.indexArray=new mu,this.programConfigurations=D,this.segments=new Z,this.dynamicLayoutVertexArray=new td,this.opacityVertexArray=new rd,this.placedSymbolArray=new bc};vv.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},vv.prototype.upload=function(D,V,ne,ve){this.isEmpty()||(ne&&(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,Gg.members),this.indexBuffer=D.createIndexBuffer(this.indexArray,V),this.dynamicLayoutVertexBuffer=D.createVertexBuffer(this.dynamicLayoutVertexArray,i4.members,!0),this.opacityVertexBuffer=D.createVertexBuffer(this.opacityVertexArray,nM,!0),this.opacityVertexBuffer.itemSize=1),(ne||ve)&&this.programConfigurations.upload(D))},vv.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},ue("SymbolBuffers",vv);var bd=function(D,V,ne){this.layoutVertexArray=new D,this.layoutAttributes=V,this.indexArray=new ne,this.segments=new Z,this.collisionVertexArray=new gs};bd.prototype.upload=function(D){this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=D.createVertexBuffer(this.collisionVertexArray,o4.members,!0)},bd.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},ue("CollisionBuffers",bd);var mi=function(D){this.collisionBoxArray=D.collisionBoxArray,this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(ut){return ut.id}),this.index=D.index,this.pixelRatio=D.pixelRatio,this.sourceLayerIndex=D.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=qh([]),this.placementViewportMatrix=qh([]);var V=this.layers[0],ne=V._unevaluatedLayout._values;this.textSizeData=Xg(this.zoom,ne["text-size"]),this.iconSizeData=Xg(this.zoom,ne["icon-size"]);var ve=this.layers[0].layout,Te=ve.get("symbol-sort-key"),De=ve.get("symbol-z-order");this.sortFeaturesByKey=De!=="viewport-y"&&Te.constantOr(1)!==void 0;var Ke=De==="viewport-y"||De==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Ke&&(ve.get("text-allow-overlap")||ve.get("icon-allow-overlap")||ve.get("text-ignore-placement")||ve.get("icon-ignore-placement")),ve.get("symbol-placement")==="point"&&(this.writingModes=ve.get("text-writing-mode").map(function(ut){return el[ut]})),this.stateDependentLayerIds=this.layers.filter(function(ut){return ut.isStateDependent()}).map(function(ut){return ut.id}),this.sourceID=D.sourceID};mi.prototype.createArrays=function(){this.text=new vv(new Ha(Gg.members,this.layers,this.zoom,function(D){return/^text/.test(D)})),this.icon=new vv(new Ha(Gg.members,this.layers,this.zoom,function(D){return/^icon/.test(D)})),this.glyphOffsetArray=new bl,this.lineVertexArray=new Mp,this.symbolInstances=new Ap},mi.prototype.calculateGlyphDependencies=function(D,V,ne,ve,Te){for(var De=0;De<D.length;De++)if(V[D.charCodeAt(De)]=!0,(ne||ve)&&Te){var Ke=pd[D.charAt(De)];Ke&&(V[Ke.charCodeAt(0)]=!0)}},mi.prototype.populate=function(D,V,ne){var ve=this.layers[0],Te=ve.layout,De=Te.get("text-font"),Ke=Te.get("text-field"),ut=Te.get("icon-image"),Tt=(Ke.value.kind!=="constant"||Ke.value.value instanceof Ji&&!Ke.value.value.isEmpty()||Ke.value.value.toString().length>0)&&(De.value.kind!=="constant"||De.value.value.length>0),St=ut.value.kind!=="constant"||!!ut.value.value||Object.keys(ut.parameters).length>0,Gt=Te.get("symbol-sort-key");if(this.features=[],!(!Tt&&!St)){for(var ir=V.iconDependencies,$t=V.glyphDependencies,br=V.availableImages,Or=new Vn(this.zoom),ln=0,$r=D;ln<$r.length;ln+=1){var Ln=$r[ln],wn=Ln.feature,Cn=Ln.id,kn=Ln.index,Gn=Ln.sourceLayerIndex,ra=ve._featureFilter.needGeometry,ta={type:wn.type,id:Cn,properties:wn.properties,geometry:ra?vi(wn):[]};if(ve._featureFilter.filter(Or,ta,ne)){ra||(ta.geometry=vi(wn));var Ea=void 0;if(Tt){var ha=ve.getValueAndResolveTokens("text-field",ta,ne,br),ma=Ji.factory(ha);aM(ma)&&(this.hasRTLText=!0),(!this.hasRTLText||Ua()==="unavailable"||this.hasRTLText&&ti.isParsed())&&(Ea=u4(ma,ve,ta))}var Ba=void 0;if(St){var Aa=ve.getValueAndResolveTokens("icon-image",ta,ne,br);Aa instanceof So?Ba=Aa:Ba=So.fromString(Aa)}if(!(!Ea&&!Ba)){var Ma=this.sortFeaturesByKey?Gt.evaluate(ta,{},ne):void 0,Ya={id:Cn,text:Ea,icon:Ba,index:kn,sourceLayerIndex:Gn,geometry:vi(wn),properties:wn.properties,type:rM[wn.type],sortKey:Ma};if(this.features.push(Ya),Ba&&(ir[Ba.name]=!0),Ea){var za=De.evaluate(ta,{},ne).join(","),ri=Te.get("text-rotation-alignment")==="map"&&Te.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(el.vertical)>=0;for(var xi=0,ni=Ea.sections;xi<ni.length;xi+=1){var ai=ni[xi];if(ai.image)ir[ai.image.name]=!0;else{var qa=Ht(Ea.toString()),Ei=ai.fontStack||za,Pi=$t[Ei]=$t[Ei]||{};this.calculateGlyphDependencies(ai.text,Pi,ri,this.allowVerticalPlacement,qa)}}}}}}Te.get("symbol-placement")==="line"&&(this.features=f4(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Vi,ji){return Vi.sortKey-ji.sortKey})}},mi.prototype.update=function(D,V,ne){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(D,V,this.layers,ne),this.icon.programConfigurations.updatePaintArrays(D,V,this.layers,ne))},mi.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},mi.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},mi.prototype.upload=function(D){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(D),this.iconCollisionBox.upload(D)),this.text.upload(D,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(D,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},mi.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},mi.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},mi.prototype.addToLineVertexArray=function(D,V){var ne=this.lineVertexArray.length;if(D.segment!==void 0){for(var ve=D.dist(V[D.segment+1]),Te=D.dist(V[D.segment]),De={},Ke=D.segment+1;Ke<V.length;Ke++)De[Ke]={x:V[Ke].x,y:V[Ke].y,tileUnitDistanceFromAnchor:ve},Ke<V.length-1&&(ve+=V[Ke+1].dist(V[Ke]));for(var ut=D.segment||0;ut>=0;ut--)De[ut]={x:V[ut].x,y:V[ut].y,tileUnitDistanceFromAnchor:Te},ut>0&&(Te+=V[ut-1].dist(V[ut]));for(var Tt=0;Tt<V.length;Tt++){var St=De[Tt];this.lineVertexArray.emplaceBack(St.x,St.y,St.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ne,lineLength:this.lineVertexArray.length-ne}},mi.prototype.addSymbols=function(D,V,ne,ve,Te,De,Ke,ut,Tt,St,Gt,ir){for(var $t=D.indexArray,br=D.layoutVertexArray,Or=D.segments.prepareSegment(4*V.length,br,$t,De.sortKey),ln=this.glyphOffsetArray.length,$r=Or.vertexLength,Ln=this.allowVerticalPlacement&&Ke===el.vertical?Math.PI/2:0,wn=De.text&&De.text.sections,Cn=0;Cn<V.length;Cn++){var kn=V[Cn],Gn=kn.tl,ra=kn.tr,ta=kn.bl,Ea=kn.br,ha=kn.tex,ma=kn.pixelOffsetTL,Ba=kn.pixelOffsetBR,Aa=kn.minFontScaleX,Ma=kn.minFontScaleY,Ya=kn.glyphOffset,za=kn.isSDF,ri=kn.sectionIndex,xi=Or.vertexLength,ni=Ya[1];Vp(br,ut.x,ut.y,Gn.x,ni+Gn.y,ha.x,ha.y,ne,za,ma.x,ma.y,Aa,Ma),Vp(br,ut.x,ut.y,ra.x,ni+ra.y,ha.x+ha.w,ha.y,ne,za,Ba.x,ma.y,Aa,Ma),Vp(br,ut.x,ut.y,ta.x,ni+ta.y,ha.x,ha.y+ha.h,ne,za,ma.x,Ba.y,Aa,Ma),Vp(br,ut.x,ut.y,Ea.x,ni+Ea.y,ha.x+ha.w,ha.y+ha.h,ne,za,Ba.x,Ba.y,Aa,Ma),Qg(D.dynamicLayoutVertexArray,ut,Ln),$t.emplaceBack(xi,xi+1,xi+2),$t.emplaceBack(xi+1,xi+2,xi+3),Or.vertexLength+=4,Or.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ya[0]),(Cn===V.length-1||ri!==V[Cn+1].sectionIndex)&&D.programConfigurations.populatePaintArrays(br.length,De,De.index,{},ir,wn&&wn[ri])}D.placedSymbolArray.emplaceBack(ut.x,ut.y,ln,this.glyphOffsetArray.length-ln,$r,Tt,St,ut.segment,ne?ne[0]:0,ne?ne[1]:0,ve[0],ve[1],Ke,0,!1,0,Gt)},mi.prototype._addCollisionDebugVertex=function(D,V,ne,ve,Te,De){return V.emplaceBack(0,0),D.emplaceBack(ne.x,ne.y,ve,Te,Math.round(De.x),Math.round(De.y))},mi.prototype.addCollisionDebugVertices=function(D,V,ne,ve,Te,De,Ke){var ut=Te.segments.prepareSegment(4,Te.layoutVertexArray,Te.indexArray),Tt=ut.vertexLength,St=Te.layoutVertexArray,Gt=Te.collisionVertexArray,ir=Ke.anchorX,$t=Ke.anchorY;this._addCollisionDebugVertex(St,Gt,De,ir,$t,new t(D,V)),this._addCollisionDebugVertex(St,Gt,De,ir,$t,new t(ne,V)),this._addCollisionDebugVertex(St,Gt,De,ir,$t,new t(ne,ve)),this._addCollisionDebugVertex(St,Gt,De,ir,$t,new t(D,ve)),ut.vertexLength+=4;var br=Te.indexArray;br.emplaceBack(Tt,Tt+1),br.emplaceBack(Tt+1,Tt+2),br.emplaceBack(Tt+2,Tt+3),br.emplaceBack(Tt+3,Tt),ut.primitiveLength+=4},mi.prototype.addDebugCollisionBoxes=function(D,V,ne,ve){for(var Te=D;Te<V;Te++){var De=this.collisionBoxArray.get(Te),Ke=De.x1,ut=De.y1,Tt=De.x2,St=De.y2;this.addCollisionDebugVertices(Ke,ut,Tt,St,ve?this.textCollisionBox:this.iconCollisionBox,De.anchorPoint,ne)}},mi.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new bd(Xh,mx.members,wh),this.iconCollisionBox=new bd(Xh,mx.members,wh);for(var D=0;D<this.symbolInstances.length;D++){var V=this.symbolInstances.get(D);this.addDebugCollisionBoxes(V.textBoxStartIndex,V.textBoxEndIndex,V,!0),this.addDebugCollisionBoxes(V.verticalTextBoxStartIndex,V.verticalTextBoxEndIndex,V,!0),this.addDebugCollisionBoxes(V.iconBoxStartIndex,V.iconBoxEndIndex,V,!1),this.addDebugCollisionBoxes(V.verticalIconBoxStartIndex,V.verticalIconBoxEndIndex,V,!1)}},mi.prototype._deserializeCollisionBoxesForSymbol=function(D,V,ne,ve,Te,De,Ke,ut,Tt){for(var St={},Gt=V;Gt<ne;Gt++){var ir=D.get(Gt);St.textBox={x1:ir.x1,y1:ir.y1,x2:ir.x2,y2:ir.y2,anchorPointX:ir.anchorPointX,anchorPointY:ir.anchorPointY},St.textFeatureIndex=ir.featureIndex;break}for(var $t=ve;$t<Te;$t++){var br=D.get($t);St.verticalTextBox={x1:br.x1,y1:br.y1,x2:br.x2,y2:br.y2,anchorPointX:br.anchorPointX,anchorPointY:br.anchorPointY},St.verticalTextFeatureIndex=br.featureIndex;break}for(var Or=De;Or<Ke;Or++){var ln=D.get(Or);St.iconBox={x1:ln.x1,y1:ln.y1,x2:ln.x2,y2:ln.y2,anchorPointX:ln.anchorPointX,anchorPointY:ln.anchorPointY},St.iconFeatureIndex=ln.featureIndex;break}for(var $r=ut;$r<Tt;$r++){var Ln=D.get($r);St.verticalIconBox={x1:Ln.x1,y1:Ln.y1,x2:Ln.x2,y2:Ln.y2,anchorPointX:Ln.anchorPointX,anchorPointY:Ln.anchorPointY},St.verticalIconFeatureIndex=Ln.featureIndex;break}return St},mi.prototype.deserializeCollisionBoxes=function(D){this.collisionArrays=[];for(var V=0;V<this.symbolInstances.length;V++){var ne=this.symbolInstances.get(V);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(D,ne.textBoxStartIndex,ne.textBoxEndIndex,ne.verticalTextBoxStartIndex,ne.verticalTextBoxEndIndex,ne.iconBoxStartIndex,ne.iconBoxEndIndex,ne.verticalIconBoxStartIndex,ne.verticalIconBoxEndIndex))}},mi.prototype.hasTextData=function(){return this.text.segments.get().length>0},mi.prototype.hasIconData=function(){return this.icon.segments.get().length>0},mi.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},mi.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},mi.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},mi.prototype.addIndicesForPlacedSymbol=function(D,V){for(var ne=D.placedSymbolArray.get(V),ve=ne.vertexStartIndex+ne.numGlyphs*4,Te=ne.vertexStartIndex;Te<ve;Te+=4)D.indexArray.emplaceBack(Te,Te+1,Te+2),D.indexArray.emplaceBack(Te+1,Te+2,Te+3)},mi.prototype.getSortedSymbolIndexes=function(D){if(this.sortedAngle===D&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var V=Math.sin(D),ne=Math.cos(D),ve=[],Te=[],De=[],Ke=0;Ke<this.symbolInstances.length;++Ke){De.push(Ke);var ut=this.symbolInstances.get(Ke);ve.push(Math.round(V*ut.anchorX+ne*ut.anchorY)|0),Te.push(ut.featureIndex)}return De.sort(function(Tt,St){return ve[Tt]-ve[St]||Te[St]-Te[Tt]}),De},mi.prototype.addToSortKeyRanges=function(D,V){var ne=this.sortKeyRanges[this.sortKeyRanges.length-1];ne&&ne.sortKey===V?ne.symbolInstanceEnd=D+1:this.sortKeyRanges.push({sortKey:V,symbolInstanceStart:D,symbolInstanceEnd:D+1})},mi.prototype.sortFeatures=function(D){var V=this;if(this.sortFeaturesByY&&this.sortedAngle!==D&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(D),this.sortedAngle=D,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ne=0,ve=this.symbolInstanceIndexes;ne<ve.length;ne+=1){var Te=ve[ne],De=this.symbolInstances.get(Te);this.featureSortOrder.push(De.featureIndex),[De.rightJustifiedTextSymbolIndex,De.centerJustifiedTextSymbolIndex,De.leftJustifiedTextSymbolIndex].forEach(function(Ke,ut,Tt){Ke>=0&&Tt.indexOf(Ke)===ut&&V.addIndicesForPlacedSymbol(V.text,Ke)}),De.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,De.verticalPlacedTextSymbolIndex),De.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,De.placedIconSymbolIndex),De.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,De.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},ue("SymbolBucket",mi,{omit:["layers","collisionBoxArray","features","compareText"]}),mi.MAX_GLYPHS=65535,mi.addDynamicAttributes=Qg;function iM(R,D){return D.replace(/{([^{}]+)}/g,function(V,ne){return ne in R?String(R[ne]):""})}var oM=new $i({"symbol-placement":new ya(jt.layout_symbol["symbol-placement"]),"symbol-spacing":new ya(jt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ya(jt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Sa(jt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ya(jt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ya(jt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new ya(jt.layout_symbol["icon-ignore-placement"]),"icon-optional":new ya(jt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ya(jt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Sa(jt.layout_symbol["icon-size"]),"icon-text-fit":new ya(jt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ya(jt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Sa(jt.layout_symbol["icon-image"]),"icon-rotate":new Sa(jt.layout_symbol["icon-rotate"]),"icon-padding":new ya(jt.layout_symbol["icon-padding"]),"icon-keep-upright":new ya(jt.layout_symbol["icon-keep-upright"]),"icon-offset":new Sa(jt.layout_symbol["icon-offset"]),"icon-anchor":new Sa(jt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ya(jt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ya(jt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ya(jt.layout_symbol["text-rotation-alignment"]),"text-field":new Sa(jt.layout_symbol["text-field"]),"text-font":new Sa(jt.layout_symbol["text-font"]),"text-size":new Sa(jt.layout_symbol["text-size"]),"text-max-width":new Sa(jt.layout_symbol["text-max-width"]),"text-line-height":new ya(jt.layout_symbol["text-line-height"]),"text-letter-spacing":new Sa(jt.layout_symbol["text-letter-spacing"]),"text-justify":new Sa(jt.layout_symbol["text-justify"]),"text-radial-offset":new Sa(jt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ya(jt.layout_symbol["text-variable-anchor"]),"text-anchor":new Sa(jt.layout_symbol["text-anchor"]),"text-max-angle":new ya(jt.layout_symbol["text-max-angle"]),"text-writing-mode":new ya(jt.layout_symbol["text-writing-mode"]),"text-rotate":new Sa(jt.layout_symbol["text-rotate"]),"text-padding":new ya(jt.layout_symbol["text-padding"]),"text-keep-upright":new ya(jt.layout_symbol["text-keep-upright"]),"text-transform":new Sa(jt.layout_symbol["text-transform"]),"text-offset":new Sa(jt.layout_symbol["text-offset"]),"text-allow-overlap":new ya(jt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new ya(jt.layout_symbol["text-ignore-placement"]),"text-optional":new ya(jt.layout_symbol["text-optional"])}),sM=new $i({"icon-opacity":new Sa(jt.paint_symbol["icon-opacity"]),"icon-color":new Sa(jt.paint_symbol["icon-color"]),"icon-halo-color":new Sa(jt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Sa(jt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Sa(jt.paint_symbol["icon-halo-blur"]),"icon-translate":new ya(jt.paint_symbol["icon-translate"]),"icon-translate-anchor":new ya(jt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Sa(jt.paint_symbol["text-opacity"]),"text-color":new Sa(jt.paint_symbol["text-color"],{runtimeType:_n,getOverride:function(R){return R.textColor},hasOverride:function(R){return!!R.textColor}}),"text-halo-color":new Sa(jt.paint_symbol["text-halo-color"]),"text-halo-width":new Sa(jt.paint_symbol["text-halo-width"]),"text-halo-blur":new Sa(jt.paint_symbol["text-halo-blur"]),"text-translate":new ya(jt.paint_symbol["text-translate"]),"text-translate-anchor":new ya(jt.paint_symbol["text-translate-anchor"])}),$g={paint:sM,layout:oM},dv=function(D){this.type=D.property.overrides?D.property.overrides.runtimeType:Dr,this.defaultValue=D};dv.prototype.evaluate=function(D){if(D.formattedSection){var V=this.defaultValue.property.overrides;if(V&&V.hasOverride(D.formattedSection))return V.getOverride(D.formattedSection)}return D.feature&&D.featureState?this.defaultValue.evaluate(D.feature,D.featureState):this.defaultValue.property.specification.default},dv.prototype.eachChild=function(D){if(!this.defaultValue.isConstant()){var V=this.defaultValue.value;D(V._styleExpression.expression)}},dv.prototype.outputDefined=function(){return!1},dv.prototype.serialize=function(){return null},ue("FormatSectionOverride",dv,{omit:["defaultValue"]});var lM=function(R){function D(V){R.call(this,V,$g)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(ne,ve){if(R.prototype.recalculate.call(this,ne,ve),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Te=this.layout.get("text-writing-mode");if(Te){for(var De=[],Ke=0,ut=Te;Ke<ut.length;Ke+=1){var Tt=ut[Ke];De.indexOf(Tt)<0&&De.push(Tt)}this.layout._values["text-writing-mode"]=De}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},D.prototype.getValueAndResolveTokens=function(ne,ve,Te,De){var Ke=this.layout.get(ne).evaluate(ve,{},Te,De),ut=this._unevaluatedLayout._values[ne];return!ut.isDataDriven()&&!Ks(ut.value)&&Ke?iM(ve.properties,Ke):Ke},D.prototype.createBucket=function(ne){return new mi(ne)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype._setPaintOverrides=function(){for(var ne=0,ve=$g.paint.overridableProperties;ne<ve.length;ne+=1){var Te=ve[ne];if(D.hasPaintOverride(this.layout,Te)){var De=this.paint.get(Te),Ke=new dv(De),ut=new ks(Ke,De.property.specification),Tt=null;De.value.kind==="constant"||De.value.kind==="source"?Tt=new yl("source",ut):Tt=new Lo("composite",ut,De.value.zoomStops,De.value._interpolationType),this.paint._values[Te]=new bi(De.property,Tt,De.parameters)}}},D.prototype._handleOverridablePaintPropertyUpdate=function(ne,ve,Te){return!this.layout||ve.isDataDriven()||Te.isDataDriven()?!1:D.hasPaintOverride(this.layout,ne)},D.hasPaintOverride=function(ne,ve){var Te=ne.get("text-field"),De=$g.paint.properties[ve],Ke=!1,ut=function(Gt){for(var ir=0,$t=Gt;ir<$t.length;ir+=1){var br=$t[ir];if(De.overrides&&De.overrides.hasOverride(br)){Ke=!0;return}}};if(Te.value.kind==="constant"&&Te.value.value instanceof Ji)ut(Te.value.value.sections);else if(Te.value.kind==="source"){var Tt=function(Gt){if(!Ke)if(Gt instanceof Io&&Ri(Gt.value)===ua){var ir=Gt.value;ut(ir.sections)}else Gt instanceof Bo?ut(Gt.sections):Gt.eachChild(Tt)},St=Te.value;St._styleExpression&&Tt(St._styleExpression.expression)}return Ke},D}(Ci),uM=new $i({"background-color":new ya(jt.paint_background["background-color"]),"background-pattern":new Bi(jt.paint_background["background-pattern"]),"background-opacity":new ya(jt.paint_background["background-opacity"])}),fM={paint:uM},cM=function(R){function D(V){R.call(this,V,fM)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Ci),hM=new $i({"raster-opacity":new ya(jt.paint_raster["raster-opacity"]),"raster-hue-rotate":new ya(jt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ya(jt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ya(jt.paint_raster["raster-brightness-max"]),"raster-saturation":new ya(jt.paint_raster["raster-saturation"]),"raster-contrast":new ya(jt.paint_raster["raster-contrast"]),"raster-resampling":new ya(jt.paint_raster["raster-resampling"]),"raster-fade-duration":new ya(jt.paint_raster["raster-fade-duration"])}),vM={paint:hM},dM=function(R){function D(V){R.call(this,V,vM)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Ci);function pM(R){var D=[],V=R.id;return V===void 0&&D.push({message:"layers."+V+': missing required property "id"'}),R.render===void 0&&D.push({message:"layers."+V+': missing required method "render"'}),R.renderingMode&&R.renderingMode!=="2d"&&R.renderingMode!=="3d"&&D.push({message:"layers."+V+': property "renderingMode" must be either "2d" or "3d"'}),D}var gM=function(R){function D(V){R.call(this,V,{}),this.implementation=V}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},D.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},D.prototype.recalculate=function(){},D.prototype.updateTransitions=function(){},D.prototype.hasTransition=function(){},D.prototype.serialize=function(){},D.prototype.onAdd=function(ne){this.implementation.onAdd&&this.implementation.onAdd(ne,ne.painter.context.gl)},D.prototype.onRemove=function(ne){this.implementation.onRemove&&this.implementation.onRemove(ne,ne.painter.context.gl)},D}(Ci),yM={circle:j5,heatmap:J5,hillshade:q5,fill:MA,"fill-extrusion":WA,line:n4,symbol:lM,background:cM,raster:dM};function mM(R){return R.type==="custom"?new gM(R):new yM[R.type](R)}var Yx=self.HTMLImageElement,jx=self.HTMLCanvasElement,Zx=self.HTMLVideoElement,Xx=self.ImageData,Gp=self.ImageBitmap,Eh=function(D,V,ne,ve){this.context=D,this.format=ne,this.texture=D.gl.createTexture(),this.update(V,ve)};Eh.prototype.update=function(D,V,ne){var ve=D.width,Te=D.height,De=(!this.size||this.size[0]!==ve||this.size[1]!==Te)&&!ne,Ke=this,ut=Ke.context,Tt=ut.gl;if(this.useMipmap=!!(V&&V.useMipmap),Tt.bindTexture(Tt.TEXTURE_2D,this.texture),ut.pixelStoreUnpackFlipY.set(!1),ut.pixelStoreUnpack.set(1),ut.pixelStoreUnpackPremultiplyAlpha.set(this.format===Tt.RGBA&&(!V||V.premultiply!==!1)),De)this.size=[ve,Te],D instanceof Yx||D instanceof jx||D instanceof Zx||D instanceof Xx||Gp&&D instanceof Gp?Tt.texImage2D(Tt.TEXTURE_2D,0,this.format,this.format,Tt.UNSIGNED_BYTE,D):Tt.texImage2D(Tt.TEXTURE_2D,0,this.format,ve,Te,0,this.format,Tt.UNSIGNED_BYTE,D.data);else{var St=ne||{x:0,y:0},Gt=St.x,ir=St.y;D instanceof Yx||D instanceof jx||D instanceof Zx||D instanceof Xx||Gp&&D instanceof Gp?Tt.texSubImage2D(Tt.TEXTURE_2D,0,Gt,ir,Tt.RGBA,Tt.UNSIGNED_BYTE,D):Tt.texSubImage2D(Tt.TEXTURE_2D,0,Gt,ir,ve,Te,Tt.RGBA,Tt.UNSIGNED_BYTE,D.data)}this.useMipmap&&this.isSizePowerOfTwo()&&Tt.generateMipmap(Tt.TEXTURE_2D)},Eh.prototype.bind=function(D,V,ne){var ve=this,Te=ve.context,De=Te.gl;De.bindTexture(De.TEXTURE_2D,this.texture),ne===De.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(ne=De.LINEAR),D!==this.filter&&(De.texParameteri(De.TEXTURE_2D,De.TEXTURE_MAG_FILTER,D),De.texParameteri(De.TEXTURE_2D,De.TEXTURE_MIN_FILTER,ne||D),this.filter=D),V!==this.wrap&&(De.texParameteri(De.TEXTURE_2D,De.TEXTURE_WRAP_S,V),De.texParameteri(De.TEXTURE_2D,De.TEXTURE_WRAP_T,V),this.wrap=V)},Eh.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},Eh.prototype.destroy=function(){var D=this.context,V=D.gl;V.deleteTexture(this.texture),this.texture=null};var qg=function(D){var V=this;this._callback=D,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){V._triggered=!1,V._callback()})};qg.prototype.trigger=function(){var D=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){D._triggered=!1,D._callback()},0))},qg.prototype.remove=function(){delete this._channel,this._callback=function(){}};var pv=function(D,V,ne){this.target=D,this.parent=V,this.mapId=ne,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},S(["receive","process"],this),this.invoker=new qg(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=_()?D:self};pv.prototype.send=function(D,V,ne,ve,Te){var De=this;Te===void 0&&(Te=!1);var Ke=Math.round(Math.random()*1e18).toString(36).substring(0,10);ne&&(this.callbacks[Ke]=ne);var ut=K(this.globalScope)?void 0:[];return this.target.postMessage({id:Ke,type:D,hasCallback:!!ne,targetMapId:ve,mustQueue:Te,sourceMapId:this.mapId,data:rt(V,ut)},ut),{cancel:function(){ne&&delete De.callbacks[Ke],De.target.postMessage({id:Ke,type:"<cancel>",targetMapId:ve,sourceMapId:De.mapId})}}},pv.prototype.receive=function(D){var V=D.data,ne=V.id;if(ne&&!(V.targetMapId&&this.mapId!==V.targetMapId))if(V.type==="<cancel>"){delete this.tasks[ne];var ve=this.cancelCallbacks[ne];delete this.cancelCallbacks[ne],ve&&ve()}else _()||V.mustQueue?(this.tasks[ne]=V,this.taskQueue.push(ne),this.invoker.trigger()):this.processTask(ne,V)},pv.prototype.process=function(){if(this.taskQueue.length){var D=this.taskQueue.shift(),V=this.tasks[D];delete this.tasks[D],this.taskQueue.length&&this.invoker.trigger(),V&&this.processTask(D,V)}},pv.prototype.processTask=function(D,V){var ne=this;if(V.type==="<response>"){var ve=this.callbacks[D];delete this.callbacks[D],ve&&(V.error?ve(ot(V.error)):ve(null,ot(V.data)))}else{var Te=!1,De=K(this.globalScope)?void 0:[],Ke=V.hasCallback?function(ir,$t){Te=!0,delete ne.cancelCallbacks[D],ne.target.postMessage({id:D,type:"<response>",sourceMapId:ne.mapId,error:ir?rt(ir):null,data:rt($t,De)},De)}:function(ir){Te=!0},ut=null,Tt=ot(V.data);if(this.parent[V.type])ut=this.parent[V.type](V.sourceMapId,Tt,Ke);else if(this.parent.getWorkerSource){var St=V.type.split("."),Gt=this.parent.getWorkerSource(V.sourceMapId,St[0],Tt.source);ut=Gt[St[1]](Tt,Ke)}else Ke(new Error("Could not find function "+V.type));!Te&&ut&&ut.cancel&&(this.cancelCallbacks[D]=ut.cancel)}},pv.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function xM(R,D,V){D=Math.pow(2,V)-D-1;var ne=Kx(R*256,D*256,V),ve=Kx((R+1)*256,(D+1)*256,V);return ne[0]+","+ne[1]+","+ve[0]+","+ve[1]}function Kx(R,D,V){var ne=2*Math.PI*6378137/256/Math.pow(2,V),ve=R*ne-2*Math.PI*6378137/2,Te=D*ne-2*Math.PI*6378137/2;return[ve,Te]}var io=function(D,V){D&&(V?this.setSouthWest(D).setNorthEast(V):D.length===4?this.setSouthWest([D[0],D[1]]).setNorthEast([D[2],D[3]]):this.setSouthWest(D[0]).setNorthEast(D[1]))};io.prototype.setNorthEast=function(D){return this._ne=D instanceof Ii?new Ii(D.lng,D.lat):Ii.convert(D),this},io.prototype.setSouthWest=function(D){return this._sw=D instanceof Ii?new Ii(D.lng,D.lat):Ii.convert(D),this},io.prototype.extend=function(D){var V=this._sw,ne=this._ne,ve,Te;if(D instanceof Ii)ve=D,Te=D;else if(D instanceof io){if(ve=D._sw,Te=D._ne,!ve||!Te)return this}else{if(Array.isArray(D))if(D.length===4||D.every(Array.isArray)){var De=D;return this.extend(io.convert(De))}else{var Ke=D;return this.extend(Ii.convert(Ke))}return this}return!V&&!ne?(this._sw=new Ii(ve.lng,ve.lat),this._ne=new Ii(Te.lng,Te.lat)):(V.lng=Math.min(ve.lng,V.lng),V.lat=Math.min(ve.lat,V.lat),ne.lng=Math.max(Te.lng,ne.lng),ne.lat=Math.max(Te.lat,ne.lat)),this},io.prototype.getCenter=function(){return new Ii((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},io.prototype.getSouthWest=function(){return this._sw},io.prototype.getNorthEast=function(){return this._ne},io.prototype.getNorthWest=function(){return new Ii(this.getWest(),this.getNorth())},io.prototype.getSouthEast=function(){return new Ii(this.getEast(),this.getSouth())},io.prototype.getWest=function(){return this._sw.lng},io.prototype.getSouth=function(){return this._sw.lat},io.prototype.getEast=function(){return this._ne.lng},io.prototype.getNorth=function(){return this._ne.lat},io.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},io.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},io.prototype.isEmpty=function(){return!(this._sw&&this._ne)},io.prototype.contains=function(D){var V=Ii.convert(D),ne=V.lng,ve=V.lat,Te=this._sw.lat<=ve&&ve<=this._ne.lat,De=this._sw.lng<=ne&&ne<=this._ne.lng;return this._sw.lng>this._ne.lng&&(De=this._sw.lng>=ne&&ne>=this._ne.lng),Te&&De},io.convert=function(D){return!D||D instanceof io?D:new io(D)};var Jx=63710088e-1,Ii=function(D,V){if(isNaN(D)||isNaN(V))throw new Error("Invalid LngLat object: ("+D+", "+V+")");if(this.lng=+D,this.lat=+V,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Ii.prototype.wrap=function(){return new Ii(m(this.lng,-180,180),this.lat)},Ii.prototype.toArray=function(){return[this.lng,this.lat]},Ii.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Ii.prototype.distanceTo=function(D){var V=Math.PI/180,ne=this.lat*V,ve=D.lat*V,Te=Math.sin(ne)*Math.sin(ve)+Math.cos(ne)*Math.cos(ve)*Math.cos((D.lng-this.lng)*V),De=Jx*Math.acos(Math.min(Te,1));return De},Ii.prototype.toBounds=function(D){D===void 0&&(D=0);var V=40075017,ne=360*D/V,ve=ne/Math.cos(Math.PI/180*this.lat);return new io(new Ii(this.lng-ve,this.lat-ne),new Ii(this.lng+ve,this.lat+ne))},Ii.convert=function(D){if(D instanceof Ii)return D;if(Array.isArray(D)&&(D.length===2||D.length===3))return new Ii(Number(D[0]),Number(D[1]));if(!Array.isArray(D)&&typeof D=="object"&&D!==null)return new Ii(Number("lng"in D?D.lng:D.lon),Number(D.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Qx=2*Math.PI*Jx;function $x(R){return Qx*Math.cos(R*Math.PI/180)}function qx(R){return(180+R)/360}function e2(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}function t2(R,D){return R/$x(D)}function bM(R){return R*360-180}function ey(R){var D=180-R*360;return 360/Math.PI*Math.atan(Math.exp(D*Math.PI/180))-90}function wM(R,D){return R*$x(ey(D))}function TM(R){return 1/Math.cos(R*Math.PI/180)}var Ch=function(D,V,ne){ne===void 0&&(ne=0),this.x=+D,this.y=+V,this.z=+ne};Ch.fromLngLat=function(D,V){V===void 0&&(V=0);var ne=Ii.convert(D);return new Ch(qx(ne.lng),e2(ne.lat),t2(V,ne.lat))},Ch.prototype.toLngLat=function(){return new Ii(bM(this.x),ey(this.y))},Ch.prototype.toAltitude=function(){return wM(this.z,this.y)},Ch.prototype.meterInMercatorCoordinateUnits=function(){return 1/Qx*TM(ey(this.y))};var Lh=function(D,V,ne){this.z=D,this.x=V,this.y=ne,this.key=wd(0,D,D,V,ne)};Lh.prototype.equals=function(D){return this.z===D.z&&this.x===D.x&&this.y===D.y},Lh.prototype.url=function(D,V){var ne=xM(this.x,this.y,this.z),ve=AM(this.z,this.x,this.y);return D[(this.x+this.y)%D.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(V==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ve).replace("{bbox-epsg-3857}",ne)},Lh.prototype.getTilePoint=function(D){var V=Math.pow(2,this.z);return new t((D.x*V-this.x)*Pa,(D.y*V-this.y)*Pa)},Lh.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var r2=function(D,V){this.wrap=D,this.canonical=V,this.key=wd(D,V.z,V.z,V.x,V.y)},oo=function(D,V,ne,ve,Te){this.overscaledZ=D,this.wrap=V,this.canonical=new Lh(ne,+ve,+Te),this.key=wd(V,D,ne,ve,Te)};oo.prototype.equals=function(D){return this.overscaledZ===D.overscaledZ&&this.wrap===D.wrap&&this.canonical.equals(D.canonical)},oo.prototype.scaledTo=function(D){var V=this.canonical.z-D;return D>this.canonical.z?new oo(D,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new oo(D,this.wrap,D,this.canonical.x>>V,this.canonical.y>>V)},oo.prototype.calculateScaledKey=function(D,V){var ne=this.canonical.z-D;return D>this.canonical.z?wd(this.wrap*+V,D,this.canonical.z,this.canonical.x,this.canonical.y):wd(this.wrap*+V,D,D,this.canonical.x>>ne,this.canonical.y>>ne)},oo.prototype.isChildOf=function(D){if(D.wrap!==this.wrap)return!1;var V=this.canonical.z-D.canonical.z;return D.overscaledZ===0||D.overscaledZ<this.overscaledZ&&D.canonical.x===this.canonical.x>>V&&D.canonical.y===this.canonical.y>>V},oo.prototype.children=function(D){if(this.overscaledZ>=D)return[new oo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var V=this.canonical.z+1,ne=this.canonical.x*2,ve=this.canonical.y*2;return[new oo(V,this.wrap,V,ne,ve),new oo(V,this.wrap,V,ne+1,ve),new oo(V,this.wrap,V,ne,ve+1),new oo(V,this.wrap,V,ne+1,ve+1)]},oo.prototype.isLessThan=function(D){return this.wrap<D.wrap?!0:this.wrap>D.wrap?!1:this.overscaledZ<D.overscaledZ?!0:this.overscaledZ>D.overscaledZ?!1:this.canonical.x<D.canonical.x?!0:this.canonical.x>D.canonical.x?!1:this.canonical.y<D.canonical.y},oo.prototype.wrapped=function(){return new oo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},oo.prototype.unwrapTo=function(D){return new oo(this.overscaledZ,D,this.canonical.z,this.canonical.x,this.canonical.y)},oo.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},oo.prototype.toUnwrapped=function(){return new r2(this.wrap,this.canonical)},oo.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},oo.prototype.getTilePoint=function(D){return this.canonical.getTilePoint(new Ch(D.x-this.wrap,D.y))};function wd(R,D,V,ne,ve){R*=2,R<0&&(R=R*-1-1);var Te=1<<V;return(Te*Te*R+Te*ve+ne).toString(36)+V.toString(36)+D.toString(36)}function AM(R,D,V){for(var ne="",ve,Te=R;Te>0;Te--)ve=1<<Te-1,ne+=(D&ve?1:0)+(V&ve?2:0);return ne}ue("CanonicalTileID",Lh),ue("OverscaledTileID",oo,{omit:["posMatrix"]});var Ff=function(D,V,ne){if(this.uid=D,V.height!==V.width)throw new RangeError("DEM tiles must be square");if(ne&&ne!=="mapbox"&&ne!=="terrarium")return B('"'+ne+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=V.height;var ve=this.dim=V.height-2;this.data=new Uint32Array(V.data.buffer),this.encoding=ne||"mapbox";for(var Te=0;Te<ve;Te++)this.data[this._idx(-1,Te)]=this.data[this._idx(0,Te)],this.data[this._idx(ve,Te)]=this.data[this._idx(ve-1,Te)],this.data[this._idx(Te,-1)]=this.data[this._idx(Te,0)],this.data[this._idx(Te,ve)]=this.data[this._idx(Te,ve-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ve,-1)]=this.data[this._idx(ve-1,0)],this.data[this._idx(-1,ve)]=this.data[this._idx(0,ve-1)],this.data[this._idx(ve,ve)]=this.data[this._idx(ve-1,ve-1)]};Ff.prototype.get=function(D,V){var ne=new Uint8Array(this.data.buffer),ve=this._idx(D,V)*4,Te=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return Te(ne[ve],ne[ve+1],ne[ve+2])},Ff.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Ff.prototype._idx=function(D,V){if(D<-1||D>=this.dim+1||V<-1||V>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(V+1)*this.stride+(D+1)},Ff.prototype._unpackMapbox=function(D,V,ne){return(D*256*256+V*256+ne)/10-1e4},Ff.prototype._unpackTerrarium=function(D,V,ne){return D*256+V+ne/256-32768},Ff.prototype.getPixels=function(){return new xs({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Ff.prototype.backfillBorder=function(D,V,ne){if(this.dim!==D.dim)throw new Error("dem dimension mismatch");var ve=V*this.dim,Te=V*this.dim+this.dim,De=ne*this.dim,Ke=ne*this.dim+this.dim;switch(V){case-1:ve=Te-1;break;case 1:Te=ve+1;break}switch(ne){case-1:De=Ke-1;break;case 1:Ke=De+1;break}for(var ut=-V*this.dim,Tt=-ne*this.dim,St=De;St<Ke;St++)for(var Gt=ve;Gt<Te;Gt++)this.data[this._idx(Gt,St)]=D.data[this._idx(Gt+ut,St+Tt)]},ue("DEMData",Ff);function MM(R,D){var V={};if(!D)return V;for(var ne=function(){var De=Te[ve],Ke=De.layerIds.map(function(Gt){return D.getLayer(Gt)}).filter(Boolean);if(Ke.length!==0){De.layers=Ke,De.stateDependentLayerIds&&(De.stateDependentLayers=De.stateDependentLayerIds.map(function(Gt){return Ke.filter(function(ir){return ir.id===Gt})[0]}));for(var ut=0,Tt=Ke;ut<Tt.length;ut+=1){var St=Tt[ut];V[St.id]=De}}},ve=0,Te=R;ve<Te.length;ve+=1)ne();return V}var Wp=function(D){this._stringToNumber={},this._numberToString=[];for(var V=0;V<D.length;V++){var ne=D[V];this._stringToNumber[ne]=V,this._numberToString[V]=ne}};Wp.prototype.encode=function(D){return this._stringToNumber[D]},Wp.prototype.decode=function(D){return this._numberToString[D]};var Yp=function(D,V,ne,ve,Te){this.type="Feature",this._vectorTileFeature=D,D._z=V,D._x=ne,D._y=ve,this.properties=D.properties,this.id=Te},ty={geometry:{configurable:!0}};ty.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},ty.geometry.set=function(R){this._geometry=R},Yp.prototype.toJSON=function(){var D={geometry:this.geometry};for(var V in this)V==="_geometry"||V==="_vectorTileFeature"||(D[V]=this[V]);return D},Object.defineProperties(Yp.prototype,ty);var gv=function(){this.state={},this.stateChanges={},this.deletedStates={}};gv.prototype.updateState=function(D,V,ne){var ve=String(V);if(this.stateChanges[D]=this.stateChanges[D]||{},this.stateChanges[D][ve]=this.stateChanges[D][ve]||{},o(this.stateChanges[D][ve],ne),this.deletedStates[D]===null){this.deletedStates[D]={};for(var Te in this.state[D])Te!==ve&&(this.deletedStates[D][Te]=null)}else{var De=this.deletedStates[D]&&this.deletedStates[D][ve]===null;if(De){this.deletedStates[D][ve]={};for(var Ke in this.state[D][ve])ne[Ke]||(this.deletedStates[D][ve][Ke]=null)}else for(var ut in ne){var Tt=this.deletedStates[D]&&this.deletedStates[D][ve]&&this.deletedStates[D][ve][ut]===null;Tt&&delete this.deletedStates[D][ve][ut]}}},gv.prototype.removeFeatureState=function(D,V,ne){var ve=this.deletedStates[D]===null;if(!ve){var Te=String(V);if(this.deletedStates[D]=this.deletedStates[D]||{},ne&&V!==void 0)this.deletedStates[D][Te]!==null&&(this.deletedStates[D][Te]=this.deletedStates[D][Te]||{},this.deletedStates[D][Te][ne]=null);else if(V!==void 0){var De=this.stateChanges[D]&&this.stateChanges[D][Te];if(De){this.deletedStates[D][Te]={};for(ne in this.stateChanges[D][Te])this.deletedStates[D][Te][ne]=null}else this.deletedStates[D][Te]=null}else this.deletedStates[D]=null}},gv.prototype.getState=function(D,V){var ne=String(V),ve=this.state[D]||{},Te=this.stateChanges[D]||{},De=o({},ve[ne],Te[ne]);if(this.deletedStates[D]===null)return{};if(this.deletedStates[D]){var Ke=this.deletedStates[D][V];if(Ke===null)return{};for(var ut in Ke)delete De[ut]}return De},gv.prototype.initializeTileState=function(D,V){D.setFeatureState(this.state,V)},gv.prototype.coalesceChanges=function(D,V){var ne={};for(var ve in this.stateChanges){this.state[ve]=this.state[ve]||{};var Te={};for(var De in this.stateChanges[ve])this.state[ve][De]||(this.state[ve][De]={}),o(this.state[ve][De],this.stateChanges[ve][De]),Te[De]=this.state[ve][De];ne[ve]=Te}for(var Ke in this.deletedStates){this.state[Ke]=this.state[Ke]||{};var ut={};if(this.deletedStates[Ke]===null)for(var Tt in this.state[Ke])ut[Tt]={},this.state[Ke][Tt]={};else for(var St in this.deletedStates[Ke]){var Gt=this.deletedStates[Ke][St]===null;if(Gt)this.state[Ke][St]={};else for(var ir=0,$t=Object.keys(this.deletedStates[Ke][St]);ir<$t.length;ir+=1){var br=$t[ir];delete this.state[Ke][St][br]}ut[St]=this.state[Ke][St]}ne[Ke]=ne[Ke]||{},o(ne[Ke],ut)}if(this.stateChanges={},this.deletedStates={},Object.keys(ne).length!==0)for(var Or in D){var ln=D[Or];ln.setFeatureState(ne,V)}};var _f=function(D,V){this.tileID=D,this.x=D.canonical.x,this.y=D.canonical.y,this.z=D.canonical.z,this.grid=new Ra(Pa,16,0),this.grid3D=new Ra(Pa,16,0),this.featureIndexArray=new od,this.promoteId=V};_f.prototype.insert=function(D,V,ne,ve,Te,De){var Ke=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ne,ve,Te);for(var ut=De?this.grid3D:this.grid,Tt=0;Tt<V.length;Tt++){for(var St=V[Tt],Gt=[1/0,1/0,-1/0,-1/0],ir=0;ir<St.length;ir++){var $t=St[ir];Gt[0]=Math.min(Gt[0],$t.x),Gt[1]=Math.min(Gt[1],$t.y),Gt[2]=Math.max(Gt[2],$t.x),Gt[3]=Math.max(Gt[3],$t.y)}Gt[0]<Pa&&Gt[1]<Pa&&Gt[2]>=0&&Gt[3]>=0&&ut.insert(Ke,Gt[0],Gt[1],Gt[2],Gt[3])}},_f.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new av.VectorTile(new Fp(this.rawTileData)).layers,this.sourceLayerCoder=new Wp(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},_f.prototype.query=function(D,V,ne,ve){var Te=this;this.loadVTLayers();for(var De=D.params||{},Ke=Pa/D.tileSize/D.scale,ut=vu(De.filter),Tt=D.queryGeometry,St=D.queryPadding*Ke,Gt=a2(Tt),ir=this.grid.query(Gt.minX-St,Gt.minY-St,Gt.maxX+St,Gt.maxY+St),$t=a2(D.cameraQueryGeometry),br=this.grid3D.query($t.minX-St,$t.minY-St,$t.maxX+St,$t.maxY+St,function(Gn,ra,ta,Ea){return $u(D.cameraQueryGeometry,Gn-St,ra-St,ta+St,Ea+St)}),Or=0,ln=br;Or<ln.length;Or+=1){var $r=ln[Or];ir.push($r)}ir.sort(SM);for(var Ln={},wn,Cn=function(Gn){var ra=ir[Gn];if(ra!==wn){wn=ra;var ta=Te.featureIndexArray.get(ra),Ea=null;Te.loadMatchingFeature(Ln,ta.bucketIndex,ta.sourceLayerIndex,ta.featureIndex,ut,De.layers,De.availableImages,V,ne,ve,function(ha,ma,Ba){return Ea||(Ea=vi(ha)),ma.queryIntersectsFeature(Tt,ha,Ba,Ea,Te.z,D.transform,Ke,D.pixelPosMatrix)})}},kn=0;kn<ir.length;kn++)Cn(kn);return Ln},_f.prototype.loadMatchingFeature=function(D,V,ne,ve,Te,De,Ke,ut,Tt,St,Gt){var ir=this.bucketLayerIDs[V];if(!(De&&!z(De,ir))){var $t=this.sourceLayerCoder.decode(ne),br=this.vtLayers[$t],Or=br.feature(ve);if(Te.filter(new Vn(this.tileID.overscaledZ),Or))for(var ln=this.getId(Or,$t),$r=0;$r<ir.length;$r++){var Ln=ir[$r];if(!(De&&De.indexOf(Ln)<0)){var wn=ut[Ln];if(wn){var Cn={};ln!==void 0&&St&&(Cn=St.getState(wn.sourceLayer||"_geojsonTileLayer",ln));var kn=Tt[Ln];kn.paint=n2(kn.paint,wn.paint,Or,Cn,Ke),kn.layout=n2(kn.layout,wn.layout,Or,Cn,Ke);var Gn=!Gt||Gt(Or,wn,Cn);if(Gn){var ra=new Yp(Or,this.z,this.x,this.y,ln);ra.layer=kn;var ta=D[Ln];ta===void 0&&(ta=D[Ln]=[]),ta.push({featureIndex:ve,feature:ra,intersectionZ:Gn})}}}}}},_f.prototype.lookupSymbolFeatures=function(D,V,ne,ve,Te,De,Ke,ut){var Tt={};this.loadVTLayers();for(var St=vu(Te),Gt=0,ir=D;Gt<ir.length;Gt+=1){var $t=ir[Gt];this.loadMatchingFeature(Tt,ne,ve,$t,St,De,Ke,ut,V)}return Tt},_f.prototype.hasLayer=function(D){for(var V=0,ne=this.bucketLayerIDs;V<ne.length;V+=1)for(var ve=ne[V],Te=0,De=ve;Te<De.length;Te+=1){var Ke=De[Te];if(D===Ke)return!0}return!1},_f.prototype.getId=function(D,V){var ne=D.id;if(this.promoteId){var ve=typeof this.promoteId=="string"?this.promoteId:this.promoteId[V];ne=D.properties[ve],typeof ne=="boolean"&&(ne=Number(ne))}return ne},ue("FeatureIndex",_f,{omit:["rawTileData","sourceLayerCoder"]});function n2(R,D,V,ne,ve){return a(R,function(Te,De){var Ke=D instanceof hi?D.get(De):null;return Ke&&Ke.evaluate?Ke.evaluate(V,ne,ve):Ke})}function a2(R){for(var D=1/0,V=1/0,ne=-1/0,ve=-1/0,Te=0,De=R;Te<De.length;Te+=1){var Ke=De[Te];D=Math.min(D,Ke.x),V=Math.min(V,Ke.y),ne=Math.max(ne,Ke.x),ve=Math.max(ve,Ke.y)}return{minX:D,minY:V,maxX:ne,maxY:ve}}function SM(R,D){return D-R}var EM=3e4,bo=function(D,V){this.tileID=D,this.uid=T(),this.uses=0,this.tileSize=V,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};bo.prototype.registerFadeDuration=function(D){var V=D+this.timeAdded;V<se.now()||this.fadeEndTime&&V<this.fadeEndTime||(this.fadeEndTime=V)},bo.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},bo.prototype.loadVectorData=function(D,V,ne){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!D){this.collisionBoxArray=new Qu;return}D.featureIndex&&(this.latestFeatureIndex=D.featureIndex,D.rawTileData?(this.latestRawTileData=D.rawTileData,this.latestFeatureIndex.rawTileData=D.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=D.collisionBoxArray,this.buckets=MM(D.buckets,V.style),this.hasSymbolBuckets=!1;for(var ve in this.buckets){var Te=this.buckets[ve];if(Te instanceof mi)if(this.hasSymbolBuckets=!0,ne)Te.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var De in this.buckets){var Ke=this.buckets[De];if(Ke instanceof mi&&Ke.hasRTLText){this.hasRTLText=!0,fi();break}}this.queryPadding=0;for(var ut in this.buckets){var Tt=this.buckets[ut];this.queryPadding=Math.max(this.queryPadding,V.style.getLayer(ut).queryRadius(Tt))}D.imageAtlas&&(this.imageAtlas=D.imageAtlas),D.glyphAtlasImage&&(this.glyphAtlasImage=D.glyphAtlasImage)},bo.prototype.unloadVectorData=function(){for(var D in this.buckets)this.buckets[D].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},bo.prototype.getBucket=function(D){return this.buckets[D.id]},bo.prototype.upload=function(D){for(var V in this.buckets){var ne=this.buckets[V];ne.uploadPending()&&ne.upload(D)}var ve=D.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Eh(D,this.imageAtlas.image,ve.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Eh(D,this.glyphAtlasImage,ve.ALPHA),this.glyphAtlasImage=null)},bo.prototype.prepare=function(D){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(D,this.imageAtlasTexture)},bo.prototype.queryRenderedFeatures=function(D,V,ne,ve,Te,De,Ke,ut,Tt,St){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:ve,cameraQueryGeometry:Te,scale:De,tileSize:this.tileSize,pixelPosMatrix:St,transform:ut,params:Ke,queryPadding:this.queryPadding*Tt},D,V,ne)},bo.prototype.querySourceFeatures=function(D,V){var ne=this.latestFeatureIndex;if(!(!ne||!ne.rawTileData)){var ve=ne.loadVTLayers(),Te=V?V.sourceLayer:"",De=ve._geojsonTileLayer||ve[Te];if(De)for(var Ke=vu(V&&V.filter),ut=this.tileID.canonical,Tt=ut.z,St=ut.x,Gt=ut.y,ir={z:Tt,x:St,y:Gt},$t=0;$t<De.length;$t++){var br=De.feature($t);if(Ke.filter(new Vn(this.tileID.overscaledZ),br)){var Or=ne.getId(br,Te),ln=new Yp(br,Tt,St,Gt,Or);ln.tile=ir,D.push(ln)}}}},bo.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},bo.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},bo.prototype.setExpiryData=function(D){var V=this.expirationTime;if(D.cacheControl){var ne=U(D.cacheControl);ne["max-age"]&&(this.expirationTime=Date.now()+ne["max-age"]*1e3)}else D.expires&&(this.expirationTime=new Date(D.expires).getTime());if(this.expirationTime){var ve=Date.now(),Te=!1;if(this.expirationTime>ve)Te=!1;else if(!V)Te=!0;else if(this.expirationTime<V)Te=!0;else{var De=this.expirationTime-V;De?this.expirationTime=ve+Math.max(De,EM):Te=!0}Te?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},bo.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},bo.prototype.setFeatureState=function(D,V){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(D).length===0)){var ne=this.latestFeatureIndex.loadVTLayers();for(var ve in this.buckets)if(V.style.hasLayer(ve)){var Te=this.buckets[ve],De=Te.layers[0].sourceLayer||"_geojsonTileLayer",Ke=ne[De],ut=D[De];if(!(!Ke||!ut||Object.keys(ut).length===0)){Te.update(ut,Ke,this.imageAtlas&&this.imageAtlas.patternPositions||{});var Tt=V&&V.style&&V.style.getLayer(ve);Tt&&(this.queryPadding=Math.max(this.queryPadding,Tt.queryRadius(Te)))}}}},bo.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},bo.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<se.now()},bo.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},bo.prototype.setHoldDuration=function(D){this.symbolFadeHoldUntil=se.now()+D},bo.prototype.setDependencies=function(D,V){for(var ne={},ve=0,Te=V;ve<Te.length;ve+=1){var De=Te[ve];ne[De]=!0}this.dependencies[D]=ne},bo.prototype.hasDependency=function(D,V){for(var ne=0,ve=D;ne<ve.length;ne+=1){var Te=ve[ne],De=this.dependencies[Te];if(De)for(var Ke=0,ut=V;Ke<ut.length;Ke+=1){var Tt=ut[Ke];if(De[Tt])return!0}}return!1};var CM=["type","source","source-layer","minzoom","maxzoom","filter","layout"],Sc=self.performance,i2=function(D){this._marks={start:[D.url,"start"].join("#"),end:[D.url,"end"].join("#"),measure:D.url.toString()},Sc.mark(this._marks.start)};i2.prototype.finish=function(){Sc.mark(this._marks.end);var D=Sc.getEntriesByName(this._marks.measure);return D.length===0&&(Sc.measure(this._marks.measure,this._marks.start,this._marks.end),D=Sc.getEntriesByName(this._marks.measure),Sc.clearMarks(this._marks.start),Sc.clearMarks(this._marks.end),Sc.clearMeasures(this._marks.measure)),D},i.Actor=pv,i.AlphaImage=Sh,i.CanonicalTileID=Lh,i.CollisionBoxArray=Qu,i.Color=ei,i.DEMData=Ff,i.DataConstantProperty=ya,i.DictionaryCoder=Wp,i.EXTENT=Pa,i.ErrorEvent=tr,i.EvaluationParameters=Vn,i.Event=Yt,i.Evented=or,i.FeatureIndex=_f,i.FillBucket=bu,i.FillExtrusionBucket=wu,i.ImageAtlas=yd,i.ImagePosition=zp,i.LineBucket=bs,i.LngLat=Ii,i.LngLatBounds=io,i.MercatorCoordinate=Ch,i.ONE_EM=Ro,i.OverscaledTileID=oo,i.Point=t,i.Point$1=t,i.Properties=$i,i.Protobuf=Fp,i.RGBAImage=xs,i.RequestManager=Ce,i.RequestPerformance=i2,i.ResourceType=pt,i.SegmentVector=Z,i.SourceFeatureState=gv,i.StructArrayLayout1ui2=xc,i.StructArrayLayout2f1f2i16=yu,i.StructArrayLayout2i4=mh,i.StructArrayLayout3ui6=mu,i.StructArrayLayout4i8=Zu,i.SymbolBucket=mi,i.Texture=Eh,i.Tile=bo,i.Transitionable=ja,i.Uniform1f=Ur,i.Uniform1i=Wr,i.Uniform2f=Qr,i.Uniform3f=fn,i.Uniform4f=Rn,i.UniformColor=zn,i.UniformMatrix4f=Jn,i.UnwrappedTileID=r2,i.ValidationError=wr,i.WritingMode=el,i.ZoomHistory=Pt,i.add=tv,i.addDynamicAttributes=Qg,i.asyncAll=c,i.bezier=l,i.bindAll=S,i.browser=se,i.cacheEntryPossiblyAdded=Wt,i.clamp=u,i.clearTileCache=At,i.clipLine=Bx,i.clone=Cp,i.clone$1=y,i.clone$2=Rg,i.collisionCircleLayout=s4,i.config=q,i.create=$h,i.create$1=Ah,i.create$2=Th,i.createCommonjsModule=L,i.createExpression=pl,i.createLayout=Ti,i.createStyleLayer=mM,i.cross=O5,i.deepEqual=s,i.dot=z5,i.dot$1=V5,i.ease=f,i.emitValidationErrors=La,i.endsWith=b,i.enforceCacheSizeLimit=qt,i.evaluateSizeForFeature=Ix,i.evaluateSizeForZoom=kx,i.evaluateVariableOffset=Vx,i.evented=ba,i.extend=o,i.featureFilter=vu,i.filterObject=C,i.fromRotation=Qh,i.getAnchorAlignment=Zg,i.getAnchorJustification=Jg,i.getArrayBuffer=Mt,i.getImage=je,i.getJSON=xt,i.getRTLTextPluginStatus=Ua,i.getReferrer=Kt,i.getVideo=Ye,i.identity=qh,i.invert=wc,i.isChar=ft,i.isMapboxURL=xe,i.keysDifference=h,i.makeRequest=st,i.mapObject=a,i.mercatorXfromLng=qx,i.mercatorYfromLat=e2,i.mercatorZfromAltitude=t2,i.mul=Pg,i.multiply=Tc,i.mvt=av,i.normalize=ld,i.number=_i,i.offscreenCanvasSupported=Mr,i.ortho=Lg,i.parseGlyphPBF=F4,i.pbf=Fp,i.performSymbolLayout=$4,i.perspective=sd,i.pick=d,i.plugin=ti,i.polygonIntersectsPolygon=Va,i.postMapLoadEvent=Qe,i.postTurnstileEvent=Ct,i.potpack=Mx,i.refProperties=CM,i.register=ue,i.registerForPluginStateChange=Ca,i.rotate=Go,i.rotateX=ms,i.rotateZ=ev,i.scale=ys,i.scale$1=H5,i.scale$2=Ig,i.setCacheLimits=zt,i.setRTLTextPlugin=Oa,i.sphericalToCartesian=N,i.sqrLen=Y5,i.styleSpec=jt,i.sub=B5,i.symbolSize=G4,i.transformMat3=N5,i.transformMat4=Lp,i.translate=Yi,i.triggerPluginCompletionEvent=oa,i.uniqueId=T,i.validateCustomStyleLayer=pM,i.validateLight=An,i.validateStyle=bn,i.values=w,i.vectorTile=av,i.version=A,i.warnOnce=B,i.webpSupported=$,i.window=self,i.wrap=m}),P(["./shared"],function(i){function L(dt){var st=typeof dt;if(st==="number"||st==="boolean"||st==="string"||dt===void 0||dt===null)return JSON.stringify(dt);if(Array.isArray(dt)){for(var xt="[",Mt=0,Dt=dt;Mt<Dt.length;Mt+=1){var Rt=Dt[Mt];xt+=L(Rt)+","}return xt+"]"}for(var Nt=Object.keys(dt).sort(),Bt="{",Xt=0;Xt<Nt.length;Xt++)Bt+=JSON.stringify(Nt[Xt])+":"+L(dt[Nt[Xt]])+",";return Bt+"}"}function A(dt){for(var st="",xt=0,Mt=i.refProperties;xt<Mt.length;xt+=1){var Dt=Mt[xt];st+="/"+L(dt[Dt])}return st}function v(dt,st){for(var xt={},Mt=0;Mt<dt.length;Mt++){var Dt=st&&st[dt[Mt].id]||A(dt[Mt]);st&&(st[dt[Mt].id]=Dt);var Rt=xt[Dt];Rt||(Rt=xt[Dt]=[]),Rt.push(dt[Mt])}var Nt=[];for(var Bt in xt)Nt.push(xt[Bt]);return Nt}var p=function(st){this.keyCache={},st&&this.replace(st)};p.prototype.replace=function(st){this._layerConfigs={},this._layers={},this.update(st,[])},p.prototype.update=function(st,xt){for(var Mt=this,Dt=0,Rt=st;Dt<Rt.length;Dt+=1){var Nt=Rt[Dt];this._layerConfigs[Nt.id]=Nt;var Bt=this._layers[Nt.id]=i.createStyleLayer(Nt);Bt._featureFilter=i.featureFilter(Bt.filter),this.keyCache[Nt.id]&&delete this.keyCache[Nt.id]}for(var Xt=0,lr=xt;Xt<lr.length;Xt+=1){var sr=lr[Xt];delete this.keyCache[sr],delete this._layerConfigs[sr],delete this._layers[sr]}this.familiesBySource={};for(var dr=v(i.values(this._layerConfigs),this.keyCache),je=0,Ye=dr;je<Ye.length;je+=1){var It=Ye[je],kt=It.map(function(hr){return Mt._layers[hr.id]}),Yt=kt[0];if(Yt.visibility!=="none"){var tr=Yt.source||"",or=this.familiesBySource[tr];or||(or=this.familiesBySource[tr]={});var rr=Yt.sourceLayer||"_geojsonTileLayer",_t=or[rr];_t||(_t=or[rr]=[]),_t.push(kt)}}};var t=1,r=function(st){var xt={},Mt=[];for(var Dt in st){var Rt=st[Dt],Nt=xt[Dt]={};for(var Bt in Rt){var Xt=Rt[+Bt];if(!(!Xt||Xt.bitmap.width===0||Xt.bitmap.height===0)){var lr={x:0,y:0,w:Xt.bitmap.width+2*t,h:Xt.bitmap.height+2*t};Mt.push(lr),Nt[Bt]={rect:lr,metrics:Xt.metrics}}}}var sr=i.potpack(Mt),dr=sr.w,je=sr.h,Ye=new i.AlphaImage({width:dr||1,height:je||1});for(var It in st){var kt=st[It];for(var Yt in kt){var tr=kt[+Yt];if(!(!tr||tr.bitmap.width===0||tr.bitmap.height===0)){var or=xt[It][Yt].rect;i.AlphaImage.copy(tr.bitmap,Ye,{x:0,y:0},{x:or.x+t,y:or.y+t},tr.bitmap)}}}this.image=Ye,this.positions=xt};i.register("GlyphAtlas",r);var s=function(st){this.tileID=new i.OverscaledTileID(st.tileID.overscaledZ,st.tileID.wrap,st.tileID.canonical.z,st.tileID.canonical.x,st.tileID.canonical.y),this.uid=st.uid,this.zoom=st.zoom,this.pixelRatio=st.pixelRatio,this.tileSize=st.tileSize,this.source=st.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=st.showCollisionBoxes,this.collectResourceTiming=!!st.collectResourceTiming,this.returnDependencies=!!st.returnDependencies,this.promoteId=st.promoteId};s.prototype.parse=function(st,xt,Mt,Dt,Rt){var Nt=this;this.status="parsing",this.data=st,this.collisionBoxArray=new i.CollisionBoxArray;var Bt=new i.DictionaryCoder(Object.keys(st.layers).sort()),Xt=new i.FeatureIndex(this.tileID,this.promoteId);Xt.bucketLayerIDs=[];var lr={},sr={featureIndex:Xt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Mt},dr=xt.familiesBySource[this.source];for(var je in dr){var Ye=st.layers[je];if(Ye){Ye.version===1&&i.warnOnce('Vector tile source "'+this.source+'" layer "'+je+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var It=Bt.encode(je),kt=[],Yt=0;Yt<Ye.length;Yt++){var tr=Ye.feature(Yt),or=Xt.getId(tr,je);kt.push({feature:tr,id:or,index:Yt,sourceLayerIndex:It})}for(var rr=0,_t=dr[je];rr<_t.length;rr+=1){var hr=_t[rr],gr=hr[0];if(!(gr.minzoom&&this.zoom<Math.floor(gr.minzoom))&&!(gr.maxzoom&&this.zoom>=gr.maxzoom)&&gr.visibility!=="none"){n(hr,this.zoom,Mt);var pr=lr[gr.id]=gr.createBucket({index:Xt.bucketLayerIDs.length,layers:hr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:It,sourceID:this.source});pr.populate(kt,sr,this.tileID.canonical),Xt.bucketLayerIDs.push(hr.map(function(Sr){return Sr.id}))}}}}var vr,Hr,kr,Fr,pn=i.mapObject(sr.glyphDependencies,function(Sr){return Object.keys(Sr).map(Number)});Object.keys(pn).length?Dt.send("getGlyphs",{uid:this.uid,stacks:pn},function(Sr,Er){vr||(vr=Sr,Hr=Er,Tn.call(Nt))}):Hr={};var qr=Object.keys(sr.iconDependencies);qr.length?Dt.send("getImages",{icons:qr,source:this.source,tileID:this.tileID,type:"icons"},function(Sr,Er){vr||(vr=Sr,kr=Er,Tn.call(Nt))}):kr={};var On=Object.keys(sr.patternDependencies);On.length?Dt.send("getImages",{icons:On,source:this.source,tileID:this.tileID,type:"patterns"},function(Sr,Er){vr||(vr=Sr,Fr=Er,Tn.call(Nt))}):Fr={},Tn.call(this);function Tn(){if(vr)return Rt(vr);if(Hr&&kr&&Fr){var Sr=new r(Hr),Er=new i.ImageAtlas(kr,Fr);for(var Gr in lr){var Br=lr[Gr];Br instanceof i.SymbolBucket?(n(Br.layers,this.zoom,Mt),i.performSymbolLayout(Br,Hr,Sr.positions,kr,Er.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Br.hasPattern&&(Br instanceof i.LineBucket||Br instanceof i.FillBucket||Br instanceof i.FillExtrusionBucket)&&(n(Br.layers,this.zoom,Mt),Br.addFeatures(sr,this.tileID.canonical,Er.patternPositions))}this.status="done",Rt(null,{buckets:i.values(lr).filter(function(nn){return!nn.isEmpty()}),featureIndex:Xt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Sr.image,imageAtlas:Er,glyphMap:this.returnDependencies?Hr:null,iconMap:this.returnDependencies?kr:null,glyphPositions:this.returnDependencies?Sr.positions:null})}}};function n(dt,st,xt){for(var Mt=new i.EvaluationParameters(st),Dt=0,Rt=dt;Dt<Rt.length;Dt+=1){var Nt=Rt[Dt];Nt.recalculate(Mt,xt)}}function l(dt,st){var xt=i.getArrayBuffer(dt.request,function(Mt,Dt,Rt,Nt){Mt?st(Mt):Dt&&st(null,{vectorTile:new i.vectorTile.VectorTile(new i.pbf(Dt)),rawData:Dt,cacheControl:Rt,expires:Nt})});return function(){xt.cancel(),st()}}var f=function(st,xt,Mt,Dt){this.actor=st,this.layerIndex=xt,this.availableImages=Mt,this.loadVectorData=Dt||l,this.loading={},this.loaded={}};f.prototype.loadTile=function(st,xt){var Mt=this,Dt=st.uid;this.loading||(this.loading={});var Rt=st&&st.request&&st.request.collectResourceTiming?new i.RequestPerformance(st.request):!1,Nt=this.loading[Dt]=new s(st);Nt.abort=this.loadVectorData(st,function(Bt,Xt){if(delete Mt.loading[Dt],Bt||!Xt)return Nt.status="done",Mt.loaded[Dt]=Nt,xt(Bt);var lr=Xt.rawData,sr={};Xt.expires&&(sr.expires=Xt.expires),Xt.cacheControl&&(sr.cacheControl=Xt.cacheControl);var dr={};if(Rt){var je=Rt.finish();je&&(dr.resourceTiming=JSON.parse(JSON.stringify(je)))}Nt.vectorTile=Xt.vectorTile,Nt.parse(Xt.vectorTile,Mt.layerIndex,Mt.availableImages,Mt.actor,function(Ye,It){if(Ye||!It)return xt(Ye);xt(null,i.extend({rawTileData:lr.slice(0)},It,sr,dr))}),Mt.loaded=Mt.loaded||{},Mt.loaded[Dt]=Nt})},f.prototype.reloadTile=function(st,xt){var Mt=this,Dt=this.loaded,Rt=st.uid,Nt=this;if(Dt&&Dt[Rt]){var Bt=Dt[Rt];Bt.showCollisionBoxes=st.showCollisionBoxes;var Xt=function(lr,sr){var dr=Bt.reloadCallback;dr&&(delete Bt.reloadCallback,Bt.parse(Bt.vectorTile,Nt.layerIndex,Mt.availableImages,Nt.actor,dr)),xt(lr,sr)};Bt.status==="parsing"?Bt.reloadCallback=Xt:Bt.status==="done"&&(Bt.vectorTile?Bt.parse(Bt.vectorTile,this.layerIndex,this.availableImages,this.actor,Xt):Xt())}},f.prototype.abortTile=function(st,xt){var Mt=this.loading,Dt=st.uid;Mt&&Mt[Dt]&&Mt[Dt].abort&&(Mt[Dt].abort(),delete Mt[Dt]),xt()},f.prototype.removeTile=function(st,xt){var Mt=this.loaded,Dt=st.uid;Mt&&Mt[Dt]&&delete Mt[Dt],xt()};var u=i.window.ImageBitmap,m=function(){this.loaded={}};m.prototype.loadTile=function(st,xt){var Mt=st.uid,Dt=st.encoding,Rt=st.rawImageData,Nt=u&&Rt instanceof u?this.getImageData(Rt):Rt,Bt=new i.DEMData(Mt,Nt,Dt);this.loaded=this.loaded||{},this.loaded[Mt]=Bt,xt(null,Bt)},m.prototype.getImageData=function(st){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(st.width,st.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=st.width,this.offscreenCanvas.height=st.height,this.offscreenCanvasContext.drawImage(st,0,0,st.width,st.height);var xt=this.offscreenCanvasContext.getImageData(-1,-1,st.width+2,st.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new i.RGBAImage({width:xt.width,height:xt.height},xt.data)},m.prototype.removeTile=function(st){var xt=this.loaded,Mt=st.uid;xt&&xt[Mt]&&delete xt[Mt]};var c=w;function w(dt,st){var xt=dt&&dt.type,Mt;if(xt==="FeatureCollection")for(Mt=0;Mt<dt.features.length;Mt++)w(dt.features[Mt],st);else if(xt==="GeometryCollection")for(Mt=0;Mt<dt.geometries.length;Mt++)w(dt.geometries[Mt],st);else if(xt==="Feature")w(dt.geometry,st);else if(xt==="Polygon")h(dt.coordinates,st);else if(xt==="MultiPolygon")for(Mt=0;Mt<dt.coordinates.length;Mt++)h(dt.coordinates[Mt],st);return dt}function h(dt,st){if(dt.length!==0){o(dt[0],st);for(var xt=1;xt<dt.length;xt++)o(dt[xt],!st)}}function o(dt,st){for(var xt=0,Mt=0,Dt=dt.length,Rt=Dt-1;Mt<Dt;Rt=Mt++)xt+=(dt[Mt][0]-dt[Rt][0])*(dt[Rt][1]+dt[Mt][1]);xt>=0!=!!st&&dt.reverse()}var d=i.vectorTile.VectorTileFeature.prototype.toGeoJSON,M=function(st){this._feature=st,this.extent=i.EXTENT,this.type=st.type,this.properties=st.tags,"id"in st&&!isNaN(st.id)&&(this.id=parseInt(st.id,10))};M.prototype.loadGeometry=function(){if(this._feature.type===1){for(var st=[],xt=0,Mt=this._feature.geometry;xt<Mt.length;xt+=1){var Dt=Mt[xt];st.push([new i.Point$1(Dt[0],Dt[1])])}return st}else{for(var Rt=[],Nt=0,Bt=this._feature.geometry;Nt<Bt.length;Nt+=1){for(var Xt=Bt[Nt],lr=[],sr=0,dr=Xt;sr<dr.length;sr+=1){var je=dr[sr];lr.push(new i.Point$1(je[0],je[1]))}Rt.push(lr)}return Rt}},M.prototype.toGeoJSON=function(st,xt,Mt){return d.call(this,st,xt,Mt)};var T=function(st){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=i.EXTENT,this.length=st.length,this._features=st};T.prototype.feature=function(st){return new M(this._features[st])};var E=i.vectorTile.VectorTileFeature,x=S;function S(dt,st){this.options=st||{},this.features=dt,this.length=dt.length}S.prototype.feature=function(dt){return new b(this.features[dt],this.options.extent)};function b(dt,st){this.id=typeof dt.id=="number"?dt.id:void 0,this.type=dt.type,this.rawGeometry=dt.type===1?[dt.geometry]:dt.geometry,this.properties=dt.tags,this.extent=st||4096}b.prototype.loadGeometry=function(){var dt=this.rawGeometry;this.geometry=[];for(var st=0;st<dt.length;st++){for(var xt=dt[st],Mt=[],Dt=0;Dt<xt.length;Dt++)Mt.push(new i.Point$1(xt[Dt][0],xt[Dt][1]));this.geometry.push(Mt)}return this.geometry},b.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var dt=this.geometry,st=1/0,xt=-1/0,Mt=1/0,Dt=-1/0,Rt=0;Rt<dt.length;Rt++)for(var Nt=dt[Rt],Bt=0;Bt<Nt.length;Bt++){var Xt=Nt[Bt];st=Math.min(st,Xt.x),xt=Math.max(xt,Xt.x),Mt=Math.min(Mt,Xt.y),Dt=Math.max(Dt,Xt.y)}return[st,Mt,xt,Dt]},b.prototype.toGeoJSON=E.prototype.toGeoJSON;var a=I,C=I,y=B,z=x;function I(dt){var st=new i.pbf;return F(dt,st),st.finish()}function B(dt,st){st=st||{};var xt={};for(var Mt in dt)xt[Mt]=new x(dt[Mt].features,st),xt[Mt].name=Mt,xt[Mt].version=st.version,xt[Mt].extent=st.extent;return I({layers:xt})}function F(dt,st){for(var xt in dt.layers)st.writeMessage(3,O,dt.layers[xt])}function O(dt,st){st.writeVarintField(15,dt.version||1),st.writeStringField(1,dt.name||""),st.writeVarintField(5,dt.extent||4096);var xt,Mt={keys:[],values:[],keycache:{},valuecache:{}};for(xt=0;xt<dt.length;xt++)Mt.feature=dt.feature(xt),st.writeMessage(2,N,Mt);var Dt=Mt.keys;for(xt=0;xt<Dt.length;xt++)st.writeStringField(3,Dt[xt]);var Rt=Mt.values;for(xt=0;xt<Rt.length;xt++)st.writeMessage(4,re,Rt[xt])}function N(dt,st){var xt=dt.feature;xt.id!==void 0&&st.writeVarintField(1,xt.id),st.writeMessage(2,_,dt),st.writeVarintField(3,xt.type),st.writeMessage(4,K,xt)}function _(dt,st){var xt=dt.feature,Mt=dt.keys,Dt=dt.values,Rt=dt.keycache,Nt=dt.valuecache;for(var Bt in xt.properties){var Xt=Rt[Bt];typeof Xt>"u"&&(Mt.push(Bt),Xt=Mt.length-1,Rt[Bt]=Xt),st.writeVarint(Xt);var lr=xt.properties[Bt],sr=typeof lr;sr!=="string"&&sr!=="boolean"&&sr!=="number"&&(lr=JSON.stringify(lr));var dr=sr+":"+lr,je=Nt[dr];typeof je>"u"&&(Dt.push(lr),je=Dt.length-1,Nt[dr]=je),st.writeVarint(je)}}function U(dt,st){return(st<<3)+(dt&7)}function Y(dt){return dt<<1^dt>>31}function K(dt,st){for(var xt=dt.loadGeometry(),Mt=dt.type,Dt=0,Rt=0,Nt=xt.length,Bt=0;Bt<Nt;Bt++){var Xt=xt[Bt],lr=1;Mt===1&&(lr=Xt.length),st.writeVarint(U(1,lr));for(var sr=Mt===3?Xt.length-1:Xt.length,dr=0;dr<sr;dr++){dr===1&&Mt!==1&&st.writeVarint(U(2,sr-1));var je=Xt[dr].x-Dt,Ye=Xt[dr].y-Rt;st.writeVarint(Y(je)),st.writeVarint(Y(Ye)),Dt+=je,Rt+=Ye}Mt===3&&st.writeVarint(U(7,1))}}function re(dt,st){var xt=typeof dt;xt==="string"?st.writeStringField(1,dt):xt==="boolean"?st.writeBooleanField(7,dt):xt==="number"&&(dt%1!==0?st.writeDoubleField(3,dt):dt<0?st.writeSVarintField(6,dt):st.writeVarintField(5,dt))}a.fromVectorTileJs=C,a.fromGeojsonVt=y,a.GeoJSONWrapper=z;function ae(dt,st,xt,Mt,Dt,Rt){if(!(Dt-Mt<=xt)){var Nt=Mt+Dt>>1;fe(dt,st,Nt,Mt,Dt,Rt%2),ae(dt,st,xt,Mt,Nt-1,Rt+1),ae(dt,st,xt,Nt+1,Dt,Rt+1)}}function fe(dt,st,xt,Mt,Dt,Rt){for(;Dt>Mt;){if(Dt-Mt>600){var Nt=Dt-Mt+1,Bt=xt-Mt+1,Xt=Math.log(Nt),lr=.5*Math.exp(2*Xt/3),sr=.5*Math.sqrt(Xt*lr*(Nt-lr)/Nt)*(Bt-Nt/2<0?-1:1),dr=Math.max(Mt,Math.floor(xt-Bt*lr/Nt+sr)),je=Math.min(Dt,Math.floor(xt+(Nt-Bt)*lr/Nt+sr));fe(dt,st,xt,dr,je,Rt)}var Ye=st[2*xt+Rt],It=Mt,kt=Dt;for(Q(dt,st,Mt,xt),st[2*Dt+Rt]>Ye&&Q(dt,st,Mt,Dt);It<kt;){for(Q(dt,st,It,kt),It++,kt--;st[2*It+Rt]<Ye;)It++;for(;st[2*kt+Rt]>Ye;)kt--}st[2*Mt+Rt]===Ye?Q(dt,st,Mt,kt):(kt++,Q(dt,st,kt,Dt)),kt<=xt&&(Mt=kt+1),xt<=kt&&(Dt=kt-1)}}function Q(dt,st,xt,Mt){j(dt,xt,Mt),j(st,2*xt,2*Mt),j(st,2*xt+1,2*Mt+1)}function j(dt,st,xt){var Mt=dt[st];dt[st]=dt[xt],dt[xt]=Mt}function X(dt,st,xt,Mt,Dt,Rt,Nt){for(var Bt=[0,dt.length-1,0],Xt=[],lr,sr;Bt.length;){var dr=Bt.pop(),je=Bt.pop(),Ye=Bt.pop();if(je-Ye<=Nt){for(var It=Ye;It<=je;It++)lr=st[2*It],sr=st[2*It+1],lr>=xt&&lr<=Dt&&sr>=Mt&&sr<=Rt&&Xt.push(dt[It]);continue}var kt=Math.floor((Ye+je)/2);lr=st[2*kt],sr=st[2*kt+1],lr>=xt&&lr<=Dt&&sr>=Mt&&sr<=Rt&&Xt.push(dt[kt]);var Yt=(dr+1)%2;(dr===0?xt<=lr:Mt<=sr)&&(Bt.push(Ye),Bt.push(kt-1),Bt.push(Yt)),(dr===0?Dt>=lr:Rt>=sr)&&(Bt.push(kt+1),Bt.push(je),Bt.push(Yt))}return Xt}function J(dt,st,xt,Mt,Dt,Rt){for(var Nt=[0,dt.length-1,0],Bt=[],Xt=Dt*Dt;Nt.length;){var lr=Nt.pop(),sr=Nt.pop(),dr=Nt.pop();if(sr-dr<=Rt){for(var je=dr;je<=sr;je++)ee(st[2*je],st[2*je+1],xt,Mt)<=Xt&&Bt.push(dt[je]);continue}var Ye=Math.floor((dr+sr)/2),It=st[2*Ye],kt=st[2*Ye+1];ee(It,kt,xt,Mt)<=Xt&&Bt.push(dt[Ye]);var Yt=(lr+1)%2;(lr===0?xt-Dt<=It:Mt-Dt<=kt)&&(Nt.push(dr),Nt.push(Ye-1),Nt.push(Yt)),(lr===0?xt+Dt>=It:Mt+Dt>=kt)&&(Nt.push(Ye+1),Nt.push(sr),Nt.push(Yt))}return Bt}function ee(dt,st,xt,Mt){var Dt=dt-xt,Rt=st-Mt;return Dt*Dt+Rt*Rt}var se=function(dt){return dt[0]},q=function(dt){return dt[1]},$=function(st,xt,Mt,Dt,Rt){xt===void 0&&(xt=se),Mt===void 0&&(Mt=q),Dt===void 0&&(Dt=64),Rt===void 0&&(Rt=Float64Array),this.nodeSize=Dt,this.points=st;for(var Nt=st.length<65536?Uint16Array:Uint32Array,Bt=this.ids=new Nt(st.length),Xt=this.coords=new Rt(st.length*2),lr=0;lr<st.length;lr++)Bt[lr]=lr,Xt[2*lr]=xt(st[lr]),Xt[2*lr+1]=Mt(st[lr]);ae(Bt,Xt,Dt,0,Bt.length-1,0)};$.prototype.range=function(st,xt,Mt,Dt){return X(this.ids,this.coords,st,xt,Mt,Dt,this.nodeSize)},$.prototype.within=function(st,xt,Mt){return J(this.ids,this.coords,st,xt,Mt,this.nodeSize)};var le={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(dt){return dt}},ie=function(st){this.options=Se(Object.create(le),st),this.trees=new Array(this.options.maxZoom+1)};ie.prototype.load=function(st){var xt=this.options,Mt=xt.log,Dt=xt.minZoom,Rt=xt.maxZoom,Nt=xt.nodeSize;Mt&&console.time("total time");var Bt="prepare "+st.length+" points";Mt&&console.time(Bt),this.points=st;for(var Xt=[],lr=0;lr<st.length;lr++)st[lr].geometry&&Xt.push(me(st[lr],lr));this.trees[Rt+1]=new $(Xt,He,Ge,Nt,Float32Array),Mt&&console.timeEnd(Bt);for(var sr=Rt;sr>=Dt;sr--){var dr=+Date.now();Xt=this._cluster(Xt,sr),this.trees[sr]=new $(Xt,He,Ge,Nt,Float32Array),Mt&&console.log("z%d: %d clusters in %dms",sr,Xt.length,+Date.now()-dr)}return Mt&&console.timeEnd("total time"),this},ie.prototype.getClusters=function(st,xt){var Mt=((st[0]+180)%360+360)%360-180,Dt=Math.max(-90,Math.min(90,st[1])),Rt=st[2]===180?180:((st[2]+180)%360+360)%360-180,Nt=Math.max(-90,Math.min(90,st[3]));if(st[2]-st[0]>=360)Mt=-180,Rt=180;else if(Mt>Rt){var Bt=this.getClusters([Mt,Dt,180,Nt],xt),Xt=this.getClusters([-180,Dt,Rt,Nt],xt);return Bt.concat(Xt)}for(var lr=this.trees[this._limitZoom(xt)],sr=lr.range(Oe(Mt),Be(Nt),Oe(Rt),Be(Dt)),dr=[],je=0,Ye=sr;je<Ye.length;je+=1){var It=Ye[je],kt=lr.points[It];dr.push(kt.numPoints?Me(kt):this.points[kt.index])}return dr},ie.prototype.getChildren=function(st){var xt=this._getOriginId(st),Mt=this._getOriginZoom(st),Dt="No cluster with the specified id.",Rt=this.trees[Mt];if(!Rt)throw new Error(Dt);var Nt=Rt.points[xt];if(!Nt)throw new Error(Dt);for(var Bt=this.options.radius/(this.options.extent*Math.pow(2,Mt-1)),Xt=Rt.within(Nt.x,Nt.y,Bt),lr=[],sr=0,dr=Xt;sr<dr.length;sr+=1){var je=dr[sr],Ye=Rt.points[je];Ye.parentId===st&&lr.push(Ye.numPoints?Me(Ye):this.points[Ye.index])}if(lr.length===0)throw new Error(Dt);return lr},ie.prototype.getLeaves=function(st,xt,Mt){xt=xt||10,Mt=Mt||0;var Dt=[];return this._appendLeaves(Dt,st,xt,Mt,0),Dt},ie.prototype.getTile=function(st,xt,Mt){var Dt=this.trees[this._limitZoom(st)],Rt=Math.pow(2,st),Nt=this.options,Bt=Nt.extent,Xt=Nt.radius,lr=Xt/Bt,sr=(Mt-lr)/Rt,dr=(Mt+1+lr)/Rt,je={features:[]};return this._addTileFeatures(Dt.range((xt-lr)/Rt,sr,(xt+1+lr)/Rt,dr),Dt.points,xt,Mt,Rt,je),xt===0&&this._addTileFeatures(Dt.range(1-lr/Rt,sr,1,dr),Dt.points,Rt,Mt,Rt,je),xt===Rt-1&&this._addTileFeatures(Dt.range(0,sr,lr/Rt,dr),Dt.points,-1,Mt,Rt,je),je.features.length?je:null},ie.prototype.getClusterExpansionZoom=function(st){for(var xt=this._getOriginZoom(st)-1;xt<=this.options.maxZoom;){var Mt=this.getChildren(st);if(xt++,Mt.length!==1)break;st=Mt[0].properties.cluster_id}return xt},ie.prototype._appendLeaves=function(st,xt,Mt,Dt,Rt){for(var Nt=this.getChildren(xt),Bt=0,Xt=Nt;Bt<Xt.length;Bt+=1){var lr=Xt[Bt],sr=lr.properties;if(sr&&sr.cluster?Rt+sr.point_count<=Dt?Rt+=sr.point_count:Rt=this._appendLeaves(st,sr.cluster_id,Mt,Dt,Rt):Rt<Dt?Rt++:st.push(lr),st.length===Mt)break}return Rt},ie.prototype._addTileFeatures=function(st,xt,Mt,Dt,Rt,Nt){for(var Bt=0,Xt=st;Bt<Xt.length;Bt+=1){var lr=Xt[Bt],sr=xt[lr],dr=sr.numPoints,je={type:1,geometry:[[Math.round(this.options.extent*(sr.x*Rt-Mt)),Math.round(this.options.extent*(sr.y*Rt-Dt))]],tags:dr?we(sr):this.points[sr.index].properties},Ye=void 0;dr?Ye=sr.id:this.options.generateId?Ye=sr.index:this.points[sr.index].id&&(Ye=this.points[sr.index].id),Ye!==void 0&&(je.id=Ye),Nt.features.push(je)}},ie.prototype._limitZoom=function(st){return Math.max(this.options.minZoom,Math.min(st,this.options.maxZoom+1))},ie.prototype._cluster=function(st,xt){for(var Mt=[],Dt=this.options,Rt=Dt.radius,Nt=Dt.extent,Bt=Dt.reduce,Xt=Rt/(Nt*Math.pow(2,xt)),lr=0;lr<st.length;lr++){var sr=st[lr];if(!(sr.zoom<=xt)){sr.zoom=xt;for(var dr=this.trees[xt+1],je=dr.within(sr.x,sr.y,Xt),Ye=sr.numPoints||1,It=sr.x*Ye,kt=sr.y*Ye,Yt=Bt&&Ye>1?this._map(sr,!0):null,tr=(lr<<5)+(xt+1)+this.points.length,or=0,rr=je;or<rr.length;or+=1){var _t=rr[or],hr=dr.points[_t];if(!(hr.zoom<=xt)){hr.zoom=xt;var gr=hr.numPoints||1;It+=hr.x*gr,kt+=hr.y*gr,Ye+=gr,hr.parentId=tr,Bt&&(Yt||(Yt=this._map(sr,!0)),Bt(Yt,this._map(hr)))}}Ye===1?Mt.push(sr):(sr.parentId=tr,Mt.push(ce(It/Ye,kt/Ye,tr,Ye,Yt)))}}return Mt},ie.prototype._getOriginId=function(st){return st-this.points.length>>5},ie.prototype._getOriginZoom=function(st){return(st-this.points.length)%32},ie.prototype._map=function(st,xt){if(st.numPoints)return xt?Se({},st.properties):st.properties;var Mt=this.points[st.index].properties,Dt=this.options.map(Mt);return xt&&Dt===Mt?Se({},Dt):Dt};function ce(dt,st,xt,Mt,Dt){return{x:dt,y:st,zoom:1/0,id:xt,parentId:-1,numPoints:Mt,properties:Dt}}function me(dt,st){var xt=dt.geometry.coordinates,Mt=xt[0],Dt=xt[1];return{x:Oe(Mt),y:Be(Dt),zoom:1/0,index:st,parentId:-1}}function Me(dt){return{type:"Feature",id:dt.id,properties:we(dt),geometry:{type:"Point",coordinates:[Ce(dt.x),xe(dt.y)]}}}function we(dt){var st=dt.numPoints,xt=st>=1e4?Math.round(st/1e3)+"k":st>=1e3?Math.round(st/100)/10+"k":st;return Se(Se({},dt.properties),{cluster:!0,cluster_id:dt.id,point_count:st,point_count_abbreviated:xt})}function Oe(dt){return dt/360+.5}function Be(dt){var st=Math.sin(dt*Math.PI/180),xt=.5-.25*Math.log((1+st)/(1-st))/Math.PI;return xt<0?0:xt>1?1:xt}function Ce(dt){return(dt-.5)*360}function xe(dt){var st=(180-dt*360)*Math.PI/180;return 360*Math.atan(Math.exp(st))/Math.PI-90}function Se(dt,st){for(var xt in st)dt[xt]=st[xt];return dt}function He(dt){return dt.x}function Ge(dt){return dt.y}function ke(dt,st,xt,Mt){for(var Dt=Mt,Rt=xt-st>>1,Nt=xt-st,Bt,Xt=dt[st],lr=dt[st+1],sr=dt[xt],dr=dt[xt+1],je=st+3;je<xt;je+=3){var Ye=We(dt[je],dt[je+1],Xt,lr,sr,dr);if(Ye>Dt)Bt=je,Dt=Ye;else if(Ye===Dt){var It=Math.abs(je-Rt);It<Nt&&(Bt=je,Nt=It)}}Dt>Mt&&(Bt-st>3&&ke(dt,st,Bt,Mt),dt[Bt+2]=Dt,xt-Bt>3&&ke(dt,Bt,xt,Mt))}function We(dt,st,xt,Mt,Dt,Rt){var Nt=Dt-xt,Bt=Rt-Mt;if(Nt!==0||Bt!==0){var Xt=((dt-xt)*Nt+(st-Mt)*Bt)/(Nt*Nt+Bt*Bt);Xt>1?(xt=Dt,Mt=Rt):Xt>0&&(xt+=Nt*Xt,Mt+=Bt*Xt)}return Nt=dt-xt,Bt=st-Mt,Nt*Nt+Bt*Bt}function it(dt,st,xt,Mt){var Dt={id:typeof dt>"u"?null:dt,type:st,geometry:xt,tags:Mt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return et(Dt),Dt}function et(dt){var st=dt.geometry,xt=dt.type;if(xt==="Point"||xt==="MultiPoint"||xt==="LineString")tt(dt,st);else if(xt==="Polygon"||xt==="MultiLineString")for(var Mt=0;Mt<st.length;Mt++)tt(dt,st[Mt]);else if(xt==="MultiPolygon")for(Mt=0;Mt<st.length;Mt++)for(var Dt=0;Dt<st[Mt].length;Dt++)tt(dt,st[Mt][Dt])}function tt(dt,st){for(var xt=0;xt<st.length;xt+=3)dt.minX=Math.min(dt.minX,st[xt]),dt.minY=Math.min(dt.minY,st[xt+1]),dt.maxX=Math.max(dt.maxX,st[xt]),dt.maxY=Math.max(dt.maxY,st[xt+1])}function at(dt,st){var xt=[];if(dt.type==="FeatureCollection")for(var Mt=0;Mt<dt.features.length;Mt++)ht(xt,dt.features[Mt],st,Mt);else dt.type==="Feature"?ht(xt,dt,st):ht(xt,{geometry:dt},st);return xt}function ht(dt,st,xt,Mt){if(st.geometry){var Dt=st.geometry.coordinates,Rt=st.geometry.type,Nt=Math.pow(xt.tolerance/((1<<xt.maxZoom)*xt.extent),2),Bt=[],Xt=st.id;if(xt.promoteId?Xt=st.properties[xt.promoteId]:xt.generateId&&(Xt=Mt||0),Rt==="Point")yt(Dt,Bt);else if(Rt==="MultiPoint")for(var lr=0;lr<Dt.length;lr++)yt(Dt[lr],Bt);else if(Rt==="LineString")gt(Dt,Bt,Nt,!1);else if(Rt==="MultiLineString")if(xt.lineMetrics){for(lr=0;lr<Dt.length;lr++)Bt=[],gt(Dt[lr],Bt,Nt,!1),dt.push(it(Xt,"LineString",Bt,st.properties));return}else Et(Dt,Bt,Nt,!1);else if(Rt==="Polygon")Et(Dt,Bt,Nt,!0);else if(Rt==="MultiPolygon")for(lr=0;lr<Dt.length;lr++){var sr=[];Et(Dt[lr],sr,Nt,!0),Bt.push(sr)}else if(Rt==="GeometryCollection"){for(lr=0;lr<st.geometry.geometries.length;lr++)ht(dt,{id:Xt,geometry:st.geometry.geometries[lr],properties:st.properties},xt,Mt);return}else throw new Error("Input data is not a valid GeoJSON object.");dt.push(it(Xt,Rt,Bt,st.properties))}}function yt(dt,st){st.push(Ct(dt[0])),st.push(Vt(dt[1])),st.push(0)}function gt(dt,st,xt,Mt){for(var Dt,Rt,Nt=0,Bt=0;Bt<dt.length;Bt++){var Xt=Ct(dt[Bt][0]),lr=Vt(dt[Bt][1]);st.push(Xt),st.push(lr),st.push(0),Bt>0&&(Mt?Nt+=(Dt*lr-Xt*Rt)/2:Nt+=Math.sqrt(Math.pow(Xt-Dt,2)+Math.pow(lr-Rt,2))),Dt=Xt,Rt=lr}var sr=st.length-3;st[2]=1,ke(st,0,sr,xt),st[sr+2]=1,st.size=Math.abs(Nt),st.start=0,st.end=st.size}function Et(dt,st,xt,Mt){for(var Dt=0;Dt<dt.length;Dt++){var Rt=[];gt(dt[Dt],Rt,xt,Mt),st.push(Rt)}}function Ct(dt){return dt/360+.5}function Vt(dt){var st=Math.sin(dt*Math.PI/180),xt=.5-.25*Math.log((1+st)/(1-st))/Math.PI;return xt<0?0:xt>1?1:xt}function Qe(dt,st,xt,Mt,Dt,Rt,Nt,Bt){if(xt/=st,Mt/=st,Rt>=xt&&Nt<Mt)return dt;if(Nt<xt||Rt>=Mt)return null;for(var Xt=[],lr=0;lr<dt.length;lr++){var sr=dt[lr],dr=sr.geometry,je=sr.type,Ye=Dt===0?sr.minX:sr.minY,It=Dt===0?sr.maxX:sr.maxY;if(Ye>=xt&&It<Mt){Xt.push(sr);continue}else if(It<xt||Ye>=Mt)continue;var kt=[];if(je==="Point"||je==="MultiPoint")Fe(dr,kt,xt,Mt,Dt);else if(je==="LineString")Ie(dr,kt,xt,Mt,Dt,!1,Bt.lineMetrics);else if(je==="MultiLineString")Re(dr,kt,xt,Mt,Dt,!1);else if(je==="Polygon")Re(dr,kt,xt,Mt,Dt,!0);else if(je==="MultiPolygon")for(var Yt=0;Yt<dr.length;Yt++){var tr=[];Re(dr[Yt],tr,xt,Mt,Dt,!0),tr.length&&kt.push(tr)}if(kt.length){if(Bt.lineMetrics&&je==="LineString"){for(Yt=0;Yt<kt.length;Yt++)Xt.push(it(sr.id,je,kt[Yt],sr.tags));continue}(je==="LineString"||je==="MultiLineString")&&(kt.length===1?(je="LineString",kt=kt[0]):je="MultiLineString"),(je==="Point"||je==="MultiPoint")&&(je=kt.length===3?"Point":"MultiPoint"),Xt.push(it(sr.id,je,kt,sr.tags))}}return Xt.length?Xt:null}function Fe(dt,st,xt,Mt,Dt){for(var Rt=0;Rt<dt.length;Rt+=3){var Nt=dt[Rt+Dt];Nt>=xt&&Nt<=Mt&&(st.push(dt[Rt]),st.push(dt[Rt+1]),st.push(dt[Rt+2]))}}function Ie(dt,st,xt,Mt,Dt,Rt,Nt){for(var Bt=ze(dt),Xt=Dt===0?ye:Ae,lr=dt.start,sr,dr,je=0;je<dt.length-3;je+=3){var Ye=dt[je],It=dt[je+1],kt=dt[je+2],Yt=dt[je+3],tr=dt[je+4],or=Dt===0?Ye:It,rr=Dt===0?Yt:tr,_t=!1;Nt&&(sr=Math.sqrt(Math.pow(Ye-Yt,2)+Math.pow(It-tr,2))),or<xt?rr>xt&&(dr=Xt(Bt,Ye,It,Yt,tr,xt),Nt&&(Bt.start=lr+sr*dr)):or>Mt?rr<Mt&&(dr=Xt(Bt,Ye,It,Yt,tr,Mt),Nt&&(Bt.start=lr+sr*dr)):be(Bt,Ye,It,kt),rr<xt&&or>=xt&&(dr=Xt(Bt,Ye,It,Yt,tr,xt),_t=!0),rr>Mt&&or<=Mt&&(dr=Xt(Bt,Ye,It,Yt,tr,Mt),_t=!0),!Rt&&_t&&(Nt&&(Bt.end=lr+sr*dr),st.push(Bt),Bt=ze(dt)),Nt&&(lr+=sr)}var hr=dt.length-3;Ye=dt[hr],It=dt[hr+1],kt=dt[hr+2],or=Dt===0?Ye:It,or>=xt&&or<=Mt&&be(Bt,Ye,It,kt),hr=Bt.length-3,Rt&&hr>=3&&(Bt[hr]!==Bt[0]||Bt[hr+1]!==Bt[1])&&be(Bt,Bt[0],Bt[1],Bt[2]),Bt.length&&st.push(Bt)}function ze(dt){var st=[];return st.size=dt.size,st.start=dt.start,st.end=dt.end,st}function Re(dt,st,xt,Mt,Dt,Rt){for(var Nt=0;Nt<dt.length;Nt++)Ie(dt[Nt],st,xt,Mt,Dt,Rt,!1)}function be(dt,st,xt,Mt){dt.push(st),dt.push(xt),dt.push(Mt)}function ye(dt,st,xt,Mt,Dt,Rt){var Nt=(Rt-st)/(Mt-st);return dt.push(Rt),dt.push(xt+(Dt-xt)*Nt),dt.push(1),Nt}function Ae(dt,st,xt,Mt,Dt,Rt){var Nt=(Rt-xt)/(Dt-xt);return dt.push(st+(Mt-st)*Nt),dt.push(Rt),dt.push(1),Nt}function Ee(dt,st){var xt=st.buffer/st.extent,Mt=dt,Dt=Qe(dt,1,-1-xt,xt,0,-1,2,st),Rt=Qe(dt,1,1-xt,2+xt,0,-1,2,st);return(Dt||Rt)&&(Mt=Qe(dt,1,-xt,1+xt,0,-1,2,st)||[],Dt&&(Mt=Ne(Dt,1).concat(Mt)),Rt&&(Mt=Mt.concat(Ne(Rt,-1)))),Mt}function Ne(dt,st){for(var xt=[],Mt=0;Mt<dt.length;Mt++){var Dt=dt[Mt],Rt=Dt.type,Nt;if(Rt==="Point"||Rt==="MultiPoint"||Rt==="LineString")Nt=Je(Dt.geometry,st);else if(Rt==="MultiLineString"||Rt==="Polygon"){Nt=[];for(var Bt=0;Bt<Dt.geometry.length;Bt++)Nt.push(Je(Dt.geometry[Bt],st))}else if(Rt==="MultiPolygon")for(Nt=[],Bt=0;Bt<Dt.geometry.length;Bt++){for(var Xt=[],lr=0;lr<Dt.geometry[Bt].length;lr++)Xt.push(Je(Dt.geometry[Bt][lr],st));Nt.push(Xt)}xt.push(it(Dt.id,Rt,Nt,Dt.tags))}return xt}function Je(dt,st){var xt=[];xt.size=dt.size,dt.start!==void 0&&(xt.start=dt.start,xt.end=dt.end);for(var Mt=0;Mt<dt.length;Mt+=3)xt.push(dt[Mt]+st,dt[Mt+1],dt[Mt+2]);return xt}function qe(dt,st){if(dt.transformed)return dt;var xt=1<<dt.z,Mt=dt.x,Dt=dt.y,Rt,Nt,Bt;for(Rt=0;Rt<dt.features.length;Rt++){var Xt=dt.features[Rt],lr=Xt.geometry,sr=Xt.type;if(Xt.geometry=[],sr===1)for(Nt=0;Nt<lr.length;Nt+=2)Xt.geometry.push(vt(lr[Nt],lr[Nt+1],st,xt,Mt,Dt));else for(Nt=0;Nt<lr.length;Nt++){var dr=[];for(Bt=0;Bt<lr[Nt].length;Bt+=2)dr.push(vt(lr[Nt][Bt],lr[Nt][Bt+1],st,xt,Mt,Dt));Xt.geometry.push(dr)}}return dt.transformed=!0,dt}function vt(dt,st,xt,Mt,Dt,Rt){return[Math.round(xt*(dt*Mt-Dt)),Math.round(xt*(st*Mt-Rt))]}function bt(dt,st,xt,Mt,Dt){for(var Rt=st===Dt.maxZoom?0:Dt.tolerance/((1<<st)*Dt.extent),Nt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:xt,y:Mt,z:st,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Bt=0;Bt<dt.length;Bt++){Nt.numFeatures++,Wt(Nt,dt[Bt],Rt,Dt);var Xt=dt[Bt].minX,lr=dt[Bt].minY,sr=dt[Bt].maxX,dr=dt[Bt].maxY;Xt<Nt.minX&&(Nt.minX=Xt),lr<Nt.minY&&(Nt.minY=lr),sr>Nt.maxX&&(Nt.maxX=sr),dr>Nt.maxY&&(Nt.maxY=dr)}return Nt}function Wt(dt,st,xt,Mt){var Dt=st.geometry,Rt=st.type,Nt=[];if(Rt==="Point"||Rt==="MultiPoint")for(var Bt=0;Bt<Dt.length;Bt+=3)Nt.push(Dt[Bt]),Nt.push(Dt[Bt+1]),dt.numPoints++,dt.numSimplified++;else if(Rt==="LineString")qt(Nt,Dt,dt,xt,!1,!1);else if(Rt==="MultiLineString"||Rt==="Polygon")for(Bt=0;Bt<Dt.length;Bt++)qt(Nt,Dt[Bt],dt,xt,Rt==="Polygon",Bt===0);else if(Rt==="MultiPolygon")for(var Xt=0;Xt<Dt.length;Xt++){var lr=Dt[Xt];for(Bt=0;Bt<lr.length;Bt++)qt(Nt,lr[Bt],dt,xt,!0,Bt===0)}if(Nt.length){var sr=st.tags||null;if(Rt==="LineString"&&Mt.lineMetrics){sr={};for(var dr in st.tags)sr[dr]=st.tags[dr];sr.mapbox_clip_start=Dt.start/Dt.size,sr.mapbox_clip_end=Dt.end/Dt.size}var je={geometry:Nt,type:Rt==="Polygon"||Rt==="MultiPolygon"?3:Rt==="LineString"||Rt==="MultiLineString"?2:1,tags:sr};st.id!==null&&(je.id=st.id),dt.features.push(je)}}function qt(dt,st,xt,Mt,Dt,Rt){var Nt=Mt*Mt;if(Mt>0&&st.size<(Dt?Nt:Mt)){xt.numPoints+=st.length/3;return}for(var Bt=[],Xt=0;Xt<st.length;Xt+=3)(Mt===0||st[Xt+2]>Nt)&&(xt.numSimplified++,Bt.push(st[Xt]),Bt.push(st[Xt+1])),xt.numPoints++;Dt&&At(Bt,Rt),dt.push(Bt)}function At(dt,st){for(var xt=0,Mt=0,Dt=dt.length,Rt=Dt-2;Mt<Dt;Rt=Mt,Mt+=2)xt+=(dt[Mt]-dt[Rt])*(dt[Mt+1]+dt[Rt+1]);if(xt>0===st)for(Mt=0,Dt=dt.length;Mt<Dt/2;Mt+=2){var Nt=dt[Mt],Bt=dt[Mt+1];dt[Mt]=dt[Dt-2-Mt],dt[Mt+1]=dt[Dt-1-Mt],dt[Dt-2-Mt]=Nt,dt[Dt-1-Mt]=Bt}}function zt(dt,st){return new Jt(dt,st)}function Jt(dt,st){st=this.options=pt(Object.create(this.options),st);var xt=st.debug;if(xt&&console.time("preprocess data"),st.maxZoom<0||st.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(st.promoteId&&st.generateId)throw new Error("promoteId and generateId cannot be used together.");var Mt=at(dt,st);this.tiles={},this.tileCoords=[],xt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",st.indexMaxZoom,st.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Mt=Ee(Mt,st),Mt.length&&this.splitTile(Mt,0,0,0),xt&&(Mt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}Jt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Jt.prototype.splitTile=function(dt,st,xt,Mt,Dt,Rt,Nt){for(var Bt=[dt,st,xt,Mt],Xt=this.options,lr=Xt.debug;Bt.length;){Mt=Bt.pop(),xt=Bt.pop(),st=Bt.pop(),dt=Bt.pop();var sr=1<<st,dr=Mr(st,xt,Mt),je=this.tiles[dr];if(!je&&(lr>1&&console.time("creation"),je=this.tiles[dr]=bt(dt,st,xt,Mt,Xt),this.tileCoords.push({z:st,x:xt,y:Mt}),lr)){lr>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",st,xt,Mt,je.numFeatures,je.numPoints,je.numSimplified),console.timeEnd("creation"));var Ye="z"+st;this.stats[Ye]=(this.stats[Ye]||0)+1,this.total++}if(je.source=dt,Dt){if(st===Xt.maxZoom||st===Dt)continue;var It=1<<Dt-st;if(xt!==Math.floor(Rt/It)||Mt!==Math.floor(Nt/It))continue}else if(st===Xt.indexMaxZoom||je.numPoints<=Xt.indexMaxPoints)continue;if(je.source=null,dt.length!==0){lr>1&&console.time("clipping");var kt=.5*Xt.buffer/Xt.extent,Yt=.5-kt,tr=.5+kt,or=1+kt,rr,_t,hr,gr,pr,vr;rr=_t=hr=gr=null,pr=Qe(dt,sr,xt-kt,xt+tr,0,je.minX,je.maxX,Xt),vr=Qe(dt,sr,xt+Yt,xt+or,0,je.minX,je.maxX,Xt),dt=null,pr&&(rr=Qe(pr,sr,Mt-kt,Mt+tr,1,je.minY,je.maxY,Xt),_t=Qe(pr,sr,Mt+Yt,Mt+or,1,je.minY,je.maxY,Xt),pr=null),vr&&(hr=Qe(vr,sr,Mt-kt,Mt+tr,1,je.minY,je.maxY,Xt),gr=Qe(vr,sr,Mt+Yt,Mt+or,1,je.minY,je.maxY,Xt),vr=null),lr>1&&console.timeEnd("clipping"),Bt.push(rr||[],st+1,xt*2,Mt*2),Bt.push(_t||[],st+1,xt*2,Mt*2+1),Bt.push(hr||[],st+1,xt*2+1,Mt*2),Bt.push(gr||[],st+1,xt*2+1,Mt*2+1)}}},Jt.prototype.getTile=function(dt,st,xt){var Mt=this.options,Dt=Mt.extent,Rt=Mt.debug;if(dt<0||dt>24)return null;var Nt=1<<dt;st=(st%Nt+Nt)%Nt;var Bt=Mr(dt,st,xt);if(this.tiles[Bt])return qe(this.tiles[Bt],Dt);Rt>1&&console.log("drilling down to z%d-%d-%d",dt,st,xt);for(var Xt=dt,lr=st,sr=xt,dr;!dr&&Xt>0;)Xt--,lr=Math.floor(lr/2),sr=Math.floor(sr/2),dr=this.tiles[Mr(Xt,lr,sr)];return!dr||!dr.source?null:(Rt>1&&console.log("found parent tile z%d-%d-%d",Xt,lr,sr),Rt>1&&console.time("drilling down"),this.splitTile(dr.source,Xt,lr,sr,dt,st,xt),Rt>1&&console.timeEnd("drilling down"),this.tiles[Bt]?qe(this.tiles[Bt],Dt):null)};function Mr(dt,st,xt){return((1<<dt)*xt+st)*32+dt}function pt(dt,st){for(var xt in st)dt[xt]=st[xt];return dt}function Zt(dt,st){var xt=dt.tileID.canonical;if(!this._geoJSONIndex)return st(null,null);var Mt=this._geoJSONIndex.getTile(xt.z,xt.x,xt.y);if(!Mt)return st(null,null);var Dt=new T(Mt.features),Rt=a(Dt);(Rt.byteOffset!==0||Rt.byteLength!==Rt.buffer.byteLength)&&(Rt=new Uint8Array(Rt)),st(null,{vectorTile:Dt,rawData:Rt.buffer})}var Kt=function(dt){function st(xt,Mt,Dt,Rt){dt.call(this,xt,Mt,Dt,Zt),Rt&&(this.loadGeoJSON=Rt)}return dt&&(st.__proto__=dt),st.prototype=Object.create(dt&&dt.prototype),st.prototype.constructor=st,st.prototype.loadData=function(Mt,Dt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Dt,this._pendingLoadDataParams=Mt,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},st.prototype._loadData=function(){var Mt=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var Dt=this._pendingCallback,Rt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Nt=Rt&&Rt.request&&Rt.request.collectResourceTiming?new i.RequestPerformance(Rt.request):!1;this.loadGeoJSON(Rt,function(Bt,Xt){if(Bt||!Xt)return Dt(Bt);if(typeof Xt!="object")return Dt(new Error("Input data given to '"+Rt.source+"' is not a valid GeoJSON object."));c(Xt,!0);try{Mt._geoJSONIndex=Rt.cluster?new ie(mr(Rt)).load(Xt.features):zt(Xt,Rt.geojsonVtOptions)}catch(dr){return Dt(dr)}Mt.loaded={};var lr={};if(Nt){var sr=Nt.finish();sr&&(lr.resourceTiming={},lr.resourceTiming[Rt.source]=JSON.parse(JSON.stringify(sr)))}Dt(null,lr)})}},st.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},st.prototype.reloadTile=function(Mt,Dt){var Rt=this.loaded,Nt=Mt.uid;return Rt&&Rt[Nt]?dt.prototype.reloadTile.call(this,Mt,Dt):this.loadTile(Mt,Dt)},st.prototype.loadGeoJSON=function(Mt,Dt){if(Mt.request)i.getJSON(Mt.request,Dt);else if(typeof Mt.data=="string")try{return Dt(null,JSON.parse(Mt.data))}catch{return Dt(new Error("Input data given to '"+Mt.source+"' is not a valid GeoJSON object."))}else return Dt(new Error("Input data given to '"+Mt.source+"' is not a valid GeoJSON object."))},st.prototype.removeSource=function(Mt,Dt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Dt()},st.prototype.getClusterExpansionZoom=function(Mt,Dt){try{Dt(null,this._geoJSONIndex.getClusterExpansionZoom(Mt.clusterId))}catch(Rt){Dt(Rt)}},st.prototype.getClusterChildren=function(Mt,Dt){try{Dt(null,this._geoJSONIndex.getChildren(Mt.clusterId))}catch(Rt){Dt(Rt)}},st.prototype.getClusterLeaves=function(Mt,Dt){try{Dt(null,this._geoJSONIndex.getLeaves(Mt.clusterId,Mt.limit,Mt.offset))}catch(Rt){Dt(Rt)}},st}(f);function mr(dt){var st=dt.superclusterOptions,xt=dt.clusterProperties;if(!xt||!st)return st;for(var Mt={},Dt={},Rt={accumulated:null,zoom:0},Nt={properties:null},Bt=Object.keys(xt),Xt=0,lr=Bt;Xt<lr.length;Xt+=1){var sr=lr[Xt],dr=xt[sr],je=dr[0],Ye=dr[1],It=i.createExpression(Ye),kt=i.createExpression(typeof je=="string"?[je,["accumulated"],["get",sr]]:je);Mt[sr]=It.value,Dt[sr]=kt.value}return st.map=function(Yt){Nt.properties=Yt;for(var tr={},or=0,rr=Bt;or<rr.length;or+=1){var _t=rr[or];tr[_t]=Mt[_t].evaluate(Rt,Nt)}return tr},st.reduce=function(Yt,tr){Nt.properties=tr;for(var or=0,rr=Bt;or<rr.length;or+=1){var _t=rr[or];Rt.accumulated=Yt[_t],Yt[_t]=Dt[_t].evaluate(Rt,Nt)}},st}var ur=function(st){var xt=this;this.self=st,this.actor=new i.Actor(st,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:f,geojson:Kt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Mt,Dt){if(xt.workerSourceTypes[Mt])throw new Error('Worker source with name "'+Mt+'" already registered.');xt.workerSourceTypes[Mt]=Dt},this.self.registerRTLTextPlugin=function(Mt){if(i.plugin.isParsed())throw new Error("RTL text plugin already registered.");i.plugin.applyArabicShaping=Mt.applyArabicShaping,i.plugin.processBidirectionalText=Mt.processBidirectionalText,i.plugin.processStyledBidirectionalText=Mt.processStyledBidirectionalText}};return ur.prototype.setReferrer=function(st,xt){this.referrer=xt},ur.prototype.setImages=function(st,xt,Mt){this.availableImages[st]=xt;for(var Dt in this.workerSources[st]){var Rt=this.workerSources[st][Dt];for(var Nt in Rt)Rt[Nt].availableImages=xt}Mt()},ur.prototype.setLayers=function(st,xt,Mt){this.getLayerIndex(st).replace(xt),Mt()},ur.prototype.updateLayers=function(st,xt,Mt){this.getLayerIndex(st).update(xt.layers,xt.removedIds),Mt()},ur.prototype.loadTile=function(st,xt,Mt){this.getWorkerSource(st,xt.type,xt.source).loadTile(xt,Mt)},ur.prototype.loadDEMTile=function(st,xt,Mt){this.getDEMWorkerSource(st,xt.source).loadTile(xt,Mt)},ur.prototype.reloadTile=function(st,xt,Mt){this.getWorkerSource(st,xt.type,xt.source).reloadTile(xt,Mt)},ur.prototype.abortTile=function(st,xt,Mt){this.getWorkerSource(st,xt.type,xt.source).abortTile(xt,Mt)},ur.prototype.removeTile=function(st,xt,Mt){this.getWorkerSource(st,xt.type,xt.source).removeTile(xt,Mt)},ur.prototype.removeDEMTile=function(st,xt){this.getDEMWorkerSource(st,xt.source).removeTile(xt)},ur.prototype.removeSource=function(st,xt,Mt){if(!(!this.workerSources[st]||!this.workerSources[st][xt.type]||!this.workerSources[st][xt.type][xt.source])){var Dt=this.workerSources[st][xt.type][xt.source];delete this.workerSources[st][xt.type][xt.source],Dt.removeSource!==void 0?Dt.removeSource(xt,Mt):Mt()}},ur.prototype.loadWorkerSource=function(st,xt,Mt){try{this.self.importScripts(xt.url),Mt()}catch(Dt){Mt(Dt.toString())}},ur.prototype.syncRTLPluginState=function(st,xt,Mt){try{i.plugin.setState(xt);var Dt=i.plugin.getPluginURL();if(i.plugin.isLoaded()&&!i.plugin.isParsed()&&Dt!=null){this.self.importScripts(Dt);var Rt=i.plugin.isParsed(),Nt=Rt?void 0:new Error("RTL Text Plugin failed to import scripts from "+Dt);Mt(Nt,Rt)}}catch(Bt){Mt(Bt.toString())}},ur.prototype.getAvailableImages=function(st){var xt=this.availableImages[st];return xt||(xt=[]),xt},ur.prototype.getLayerIndex=function(st){var xt=this.layerIndexes[st];return xt||(xt=this.layerIndexes[st]=new p),xt},ur.prototype.getWorkerSource=function(st,xt,Mt){var Dt=this;if(this.workerSources[st]||(this.workerSources[st]={}),this.workerSources[st][xt]||(this.workerSources[st][xt]={}),!this.workerSources[st][xt][Mt]){var Rt={send:function(Nt,Bt,Xt){Dt.actor.send(Nt,Bt,Xt,st)}};this.workerSources[st][xt][Mt]=new this.workerSourceTypes[xt](Rt,this.getLayerIndex(st),this.getAvailableImages(st))}return this.workerSources[st][xt][Mt]},ur.prototype.getDEMWorkerSource=function(st,xt){return this.demWorkerSources[st]||(this.demWorkerSources[st]={}),this.demWorkerSources[st][xt]||(this.demWorkerSources[st][xt]=new m),this.demWorkerSources[st][xt]},ur.prototype.enforceCacheSizeLimit=function(st,xt){i.enforceCacheSizeLimit(xt)},typeof WorkerGlobalScope<"u"&&typeof i.window<"u"&&i.window instanceof WorkerGlobalScope&&(i.window.worker=new ur(i.window)),ur}),P(["./shared"],function(i){var L=i.createCommonjsModule(function(he){he.exports?he.exports=Z:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=Z,window.mapboxgl.notSupportedReason=de);function Z(Ur){return!de(Ur)}function de(Ur){if(!te())return"not a browser";if(!pe())return"insufficent Array support";if(!_e())return"insufficient Function support";if(!Ze())return"insufficient Object support";if(!lt())return"insufficient JSON support";if(!wt())return"insufficient worker support";if(!Ut())return"insufficient Uint8ClampedArray support";if(!Qt())return"insufficient ArrayBuffer support";if(!fr())return"insufficient Canvas/getImageData support";if(!_r(Ur&&Ur.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function te(){return typeof window<"u"&&typeof document<"u"}function pe(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function _e(){return Function.prototype&&Function.prototype.bind}function Ze(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function lt(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function wt(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Ur=new Blob([""],{type:"text/javascript"}),Qr=URL.createObjectURL(Ur),fn,Rn;try{Rn=new Worker(Qr),fn=!0}catch{fn=!1}return Rn&&Rn.terminate(),URL.revokeObjectURL(Qr),fn}function Ut(){return"Uint8ClampedArray"in window}function Qt(){return ArrayBuffer.isView}function fr(){var Ur=document.createElement("canvas");Ur.width=Ur.height=1;var Qr=Ur.getContext("2d");if(!Qr)return!1;var fn=Qr.getImageData(0,0,1,1);return fn&&fn.width===Ur.width}var xr={};function _r(Ur){return xr[Ur]===void 0&&(xr[Ur]=Wr(Ur)),xr[Ur]}Z.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Vr(Ur){var Qr=document.createElement("canvas"),fn=Object.create(Z.webGLContextAttributes);return fn.failIfMajorPerformanceCaveat=Ur,Qr.probablySupportsContext?Qr.probablySupportsContext("webgl",fn)||Qr.probablySupportsContext("experimental-webgl",fn):Qr.supportsContext?Qr.supportsContext("webgl",fn)||Qr.supportsContext("experimental-webgl",fn):Qr.getContext("webgl",fn)||Qr.getContext("experimental-webgl",fn)}function Wr(Ur){var Qr=Vr(Ur);if(!Qr)return!1;var fn=Qr.createShader(Qr.VERTEX_SHADER);return!fn||Qr.isContextLost()?!1:(Qr.shaderSource(fn,"void main() {}"),Qr.compileShader(fn),Qr.getShaderParameter(fn,Qr.COMPILE_STATUS)===!0)}}),A={};A.create=function(he,Z,de){var te=i.window.document.createElement(he);return Z!==void 0&&(te.className=Z),de&&de.appendChild(te),te},A.createNS=function(he,Z){var de=i.window.document.createElementNS(he,Z);return de};var v=i.window.document.documentElement.style;function p(he){if(!v)return he[0];for(var Z=0;Z<he.length;Z++)if(he[Z]in v)return he[Z];return he[0]}var t=p(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),r;A.disableDrag=function(){v&&t&&(r=v[t],v[t]="none")},A.enableDrag=function(){v&&t&&(v[t]=r)};var s=p(["transform","WebkitTransform"]);A.setTransform=function(he,Z){he.style[s]=Z};var n=!1;try{var l=Object.defineProperty({},"passive",{get:function(){n=!0}});i.window.addEventListener("test",l,l),i.window.removeEventListener("test",l,l)}catch{n=!1}A.addEventListener=function(he,Z,de,te){te===void 0&&(te={}),"passive"in te&&n?he.addEventListener(Z,de,te):he.addEventListener(Z,de,te.capture)},A.removeEventListener=function(he,Z,de,te){te===void 0&&(te={}),"passive"in te&&n?he.removeEventListener(Z,de,te):he.removeEventListener(Z,de,te.capture)};var f=function(he){he.preventDefault(),he.stopPropagation(),i.window.removeEventListener("click",f,!0)};A.suppressClick=function(){i.window.addEventListener("click",f,!0),i.window.setTimeout(function(){i.window.removeEventListener("click",f,!0)},0)},A.mousePos=function(he,Z){var de=he.getBoundingClientRect();return new i.Point(Z.clientX-de.left-he.clientLeft,Z.clientY-de.top-he.clientTop)},A.touchPos=function(he,Z){for(var de=he.getBoundingClientRect(),te=[],pe=0;pe<Z.length;pe++)te.push(new i.Point(Z[pe].clientX-de.left-he.clientLeft,Z[pe].clientY-de.top-he.clientTop));return te},A.mouseButton=function(he){return typeof i.window.InstallTrigger<"u"&&he.button===2&&he.ctrlKey&&i.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:he.button},A.remove=function(he){he.parentNode&&he.parentNode.removeChild(he)};function u(he,Z,de){var te,pe,_e,Ze=i.browser.devicePixelRatio>1?"@2x":"",lt=i.getJSON(Z.transformRequest(Z.normalizeSpriteURL(he,Ze,".json"),i.ResourceType.SpriteJSON),function(Qt,fr){lt=null,_e||(_e=Qt,te=fr,Ut())}),wt=i.getImage(Z.transformRequest(Z.normalizeSpriteURL(he,Ze,".png"),i.ResourceType.SpriteImage),function(Qt,fr){wt=null,_e||(_e=Qt,pe=fr,Ut())});function Ut(){if(_e)de(_e);else if(te&&pe){var Qt=i.browser.getImageData(pe),fr={};for(var xr in te){var _r=te[xr],Vr=_r.width,Wr=_r.height,Ur=_r.x,Qr=_r.y,fn=_r.sdf,Rn=_r.pixelRatio,zn=_r.stretchX,Xn=_r.stretchY,Jn=_r.content,Kn=new i.RGBAImage({width:Vr,height:Wr});i.RGBAImage.copy(Qt,Kn,{x:Ur,y:Qr},{x:0,y:0},{width:Vr,height:Wr}),fr[xr]={data:Kn,pixelRatio:Rn,sdf:fn,stretchX:zn,stretchY:Xn,content:Jn}}de(null,fr)}}return{cancel:function(){lt&&(lt.cancel(),lt=null),wt&&(wt.cancel(),wt=null)}}}function m(he){var Z=he.userImage;if(Z&&Z.render){var de=Z.render();if(de)return he.data.replace(new Uint8Array(Z.data.buffer)),!0}return!1}var c=1,w=function(he){function Z(){he.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new i.RGBAImage({width:1,height:1}),this.dirty=!0}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.isLoaded=function(){return this.loaded},Z.prototype.setLoaded=function(te){if(this.loaded!==te&&(this.loaded=te,te)){for(var pe=0,_e=this.requestors;pe<_e.length;pe+=1){var Ze=_e[pe],lt=Ze.ids,wt=Ze.callback;this._notify(lt,wt)}this.requestors=[]}},Z.prototype.getImage=function(te){return this.images[te]},Z.prototype.addImage=function(te,pe){this._validate(te,pe)&&(this.images[te]=pe)},Z.prototype._validate=function(te,pe){var _e=!0;return this._validateStretch(pe.stretchX,pe.data&&pe.data.width)||(this.fire(new i.ErrorEvent(new Error('Image "'+te+'" has invalid "stretchX" value'))),_e=!1),this._validateStretch(pe.stretchY,pe.data&&pe.data.height)||(this.fire(new i.ErrorEvent(new Error('Image "'+te+'" has invalid "stretchY" value'))),_e=!1),this._validateContent(pe.content,pe)||(this.fire(new i.ErrorEvent(new Error('Image "'+te+'" has invalid "content" value'))),_e=!1),_e},Z.prototype._validateStretch=function(te,pe){if(!te)return!0;for(var _e=0,Ze=0,lt=te;Ze<lt.length;Ze+=1){var wt=lt[Ze];if(wt[0]<_e||wt[1]<wt[0]||pe<wt[1])return!1;_e=wt[1]}return!0},Z.prototype._validateContent=function(te,pe){return te?!(te.length!==4||te[0]<0||pe.data.width<te[0]||te[1]<0||pe.data.height<te[1]||te[2]<0||pe.data.width<te[2]||te[3]<0||pe.data.height<te[3]||te[2]<te[0]||te[3]<te[1]):!0},Z.prototype.updateImage=function(te,pe){var _e=this.images[te];pe.version=_e.version+1,this.images[te]=pe,this.updatedImages[te]=!0},Z.prototype.removeImage=function(te){var pe=this.images[te];delete this.images[te],delete this.patterns[te],pe.userImage&&pe.userImage.onRemove&&pe.userImage.onRemove()},Z.prototype.listImages=function(){return Object.keys(this.images)},Z.prototype.getImages=function(te,pe){var _e=!0;if(!this.isLoaded())for(var Ze=0,lt=te;Ze<lt.length;Ze+=1){var wt=lt[Ze];this.images[wt]||(_e=!1)}this.isLoaded()||_e?this._notify(te,pe):this.requestors.push({ids:te,callback:pe})},Z.prototype._notify=function(te,pe){for(var _e={},Ze=0,lt=te;Ze<lt.length;Ze+=1){var wt=lt[Ze];this.images[wt]||this.fire(new i.Event("styleimagemissing",{id:wt}));var Ut=this.images[wt];Ut?_e[wt]={data:Ut.data.clone(),pixelRatio:Ut.pixelRatio,sdf:Ut.sdf,version:Ut.version,stretchX:Ut.stretchX,stretchY:Ut.stretchY,content:Ut.content,hasRenderCallback:!!(Ut.userImage&&Ut.userImage.render)}:i.warnOnce('Image "'+wt+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}pe(null,_e)},Z.prototype.getPixelSize=function(){var te=this.atlasImage,pe=te.width,_e=te.height;return{width:pe,height:_e}},Z.prototype.getPattern=function(te){var pe=this.patterns[te],_e=this.getImage(te);if(!_e)return null;if(pe&&pe.position.version===_e.version)return pe.position;if(pe)pe.position.version=_e.version;else{var Ze=_e.data.width+c*2,lt=_e.data.height+c*2,wt={w:Ze,h:lt,x:0,y:0},Ut=new i.ImagePosition(wt,_e);this.patterns[te]={bin:wt,position:Ut}}return this._updatePatternAtlas(),this.patterns[te].position},Z.prototype.bind=function(te){var pe=te.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new i.Texture(te,this.atlasImage,pe.RGBA),this.atlasTexture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE)},Z.prototype._updatePatternAtlas=function(){var te=[];for(var pe in this.patterns)te.push(this.patterns[pe].bin);var _e=i.potpack(te),Ze=_e.w,lt=_e.h,wt=this.atlasImage;wt.resize({width:Ze||1,height:lt||1});for(var Ut in this.patterns){var Qt=this.patterns[Ut],fr=Qt.bin,xr=fr.x+c,_r=fr.y+c,Vr=this.images[Ut].data,Wr=Vr.width,Ur=Vr.height;i.RGBAImage.copy(Vr,wt,{x:0,y:0},{x:xr,y:_r},{width:Wr,height:Ur}),i.RGBAImage.copy(Vr,wt,{x:0,y:Ur-1},{x:xr,y:_r-1},{width:Wr,height:1}),i.RGBAImage.copy(Vr,wt,{x:0,y:0},{x:xr,y:_r+Ur},{width:Wr,height:1}),i.RGBAImage.copy(Vr,wt,{x:Wr-1,y:0},{x:xr-1,y:_r},{width:1,height:Ur}),i.RGBAImage.copy(Vr,wt,{x:0,y:0},{x:xr+Wr,y:_r},{width:1,height:Ur})}this.dirty=!0},Z.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},Z.prototype.dispatchRenderCallbacks=function(te){for(var pe=0,_e=te;pe<_e.length;pe+=1){var Ze=_e[pe];if(!this.callbackDispatchedThisFrame[Ze]){this.callbackDispatchedThisFrame[Ze]=!0;var lt=this.images[Ze],wt=m(lt);wt&&this.updateImage(Ze,lt)}}},Z}(i.Evented);function h(he,Z,de,te,pe){var _e=Z*256,Ze=_e+255,lt=te.transformRequest(te.normalizeGlyphsURL(de).replace("{fontstack}",he).replace("{range}",_e+"-"+Ze),i.ResourceType.Glyphs);i.getArrayBuffer(lt,function(wt,Ut){if(wt)pe(wt);else if(Ut){for(var Qt={},fr=0,xr=i.parseGlyphPBF(Ut);fr<xr.length;fr+=1){var _r=xr[fr];Qt[_r.id]=_r}pe(null,Qt)}})}var o=T,d=T,M=1e20;function T(he,Z,de,te,pe,_e){this.fontSize=he||24,this.buffer=Z===void 0?3:Z,this.cutoff=te||.25,this.fontFamily=pe||"sans-serif",this.fontWeight=_e||"normal",this.radius=de||8;var Ze=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Ze,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Ze*Ze),this.gridInner=new Float64Array(Ze*Ze),this.f=new Float64Array(Ze),this.d=new Float64Array(Ze),this.z=new Float64Array(Ze+1),this.v=new Int16Array(Ze),this.middle=Math.round(Ze/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}T.prototype.draw=function(he){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(he,this.buffer,this.middle);for(var Z=this.ctx.getImageData(0,0,this.size,this.size),de=new Uint8ClampedArray(this.size*this.size),te=0;te<this.size*this.size;te++){var pe=Z.data[te*4+3]/255;this.gridOuter[te]=pe===1?0:pe===0?M:Math.pow(Math.max(0,.5-pe),2),this.gridInner[te]=pe===1?M:pe===0?0:Math.pow(Math.max(0,pe-.5),2)}for(E(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),E(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),te=0;te<this.size*this.size;te++){var _e=this.gridOuter[te]-this.gridInner[te];de[te]=Math.max(0,Math.min(255,Math.round(255-255*(_e/this.radius+this.cutoff))))}return de};function E(he,Z,de,te,pe,_e,Ze){for(var lt=0;lt<Z;lt++){for(var wt=0;wt<de;wt++)te[wt]=he[wt*Z+lt];for(x(te,pe,_e,Ze,de),wt=0;wt<de;wt++)he[wt*Z+lt]=pe[wt]}for(wt=0;wt<de;wt++){for(lt=0;lt<Z;lt++)te[lt]=he[wt*Z+lt];for(x(te,pe,_e,Ze,Z),lt=0;lt<Z;lt++)he[wt*Z+lt]=Math.sqrt(pe[lt])}}function x(he,Z,de,te,pe){de[0]=0,te[0]=-M,te[1]=+M;for(var _e=1,Ze=0;_e<pe;_e++){for(var lt=(he[_e]+_e*_e-(he[de[Ze]]+de[Ze]*de[Ze]))/(2*_e-2*de[Ze]);lt<=te[Ze];)Ze--,lt=(he[_e]+_e*_e-(he[de[Ze]]+de[Ze]*de[Ze]))/(2*_e-2*de[Ze]);Ze++,de[Ze]=_e,te[Ze]=lt,te[Ze+1]=+M}for(_e=0,Ze=0;_e<pe;_e++){for(;te[Ze+1]<_e;)Ze++;Z[_e]=(_e-de[Ze])*(_e-de[Ze])+he[de[Ze]]}}o.default=d;var S=function(Z,de){this.requestManager=Z,this.localIdeographFontFamily=de,this.entries={}};S.prototype.setURL=function(Z){this.url=Z},S.prototype.getGlyphs=function(Z,de){var te=this,pe=[];for(var _e in Z)for(var Ze=0,lt=Z[_e];Ze<lt.length;Ze+=1){var wt=lt[Ze];pe.push({stack:_e,id:wt})}i.asyncAll(pe,function(Ut,Qt){var fr=Ut.stack,xr=Ut.id,_r=te.entries[fr];_r||(_r=te.entries[fr]={glyphs:{},requests:{},ranges:{}});var Vr=_r.glyphs[xr];if(Vr!==void 0){Qt(null,{stack:fr,id:xr,glyph:Vr});return}if(Vr=te._tinySDF(_r,fr,xr),Vr){_r.glyphs[xr]=Vr,Qt(null,{stack:fr,id:xr,glyph:Vr});return}var Wr=Math.floor(xr/256);if(Wr*256>65535){Qt(new Error("glyphs > 65535 not supported"));return}if(_r.ranges[Wr]){Qt(null,{stack:fr,id:xr,glyph:Vr});return}var Ur=_r.requests[Wr];Ur||(Ur=_r.requests[Wr]=[],S.loadGlyphRange(fr,Wr,te.url,te.requestManager,function(Qr,fn){if(fn){for(var Rn in fn)te._doesCharSupportLocalGlyph(+Rn)||(_r.glyphs[+Rn]=fn[+Rn]);_r.ranges[Wr]=!0}for(var zn=0,Xn=Ur;zn<Xn.length;zn+=1){var Jn=Xn[zn];Jn(Qr,fn)}delete _r.requests[Wr]})),Ur.push(function(Qr,fn){Qr?Qt(Qr):fn&&Qt(null,{stack:fr,id:xr,glyph:fn[xr]||null})})},function(Ut,Qt){if(Ut)de(Ut);else if(Qt){for(var fr={},xr=0,_r=Qt;xr<_r.length;xr+=1){var Vr=_r[xr],Wr=Vr.stack,Ur=Vr.id,Qr=Vr.glyph;(fr[Wr]||(fr[Wr]={}))[Ur]=Qr&&{id:Qr.id,bitmap:Qr.bitmap.clone(),metrics:Qr.metrics}}de(null,fr)}})},S.prototype._doesCharSupportLocalGlyph=function(Z){return!!this.localIdeographFontFamily&&(i.isChar["CJK Unified Ideographs"](Z)||i.isChar["Hangul Syllables"](Z)||i.isChar.Hiragana(Z)||i.isChar.Katakana(Z))},S.prototype._tinySDF=function(Z,de,te){var pe=this.localIdeographFontFamily;if(pe&&this._doesCharSupportLocalGlyph(te)){var _e=Z.tinySDF;if(!_e){var Ze="400";/bold/i.test(de)?Ze="900":/medium/i.test(de)?Ze="500":/light/i.test(de)&&(Ze="200"),_e=Z.tinySDF=new S.TinySDF(24,3,8,.25,pe,Ze)}return{id:te,bitmap:new i.AlphaImage({width:30,height:30},_e.draw(String.fromCharCode(te))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},S.loadGlyphRange=h,S.TinySDF=o;var b=function(){this.specification=i.styleSpec.light.position};b.prototype.possiblyEvaluate=function(Z,de){return i.sphericalToCartesian(Z.expression.evaluate(de))},b.prototype.interpolate=function(Z,de,te){return{x:i.number(Z.x,de.x,te),y:i.number(Z.y,de.y,te),z:i.number(Z.z,de.z,te)}};var a=new i.Properties({anchor:new i.DataConstantProperty(i.styleSpec.light.anchor),position:new b,color:new i.DataConstantProperty(i.styleSpec.light.color),intensity:new i.DataConstantProperty(i.styleSpec.light.intensity)}),C="-transition",y=function(he){function Z(de){he.call(this),this._transitionable=new i.Transitionable(a),this.setLight(de),this._transitioning=this._transitionable.untransitioned()}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getLight=function(){return this._transitionable.serialize()},Z.prototype.setLight=function(te,pe){if(pe===void 0&&(pe={}),!this._validate(i.validateLight,te,pe))for(var _e in te){var Ze=te[_e];i.endsWith(_e,C)?this._transitionable.setTransition(_e.slice(0,-C.length),Ze):this._transitionable.setValue(_e,Ze)}},Z.prototype.updateTransitions=function(te){this._transitioning=this._transitionable.transitioned(te,this._transitioning)},Z.prototype.hasTransition=function(){return this._transitioning.hasTransition()},Z.prototype.recalculate=function(te){this.properties=this._transitioning.possiblyEvaluate(te)},Z.prototype._validate=function(te,pe,_e){return _e&&_e.validate===!1?!1:i.emitValidationErrors(this,te.call(i.validateStyle,i.extend({value:pe,style:{glyphs:!0,sprite:!0},styleSpec:i.styleSpec})))},Z}(i.Evented),z=function(Z,de){this.width=Z,this.height=de,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};z.prototype.getDash=function(Z,de){var te=Z.join(",")+String(de);return this.dashEntry[te]||(this.dashEntry[te]=this.addDash(Z,de)),this.dashEntry[te]},z.prototype.getDashRanges=function(Z,de,te){var pe=Z.length%2===1,_e=[],Ze=pe?-Z[Z.length-1]*te:0,lt=Z[0]*te,wt=!0;_e.push({left:Ze,right:lt,isDash:wt,zeroLength:Z[0]===0});for(var Ut=Z[0],Qt=1;Qt<Z.length;Qt++){wt=!wt;var fr=Z[Qt];Ze=Ut*te,Ut+=fr,lt=Ut*te,_e.push({left:Ze,right:lt,isDash:wt,zeroLength:fr===0})}return _e},z.prototype.addRoundDash=function(Z,de,te){for(var pe=de/2,_e=-te;_e<=te;_e++)for(var Ze=this.nextRow+te+_e,lt=this.width*Ze,wt=0,Ut=Z[wt],Qt=0;Qt<this.width;Qt++){Qt/Ut.right>1&&(Ut=Z[++wt]);var fr=Math.abs(Qt-Ut.left),xr=Math.abs(Qt-Ut.right),_r=Math.min(fr,xr),Vr=void 0,Wr=_e/te*(pe+1);if(Ut.isDash){var Ur=pe-Math.abs(Wr);Vr=Math.sqrt(_r*_r+Ur*Ur)}else Vr=pe-Math.sqrt(_r*_r+Wr*Wr);this.data[lt+Qt]=Math.max(0,Math.min(255,Vr+128))}},z.prototype.addRegularDash=function(Z){for(var de=Z.length-1;de>=0;--de){var te=Z[de],pe=Z[de+1];te.zeroLength?Z.splice(de,1):pe&&pe.isDash===te.isDash&&(pe.left=te.left,Z.splice(de,1))}var _e=Z[0],Ze=Z[Z.length-1];_e.isDash===Ze.isDash&&(_e.left=Ze.left-this.width,Ze.right=_e.right+this.width);for(var lt=this.width*this.nextRow,wt=0,Ut=Z[wt],Qt=0;Qt<this.width;Qt++){Qt/Ut.right>1&&(Ut=Z[++wt]);var fr=Math.abs(Qt-Ut.left),xr=Math.abs(Qt-Ut.right),_r=Math.min(fr,xr),Vr=Ut.isDash?_r:-_r;this.data[lt+Qt]=Math.max(0,Math.min(255,Vr+128))}},z.prototype.addDash=function(Z,de){var te=de?7:0,pe=2*te+1;if(this.nextRow+pe>this.height)return i.warnOnce("LineAtlas out of space"),null;for(var _e=0,Ze=0;Ze<Z.length;Ze++)_e+=Z[Ze];if(_e!==0){var lt=this.width/_e,wt=this.getDashRanges(Z,this.width,lt);de?this.addRoundDash(wt,lt,te):this.addRegularDash(wt)}var Ut={y:(this.nextRow+te+.5)/this.height,height:2*te/this.height,width:_e};return this.nextRow+=pe,this.dirty=!0,Ut},z.prototype.bind=function(Z){var de=Z.gl;this.texture?(de.bindTexture(de.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,de.texSubImage2D(de.TEXTURE_2D,0,0,0,this.width,this.height,de.ALPHA,de.UNSIGNED_BYTE,this.data))):(this.texture=de.createTexture(),de.bindTexture(de.TEXTURE_2D,this.texture),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_S,de.REPEAT),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_T,de.REPEAT),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MIN_FILTER,de.LINEAR),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MAG_FILTER,de.LINEAR),de.texImage2D(de.TEXTURE_2D,0,de.ALPHA,this.width,this.height,0,de.ALPHA,de.UNSIGNED_BYTE,this.data))};var I=function he(Z,de){this.workerPool=Z,this.actors=[],this.currentActor=0,this.id=i.uniqueId();for(var te=this.workerPool.acquire(this.id),pe=0;pe<te.length;pe++){var _e=te[pe],Ze=new he.Actor(_e,de,this.id);Ze.name="Worker "+pe,this.actors.push(Ze)}};I.prototype.broadcast=function(Z,de,te){te=te||function(){},i.asyncAll(this.actors,function(pe,_e){pe.send(Z,de,_e)},te)},I.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},I.prototype.remove=function(){this.actors.forEach(function(Z){Z.remove()}),this.actors=[],this.workerPool.release(this.id)},I.Actor=i.Actor;function B(he,Z,de){var te=function(pe,_e){if(pe)return de(pe);if(_e){var Ze=i.pick(i.extend(_e,he),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);_e.vector_layers&&(Ze.vectorLayers=_e.vector_layers,Ze.vectorLayerIds=Ze.vectorLayers.map(function(lt){return lt.id})),Ze.tiles=Z.canonicalizeTileset(Ze,he.url),de(null,Ze)}};return he.url?i.getJSON(Z.transformRequest(Z.normalizeSourceURL(he.url),i.ResourceType.Source),te):i.browser.frame(function(){return te(null,he)})}var F=function(Z,de,te){this.bounds=i.LngLatBounds.convert(this.validateBounds(Z)),this.minzoom=de||0,this.maxzoom=te||24};F.prototype.validateBounds=function(Z){return!Array.isArray(Z)||Z.length!==4?[-180,-90,180,90]:[Math.max(-180,Z[0]),Math.max(-90,Z[1]),Math.min(180,Z[2]),Math.min(90,Z[3])]},F.prototype.contains=function(Z){var de=Math.pow(2,Z.z),te={minX:Math.floor(i.mercatorXfromLng(this.bounds.getWest())*de),minY:Math.floor(i.mercatorYfromLat(this.bounds.getNorth())*de),maxX:Math.ceil(i.mercatorXfromLng(this.bounds.getEast())*de),maxY:Math.ceil(i.mercatorYfromLat(this.bounds.getSouth())*de)},pe=Z.x>=te.minX&&Z.x<te.maxX&&Z.y>=te.minY&&Z.y<te.maxY;return pe};var O=function(he){function Z(de,te,pe,_e){if(he.call(this),this.id=de,this.dispatcher=pe,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,i.extend(this,i.pick(te,["url","scheme","tileSize","promoteId"])),this._options=i.extend({type:"vector"},te),this._collectResourceTiming=te.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(_e)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var te=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=B(this._options,this.map._requestManager,function(pe,_e){te._tileJSONRequest=null,te._loaded=!0,pe?te.fire(new i.ErrorEvent(pe)):_e&&(i.extend(te,_e),_e.bounds&&(te.tileBounds=new F(_e.bounds,te.minzoom,te.maxzoom)),i.postTurnstileEvent(_e.tiles,te.map._requestManager._customAccessToken),i.postMapLoadEvent(_e.tiles,te.map._getMapId(),te.map._requestManager._skuToken,te.map._requestManager._customAccessToken),te.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),te.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.hasTile=function(te){return!this.tileBounds||this.tileBounds.contains(te.canonical)},Z.prototype.onAdd=function(te){this.map=te,this.load()},Z.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Z.prototype.serialize=function(){return i.extend({},this._options)},Z.prototype.loadTile=function(te,pe){var _e=this.map._requestManager.normalizeTileURL(te.tileID.canonical.url(this.tiles,this.scheme)),Ze={request:this.map._requestManager.transformRequest(_e,i.ResourceType.Tile),uid:te.uid,tileID:te.tileID,zoom:te.tileID.overscaledZ,tileSize:this.tileSize*te.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:i.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Ze.request.collectResourceTiming=this._collectResourceTiming,!te.actor||te.state==="expired"?(te.actor=this.dispatcher.getActor(),te.request=te.actor.send("loadTile",Ze,lt.bind(this))):te.state==="loading"?te.reloadCallback=pe:te.request=te.actor.send("reloadTile",Ze,lt.bind(this));function lt(wt,Ut){if(delete te.request,te.aborted)return pe(null);if(wt&&wt.status!==404)return pe(wt);Ut&&Ut.resourceTiming&&(te.resourceTiming=Ut.resourceTiming),this.map._refreshExpiredTiles&&Ut&&te.setExpiryData(Ut),te.loadVectorData(Ut,this.map.painter),i.cacheEntryPossiblyAdded(this.dispatcher),pe(null),te.reloadCallback&&(this.loadTile(te,te.reloadCallback),te.reloadCallback=null)}},Z.prototype.abortTile=function(te){te.request&&(te.request.cancel(),delete te.request),te.actor&&te.actor.send("abortTile",{uid:te.uid,type:this.type,source:this.id},void 0)},Z.prototype.unloadTile=function(te){te.unloadVectorData(),te.actor&&te.actor.send("removeTile",{uid:te.uid,type:this.type,source:this.id},void 0)},Z.prototype.hasTransition=function(){return!1},Z}(i.Evented),N=function(he){function Z(de,te,pe,_e){he.call(this),this.id=de,this.dispatcher=pe,this.setEventedParent(_e),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=i.extend({type:"raster"},te),i.extend(this,i.pick(te,["url","scheme","tileSize"]))}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var te=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=B(this._options,this.map._requestManager,function(pe,_e){te._tileJSONRequest=null,te._loaded=!0,pe?te.fire(new i.ErrorEvent(pe)):_e&&(i.extend(te,_e),_e.bounds&&(te.tileBounds=new F(_e.bounds,te.minzoom,te.maxzoom)),i.postTurnstileEvent(_e.tiles),i.postMapLoadEvent(_e.tiles,te.map._getMapId(),te.map._requestManager._skuToken),te.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),te.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.onAdd=function(te){this.map=te,this.load()},Z.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Z.prototype.serialize=function(){return i.extend({},this._options)},Z.prototype.hasTile=function(te){return!this.tileBounds||this.tileBounds.contains(te.canonical)},Z.prototype.loadTile=function(te,pe){var _e=this,Ze=this.map._requestManager.normalizeTileURL(te.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);te.request=i.getImage(this.map._requestManager.transformRequest(Ze,i.ResourceType.Tile),function(lt,wt){if(delete te.request,te.aborted)te.state="unloaded",pe(null);else if(lt)te.state="errored",pe(lt);else if(wt){_e.map._refreshExpiredTiles&&te.setExpiryData(wt),delete wt.cacheControl,delete wt.expires;var Ut=_e.map.painter.context,Qt=Ut.gl;te.texture=_e.map.painter.getTileTexture(wt.width),te.texture?te.texture.update(wt,{useMipmap:!0}):(te.texture=new i.Texture(Ut,wt,Qt.RGBA,{useMipmap:!0}),te.texture.bind(Qt.LINEAR,Qt.CLAMP_TO_EDGE,Qt.LINEAR_MIPMAP_NEAREST),Ut.extTextureFilterAnisotropic&&Qt.texParameterf(Qt.TEXTURE_2D,Ut.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Ut.extTextureFilterAnisotropicMax)),te.state="loaded",i.cacheEntryPossiblyAdded(_e.dispatcher),pe(null)}})},Z.prototype.abortTile=function(te,pe){te.request&&(te.request.cancel(),delete te.request),pe()},Z.prototype.unloadTile=function(te,pe){te.texture&&this.map.painter.saveTileTexture(te.texture),pe()},Z.prototype.hasTransition=function(){return!1},Z}(i.Evented),_=function(he){function Z(de,te,pe,_e){he.call(this,de,te,pe,_e),this.type="raster-dem",this.maxzoom=22,this._options=i.extend({type:"raster-dem"},te),this.encoding=te.encoding||"mapbox"}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},Z.prototype.loadTile=function(te,pe){var _e=this.map._requestManager.normalizeTileURL(te.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);te.request=i.getImage(this.map._requestManager.transformRequest(_e,i.ResourceType.Tile),Ze.bind(this)),te.neighboringTiles=this._getNeighboringTiles(te.tileID);function Ze(wt,Ut){if(delete te.request,te.aborted)te.state="unloaded",pe(null);else if(wt)te.state="errored",pe(wt);else if(Ut){this.map._refreshExpiredTiles&&te.setExpiryData(Ut),delete Ut.cacheControl,delete Ut.expires;var Qt=i.window.ImageBitmap&&Ut instanceof i.window.ImageBitmap&&i.offscreenCanvasSupported(),fr=Qt?Ut:i.browser.getImageData(Ut,1),xr={uid:te.uid,coord:te.tileID,source:this.id,rawImageData:fr,encoding:this.encoding};(!te.actor||te.state==="expired")&&(te.actor=this.dispatcher.getActor(),te.actor.send("loadDEMTile",xr,lt.bind(this)))}}function lt(wt,Ut){wt&&(te.state="errored",pe(wt)),Ut&&(te.dem=Ut,te.needsHillshadePrepare=!0,te.state="loaded",pe(null))}},Z.prototype._getNeighboringTiles=function(te){var pe=te.canonical,_e=Math.pow(2,pe.z),Ze=(pe.x-1+_e)%_e,lt=pe.x===0?te.wrap-1:te.wrap,wt=(pe.x+1+_e)%_e,Ut=pe.x+1===_e?te.wrap+1:te.wrap,Qt={};return Qt[new i.OverscaledTileID(te.overscaledZ,lt,pe.z,Ze,pe.y).key]={backfilled:!1},Qt[new i.OverscaledTileID(te.overscaledZ,Ut,pe.z,wt,pe.y).key]={backfilled:!1},pe.y>0&&(Qt[new i.OverscaledTileID(te.overscaledZ,lt,pe.z,Ze,pe.y-1).key]={backfilled:!1},Qt[new i.OverscaledTileID(te.overscaledZ,te.wrap,pe.z,pe.x,pe.y-1).key]={backfilled:!1},Qt[new i.OverscaledTileID(te.overscaledZ,Ut,pe.z,wt,pe.y-1).key]={backfilled:!1}),pe.y+1<_e&&(Qt[new i.OverscaledTileID(te.overscaledZ,lt,pe.z,Ze,pe.y+1).key]={backfilled:!1},Qt[new i.OverscaledTileID(te.overscaledZ,te.wrap,pe.z,pe.x,pe.y+1).key]={backfilled:!1},Qt[new i.OverscaledTileID(te.overscaledZ,Ut,pe.z,wt,pe.y+1).key]={backfilled:!1}),Qt},Z.prototype.unloadTile=function(te){te.demTexture&&this.map.painter.saveTileTexture(te.demTexture),te.fbo&&(te.fbo.destroy(),delete te.fbo),te.dem&&delete te.dem,delete te.neighboringTiles,te.state="unloaded",te.actor&&te.actor.send("removeDEMTile",{uid:te.uid,source:this.id})},Z}(N),U=function(he){function Z(de,te,pe,_e){he.call(this),this.id=de,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=pe.getActor(),this.setEventedParent(_e),this._data=te.data,this._options=i.extend({},te),this._collectResourceTiming=te.collectResourceTiming,this._resourceTiming=[],te.maxzoom!==void 0&&(this.maxzoom=te.maxzoom),te.type&&(this.type=te.type),te.attribution&&(this.attribution=te.attribution),this.promoteId=te.promoteId;var Ze=i.EXTENT/this.tileSize;this.workerOptions=i.extend({source:this.id,cluster:te.cluster||!1,geojsonVtOptions:{buffer:(te.buffer!==void 0?te.buffer:128)*Ze,tolerance:(te.tolerance!==void 0?te.tolerance:.375)*Ze,extent:i.EXTENT,maxZoom:this.maxzoom,lineMetrics:te.lineMetrics||!1,generateId:te.generateId||!1},superclusterOptions:{maxZoom:te.clusterMaxZoom!==void 0?Math.min(te.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:i.EXTENT,radius:(te.clusterRadius||50)*Ze,log:!1,generateId:te.generateId||!1},clusterProperties:te.clusterProperties},te.workerOptions)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var te=this;this.fire(new i.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(pe){if(pe){te.fire(new i.ErrorEvent(pe));return}var _e={dataType:"source",sourceDataType:"metadata"};te._collectResourceTiming&&te._resourceTiming&&te._resourceTiming.length>0&&(_e.resourceTiming=te._resourceTiming,te._resourceTiming=[]),te.fire(new i.Event("data",_e))})},Z.prototype.onAdd=function(te){this.map=te,this.load()},Z.prototype.setData=function(te){var pe=this;return this._data=te,this.fire(new i.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(_e){if(_e){pe.fire(new i.ErrorEvent(_e));return}var Ze={dataType:"source",sourceDataType:"content"};pe._collectResourceTiming&&pe._resourceTiming&&pe._resourceTiming.length>0&&(Ze.resourceTiming=pe._resourceTiming,pe._resourceTiming=[]),pe.fire(new i.Event("data",Ze))}),this},Z.prototype.getClusterExpansionZoom=function(te,pe){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:te,source:this.id},pe),this},Z.prototype.getClusterChildren=function(te,pe){return this.actor.send("geojson.getClusterChildren",{clusterId:te,source:this.id},pe),this},Z.prototype.getClusterLeaves=function(te,pe,_e,Ze){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:te,limit:pe,offset:_e},Ze),this},Z.prototype._updateWorkerData=function(te){var pe=this;this._loaded=!1;var _e=i.extend({},this.workerOptions),Ze=this._data;typeof Ze=="string"?(_e.request=this.map._requestManager.transformRequest(i.browser.resolveURL(Ze),i.ResourceType.Source),_e.request.collectResourceTiming=this._collectResourceTiming):_e.data=JSON.stringify(Ze),this.actor.send(this.type+".loadData",_e,function(lt,wt){pe._removed||wt&&wt.abandoned||(pe._loaded=!0,wt&&wt.resourceTiming&&wt.resourceTiming[pe.id]&&(pe._resourceTiming=wt.resourceTiming[pe.id].slice(0)),pe.actor.send(pe.type+".coalesce",{source:_e.source},null),te(lt))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.loadTile=function(te,pe){var _e=this,Ze=te.actor?"reloadTile":"loadTile";te.actor=this.actor;var lt={type:this.type,uid:te.uid,tileID:te.tileID,zoom:te.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:i.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};te.request=this.actor.send(Ze,lt,function(wt,Ut){return delete te.request,te.unloadVectorData(),te.aborted?pe(null):wt?pe(wt):(te.loadVectorData(Ut,_e.map.painter,Ze==="reloadTile"),pe(null))})},Z.prototype.abortTile=function(te){te.request&&(te.request.cancel(),delete te.request),te.aborted=!0},Z.prototype.unloadTile=function(te){te.unloadVectorData(),this.actor.send("removeTile",{uid:te.uid,type:this.type,source:this.id})},Z.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},Z.prototype.serialize=function(){return i.extend({},this._options,{type:this.type,data:this._data})},Z.prototype.hasTransition=function(){return!1},Z}(i.Evented),Y=i.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),K=function(he){function Z(de,te,pe,_e){he.call(this),this.id=de,this.dispatcher=pe,this.coordinates=te.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(_e),this.options=te}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(te,pe){var _e=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this.url=this.options.url,i.getImage(this.map._requestManager.transformRequest(this.url,i.ResourceType.Image),function(Ze,lt){_e._loaded=!0,Ze?_e.fire(new i.ErrorEvent(Ze)):lt&&(_e.image=lt,te&&(_e.coordinates=te),pe&&pe(),_e._finishLoading())})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.updateImage=function(te){var pe=this;return!this.image||!te.url?this:(this.options.url=te.url,this.load(te.coordinates,function(){pe.texture=null}),this)},Z.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})))},Z.prototype.onAdd=function(te){this.map=te,this.load()},Z.prototype.setCoordinates=function(te){var pe=this;this.coordinates=te;var _e=te.map(i.MercatorCoordinate.fromLngLat);this.tileID=re(_e),this.minzoom=this.maxzoom=this.tileID.z;var Ze=_e.map(function(lt){return pe.tileID.getTilePoint(lt)._round()});return this._boundsArray=new i.StructArrayLayout4i8,this._boundsArray.emplaceBack(Ze[0].x,Ze[0].y,0,0),this._boundsArray.emplaceBack(Ze[1].x,Ze[1].y,i.EXTENT,0),this._boundsArray.emplaceBack(Ze[3].x,Ze[3].y,0,i.EXTENT),this._boundsArray.emplaceBack(Ze[2].x,Ze[2].y,i.EXTENT,i.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})),this},Z.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var te=this.map.painter.context,pe=te.gl;this.boundsBuffer||(this.boundsBuffer=te.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new i.Texture(te,this.image,pe.RGBA),this.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE));for(var _e in this.tiles){var Ze=this.tiles[_e];Ze.state!=="loaded"&&(Ze.state="loaded",Ze.texture=this.texture)}}},Z.prototype.loadTile=function(te,pe){this.tileID&&this.tileID.equals(te.tileID.canonical)?(this.tiles[String(te.tileID.wrap)]=te,te.buckets={},pe(null)):(te.state="errored",pe(null))},Z.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return!1},Z}(i.Evented);function re(he){for(var Z=1/0,de=1/0,te=-1/0,pe=-1/0,_e=0,Ze=he;_e<Ze.length;_e+=1){var lt=Ze[_e];Z=Math.min(Z,lt.x),de=Math.min(de,lt.y),te=Math.max(te,lt.x),pe=Math.max(pe,lt.y)}var wt=te-Z,Ut=pe-de,Qt=Math.max(wt,Ut),fr=Math.max(0,Math.floor(-Math.log(Qt)/Math.LN2)),xr=Math.pow(2,fr);return new i.CanonicalTileID(fr,Math.floor((Z+te)/2*xr),Math.floor((de+pe)/2*xr))}var ae=function(he){function Z(de,te,pe,_e){he.call(this,de,te,pe,_e),this.roundZoom=!0,this.type="video",this.options=te}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var te=this;this._loaded=!1;var pe=this.options;this.urls=[];for(var _e=0,Ze=pe.urls;_e<Ze.length;_e+=1){var lt=Ze[_e];this.urls.push(this.map._requestManager.transformRequest(lt,i.ResourceType.Source).url)}i.getVideo(this.urls,function(wt,Ut){te._loaded=!0,wt?te.fire(new i.ErrorEvent(wt)):Ut&&(te.video=Ut,te.video.loop=!0,te.video.addEventListener("playing",function(){te.map.triggerRepaint()}),te.map&&te.video.play(),te._finishLoading())})},Z.prototype.pause=function(){this.video&&this.video.pause()},Z.prototype.play=function(){this.video&&this.video.play()},Z.prototype.seek=function(te){if(this.video){var pe=this.video.seekable;te<pe.start(0)||te>pe.end(0)?this.fire(new i.ErrorEvent(new i.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+pe.start(0)+" and "+pe.end(0)+"-second mark."))):this.video.currentTime=te}},Z.prototype.getVideo=function(){return this.video},Z.prototype.onAdd=function(te){this.map||(this.map=te,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},Z.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var te=this.map.painter.context,pe=te.gl;this.boundsBuffer||(this.boundsBuffer=te.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE),pe.texSubImage2D(pe.TEXTURE_2D,0,0,0,pe.RGBA,pe.UNSIGNED_BYTE,this.video)):(this.texture=new i.Texture(te,this.video,pe.RGBA),this.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE));for(var _e in this.tiles){var Ze=this.tiles[_e];Ze.state!=="loaded"&&(Ze.state="loaded",Ze.texture=this.texture)}}},Z.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return this.video&&!this.video.paused},Z}(K),fe=function(he){function Z(de,te,pe,_e){he.call(this,de,te,pe,_e),te.coordinates?(!Array.isArray(te.coordinates)||te.coordinates.length!==4||te.coordinates.some(function(Ze){return!Array.isArray(Ze)||Ze.length!==2||Ze.some(function(lt){return typeof lt!="number"})}))&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+de,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new i.ErrorEvent(new i.ValidationError("sources."+de,null,'missing required property "coordinates"'))),te.animate&&typeof te.animate!="boolean"&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+de,null,'optional "animate" property must be a boolean value'))),te.canvas?typeof te.canvas!="string"&&!(te.canvas instanceof i.window.HTMLCanvasElement)&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+de,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new i.ErrorEvent(new i.ValidationError("sources."+de,null,'missing required property "canvas"'))),this.options=te,this.animate=te.animate!==void 0?te.animate:!0}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof i.window.HTMLCanvasElement?this.options.canvas:i.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new i.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},Z.prototype.getCanvas=function(){return this.canvas},Z.prototype.onAdd=function(te){this.map=te,this.load(),this.canvas&&this.animate&&this.play()},Z.prototype.onRemove=function(){this.pause()},Z.prototype.prepare=function(){var te=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,te=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,te=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var pe=this.map.painter.context,_e=pe.gl;this.boundsBuffer||(this.boundsBuffer=pe.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(te||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new i.Texture(pe,this.canvas,_e.RGBA,{premultiply:!0});for(var Ze in this.tiles){var lt=this.tiles[Ze];lt.state!=="loaded"&&(lt.state="loaded",lt.texture=this.texture)}}},Z.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return this._playing},Z.prototype._hasInvalidDimensions=function(){for(var te=0,pe=[this.canvas.width,this.canvas.height];te<pe.length;te+=1){var _e=pe[te];if(isNaN(_e)||_e<=0)return!0}return!1},Z}(K),Q={vector:O,raster:N,"raster-dem":_,geojson:U,video:ae,image:K,canvas:fe},j=function(he,Z,de,te){var pe=new Q[Z.type](he,Z,de,te);if(pe.id!==he)throw new Error("Expected Source id to be "+he+" instead of "+pe.id);return i.bindAll(["load","abort","unload","serialize","prepare"],pe),pe},X=function(he){return Q[he]},J=function(he,Z){Q[he]=Z};function ee(he,Z){var de=i.identity([]);return i.translate(de,de,[1,1,0]),i.scale(de,de,[he.width*.5,he.height*.5,1]),i.multiply(de,de,he.calculatePosMatrix(Z.toUnwrapped()))}function se(he,Z,de){if(he)for(var te=0,pe=he;te<pe.length;te+=1){var _e=pe[te],Ze=Z[_e];if(Ze&&Ze.source===de&&Ze.type==="fill-extrusion")return!0}else for(var lt in Z){var wt=Z[lt];if(wt.source===de&&wt.type==="fill-extrusion")return!0}return!1}function q(he,Z,de,te,pe,_e){var Ze=se(pe&&pe.layers,Z,he.id),lt=_e.maxPitchScaleFactor(),wt=he.tilesIn(te,lt,Ze);wt.sort(ie);for(var Ut=[],Qt=0,fr=wt;Qt<fr.length;Qt+=1){var xr=fr[Qt];Ut.push({wrappedTileID:xr.tileID.wrapped().key,queryResults:xr.tile.queryRenderedFeatures(Z,de,he._state,xr.queryGeometry,xr.cameraQueryGeometry,xr.scale,pe,_e,lt,ee(he.transform,xr.tileID))})}var _r=ce(Ut);for(var Vr in _r)_r[Vr].forEach(function(Wr){var Ur=Wr.feature,Qr=he.getFeatureState(Ur.layer["source-layer"],Ur.id);Ur.source=Ur.layer.source,Ur.layer["source-layer"]&&(Ur.sourceLayer=Ur.layer["source-layer"]),Ur.state=Qr});return _r}function $(he,Z,de,te,pe,_e,Ze){for(var lt={},wt=_e.queryRenderedSymbols(te),Ut=[],Qt=0,fr=Object.keys(wt).map(Number);Qt<fr.length;Qt+=1){var xr=fr[Qt];Ut.push(Ze[xr])}Ut.sort(ie);for(var _r=function(){var fn=Wr[Vr],Rn=fn.featureIndex.lookupSymbolFeatures(wt[fn.bucketInstanceId],Z,fn.bucketIndex,fn.sourceLayerIndex,pe.filter,pe.layers,pe.availableImages,he);for(var zn in Rn){var Xn=lt[zn]=lt[zn]||[],Jn=Rn[zn];Jn.sort(function(fa,ga){var Ta=fn.featureSortOrder;if(Ta){var Ia=Ta.indexOf(fa.featureIndex),Ha=Ta.indexOf(ga.featureIndex);return Ha-Ia}else return ga.featureIndex-fa.featureIndex});for(var Kn=0,aa=Jn;Kn<aa.length;Kn+=1){var ca=aa[Kn];Xn.push(ca)}}},Vr=0,Wr=Ut;Vr<Wr.length;Vr+=1)_r();var Ur=function(fn){lt[fn].forEach(function(Rn){var zn=Rn.feature,Xn=he[fn],Jn=de[Xn.source],Kn=Jn.getFeatureState(zn.layer["source-layer"],zn.id);zn.source=zn.layer.source,zn.layer["source-layer"]&&(zn.sourceLayer=zn.layer["source-layer"]),zn.state=Kn})};for(var Qr in lt)Ur(Qr);return lt}function le(he,Z){for(var de=he.getRenderableIds().map(function(wt){return he.getTileByID(wt)}),te=[],pe={},_e=0;_e<de.length;_e++){var Ze=de[_e],lt=Ze.tileID.canonical.key;pe[lt]||(pe[lt]=!0,Ze.querySourceFeatures(te,Z))}return te}function ie(he,Z){var de=he.tileID,te=Z.tileID;return de.overscaledZ-te.overscaledZ||de.canonical.y-te.canonical.y||de.wrap-te.wrap||de.canonical.x-te.canonical.x}function ce(he){for(var Z={},de={},te=0,pe=he;te<pe.length;te+=1){var _e=pe[te],Ze=_e.queryResults,lt=_e.wrappedTileID,wt=de[lt]=de[lt]||{};for(var Ut in Ze)for(var Qt=Ze[Ut],fr=wt[Ut]=wt[Ut]||{},xr=Z[Ut]=Z[Ut]||[],_r=0,Vr=Qt;_r<Vr.length;_r+=1){var Wr=Vr[_r];fr[Wr.featureIndex]||(fr[Wr.featureIndex]=!0,xr.push(Wr))}}return Z}var me=function(Z,de){this.max=Z,this.onRemove=de,this.reset()};me.prototype.reset=function(){for(var Z in this.data)for(var de=0,te=this.data[Z];de<te.length;de+=1){var pe=te[de];pe.timeout&&clearTimeout(pe.timeout),this.onRemove(pe.value)}return this.data={},this.order=[],this},me.prototype.add=function(Z,de,te){var pe=this,_e=Z.wrapped().key;this.data[_e]===void 0&&(this.data[_e]=[]);var Ze={value:de,timeout:void 0};if(te!==void 0&&(Ze.timeout=setTimeout(function(){pe.remove(Z,Ze)},te)),this.data[_e].push(Ze),this.order.push(_e),this.order.length>this.max){var lt=this._getAndRemoveByKey(this.order[0]);lt&&this.onRemove(lt)}return this},me.prototype.has=function(Z){return Z.wrapped().key in this.data},me.prototype.getAndRemove=function(Z){return this.has(Z)?this._getAndRemoveByKey(Z.wrapped().key):null},me.prototype._getAndRemoveByKey=function(Z){var de=this.data[Z].shift();return de.timeout&&clearTimeout(de.timeout),this.data[Z].length===0&&delete this.data[Z],this.order.splice(this.order.indexOf(Z),1),de.value},me.prototype.getByKey=function(Z){var de=this.data[Z];return de?de[0].value:null},me.prototype.get=function(Z){if(!this.has(Z))return null;var de=this.data[Z.wrapped().key][0];return de.value},me.prototype.remove=function(Z,de){if(!this.has(Z))return this;var te=Z.wrapped().key,pe=de===void 0?0:this.data[te].indexOf(de),_e=this.data[te][pe];return this.data[te].splice(pe,1),_e.timeout&&clearTimeout(_e.timeout),this.data[te].length===0&&delete this.data[te],this.onRemove(_e.value),this.order.splice(this.order.indexOf(te),1),this},me.prototype.setMaxSize=function(Z){for(this.max=Z;this.order.length>this.max;){var de=this._getAndRemoveByKey(this.order[0]);de&&this.onRemove(de)}return this},me.prototype.filter=function(Z){var de=[];for(var te in this.data)for(var pe=0,_e=this.data[te];pe<_e.length;pe+=1){var Ze=_e[pe];Z(Ze.value)||de.push(Ze)}for(var lt=0,wt=de;lt<wt.length;lt+=1){var Ut=wt[lt];this.remove(Ut.value.tileID,Ut)}};var Me=function(Z,de,te){this.context=Z;var pe=Z.gl;this.buffer=pe.createBuffer(),this.dynamicDraw=!!te,this.context.unbindVAO(),Z.bindElementBuffer.set(this.buffer),pe.bufferData(pe.ELEMENT_ARRAY_BUFFER,de.arrayBuffer,this.dynamicDraw?pe.DYNAMIC_DRAW:pe.STATIC_DRAW),this.dynamicDraw||delete de.arrayBuffer};Me.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Me.prototype.updateData=function(Z){var de=this.context.gl;this.context.unbindVAO(),this.bind(),de.bufferSubData(de.ELEMENT_ARRAY_BUFFER,0,Z.arrayBuffer)},Me.prototype.destroy=function(){var Z=this.context.gl;this.buffer&&(Z.deleteBuffer(this.buffer),delete this.buffer)};var we={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Oe=function(Z,de,te,pe){this.length=de.length,this.attributes=te,this.itemSize=de.bytesPerElement,this.dynamicDraw=pe,this.context=Z;var _e=Z.gl;this.buffer=_e.createBuffer(),Z.bindVertexBuffer.set(this.buffer),_e.bufferData(_e.ARRAY_BUFFER,de.arrayBuffer,this.dynamicDraw?_e.DYNAMIC_DRAW:_e.STATIC_DRAW),this.dynamicDraw||delete de.arrayBuffer};Oe.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Oe.prototype.updateData=function(Z){var de=this.context.gl;this.bind(),de.bufferSubData(de.ARRAY_BUFFER,0,Z.arrayBuffer)},Oe.prototype.enableAttributes=function(Z,de){for(var te=0;te<this.attributes.length;te++){var pe=this.attributes[te],_e=de.attributes[pe.name];_e!==void 0&&Z.enableVertexAttribArray(_e)}},Oe.prototype.setVertexAttribPointers=function(Z,de,te){for(var pe=0;pe<this.attributes.length;pe++){var _e=this.attributes[pe],Ze=de.attributes[_e.name];Ze!==void 0&&Z.vertexAttribPointer(Ze,_e.components,Z[we[_e.type]],!1,this.itemSize,_e.offset+this.itemSize*(te||0))}},Oe.prototype.destroy=function(){var Z=this.context.gl;this.buffer&&(Z.deleteBuffer(this.buffer),delete this.buffer)};var Be=function(Z){this.gl=Z.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Be.prototype.get=function(){return this.current},Be.prototype.set=function(Z){},Be.prototype.getDefault=function(){return this.default},Be.prototype.setDefault=function(){this.set(this.default)};var Ce=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return i.Color.transparent},Z.prototype.set=function(te){var pe=this.current;te.r===pe.r&&te.g===pe.g&&te.b===pe.b&&te.a===pe.a&&!this.dirty||(this.gl.clearColor(te.r,te.g,te.b,te.a),this.current=te,this.dirty=!1)},Z}(Be),xe=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 1},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.clearDepth(te),this.current=te,this.dirty=!1)},Z}(Be),Se=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 0},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.clearStencil(te),this.current=te,this.dirty=!1)},Z}(Be),He=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return[!0,!0,!0,!0]},Z.prototype.set=function(te){var pe=this.current;te[0]===pe[0]&&te[1]===pe[1]&&te[2]===pe[2]&&te[3]===pe[3]&&!this.dirty||(this.gl.colorMask(te[0],te[1],te[2],te[3]),this.current=te,this.dirty=!1)},Z}(Be),Ge=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!0},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.depthMask(te),this.current=te,this.dirty=!1)},Z}(Be),ke=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 255},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.stencilMask(te),this.current=te,this.dirty=!1)},Z}(Be),We=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},Z.prototype.set=function(te){var pe=this.current;te.func===pe.func&&te.ref===pe.ref&&te.mask===pe.mask&&!this.dirty||(this.gl.stencilFunc(te.func,te.ref,te.mask),this.current=te,this.dirty=!1)},Z}(Be),it=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var te=this.gl;return[te.KEEP,te.KEEP,te.KEEP]},Z.prototype.set=function(te){var pe=this.current;te[0]===pe[0]&&te[1]===pe[1]&&te[2]===pe[2]&&!this.dirty||(this.gl.stencilOp(te[0],te[1],te[2]),this.current=te,this.dirty=!1)},Z}(Be),et=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;te?pe.enable(pe.STENCIL_TEST):pe.disable(pe.STENCIL_TEST),this.current=te,this.dirty=!1}},Z}(Be),tt=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return[0,1]},Z.prototype.set=function(te){var pe=this.current;te[0]===pe[0]&&te[1]===pe[1]&&!this.dirty||(this.gl.depthRange(te[0],te[1]),this.current=te,this.dirty=!1)},Z}(Be),at=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;te?pe.enable(pe.DEPTH_TEST):pe.disable(pe.DEPTH_TEST),this.current=te,this.dirty=!1}},Z}(Be),ht=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.LESS},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.depthFunc(te),this.current=te,this.dirty=!1)},Z}(Be),yt=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;te?pe.enable(pe.BLEND):pe.disable(pe.BLEND),this.current=te,this.dirty=!1}},Z}(Be),gt=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var te=this.gl;return[te.ONE,te.ZERO]},Z.prototype.set=function(te){var pe=this.current;te[0]===pe[0]&&te[1]===pe[1]&&!this.dirty||(this.gl.blendFunc(te[0],te[1]),this.current=te,this.dirty=!1)},Z}(Be),Et=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return i.Color.transparent},Z.prototype.set=function(te){var pe=this.current;te.r===pe.r&&te.g===pe.g&&te.b===pe.b&&te.a===pe.a&&!this.dirty||(this.gl.blendColor(te.r,te.g,te.b,te.a),this.current=te,this.dirty=!1)},Z}(Be),Ct=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.FUNC_ADD},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.blendEquation(te),this.current=te,this.dirty=!1)},Z}(Be),Vt=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;te?pe.enable(pe.CULL_FACE):pe.disable(pe.CULL_FACE),this.current=te,this.dirty=!1}},Z}(Be),Qe=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.BACK},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.cullFace(te),this.current=te,this.dirty=!1)},Z}(Be),Fe=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.CCW},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.frontFace(te),this.current=te,this.dirty=!1)},Z}(Be),Ie=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.useProgram(te),this.current=te,this.dirty=!1)},Z}(Be),ze=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.TEXTURE0},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.activeTexture(te),this.current=te,this.dirty=!1)},Z}(Be),Re=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var te=this.gl;return[0,0,te.drawingBufferWidth,te.drawingBufferHeight]},Z.prototype.set=function(te){var pe=this.current;te[0]===pe[0]&&te[1]===pe[1]&&te[2]===pe[2]&&te[3]===pe[3]&&!this.dirty||(this.gl.viewport(te[0],te[1],te[2],te[3]),this.current=te,this.dirty=!1)},Z}(Be),be=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;pe.bindFramebuffer(pe.FRAMEBUFFER,te),this.current=te,this.dirty=!1}},Z}(Be),ye=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;pe.bindRenderbuffer(pe.RENDERBUFFER,te),this.current=te,this.dirty=!1}},Z}(Be),Ae=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;pe.bindTexture(pe.TEXTURE_2D,te),this.current=te,this.dirty=!1}},Z}(Be),Ee=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;pe.bindBuffer(pe.ARRAY_BUFFER,te),this.current=te,this.dirty=!1}},Z}(Be),Ne=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){var pe=this.gl;pe.bindBuffer(pe.ELEMENT_ARRAY_BUFFER,te),this.current=te,this.dirty=!1},Z}(Be),Je=function(he){function Z(de){he.call(this,de),this.vao=de.extVertexArrayObject}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){!this.vao||te===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(te),this.current=te,this.dirty=!1)},Z}(Be),qe=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 4},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;pe.pixelStorei(pe.UNPACK_ALIGNMENT,te),this.current=te,this.dirty=!1}},Z}(Be),vt=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;pe.pixelStorei(pe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te),this.current=te,this.dirty=!1}},Z}(Be),bt=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;pe.pixelStorei(pe.UNPACK_FLIP_Y_WEBGL,te),this.current=te,this.dirty=!1}},Z}(Be),Wt=function(he){function Z(de,te){he.call(this,de),this.context=de,this.parent=te}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z}(Be),qt=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.setDirty=function(){this.dirty=!0},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var pe=this.gl;pe.framebufferTexture2D(pe.FRAMEBUFFER,pe.COLOR_ATTACHMENT0,pe.TEXTURE_2D,te,0),this.current=te,this.dirty=!1}},Z}(Wt),At=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var pe=this.gl;pe.framebufferRenderbuffer(pe.FRAMEBUFFER,pe.DEPTH_ATTACHMENT,pe.RENDERBUFFER,te),this.current=te,this.dirty=!1}},Z}(Wt),zt=function(Z,de,te,pe){this.context=Z,this.width=de,this.height=te;var _e=Z.gl,Ze=this.framebuffer=_e.createFramebuffer();this.colorAttachment=new qt(Z,Ze),pe&&(this.depthAttachment=new At(Z,Ze))};zt.prototype.destroy=function(){var Z=this.context.gl,de=this.colorAttachment.get();if(de&&Z.deleteTexture(de),this.depthAttachment){var te=this.depthAttachment.get();te&&Z.deleteRenderbuffer(te)}Z.deleteFramebuffer(this.framebuffer)};var Jt=519,Mr=function(Z,de,te){this.func=Z,this.mask=de,this.range=te};Mr.ReadOnly=!1,Mr.ReadWrite=!0,Mr.disabled=new Mr(Jt,Mr.ReadOnly,[0,1]);var pt=519,Zt=7680,Kt=function(Z,de,te,pe,_e,Ze){this.test=Z,this.ref=de,this.mask=te,this.fail=pe,this.depthFail=_e,this.pass=Ze};Kt.disabled=new Kt({func:pt,mask:0},0,0,Zt,Zt,Zt);var mr=0,ur=1,dt=771,st=function(Z,de,te){this.blendFunction=Z,this.blendColor=de,this.mask=te};st.Replace=[ur,mr],st.disabled=new st(st.Replace,i.Color.transparent,[!1,!1,!1,!1]),st.unblended=new st(st.Replace,i.Color.transparent,[!0,!0,!0,!0]),st.alphaBlended=new st([ur,dt],i.Color.transparent,[!0,!0,!0,!0]);var xt=1029,Mt=2305,Dt=function(Z,de,te){this.enable=Z,this.mode=de,this.frontFace=te};Dt.disabled=new Dt(!1,xt,Mt),Dt.backCCW=new Dt(!0,xt,Mt);var Rt=function(Z){this.gl=Z,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ce(this),this.clearDepth=new xe(this),this.clearStencil=new Se(this),this.colorMask=new He(this),this.depthMask=new Ge(this),this.stencilMask=new ke(this),this.stencilFunc=new We(this),this.stencilOp=new it(this),this.stencilTest=new et(this),this.depthRange=new tt(this),this.depthTest=new at(this),this.depthFunc=new ht(this),this.blend=new yt(this),this.blendFunc=new gt(this),this.blendColor=new Et(this),this.blendEquation=new Ct(this),this.cullFace=new Vt(this),this.cullFaceSide=new Qe(this),this.frontFace=new Fe(this),this.program=new Ie(this),this.activeTexture=new ze(this),this.viewport=new Re(this),this.bindFramebuffer=new be(this),this.bindRenderbuffer=new ye(this),this.bindTexture=new Ae(this),this.bindVertexBuffer=new Ee(this),this.bindElementBuffer=new Ne(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Je(this),this.pixelStoreUnpack=new qe(this),this.pixelStoreUnpackPremultiplyAlpha=new vt(this),this.pixelStoreUnpackFlipY=new bt(this),this.extTextureFilterAnisotropic=Z.getExtension("EXT_texture_filter_anisotropic")||Z.getExtension("MOZ_EXT_texture_filter_anisotropic")||Z.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=Z.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=Z.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(Z.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=Z.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=Z.getExtension("EXT_disjoint_timer_query")};Rt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Rt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Rt.prototype.createIndexBuffer=function(Z,de){return new Me(this,Z,de)},Rt.prototype.createVertexBuffer=function(Z,de,te){return new Oe(this,Z,de,te)},Rt.prototype.createRenderbuffer=function(Z,de,te){var pe=this.gl,_e=pe.createRenderbuffer();return this.bindRenderbuffer.set(_e),pe.renderbufferStorage(pe.RENDERBUFFER,Z,de,te),this.bindRenderbuffer.set(null),_e},Rt.prototype.createFramebuffer=function(Z,de,te){return new zt(this,Z,de,te)},Rt.prototype.clear=function(Z){var de=Z.color,te=Z.depth,pe=this.gl,_e=0;de&&(_e|=pe.COLOR_BUFFER_BIT,this.clearColor.set(de),this.colorMask.set([!0,!0,!0,!0])),typeof te<"u"&&(_e|=pe.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(te),this.depthMask.set(!0)),pe.clear(_e)},Rt.prototype.setCullFace=function(Z){Z.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(Z.mode),this.frontFace.set(Z.frontFace))},Rt.prototype.setDepthMode=function(Z){Z.func===this.gl.ALWAYS&&!Z.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(Z.func),this.depthMask.set(Z.mask),this.depthRange.set(Z.range))},Rt.prototype.setStencilMode=function(Z){Z.test.func===this.gl.ALWAYS&&!Z.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(Z.mask),this.stencilOp.set([Z.fail,Z.depthFail,Z.pass]),this.stencilFunc.set({func:Z.test.func,ref:Z.ref,mask:Z.test.mask}))},Rt.prototype.setColorMode=function(Z){i.deepEqual(Z.blendFunction,st.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(Z.blendFunction),this.blendColor.set(Z.blendColor)),this.colorMask.set(Z.mask)},Rt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Nt=function(he){function Z(de,te,pe){var _e=this;he.call(this),this.id=de,this.dispatcher=pe,this.on("data",function(Ze){Ze.dataType==="source"&&Ze.sourceDataType==="metadata"&&(_e._sourceLoaded=!0),_e._sourceLoaded&&!_e._paused&&Ze.dataType==="source"&&Ze.sourceDataType==="content"&&(_e.reload(),_e.transform&&_e.update(_e.transform))}),this.on("error",function(){_e._sourceErrored=!0}),this._source=j(de,te,pe,this),this._tiles={},this._cache=new me(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new i.SourceFeatureState}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.onAdd=function(te){this.map=te,this._maxTileCacheSize=te?te._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(te)},Z.prototype.onRemove=function(te){this._source&&this._source.onRemove&&this._source.onRemove(te)},Z.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var te in this._tiles){var pe=this._tiles[te];if(pe.state!=="loaded"&&pe.state!=="errored")return!1}return!0},Z.prototype.getSource=function(){return this._source},Z.prototype.pause=function(){this._paused=!0},Z.prototype.resume=function(){if(this._paused){var te=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,te&&this.reload(),this.transform&&this.update(this.transform)}},Z.prototype._loadTile=function(te,pe){return this._source.loadTile(te,pe)},Z.prototype._unloadTile=function(te){if(this._source.unloadTile)return this._source.unloadTile(te,function(){})},Z.prototype._abortTile=function(te){if(this._source.abortTile)return this._source.abortTile(te,function(){})},Z.prototype.serialize=function(){return this._source.serialize()},Z.prototype.prepare=function(te){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var pe in this._tiles){var _e=this._tiles[pe];_e.upload(te),_e.prepare(this.map.style.imageManager)}},Z.prototype.getIds=function(){return i.values(this._tiles).map(function(te){return te.tileID}).sort(Bt).map(function(te){return te.key})},Z.prototype.getRenderableIds=function(te){var pe=this,_e=[];for(var Ze in this._tiles)this._isIdRenderable(Ze,te)&&_e.push(this._tiles[Ze]);return te?_e.sort(function(lt,wt){var Ut=lt.tileID,Qt=wt.tileID,fr=new i.Point(Ut.canonical.x,Ut.canonical.y)._rotate(pe.transform.angle),xr=new i.Point(Qt.canonical.x,Qt.canonical.y)._rotate(pe.transform.angle);return Ut.overscaledZ-Qt.overscaledZ||xr.y-fr.y||xr.x-fr.x}).map(function(lt){return lt.tileID.key}):_e.map(function(lt){return lt.tileID}).sort(Bt).map(function(lt){return lt.key})},Z.prototype.hasRenderableParent=function(te){var pe=this.findLoadedParent(te,0);return pe?this._isIdRenderable(pe.tileID.key):!1},Z.prototype._isIdRenderable=function(te,pe){return this._tiles[te]&&this._tiles[te].hasData()&&!this._coveredTiles[te]&&(pe||!this._tiles[te].holdingForFade())},Z.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var te in this._tiles)this._tiles[te].state!=="errored"&&this._reloadTile(te,"reloading")},Z.prototype._reloadTile=function(te,pe){var _e=this._tiles[te];_e&&(_e.state!=="loading"&&(_e.state=pe),this._loadTile(_e,this._tileLoaded.bind(this,_e,te,pe)))},Z.prototype._tileLoaded=function(te,pe,_e,Ze){if(Ze){te.state="errored",Ze.status!==404?this._source.fire(new i.ErrorEvent(Ze,{tile:te})):this.update(this.transform);return}te.timeAdded=i.browser.now(),_e==="expired"&&(te.refreshedUponExpiration=!0),this._setTileReloadTimer(pe,te),this.getSource().type==="raster-dem"&&te.dem&&this._backfillDEM(te),this._state.initializeTileState(te,this.map?this.map.painter:null),this._source.fire(new i.Event("data",{dataType:"source",tile:te,coord:te.tileID}))},Z.prototype._backfillDEM=function(te){for(var pe=this.getRenderableIds(),_e=0;_e<pe.length;_e++){var Ze=pe[_e];if(te.neighboringTiles&&te.neighboringTiles[Ze]){var lt=this.getTileByID(Ze);wt(te,lt),wt(lt,te)}}function wt(Ut,Qt){Ut.needsHillshadePrepare=!0;var fr=Qt.tileID.canonical.x-Ut.tileID.canonical.x,xr=Qt.tileID.canonical.y-Ut.tileID.canonical.y,_r=Math.pow(2,Ut.tileID.canonical.z),Vr=Qt.tileID.key;fr===0&&xr===0||Math.abs(xr)>1||(Math.abs(fr)>1&&(Math.abs(fr+_r)===1?fr+=_r:Math.abs(fr-_r)===1&&(fr-=_r)),!(!Qt.dem||!Ut.dem)&&(Ut.dem.backfillBorder(Qt.dem,fr,xr),Ut.neighboringTiles&&Ut.neighboringTiles[Vr]&&(Ut.neighboringTiles[Vr].backfilled=!0)))}},Z.prototype.getTile=function(te){return this.getTileByID(te.key)},Z.prototype.getTileByID=function(te){return this._tiles[te]},Z.prototype._retainLoadedChildren=function(te,pe,_e,Ze){for(var lt in this._tiles){var wt=this._tiles[lt];if(!(Ze[lt]||!wt.hasData()||wt.tileID.overscaledZ<=pe||wt.tileID.overscaledZ>_e)){for(var Ut=wt.tileID;wt&&wt.tileID.overscaledZ>pe+1;){var Qt=wt.tileID.scaledTo(wt.tileID.overscaledZ-1);wt=this._tiles[Qt.key],wt&&wt.hasData()&&(Ut=Qt)}for(var fr=Ut;fr.overscaledZ>pe;)if(fr=fr.scaledTo(fr.overscaledZ-1),te[fr.key]){Ze[Ut.key]=Ut;break}}}},Z.prototype.findLoadedParent=function(te,pe){if(te.key in this._loadedParentTiles){var _e=this._loadedParentTiles[te.key];return _e&&_e.tileID.overscaledZ>=pe?_e:null}for(var Ze=te.overscaledZ-1;Ze>=pe;Ze--){var lt=te.scaledTo(Ze),wt=this._getLoadedTile(lt);if(wt)return wt}},Z.prototype._getLoadedTile=function(te){var pe=this._tiles[te.key];if(pe&&pe.hasData())return pe;var _e=this._cache.getByKey(te.wrapped().key);return _e},Z.prototype.updateCacheSize=function(te){var pe=Math.ceil(te.width/this._source.tileSize)+1,_e=Math.ceil(te.height/this._source.tileSize)+1,Ze=pe*_e,lt=5,wt=Math.floor(Ze*lt),Ut=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,wt):wt;this._cache.setMaxSize(Ut)},Z.prototype.handleWrapJump=function(te){var pe=this._prevLng===void 0?te:this._prevLng,_e=te-pe,Ze=_e/360,lt=Math.round(Ze);if(this._prevLng=te,lt){var wt={};for(var Ut in this._tiles){var Qt=this._tiles[Ut];Qt.tileID=Qt.tileID.unwrapTo(Qt.tileID.wrap+lt),wt[Qt.tileID.key]=Qt}this._tiles=wt;for(var fr in this._timers)clearTimeout(this._timers[fr]),delete this._timers[fr];for(var xr in this._tiles){var _r=this._tiles[xr];this._setTileReloadTimer(xr,_r)}}},Z.prototype.update=function(te){var pe=this;if(this.transform=te,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(te),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var _e;this.used?this._source.tileID?_e=te.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(fa){return new i.OverscaledTileID(fa.canonical.z,fa.wrap,fa.canonical.z,fa.canonical.x,fa.canonical.y)}):(_e=te.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(_e=_e.filter(function(fa){return pe._source.hasTile(fa)}))):_e=[];var Ze=te.coveringZoomLevel(this._source),lt=Math.max(Ze-Z.maxOverzooming,this._source.minzoom),wt=Math.max(Ze+Z.maxUnderzooming,this._source.minzoom),Ut=this._updateRetainedTiles(_e,Ze);if(Xt(this._source.type)){for(var Qt={},fr={},xr=Object.keys(Ut),_r=0,Vr=xr;_r<Vr.length;_r+=1){var Wr=Vr[_r],Ur=Ut[Wr],Qr=this._tiles[Wr];if(!(!Qr||Qr.fadeEndTime&&Qr.fadeEndTime<=i.browser.now())){var fn=this.findLoadedParent(Ur,lt);fn&&(this._addTile(fn.tileID),Qt[fn.tileID.key]=fn.tileID),fr[Wr]=Ur}}this._retainLoadedChildren(fr,Ze,wt,Ut);for(var Rn in Qt)Ut[Rn]||(this._coveredTiles[Rn]=!0,Ut[Rn]=Qt[Rn])}for(var zn in Ut)this._tiles[zn].clearFadeHold();for(var Xn=i.keysDifference(this._tiles,Ut),Jn=0,Kn=Xn;Jn<Kn.length;Jn+=1){var aa=Kn[Jn],ca=this._tiles[aa];ca.hasSymbolBuckets&&!ca.holdingForFade()?ca.setHoldDuration(this.map._fadeDuration):(!ca.hasSymbolBuckets||ca.symbolFadeFinished())&&this._removeTile(aa)}this._updateLoadedParentTileCache()}},Z.prototype.releaseSymbolFadeTiles=function(){for(var te in this._tiles)this._tiles[te].holdingForFade()&&this._removeTile(te)},Z.prototype._updateRetainedTiles=function(te,pe){for(var _e={},Ze={},lt=Math.max(pe-Z.maxOverzooming,this._source.minzoom),wt=Math.max(pe+Z.maxUnderzooming,this._source.minzoom),Ut={},Qt=0,fr=te;Qt<fr.length;Qt+=1){var xr=fr[Qt],_r=this._addTile(xr);_e[xr.key]=xr,!_r.hasData()&&pe<this._source.maxzoom&&(Ut[xr.key]=xr)}this._retainLoadedChildren(Ut,pe,wt,_e);for(var Vr=0,Wr=te;Vr<Wr.length;Vr+=1){var Ur=Wr[Vr],Qr=this._tiles[Ur.key];if(!Qr.hasData()){if(pe+1>this._source.maxzoom){var fn=Ur.children(this._source.maxzoom)[0],Rn=this.getTile(fn);if(Rn&&Rn.hasData()){_e[fn.key]=fn;continue}}else{var zn=Ur.children(this._source.maxzoom);if(_e[zn[0].key]&&_e[zn[1].key]&&_e[zn[2].key]&&_e[zn[3].key])continue}for(var Xn=Qr.wasRequested(),Jn=Ur.overscaledZ-1;Jn>=lt;--Jn){var Kn=Ur.scaledTo(Jn);if(Ze[Kn.key]||(Ze[Kn.key]=!0,Qr=this.getTile(Kn),!Qr&&Xn&&(Qr=this._addTile(Kn)),Qr&&(_e[Kn.key]=Kn,Xn=Qr.wasRequested(),Qr.hasData())))break}}}return _e},Z.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var te in this._tiles){for(var pe=[],_e=void 0,Ze=this._tiles[te].tileID;Ze.overscaledZ>0;){if(Ze.key in this._loadedParentTiles){_e=this._loadedParentTiles[Ze.key];break}pe.push(Ze.key);var lt=Ze.scaledTo(Ze.overscaledZ-1);if(_e=this._getLoadedTile(lt),_e)break;Ze=lt}for(var wt=0,Ut=pe;wt<Ut.length;wt+=1){var Qt=Ut[wt];this._loadedParentTiles[Qt]=_e}}},Z.prototype._addTile=function(te){var pe=this._tiles[te.key];if(pe)return pe;pe=this._cache.getAndRemove(te),pe&&(this._setTileReloadTimer(te.key,pe),pe.tileID=te,this._state.initializeTileState(pe,this.map?this.map.painter:null),this._cacheTimers[te.key]&&(clearTimeout(this._cacheTimers[te.key]),delete this._cacheTimers[te.key],this._setTileReloadTimer(te.key,pe)));var _e=!!pe;return _e||(pe=new i.Tile(te,this._source.tileSize*te.overscaleFactor()),this._loadTile(pe,this._tileLoaded.bind(this,pe,te.key,pe.state))),pe?(pe.uses++,this._tiles[te.key]=pe,_e||this._source.fire(new i.Event("dataloading",{tile:pe,coord:pe.tileID,dataType:"source"})),pe):null},Z.prototype._setTileReloadTimer=function(te,pe){var _e=this;te in this._timers&&(clearTimeout(this._timers[te]),delete this._timers[te]);var Ze=pe.getExpiryTimeout();Ze&&(this._timers[te]=setTimeout(function(){_e._reloadTile(te,"expired"),delete _e._timers[te]},Ze))},Z.prototype._removeTile=function(te){var pe=this._tiles[te];pe&&(pe.uses--,delete this._tiles[te],this._timers[te]&&(clearTimeout(this._timers[te]),delete this._timers[te]),!(pe.uses>0)&&(pe.hasData()&&pe.state!=="reloading"?this._cache.add(pe.tileID,pe,pe.getExpiryTimeout()):(pe.aborted=!0,this._abortTile(pe),this._unloadTile(pe))))},Z.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var te in this._tiles)this._removeTile(te);this._cache.reset()},Z.prototype.tilesIn=function(te,pe,_e){var Ze=this,lt=[],wt=this.transform;if(!wt)return lt;for(var Ut=_e?wt.getCameraQueryGeometry(te):te,Qt=te.map(function(Jn){return wt.pointCoordinate(Jn)}),fr=Ut.map(function(Jn){return wt.pointCoordinate(Jn)}),xr=this.getIds(),_r=1/0,Vr=1/0,Wr=-1/0,Ur=-1/0,Qr=0,fn=fr;Qr<fn.length;Qr+=1){var Rn=fn[Qr];_r=Math.min(_r,Rn.x),Vr=Math.min(Vr,Rn.y),Wr=Math.max(Wr,Rn.x),Ur=Math.max(Ur,Rn.y)}for(var zn=function(Jn){var Kn=Ze._tiles[xr[Jn]];if(!Kn.holdingForFade()){var aa=Kn.tileID,ca=Math.pow(2,wt.zoom-Kn.tileID.overscaledZ),fa=pe*Kn.queryPadding*i.EXTENT/Kn.tileSize/ca,ga=[aa.getTilePoint(new i.MercatorCoordinate(_r,Vr)),aa.getTilePoint(new i.MercatorCoordinate(Wr,Ur))];if(ga[0].x-fa<i.EXTENT&&ga[0].y-fa<i.EXTENT&&ga[1].x+fa>=0&&ga[1].y+fa>=0){var Ta=Qt.map(function(Ha){return aa.getTilePoint(Ha)}),Ia=fr.map(function(Ha){return aa.getTilePoint(Ha)});lt.push({tile:Kn,tileID:aa,queryGeometry:Ta,cameraQueryGeometry:Ia,scale:ca})}}},Xn=0;Xn<xr.length;Xn++)zn(Xn);return lt},Z.prototype.getVisibleCoordinates=function(te){for(var pe=this,_e=this.getRenderableIds(te).map(function(Ut){return pe._tiles[Ut].tileID}),Ze=0,lt=_e;Ze<lt.length;Ze+=1){var wt=lt[Ze];wt.posMatrix=this.transform.calculatePosMatrix(wt.toUnwrapped())}return _e},Z.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Xt(this._source.type))for(var te in this._tiles){var pe=this._tiles[te];if(pe.fadeEndTime!==void 0&&pe.fadeEndTime>=i.browser.now())return!0}return!1},Z.prototype.setFeatureState=function(te,pe,_e){te=te||"_geojsonTileLayer",this._state.updateState(te,pe,_e)},Z.prototype.removeFeatureState=function(te,pe,_e){te=te||"_geojsonTileLayer",this._state.removeFeatureState(te,pe,_e)},Z.prototype.getFeatureState=function(te,pe){return te=te||"_geojsonTileLayer",this._state.getState(te,pe)},Z.prototype.setDependencies=function(te,pe,_e){var Ze=this._tiles[te];Ze&&Ze.setDependencies(pe,_e)},Z.prototype.reloadTilesForDependencies=function(te,pe){for(var _e in this._tiles){var Ze=this._tiles[_e];Ze.hasDependency(te,pe)&&this._reloadTile(_e,"reloading")}this._cache.filter(function(lt){return!lt.hasDependency(te,pe)})},Z}(i.Evented);Nt.maxOverzooming=10,Nt.maxUnderzooming=3;function Bt(he,Z){var de=Math.abs(he.wrap*2)-+(he.wrap<0),te=Math.abs(Z.wrap*2)-+(Z.wrap<0);return he.overscaledZ-Z.overscaledZ||te-de||Z.canonical.y-he.canonical.y||Z.canonical.x-he.canonical.x}function Xt(he){return he==="raster"||he==="image"||he==="video"}function lr(){return new i.window.Worker(Ep.workerUrl)}var sr="mapboxgl_preloaded_worker_pool",dr=function(){this.active={}};dr.prototype.acquire=function(Z){if(!this.workers)for(this.workers=[];this.workers.length<dr.workerCount;)this.workers.push(new lr);return this.active[Z]=!0,this.workers.slice()},dr.prototype.release=function(Z){delete this.active[Z],this.numActive()===0&&(this.workers.forEach(function(de){de.terminate()}),this.workers=null)},dr.prototype.isPreloaded=function(){return!!this.active[sr]},dr.prototype.numActive=function(){return Object.keys(this.active).length};var je=Math.floor(i.browser.hardwareConcurrency/2);dr.workerCount=Math.max(Math.min(je,6),1);var Ye;function It(){return Ye||(Ye=new dr),Ye}function kt(){var he=It();he.acquire(sr)}function Yt(){var he=Ye;he&&(he.isPreloaded()&&he.numActive()===1?(he.release(sr),Ye=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function tr(he,Z){var de={};for(var te in he)te!=="ref"&&(de[te]=he[te]);return i.refProperties.forEach(function(pe){pe in Z&&(de[pe]=Z[pe])}),de}function or(he){he=he.slice();for(var Z=Object.create(null),de=0;de<he.length;de++)Z[he[de].id]=he[de];for(var te=0;te<he.length;te++)"ref"in he[te]&&(he[te]=tr(he[te],Z[he[te].ref]));return he}function rr(){var he={},Z=i.styleSpec.$version;for(var de in i.styleSpec.$root){var te=i.styleSpec.$root[de];if(te.required){var pe=null;de==="version"?pe=Z:te.type==="array"?pe=[]:pe={},pe!=null&&(he[de]=pe)}}return he}var _t={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function hr(he,Z,de){de.push({command:_t.addSource,args:[he,Z[he]]})}function gr(he,Z,de){Z.push({command:_t.removeSource,args:[he]}),de[he]=!0}function pr(he,Z,de,te){gr(he,de,te),hr(he,Z,de)}function vr(he,Z,de){var te;for(te in he[de])if(he[de].hasOwnProperty(te)&&te!=="data"&&!i.deepEqual(he[de][te],Z[de][te]))return!1;for(te in Z[de])if(Z[de].hasOwnProperty(te)&&te!=="data"&&!i.deepEqual(he[de][te],Z[de][te]))return!1;return!0}function Hr(he,Z,de,te){he=he||{},Z=Z||{};var pe;for(pe in he)he.hasOwnProperty(pe)&&(Z.hasOwnProperty(pe)||gr(pe,de,te));for(pe in Z)Z.hasOwnProperty(pe)&&(he.hasOwnProperty(pe)?i.deepEqual(he[pe],Z[pe])||(he[pe].type==="geojson"&&Z[pe].type==="geojson"&&vr(he,Z,pe)?de.push({command:_t.setGeoJSONSourceData,args:[pe,Z[pe].data]}):pr(pe,Z,de,te)):hr(pe,Z,de))}function kr(he,Z,de,te,pe,_e){he=he||{},Z=Z||{};var Ze;for(Ze in he)he.hasOwnProperty(Ze)&&(i.deepEqual(he[Ze],Z[Ze])||de.push({command:_e,args:[te,Ze,Z[Ze],pe]}));for(Ze in Z)!Z.hasOwnProperty(Ze)||he.hasOwnProperty(Ze)||i.deepEqual(he[Ze],Z[Ze])||de.push({command:_e,args:[te,Ze,Z[Ze],pe]})}function Fr(he){return he.id}function pn(he,Z){return he[Z.id]=Z,he}function qr(he,Z,de){he=he||[],Z=Z||[];var te=he.map(Fr),pe=Z.map(Fr),_e=he.reduce(pn,{}),Ze=Z.reduce(pn,{}),lt=te.slice(),wt=Object.create(null),Ut,Qt,fr,xr,_r,Vr,Wr;for(Ut=0,Qt=0;Ut<te.length;Ut++)fr=te[Ut],Ze.hasOwnProperty(fr)?Qt++:(de.push({command:_t.removeLayer,args:[fr]}),lt.splice(lt.indexOf(fr,Qt),1));for(Ut=0,Qt=0;Ut<pe.length;Ut++)fr=pe[pe.length-1-Ut],lt[lt.length-1-Ut]!==fr&&(_e.hasOwnProperty(fr)?(de.push({command:_t.removeLayer,args:[fr]}),lt.splice(lt.lastIndexOf(fr,lt.length-Qt),1)):Qt++,Vr=lt[lt.length-Ut],de.push({command:_t.addLayer,args:[Ze[fr],Vr]}),lt.splice(lt.length-Ut,0,fr),wt[fr]=!0);for(Ut=0;Ut<pe.length;Ut++)if(fr=pe[Ut],xr=_e[fr],_r=Ze[fr],!(wt[fr]||i.deepEqual(xr,_r))){if(!i.deepEqual(xr.source,_r.source)||!i.deepEqual(xr["source-layer"],_r["source-layer"])||!i.deepEqual(xr.type,_r.type)){de.push({command:_t.removeLayer,args:[fr]}),Vr=lt[lt.lastIndexOf(fr)+1],de.push({command:_t.addLayer,args:[_r,Vr]});continue}kr(xr.layout,_r.layout,de,fr,null,_t.setLayoutProperty),kr(xr.paint,_r.paint,de,fr,null,_t.setPaintProperty),i.deepEqual(xr.filter,_r.filter)||de.push({command:_t.setFilter,args:[fr,_r.filter]}),(!i.deepEqual(xr.minzoom,_r.minzoom)||!i.deepEqual(xr.maxzoom,_r.maxzoom))&&de.push({command:_t.setLayerZoomRange,args:[fr,_r.minzoom,_r.maxzoom]});for(Wr in xr)xr.hasOwnProperty(Wr)&&(Wr==="layout"||Wr==="paint"||Wr==="filter"||Wr==="metadata"||Wr==="minzoom"||Wr==="maxzoom"||(Wr.indexOf("paint.")===0?kr(xr[Wr],_r[Wr],de,fr,Wr.slice(6),_t.setPaintProperty):i.deepEqual(xr[Wr],_r[Wr])||de.push({command:_t.setLayerProperty,args:[fr,Wr,_r[Wr]]})));for(Wr in _r)!_r.hasOwnProperty(Wr)||xr.hasOwnProperty(Wr)||Wr==="layout"||Wr==="paint"||Wr==="filter"||Wr==="metadata"||Wr==="minzoom"||Wr==="maxzoom"||(Wr.indexOf("paint.")===0?kr(xr[Wr],_r[Wr],de,fr,Wr.slice(6),_t.setPaintProperty):i.deepEqual(xr[Wr],_r[Wr])||de.push({command:_t.setLayerProperty,args:[fr,Wr,_r[Wr]]}))}}function On(he,Z){if(!he)return[{command:_t.setStyle,args:[Z]}];var de=[];try{if(!i.deepEqual(he.version,Z.version))return[{command:_t.setStyle,args:[Z]}];i.deepEqual(he.center,Z.center)||de.push({command:_t.setCenter,args:[Z.center]}),i.deepEqual(he.zoom,Z.zoom)||de.push({command:_t.setZoom,args:[Z.zoom]}),i.deepEqual(he.bearing,Z.bearing)||de.push({command:_t.setBearing,args:[Z.bearing]}),i.deepEqual(he.pitch,Z.pitch)||de.push({command:_t.setPitch,args:[Z.pitch]}),i.deepEqual(he.sprite,Z.sprite)||de.push({command:_t.setSprite,args:[Z.sprite]}),i.deepEqual(he.glyphs,Z.glyphs)||de.push({command:_t.setGlyphs,args:[Z.glyphs]}),i.deepEqual(he.transition,Z.transition)||de.push({command:_t.setTransition,args:[Z.transition]}),i.deepEqual(he.light,Z.light)||de.push({command:_t.setLight,args:[Z.light]});var te={},pe=[];Hr(he.sources,Z.sources,pe,te);var _e=[];he.layers&&he.layers.forEach(function(Ze){te[Ze.source]?de.push({command:_t.removeLayer,args:[Ze.id]}):_e.push(Ze)}),de=de.concat(pe),qr(_e,Z.layers,de)}catch(Ze){console.warn("Unable to compute style diff:",Ze),de=[{command:_t.setStyle,args:[Z]}]}return de}var Tn=function(Z,de){this.reset(Z,de)};Tn.prototype.reset=function(Z,de){this.points=Z||[],this._distances=[0];for(var te=1;te<this.points.length;te++)this._distances[te]=this._distances[te-1]+this.points[te].dist(this.points[te-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(de||0,this.length*.5),this.paddedLength=this.length-this.padding*2},Tn.prototype.lerp=function(Z){if(this.points.length===1)return this.points[0];Z=i.clamp(Z,0,1);for(var de=1,te=this._distances[de],pe=Z*this.paddedLength+this.padding;te<pe&&de<this._distances.length;)te=this._distances[++de];var _e=de-1,Ze=this._distances[_e],lt=te-Ze,wt=lt>0?(pe-Ze)/lt:0;return this.points[_e].mult(1-wt).add(this.points[de].mult(wt))};var Sr=function(Z,de,te){var pe=this.boxCells=[],_e=this.circleCells=[];this.xCellCount=Math.ceil(Z/te),this.yCellCount=Math.ceil(de/te);for(var Ze=0;Ze<this.xCellCount*this.yCellCount;Ze++)pe.push([]),_e.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=Z,this.height=de,this.xScale=this.xCellCount/Z,this.yScale=this.yCellCount/de,this.boxUid=0,this.circleUid=0};Sr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Sr.prototype.insert=function(Z,de,te,pe,_e){this._forEachCell(de,te,pe,_e,this._insertBoxCell,this.boxUid++),this.boxKeys.push(Z),this.bboxes.push(de),this.bboxes.push(te),this.bboxes.push(pe),this.bboxes.push(_e)},Sr.prototype.insertCircle=function(Z,de,te,pe){this._forEachCell(de-pe,te-pe,de+pe,te+pe,this._insertCircleCell,this.circleUid++),this.circleKeys.push(Z),this.circles.push(de),this.circles.push(te),this.circles.push(pe)},Sr.prototype._insertBoxCell=function(Z,de,te,pe,_e,Ze){this.boxCells[_e].push(Ze)},Sr.prototype._insertCircleCell=function(Z,de,te,pe,_e,Ze){this.circleCells[_e].push(Ze)},Sr.prototype._query=function(Z,de,te,pe,_e,Ze){if(te<0||Z>this.width||pe<0||de>this.height)return _e?!1:[];var lt=[];if(Z<=0&&de<=0&&this.width<=te&&this.height<=pe){if(_e)return!0;for(var wt=0;wt<this.boxKeys.length;wt++)lt.push({key:this.boxKeys[wt],x1:this.bboxes[wt*4],y1:this.bboxes[wt*4+1],x2:this.bboxes[wt*4+2],y2:this.bboxes[wt*4+3]});for(var Ut=0;Ut<this.circleKeys.length;Ut++){var Qt=this.circles[Ut*3],fr=this.circles[Ut*3+1],xr=this.circles[Ut*3+2];lt.push({key:this.circleKeys[Ut],x1:Qt-xr,y1:fr-xr,x2:Qt+xr,y2:fr+xr})}return Ze?lt.filter(Ze):lt}else{var _r={hitTest:_e,seenUids:{box:{},circle:{}}};return this._forEachCell(Z,de,te,pe,this._queryCell,lt,_r,Ze),_e?lt.length>0:lt}},Sr.prototype._queryCircle=function(Z,de,te,pe,_e){var Ze=Z-te,lt=Z+te,wt=de-te,Ut=de+te;if(lt<0||Ze>this.width||Ut<0||wt>this.height)return pe?!1:[];var Qt=[],fr={hitTest:pe,circle:{x:Z,y:de,radius:te},seenUids:{box:{},circle:{}}};return this._forEachCell(Ze,wt,lt,Ut,this._queryCellCircle,Qt,fr,_e),pe?Qt.length>0:Qt},Sr.prototype.query=function(Z,de,te,pe,_e){return this._query(Z,de,te,pe,!1,_e)},Sr.prototype.hitTest=function(Z,de,te,pe,_e){return this._query(Z,de,te,pe,!0,_e)},Sr.prototype.hitTestCircle=function(Z,de,te,pe){return this._queryCircle(Z,de,te,!0,pe)},Sr.prototype._queryCell=function(Z,de,te,pe,_e,Ze,lt,wt){var Ut=lt.seenUids,Qt=this.boxCells[_e];if(Qt!==null)for(var fr=this.bboxes,xr=0,_r=Qt;xr<_r.length;xr+=1){var Vr=_r[xr];if(!Ut.box[Vr]){Ut.box[Vr]=!0;var Wr=Vr*4;if(Z<=fr[Wr+2]&&de<=fr[Wr+3]&&te>=fr[Wr+0]&&pe>=fr[Wr+1]&&(!wt||wt(this.boxKeys[Vr]))){if(lt.hitTest)return Ze.push(!0),!0;Ze.push({key:this.boxKeys[Vr],x1:fr[Wr],y1:fr[Wr+1],x2:fr[Wr+2],y2:fr[Wr+3]})}}}var Ur=this.circleCells[_e];if(Ur!==null)for(var Qr=this.circles,fn=0,Rn=Ur;fn<Rn.length;fn+=1){var zn=Rn[fn];if(!Ut.circle[zn]){Ut.circle[zn]=!0;var Xn=zn*3;if(this._circleAndRectCollide(Qr[Xn],Qr[Xn+1],Qr[Xn+2],Z,de,te,pe)&&(!wt||wt(this.circleKeys[zn]))){if(lt.hitTest)return Ze.push(!0),!0;var Jn=Qr[Xn],Kn=Qr[Xn+1],aa=Qr[Xn+2];Ze.push({key:this.circleKeys[zn],x1:Jn-aa,y1:Kn-aa,x2:Jn+aa,y2:Kn+aa})}}}},Sr.prototype._queryCellCircle=function(Z,de,te,pe,_e,Ze,lt,wt){var Ut=lt.circle,Qt=lt.seenUids,fr=this.boxCells[_e];if(fr!==null)for(var xr=this.bboxes,_r=0,Vr=fr;_r<Vr.length;_r+=1){var Wr=Vr[_r];if(!Qt.box[Wr]){Qt.box[Wr]=!0;var Ur=Wr*4;if(this._circleAndRectCollide(Ut.x,Ut.y,Ut.radius,xr[Ur+0],xr[Ur+1],xr[Ur+2],xr[Ur+3])&&(!wt||wt(this.boxKeys[Wr])))return Ze.push(!0),!0}}var Qr=this.circleCells[_e];if(Qr!==null)for(var fn=this.circles,Rn=0,zn=Qr;Rn<zn.length;Rn+=1){var Xn=zn[Rn];if(!Qt.circle[Xn]){Qt.circle[Xn]=!0;var Jn=Xn*3;if(this._circlesCollide(fn[Jn],fn[Jn+1],fn[Jn+2],Ut.x,Ut.y,Ut.radius)&&(!wt||wt(this.circleKeys[Xn])))return Ze.push(!0),!0}}},Sr.prototype._forEachCell=function(Z,de,te,pe,_e,Ze,lt,wt){for(var Ut=this._convertToXCellCoord(Z),Qt=this._convertToYCellCoord(de),fr=this._convertToXCellCoord(te),xr=this._convertToYCellCoord(pe),_r=Ut;_r<=fr;_r++)for(var Vr=Qt;Vr<=xr;Vr++){var Wr=this.xCellCount*Vr+_r;if(_e.call(this,Z,de,te,pe,Wr,Ze,lt,wt))return}},Sr.prototype._convertToXCellCoord=function(Z){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(Z*this.xScale)))},Sr.prototype._convertToYCellCoord=function(Z){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(Z*this.yScale)))},Sr.prototype._circlesCollide=function(Z,de,te,pe,_e,Ze){var lt=pe-Z,wt=_e-de,Ut=te+Ze;return Ut*Ut>lt*lt+wt*wt},Sr.prototype._circleAndRectCollide=function(Z,de,te,pe,_e,Ze,lt){var wt=(Ze-pe)/2,Ut=Math.abs(Z-(pe+wt));if(Ut>wt+te)return!1;var Qt=(lt-_e)/2,fr=Math.abs(de-(_e+Qt));if(fr>Qt+te)return!1;if(Ut<=wt||fr<=Qt)return!0;var xr=Ut-wt,_r=fr-Qt;return xr*xr+_r*_r<=te*te};function Er(he,Z,de,te,pe){var _e=i.create();return Z?(i.scale(_e,_e,[1/pe,1/pe,1]),de||i.rotateZ(_e,_e,te.angle)):i.multiply(_e,te.labelPlaneMatrix,he),_e}function Gr(he,Z,de,te,pe){if(Z){var _e=i.clone(he);return i.scale(_e,_e,[pe,pe,1]),de||i.rotateZ(_e,_e,-te.angle),_e}else return te.glCoordMatrix}function Br(he,Z){var de=[he.x,he.y,0,1];Tr(de,de,Z);var te=de[3];return{point:new i.Point(de[0]/te,de[1]/te),signedDistanceFromCamera:te}}function nn(he,Z){return .5+.5*(he/Z)}function gn(he,Z){var de=he[0]/he[3],te=he[1]/he[3],pe=de>=-Z[0]&&de<=Z[0]&&te>=-Z[1]&&te<=Z[1];return pe}function mn(he,Z,de,te,pe,_e,Ze,lt){var wt=te?he.textSizeData:he.iconSizeData,Ut=i.evaluateSizeForZoom(wt,de.transform.zoom),Qt=[256/de.width*2+1,256/de.height*2+1],fr=te?he.text.dynamicLayoutVertexArray:he.icon.dynamicLayoutVertexArray;fr.clear();for(var xr=he.lineVertexArray,_r=te?he.text.placedSymbolArray:he.icon.placedSymbolArray,Vr=de.transform.width/de.transform.height,Wr=!1,Ur=0;Ur<_r.length;Ur++){var Qr=_r.get(Ur);if(Qr.hidden||Qr.writingMode===i.WritingMode.vertical&&!Wr){Qn(Qr.numGlyphs,fr);continue}Wr=!1;var fn=[Qr.anchorX,Qr.anchorY,0,1];if(i.transformMat4(fn,fn,Z),!gn(fn,Qt)){Qn(Qr.numGlyphs,fr);continue}var Rn=fn[3],zn=nn(de.transform.cameraToCenterDistance,Rn),Xn=i.evaluateSizeForFeature(wt,Ut,Qr),Jn=Ze?Xn/zn:Xn*zn,Kn=new i.Point(Qr.anchorX,Qr.anchorY),aa=Br(Kn,pe).point,ca={},fa=ia(Qr,Jn,!1,lt,Z,pe,_e,he.glyphOffsetArray,xr,fr,aa,Kn,ca,Vr);Wr=fa.useVertical,(fa.notEnoughRoom||Wr||fa.needsFlipping&&ia(Qr,Jn,!0,lt,Z,pe,_e,he.glyphOffsetArray,xr,fr,aa,Kn,ca,Vr).notEnoughRoom)&&Qn(Qr.numGlyphs,fr)}te?he.text.dynamicLayoutVertexBuffer.updateData(fr):he.icon.dynamicLayoutVertexBuffer.updateData(fr)}function Pn(he,Z,de,te,pe,_e,Ze,lt,wt,Ut,Qt){var fr=lt.glyphStartIndex+lt.numGlyphs,xr=lt.lineStartIndex,_r=lt.lineStartIndex+lt.lineLength,Vr=Z.getoffsetX(lt.glyphStartIndex),Wr=Z.getoffsetX(fr-1),Ur=$n(he*Vr,de,te,pe,_e,Ze,lt.segment,xr,_r,wt,Ut,Qt);if(!Ur)return null;var Qr=$n(he*Wr,de,te,pe,_e,Ze,lt.segment,xr,_r,wt,Ut,Qt);return Qr?{first:Ur,last:Qr}:null}function Fn(he,Z,de,te){if(he===i.WritingMode.horizontal){var pe=Math.abs(de.y-Z.y),_e=Math.abs(de.x-Z.x)*te;if(pe>_e)return{useVertical:!0}}return(he===i.WritingMode.vertical?Z.y<de.y:Z.x>de.x)?{needsFlipping:!0}:null}function ia(he,Z,de,te,pe,_e,Ze,lt,wt,Ut,Qt,fr,xr,_r){var Vr=Z/24,Wr=he.lineOffsetX*Vr,Ur=he.lineOffsetY*Vr,Qr;if(he.numGlyphs>1){var fn=he.glyphStartIndex+he.numGlyphs,Rn=he.lineStartIndex,zn=he.lineStartIndex+he.lineLength,Xn=Pn(Vr,lt,Wr,Ur,de,Qt,fr,he,wt,_e,xr);if(!Xn)return{notEnoughRoom:!0};var Jn=Br(Xn.first.point,Ze).point,Kn=Br(Xn.last.point,Ze).point;if(te&&!de){var aa=Fn(he.writingMode,Jn,Kn,_r);if(aa)return aa}Qr=[Xn.first];for(var ca=he.glyphStartIndex+1;ca<fn-1;ca++)Qr.push($n(Vr*lt.getoffsetX(ca),Wr,Ur,de,Qt,fr,he.segment,Rn,zn,wt,_e,xr));Qr.push(Xn.last)}else{if(te&&!de){var fa=Br(fr,pe).point,ga=he.lineStartIndex+he.segment+1,Ta=new i.Point(wt.getx(ga),wt.gety(ga)),Ia=Br(Ta,pe),Ha=Ia.signedDistanceFromCamera>0?Ia.point:jn(fr,Ta,fa,1,pe),oi=Fn(he.writingMode,fa,Ha,_r);if(oi)return oi}var Ga=$n(Vr*lt.getoffsetX(he.glyphStartIndex),Wr,Ur,de,Qt,fr,he.segment,he.lineStartIndex,he.lineStartIndex+he.lineLength,wt,_e,xr);if(!Ga)return{notEnoughRoom:!0};Qr=[Ga]}for(var Xa=0,Pa=Qr;Xa<Pa.length;Xa+=1){var si=Pa[Xa];i.addDynamicAttributes(Ut,si.point,si.angle)}return{}}function jn(he,Z,de,te,pe){var _e=Br(he.add(he.sub(Z)._unit()),pe).point,Ze=de.sub(_e);return de.add(Ze._mult(te/Ze.mag()))}function $n(he,Z,de,te,pe,_e,Ze,lt,wt,Ut,Qt,fr){var xr=te?he-Z:he+Z,_r=xr>0?1:-1,Vr=0;te&&(_r*=-1,Vr=Math.PI),_r<0&&(Vr+=Math.PI);for(var Wr=_r>0?lt+Ze:lt+Ze+1,Ur=pe,Qr=pe,fn=0,Rn=0,zn=Math.abs(xr),Xn=[];fn+Rn<=zn;){if(Wr+=_r,Wr<lt||Wr>=wt)return null;if(Qr=Ur,Xn.push(Ur),Ur=fr[Wr],Ur===void 0){var Jn=new i.Point(Ut.getx(Wr),Ut.gety(Wr)),Kn=Br(Jn,Qt);if(Kn.signedDistanceFromCamera>0)Ur=fr[Wr]=Kn.point;else{var aa=Wr-_r,ca=fn===0?_e:new i.Point(Ut.getx(aa),Ut.gety(aa));Ur=jn(ca,Jn,Qr,zn-fn+1,Qt)}}fn+=Rn,Rn=Qr.dist(Ur)}var fa=(zn-fn)/Rn,ga=Ur.sub(Qr),Ta=ga.mult(fa)._add(Qr);Ta._add(ga._unit()._perp()._mult(de*_r));var Ia=Vr+Math.atan2(Ur.y-Qr.y,Ur.x-Qr.x);return Xn.push(Ta),{point:Ta,angle:Ia,path:Xn}}var Wn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Qn(he,Z){for(var de=0;de<he;de++){var te=Z.length;Z.resize(te+4),Z.float32.set(Wn,te*3)}}function Tr(he,Z,de){var te=Z[0],pe=Z[1];return he[0]=de[0]*te+de[4]*pe+de[12],he[1]=de[1]*te+de[5]*pe+de[13],he[3]=de[3]*te+de[7]*pe+de[15],he}var sn=100,tn=function(Z,de,te){de===void 0&&(de=new Sr(Z.width+2*sn,Z.height+2*sn,25)),te===void 0&&(te=new Sr(Z.width+2*sn,Z.height+2*sn,25)),this.transform=Z,this.grid=de,this.ignoredGrid=te,this.pitchfactor=Math.cos(Z._pitch)*Z.cameraToCenterDistance,this.screenRightBoundary=Z.width+sn,this.screenBottomBoundary=Z.height+sn,this.gridRightBoundary=Z.width+2*sn,this.gridBottomBoundary=Z.height+2*sn};tn.prototype.placeCollisionBox=function(Z,de,te,pe,_e){var Ze=this.projectAndGetPerspectiveRatio(pe,Z.anchorPointX,Z.anchorPointY),lt=te*Ze.perspectiveRatio,wt=Z.x1*lt+Ze.point.x,Ut=Z.y1*lt+Ze.point.y,Qt=Z.x2*lt+Ze.point.x,fr=Z.y2*lt+Ze.point.y;return!this.isInsideGrid(wt,Ut,Qt,fr)||!de&&this.grid.hitTest(wt,Ut,Qt,fr,_e)?{box:[],offscreen:!1}:{box:[wt,Ut,Qt,fr],offscreen:this.isOffscreen(wt,Ut,Qt,fr)}},tn.prototype.placeCollisionCircles=function(Z,de,te,pe,_e,Ze,lt,wt,Ut,Qt,fr,xr,_r){var Vr=[],Wr=new i.Point(de.anchorX,de.anchorY),Ur=Br(Wr,Ze),Qr=nn(this.transform.cameraToCenterDistance,Ur.signedDistanceFromCamera),fn=Qt?_e/Qr:_e*Qr,Rn=fn/i.ONE_EM,zn=Br(Wr,lt).point,Xn={},Jn=de.lineOffsetX*Rn,Kn=de.lineOffsetY*Rn,aa=Pn(Rn,pe,Jn,Kn,!1,zn,Wr,de,te,lt,Xn),ca=!1,fa=!1,ga=!0;if(aa){for(var Ta=xr*.5*Qr+_r,Ia=new i.Point(-sn,-sn),Ha=new i.Point(this.screenRightBoundary,this.screenBottomBoundary),oi=new Tn,Ga=aa.first,Xa=aa.last,Pa=[],si=Ga.path.length-1;si>=1;si--)Pa.push(Ga.path[si]);for(var ci=1;ci<Xa.path.length;ci++)Pa.push(Xa.path[ci]);var vi=Ta*2.5;if(wt){var Ja=Pa.map(function(Yl){return Br(Yl,wt)});Ja.some(function(Yl){return Yl.signedDistanceFromCamera<=0})?Pa=[]:Pa=Ja.map(function(Yl){return Yl.point})}var Ai=[];if(Pa.length>0){for(var Va=Pa[0].clone(),$a=Pa[0].clone(),Hi=1;Hi<Pa.length;Hi++)Va.x=Math.min(Va.x,Pa[Hi].x),Va.y=Math.min(Va.y,Pa[Hi].y),$a.x=Math.max($a.x,Pa[Hi].x),$a.y=Math.max($a.y,Pa[Hi].y);Va.x>=Ia.x&&$a.x<=Ha.x&&Va.y>=Ia.y&&$a.y<=Ha.y?Ai=[Pa]:$a.x<Ia.x||Va.x>Ha.x||$a.y<Ia.y||Va.y>Ha.y?Ai=[]:Ai=i.clipLine([Pa],Ia.x,Ia.y,Ha.x,Ha.y)}for(var no=0,$s=Ai;no<$s.length;no+=1){var qs=$s[no];oi.reset(qs,Ta*.25);var Hl=0;oi.length<=.5*Ta?Hl=1:Hl=Math.ceil(oi.paddedLength/vi)+1;for(var Vl=0;Vl<Hl;Vl++){var xu=Vl/Math.max(Hl-1,1),Gl=oi.lerp(xu),ts=Gl.x+sn,$u=Gl.y+sn;Vr.push(ts,$u,Ta,0);var zo=ts-Ta,_s=$u-Ta,Wl=ts+Ta,wl=$u+Ta;if(ga=ga&&this.isOffscreen(zo,_s,Wl,wl),fa=fa||this.isInsideGrid(zo,_s,Wl,wl),!Z&&this.grid.hitTestCircle(ts,$u,Ta,fr)&&(ca=!0,!Ut))return{circles:[],offscreen:!1,collisionDetected:ca}}}}return{circles:!Ut&&ca||!fa?[]:Vr,offscreen:ga,collisionDetected:ca}},tn.prototype.queryRenderedSymbols=function(Z){if(Z.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var de=[],te=1/0,pe=1/0,_e=-1/0,Ze=-1/0,lt=0,wt=Z;lt<wt.length;lt+=1){var Ut=wt[lt],Qt=new i.Point(Ut.x+sn,Ut.y+sn);te=Math.min(te,Qt.x),pe=Math.min(pe,Qt.y),_e=Math.max(_e,Qt.x),Ze=Math.max(Ze,Qt.y),de.push(Qt)}for(var fr=this.grid.query(te,pe,_e,Ze).concat(this.ignoredGrid.query(te,pe,_e,Ze)),xr={},_r={},Vr=0,Wr=fr;Vr<Wr.length;Vr+=1){var Ur=Wr[Vr],Qr=Ur.key;if(xr[Qr.bucketInstanceId]===void 0&&(xr[Qr.bucketInstanceId]={}),!xr[Qr.bucketInstanceId][Qr.featureIndex]){var fn=[new i.Point(Ur.x1,Ur.y1),new i.Point(Ur.x2,Ur.y1),new i.Point(Ur.x2,Ur.y2),new i.Point(Ur.x1,Ur.y2)];i.polygonIntersectsPolygon(de,fn)&&(xr[Qr.bucketInstanceId][Qr.featureIndex]=!0,_r[Qr.bucketInstanceId]===void 0&&(_r[Qr.bucketInstanceId]=[]),_r[Qr.bucketInstanceId].push(Qr.featureIndex))}}return _r},tn.prototype.insertCollisionBox=function(Z,de,te,pe,_e){var Ze=de?this.ignoredGrid:this.grid,lt={bucketInstanceId:te,featureIndex:pe,collisionGroupID:_e};Ze.insert(lt,Z[0],Z[1],Z[2],Z[3])},tn.prototype.insertCollisionCircles=function(Z,de,te,pe,_e){for(var Ze=de?this.ignoredGrid:this.grid,lt={bucketInstanceId:te,featureIndex:pe,collisionGroupID:_e},wt=0;wt<Z.length;wt+=4)Ze.insertCircle(lt,Z[wt],Z[wt+1],Z[wt+2])},tn.prototype.projectAndGetPerspectiveRatio=function(Z,de,te){var pe=[de,te,0,1];Tr(pe,pe,Z);var _e=new i.Point((pe[0]/pe[3]+1)/2*this.transform.width+sn,(-pe[1]/pe[3]+1)/2*this.transform.height+sn);return{point:_e,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/pe[3])}},tn.prototype.isOffscreen=function(Z,de,te,pe){return te<sn||Z>=this.screenRightBoundary||pe<sn||de>this.screenBottomBoundary},tn.prototype.isInsideGrid=function(Z,de,te,pe){return te>=0&&Z<this.gridRightBoundary&&pe>=0&&de<this.gridBottomBoundary},tn.prototype.getViewportMatrix=function(){var Z=i.identity([]);return i.translate(Z,Z,[-sn,-sn,0]),Z};function yn(he,Z,de){return Z*(i.EXTENT/(he.tileSize*Math.pow(2,de-he.tileID.overscaledZ)))}var Hn=function(Z,de,te,pe){Z?this.opacity=Math.max(0,Math.min(1,Z.opacity+(Z.placed?de:-de))):this.opacity=pe&&te?1:0,this.placed=te};Hn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Sn=function(Z,de,te,pe,_e){this.text=new Hn(Z?Z.text:null,de,te,_e),this.icon=new Hn(Z?Z.icon:null,de,pe,_e)};Sn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var En=function(Z,de,te){this.text=Z,this.icon=de,this.skipFade=te},Nn=function(){this.invProjMatrix=i.create(),this.viewportMatrix=i.create(),this.circles=[]},ea=function(Z,de,te,pe,_e){this.bucketInstanceId=Z,this.featureIndex=de,this.sourceLayerIndex=te,this.bucketIndex=pe,this.tileID=_e},xa=function(Z){this.crossSourceCollisions=Z,this.maxGroupID=0,this.collisionGroups={}};xa.prototype.get=function(Z){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[Z]){var de=++this.maxGroupID;this.collisionGroups[Z]={ID:de,predicate:function(te){return te.collisionGroupID===de}}}return this.collisionGroups[Z]};function Wa(he,Z,de,te,pe){var _e=i.getAnchorAlignment(he),Ze=_e.horizontalAlign,lt=_e.verticalAlign,wt=-(Ze-.5)*Z,Ut=-(lt-.5)*de,Qt=i.evaluateVariableOffset(he,te);return new i.Point(wt+Qt[0]*pe,Ut+Qt[1]*pe)}function jt(he,Z,de,te,pe,_e){var Ze=he.x1,lt=he.x2,wt=he.y1,Ut=he.y2,Qt=he.anchorPointX,fr=he.anchorPointY,xr=new i.Point(Z,de);return te&&xr._rotate(pe?_e:-_e),{x1:Ze+xr.x,y1:wt+xr.y,x2:lt+xr.x,y2:Ut+xr.y,anchorPointX:Qt,anchorPointY:fr}}var wr=function(Z,de,te,pe){this.transform=Z.clone(),this.collisionIndex=new tn(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=de,this.retainedQueryData={},this.collisionGroups=new xa(te),this.collisionCircleArrays={},this.prevPlacement=pe,pe&&(pe.prevPlacement=void 0),this.placedOrientations={}};wr.prototype.getBucketParts=function(Z,de,te,pe){var _e=te.getBucket(de),Ze=te.latestFeatureIndex;if(!(!_e||!Ze||de.id!==_e.layerIds[0])){var lt=te.collisionBoxArray,wt=_e.layers[0].layout,Ut=Math.pow(2,this.transform.zoom-te.tileID.overscaledZ),Qt=te.tileSize/i.EXTENT,fr=this.transform.calculatePosMatrix(te.tileID.toUnwrapped()),xr=wt.get("text-pitch-alignment")==="map",_r=wt.get("text-rotation-alignment")==="map",Vr=yn(te,1,this.transform.zoom),Wr=Er(fr,xr,_r,this.transform,Vr),Ur=null;if(xr){var Qr=Gr(fr,xr,_r,this.transform,Vr);Ur=i.multiply([],this.transform.labelPlaneMatrix,Qr)}this.retainedQueryData[_e.bucketInstanceId]=new ea(_e.bucketInstanceId,Ze,_e.sourceLayerIndex,_e.index,te.tileID);var fn={bucket:_e,layout:wt,posMatrix:fr,textLabelPlaneMatrix:Wr,labelToScreenMatrix:Ur,scale:Ut,textPixelRatio:Qt,holdingForFade:te.holdingForFade(),collisionBoxArray:lt,partiallyEvaluatedTextSize:i.evaluateSizeForZoom(_e.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(_e.sourceID)};if(pe)for(var Rn=0,zn=_e.sortKeyRanges;Rn<zn.length;Rn+=1){var Xn=zn[Rn],Jn=Xn.sortKey,Kn=Xn.symbolInstanceStart,aa=Xn.symbolInstanceEnd;Z.push({sortKey:Jn,symbolInstanceStart:Kn,symbolInstanceEnd:aa,parameters:fn})}else Z.push({symbolInstanceStart:0,symbolInstanceEnd:_e.symbolInstances.length,parameters:fn})}},wr.prototype.attemptAnchorPlacement=function(Z,de,te,pe,_e,Ze,lt,wt,Ut,Qt,fr,xr,_r,Vr,Wr){var Ur=[xr.textOffset0,xr.textOffset1],Qr=Wa(Z,te,pe,Ur,_e),fn=this.collisionIndex.placeCollisionBox(jt(de,Qr.x,Qr.y,Ze,lt,this.transform.angle),fr,wt,Ut,Qt.predicate);if(Wr){var Rn=this.collisionIndex.placeCollisionBox(jt(Wr,Qr.x,Qr.y,Ze,lt,this.transform.angle),fr,wt,Ut,Qt.predicate);if(Rn.box.length===0)return}if(fn.box.length>0){var zn;return this.prevPlacement&&this.prevPlacement.variableOffsets[xr.crossTileID]&&this.prevPlacement.placements[xr.crossTileID]&&this.prevPlacement.placements[xr.crossTileID].text&&(zn=this.prevPlacement.variableOffsets[xr.crossTileID].anchor),this.variableOffsets[xr.crossTileID]={textOffset:Ur,width:te,height:pe,anchor:Z,textBoxScale:_e,prevAnchor:zn},this.markUsedJustification(_r,Z,xr,Vr),_r.allowVerticalPlacement&&(this.markUsedOrientation(_r,Vr,xr),this.placedOrientations[xr.crossTileID]=Vr),{shift:Qr,placedGlyphBoxes:fn}}},wr.prototype.placeLayerBucketPart=function(Z,de,te){var pe=this,_e=Z.parameters,Ze=_e.bucket,lt=_e.layout,wt=_e.posMatrix,Ut=_e.textLabelPlaneMatrix,Qt=_e.labelToScreenMatrix,fr=_e.textPixelRatio,xr=_e.holdingForFade,_r=_e.collisionBoxArray,Vr=_e.partiallyEvaluatedTextSize,Wr=_e.collisionGroup,Ur=lt.get("text-optional"),Qr=lt.get("icon-optional"),fn=lt.get("text-allow-overlap"),Rn=lt.get("icon-allow-overlap"),zn=lt.get("text-rotation-alignment")==="map",Xn=lt.get("text-pitch-alignment")==="map",Jn=lt.get("icon-text-fit")!=="none",Kn=lt.get("symbol-z-order")==="viewport-y",aa=fn&&(Rn||!Ze.hasIconData()||Qr),ca=Rn&&(fn||!Ze.hasTextData()||Ur);!Ze.collisionArrays&&_r&&Ze.deserializeCollisionBoxes(_r);var fa=function(Ga,Xa){if(!de[Ga.crossTileID]){if(xr){pe.placements[Ga.crossTileID]=new En(!1,!1,!1);return}var Pa=!1,si=!1,ci=!0,vi=null,Ja={box:null,offscreen:null},Ai={box:null,offscreen:null},Va=null,$a=null,Hi=null,no=0,$s=0,qs=0;Xa.textFeatureIndex?no=Xa.textFeatureIndex:Ga.useRuntimeCollisionCircles&&(no=Ga.featureIndex),Xa.verticalTextFeatureIndex&&($s=Xa.verticalTextFeatureIndex);var Hl=Xa.textBox;if(Hl){var Vl=function(Yi){var ys=i.WritingMode.horizontal;if(Ze.allowVerticalPlacement&&!Yi&&pe.prevPlacement){var ms=pe.prevPlacement.placedOrientations[Ga.crossTileID];ms&&(pe.placedOrientations[Ga.crossTileID]=ms,ys=ms,pe.markUsedOrientation(Ze,ys,Ga))}return ys},xu=function(Yi,ys){if(Ze.allowVerticalPlacement&&Ga.numVerticalGlyphVertices>0&&Xa.verticalTextBox)for(var ms=0,ev=Ze.writingModes;ms<ev.length;ms+=1){var sd=ev[ms];if(sd===i.WritingMode.vertical?(Ja=ys(),Ai=Ja):Ja=Yi(),Ja&&Ja.box&&Ja.box.length)break}else Ja=Yi()};if(lt.get("text-variable-anchor")){var zo=lt.get("text-variable-anchor");if(pe.prevPlacement&&pe.prevPlacement.variableOffsets[Ga.crossTileID]){var _s=pe.prevPlacement.variableOffsets[Ga.crossTileID];zo.indexOf(_s.anchor)>0&&(zo=zo.filter(function(Yi){return Yi!==_s.anchor}),zo.unshift(_s.anchor))}var Wl=function(Yi,ys,ms){for(var ev=Yi.x2-Yi.x1,sd=Yi.y2-Yi.y1,Lg=Ga.textBoxScale,Pg=Jn&&!Rn?ys:null,Mh={box:[],offscreen:!1},Rg=fn?zo.length*2:zo.length,tv=0;tv<Rg;++tv){var Dg=zo[tv%zo.length],Ig=tv>=zo.length,ld=pe.attemptAnchorPlacement(Dg,Yi,ev,sd,Lg,zn,Xn,fr,wt,Wr,Ig,Ga,Ze,ms,Pg);if(ld&&(Mh=ld.placedGlyphBoxes,Mh&&Mh.box&&Mh.box.length)){Pa=!0,vi=ld.shift;break}}return Mh},wl=function(){return Wl(Hl,Xa.iconBox,i.WritingMode.horizontal)},Yl=function(){var Yi=Xa.verticalTextBox,ys=Ja&&Ja.box&&Ja.box.length;return Ze.allowVerticalPlacement&&!ys&&Ga.numVerticalGlyphVertices>0&&Yi?Wl(Yi,Xa.verticalIconBox,i.WritingMode.vertical):{box:null,offscreen:null}};xu(wl,Yl),Ja&&(Pa=Ja.box,ci=Ja.offscreen);var Jh=Vl(Ja&&Ja.box);if(!Pa&&pe.prevPlacement){var If=pe.prevPlacement.variableOffsets[Ga.crossTileID];If&&(pe.variableOffsets[Ga.crossTileID]=If,pe.markUsedJustification(Ze,If.anchor,Ga,Jh))}}else{var Gl=function(Yi,ys){var ms=pe.collisionIndex.placeCollisionBox(Yi,fn,fr,wt,Wr.predicate);return ms&&ms.box&&ms.box.length&&(pe.markUsedOrientation(Ze,ys,Ga),pe.placedOrientations[Ga.crossTileID]=ys),ms},ts=function(){return Gl(Hl,i.WritingMode.horizontal)},$u=function(){var Yi=Xa.verticalTextBox;return Ze.allowVerticalPlacement&&Ga.numVerticalGlyphVertices>0&&Yi?Gl(Yi,i.WritingMode.vertical):{box:null,offscreen:null}};xu(ts,$u),Vl(Ja&&Ja.box&&Ja.box.length)}}if(Va=Ja,Pa=Va&&Va.box&&Va.box.length>0,ci=Va&&Va.offscreen,Ga.useRuntimeCollisionCircles){var Po=Ze.text.placedSymbolArray.get(Ga.centerJustifiedTextSymbolIndex),Th=i.evaluateSizeForFeature(Ze.textSizeData,Vr,Po),Go=lt.get("text-padding"),Ah=Ga.collisionCircleDiameter;$a=pe.collisionIndex.placeCollisionCircles(fn,Po,Ze.lineVertexArray,Ze.glyphOffsetArray,Th,wt,Ut,Qt,te,Xn,Wr.predicate,Ah,Go),Pa=fn||$a.circles.length>0&&!$a.collisionDetected,ci=ci&&$a.offscreen}if(Xa.iconFeatureIndex&&(qs=Xa.iconFeatureIndex),Xa.iconBox){var Qh=function(Yi){var ys=Jn&&vi?jt(Yi,vi.x,vi.y,zn,Xn,pe.transform.angle):Yi;return pe.collisionIndex.placeCollisionBox(ys,Rn,fr,wt,Wr.predicate)};Ai&&Ai.box&&Ai.box.length&&Xa.verticalIconBox?(Hi=Qh(Xa.verticalIconBox),si=Hi.box.length>0):(Hi=Qh(Xa.iconBox),si=Hi.box.length>0),ci=ci&&Hi.offscreen}var $h=Ur||Ga.numHorizontalGlyphVertices===0&&Ga.numVerticalGlyphVertices===0,Cp=Qr||Ga.numIconVertices===0;if(!$h&&!Cp?si=Pa=si&&Pa:Cp?$h||(si=si&&Pa):Pa=si&&Pa,Pa&&Va&&Va.box&&(Ai&&Ai.box&&$s?pe.collisionIndex.insertCollisionBox(Va.box,lt.get("text-ignore-placement"),Ze.bucketInstanceId,$s,Wr.ID):pe.collisionIndex.insertCollisionBox(Va.box,lt.get("text-ignore-placement"),Ze.bucketInstanceId,no,Wr.ID)),si&&Hi&&pe.collisionIndex.insertCollisionBox(Hi.box,lt.get("icon-ignore-placement"),Ze.bucketInstanceId,qs,Wr.ID),$a&&(Pa&&pe.collisionIndex.insertCollisionCircles($a.circles,lt.get("text-ignore-placement"),Ze.bucketInstanceId,no,Wr.ID),te)){var qh=Ze.bucketInstanceId,wc=pe.collisionCircleArrays[qh];wc===void 0&&(wc=pe.collisionCircleArrays[qh]=new Nn);for(var Tc=0;Tc<$a.circles.length;Tc+=4)wc.circles.push($a.circles[Tc+0]),wc.circles.push($a.circles[Tc+1]),wc.circles.push($a.circles[Tc+2]),wc.circles.push($a.collisionDetected?1:0)}pe.placements[Ga.crossTileID]=new En(Pa||aa,si||ca,ci||Ze.justReloaded),de[Ga.crossTileID]=!0}};if(Kn)for(var ga=Ze.getSortedSymbolIndexes(this.transform.angle),Ta=ga.length-1;Ta>=0;--Ta){var Ia=ga[Ta];fa(Ze.symbolInstances.get(Ia),Ze.collisionArrays[Ia])}else for(var Ha=Z.symbolInstanceStart;Ha<Z.symbolInstanceEnd;Ha++)fa(Ze.symbolInstances.get(Ha),Ze.collisionArrays[Ha]);if(te&&Ze.bucketInstanceId in this.collisionCircleArrays){var oi=this.collisionCircleArrays[Ze.bucketInstanceId];i.invert(oi.invProjMatrix,wt),oi.viewportMatrix=this.collisionIndex.getViewportMatrix()}Ze.justReloaded=!1},wr.prototype.markUsedJustification=function(Z,de,te,pe){var _e={left:te.leftJustifiedTextSymbolIndex,center:te.centerJustifiedTextSymbolIndex,right:te.rightJustifiedTextSymbolIndex},Ze;pe===i.WritingMode.vertical?Ze=te.verticalPlacedTextSymbolIndex:Ze=_e[i.getAnchorJustification(de)];for(var lt=[te.leftJustifiedTextSymbolIndex,te.centerJustifiedTextSymbolIndex,te.rightJustifiedTextSymbolIndex,te.verticalPlacedTextSymbolIndex],wt=0,Ut=lt;wt<Ut.length;wt+=1){var Qt=Ut[wt];Qt>=0&&(Ze>=0&&Qt!==Ze?Z.text.placedSymbolArray.get(Qt).crossTileID=0:Z.text.placedSymbolArray.get(Qt).crossTileID=te.crossTileID)}},wr.prototype.markUsedOrientation=function(Z,de,te){for(var pe=de===i.WritingMode.horizontal||de===i.WritingMode.horizontalOnly?de:0,_e=de===i.WritingMode.vertical?de:0,Ze=[te.leftJustifiedTextSymbolIndex,te.centerJustifiedTextSymbolIndex,te.rightJustifiedTextSymbolIndex],lt=0,wt=Ze;lt<wt.length;lt+=1){var Ut=wt[lt];Z.text.placedSymbolArray.get(Ut).placedOrientation=pe}te.verticalPlacedTextSymbolIndex&&(Z.text.placedSymbolArray.get(te.verticalPlacedTextSymbolIndex).placedOrientation=_e)},wr.prototype.commit=function(Z){this.commitTime=Z,this.zoomAtLastRecencyCheck=this.transform.zoom;var de=this.prevPlacement,te=!1;this.prevZoomAdjustment=de?de.zoomAdjustment(this.transform.zoom):0;var pe=de?de.symbolFadeChange(Z):1,_e=de?de.opacities:{},Ze=de?de.variableOffsets:{},lt=de?de.placedOrientations:{};for(var wt in this.placements){var Ut=this.placements[wt],Qt=_e[wt];Qt?(this.opacities[wt]=new Sn(Qt,pe,Ut.text,Ut.icon),te=te||Ut.text!==Qt.text.placed||Ut.icon!==Qt.icon.placed):(this.opacities[wt]=new Sn(null,pe,Ut.text,Ut.icon,Ut.skipFade),te=te||Ut.text||Ut.icon)}for(var fr in _e){var xr=_e[fr];if(!this.opacities[fr]){var _r=new Sn(xr,pe,!1,!1);_r.isHidden()||(this.opacities[fr]=_r,te=te||xr.text.placed||xr.icon.placed)}}for(var Vr in Ze)!this.variableOffsets[Vr]&&this.opacities[Vr]&&!this.opacities[Vr].isHidden()&&(this.variableOffsets[Vr]=Ze[Vr]);for(var Wr in lt)!this.placedOrientations[Wr]&&this.opacities[Wr]&&!this.opacities[Wr].isHidden()&&(this.placedOrientations[Wr]=lt[Wr]);te?this.lastPlacementChangeTime=Z:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=de?de.lastPlacementChangeTime:Z)},wr.prototype.updateLayerOpacities=function(Z,de){for(var te={},pe=0,_e=de;pe<_e.length;pe+=1){var Ze=_e[pe],lt=Ze.getBucket(Z);lt&&Ze.latestFeatureIndex&&Z.id===lt.layerIds[0]&&this.updateBucketOpacities(lt,te,Ze.collisionBoxArray)}},wr.prototype.updateBucketOpacities=function(Z,de,te){var pe=this;Z.hasTextData()&&Z.text.opacityVertexArray.clear(),Z.hasIconData()&&Z.icon.opacityVertexArray.clear(),Z.hasIconCollisionBoxData()&&Z.iconCollisionBox.collisionVertexArray.clear(),Z.hasTextCollisionBoxData()&&Z.textCollisionBox.collisionVertexArray.clear();var _e=Z.layers[0].layout,Ze=new Sn(null,0,!1,!1,!0),lt=_e.get("text-allow-overlap"),wt=_e.get("icon-allow-overlap"),Ut=_e.get("text-variable-anchor"),Qt=_e.get("text-rotation-alignment")==="map",fr=_e.get("text-pitch-alignment")==="map",xr=_e.get("icon-text-fit")!=="none",_r=new Sn(null,0,lt&&(wt||!Z.hasIconData()||_e.get("icon-optional")),wt&&(lt||!Z.hasTextData()||_e.get("text-optional")),!0);!Z.collisionArrays&&te&&(Z.hasIconCollisionBoxData()||Z.hasTextCollisionBoxData())&&Z.deserializeCollisionBoxes(te);for(var Vr=function(fn,Rn,zn){for(var Xn=0;Xn<Rn/4;Xn++)fn.opacityVertexArray.emplaceBack(zn)},Wr=function(fn){var Rn=Z.symbolInstances.get(fn),zn=Rn.numHorizontalGlyphVertices,Xn=Rn.numVerticalGlyphVertices,Jn=Rn.crossTileID,Kn=de[Jn],aa=pe.opacities[Jn];Kn?aa=Ze:aa||(aa=_r,pe.opacities[Jn]=aa),de[Jn]=!0;var ca=zn>0||Xn>0,fa=Rn.numIconVertices>0,ga=pe.placedOrientations[Rn.crossTileID],Ta=ga===i.WritingMode.vertical,Ia=ga===i.WritingMode.horizontal||ga===i.WritingMode.horizontalOnly;if(ca){var Ha=zr(aa.text),oi=Ta?dn:Ha;Vr(Z.text,zn,oi);var Ga=Ia?dn:Ha;Vr(Z.text,Xn,Ga);var Xa=aa.text.isHidden();[Rn.rightJustifiedTextSymbolIndex,Rn.centerJustifiedTextSymbolIndex,Rn.leftJustifiedTextSymbolIndex].forEach(function(qs){qs>=0&&(Z.text.placedSymbolArray.get(qs).hidden=Xa||Ta?1:0)}),Rn.verticalPlacedTextSymbolIndex>=0&&(Z.text.placedSymbolArray.get(Rn.verticalPlacedTextSymbolIndex).hidden=Xa||Ia?1:0);var Pa=pe.variableOffsets[Rn.crossTileID];Pa&&pe.markUsedJustification(Z,Pa.anchor,Rn,ga);var si=pe.placedOrientations[Rn.crossTileID];si&&(pe.markUsedJustification(Z,"left",Rn,si),pe.markUsedOrientation(Z,si,Rn))}if(fa){var ci=zr(aa.icon),vi=!(xr&&Rn.verticalPlacedIconSymbolIndex&&Ta);if(Rn.placedIconSymbolIndex>=0){var Ja=vi?ci:dn;Vr(Z.icon,Rn.numIconVertices,Ja),Z.icon.placedSymbolArray.get(Rn.placedIconSymbolIndex).hidden=aa.icon.isHidden()}if(Rn.verticalPlacedIconSymbolIndex>=0){var Ai=vi?dn:ci;Vr(Z.icon,Rn.numVerticalIconVertices,Ai),Z.icon.placedSymbolArray.get(Rn.verticalPlacedIconSymbolIndex).hidden=aa.icon.isHidden()}}if(Z.hasIconCollisionBoxData()||Z.hasTextCollisionBoxData()){var Va=Z.collisionArrays[fn];if(Va){var $a=new i.Point(0,0);if(Va.textBox||Va.verticalTextBox){var Hi=!0;if(Ut){var no=pe.variableOffsets[Jn];no?($a=Wa(no.anchor,no.width,no.height,no.textOffset,no.textBoxScale),Qt&&$a._rotate(fr?pe.transform.angle:-pe.transform.angle)):Hi=!1}Va.textBox&&en(Z.textCollisionBox.collisionVertexArray,aa.text.placed,!Hi||Ta,$a.x,$a.y),Va.verticalTextBox&&en(Z.textCollisionBox.collisionVertexArray,aa.text.placed,!Hi||Ia,$a.x,$a.y)}var $s=!!(!Ia&&Va.verticalIconBox);Va.iconBox&&en(Z.iconCollisionBox.collisionVertexArray,aa.icon.placed,$s,xr?$a.x:0,xr?$a.y:0),Va.verticalIconBox&&en(Z.iconCollisionBox.collisionVertexArray,aa.icon.placed,!$s,xr?$a.x:0,xr?$a.y:0)}}},Ur=0;Ur<Z.symbolInstances.length;Ur++)Wr(Ur);if(Z.sortFeatures(this.transform.angle),this.retainedQueryData[Z.bucketInstanceId]&&(this.retainedQueryData[Z.bucketInstanceId].featureSortOrder=Z.featureSortOrder),Z.hasTextData()&&Z.text.opacityVertexBuffer&&Z.text.opacityVertexBuffer.updateData(Z.text.opacityVertexArray),Z.hasIconData()&&Z.icon.opacityVertexBuffer&&Z.icon.opacityVertexBuffer.updateData(Z.icon.opacityVertexArray),Z.hasIconCollisionBoxData()&&Z.iconCollisionBox.collisionVertexBuffer&&Z.iconCollisionBox.collisionVertexBuffer.updateData(Z.iconCollisionBox.collisionVertexArray),Z.hasTextCollisionBoxData()&&Z.textCollisionBox.collisionVertexBuffer&&Z.textCollisionBox.collisionVertexBuffer.updateData(Z.textCollisionBox.collisionVertexArray),Z.bucketInstanceId in this.collisionCircleArrays){var Qr=this.collisionCircleArrays[Z.bucketInstanceId];Z.placementInvProjMatrix=Qr.invProjMatrix,Z.placementViewportMatrix=Qr.viewportMatrix,Z.collisionCircleArray=Qr.circles,delete this.collisionCircleArrays[Z.bucketInstanceId]}},wr.prototype.symbolFadeChange=function(Z){return this.fadeDuration===0?1:(Z-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},wr.prototype.zoomAdjustment=function(Z){return Math.max(0,(this.transform.zoom-Z)/1.5)},wr.prototype.hasTransitions=function(Z){return this.stale||Z-this.lastPlacementChangeTime<this.fadeDuration},wr.prototype.stillRecent=function(Z,de){var te=this.zoomAtLastRecencyCheck===de?1-this.zoomAdjustment(de):1;return this.zoomAtLastRecencyCheck=de,this.commitTime+this.fadeDuration*te>Z},wr.prototype.setStale=function(){this.stale=!0};function en(he,Z,de,te,pe){he.emplaceBack(Z?1:0,de?1:0,te||0,pe||0),he.emplaceBack(Z?1:0,de?1:0,te||0,pe||0),he.emplaceBack(Z?1:0,de?1:0,te||0,pe||0),he.emplaceBack(Z?1:0,de?1:0,te||0,pe||0)}var un=Math.pow(2,25),cn=Math.pow(2,24),Dn=Math.pow(2,17),Mn=Math.pow(2,16),vn=Math.pow(2,9),Dr=Math.pow(2,8),Lr=Math.pow(2,1);function zr(he){if(he.opacity===0&&!he.placed)return 0;if(he.opacity===1&&he.placed)return 4294967295;var Z=he.placed?1:0,de=Math.floor(he.opacity*127);return de*un+Z*cn+de*Dn+Z*Mn+de*vn+Z*Dr+de*Lr+Z}var dn=0,_n=function(Z){this._sortAcrossTiles=Z.layout.get("symbol-z-order")!=="viewport-y"&&Z.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};_n.prototype.continuePlacement=function(Z,de,te,pe,_e){for(var Ze=this._bucketParts;this._currentTileIndex<Z.length;){var lt=Z[this._currentTileIndex];if(de.getBucketParts(Ze,pe,lt,this._sortAcrossTiles),this._currentTileIndex++,_e())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Ze.sort(function(Ut,Qt){return Ut.sortKey-Qt.sortKey}));this._currentPartIndex<Ze.length;){var wt=Ze[this._currentPartIndex];if(de.placeLayerBucketPart(wt,this._seenCrossTileIDs,te),this._currentPartIndex++,_e())return!0}return!1};var Zn=function(Z,de,te,pe,_e,Ze,lt){this.placement=new wr(Z,_e,Ze,lt),this._currentPlacementIndex=de.length-1,this._forceFullPlacement=te,this._showCollisionBoxes=pe,this._done=!1};Zn.prototype.isDone=function(){return this._done},Zn.prototype.continuePlacement=function(Z,de,te){for(var pe=this,_e=i.browser.now(),Ze=function(){var fr=i.browser.now()-_e;return pe._forceFullPlacement?!1:fr>2};this._currentPlacementIndex>=0;){var lt=Z[this._currentPlacementIndex],wt=de[lt],Ut=this.placement.collisionIndex.transform.zoom;if(wt.type==="symbol"&&(!wt.minzoom||wt.minzoom<=Ut)&&(!wt.maxzoom||wt.maxzoom>Ut)){this._inProgressLayer||(this._inProgressLayer=new _n(wt));var Qt=this._inProgressLayer.continuePlacement(te[wt.source],this.placement,this._showCollisionBoxes,wt,Ze);if(Qt)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Zn.prototype.commit=function(Z){return this.placement.commit(Z),this.placement};var xn=512/i.EXTENT/2,Bn=function(Z,de,te){this.tileID=Z,this.indexedSymbolInstances={},this.bucketInstanceId=te;for(var pe=0;pe<de.length;pe++){var _e=de.get(pe),Ze=_e.key;this.indexedSymbolInstances[Ze]||(this.indexedSymbolInstances[Ze]=[]),this.indexedSymbolInstances[Ze].push({crossTileID:_e.crossTileID,coord:this.getScaledCoordinates(_e,Z)})}};Bn.prototype.getScaledCoordinates=function(Z,de){var te=de.canonical.z-this.tileID.canonical.z,pe=xn/Math.pow(2,te);return{x:Math.floor((de.canonical.x*i.EXTENT+Z.anchorX)*pe),y:Math.floor((de.canonical.y*i.EXTENT+Z.anchorY)*pe)}},Bn.prototype.findMatches=function(Z,de,te){for(var pe=this.tileID.canonical.z<de.canonical.z?1:Math.pow(2,this.tileID.canonical.z-de.canonical.z),_e=0;_e<Z.length;_e++){var Ze=Z.get(_e);if(!Ze.crossTileID){var lt=this.indexedSymbolInstances[Ze.key];if(lt)for(var wt=this.getScaledCoordinates(Ze,de),Ut=0,Qt=lt;Ut<Qt.length;Ut+=1){var fr=Qt[Ut];if(Math.abs(fr.coord.x-wt.x)<=pe&&Math.abs(fr.coord.y-wt.y)<=pe&&!te[fr.crossTileID]){te[fr.crossTileID]=!0,Ze.crossTileID=fr.crossTileID;break}}}}};var na=function(){this.maxCrossTileID=0};na.prototype.generate=function(){return++this.maxCrossTileID};var ua=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};ua.prototype.handleWrapJump=function(Z){var de=Math.round((Z-this.lng)/360);if(de!==0)for(var te in this.indexes){var pe=this.indexes[te],_e={};for(var Ze in pe){var lt=pe[Ze];lt.tileID=lt.tileID.unwrapTo(lt.tileID.wrap+de),_e[lt.tileID.key]=lt}this.indexes[te]=_e}this.lng=Z},ua.prototype.addBucket=function(Z,de,te){if(this.indexes[Z.overscaledZ]&&this.indexes[Z.overscaledZ][Z.key]){if(this.indexes[Z.overscaledZ][Z.key].bucketInstanceId===de.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(Z.overscaledZ,this.indexes[Z.overscaledZ][Z.key])}for(var pe=0;pe<de.symbolInstances.length;pe++){var _e=de.symbolInstances.get(pe);_e.crossTileID=0}this.usedCrossTileIDs[Z.overscaledZ]||(this.usedCrossTileIDs[Z.overscaledZ]={});var Ze=this.usedCrossTileIDs[Z.overscaledZ];for(var lt in this.indexes){var wt=this.indexes[lt];if(Number(lt)>Z.overscaledZ)for(var Ut in wt){var Qt=wt[Ut];Qt.tileID.isChildOf(Z)&&Qt.findMatches(de.symbolInstances,Z,Ze)}else{var fr=Z.scaledTo(Number(lt)),xr=wt[fr.key];xr&&xr.findMatches(de.symbolInstances,Z,Ze)}}for(var _r=0;_r<de.symbolInstances.length;_r++){var Vr=de.symbolInstances.get(_r);Vr.crossTileID||(Vr.crossTileID=te.generate(),Ze[Vr.crossTileID]=!0)}return this.indexes[Z.overscaledZ]===void 0&&(this.indexes[Z.overscaledZ]={}),this.indexes[Z.overscaledZ][Z.key]=new Bn(Z,de.symbolInstances,de.bucketInstanceId),!0},ua.prototype.removeBucketCrossTileIDs=function(Z,de){for(var te in de.indexedSymbolInstances)for(var pe=0,_e=de.indexedSymbolInstances[te];pe<_e.length;pe+=1){var Ze=_e[pe];delete this.usedCrossTileIDs[Z][Ze.crossTileID]}},ua.prototype.removeStaleBuckets=function(Z){var de=!1;for(var te in this.indexes){var pe=this.indexes[te];for(var _e in pe)Z[pe[_e].bucketInstanceId]||(this.removeBucketCrossTileIDs(te,pe[_e]),delete pe[_e],de=!0)}return de};var sa=function(){this.layerIndexes={},this.crossTileIDs=new na,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};sa.prototype.addLayer=function(Z,de,te){var pe=this.layerIndexes[Z.id];pe===void 0&&(pe=this.layerIndexes[Z.id]=new ua);var _e=!1,Ze={};pe.handleWrapJump(te);for(var lt=0,wt=de;lt<wt.length;lt+=1){var Ut=wt[lt],Qt=Ut.getBucket(Z);!Qt||Z.id!==Qt.layerIds[0]||(Qt.bucketInstanceId||(Qt.bucketInstanceId=++this.maxBucketInstanceId),pe.addBucket(Ut.tileID,Qt,this.crossTileIDs)&&(_e=!0),Ze[Qt.bucketInstanceId]=!0)}return pe.removeStaleBuckets(Ze)&&(_e=!0),_e},sa.prototype.pruneUnusedLayers=function(Z){var de={};Z.forEach(function(pe){de[pe]=!0});for(var te in this.layerIndexes)de[te]||delete this.layerIndexes[te]};var la=function(he,Z){return i.emitValidationErrors(he,Z&&Z.filter(function(de){return de.identifier!=="source.canvas"}))},pa=i.pick(_t,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Ki=i.pick(_t,["setCenter","setZoom","setBearing","setPitch"]),co=rr(),yo=function(he){function Z(de,te){var pe=this;te===void 0&&(te={}),he.call(this),this.map=de,this.dispatcher=new I(It(),this),this.imageManager=new w,this.imageManager.setEventedParent(this),this.glyphManager=new S(de._requestManager,te.localIdeographFontFamily),this.lineAtlas=new z(256,512),this.crossTileSymbolIndex=new sa,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new i.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",i.getReferrer());var _e=this;this._rtlTextPluginCallback=Z.registerForPluginStateChange(function(Ze){var lt={pluginStatus:Ze.pluginStatus,pluginURL:Ze.pluginURL};_e.dispatcher.broadcast("syncRTLPluginState",lt,function(wt,Ut){if(i.triggerPluginCompletionEvent(wt),Ut){var Qt=Ut.every(function(xr){return xr});if(Qt)for(var fr in _e.sourceCaches)_e.sourceCaches[fr].reload()}})}),this.on("data",function(Ze){if(!(Ze.dataType!=="source"||Ze.sourceDataType!=="metadata")){var lt=pe.sourceCaches[Ze.sourceId];if(lt){var wt=lt.getSource();if(!(!wt||!wt.vectorLayerIds))for(var Ut in pe._layers){var Qt=pe._layers[Ut];Qt.source===wt.id&&pe._validateLayer(Qt)}}}})}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.loadURL=function(te,pe){var _e=this;pe===void 0&&(pe={}),this.fire(new i.Event("dataloading",{dataType:"style"}));var Ze=typeof pe.validate=="boolean"?pe.validate:!i.isMapboxURL(te);te=this.map._requestManager.normalizeStyleURL(te,pe.accessToken);var lt=this.map._requestManager.transformRequest(te,i.ResourceType.Style);this._request=i.getJSON(lt,function(wt,Ut){_e._request=null,wt?_e.fire(new i.ErrorEvent(wt)):Ut&&_e._load(Ut,Ze)})},Z.prototype.loadJSON=function(te,pe){var _e=this;pe===void 0&&(pe={}),this.fire(new i.Event("dataloading",{dataType:"style"})),this._request=i.browser.frame(function(){_e._request=null,_e._load(te,pe.validate!==!1)})},Z.prototype.loadEmpty=function(){this.fire(new i.Event("dataloading",{dataType:"style"})),this._load(co,!1)},Z.prototype._load=function(te,pe){if(!(pe&&la(this,i.validateStyle(te)))){this._loaded=!0,this.stylesheet=te;for(var _e in te.sources)this.addSource(_e,te.sources[_e],{validate:!1});te.sprite?this._loadSprite(te.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(te.glyphs);var Ze=or(this.stylesheet.layers);this._order=Ze.map(function(Qt){return Qt.id}),this._layers={},this._serializedLayers={};for(var lt=0,wt=Ze;lt<wt.length;lt+=1){var Ut=wt[lt];Ut=i.createStyleLayer(Ut),Ut.setEventedParent(this,{layer:{id:Ut.id}}),this._layers[Ut.id]=Ut,this._serializedLayers[Ut.id]=Ut.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new y(this.stylesheet.light),this.fire(new i.Event("data",{dataType:"style"})),this.fire(new i.Event("style.load"))}},Z.prototype._loadSprite=function(te){var pe=this;this._spriteRequest=u(te,this.map._requestManager,function(_e,Ze){if(pe._spriteRequest=null,_e)pe.fire(new i.ErrorEvent(_e));else if(Ze)for(var lt in Ze)pe.imageManager.addImage(lt,Ze[lt]);pe.imageManager.setLoaded(!0),pe._availableImages=pe.imageManager.listImages(),pe.dispatcher.broadcast("setImages",pe._availableImages),pe.fire(new i.Event("data",{dataType:"style"}))})},Z.prototype._validateLayer=function(te){var pe=this.sourceCaches[te.source];if(pe){var _e=te.sourceLayer;if(_e){var Ze=pe.getSource();(Ze.type==="geojson"||Ze.vectorLayerIds&&Ze.vectorLayerIds.indexOf(_e)===-1)&&this.fire(new i.ErrorEvent(new Error('Source layer "'+_e+'" does not exist on source "'+Ze.id+'" as specified by style layer "'+te.id+'"')))}}},Z.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var te in this.sourceCaches)if(!this.sourceCaches[te].loaded())return!1;return!!this.imageManager.isLoaded()},Z.prototype._serializeLayers=function(te){for(var pe=[],_e=0,Ze=te;_e<Ze.length;_e+=1){var lt=Ze[_e],wt=this._layers[lt];wt.type!=="custom"&&pe.push(wt.serialize())}return pe},Z.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var te in this.sourceCaches)if(this.sourceCaches[te].hasTransition())return!0;for(var pe in this._layers)if(this._layers[pe].hasTransition())return!0;return!1},Z.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},Z.prototype.update=function(te){if(this._loaded){var pe=this._changed;if(this._changed){var _e=Object.keys(this._updatedLayers),Ze=Object.keys(this._removedLayers);(_e.length||Ze.length)&&this._updateWorkerLayers(_e,Ze);for(var lt in this._updatedSources){var wt=this._updatedSources[lt];wt==="reload"?this._reloadSource(lt):wt==="clear"&&this._clearSource(lt)}this._updateTilesForChangedImages();for(var Ut in this._updatedPaintProps)this._layers[Ut].updateTransitions(te);this.light.updateTransitions(te),this._resetUpdates()}for(var Qt in this.sourceCaches)this.sourceCaches[Qt].used=!1;for(var fr=0,xr=this._order;fr<xr.length;fr+=1){var _r=xr[fr],Vr=this._layers[_r];Vr.recalculate(te,this._availableImages),!Vr.isHidden(te.zoom)&&Vr.source&&(this.sourceCaches[Vr.source].used=!0)}this.light.recalculate(te),this.z=te.zoom,pe&&this.fire(new i.Event("data",{dataType:"style"}))}},Z.prototype._updateTilesForChangedImages=function(){var te=Object.keys(this._changedImages);if(te.length){for(var pe in this.sourceCaches)this.sourceCaches[pe].reloadTilesForDependencies(["icons","patterns"],te);this._changedImages={}}},Z.prototype._updateWorkerLayers=function(te,pe){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(te),removedIds:pe})},Z.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},Z.prototype.setState=function(te){var pe=this;if(this._checkLoaded(),la(this,i.validateStyle(te)))return!1;te=i.clone$1(te),te.layers=or(te.layers);var _e=On(this.serialize(),te).filter(function(lt){return!(lt.command in Ki)});if(_e.length===0)return!1;var Ze=_e.filter(function(lt){return!(lt.command in pa)});if(Ze.length>0)throw new Error("Unimplemented: "+Ze.map(function(lt){return lt.command}).join(", ")+".");return _e.forEach(function(lt){lt.command!=="setTransition"&&pe[lt.command].apply(pe,lt.args)}),this.stylesheet=te,!0},Z.prototype.addImage=function(te,pe){if(this.getImage(te))return this.fire(new i.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(te,pe),this._availableImages=this.imageManager.listImages(),this._changedImages[te]=!0,this._changed=!0,this.fire(new i.Event("data",{dataType:"style"}))},Z.prototype.updateImage=function(te,pe){this.imageManager.updateImage(te,pe)},Z.prototype.getImage=function(te){return this.imageManager.getImage(te)},Z.prototype.removeImage=function(te){if(!this.getImage(te))return this.fire(new i.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(te),this._availableImages=this.imageManager.listImages(),this._changedImages[te]=!0,this._changed=!0,this.fire(new i.Event("data",{dataType:"style"}))},Z.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},Z.prototype.addSource=function(te,pe,_e){var Ze=this;if(_e===void 0&&(_e={}),this._checkLoaded(),this.sourceCaches[te]!==void 0)throw new Error("There is already a source with this ID");if(!pe.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(pe).join(", ")+".");var lt=["vector","raster","geojson","video","image"],wt=lt.indexOf(pe.type)>=0;if(!(wt&&this._validate(i.validateStyle.source,"sources."+te,pe,null,_e))){this.map&&this.map._collectResourceTiming&&(pe.collectResourceTiming=!0);var Ut=this.sourceCaches[te]=new Nt(te,pe,this.dispatcher);Ut.style=this,Ut.setEventedParent(this,function(){return{isSourceLoaded:Ze.loaded(),source:Ut.serialize(),sourceId:te}}),Ut.onAdd(this.map),this._changed=!0}},Z.prototype.removeSource=function(te){if(this._checkLoaded(),this.sourceCaches[te]===void 0)throw new Error("There is no source with this ID");for(var pe in this._layers)if(this._layers[pe].source===te)return this.fire(new i.ErrorEvent(new Error('Source "'+te+'" cannot be removed while layer "'+pe+'" is using it.')));var _e=this.sourceCaches[te];delete this.sourceCaches[te],delete this._updatedSources[te],_e.fire(new i.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:te})),_e.setEventedParent(null),_e.clearTiles(),_e.onRemove&&_e.onRemove(this.map),this._changed=!0},Z.prototype.setGeoJSONSourceData=function(te,pe){this._checkLoaded();var _e=this.sourceCaches[te].getSource();_e.setData(pe),this._changed=!0},Z.prototype.getSource=function(te){return this.sourceCaches[te]&&this.sourceCaches[te].getSource()},Z.prototype.addLayer=function(te,pe,_e){_e===void 0&&(_e={}),this._checkLoaded();var Ze=te.id;if(this.getLayer(Ze)){this.fire(new i.ErrorEvent(new Error('Layer with id "'+Ze+'" already exists on this map')));return}var lt;if(te.type==="custom"){if(la(this,i.validateCustomStyleLayer(te)))return;lt=i.createStyleLayer(te)}else{if(typeof te.source=="object"&&(this.addSource(Ze,te.source),te=i.clone$1(te),te=i.extend(te,{source:Ze})),this._validate(i.validateStyle.layer,"layers."+Ze,te,{arrayIndex:-1},_e))return;lt=i.createStyleLayer(te),this._validateLayer(lt),lt.setEventedParent(this,{layer:{id:Ze}}),this._serializedLayers[lt.id]=lt.serialize()}var wt=pe?this._order.indexOf(pe):this._order.length;if(pe&&wt===-1){this.fire(new i.ErrorEvent(new Error('Layer with id "'+pe+'" does not exist on this map.')));return}if(this._order.splice(wt,0,Ze),this._layerOrderChanged=!0,this._layers[Ze]=lt,this._removedLayers[Ze]&&lt.source&&lt.type!=="custom"){var Ut=this._removedLayers[Ze];delete this._removedLayers[Ze],Ut.type!==lt.type?this._updatedSources[lt.source]="clear":(this._updatedSources[lt.source]="reload",this.sourceCaches[lt.source].pause())}this._updateLayer(lt),lt.onAdd&&lt.onAdd(this.map)},Z.prototype.moveLayer=function(te,pe){this._checkLoaded(),this._changed=!0;var _e=this._layers[te];if(!_e){this.fire(new i.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be moved.")));return}if(te!==pe){var Ze=this._order.indexOf(te);this._order.splice(Ze,1);var lt=pe?this._order.indexOf(pe):this._order.length;if(pe&&lt===-1){this.fire(new i.ErrorEvent(new Error('Layer with id "'+pe+'" does not exist on this map.')));return}this._order.splice(lt,0,te),this._layerOrderChanged=!0}},Z.prototype.removeLayer=function(te){this._checkLoaded();var pe=this._layers[te];if(!pe){this.fire(new i.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be removed.")));return}pe.setEventedParent(null);var _e=this._order.indexOf(te);this._order.splice(_e,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[te]=pe,delete this._layers[te],delete this._serializedLayers[te],delete this._updatedLayers[te],delete this._updatedPaintProps[te],pe.onRemove&&pe.onRemove(this.map)},Z.prototype.getLayer=function(te){return this._layers[te]},Z.prototype.hasLayer=function(te){return te in this._layers},Z.prototype.setLayerZoomRange=function(te,pe,_e){this._checkLoaded();var Ze=this.getLayer(te);if(!Ze){this.fire(new i.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot have zoom extent.")));return}Ze.minzoom===pe&&Ze.maxzoom===_e||(pe!=null&&(Ze.minzoom=pe),_e!=null&&(Ze.maxzoom=_e),this._updateLayer(Ze))},Z.prototype.setFilter=function(te,pe,_e){_e===void 0&&(_e={}),this._checkLoaded();var Ze=this.getLayer(te);if(!Ze){this.fire(new i.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be filtered.")));return}if(!i.deepEqual(Ze.filter,pe)){if(pe==null){Ze.filter=void 0,this._updateLayer(Ze);return}this._validate(i.validateStyle.filter,"layers."+Ze.id+".filter",pe,null,_e)||(Ze.filter=i.clone$1(pe),this._updateLayer(Ze))}},Z.prototype.getFilter=function(te){return i.clone$1(this.getLayer(te).filter)},Z.prototype.setLayoutProperty=function(te,pe,_e,Ze){Ze===void 0&&(Ze={}),this._checkLoaded();var lt=this.getLayer(te);if(!lt){this.fire(new i.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be styled.")));return}i.deepEqual(lt.getLayoutProperty(pe),_e)||(lt.setLayoutProperty(pe,_e,Ze),this._updateLayer(lt))},Z.prototype.getLayoutProperty=function(te,pe){var _e=this.getLayer(te);if(!_e){this.fire(new i.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style.")));return}return _e.getLayoutProperty(pe)},Z.prototype.setPaintProperty=function(te,pe,_e,Ze){Ze===void 0&&(Ze={}),this._checkLoaded();var lt=this.getLayer(te);if(!lt){this.fire(new i.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be styled.")));return}if(!i.deepEqual(lt.getPaintProperty(pe),_e)){var wt=lt.setPaintProperty(pe,_e,Ze);wt&&this._updateLayer(lt),this._changed=!0,this._updatedPaintProps[te]=!0}},Z.prototype.getPaintProperty=function(te,pe){return this.getLayer(te).getPaintProperty(pe)},Z.prototype.setFeatureState=function(te,pe){this._checkLoaded();var _e=te.source,Ze=te.sourceLayer,lt=this.sourceCaches[_e];if(lt===void 0){this.fire(new i.ErrorEvent(new Error("The source '"+_e+"' does not exist in the map's style.")));return}var wt=lt.getSource().type;if(wt==="geojson"&&Ze){this.fire(new i.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(wt==="vector"&&!Ze){this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}te.id===void 0&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),lt.setFeatureState(Ze,te.id,pe)},Z.prototype.removeFeatureState=function(te,pe){this._checkLoaded();var _e=te.source,Ze=this.sourceCaches[_e];if(Ze===void 0){this.fire(new i.ErrorEvent(new Error("The source '"+_e+"' does not exist in the map's style.")));return}var lt=Ze.getSource().type,wt=lt==="vector"?te.sourceLayer:void 0;if(lt==="vector"&&!wt){this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(pe&&typeof te.id!="string"&&typeof te.id!="number"){this.fire(new i.ErrorEvent(new Error("A feature id is requred to remove its specific state property.")));return}Ze.removeFeatureState(wt,te.id,pe)},Z.prototype.getFeatureState=function(te){this._checkLoaded();var pe=te.source,_e=te.sourceLayer,Ze=this.sourceCaches[pe];if(Ze===void 0){this.fire(new i.ErrorEvent(new Error("The source '"+pe+"' does not exist in the map's style.")));return}var lt=Ze.getSource().type;if(lt==="vector"&&!_e){this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return te.id===void 0&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),Ze.getFeatureState(_e,te.id)},Z.prototype.getTransition=function(){return i.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},Z.prototype.serialize=function(){return i.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:i.mapObject(this.sourceCaches,function(te){return te.serialize()}),layers:this._serializeLayers(this._order)},function(te){return te!==void 0})},Z.prototype._updateLayer=function(te){this._updatedLayers[te.id]=!0,te.source&&!this._updatedSources[te.source]&&this.sourceCaches[te.source].getSource().type!=="raster"&&(this._updatedSources[te.source]="reload",this.sourceCaches[te.source].pause()),this._changed=!0},Z.prototype._flattenAndSortRenderedFeatures=function(te){for(var pe=this,_e=function(Ia){return pe._layers[Ia].type==="fill-extrusion"},Ze={},lt=[],wt=this._order.length-1;wt>=0;wt--){var Ut=this._order[wt];if(_e(Ut)){Ze[Ut]=wt;for(var Qt=0,fr=te;Qt<fr.length;Qt+=1){var xr=fr[Qt],_r=xr[Ut];if(_r)for(var Vr=0,Wr=_r;Vr<Wr.length;Vr+=1){var Ur=Wr[Vr];lt.push(Ur)}}}}lt.sort(function(Ia,Ha){return Ha.intersectionZ-Ia.intersectionZ});for(var Qr=[],fn=this._order.length-1;fn>=0;fn--){var Rn=this._order[fn];if(_e(Rn))for(var zn=lt.length-1;zn>=0;zn--){var Xn=lt[zn].feature;if(Ze[Xn.layer.id]<fn)break;Qr.push(Xn),lt.pop()}else for(var Jn=0,Kn=te;Jn<Kn.length;Jn+=1){var aa=Kn[Jn],ca=aa[Rn];if(ca)for(var fa=0,ga=ca;fa<ga.length;fa+=1){var Ta=ga[fa];Qr.push(Ta.feature)}}}return Qr},Z.prototype.queryRenderedFeatures=function(te,pe,_e){pe&&pe.filter&&this._validate(i.validateStyle.filter,"queryRenderedFeatures.filter",pe.filter,null,pe);var Ze={};if(pe&&pe.layers){if(!Array.isArray(pe.layers))return this.fire(new i.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var lt=0,wt=pe.layers;lt<wt.length;lt+=1){var Ut=wt[lt],Qt=this._layers[Ut];if(!Qt)return this.fire(new i.ErrorEvent(new Error("The layer '"+Ut+"' does not exist in the map's style and cannot be queried for features."))),[];Ze[Qt.source]=!0}}var fr=[];pe.availableImages=this._availableImages;for(var xr in this.sourceCaches)pe.layers&&!Ze[xr]||fr.push(q(this.sourceCaches[xr],this._layers,this._serializedLayers,te,pe,_e));return this.placement&&fr.push($(this._layers,this._serializedLayers,this.sourceCaches,te,pe,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(fr)},Z.prototype.querySourceFeatures=function(te,pe){pe&&pe.filter&&this._validate(i.validateStyle.filter,"querySourceFeatures.filter",pe.filter,null,pe);var _e=this.sourceCaches[te];return _e?le(_e,pe):[]},Z.prototype.addSourceType=function(te,pe,_e){if(Z.getSourceType(te))return _e(new Error('A source type called "'+te+'" already exists.'));if(Z.setSourceType(te,pe),!pe.workerSourceURL)return _e(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:te,url:pe.workerSourceURL},_e)},Z.prototype.getLight=function(){return this.light.getLight()},Z.prototype.setLight=function(te,pe){pe===void 0&&(pe={}),this._checkLoaded();var _e=this.light.getLight(),Ze=!1;for(var lt in te)if(!i.deepEqual(te[lt],_e[lt])){Ze=!0;break}if(Ze){var wt={now:i.browser.now(),transition:i.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(te,pe),this.light.updateTransitions(wt)}},Z.prototype._validate=function(te,pe,_e,Ze,lt){return lt===void 0&&(lt={}),lt&&lt.validate===!1?!1:la(this,te.call(i.validateStyle,i.extend({key:pe,style:this.serialize(),value:_e,styleSpec:i.styleSpec},Ze)))},Z.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),i.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var te in this._layers){var pe=this._layers[te];pe.setEventedParent(null)}for(var _e in this.sourceCaches)this.sourceCaches[_e].clearTiles(),this.sourceCaches[_e].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},Z.prototype._clearSource=function(te){this.sourceCaches[te].clearTiles()},Z.prototype._reloadSource=function(te){this.sourceCaches[te].resume(),this.sourceCaches[te].reload()},Z.prototype._updateSources=function(te){for(var pe in this.sourceCaches)this.sourceCaches[pe].update(te)},Z.prototype._generateCollisionBoxes=function(){for(var te in this.sourceCaches)this._reloadSource(te)},Z.prototype._updatePlacement=function(te,pe,_e,Ze,lt){lt===void 0&&(lt=!1);for(var wt=!1,Ut=!1,Qt={},fr=0,xr=this._order;fr<xr.length;fr+=1){var _r=xr[fr],Vr=this._layers[_r];if(Vr.type==="symbol"){if(!Qt[Vr.source]){var Wr=this.sourceCaches[Vr.source];Qt[Vr.source]=Wr.getRenderableIds(!0).map(function(Jn){return Wr.getTileByID(Jn)}).sort(function(Jn,Kn){return Kn.tileID.overscaledZ-Jn.tileID.overscaledZ||(Jn.tileID.isLessThan(Kn.tileID)?-1:1)})}var Ur=this.crossTileSymbolIndex.addLayer(Vr,Qt[Vr.source],te.center.lng);wt=wt||Ur}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),lt=lt||this._layerOrderChanged||_e===0,(lt||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(i.browser.now(),te.zoom))&&(this.pauseablePlacement=new Zn(te,this._order,lt,pe,_e,Ze,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Qt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(i.browser.now()),Ut=!0),wt&&this.pauseablePlacement.placement.setStale()),Ut||wt)for(var Qr=0,fn=this._order;Qr<fn.length;Qr+=1){var Rn=fn[Qr],zn=this._layers[Rn];zn.type==="symbol"&&this.placement.updateLayerOpacities(zn,Qt[zn.source])}var Xn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(i.browser.now());return Xn},Z.prototype._releaseSymbolFadeTiles=function(){for(var te in this.sourceCaches)this.sourceCaches[te].releaseSymbolFadeTiles()},Z.prototype.getImages=function(te,pe,_e){this.imageManager.getImages(pe.icons,_e),this._updateTilesForChangedImages();var Ze=this.sourceCaches[pe.source];Ze&&Ze.setDependencies(pe.tileID.key,pe.type,pe.icons)},Z.prototype.getGlyphs=function(te,pe,_e){this.glyphManager.getGlyphs(pe.stacks,_e)},Z.prototype.getResource=function(te,pe,_e){return i.makeRequest(pe,_e)},Z}(i.Evented);yo.getSourceType=X,yo.setSourceType=J,yo.registerForPluginStateChange=i.registerForPluginStateChange;var Mo=i.createLayout([{name:"a_pos",type:"Int16",components:2}]),mo=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,sf=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,ei=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,eu="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",Pl=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ji="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",So=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,$f=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,tu="void main() {gl_FragColor=vec4(1.0);}",Ri="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",ru=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Io=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,Wi=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,ko="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",ho="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",Bo="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",ls="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",Ss="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",eo="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",qf="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",us=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,to=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,lf=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Es=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,fs=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,uf=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,ff=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,qc=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,nu=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,eh=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,th=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,rh=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,cf=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,nh="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",ah=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ec="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",ih=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,oh=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,hf=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ll=`
#define MAX_LINE_DISTANCE 32767.0
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,ul=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Rl=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,Du=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,sh=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,Cs=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,tc="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",vf=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,lh=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,Uo=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,fl=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,au=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Dl=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,cs=pi(mo,sf),Ls=pi(ei,eu),df=pi(Pl,Ji),Il=pi(So,$f),Gs=pi(tu,Ri),_i=pi(ru,Io),pf=pi(Wi,ko),Iu=pi(ho,Bo),kl=pi(ls,Ss),rc=pi(eo,qf),nc=pi(us,to),Fl=pi(lf,Es),_l=pi(fs,uf),Qi=pi(ff,qc),ku=pi(nu,eh),uh=pi(th,rh),gf=pi(cf,nh),fh=pi(ah,ec),Fu=pi(ih,oh),iu=pi(hf,ll),yf=pi(ul,Rl),mf=pi(Du,sh),ou=pi(Cs,tc),xf=pi(vf,lh),_u=pi(Uo,fl),bf=pi(au,Dl);function pi(he,Z){var de=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,te={};return he=he.replace(de,function(pe,_e,Ze,lt,wt){return te[wt]=!0,_e==="define"?`
#ifndef HAS_UNIFORM_u_`+wt+`
varying `+Ze+" "+lt+" "+wt+`;
#else
uniform `+Ze+" "+lt+" u_"+wt+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+wt+`
    `+Ze+" "+lt+" "+wt+" = u_"+wt+`;
#endif
`}),Z=Z.replace(de,function(pe,_e,Ze,lt,wt){var Ut=lt==="float"?"vec2":"vec4",Qt=wt.match(/color/)?"color":Ut;return te[wt]?_e==="define"?`
#ifndef HAS_UNIFORM_u_`+wt+`
uniform lowp float u_`+wt+`_t;
attribute `+Ze+" "+Ut+" a_"+wt+`;
varying `+Ze+" "+lt+" "+wt+`;
#else
uniform `+Ze+" "+lt+" u_"+wt+`;
#endif
`:Qt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+wt+`
    `+wt+" = a_"+wt+`;
#else
    `+Ze+" "+lt+" "+wt+" = u_"+wt+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+wt+`
    `+wt+" = unpack_mix_"+Qt+"(a_"+wt+", u_"+wt+`_t);
#else
    `+Ze+" "+lt+" "+wt+" = u_"+wt+`;
#endif
`:_e==="define"?`
#ifndef HAS_UNIFORM_u_`+wt+`
uniform lowp float u_`+wt+`_t;
attribute `+Ze+" "+Ut+" a_"+wt+`;
#else
uniform `+Ze+" "+lt+" u_"+wt+`;
#endif
`:Qt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+wt+`
    `+Ze+" "+lt+" "+wt+" = a_"+wt+`;
#else
    `+Ze+" "+lt+" "+wt+" = u_"+wt+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+wt+`
    `+Ze+" "+lt+" "+wt+" = unpack_mix_"+Qt+"(a_"+wt+", u_"+wt+`_t);
#else
    `+Ze+" "+lt+" "+wt+" = u_"+wt+`;
#endif
`}),{fragmentSource:he,vertexSource:Z}}var ac=Object.freeze({__proto__:null,prelude:cs,background:Ls,backgroundPattern:df,circle:Il,clippingMask:Gs,heatmap:_i,heatmapTexture:pf,collisionBox:Iu,collisionCircle:kl,debug:rc,fill:nc,fillOutline:Fl,fillOutlinePattern:_l,fillPattern:Qi,fillExtrusion:ku,fillExtrusionPattern:uh,hillshadePrepare:gf,hillshade:fh,line:Fu,lineGradient:iu,linePattern:yf,lineSDF:mf,raster:ou,symbolIcon:xf,symbolSDF:_u,symbolTextAndIcon:bf}),Jo=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};Jo.prototype.bind=function(Z,de,te,pe,_e,Ze,lt,wt){this.context=Z;for(var Ut=this.boundPaintVertexBuffers.length!==pe.length,Qt=0;!Ut&&Qt<pe.length;Qt++)this.boundPaintVertexBuffers[Qt]!==pe[Qt]&&(Ut=!0);var fr=!this.vao||this.boundProgram!==de||this.boundLayoutVertexBuffer!==te||Ut||this.boundIndexBuffer!==_e||this.boundVertexOffset!==Ze||this.boundDynamicVertexBuffer!==lt||this.boundDynamicVertexBuffer2!==wt;!Z.extVertexArrayObject||fr?this.freshBind(de,te,pe,_e,Ze,lt,wt):(Z.bindVertexArrayOES.set(this.vao),lt&&lt.bind(),_e&&_e.dynamicDraw&&_e.bind(),wt&&wt.bind())},Jo.prototype.freshBind=function(Z,de,te,pe,_e,Ze,lt){var wt,Ut=Z.numAttributes,Qt=this.context,fr=Qt.gl;if(Qt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Qt.extVertexArrayObject.createVertexArrayOES(),Qt.bindVertexArrayOES.set(this.vao),wt=0,this.boundProgram=Z,this.boundLayoutVertexBuffer=de,this.boundPaintVertexBuffers=te,this.boundIndexBuffer=pe,this.boundVertexOffset=_e,this.boundDynamicVertexBuffer=Ze,this.boundDynamicVertexBuffer2=lt;else{wt=Qt.currentNumAttributes||0;for(var xr=Ut;xr<wt;xr++)fr.disableVertexAttribArray(xr)}de.enableAttributes(fr,Z);for(var _r=0,Vr=te;_r<Vr.length;_r+=1){var Wr=Vr[_r];Wr.enableAttributes(fr,Z)}Ze&&Ze.enableAttributes(fr,Z),lt&&lt.enableAttributes(fr,Z),de.bind(),de.setVertexAttribPointers(fr,Z,_e);for(var Ur=0,Qr=te;Ur<Qr.length;Ur+=1){var fn=Qr[Ur];fn.bind(),fn.setVertexAttribPointers(fr,Z,_e)}Ze&&(Ze.bind(),Ze.setVertexAttribPointers(fr,Z,_e)),pe&&pe.bind(),lt&&(lt.bind(),lt.setVertexAttribPointers(fr,Z,_e)),Qt.currentNumAttributes=Ut},Jo.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var zl=function(Z,de,te,pe,_e){var Ze=Z.gl;this.program=Ze.createProgram();var lt=te?te.defines():[];_e&&lt.push("#define OVERDRAW_INSPECTOR;");var wt=lt.concat(cs.fragmentSource,de.fragmentSource).join(`
`),Ut=lt.concat(cs.vertexSource,de.vertexSource).join(`
`),Qt=Ze.createShader(Ze.FRAGMENT_SHADER);if(Ze.isContextLost()){this.failedToCreate=!0;return}Ze.shaderSource(Qt,wt),Ze.compileShader(Qt),Ze.attachShader(this.program,Qt);var fr=Ze.createShader(Ze.VERTEX_SHADER);if(Ze.isContextLost()){this.failedToCreate=!0;return}Ze.shaderSource(fr,Ut),Ze.compileShader(fr),Ze.attachShader(this.program,fr);for(var xr=te?te.layoutAttributes:[],_r=0;_r<xr.length;_r++)Ze.bindAttribLocation(this.program,_r,xr[_r].name);Ze.linkProgram(this.program),Ze.deleteShader(fr),Ze.deleteShader(Qt),this.numAttributes=Ze.getProgramParameter(this.program,Ze.ACTIVE_ATTRIBUTES),this.attributes={};for(var Vr={},Wr=0;Wr<this.numAttributes;Wr++){var Ur=Ze.getActiveAttrib(this.program,Wr);Ur&&(this.attributes[Ur.name]=Ze.getAttribLocation(this.program,Ur.name))}for(var Qr=Ze.getProgramParameter(this.program,Ze.ACTIVE_UNIFORMS),fn=0;fn<Qr;fn++){var Rn=Ze.getActiveUniform(this.program,fn);Rn&&(Vr[Rn.name]=Ze.getUniformLocation(this.program,Rn.name))}this.fixedUniforms=pe(Z,Vr),this.binderUniforms=te?te.getUniforms(Z,Vr):[]};zl.prototype.draw=function(Z,de,te,pe,_e,Ze,lt,wt,Ut,Qt,fr,xr,_r,Vr,Wr,Ur){var Qr,fn=Z.gl;if(!this.failedToCreate){Z.program.set(this.program),Z.setDepthMode(te),Z.setStencilMode(pe),Z.setColorMode(_e),Z.setCullFace(Ze);for(var Rn in this.fixedUniforms)this.fixedUniforms[Rn].set(lt[Rn]);Vr&&Vr.setUniforms(Z,this.binderUniforms,xr,{zoom:_r});for(var zn=(Qr={},Qr[fn.LINES]=2,Qr[fn.TRIANGLES]=3,Qr[fn.LINE_STRIP]=1,Qr)[de],Xn=0,Jn=fr.get();Xn<Jn.length;Xn+=1){var Kn=Jn[Xn],aa=Kn.vaos||(Kn.vaos={}),ca=aa[wt]||(aa[wt]=new Jo);ca.bind(Z,this,Ut,Vr?Vr.getPaintVertexBuffers():[],Qt,Kn.vertexOffset,Wr,Ur),fn.drawElements(de,Kn.primitiveLength*zn,fn.UNSIGNED_SHORT,Kn.primitiveOffset*zn*2)}}};function cl(he,Z,de){var te=1/yn(de,1,Z.transform.tileZoom),pe=Math.pow(2,de.tileID.overscaledZ),_e=de.tileSize*Math.pow(2,Z.transform.tileZoom)/pe,Ze=_e*(de.tileID.canonical.x+de.tileID.wrap*pe),lt=_e*de.tileID.canonical.y;return{u_image:0,u_texsize:de.imageAtlasTexture.size,u_scale:[te,he.fromScale,he.toScale],u_fade:he.t,u_pixel_coord_upper:[Ze>>16,lt>>16],u_pixel_coord_lower:[Ze&65535,lt&65535]}}function wf(he,Z,de,te){var pe=de.imageManager.getPattern(he.from.toString()),_e=de.imageManager.getPattern(he.to.toString()),Ze=de.imageManager.getPixelSize(),lt=Ze.width,wt=Ze.height,Ut=Math.pow(2,te.tileID.overscaledZ),Qt=te.tileSize*Math.pow(2,de.transform.tileZoom)/Ut,fr=Qt*(te.tileID.canonical.x+te.tileID.wrap*Ut),xr=Qt*te.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:pe.tl,u_pattern_br_a:pe.br,u_pattern_tl_b:_e.tl,u_pattern_br_b:_e.br,u_texsize:[lt,wt],u_mix:Z.t,u_pattern_size_a:pe.displaySize,u_pattern_size_b:_e.displaySize,u_scale_a:Z.fromScale,u_scale_b:Z.toScale,u_tile_units_to_pixels:1/yn(te,1,de.transform.tileZoom),u_pixel_coord_upper:[fr>>16,xr>>16],u_pixel_coord_lower:[fr&65535,xr&65535]}}var Oi=function(he,Z){return{u_matrix:new i.UniformMatrix4f(he,Z.u_matrix),u_lightpos:new i.Uniform3f(he,Z.u_lightpos),u_lightintensity:new i.Uniform1f(he,Z.u_lightintensity),u_lightcolor:new i.Uniform3f(he,Z.u_lightcolor),u_vertical_gradient:new i.Uniform1f(he,Z.u_vertical_gradient),u_opacity:new i.Uniform1f(he,Z.u_opacity)}},su=function(he,Z){return{u_matrix:new i.UniformMatrix4f(he,Z.u_matrix),u_lightpos:new i.Uniform3f(he,Z.u_lightpos),u_lightintensity:new i.Uniform1f(he,Z.u_lightintensity),u_lightcolor:new i.Uniform3f(he,Z.u_lightcolor),u_vertical_gradient:new i.Uniform1f(he,Z.u_vertical_gradient),u_height_factor:new i.Uniform1f(he,Z.u_height_factor),u_image:new i.Uniform1i(he,Z.u_image),u_texsize:new i.Uniform2f(he,Z.u_texsize),u_pixel_coord_upper:new i.Uniform2f(he,Z.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(he,Z.u_pixel_coord_lower),u_scale:new i.Uniform3f(he,Z.u_scale),u_fade:new i.Uniform1f(he,Z.u_fade),u_opacity:new i.Uniform1f(he,Z.u_opacity)}},Eo=function(he,Z,de,te){var pe=Z.style.light,_e=pe.properties.get("position"),Ze=[_e.x,_e.y,_e.z],lt=i.create$1();pe.properties.get("anchor")==="viewport"&&i.fromRotation(lt,-Z.transform.angle),i.transformMat3(Ze,Ze,lt);var wt=pe.properties.get("color");return{u_matrix:he,u_lightpos:Ze,u_lightintensity:pe.properties.get("intensity"),u_lightcolor:[wt.r,wt.g,wt.b],u_vertical_gradient:+de,u_opacity:te}},Ps=function(he,Z,de,te,pe,_e,Ze){return i.extend(Eo(he,Z,de,te),cl(_e,Z,Ze),{u_height_factor:-Math.pow(2,pe.overscaledZ)/Ze.tileSize/8})},Rs=function(he,Z){return{u_matrix:new i.UniformMatrix4f(he,Z.u_matrix)}},Ws=function(he,Z){return{u_matrix:new i.UniformMatrix4f(he,Z.u_matrix),u_image:new i.Uniform1i(he,Z.u_image),u_texsize:new i.Uniform2f(he,Z.u_texsize),u_pixel_coord_upper:new i.Uniform2f(he,Z.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(he,Z.u_pixel_coord_lower),u_scale:new i.Uniform3f(he,Z.u_scale),u_fade:new i.Uniform1f(he,Z.u_fade)}},Ys=function(he,Z){return{u_matrix:new i.UniformMatrix4f(he,Z.u_matrix),u_world:new i.Uniform2f(he,Z.u_world)}},js=function(he,Z){return{u_matrix:new i.UniformMatrix4f(he,Z.u_matrix),u_world:new i.Uniform2f(he,Z.u_world),u_image:new i.Uniform1i(he,Z.u_image),u_texsize:new i.Uniform2f(he,Z.u_texsize),u_pixel_coord_upper:new i.Uniform2f(he,Z.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(he,Z.u_pixel_coord_lower),u_scale:new i.Uniform3f(he,Z.u_scale),u_fade:new i.Uniform1f(he,Z.u_fade)}},Qo=function(he){return{u_matrix:he}},hs=function(he,Z,de,te){return i.extend(Qo(he),cl(de,Z,te))},lu=function(he,Z){return{u_matrix:he,u_world:Z}},uu=function(he,Z,de,te,pe){return i.extend(hs(he,Z,de,te),{u_world:pe})},zu=function(he,Z){return{u_camera_to_center_distance:new i.Uniform1f(he,Z.u_camera_to_center_distance),u_scale_with_map:new i.Uniform1i(he,Z.u_scale_with_map),u_pitch_with_map:new i.Uniform1i(he,Z.u_pitch_with_map),u_extrude_scale:new i.Uniform2f(he,Z.u_extrude_scale),u_device_pixel_ratio:new i.Uniform1f(he,Z.u_device_pixel_ratio),u_matrix:new i.UniformMatrix4f(he,Z.u_matrix)}},ch=function(he,Z,de,te){var pe=he.transform,_e,Ze;if(te.paint.get("circle-pitch-alignment")==="map"){var lt=yn(de,1,pe.zoom);_e=!0,Ze=[lt,lt]}else _e=!1,Ze=pe.pixelsToGLUnits;return{u_camera_to_center_distance:pe.cameraToCenterDistance,u_scale_with_map:+(te.paint.get("circle-pitch-scale")==="map"),u_matrix:he.translatePosMatrix(Z.posMatrix,de,te.paint.get("circle-translate"),te.paint.get("circle-translate-anchor")),u_pitch_with_map:+_e,u_device_pixel_ratio:i.browser.devicePixelRatio,u_extrude_scale:Ze}},hh=function(he,Z){return{u_matrix:new i.UniformMatrix4f(he,Z.u_matrix),u_camera_to_center_distance:new i.Uniform1f(he,Z.u_camera_to_center_distance),u_pixels_to_tile_units:new i.Uniform1f(he,Z.u_pixels_to_tile_units),u_extrude_scale:new i.Uniform2f(he,Z.u_extrude_scale),u_overscale_factor:new i.Uniform1f(he,Z.u_overscale_factor)}},vh=function(he,Z){return{u_matrix:new i.UniformMatrix4f(he,Z.u_matrix),u_inv_matrix:new i.UniformMatrix4f(he,Z.u_inv_matrix),u_camera_to_center_distance:new i.Uniform1f(he,Z.u_camera_to_center_distance),u_viewport_size:new i.Uniform2f(he,Z.u_viewport_size)}},dh=function(he,Z,de){var te=yn(de,1,Z.zoom),pe=Math.pow(2,Z.zoom-de.tileID.overscaledZ),_e=de.tileID.overscaleFactor();return{u_matrix:he,u_camera_to_center_distance:Z.cameraToCenterDistance,u_pixels_to_tile_units:te,u_extrude_scale:[Z.pixelsToGLUnits[0]/(te*pe),Z.pixelsToGLUnits[1]/(te*pe)],u_overscale_factor:_e}},Ou=function(he,Z,de){return{u_matrix:he,u_inv_matrix:Z,u_camera_to_center_distance:de.cameraToCenterDistance,u_viewport_size:[de.width,de.height]}},ic=function(he,Z){return{u_color:new i.UniformColor(he,Z.u_color),u_matrix:new i.UniformMatrix4f(he,Z.u_matrix),u_overlay:new i.Uniform1i(he,Z.u_overlay),u_overlay_scale:new i.Uniform1f(he,Z.u_overlay_scale)}},Ol=function(he,Z,de){return de===void 0&&(de=1),{u_matrix:he,u_color:Z,u_overlay:0,u_overlay_scale:de}},ro=function(he,Z){return{u_matrix:new i.UniformMatrix4f(he,Z.u_matrix)}},Co=function(he){return{u_matrix:he}},fu=function(he,Z){return{u_extrude_scale:new i.Uniform1f(he,Z.u_extrude_scale),u_intensity:new i.Uniform1f(he,Z.u_intensity),u_matrix:new i.UniformMatrix4f(he,Z.u_matrix)}},hl=function(he,Z){return{u_matrix:new i.UniformMatrix4f(he,Z.u_matrix),u_world:new i.Uniform2f(he,Z.u_world),u_image:new i.Uniform1i(he,Z.u_image),u_color_ramp:new i.Uniform1i(he,Z.u_color_ramp),u_opacity:new i.Uniform1f(he,Z.u_opacity)}},cu=function(he,Z,de,te){return{u_matrix:he,u_extrude_scale:yn(Z,1,de),u_intensity:te}},Nu=function(he,Z,de,te){var pe=i.create();i.ortho(pe,0,he.width,he.height,0,0,1);var _e=he.context.gl;return{u_matrix:pe,u_world:[_e.drawingBufferWidth,_e.drawingBufferHeight],u_image:de,u_color_ramp:te,u_opacity:Z.paint.get("heatmap-opacity")}},ph=function(he,Z){return{u_matrix:new i.UniformMatrix4f(he,Z.u_matrix),u_image:new i.Uniform1i(he,Z.u_image),u_latrange:new i.Uniform2f(he,Z.u_latrange),u_light:new i.Uniform2f(he,Z.u_light),u_shadow:new i.UniformColor(he,Z.u_shadow),u_highlight:new i.UniformColor(he,Z.u_highlight),u_accent:new i.UniformColor(he,Z.u_accent)}},oc=function(he,Z){return{u_matrix:new i.UniformMatrix4f(he,Z.u_matrix),u_image:new i.Uniform1i(he,Z.u_image),u_dimension:new i.Uniform2f(he,Z.u_dimension),u_zoom:new i.Uniform1f(he,Z.u_zoom),u_maxzoom:new i.Uniform1f(he,Z.u_maxzoom),u_unpack:new i.Uniform4f(he,Z.u_unpack)}},sc=function(he,Z,de){var te=de.paint.get("hillshade-shadow-color"),pe=de.paint.get("hillshade-highlight-color"),_e=de.paint.get("hillshade-accent-color"),Ze=de.paint.get("hillshade-illumination-direction")*(Math.PI/180);de.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ze-=he.transform.angle);var lt=!he.options.moving;return{u_matrix:he.transform.calculatePosMatrix(Z.tileID.toUnwrapped(),lt),u_image:0,u_latrange:Zs(he,Z.tileID),u_light:[de.paint.get("hillshade-exaggeration"),Ze],u_shadow:te,u_highlight:pe,u_accent:_e}},Tf=function(he,Z,de){var te=Z.stride,pe=i.create();return i.ortho(pe,0,i.EXTENT,-i.EXTENT,0,0,1),i.translate(pe,pe,[0,-i.EXTENT,0]),{u_matrix:pe,u_image:1,u_dimension:[te,te],u_zoom:he.overscaledZ,u_maxzoom:de,u_unpack:Z.getUnpackVector()}};function Zs(he,Z){var de=Math.pow(2,Z.canonical.z),te=Z.canonical.y;return[new i.MercatorCoordinate(0,te/de).toLngLat().lat,new i.MercatorCoordinate(0,(te+1)/de).toLngLat().lat]}var Ni=function(he,Z){return{u_matrix:new i.UniformMatrix4f(he,Z.u_matrix),u_ratio:new i.Uniform1f(he,Z.u_ratio),u_device_pixel_ratio:new i.Uniform1f(he,Z.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(he,Z.u_units_to_pixels)}},vs=function(he,Z){return{u_matrix:new i.UniformMatrix4f(he,Z.u_matrix),u_ratio:new i.Uniform1f(he,Z.u_ratio),u_device_pixel_ratio:new i.Uniform1f(he,Z.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(he,Z.u_units_to_pixels),u_image:new i.Uniform1i(he,Z.u_image)}},Af=function(he,Z){return{u_matrix:new i.UniformMatrix4f(he,Z.u_matrix),u_texsize:new i.Uniform2f(he,Z.u_texsize),u_ratio:new i.Uniform1f(he,Z.u_ratio),u_device_pixel_ratio:new i.Uniform1f(he,Z.u_device_pixel_ratio),u_image:new i.Uniform1i(he,Z.u_image),u_units_to_pixels:new i.Uniform2f(he,Z.u_units_to_pixels),u_scale:new i.Uniform3f(he,Z.u_scale),u_fade:new i.Uniform1f(he,Z.u_fade)}},lc=function(he,Z){return{u_matrix:new i.UniformMatrix4f(he,Z.u_matrix),u_ratio:new i.Uniform1f(he,Z.u_ratio),u_device_pixel_ratio:new i.Uniform1f(he,Z.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(he,Z.u_units_to_pixels),u_patternscale_a:new i.Uniform2f(he,Z.u_patternscale_a),u_patternscale_b:new i.Uniform2f(he,Z.u_patternscale_b),u_sdfgamma:new i.Uniform1f(he,Z.u_sdfgamma),u_image:new i.Uniform1i(he,Z.u_image),u_tex_y_a:new i.Uniform1f(he,Z.u_tex_y_a),u_tex_y_b:new i.Uniform1f(he,Z.u_tex_y_b),u_mix:new i.Uniform1f(he,Z.u_mix)}},vl=function(he,Z,de){var te=he.transform;return{u_matrix:Is(he,Z,de),u_ratio:1/yn(Z,1,te.zoom),u_device_pixel_ratio:i.browser.devicePixelRatio,u_units_to_pixels:[1/te.pixelsToGLUnits[0],1/te.pixelsToGLUnits[1]]}},Bu=function(he,Z,de){return i.extend(vl(he,Z,de),{u_image:0})},$o=function(he,Z,de,te){var pe=he.transform,_e=Ds(Z,pe);return{u_matrix:Is(he,Z,de),u_texsize:Z.imageAtlasTexture.size,u_ratio:1/yn(Z,1,pe.zoom),u_device_pixel_ratio:i.browser.devicePixelRatio,u_image:0,u_scale:[_e,te.fromScale,te.toScale],u_fade:te.t,u_units_to_pixels:[1/pe.pixelsToGLUnits[0],1/pe.pixelsToGLUnits[1]]}},Uu=function(he,Z,de,te,pe){var _e=he.transform,Ze=he.lineAtlas,lt=Ds(Z,_e),wt=de.layout.get("line-cap")==="round",Ut=Ze.getDash(te.from,wt),Qt=Ze.getDash(te.to,wt),fr=Ut.width*pe.fromScale,xr=Qt.width*pe.toScale;return i.extend(vl(he,Z,de),{u_patternscale_a:[lt/fr,-Ut.height/2],u_patternscale_b:[lt/xr,-Qt.height/2],u_sdfgamma:Ze.width/(Math.min(fr,xr)*256*i.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Ut.y,u_tex_y_b:Qt.y,u_mix:pe.t})};function Ds(he,Z){return 1/yn(he,1,Z.tileZoom)}function Is(he,Z,de){return he.translatePosMatrix(Z.tileID.posMatrix,Z,de.paint.get("line-translate"),de.paint.get("line-translate-anchor"))}var Mf=function(he,Z){return{u_matrix:new i.UniformMatrix4f(he,Z.u_matrix),u_tl_parent:new i.Uniform2f(he,Z.u_tl_parent),u_scale_parent:new i.Uniform1f(he,Z.u_scale_parent),u_buffer_scale:new i.Uniform1f(he,Z.u_buffer_scale),u_fade_t:new i.Uniform1f(he,Z.u_fade_t),u_opacity:new i.Uniform1f(he,Z.u_opacity),u_image0:new i.Uniform1i(he,Z.u_image0),u_image1:new i.Uniform1i(he,Z.u_image1),u_brightness_low:new i.Uniform1f(he,Z.u_brightness_low),u_brightness_high:new i.Uniform1f(he,Z.u_brightness_high),u_saturation_factor:new i.Uniform1f(he,Z.u_saturation_factor),u_contrast_factor:new i.Uniform1f(he,Z.u_contrast_factor),u_spin_weights:new i.Uniform3f(he,Z.u_spin_weights)}},Nl=function(he,Z,de,te,pe){return{u_matrix:he,u_tl_parent:Z,u_scale_parent:de,u_buffer_scale:1,u_fade_t:te.mix,u_opacity:te.opacity*pe.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:pe.paint.get("raster-brightness-min"),u_brightness_high:pe.paint.get("raster-brightness-max"),u_saturation_factor:Hu(pe.paint.get("raster-saturation")),u_contrast_factor:dl(pe.paint.get("raster-contrast")),u_spin_weights:ui(pe.paint.get("raster-hue-rotate"))}};function ui(he){he*=Math.PI/180;var Z=Math.sin(he),de=Math.cos(he);return[(2*de+1)/3,(-Math.sqrt(3)*Z-de+1)/3,(Math.sqrt(3)*Z-de+1)/3]}function dl(he){return he>0?1/(1-he):1+he}function Hu(he){return he>0?1-1/(1.001-he):-he}var Vu=function(he,Z){return{u_is_size_zoom_constant:new i.Uniform1i(he,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(he,Z.u_is_size_feature_constant),u_size_t:new i.Uniform1f(he,Z.u_size_t),u_size:new i.Uniform1f(he,Z.u_size),u_camera_to_center_distance:new i.Uniform1f(he,Z.u_camera_to_center_distance),u_pitch:new i.Uniform1f(he,Z.u_pitch),u_rotate_symbol:new i.Uniform1i(he,Z.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(he,Z.u_aspect_ratio),u_fade_change:new i.Uniform1f(he,Z.u_fade_change),u_matrix:new i.UniformMatrix4f(he,Z.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(he,Z.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(he,Z.u_coord_matrix),u_is_text:new i.Uniform1i(he,Z.u_is_text),u_pitch_with_map:new i.Uniform1i(he,Z.u_pitch_with_map),u_texsize:new i.Uniform2f(he,Z.u_texsize),u_texture:new i.Uniform1i(he,Z.u_texture)}},Xs=function(he,Z){return{u_is_size_zoom_constant:new i.Uniform1i(he,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(he,Z.u_is_size_feature_constant),u_size_t:new i.Uniform1f(he,Z.u_size_t),u_size:new i.Uniform1f(he,Z.u_size),u_camera_to_center_distance:new i.Uniform1f(he,Z.u_camera_to_center_distance),u_pitch:new i.Uniform1f(he,Z.u_pitch),u_rotate_symbol:new i.Uniform1i(he,Z.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(he,Z.u_aspect_ratio),u_fade_change:new i.Uniform1f(he,Z.u_fade_change),u_matrix:new i.UniformMatrix4f(he,Z.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(he,Z.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(he,Z.u_coord_matrix),u_is_text:new i.Uniform1i(he,Z.u_is_text),u_pitch_with_map:new i.Uniform1i(he,Z.u_pitch_with_map),u_texsize:new i.Uniform2f(he,Z.u_texsize),u_texture:new i.Uniform1i(he,Z.u_texture),u_gamma_scale:new i.Uniform1f(he,Z.u_gamma_scale),u_device_pixel_ratio:new i.Uniform1f(he,Z.u_device_pixel_ratio),u_is_halo:new i.Uniform1i(he,Z.u_is_halo)}},gh=function(he,Z){return{u_is_size_zoom_constant:new i.Uniform1i(he,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(he,Z.u_is_size_feature_constant),u_size_t:new i.Uniform1f(he,Z.u_size_t),u_size:new i.Uniform1f(he,Z.u_size),u_camera_to_center_distance:new i.Uniform1f(he,Z.u_camera_to_center_distance),u_pitch:new i.Uniform1f(he,Z.u_pitch),u_rotate_symbol:new i.Uniform1i(he,Z.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(he,Z.u_aspect_ratio),u_fade_change:new i.Uniform1f(he,Z.u_fade_change),u_matrix:new i.UniformMatrix4f(he,Z.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(he,Z.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(he,Z.u_coord_matrix),u_is_text:new i.Uniform1i(he,Z.u_is_text),u_pitch_with_map:new i.Uniform1i(he,Z.u_pitch_with_map),u_texsize:new i.Uniform2f(he,Z.u_texsize),u_texsize_icon:new i.Uniform2f(he,Z.u_texsize_icon),u_texture:new i.Uniform1i(he,Z.u_texture),u_texture_icon:new i.Uniform1i(he,Z.u_texture_icon),u_gamma_scale:new i.Uniform1f(he,Z.u_gamma_scale),u_device_pixel_ratio:new i.Uniform1f(he,Z.u_device_pixel_ratio),u_is_halo:new i.Uniform1i(he,Z.u_is_halo)}},Sf=function(he,Z,de,te,pe,_e,Ze,lt,wt,Ut){var Qt=pe.transform;return{u_is_size_zoom_constant:+(he==="constant"||he==="source"),u_is_size_feature_constant:+(he==="constant"||he==="camera"),u_size_t:Z?Z.uSizeT:0,u_size:Z?Z.uSize:0,u_camera_to_center_distance:Qt.cameraToCenterDistance,u_pitch:Qt.pitch/360*2*Math.PI,u_rotate_symbol:+de,u_aspect_ratio:Qt.width/Qt.height,u_fade_change:pe.options.fadeDuration?pe.symbolFadeChange:1,u_matrix:_e,u_label_plane_matrix:Ze,u_coord_matrix:lt,u_is_text:+wt,u_pitch_with_map:+te,u_texsize:Ut,u_texture:0}},Bl=function(he,Z,de,te,pe,_e,Ze,lt,wt,Ut,Qt){var fr=pe.transform;return i.extend(Sf(he,Z,de,te,pe,_e,Ze,lt,wt,Ut),{u_gamma_scale:te?Math.cos(fr._pitch)*fr.cameraToCenterDistance:1,u_device_pixel_ratio:i.browser.devicePixelRatio,u_is_halo:+Qt})},Ef=function(he,Z,de,te,pe,_e,Ze,lt,wt,Ut){return i.extend(Bl(he,Z,de,te,pe,_e,Ze,lt,!0,wt,!0),{u_texsize_icon:Ut,u_texture_icon:1})},uc=function(he,Z){return{u_matrix:new i.UniformMatrix4f(he,Z.u_matrix),u_opacity:new i.Uniform1f(he,Z.u_opacity),u_color:new i.UniformColor(he,Z.u_color)}},ks=function(he,Z){return{u_matrix:new i.UniformMatrix4f(he,Z.u_matrix),u_opacity:new i.Uniform1f(he,Z.u_opacity),u_image:new i.Uniform1i(he,Z.u_image),u_pattern_tl_a:new i.Uniform2f(he,Z.u_pattern_tl_a),u_pattern_br_a:new i.Uniform2f(he,Z.u_pattern_br_a),u_pattern_tl_b:new i.Uniform2f(he,Z.u_pattern_tl_b),u_pattern_br_b:new i.Uniform2f(he,Z.u_pattern_br_b),u_texsize:new i.Uniform2f(he,Z.u_texsize),u_mix:new i.Uniform1f(he,Z.u_mix),u_pattern_size_a:new i.Uniform2f(he,Z.u_pattern_size_a),u_pattern_size_b:new i.Uniform2f(he,Z.u_pattern_size_b),u_scale_a:new i.Uniform1f(he,Z.u_scale_a),u_scale_b:new i.Uniform1f(he,Z.u_scale_b),u_pixel_coord_upper:new i.Uniform2f(he,Z.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(he,Z.u_pixel_coord_lower),u_tile_units_to_pixels:new i.Uniform1f(he,Z.u_tile_units_to_pixels)}},Ks=function(he,Z,de){return{u_matrix:he,u_opacity:Z,u_color:de}},pl=function(he,Z,de,te,pe,_e){return i.extend(wf(te,_e,de,pe),{u_matrix:he,u_opacity:Z})},yl={fillExtrusion:Oi,fillExtrusionPattern:su,fill:Rs,fillPattern:Ws,fillOutline:Ys,fillOutlinePattern:js,circle:zu,collisionBox:hh,collisionCircle:vh,debug:ic,clippingMask:ro,heatmap:fu,heatmapTexture:hl,hillshade:ph,hillshadePrepare:oc,line:Ni,lineGradient:vs,linePattern:Af,lineSDF:lc,raster:Mf,symbolIcon:Vu,symbolSDF:Xs,symbolTextAndIcon:gh,background:uc,backgroundPattern:ks},Lo;function Fo(he,Z,de,te,pe,_e,Ze){for(var lt=he.context,wt=lt.gl,Ut=he.useProgram("collisionBox"),Qt=[],fr=0,xr=0,_r=0;_r<te.length;_r++){var Vr=te[_r],Wr=Z.getTile(Vr),Ur=Wr.getBucket(de);if(Ur){var Qr=Vr.posMatrix;(pe[0]!==0||pe[1]!==0)&&(Qr=he.translatePosMatrix(Vr.posMatrix,Wr,pe,_e));var fn=Ze?Ur.textCollisionBox:Ur.iconCollisionBox,Rn=Ur.collisionCircleArray;if(Rn.length>0){var zn=i.create(),Xn=Qr;i.mul(zn,Ur.placementInvProjMatrix,he.transform.glCoordMatrix),i.mul(zn,zn,Ur.placementViewportMatrix),Qt.push({circleArray:Rn,circleOffset:xr,transform:Xn,invTransform:zn}),fr+=Rn.length/4,xr=fr}fn&&Ut.draw(lt,wt.LINES,Mr.disabled,Kt.disabled,he.colorModeForRenderPass(),Dt.disabled,dh(Qr,he.transform,Wr),de.id,fn.layoutVertexBuffer,fn.indexBuffer,fn.segments,null,he.transform.zoom,null,null,fn.collisionVertexBuffer)}}if(!(!Ze||!Qt.length)){var Jn=he.useProgram("collisionCircle"),Kn=new i.StructArrayLayout2f1f2i16;Kn.resize(fr*4),Kn._trim();for(var aa=0,ca=0,fa=Qt;ca<fa.length;ca+=1)for(var ga=fa[ca],Ta=0;Ta<ga.circleArray.length/4;Ta++){var Ia=Ta*4,Ha=ga.circleArray[Ia+0],oi=ga.circleArray[Ia+1],Ga=ga.circleArray[Ia+2],Xa=ga.circleArray[Ia+3];Kn.emplace(aa++,Ha,oi,Ga,Xa,0),Kn.emplace(aa++,Ha,oi,Ga,Xa,1),Kn.emplace(aa++,Ha,oi,Ga,Xa,2),Kn.emplace(aa++,Ha,oi,Ga,Xa,3)}(!Lo||Lo.length<fr*2)&&(Lo=ml(fr));for(var Pa=lt.createIndexBuffer(Lo,!0),si=lt.createVertexBuffer(Kn,i.collisionCircleLayout.members,!0),ci=0,vi=Qt;ci<vi.length;ci+=1){var Ja=vi[ci],Ai=Ou(Ja.transform,Ja.invTransform,he.transform);Jn.draw(lt,wt.TRIANGLES,Mr.disabled,Kt.disabled,he.colorModeForRenderPass(),Dt.disabled,Ai,de.id,si,Pa,i.SegmentVector.simpleSegment(0,Ja.circleOffset*2,Ja.circleArray.length,Ja.circleArray.length/2),null,he.transform.zoom,null,null,null)}si.destroy(),Pa.destroy()}}function ml(he){var Z=he*2,de=new i.StructArrayLayout3ui6;de.resize(Z),de._trim();for(var te=0;te<Z;te++){var pe=te*6;de.uint16[pe+0]=te*4+0,de.uint16[pe+1]=te*4+1,de.uint16[pe+2]=te*4+2,de.uint16[pe+3]=te*4+2,de.uint16[pe+4]=te*4+3,de.uint16[pe+5]=te*4+0}return de}var fc=i.identity(new Float32Array(16));function Ul(he,Z,de,te,pe){if(he.renderPass==="translucent"){var _e=Kt.disabled,Ze=he.colorModeForRenderPass(),lt=de.layout.get("text-variable-anchor");lt&&cc(te,he,de,Z,de.layout.get("text-rotation-alignment"),de.layout.get("text-pitch-alignment"),pe),de.paint.get("icon-opacity").constantOr(1)!==0&&Js(he,Z,de,te,!1,de.paint.get("icon-translate"),de.paint.get("icon-translate-anchor"),de.layout.get("icon-rotation-alignment"),de.layout.get("icon-pitch-alignment"),de.layout.get("icon-keep-upright"),_e,Ze),de.paint.get("text-opacity").constantOr(1)!==0&&Js(he,Z,de,te,!0,de.paint.get("text-translate"),de.paint.get("text-translate-anchor"),de.layout.get("text-rotation-alignment"),de.layout.get("text-pitch-alignment"),de.layout.get("text-keep-upright"),_e,Ze),Z.map.showCollisionBoxes&&(Fo(he,Z,de,te,de.paint.get("text-translate"),de.paint.get("text-translate-anchor"),!0),Fo(he,Z,de,te,de.paint.get("icon-translate"),de.paint.get("icon-translate-anchor"),!1))}}function Gu(he,Z,de,te,pe,_e){var Ze=i.getAnchorAlignment(he),lt=Ze.horizontalAlign,wt=Ze.verticalAlign,Ut=-(lt-.5)*Z,Qt=-(wt-.5)*de,fr=i.evaluateVariableOffset(he,te);return new i.Point((Ut/pe+fr[0])*_e,(Qt/pe+fr[1])*_e)}function cc(he,Z,de,te,pe,_e,Ze){for(var lt=Z.transform,wt=pe==="map",Ut=_e==="map",Qt=0,fr=he;Qt<fr.length;Qt+=1){var xr=fr[Qt],_r=te.getTile(xr),Vr=_r.getBucket(de);if(!(!Vr||!Vr.text||!Vr.text.segments.get().length)){var Wr=Vr.textSizeData,Ur=i.evaluateSizeForZoom(Wr,lt.zoom),Qr=yn(_r,1,Z.transform.zoom),fn=Er(xr.posMatrix,Ut,wt,Z.transform,Qr),Rn=de.layout.get("icon-text-fit")!=="none"&&Vr.hasIconData();if(Ur){var zn=Math.pow(2,lt.zoom-_r.tileID.overscaledZ);qo(Vr,wt,Ut,Ze,i.symbolSize,lt,fn,xr.posMatrix,zn,Ur,Rn)}}}}function qo(he,Z,de,te,pe,_e,Ze,lt,wt,Ut,Qt){var fr=he.text.placedSymbolArray,xr=he.text.dynamicLayoutVertexArray,_r=he.icon.dynamicLayoutVertexArray,Vr={};xr.clear();for(var Wr=0;Wr<fr.length;Wr++){var Ur=fr.get(Wr),Qr=he.allowVerticalPlacement&&!Ur.placedOrientation,fn=!Ur.hidden&&Ur.crossTileID&&!Qr?te[Ur.crossTileID]:null;if(!fn)Qn(Ur.numGlyphs,xr);else{var Rn=new i.Point(Ur.anchorX,Ur.anchorY),zn=Br(Rn,de?lt:Ze),Xn=nn(_e.cameraToCenterDistance,zn.signedDistanceFromCamera),Jn=pe.evaluateSizeForFeature(he.textSizeData,Ut,Ur)*Xn/i.ONE_EM;de&&(Jn*=he.tilePixelRatio/wt);for(var Kn=fn.width,aa=fn.height,ca=fn.anchor,fa=fn.textOffset,ga=fn.textBoxScale,Ta=Gu(ca,Kn,aa,fa,ga,Jn),Ia=de?Br(Rn.add(Ta),Ze).point:zn.point.add(Z?Ta.rotate(-_e.angle):Ta),Ha=he.allowVerticalPlacement&&Ur.placedOrientation===i.WritingMode.vertical?Math.PI/2:0,oi=0;oi<Ur.numGlyphs;oi++)i.addDynamicAttributes(xr,Ia,Ha);Qt&&Ur.associatedIconIndex>=0&&(Vr[Ur.associatedIconIndex]={shiftedAnchor:Ia,angle:Ha})}}if(Qt){_r.clear();for(var Ga=he.icon.placedSymbolArray,Xa=0;Xa<Ga.length;Xa++){var Pa=Ga.get(Xa);if(Pa.hidden)Qn(Pa.numGlyphs,_r);else{var si=Vr[Xa];if(!si)Qn(Pa.numGlyphs,_r);else for(var ci=0;ci<Pa.numGlyphs;ci++)i.addDynamicAttributes(_r,si.shiftedAnchor,si.angle)}}he.icon.dynamicLayoutVertexBuffer.updateData(_r)}he.text.dynamicLayoutVertexBuffer.updateData(xr)}function Cf(he,Z,de){return de.iconsInText&&Z?"symbolTextAndIcon":he?"symbolSDF":"symbolIcon"}function Js(he,Z,de,te,pe,_e,Ze,lt,wt,Ut,Qt,fr){for(var xr=he.context,_r=xr.gl,Vr=he.transform,Wr=lt==="map",Ur=wt==="map",Qr=Wr&&de.layout.get("symbol-placement")!=="point",fn=Wr&&!Ur&&!Qr,Rn=de.layout.get("symbol-sort-key").constantOr(1)!==void 0,zn=he.depthModeForSublayer(0,Mr.ReadOnly),Xn=de.layout.get("text-variable-anchor"),Jn=[],Kn=0,aa=te;Kn<aa.length;Kn+=1){var ca=aa[Kn],fa=Z.getTile(ca),ga=fa.getBucket(de);if(ga){var Ta=pe?ga.text:ga.icon;if(!(!Ta||!Ta.segments.get().length)){var Ia=Ta.programConfigurations.get(de.id),Ha=pe||ga.sdfIcons,oi=pe?ga.textSizeData:ga.iconSizeData,Ga=Ur||Vr.pitch!==0,Xa=he.useProgram(Cf(Ha,pe,ga),Ia),Pa=i.evaluateSizeForZoom(oi,Vr.zoom),si=void 0,ci=[0,0],vi=void 0,Ja=void 0,Ai=null,Va=void 0;if(pe){if(vi=fa.glyphAtlasTexture,Ja=_r.LINEAR,si=fa.glyphAtlasTexture.size,ga.iconsInText){ci=fa.imageAtlasTexture.size,Ai=fa.imageAtlasTexture;var $a=oi.kind==="composite"||oi.kind==="camera";Va=Ga||he.options.rotating||he.options.zooming||$a?_r.LINEAR:_r.NEAREST}}else{var Hi=de.layout.get("icon-size").constantOr(0)!==1||ga.iconsNeedLinear;vi=fa.imageAtlasTexture,Ja=Ha||he.options.rotating||he.options.zooming||Hi||Ga?_r.LINEAR:_r.NEAREST,si=fa.imageAtlasTexture.size}var no=yn(fa,1,he.transform.zoom),$s=Er(ca.posMatrix,Ur,Wr,he.transform,no),qs=Gr(ca.posMatrix,Ur,Wr,he.transform,no),Hl=Xn&&ga.hasTextData(),Vl=de.layout.get("icon-text-fit")!=="none"&&Hl&&ga.hasIconData();Qr&&mn(ga,ca.posMatrix,he,pe,$s,qs,Ur,Ut);var xu=he.translatePosMatrix(ca.posMatrix,fa,_e,Ze),Gl=Qr||pe&&Xn||Vl?fc:$s,ts=he.translatePosMatrix(qs,fa,_e,Ze,!0),$u=Ha&&de.paint.get(pe?"text-halo-width":"icon-halo-width").constantOr(1)!==0,zo=void 0;Ha?ga.iconsInText?zo=Ef(oi.kind,Pa,fn,Ur,he,xu,Gl,ts,si,ci):zo=Bl(oi.kind,Pa,fn,Ur,he,xu,Gl,ts,pe,si,!0):zo=Sf(oi.kind,Pa,fn,Ur,he,xu,Gl,ts,pe,si);var _s={program:Xa,buffers:Ta,uniformValues:zo,atlasTexture:vi,atlasTextureIcon:Ai,atlasInterpolation:Ja,atlasInterpolationIcon:Va,isSDF:Ha,hasHalo:$u};if(Rn)for(var Wl=Ta.segments.get(),wl=0,Yl=Wl;wl<Yl.length;wl+=1){var Jh=Yl[wl];Jn.push({segments:new i.SegmentVector([Jh]),sortKey:Jh.sortKey,state:_s})}else Jn.push({segments:Ta.segments,sortKey:0,state:_s})}}}Rn&&Jn.sort(function(Qh,$h){return Qh.sortKey-$h.sortKey});for(var If=0,Po=Jn;If<Po.length;If+=1){var Th=Po[If],Go=Th.state;if(xr.activeTexture.set(_r.TEXTURE0),Go.atlasTexture.bind(Go.atlasInterpolation,_r.CLAMP_TO_EDGE),Go.atlasTextureIcon&&(xr.activeTexture.set(_r.TEXTURE1),Go.atlasTextureIcon&&Go.atlasTextureIcon.bind(Go.atlasInterpolationIcon,_r.CLAMP_TO_EDGE)),Go.isSDF){var Ah=Go.uniformValues;Go.hasHalo&&(Ah.u_is_halo=1,hu(Go.buffers,Th.segments,de,he,Go.program,zn,Qt,fr,Ah)),Ah.u_is_halo=0}hu(Go.buffers,Th.segments,de,he,Go.program,zn,Qt,fr,Go.uniformValues)}}function hu(he,Z,de,te,pe,_e,Ze,lt,wt){var Ut=te.context,Qt=Ut.gl;pe.draw(Ut,Qt.TRIANGLES,_e,Ze,lt,Dt.disabled,wt,de.id,he.layoutVertexBuffer,he.indexBuffer,Z,de.paint,te.transform.zoom,he.programConfigurations.get(de.id),he.dynamicLayoutVertexBuffer,he.opacityVertexBuffer)}function Fs(he,Z,de,te){if(he.renderPass==="translucent"){var pe=de.paint.get("circle-opacity"),_e=de.paint.get("circle-stroke-width"),Ze=de.paint.get("circle-stroke-opacity"),lt=de.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(pe.constantOr(1)===0&&(_e.constantOr(1)===0||Ze.constantOr(1)===0))){for(var wt=he.context,Ut=wt.gl,Qt=he.depthModeForSublayer(0,Mr.ReadOnly),fr=Kt.disabled,xr=he.colorModeForRenderPass(),_r=[],Vr=0;Vr<te.length;Vr++){var Wr=te[Vr],Ur=Z.getTile(Wr),Qr=Ur.getBucket(de);if(Qr){var fn=Qr.programConfigurations.get(de.id),Rn=he.useProgram("circle",fn),zn=Qr.layoutVertexBuffer,Xn=Qr.indexBuffer,Jn=ch(he,Wr,Ur,de),Kn={programConfiguration:fn,program:Rn,layoutVertexBuffer:zn,indexBuffer:Xn,uniformValues:Jn};if(lt)for(var aa=Qr.segments.get(),ca=0,fa=aa;ca<fa.length;ca+=1){var ga=fa[ca];_r.push({segments:new i.SegmentVector([ga]),sortKey:ga.sortKey,state:Kn})}else _r.push({segments:Qr.segments,sortKey:0,state:Kn})}}lt&&_r.sort(function(Ja,Ai){return Ja.sortKey-Ai.sortKey});for(var Ta=0,Ia=_r;Ta<Ia.length;Ta+=1){var Ha=Ia[Ta],oi=Ha.state,Ga=oi.programConfiguration,Xa=oi.program,Pa=oi.layoutVertexBuffer,si=oi.indexBuffer,ci=oi.uniformValues,vi=Ha.segments;Xa.draw(wt,Ut.TRIANGLES,Qt,fr,xr,Dt.disabled,ci,de.id,Pa,si,vi,de.paint,he.transform.zoom,Ga)}}}}function yh(he,Z,de,te){if(de.paint.get("heatmap-opacity")!==0)if(he.renderPass==="offscreen"){var pe=he.context,_e=pe.gl,Ze=Kt.disabled,lt=new st([_e.ONE,_e.ONE],i.Color.transparent,[!0,!0,!0,!0]);Lf(pe,he,de),pe.clear({color:i.Color.transparent});for(var wt=0;wt<te.length;wt++){var Ut=te[wt];if(!Z.hasRenderableParent(Ut)){var Qt=Z.getTile(Ut),fr=Qt.getBucket(de);if(fr){var xr=fr.programConfigurations.get(de.id),_r=he.useProgram("heatmap",xr),Vr=he.transform,Wr=Vr.zoom;_r.draw(pe,_e.TRIANGLES,Mr.disabled,Ze,lt,Dt.disabled,cu(Ut.posMatrix,Qt,Wr,de.paint.get("heatmap-intensity")),de.id,fr.layoutVertexBuffer,fr.indexBuffer,fr.segments,de.paint,he.transform.zoom,xr)}}}pe.viewport.set([0,0,he.width,he.height])}else he.renderPass==="translucent"&&(he.context.setColorMode(he.colorModeForRenderPass()),vo(he,de))}function Lf(he,Z,de){var te=he.gl;he.activeTexture.set(te.TEXTURE1),he.viewport.set([0,0,Z.width/4,Z.height/4]);var pe=de.heatmapFbo;if(pe)te.bindTexture(te.TEXTURE_2D,pe.colorAttachment.get()),he.bindFramebuffer.set(pe.framebuffer);else{var _e=te.createTexture();te.bindTexture(te.TEXTURE_2D,_e),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_S,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_T,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MIN_FILTER,te.LINEAR),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MAG_FILTER,te.LINEAR),pe=de.heatmapFbo=he.createFramebuffer(Z.width/4,Z.height/4,!1),Wu(he,Z,_e,pe)}}function Wu(he,Z,de,te){var pe=he.gl,_e=he.extRenderToTextureHalfFloat?he.extTextureHalfFloat.HALF_FLOAT_OES:pe.UNSIGNED_BYTE;pe.texImage2D(pe.TEXTURE_2D,0,pe.RGBA,Z.width/4,Z.height/4,0,pe.RGBA,_e,null),te.colorAttachment.set(de)}function vo(he,Z){var de=he.context,te=de.gl,pe=Z.heatmapFbo;if(pe){de.activeTexture.set(te.TEXTURE0),te.bindTexture(te.TEXTURE_2D,pe.colorAttachment.get()),de.activeTexture.set(te.TEXTURE1);var _e=Z.colorRampTexture;_e||(_e=Z.colorRampTexture=new i.Texture(de,Z.colorRamp,te.RGBA)),_e.bind(te.LINEAR,te.CLAMP_TO_EDGE),he.useProgram("heatmapTexture").draw(de,te.TRIANGLES,Mr.disabled,Kt.disabled,he.colorModeForRenderPass(),Dt.disabled,Nu(he,Z,0,1),Z.id,he.viewportBuffer,he.quadTriangleIndexBuffer,he.viewportSegments,Z.paint,he.transform.zoom)}}function hc(he,Z,de,te){if(he.renderPass==="translucent"){var pe=de.paint.get("line-opacity"),_e=de.paint.get("line-width");if(!(pe.constantOr(1)===0||_e.constantOr(1)===0)){var Ze=he.depthModeForSublayer(0,Mr.ReadOnly),lt=he.colorModeForRenderPass(),wt=de.paint.get("line-dasharray"),Ut=de.paint.get("line-pattern"),Qt=Ut.constantOr(1),fr=de.paint.get("line-gradient"),xr=de.getCrossfadeParameters(),_r=Qt?"linePattern":wt?"lineSDF":fr?"lineGradient":"line",Vr=he.context,Wr=Vr.gl,Ur=!0;if(fr){Vr.activeTexture.set(Wr.TEXTURE0);var Qr=de.gradientTexture;if(!de.gradient)return;Qr||(Qr=de.gradientTexture=new i.Texture(Vr,de.gradient,Wr.RGBA)),Qr.bind(Wr.LINEAR,Wr.CLAMP_TO_EDGE)}for(var fn=0,Rn=te;fn<Rn.length;fn+=1){var zn=Rn[fn],Xn=Z.getTile(zn);if(!(Qt&&!Xn.patternsLoaded())){var Jn=Xn.getBucket(de);if(Jn){var Kn=Jn.programConfigurations.get(de.id),aa=he.context.program.get(),ca=he.useProgram(_r,Kn),fa=Ur||ca.program!==aa,ga=Ut.constantOr(null);if(ga&&Xn.imageAtlas){var Ta=Xn.imageAtlas,Ia=Ta.patternPositions[ga.to.toString()],Ha=Ta.patternPositions[ga.from.toString()];Ia&&Ha&&Kn.setConstantPatternPositions(Ia,Ha)}var oi=Qt?$o(he,Xn,de,xr):wt?Uu(he,Xn,de,wt,xr):fr?Bu(he,Xn,de):vl(he,Xn,de);Qt?(Vr.activeTexture.set(Wr.TEXTURE0),Xn.imageAtlasTexture.bind(Wr.LINEAR,Wr.CLAMP_TO_EDGE),Kn.updatePaintBuffers(xr)):wt&&(fa||he.lineAtlas.dirty)&&(Vr.activeTexture.set(Wr.TEXTURE0),he.lineAtlas.bind(Vr)),ca.draw(Vr,Wr.TRIANGLES,Ze,he.stencilModeForClipping(zn),lt,Dt.disabled,oi,de.id,Jn.layoutVertexBuffer,Jn.indexBuffer,Jn.segments,de.paint,he.transform.zoom,Kn),Ur=!1}}}}}}function vu(he,Z,de,te){var pe=de.paint.get("fill-color"),_e=de.paint.get("fill-opacity");if(_e.constantOr(1)!==0){var Ze=he.colorModeForRenderPass(),lt=de.paint.get("fill-pattern"),wt=he.opaquePassEnabledForLayer()&&!lt.constantOr(1)&&pe.constantOr(i.Color.transparent).a===1&&_e.constantOr(0)===1?"opaque":"translucent";if(he.renderPass===wt){var Ut=he.depthModeForSublayer(1,he.renderPass==="opaque"?Mr.ReadWrite:Mr.ReadOnly);ds(he,Z,de,te,Ut,Ze,!1)}if(he.renderPass==="translucent"&&de.paint.get("fill-antialias")){var Qt=he.depthModeForSublayer(de.getPaintProperty("fill-outline-color")?2:0,Mr.ReadOnly);ds(he,Z,de,te,Qt,Ze,!0)}}}function ds(he,Z,de,te,pe,_e,Ze){var lt=he.context.gl,wt=de.paint.get("fill-pattern"),Ut=wt&&wt.constantOr(1),Qt=de.getCrossfadeParameters(),fr,xr,_r,Vr,Wr;Ze?(xr=Ut&&!de.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",fr=lt.LINES):(xr=Ut?"fillPattern":"fill",fr=lt.TRIANGLES);for(var Ur=0,Qr=te;Ur<Qr.length;Ur+=1){var fn=Qr[Ur],Rn=Z.getTile(fn);if(!(Ut&&!Rn.patternsLoaded())){var zn=Rn.getBucket(de);if(zn){var Xn=zn.programConfigurations.get(de.id),Jn=he.useProgram(xr,Xn);Ut&&(he.context.activeTexture.set(lt.TEXTURE0),Rn.imageAtlasTexture.bind(lt.LINEAR,lt.CLAMP_TO_EDGE),Xn.updatePaintBuffers(Qt));var Kn=wt.constantOr(null);if(Kn&&Rn.imageAtlas){var aa=Rn.imageAtlas,ca=aa.patternPositions[Kn.to.toString()],fa=aa.patternPositions[Kn.from.toString()];ca&&fa&&Xn.setConstantPatternPositions(ca,fa)}var ga=he.translatePosMatrix(fn.posMatrix,Rn,de.paint.get("fill-translate"),de.paint.get("fill-translate-anchor"));if(!Ze)Vr=zn.indexBuffer,Wr=zn.segments,_r=Ut?hs(ga,he,Qt,Rn):Qo(ga);else{Vr=zn.indexBuffer2,Wr=zn.segments2;var Ta=[lt.drawingBufferWidth,lt.drawingBufferHeight];_r=xr==="fillOutlinePattern"&&Ut?uu(ga,he,Qt,Rn,Ta):lu(ga,Ta)}Jn.draw(he.context,fr,pe,he.stencilModeForClipping(fn),_e,Dt.disabled,_r,de.id,zn.layoutVertexBuffer,Vr,Wr,de.paint,he.transform.zoom,Xn)}}}}function du(he,Z,de,te){var pe=de.paint.get("fill-extrusion-opacity");if(pe!==0&&he.renderPass==="translucent"){var _e=new Mr(he.context.gl.LEQUAL,Mr.ReadWrite,he.depthRangeFor3D);if(pe===1&&!de.paint.get("fill-extrusion-pattern").constantOr(1)){var Ze=he.colorModeForRenderPass();Qs(he,Z,de,te,_e,Kt.disabled,Ze)}else Qs(he,Z,de,te,_e,Kt.disabled,st.disabled),Qs(he,Z,de,te,_e,he.stencilModeFor3D(),he.colorModeForRenderPass())}}function Qs(he,Z,de,te,pe,_e,Ze){for(var lt=he.context,wt=lt.gl,Ut=de.paint.get("fill-extrusion-pattern"),Qt=Ut.constantOr(1),fr=de.getCrossfadeParameters(),xr=de.paint.get("fill-extrusion-opacity"),_r=0,Vr=te;_r<Vr.length;_r+=1){var Wr=Vr[_r],Ur=Z.getTile(Wr),Qr=Ur.getBucket(de);if(Qr){var fn=Qr.programConfigurations.get(de.id),Rn=he.useProgram(Qt?"fillExtrusionPattern":"fillExtrusion",fn);Qt&&(he.context.activeTexture.set(wt.TEXTURE0),Ur.imageAtlasTexture.bind(wt.LINEAR,wt.CLAMP_TO_EDGE),fn.updatePaintBuffers(fr));var zn=Ut.constantOr(null);if(zn&&Ur.imageAtlas){var Xn=Ur.imageAtlas,Jn=Xn.patternPositions[zn.to.toString()],Kn=Xn.patternPositions[zn.from.toString()];Jn&&Kn&&fn.setConstantPatternPositions(Jn,Kn)}var aa=he.translatePosMatrix(Wr.posMatrix,Ur,de.paint.get("fill-extrusion-translate"),de.paint.get("fill-extrusion-translate-anchor")),ca=de.paint.get("fill-extrusion-vertical-gradient"),fa=Qt?Ps(aa,he,ca,xr,Wr,fr,Ur):Eo(aa,he,ca,xr);Rn.draw(lt,lt.gl.TRIANGLES,pe,_e,Ze,Dt.backCCW,fa,de.id,Qr.layoutVertexBuffer,Qr.indexBuffer,Qr.segments,de.paint,he.transform.zoom,fn)}}}function Yu(he,Z,de,te){if(!(he.renderPass!=="offscreen"&&he.renderPass!=="translucent")){for(var pe=he.context,_e=Z.getSource().maxzoom,Ze=he.depthModeForSublayer(0,Mr.ReadOnly),lt=he.colorModeForRenderPass(),wt=he.renderPass==="translucent"?he.stencilConfigForOverlap(te):[{},te],Ut=wt[0],Qt=wt[1],fr=0,xr=Qt;fr<xr.length;fr+=1){var _r=xr[fr],Vr=Z.getTile(_r);Vr.needsHillshadePrepare&&he.renderPass==="offscreen"?Pf(he,Vr,de,_e,Ze,Kt.disabled,lt):he.renderPass==="translucent"&&vc(he,Vr,de,Ze,Ut[_r.overscaledZ],lt)}pe.viewport.set([0,0,he.width,he.height])}}function vc(he,Z,de,te,pe,_e){var Ze=he.context,lt=Ze.gl,wt=Z.fbo;if(wt){var Ut=he.useProgram("hillshade");Ze.activeTexture.set(lt.TEXTURE0),lt.bindTexture(lt.TEXTURE_2D,wt.colorAttachment.get());var Qt=sc(he,Z,de);Ut.draw(Ze,lt.TRIANGLES,te,pe,_e,Dt.disabled,Qt,de.id,he.rasterBoundsBuffer,he.quadTriangleIndexBuffer,he.rasterBoundsSegments)}}function Pf(he,Z,de,te,pe,_e,Ze){var lt=he.context,wt=lt.gl,Ut=Z.dem;if(Ut&&Ut.data){var Qt=Ut.dim,fr=Ut.stride,xr=Ut.getPixels();if(lt.activeTexture.set(wt.TEXTURE1),lt.pixelStoreUnpackPremultiplyAlpha.set(!1),Z.demTexture=Z.demTexture||he.getTileTexture(fr),Z.demTexture){var _r=Z.demTexture;_r.update(xr,{premultiply:!1}),_r.bind(wt.NEAREST,wt.CLAMP_TO_EDGE)}else Z.demTexture=new i.Texture(lt,xr,wt.RGBA,{premultiply:!1}),Z.demTexture.bind(wt.NEAREST,wt.CLAMP_TO_EDGE);lt.activeTexture.set(wt.TEXTURE0);var Vr=Z.fbo;if(!Vr){var Wr=new i.Texture(lt,{width:Qt,height:Qt,data:null},wt.RGBA);Wr.bind(wt.LINEAR,wt.CLAMP_TO_EDGE),Vr=Z.fbo=lt.createFramebuffer(Qt,Qt,!0),Vr.colorAttachment.set(Wr.texture)}lt.bindFramebuffer.set(Vr.framebuffer),lt.viewport.set([0,0,Qt,Qt]),he.useProgram("hillshadePrepare").draw(lt,wt.TRIANGLES,pe,_e,Ze,Dt.disabled,Tf(Z.tileID,Ut,te),de.id,he.rasterBoundsBuffer,he.quadTriangleIndexBuffer,he.rasterBoundsSegments),Z.needsHillshadePrepare=!1}}function Rf(he,Z,de,te){if(he.renderPass==="translucent"&&de.paint.get("raster-opacity")!==0&&te.length)for(var pe=he.context,_e=pe.gl,Ze=Z.getSource(),lt=he.useProgram("raster"),wt=he.colorModeForRenderPass(),Ut=Ze instanceof K?[{},te]:he.stencilConfigForOverlap(te),Qt=Ut[0],fr=Ut[1],xr=fr[fr.length-1].overscaledZ,_r=!he.options.moving,Vr=0,Wr=fr;Vr<Wr.length;Vr+=1){var Ur=Wr[Vr],Qr=he.depthModeForSublayer(Ur.overscaledZ-xr,de.paint.get("raster-opacity")===1?Mr.ReadWrite:Mr.ReadOnly,_e.LESS),fn=Z.getTile(Ur),Rn=he.transform.calculatePosMatrix(Ur.toUnwrapped(),_r);fn.registerFadeDuration(de.paint.get("raster-fade-duration"));var zn=Z.findLoadedParent(Ur,0),Xn=xl(fn,zn,Z,de,he.transform),Jn=void 0,Kn=void 0,aa=de.paint.get("raster-resampling")==="nearest"?_e.NEAREST:_e.LINEAR;pe.activeTexture.set(_e.TEXTURE0),fn.texture.bind(aa,_e.CLAMP_TO_EDGE,_e.LINEAR_MIPMAP_NEAREST),pe.activeTexture.set(_e.TEXTURE1),zn?(zn.texture.bind(aa,_e.CLAMP_TO_EDGE,_e.LINEAR_MIPMAP_NEAREST),Jn=Math.pow(2,zn.tileID.overscaledZ-fn.tileID.overscaledZ),Kn=[fn.tileID.canonical.x*Jn%1,fn.tileID.canonical.y*Jn%1]):fn.texture.bind(aa,_e.CLAMP_TO_EDGE,_e.LINEAR_MIPMAP_NEAREST);var ca=Nl(Rn,Kn||[0,0],Jn||1,Xn,de);Ze instanceof K?lt.draw(pe,_e.TRIANGLES,Qr,Kt.disabled,wt,Dt.disabled,ca,de.id,Ze.boundsBuffer,he.quadTriangleIndexBuffer,Ze.boundsSegments):lt.draw(pe,_e.TRIANGLES,Qr,Qt[Ur.overscaledZ],wt,Dt.disabled,ca,de.id,he.rasterBoundsBuffer,he.quadTriangleIndexBuffer,he.rasterBoundsSegments)}}function xl(he,Z,de,te,pe){var _e=te.paint.get("raster-fade-duration");if(_e>0){var Ze=i.browser.now(),lt=(Ze-he.timeAdded)/_e,wt=Z?(Ze-Z.timeAdded)/_e:-1,Ut=de.getSource(),Qt=pe.coveringZoomLevel({tileSize:Ut.tileSize,roundZoom:Ut.roundZoom}),fr=!Z||Math.abs(Z.tileID.overscaledZ-Qt)>Math.abs(he.tileID.overscaledZ-Qt),xr=fr&&he.refreshedUponExpiration?1:i.clamp(fr?lt:1-wt,0,1);return he.refreshedUponExpiration&&lt>=1&&(he.refreshedUponExpiration=!1),Z?{opacity:1,mix:1-xr}:{opacity:xr,mix:0}}else return{opacity:1,mix:0}}function ju(he,Z,de){var te=de.paint.get("background-color"),pe=de.paint.get("background-opacity");if(pe!==0){var _e=he.context,Ze=_e.gl,lt=he.transform,wt=lt.tileSize,Ut=de.paint.get("background-pattern");if(!he.isPatternMissing(Ut)){var Qt=!Ut&&te.a===1&&pe===1&&he.opaquePassEnabledForLayer()?"opaque":"translucent";if(he.renderPass===Qt){var fr=Kt.disabled,xr=he.depthModeForSublayer(0,Qt==="opaque"?Mr.ReadWrite:Mr.ReadOnly),_r=he.colorModeForRenderPass(),Vr=he.useProgram(Ut?"backgroundPattern":"background"),Wr=lt.coveringTiles({tileSize:wt});Ut&&(_e.activeTexture.set(Ze.TEXTURE0),he.imageManager.bind(he.context));for(var Ur=de.getCrossfadeParameters(),Qr=0,fn=Wr;Qr<fn.length;Qr+=1){var Rn=fn[Qr],zn=he.transform.calculatePosMatrix(Rn.toUnwrapped()),Xn=Ut?pl(zn,pe,he,Ut,{tileID:Rn,tileSize:wt},Ur):Ks(zn,pe,te);Vr.draw(_e,Ze.TRIANGLES,xr,fr,_r,Dt.disabled,Xn,de.id,he.tileExtentBuffer,he.quadTriangleIndexBuffer,he.tileExtentSegments)}}}}}var pu=new i.Color(1,0,0,1),dc=new i.Color(0,1,0,1),gu=new i.Color(0,0,1,1),pc=new i.Color(1,0,1,1),Xe=new i.Color(0,1,1,1);function nt(he){var Z=he.transform.padding,de=3;mt(he,he.transform.height-(Z.top||0),de,pu),mt(he,Z.bottom||0,de,dc),Ft(he,Z.left||0,de,gu),Ft(he,he.transform.width-(Z.right||0),de,pc);var te=he.transform.centerPoint;ct(he,te.x,he.transform.height-te.y,Xe)}function ct(he,Z,de,te){var pe=20,_e=2;Lt(he,Z-_e/2,de-pe/2,_e,pe,te),Lt(he,Z-pe/2,de-_e/2,pe,_e,te)}function mt(he,Z,de,te){Lt(he,0,Z+de/2,he.transform.width,de,te)}function Ft(he,Z,de,te){Lt(he,Z-de/2,0,de,he.transform.height,te)}function Lt(he,Z,de,te,pe,_e){var Ze=he.context,lt=Ze.gl;lt.enable(lt.SCISSOR_TEST),lt.scissor(Z*i.browser.devicePixelRatio,de*i.browser.devicePixelRatio,te*i.browser.devicePixelRatio,pe*i.browser.devicePixelRatio),Ze.clear({color:_e}),lt.disable(lt.SCISSOR_TEST)}function Ot(he,Z,de){for(var te=0;te<de.length;te++)cr(he,Z,de[te])}function cr(he,Z,de){var te=he.context,pe=te.gl,_e=de.posMatrix,Ze=he.useProgram("debug"),lt=Mr.disabled,wt=Kt.disabled,Ut=he.colorModeForRenderPass(),Qt="$debug";te.activeTexture.set(pe.TEXTURE0),he.emptyTexture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE),Ze.draw(te,pe.LINE_STRIP,lt,wt,Ut,Dt.disabled,Ol(_e,i.Color.red),Qt,he.debugBuffer,he.tileBorderIndexBuffer,he.debugSegments);var fr=Z.getTileByID(de.key).latestRawTileData,xr=fr&&fr.byteLength||0,_r=Math.floor(xr/1024),Vr=Z.getTile(de).tileSize,Wr=512/Math.min(Vr,512)*(de.overscaledZ/he.transform.zoom)*.5,Ur=de.canonical.toString();de.overscaledZ!==de.canonical.z&&(Ur+=" => "+de.overscaledZ);var Qr=Ur+" "+_r+"kb";yr(he,Qr),Ze.draw(te,pe.TRIANGLES,lt,wt,st.alphaBlended,Dt.disabled,Ol(_e,i.Color.transparent,Wr),Qt,he.debugBuffer,he.quadTriangleIndexBuffer,he.debugSegments)}function yr(he,Z){he.initDebugOverlayCanvas();var de=he.debugOverlayCanvas,te=he.context.gl,pe=he.debugOverlayCanvas.getContext("2d");pe.clearRect(0,0,de.width,de.height),pe.shadowColor="white",pe.shadowBlur=2,pe.lineWidth=1.5,pe.strokeStyle="white",pe.textBaseline="top",pe.font="bold 36px Open Sans, sans-serif",pe.fillText(Z,5,5),pe.strokeText(Z,5,5),he.debugOverlayTexture.update(de),he.debugOverlayTexture.bind(te.LINEAR,te.CLAMP_TO_EDGE)}function ar(he,Z,de){var te=he.context,pe=de.implementation;if(he.renderPass==="offscreen"){var _e=pe.prerender;_e&&(he.setCustomLayerDefaults(),te.setColorMode(he.colorModeForRenderPass()),_e.call(pe,te.gl,he.transform.customLayerMatrix()),te.setDirty(),he.setBaseState())}else if(he.renderPass==="translucent"){he.setCustomLayerDefaults(),te.setColorMode(he.colorModeForRenderPass()),te.setStencilMode(Kt.disabled);var Ze=pe.renderingMode==="3d"?new Mr(he.context.gl.LEQUAL,Mr.ReadWrite,he.depthRangeFor3D):he.depthModeForSublayer(0,Mr.ReadOnly);te.setDepthMode(Ze),pe.render(te.gl,he.transform.customLayerMatrix()),te.setDirty(),he.setBaseState(),te.bindFramebuffer.set(null)}}var Ar={symbol:Ul,circle:Fs,heatmap:yh,line:hc,fill:vu,"fill-extrusion":du,hillshade:Yu,raster:Rf,background:ju,debug:Ot,custom:ar},Rr=function(Z,de){this.context=new Rt(Z),this.transform=de,this._tileTextures={},this.setup(),this.numSublayers=Nt.maxUnderzooming+Nt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new sa,this.gpuTimers={}};Rr.prototype.resize=function(Z,de){if(this.width=Z*i.browser.devicePixelRatio,this.height=de*i.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var te=0,pe=this.style._order;te<pe.length;te+=1){var _e=pe[te];this.style._layers[_e].resize()}},Rr.prototype.setup=function(){var Z=this.context,de=new i.StructArrayLayout2i4;de.emplaceBack(0,0),de.emplaceBack(i.EXTENT,0),de.emplaceBack(0,i.EXTENT),de.emplaceBack(i.EXTENT,i.EXTENT),this.tileExtentBuffer=Z.createVertexBuffer(de,Mo.members),this.tileExtentSegments=i.SegmentVector.simpleSegment(0,0,4,2);var te=new i.StructArrayLayout2i4;te.emplaceBack(0,0),te.emplaceBack(i.EXTENT,0),te.emplaceBack(0,i.EXTENT),te.emplaceBack(i.EXTENT,i.EXTENT),this.debugBuffer=Z.createVertexBuffer(te,Mo.members),this.debugSegments=i.SegmentVector.simpleSegment(0,0,4,5);var pe=new i.StructArrayLayout4i8;pe.emplaceBack(0,0,0,0),pe.emplaceBack(i.EXTENT,0,i.EXTENT,0),pe.emplaceBack(0,i.EXTENT,0,i.EXTENT),pe.emplaceBack(i.EXTENT,i.EXTENT,i.EXTENT,i.EXTENT),this.rasterBoundsBuffer=Z.createVertexBuffer(pe,Y.members),this.rasterBoundsSegments=i.SegmentVector.simpleSegment(0,0,4,2);var _e=new i.StructArrayLayout2i4;_e.emplaceBack(0,0),_e.emplaceBack(1,0),_e.emplaceBack(0,1),_e.emplaceBack(1,1),this.viewportBuffer=Z.createVertexBuffer(_e,Mo.members),this.viewportSegments=i.SegmentVector.simpleSegment(0,0,4,2);var Ze=new i.StructArrayLayout1ui2;Ze.emplaceBack(0),Ze.emplaceBack(1),Ze.emplaceBack(3),Ze.emplaceBack(2),Ze.emplaceBack(0),this.tileBorderIndexBuffer=Z.createIndexBuffer(Ze);var lt=new i.StructArrayLayout3ui6;lt.emplaceBack(0,1,2),lt.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=Z.createIndexBuffer(lt),this.emptyTexture=new i.Texture(Z,{width:1,height:1,data:new Uint8Array([0,0,0,0])},Z.gl.RGBA);var wt=this.context.gl;this.stencilClearMode=new Kt({func:wt.ALWAYS,mask:0},0,255,wt.ZERO,wt.ZERO,wt.ZERO)},Rr.prototype.clearStencil=function(){var Z=this.context,de=Z.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var te=i.create();i.ortho(te,0,this.width,this.height,0,0,1),i.scale(te,te,[de.drawingBufferWidth,de.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(Z,de.TRIANGLES,Mr.disabled,this.stencilClearMode,st.disabled,Dt.disabled,Co(te),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Rr.prototype._renderTileClippingMasks=function(Z,de){if(!(this.currentStencilSource===Z.source||!Z.isTileClipped()||!de||!de.length)){this.currentStencilSource=Z.source;var te=this.context,pe=te.gl;this.nextStencilID+de.length>256&&this.clearStencil(),te.setColorMode(st.disabled),te.setDepthMode(Mr.disabled);var _e=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Ze=0,lt=de;Ze<lt.length;Ze+=1){var wt=lt[Ze],Ut=this._tileClippingMaskIDs[wt.key]=this.nextStencilID++;_e.draw(te,pe.TRIANGLES,Mr.disabled,new Kt({func:pe.ALWAYS,mask:0},Ut,255,pe.KEEP,pe.KEEP,pe.REPLACE),st.disabled,Dt.disabled,Co(wt.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Rr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var Z=this.nextStencilID++,de=this.context.gl;return new Kt({func:de.NOTEQUAL,mask:255},Z,255,de.KEEP,de.KEEP,de.REPLACE)},Rr.prototype.stencilModeForClipping=function(Z){var de=this.context.gl;return new Kt({func:de.EQUAL,mask:255},this._tileClippingMaskIDs[Z.key],0,de.KEEP,de.KEEP,de.REPLACE)},Rr.prototype.stencilConfigForOverlap=function(Z){var de,te=this.context.gl,pe=Z.sort(function(Ut,Qt){return Qt.overscaledZ-Ut.overscaledZ}),_e=pe[pe.length-1].overscaledZ,Ze=pe[0].overscaledZ-_e+1;if(Ze>1){this.currentStencilSource=void 0,this.nextStencilID+Ze>256&&this.clearStencil();for(var lt={},wt=0;wt<Ze;wt++)lt[wt+_e]=new Kt({func:te.GEQUAL,mask:255},wt+this.nextStencilID,255,te.KEEP,te.KEEP,te.REPLACE);return this.nextStencilID+=Ze,[lt,pe]}return[(de={},de[_e]=Kt.disabled,de),pe]},Rr.prototype.colorModeForRenderPass=function(){var Z=this.context.gl;if(this._showOverdrawInspector){var de=8,te=1/de;return new st([Z.CONSTANT_COLOR,Z.ONE],new i.Color(te,te,te,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?st.unblended:st.alphaBlended},Rr.prototype.depthModeForSublayer=function(Z,de,te){if(!this.opaquePassEnabledForLayer())return Mr.disabled;var pe=1-((1+this.currentLayer)*this.numSublayers+Z)*this.depthEpsilon;return new Mr(te||this.context.gl.LEQUAL,de,[pe,pe])},Rr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Rr.prototype.render=function(Z,de){var te=this;this.style=Z,this.options=de,this.lineAtlas=Z.lineAtlas,this.imageManager=Z.imageManager,this.glyphManager=Z.glyphManager,this.symbolFadeChange=Z.placement.symbolFadeChange(i.browser.now()),this.imageManager.beginFrame();var pe=this.style._order,_e=this.style.sourceCaches;for(var Ze in _e){var lt=_e[Ze];lt.used&&lt.prepare(this.context)}var wt={},Ut={},Qt={};for(var fr in _e){var xr=_e[fr];wt[fr]=xr.getVisibleCoordinates(),Ut[fr]=wt[fr].slice().reverse(),Qt[fr]=xr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var _r=0;_r<pe.length;_r++){var Vr=pe[_r];if(this.style._layers[Vr].is3D()){this.opaquePassCutoff=_r;break}}this.renderPass="offscreen";for(var Wr=0,Ur=pe;Wr<Ur.length;Wr+=1){var Qr=Ur[Wr],fn=this.style._layers[Qr];if(!(!fn.hasOffscreenPass()||fn.isHidden(this.transform.zoom))){var Rn=Ut[fn.source];fn.type!=="custom"&&!Rn.length||this.renderLayer(this,_e[fn.source],fn,Rn)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:de.showOverdrawInspector?i.Color.black:i.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=de.showOverdrawInspector,this.depthRangeFor3D=[0,1-(Z._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=pe.length-1;this.currentLayer>=0;this.currentLayer--){var zn=this.style._layers[pe[this.currentLayer]],Xn=_e[zn.source],Jn=wt[zn.source];this._renderTileClippingMasks(zn,Jn),this.renderLayer(this,Xn,zn,Jn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<pe.length;this.currentLayer++){var Kn=this.style._layers[pe[this.currentLayer]],aa=_e[Kn.source],ca=(Kn.type==="symbol"?Qt:Ut)[Kn.source];this._renderTileClippingMasks(Kn,wt[Kn.source]),this.renderLayer(this,aa,Kn,ca)}if(this.options.showTileBoundaries){var fa,ga,Ta=i.values(this.style._layers);Ta.forEach(function(Ia){Ia.source&&!Ia.isHidden(te.transform.zoom)&&(Ia.source!==(ga&&ga.id)&&(ga=te.style.sourceCaches[Ia.source]),(!fa||fa.getSource().maxzoom<ga.getSource().maxzoom)&&(fa=ga))}),fa&&Ar.debug(this,fa,fa.getVisibleCoordinates())}this.options.showPadding&&nt(this),this.context.setDefault()},Rr.prototype.renderLayer=function(Z,de,te,pe){te.isHidden(this.transform.zoom)||te.type!=="background"&&te.type!=="custom"&&!pe.length||(this.id=te.id,this.gpuTimingStart(te),Ar[te.type](Z,de,te,pe,this.style.placement.variableOffsets),this.gpuTimingEnd())},Rr.prototype.gpuTimingStart=function(Z){if(this.options.gpuTiming){var de=this.context.extTimerQuery,te=this.gpuTimers[Z.id];te||(te=this.gpuTimers[Z.id]={calls:0,cpuTime:0,query:de.createQueryEXT()}),te.calls++,de.beginQueryEXT(de.TIME_ELAPSED_EXT,te.query)}},Rr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var Z=this.context.extTimerQuery;Z.endQueryEXT(Z.TIME_ELAPSED_EXT)}},Rr.prototype.collectGpuTimers=function(){var Z=this.gpuTimers;return this.gpuTimers={},Z},Rr.prototype.queryGpuTimers=function(Z){var de={};for(var te in Z){var pe=Z[te],_e=this.context.extTimerQuery,Ze=_e.getQueryObjectEXT(pe.query,_e.QUERY_RESULT_EXT)/(1e3*1e3);_e.deleteQueryEXT(pe.query),de[te]=Ze}return de},Rr.prototype.translatePosMatrix=function(Z,de,te,pe,_e){if(!te[0]&&!te[1])return Z;var Ze=_e?pe==="map"?this.transform.angle:0:pe==="viewport"?-this.transform.angle:0;if(Ze){var lt=Math.sin(Ze),wt=Math.cos(Ze);te=[te[0]*wt-te[1]*lt,te[0]*lt+te[1]*wt]}var Ut=[_e?te[0]:yn(de,te[0],this.transform.zoom),_e?te[1]:yn(de,te[1],this.transform.zoom),0],Qt=new Float32Array(16);return i.translate(Qt,Z,Ut),Qt},Rr.prototype.saveTileTexture=function(Z){var de=this._tileTextures[Z.size[0]];de?de.push(Z):this._tileTextures[Z.size[0]]=[Z]},Rr.prototype.getTileTexture=function(Z){var de=this._tileTextures[Z];return de&&de.length>0?de.pop():null},Rr.prototype.isPatternMissing=function(Z){if(!Z)return!1;if(!Z.from||!Z.to)return!0;var de=this.imageManager.getPattern(Z.from.toString()),te=this.imageManager.getPattern(Z.to.toString());return!de||!te},Rr.prototype.useProgram=function(Z,de){this.cache=this.cache||{};var te=""+Z+(de?de.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[te]||(this.cache[te]=new zl(this.context,ac[Z],de,yl[Z],this._showOverdrawInspector)),this.cache[te]},Rr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Rr.prototype.setBaseState=function(){var Z=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(Z.FUNC_ADD)},Rr.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=i.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var Z=this.context.gl;this.debugOverlayTexture=new i.Texture(this.context,this.debugOverlayCanvas,Z.RGBA)}},Rr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Yr=function(Z,de){this.points=Z,this.planes=de};Yr.fromInvProjectionMatrix=function(Z,de,te){var pe=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],_e=Math.pow(2,te),Ze=pe.map(function(Ut){return i.transformMat4([],Ut,Z)}).map(function(Ut){return i.scale$1([],Ut,1/Ut[3]/de*_e)}),lt=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],wt=lt.map(function(Ut){var Qt=i.sub([],Ze[Ut[0]],Ze[Ut[1]]),fr=i.sub([],Ze[Ut[2]],Ze[Ut[1]]),xr=i.normalize([],i.cross([],Qt,fr)),_r=-i.dot(xr,Ze[Ut[1]]);return xr.concat(_r)});return new Yr(Ze,wt)};var Jr=function(Z,de){this.min=Z,this.max=de,this.center=i.scale$2([],i.add([],this.min,this.max),.5)};Jr.prototype.quadrant=function(Z){for(var de=[Z%2===0,Z<2],te=i.clone$2(this.min),pe=i.clone$2(this.max),_e=0;_e<de.length;_e++)te[_e]=de[_e]?this.min[_e]:this.center[_e],pe[_e]=de[_e]?this.center[_e]:this.max[_e];return pe[2]=this.max[2],new Jr(te,pe)},Jr.prototype.distanceX=function(Z){var de=Math.max(Math.min(this.max[0],Z[0]),this.min[0]);return de-Z[0]},Jr.prototype.distanceY=function(Z){var de=Math.max(Math.min(this.max[1],Z[1]),this.min[1]);return de-Z[1]},Jr.prototype.intersects=function(Z){for(var de=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],te=!0,pe=0;pe<Z.planes.length;pe++){for(var _e=Z.planes[pe],Ze=0,lt=0;lt<de.length;lt++)Ze+=i.dot$1(_e,de[lt])>=0;if(Ze===0)return 0;Ze!==de.length&&(te=!1)}if(te)return 2;for(var wt=0;wt<3;wt++){for(var Ut=Number.MAX_VALUE,Qt=-Number.MAX_VALUE,fr=0;fr<Z.points.length;fr++){var xr=Z.points[fr][wt]-this.min[wt];Ut=Math.min(Ut,xr),Qt=Math.max(Qt,xr)}if(Qt<0||Ut>this.max[wt]-this.min[wt])return 0}return 1};var bn=function(Z,de,te,pe){if(Z===void 0&&(Z=0),de===void 0&&(de=0),te===void 0&&(te=0),pe===void 0&&(pe=0),isNaN(Z)||Z<0||isNaN(de)||de<0||isNaN(te)||te<0||isNaN(pe)||pe<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=Z,this.bottom=de,this.left=te,this.right=pe};bn.prototype.interpolate=function(Z,de,te){return de.top!=null&&Z.top!=null&&(this.top=i.number(Z.top,de.top,te)),de.bottom!=null&&Z.bottom!=null&&(this.bottom=i.number(Z.bottom,de.bottom,te)),de.left!=null&&Z.left!=null&&(this.left=i.number(Z.left,de.left,te)),de.right!=null&&Z.right!=null&&(this.right=i.number(Z.right,de.right,te)),this},bn.prototype.getCenter=function(Z,de){var te=i.clamp((this.left+Z-this.right)/2,0,Z),pe=i.clamp((this.top+de-this.bottom)/2,0,de);return new i.Point(te,pe)},bn.prototype.equals=function(Z){return this.top===Z.top&&this.bottom===Z.bottom&&this.left===Z.left&&this.right===Z.right},bn.prototype.clone=function(){return new bn(this.top,this.bottom,this.left,this.right)},bn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var An=function(Z,de,te,pe,_e){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=_e===void 0?!0:_e,this._minZoom=Z||0,this._maxZoom=de||22,this._minPitch=te??0,this._maxPitch=pe??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new i.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new bn,this._posMatrixCache={},this._alignedPosMatrixCache={}},In={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};An.prototype.clone=function(){var Z=new An(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return Z.tileSize=this.tileSize,Z.latRange=this.latRange,Z.width=this.width,Z.height=this.height,Z._center=this._center,Z.zoom=this.zoom,Z.angle=this.angle,Z._fov=this._fov,Z._pitch=this._pitch,Z._unmodified=this._unmodified,Z._edgeInsets=this._edgeInsets.clone(),Z._calcMatrices(),Z},In.minZoom.get=function(){return this._minZoom},In.minZoom.set=function(he){this._minZoom!==he&&(this._minZoom=he,this.zoom=Math.max(this.zoom,he))},In.maxZoom.get=function(){return this._maxZoom},In.maxZoom.set=function(he){this._maxZoom!==he&&(this._maxZoom=he,this.zoom=Math.min(this.zoom,he))},In.minPitch.get=function(){return this._minPitch},In.minPitch.set=function(he){this._minPitch!==he&&(this._minPitch=he,this.pitch=Math.max(this.pitch,he))},In.maxPitch.get=function(){return this._maxPitch},In.maxPitch.set=function(he){this._maxPitch!==he&&(this._maxPitch=he,this.pitch=Math.min(this.pitch,he))},In.renderWorldCopies.get=function(){return this._renderWorldCopies},In.renderWorldCopies.set=function(he){he===void 0?he=!0:he===null&&(he=!1),this._renderWorldCopies=he},In.worldSize.get=function(){return this.tileSize*this.scale},In.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},In.size.get=function(){return new i.Point(this.width,this.height)},In.bearing.get=function(){return-this.angle/Math.PI*180},In.bearing.set=function(he){var Z=-i.wrap(he,-180,180)*Math.PI/180;this.angle!==Z&&(this._unmodified=!1,this.angle=Z,this._calcMatrices(),this.rotationMatrix=i.create$2(),i.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},In.pitch.get=function(){return this._pitch/Math.PI*180},In.pitch.set=function(he){var Z=i.clamp(he,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==Z&&(this._unmodified=!1,this._pitch=Z,this._calcMatrices())},In.fov.get=function(){return this._fov/Math.PI*180},In.fov.set=function(he){he=Math.max(.01,Math.min(60,he)),this._fov!==he&&(this._unmodified=!1,this._fov=he/180*Math.PI,this._calcMatrices())},In.zoom.get=function(){return this._zoom},In.zoom.set=function(he){var Z=Math.min(Math.max(he,this.minZoom),this.maxZoom);this._zoom!==Z&&(this._unmodified=!1,this._zoom=Z,this.scale=this.zoomScale(Z),this.tileZoom=Math.floor(Z),this.zoomFraction=Z-this.tileZoom,this._constrain(),this._calcMatrices())},In.center.get=function(){return this._center},In.center.set=function(he){he.lat===this._center.lat&&he.lng===this._center.lng||(this._unmodified=!1,this._center=he,this._constrain(),this._calcMatrices())},In.padding.get=function(){return this._edgeInsets.toJSON()},In.padding.set=function(he){this._edgeInsets.equals(he)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,he,1),this._calcMatrices())},In.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},An.prototype.isPaddingEqual=function(Z){return this._edgeInsets.equals(Z)},An.prototype.interpolatePadding=function(Z,de,te){this._unmodified=!1,this._edgeInsets.interpolate(Z,de,te),this._constrain(),this._calcMatrices()},An.prototype.coveringZoomLevel=function(Z){var de=(Z.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/Z.tileSize));return Math.max(0,de)},An.prototype.getVisibleUnwrappedCoordinates=function(Z){var de=[new i.UnwrappedTileID(0,Z)];if(this._renderWorldCopies)for(var te=this.pointCoordinate(new i.Point(0,0)),pe=this.pointCoordinate(new i.Point(this.width,0)),_e=this.pointCoordinate(new i.Point(this.width,this.height)),Ze=this.pointCoordinate(new i.Point(0,this.height)),lt=Math.floor(Math.min(te.x,pe.x,_e.x,Ze.x)),wt=Math.floor(Math.max(te.x,pe.x,_e.x,Ze.x)),Ut=1,Qt=lt-Ut;Qt<=wt+Ut;Qt++)Qt!==0&&de.push(new i.UnwrappedTileID(Qt,Z));return de},An.prototype.coveringTiles=function(Z){var de=this.coveringZoomLevel(Z),te=de;if(Z.minzoom!==void 0&&de<Z.minzoom)return[];Z.maxzoom!==void 0&&de>Z.maxzoom&&(de=Z.maxzoom);var pe=i.MercatorCoordinate.fromLngLat(this.center),_e=Math.pow(2,de),Ze=[_e*pe.x,_e*pe.y,0],lt=Yr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,de),wt=Z.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(wt=de);var Ut=3,Qt=function(Ta){return{aabb:new Jr([Ta*_e,0,0],[(Ta+1)*_e,_e,0]),zoom:0,x:0,y:0,wrap:Ta,fullyVisible:!1}},fr=[],xr=[],_r=de,Vr=Z.reparseOverscaled?te:de;if(this._renderWorldCopies)for(var Wr=1;Wr<=3;Wr++)fr.push(Qt(-Wr)),fr.push(Qt(Wr));for(fr.push(Qt(0));fr.length>0;){var Ur=fr.pop(),Qr=Ur.x,fn=Ur.y,Rn=Ur.fullyVisible;if(!Rn){var zn=Ur.aabb.intersects(lt);if(zn===0)continue;Rn=zn===2}var Xn=Ur.aabb.distanceX(Ze),Jn=Ur.aabb.distanceY(Ze),Kn=Math.max(Math.abs(Xn),Math.abs(Jn)),aa=Ut+(1<<_r-Ur.zoom)-2;if(Ur.zoom===_r||Kn>aa&&Ur.zoom>=wt){xr.push({tileID:new i.OverscaledTileID(Ur.zoom===_r?Vr:Ur.zoom,Ur.wrap,Ur.zoom,Qr,fn),distanceSq:i.sqrLen([Ze[0]-.5-Qr,Ze[1]-.5-fn])});continue}for(var ca=0;ca<4;ca++){var fa=(Qr<<1)+ca%2,ga=(fn<<1)+(ca>>1);fr.push({aabb:Ur.aabb.quadrant(ca),zoom:Ur.zoom+1,x:fa,y:ga,wrap:Ur.wrap,fullyVisible:Rn})}}return xr.sort(function(Ta,Ia){return Ta.distanceSq-Ia.distanceSq}).map(function(Ta){return Ta.tileID})},An.prototype.resize=function(Z,de){this.width=Z,this.height=de,this.pixelsToGLUnits=[2/Z,-2/de],this._constrain(),this._calcMatrices()},In.unmodified.get=function(){return this._unmodified},An.prototype.zoomScale=function(Z){return Math.pow(2,Z)},An.prototype.scaleZoom=function(Z){return Math.log(Z)/Math.LN2},An.prototype.project=function(Z){var de=i.clamp(Z.lat,-this.maxValidLatitude,this.maxValidLatitude);return new i.Point(i.mercatorXfromLng(Z.lng)*this.worldSize,i.mercatorYfromLat(de)*this.worldSize)},An.prototype.unproject=function(Z){return new i.MercatorCoordinate(Z.x/this.worldSize,Z.y/this.worldSize).toLngLat()},In.point.get=function(){return this.project(this.center)},An.prototype.setLocationAtPoint=function(Z,de){var te=this.pointCoordinate(de),pe=this.pointCoordinate(this.centerPoint),_e=this.locationCoordinate(Z),Ze=new i.MercatorCoordinate(_e.x-(te.x-pe.x),_e.y-(te.y-pe.y));this.center=this.coordinateLocation(Ze),this._renderWorldCopies&&(this.center=this.center.wrap())},An.prototype.locationPoint=function(Z){return this.coordinatePoint(this.locationCoordinate(Z))},An.prototype.pointLocation=function(Z){return this.coordinateLocation(this.pointCoordinate(Z))},An.prototype.locationCoordinate=function(Z){return i.MercatorCoordinate.fromLngLat(Z)},An.prototype.coordinateLocation=function(Z){return Z.toLngLat()},An.prototype.pointCoordinate=function(Z){var de=0,te=[Z.x,Z.y,0,1],pe=[Z.x,Z.y,1,1];i.transformMat4(te,te,this.pixelMatrixInverse),i.transformMat4(pe,pe,this.pixelMatrixInverse);var _e=te[3],Ze=pe[3],lt=te[0]/_e,wt=pe[0]/Ze,Ut=te[1]/_e,Qt=pe[1]/Ze,fr=te[2]/_e,xr=pe[2]/Ze,_r=fr===xr?0:(de-fr)/(xr-fr);return new i.MercatorCoordinate(i.number(lt,wt,_r)/this.worldSize,i.number(Ut,Qt,_r)/this.worldSize)},An.prototype.coordinatePoint=function(Z){var de=[Z.x*this.worldSize,Z.y*this.worldSize,0,1];return i.transformMat4(de,de,this.pixelMatrix),new i.Point(de[0]/de[3],de[1]/de[3])},An.prototype.getBounds=function(){return new i.LngLatBounds().extend(this.pointLocation(new i.Point(0,0))).extend(this.pointLocation(new i.Point(this.width,0))).extend(this.pointLocation(new i.Point(this.width,this.height))).extend(this.pointLocation(new i.Point(0,this.height)))},An.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new i.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},An.prototype.setMaxBounds=function(Z){Z?(this.lngRange=[Z.getWest(),Z.getEast()],this.latRange=[Z.getSouth(),Z.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},An.prototype.calculatePosMatrix=function(Z,de){de===void 0&&(de=!1);var te=Z.key,pe=de?this._alignedPosMatrixCache:this._posMatrixCache;if(pe[te])return pe[te];var _e=Z.canonical,Ze=this.worldSize/this.zoomScale(_e.z),lt=_e.x+Math.pow(2,_e.z)*Z.wrap,wt=i.identity(new Float64Array(16));return i.translate(wt,wt,[lt*Ze,_e.y*Ze,0]),i.scale(wt,wt,[Ze/i.EXTENT,Ze/i.EXTENT,1]),i.multiply(wt,de?this.alignedProjMatrix:this.projMatrix,wt),pe[te]=new Float32Array(wt),pe[te]},An.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},An.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var Z=-90,de=90,te=-180,pe=180,_e,Ze,lt,wt,Ut=this.size,Qt=this._unmodified;if(this.latRange){var fr=this.latRange;Z=i.mercatorYfromLat(fr[1])*this.worldSize,de=i.mercatorYfromLat(fr[0])*this.worldSize,_e=de-Z<Ut.y?Ut.y/(de-Z):0}if(this.lngRange){var xr=this.lngRange;te=i.mercatorXfromLng(xr[0])*this.worldSize,pe=i.mercatorXfromLng(xr[1])*this.worldSize,Ze=pe-te<Ut.x?Ut.x/(pe-te):0}var _r=this.point,Vr=Math.max(Ze||0,_e||0);if(Vr){this.center=this.unproject(new i.Point(Ze?(pe+te)/2:_r.x,_e?(de+Z)/2:_r.y)),this.zoom+=this.scaleZoom(Vr),this._unmodified=Qt,this._constraining=!1;return}if(this.latRange){var Wr=_r.y,Ur=Ut.y/2;Wr-Ur<Z&&(wt=Z+Ur),Wr+Ur>de&&(wt=de-Ur)}if(this.lngRange){var Qr=_r.x,fn=Ut.x/2;Qr-fn<te&&(lt=te+fn),Qr+fn>pe&&(lt=pe-fn)}(lt!==void 0||wt!==void 0)&&(this.center=this.unproject(new i.Point(lt!==void 0?lt:_r.x,wt!==void 0?wt:_r.y))),this._unmodified=Qt,this._constraining=!1}},An.prototype._calcMatrices=function(){if(this.height){var Z=this._fov/2,de=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(Z)*this.height;var te=Math.PI/2+this._pitch,pe=this._fov*(.5+de.y/this.height),_e=Math.sin(pe)*this.cameraToCenterDistance/Math.sin(i.clamp(Math.PI-te-pe,.01,Math.PI-.01)),Ze=this.point,lt=Ze.x,wt=Ze.y,Ut=Math.cos(Math.PI/2-this._pitch)*_e+this.cameraToCenterDistance,Qt=Ut*1.01,fr=this.height/50,xr=new Float64Array(16);i.perspective(xr,this._fov,this.width/this.height,fr,Qt),xr[8]=-de.x*2/this.width,xr[9]=de.y*2/this.height,i.scale(xr,xr,[1,-1,1]),i.translate(xr,xr,[0,0,-this.cameraToCenterDistance]),i.rotateX(xr,xr,this._pitch),i.rotateZ(xr,xr,this.angle),i.translate(xr,xr,[-lt,-wt,0]),this.mercatorMatrix=i.scale([],xr,[this.worldSize,this.worldSize,this.worldSize]),i.scale(xr,xr,[1,1,i.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=xr,this.invProjMatrix=i.invert([],this.projMatrix);var _r=this.width%2/2,Vr=this.height%2/2,Wr=Math.cos(this.angle),Ur=Math.sin(this.angle),Qr=lt-Math.round(lt)+Wr*_r+Ur*Vr,fn=wt-Math.round(wt)+Wr*Vr+Ur*_r,Rn=new Float64Array(xr);if(i.translate(Rn,Rn,[Qr>.5?Qr-1:Qr,fn>.5?fn-1:fn,0]),this.alignedProjMatrix=Rn,xr=i.create(),i.scale(xr,xr,[this.width/2,-this.height/2,1]),i.translate(xr,xr,[1,-1,0]),this.labelPlaneMatrix=xr,xr=i.create(),i.scale(xr,xr,[1,-1,1]),i.translate(xr,xr,[-1,-1,0]),i.scale(xr,xr,[2/this.width,2/this.height,1]),this.glCoordMatrix=xr,this.pixelMatrix=i.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),xr=i.invert(new Float64Array(16),this.pixelMatrix),!xr)throw new Error("failed to invert matrix");this.pixelMatrixInverse=xr,this._posMatrixCache={},this._alignedPosMatrixCache={}}},An.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var Z=this.pointCoordinate(new i.Point(0,0)),de=[Z.x*this.worldSize,Z.y*this.worldSize,0,1],te=i.transformMat4(de,de,this.pixelMatrix);return te[3]/this.cameraToCenterDistance},An.prototype.getCameraPoint=function(){var Z=this._pitch,de=Math.tan(Z)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new i.Point(0,de))},An.prototype.getCameraQueryGeometry=function(Z){var de=this.getCameraPoint();if(Z.length===1)return[Z[0],de];for(var te=de.x,pe=de.y,_e=de.x,Ze=de.y,lt=0,wt=Z;lt<wt.length;lt+=1){var Ut=wt[lt];te=Math.min(te,Ut.x),pe=Math.min(pe,Ut.y),_e=Math.max(_e,Ut.x),Ze=Math.max(Ze,Ut.y)}return[new i.Point(te,pe),new i.Point(_e,pe),new i.Point(_e,Ze),new i.Point(te,Ze),new i.Point(te,pe)]},Object.defineProperties(An.prototype,In);function va(he,Z){var de=!1,te=null,pe=function(){te=null,de&&(he(),te=setTimeout(pe,Z),de=!1)};return function(){return de=!0,te||pe(),te}}var La=function(Z){this._hashName=Z&&encodeURIComponent(Z),i.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=va(this._updateHashUnthrottled.bind(this),30*1e3/100)};La.prototype.addTo=function(Z){return this._map=Z,i.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},La.prototype.remove=function(){return i.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},La.prototype.getHashString=function(Z){var de=this._map.getCenter(),te=Math.round(this._map.getZoom()*100)/100,pe=Math.ceil((te*Math.LN2+Math.log(512/360/.5))/Math.LN10),_e=Math.pow(10,pe),Ze=Math.round(de.lng*_e)/_e,lt=Math.round(de.lat*_e)/_e,wt=this._map.getBearing(),Ut=this._map.getPitch(),Qt="";if(Z?Qt+="/"+Ze+"/"+lt+"/"+te:Qt+=te+"/"+lt+"/"+Ze,(wt||Ut)&&(Qt+="/"+Math.round(wt*10)/10),Ut&&(Qt+="/"+Math.round(Ut)),this._hashName){var fr=this._hashName,xr=!1,_r=i.window.location.hash.slice(1).split("&").map(function(Vr){var Wr=Vr.split("=")[0];return Wr===fr?(xr=!0,Wr+"="+Qt):Vr}).filter(function(Vr){return Vr});return xr||_r.push(fr+"="+Qt),"#"+_r.join("&")}return"#"+Qt},La.prototype._getCurrentHash=function(){var Z=this,de=i.window.location.hash.replace("#","");if(this._hashName){var te;return de.split("&").map(function(pe){return pe.split("=")}).forEach(function(pe){pe[0]===Z._hashName&&(te=pe)}),(te&&te[1]||"").split("/")}return de.split("/")},La.prototype._onHashChange=function(){var Z=this._getCurrentHash();if(Z.length>=3&&!Z.some(function(te){return isNaN(te)})){var de=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(Z[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+Z[2],+Z[1]],zoom:+Z[0],bearing:de,pitch:+(Z[4]||0)}),!0}return!1},La.prototype._updateHashUnthrottled=function(){var Z=this.getHashString();try{i.window.history.replaceState(i.window.history.state,"",Z)}catch{}};var Ra={linearity:.3,easing:i.bezier(0,0,.3,1)},Da=i.extend({deceleration:2500,maxSpeed:1400},Ra),ka=i.extend({deceleration:20,maxSpeed:1400},Ra),ii=i.extend({deceleration:1e3,maxSpeed:360},Ra),Di=i.extend({deceleration:1e3,maxSpeed:90},Ra),gi=function(Z){this._map=Z,this.clear()};gi.prototype.clear=function(){this._inertiaBuffer=[]},gi.prototype.record=function(Z){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:i.browser.now(),settings:Z})},gi.prototype._drainInertiaBuffer=function(){for(var Z=this._inertiaBuffer,de=i.browser.now(),te=160;Z.length>0&&de-Z[0].time>te;)Z.shift()},gi.prototype._onMoveEnd=function(Z){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var de={zoom:0,bearing:0,pitch:0,pan:new i.Point(0,0),pinchAround:void 0,around:void 0},te=0,pe=this._inertiaBuffer;te<pe.length;te+=1){var _e=pe[te],Ze=_e.settings;de.zoom+=Ze.zoomDelta||0,de.bearing+=Ze.bearingDelta||0,de.pitch+=Ze.pitchDelta||0,Ze.panDelta&&de.pan._add(Ze.panDelta),Ze.around&&(de.around=Ze.around),Ze.pinchAround&&(de.pinchAround=Ze.pinchAround)}var lt=this._inertiaBuffer[this._inertiaBuffer.length-1],wt=lt.time-this._inertiaBuffer[0].time,Ut={};if(de.pan.mag()){var Qt=Le(de.pan.mag(),wt,i.extend({},Da,Z||{}));Ut.offset=de.pan.mult(Qt.amount/de.pan.mag()),Ut.center=this._map.transform.center,ue(Ut,Qt)}if(de.zoom){var fr=Le(de.zoom,wt,ka);Ut.zoom=this._map.transform.zoom+fr.amount,ue(Ut,fr)}if(de.bearing){var xr=Le(de.bearing,wt,ii);Ut.bearing=this._map.transform.bearing+i.clamp(xr.amount,-179,179),ue(Ut,xr)}if(de.pitch){var _r=Le(de.pitch,wt,Di);Ut.pitch=this._map.transform.pitch+_r.amount,ue(Ut,_r)}if(Ut.zoom||Ut.bearing){var Vr=de.pinchAround===void 0?de.around:de.pinchAround;Ut.around=Vr?this._map.unproject(Vr):this._map.getCenter()}return this.clear(),i.extend(Ut,{noMoveStart:!0})}};function ue(he,Z){(!he.duration||he.duration<Z.duration)&&(he.duration=Z.duration,he.easing=Z.easing)}function Le(he,Z,de){var te=de.maxSpeed,pe=de.linearity,_e=de.deceleration,Ze=i.clamp(he*pe/(Z/1e3),-te,te),lt=Math.abs(Ze)/(_e*pe);return{easing:de.easing,duration:lt*1e3,amount:Ze*(lt/2)}}var Ue=function(he){function Z(te,pe,_e,Ze){Ze===void 0&&(Ze={});var lt=A.mousePos(pe.getCanvasContainer(),_e),wt=pe.unproject(lt);he.call(this,te,i.extend({point:lt,lngLat:wt,originalEvent:_e},Ze)),this._defaultPrevented=!1,this.target=pe}he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z;var de={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,de),Z}(i.Event),$e=function(he){function Z(te,pe,_e){var Ze=te==="touchend"?_e.changedTouches:_e.touches,lt=A.touchPos(pe.getCanvasContainer(),Ze),wt=lt.map(function(fr){return pe.unproject(fr)}),Ut=lt.reduce(function(fr,xr,_r,Vr){return fr.add(xr.div(Vr.length))},new i.Point(0,0)),Qt=pe.unproject(Ut);he.call(this,te,{points:lt,point:Ut,lngLats:wt,lngLat:Qt,originalEvent:_e}),this._defaultPrevented=!1}he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z;var de={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,de),Z}(i.Event),rt=function(he){function Z(te,pe,_e){he.call(this,te,{originalEvent:_e}),this._defaultPrevented=!1}he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z;var de={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,de),Z}(i.Event),ot=function(Z,de){this._map=Z,this._clickTolerance=de.clickTolerance};ot.prototype.reset=function(){delete this._mousedownPos},ot.prototype.wheel=function(Z){return this._firePreventable(new rt(Z.type,this._map,Z))},ot.prototype.mousedown=function(Z,de){return this._mousedownPos=de,this._firePreventable(new Ue(Z.type,this._map,Z))},ot.prototype.mouseup=function(Z){this._map.fire(new Ue(Z.type,this._map,Z))},ot.prototype.click=function(Z,de){this._mousedownPos&&this._mousedownPos.dist(de)>=this._clickTolerance||this._map.fire(new Ue(Z.type,this._map,Z))},ot.prototype.dblclick=function(Z){return this._firePreventable(new Ue(Z.type,this._map,Z))},ot.prototype.mouseover=function(Z){this._map.fire(new Ue(Z.type,this._map,Z))},ot.prototype.mouseout=function(Z){this._map.fire(new Ue(Z.type,this._map,Z))},ot.prototype.touchstart=function(Z){return this._firePreventable(new $e(Z.type,this._map,Z))},ot.prototype.touchmove=function(Z){this._map.fire(new $e(Z.type,this._map,Z))},ot.prototype.touchend=function(Z){this._map.fire(new $e(Z.type,this._map,Z))},ot.prototype.touchcancel=function(Z){this._map.fire(new $e(Z.type,this._map,Z))},ot.prototype._firePreventable=function(Z){if(this._map.fire(Z),Z.defaultPrevented)return{}},ot.prototype.isEnabled=function(){return!0},ot.prototype.isActive=function(){return!1},ot.prototype.enable=function(){},ot.prototype.disable=function(){};var Pt=function(Z){this._map=Z};Pt.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Pt.prototype.mousemove=function(Z){this._map.fire(new Ue(Z.type,this._map,Z))},Pt.prototype.mousedown=function(){this._delayContextMenu=!0},Pt.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ue("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Pt.prototype.contextmenu=function(Z){this._delayContextMenu?this._contextMenuEvent=Z:this._map.fire(new Ue(Z.type,this._map,Z)),this._map.listens("contextmenu")&&Z.preventDefault()},Pt.prototype.isEnabled=function(){return!0},Pt.prototype.isActive=function(){return!1},Pt.prototype.enable=function(){},Pt.prototype.disable=function(){};var ft=function(Z,de){this._map=Z,this._el=Z.getCanvasContainer(),this._container=Z.getContainer(),this._clickTolerance=de.clickTolerance||1};ft.prototype.isEnabled=function(){return!!this._enabled},ft.prototype.isActive=function(){return!!this._active},ft.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},ft.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ft.prototype.mousedown=function(Z,de){this.isEnabled()&&Z.shiftKey&&Z.button===0&&(A.disableDrag(),this._startPos=this._lastPos=de,this._active=!0)},ft.prototype.mousemoveWindow=function(Z,de){if(this._active){var te=de;if(!(this._lastPos.equals(te)||!this._box&&te.dist(this._startPos)<this._clickTolerance)){var pe=this._startPos;this._lastPos=te,this._box||(this._box=A.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",Z));var _e=Math.min(pe.x,te.x),Ze=Math.max(pe.x,te.x),lt=Math.min(pe.y,te.y),wt=Math.max(pe.y,te.y);A.setTransform(this._box,"translate("+_e+"px,"+lt+"px)"),this._box.style.width=Ze-_e+"px",this._box.style.height=wt-lt+"px"}}},ft.prototype.mouseupWindow=function(Z,de){var te=this;if(this._active&&Z.button===0){var pe=this._startPos,_e=de;if(this.reset(),A.suppressClick(),pe.x===_e.x&&pe.y===_e.y)this._fireEvent("boxzoomcancel",Z);else return this._map.fire(new i.Event("boxzoomend",{originalEvent:Z})),{cameraAnimation:function(Ze){return Ze.fitScreenCoordinates(pe,_e,te._map.getBearing(),{linear:!0})}}}},ft.prototype.keydown=function(Z){this._active&&Z.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",Z))},ft.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(A.remove(this._box),this._box=null),A.enableDrag(),delete this._startPos,delete this._lastPos},ft.prototype._fireEvent=function(Z,de){return this._map.fire(new i.Event(Z,{originalEvent:de}))};function Ht(he,Z){for(var de={},te=0;te<he.length;te++)de[he[te].identifier]=Z[te];return de}function er(he){for(var Z=new i.Point(0,0),de=0,te=he;de<te.length;de+=1){var pe=te[de];Z._add(pe)}return Z.div(he.length)}var nr=500,Pr=500,Cr=30,Xr=function(Z){this.reset(),this.numTouches=Z.numTouches};Xr.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Xr.prototype.touchstart=function(Z,de,te){(this.centroid||te.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=Z.timeStamp),te.length===this.numTouches&&(this.centroid=er(de),this.touches=Ht(te,de)))},Xr.prototype.touchmove=function(Z,de,te){if(!(this.aborted||!this.centroid)){var pe=Ht(te,de);for(var _e in this.touches){var Ze=this.touches[_e],lt=pe[_e];(!lt||lt.dist(Ze)>Cr)&&(this.aborted=!0)}}},Xr.prototype.touchend=function(Z,de,te){if((!this.centroid||Z.timeStamp-this.startTime>Pr)&&(this.aborted=!0),te.length===0){var pe=!this.aborted&&this.centroid;if(this.reset(),pe)return pe}};var rn=function(Z){this.singleTap=new Xr(Z),this.numTaps=Z.numTaps,this.reset()};rn.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},rn.prototype.touchstart=function(Z,de,te){this.singleTap.touchstart(Z,de,te)},rn.prototype.touchmove=function(Z,de,te){this.singleTap.touchmove(Z,de,te)},rn.prototype.touchend=function(Z,de,te){var pe=this.singleTap.touchend(Z,de,te);if(pe){var _e=Z.timeStamp-this.lastTime<nr,Ze=!this.lastTap||this.lastTap.dist(pe)<Cr;if((!_e||!Ze)&&this.reset(),this.count++,this.lastTime=Z.timeStamp,this.lastTap=pe,this.count===this.numTaps)return this.reset(),pe}};var Ir=function(){this._zoomIn=new rn({numTouches:1,numTaps:2}),this._zoomOut=new rn({numTouches:2,numTaps:1}),this.reset()};Ir.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Ir.prototype.touchstart=function(Z,de,te){this._zoomIn.touchstart(Z,de,te),this._zoomOut.touchstart(Z,de,te)},Ir.prototype.touchmove=function(Z,de,te){this._zoomIn.touchmove(Z,de,te),this._zoomOut.touchmove(Z,de,te)},Ir.prototype.touchend=function(Z,de,te){var pe=this,_e=this._zoomIn.touchend(Z,de,te),Ze=this._zoomOut.touchend(Z,de,te);if(_e)return this._active=!0,Z.preventDefault(),setTimeout(function(){return pe.reset()},0),{cameraAnimation:function(lt){return lt.easeTo({duration:300,zoom:lt.getZoom()+1,around:lt.unproject(_e)},{originalEvent:Z})}};if(Ze)return this._active=!0,Z.preventDefault(),setTimeout(function(){return pe.reset()},0),{cameraAnimation:function(lt){return lt.easeTo({duration:300,zoom:lt.getZoom()-1,around:lt.unproject(Ze)},{originalEvent:Z})}}},Ir.prototype.touchcancel=function(){this.reset()},Ir.prototype.enable=function(){this._enabled=!0},Ir.prototype.disable=function(){this._enabled=!1,this.reset()},Ir.prototype.isEnabled=function(){return this._enabled},Ir.prototype.isActive=function(){return this._active};var Nr=0,jr=2,an=function(Z){this.reset(),this._clickTolerance=Z.clickTolerance||1};an.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},an.prototype._correctButton=function(Z,de){return!1},an.prototype._move=function(Z,de){return{}},an.prototype.mousedown=function(Z,de){if(!this._lastPoint){var te=A.mouseButton(Z);this._correctButton(Z,te)&&(this._lastPoint=de,this._eventButton=te)}},an.prototype.mousemoveWindow=function(Z,de){var te=this._lastPoint;if(te&&(Z.preventDefault(),!(!this._moved&&de.dist(te)<this._clickTolerance)))return this._moved=!0,this._lastPoint=de,this._move(te,de)},an.prototype.mouseupWindow=function(Z){var de=A.mouseButton(Z);de===this._eventButton&&(this._moved&&A.suppressClick(),this.reset())},an.prototype.enable=function(){this._enabled=!0},an.prototype.disable=function(){this._enabled=!1,this.reset()},an.prototype.isEnabled=function(){return this._enabled},an.prototype.isActive=function(){return this._active};var hn=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.mousedown=function(te,pe){he.prototype.mousedown.call(this,te,pe),this._lastPoint&&(this._active=!0)},Z.prototype._correctButton=function(te,pe){return pe===Nr&&!te.ctrlKey},Z.prototype._move=function(te,pe){return{around:pe,panDelta:pe.sub(te)}},Z}(an),Zr=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype._correctButton=function(te,pe){return pe===Nr&&te.ctrlKey||pe===jr},Z.prototype._move=function(te,pe){var _e=.8,Ze=(pe.x-te.x)*_e;if(Ze)return this._active=!0,{bearingDelta:Ze}},Z.prototype.contextmenu=function(te){te.preventDefault()},Z}(an),Un=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype._correctButton=function(te,pe){return pe===Nr&&te.ctrlKey||pe===jr},Z.prototype._move=function(te,pe){var _e=-.5,Ze=(pe.y-te.y)*_e;if(Ze)return this._active=!0,{pitchDelta:Ze}},Z.prototype.contextmenu=function(te){te.preventDefault()},Z}(an),Yn=function(Z){this._minTouches=1,this._clickTolerance=Z.clickTolerance||1,this.reset()};Yn.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new i.Point(0,0)},Yn.prototype.touchstart=function(Z,de,te){return this._calculateTransform(Z,de,te)},Yn.prototype.touchmove=function(Z,de,te){if(this._active)return Z.preventDefault(),this._calculateTransform(Z,de,te)},Yn.prototype.touchend=function(Z,de,te){this._calculateTransform(Z,de,te),this._active&&te.length<this._minTouches&&this.reset()},Yn.prototype.touchcancel=function(){this.reset()},Yn.prototype._calculateTransform=function(Z,de,te){te.length>0&&(this._active=!0);var pe=Ht(te,de),_e=new i.Point(0,0),Ze=new i.Point(0,0),lt=0;for(var wt in pe){var Ut=pe[wt],Qt=this._touches[wt];Qt&&(_e._add(Ut),Ze._add(Ut.sub(Qt)),lt++,pe[wt]=Ut)}if(this._touches=pe,!(lt<this._minTouches||!Ze.mag())){var fr=Ze.div(lt);if(this._sum._add(fr),!(this._sum.mag()<this._clickTolerance)){var xr=_e.div(lt);return{around:xr,panDelta:fr}}}},Yn.prototype.enable=function(){this._enabled=!0},Yn.prototype.disable=function(){this._enabled=!1,this.reset()},Yn.prototype.isEnabled=function(){return this._enabled},Yn.prototype.isActive=function(){return this._active};var qn=function(){this.reset()};qn.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},qn.prototype._start=function(Z){},qn.prototype._move=function(Z,de,te){return{}},qn.prototype.touchstart=function(Z,de,te){this._firstTwoTouches||te.length<2||(this._firstTwoTouches=[te[0].identifier,te[1].identifier],this._start([de[0],de[1]]))},qn.prototype.touchmove=function(Z,de,te){if(this._firstTwoTouches){Z.preventDefault();var pe=this._firstTwoTouches,_e=pe[0],Ze=pe[1],lt=oa(te,de,_e),wt=oa(te,de,Ze);if(!(!lt||!wt)){var Ut=this._aroundCenter?null:lt.add(wt).div(2);return this._move([lt,wt],Ut,Z)}}},qn.prototype.touchend=function(Z,de,te){if(this._firstTwoTouches){var pe=this._firstTwoTouches,_e=pe[0],Ze=pe[1],lt=oa(te,de,_e),wt=oa(te,de,Ze);lt&&wt||(this._active&&A.suppressClick(),this.reset())}},qn.prototype.touchcancel=function(){this.reset()},qn.prototype.enable=function(Z){this._enabled=!0,this._aroundCenter=!!Z&&Z.around==="center"},qn.prototype.disable=function(){this._enabled=!1,this.reset()},qn.prototype.isEnabled=function(){return this._enabled},qn.prototype.isActive=function(){return this._active};function oa(he,Z,de){for(var te=0;te<he.length;te++)if(he[te].identifier===de)return Z[te]}var wa=.1;function ba(he,Z){return Math.log(he/Z)/Math.LN2}var Ua=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){he.prototype.reset.call(this),delete this._distance,delete this._startDistance},Z.prototype._start=function(te){this._startDistance=this._distance=te[0].dist(te[1])},Z.prototype._move=function(te,pe){var _e=this._distance;if(this._distance=te[0].dist(te[1]),!(!this._active&&Math.abs(ba(this._distance,this._startDistance))<wa))return this._active=!0,{zoomDelta:ba(this._distance,_e),pinchAround:pe}},Z}(qn),Ca=25;function Oa(he,Z){return he.angleWith(Z)*180/Math.PI}var Qa=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){he.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},Z.prototype._start=function(te){this._startVector=this._vector=te[0].sub(te[1]),this._minDiameter=te[0].dist(te[1])},Z.prototype._move=function(te,pe){var _e=this._vector;if(this._vector=te[0].sub(te[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Oa(this._vector,_e),pinchAround:pe}},Z.prototype._isBelowThreshold=function(te){this._minDiameter=Math.min(this._minDiameter,te.mag());var pe=Math.PI*this._minDiameter,_e=Ca/pe*360,Ze=Oa(te,this._startVector);return Math.abs(Ze)<_e},Z}(qn);function ti(he){return Math.abs(he.y)>Math.abs(he.x)}var fi=100,Vn=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){he.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},Z.prototype._start=function(te){this._lastPoints=te,ti(te[0].sub(te[1]))&&(this._valid=!1)},Z.prototype._move=function(te,pe,_e){var Ze=te[0].sub(this._lastPoints[0]),lt=te[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Ze,lt,_e.timeStamp),!!this._valid){this._lastPoints=te,this._active=!0;var wt=(Ze.y+lt.y)/2,Ut=-.5;return{pitchDelta:wt*Ut}}},Z.prototype.gestureBeginsVertically=function(te,pe,_e){if(this._valid!==void 0)return this._valid;var Ze=2,lt=te.mag()>=Ze,wt=pe.mag()>=Ze;if(!(!lt&&!wt)){if(!lt||!wt)return this._firstMove===void 0&&(this._firstMove=_e),_e-this._firstMove<fi?void 0:!1;var Ut=te.y>0==pe.y>0;return ti(te)&&ti(pe)&&Ut}},Z}(qn),Na={panStep:100,bearingStep:15,pitchStep:10},_a=function(){var Z=Na;this._panStep=Z.panStep,this._bearingStep=Z.bearingStep,this._pitchStep=Z.pitchStep};_a.prototype.reset=function(){this._active=!1},_a.prototype.keydown=function(Z){var de=this;if(!(Z.altKey||Z.ctrlKey||Z.metaKey)){var te=0,pe=0,_e=0,Ze=0,lt=0;switch(Z.keyCode){case 61:case 107:case 171:case 187:te=1;break;case 189:case 109:case 173:te=-1;break;case 37:Z.shiftKey?pe=-1:(Z.preventDefault(),Ze=-1);break;case 39:Z.shiftKey?pe=1:(Z.preventDefault(),Ze=1);break;case 38:Z.shiftKey?_e=1:(Z.preventDefault(),lt=-1);break;case 40:Z.shiftKey?_e=-1:(Z.preventDefault(),lt=1);break;default:return}return{cameraAnimation:function(wt){var Ut=wt.getZoom();wt.easeTo({duration:300,easeId:"keyboardHandler",easing:ja,zoom:te?Math.round(Ut)+te*(Z.shiftKey?2:1):Ut,bearing:wt.getBearing()+pe*de._bearingStep,pitch:wt.getPitch()+_e*de._pitchStep,offset:[-Ze*de._panStep,-lt*de._panStep],center:wt.getCenter()},{originalEvent:Z})}}}},_a.prototype.enable=function(){this._enabled=!0},_a.prototype.disable=function(){this._enabled=!1,this.reset()},_a.prototype.isEnabled=function(){return this._enabled},_a.prototype.isActive=function(){return this._active};function ja(he){return he*(2-he)}var Si=4.000244140625,zi=1/100,Ui=1/450,bi=2,hi=function(Z,de){this._map=Z,this._el=Z.getCanvasContainer(),this._handler=de,this._delta=0,this._defaultZoomRate=zi,this._wheelZoomRate=Ui,i.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};hi.prototype.setZoomRate=function(Z){this._defaultZoomRate=Z},hi.prototype.setWheelZoomRate=function(Z){this._wheelZoomRate=Z},hi.prototype.isEnabled=function(){return!!this._enabled},hi.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},hi.prototype.isZooming=function(){return!!this._zooming},hi.prototype.enable=function(Z){this.isEnabled()||(this._enabled=!0,this._aroundCenter=Z&&Z.around==="center")},hi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},hi.prototype.wheel=function(Z){if(this.isEnabled()){var de=Z.deltaMode===i.window.WheelEvent.DOM_DELTA_LINE?Z.deltaY*40:Z.deltaY,te=i.browser.now(),pe=te-(this._lastWheelEventTime||0);this._lastWheelEventTime=te,de!==0&&de%Si===0?this._type="wheel":de!==0&&Math.abs(de)<4?this._type="trackpad":pe>400?(this._type=null,this._lastValue=de,this._timeout=setTimeout(this._onTimeout,40,Z)):this._type||(this._type=Math.abs(pe*de)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,de+=this._lastValue)),Z.shiftKey&&de&&(de=de/4),this._type&&(this._lastWheelEvent=Z,this._delta-=de,this._active||this._start(Z)),Z.preventDefault()}},hi.prototype._onTimeout=function(Z){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(Z)},hi.prototype._start=function(Z){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var de=A.mousePos(this._el,Z);this._around=i.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(de)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},hi.prototype.renderFrame=function(){return this._onScrollFrame()},hi.prototype._onScrollFrame=function(){var Z=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var de=this._map.transform;if(this._delta!==0){var te=this._type==="wheel"&&Math.abs(this._delta)>Si?this._wheelZoomRate:this._defaultZoomRate,pe=bi/(1+Math.exp(-Math.abs(this._delta*te)));this._delta<0&&pe!==0&&(pe=1/pe);var _e=typeof this._targetZoom=="number"?de.zoomScale(this._targetZoom):de.scale;this._targetZoom=Math.min(de.maxZoom,Math.max(de.minZoom,de.scaleZoom(_e*pe))),this._type==="wheel"&&(this._startZoom=de.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Ze=typeof this._targetZoom=="number"?this._targetZoom:de.zoom,lt=this._startZoom,wt=this._easing,Ut=!1,Qt;if(this._type==="wheel"&&lt&&wt){var fr=Math.min((i.browser.now()-this._lastWheelEventTime)/200,1),xr=wt(fr);Qt=i.number(lt,Ze,xr),fr<1?this._frameId||(this._frameId=!0):Ut=!0}else Qt=Ze,Ut=!0;return this._active=!0,Ut&&(this._active=!1,this._finishTimeout=setTimeout(function(){Z._zooming=!1,Z._handler._triggerRenderFrame(),delete Z._targetZoom,delete Z._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Ut,zoomDelta:Qt-de.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},hi.prototype._smoothOutEasing=function(Z){var de=i.ease;if(this._prevEase){var te=this._prevEase,pe=(i.browser.now()-te.start)/te.duration,_e=te.easing(pe+.01)-te.easing(pe),Ze=.27/Math.sqrt(_e*_e+1e-4)*.01,lt=Math.sqrt(.27*.27-Ze*Ze);de=i.bezier(Ze,lt,.25,1)}return this._prevEase={start:i.browser.now(),duration:Z,easing:de},de},hi.prototype.reset=function(){this._active=!1};var ya=function(Z,de){this._clickZoom=Z,this._tapZoom=de};ya.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},ya.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},ya.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},ya.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Sa=function(){this.reset()};Sa.prototype.reset=function(){this._active=!1},Sa.prototype.dblclick=function(Z,de){return Z.preventDefault(),{cameraAnimation:function(te){te.easeTo({duration:300,zoom:te.getZoom()+(Z.shiftKey?-1:1),around:te.unproject(de)},{originalEvent:Z})}}},Sa.prototype.enable=function(){this._enabled=!0},Sa.prototype.disable=function(){this._enabled=!1,this.reset()},Sa.prototype.isEnabled=function(){return this._enabled},Sa.prototype.isActive=function(){return this._active};var wi=function(){this._tap=new rn({numTouches:1,numTaps:1}),this.reset()};wi.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},wi.prototype.touchstart=function(Z,de,te){this._swipePoint||(this._tapTime&&Z.timeStamp-this._tapTime>nr&&this.reset(),this._tapTime?te.length>0&&(this._swipePoint=de[0],this._swipeTouch=te[0].identifier):this._tap.touchstart(Z,de,te))},wi.prototype.touchmove=function(Z,de,te){if(!this._tapTime)this._tap.touchmove(Z,de,te);else if(this._swipePoint){if(te[0].identifier!==this._swipeTouch)return;var pe=de[0],_e=pe.y-this._swipePoint.y;return this._swipePoint=pe,Z.preventDefault(),this._active=!0,{zoomDelta:_e/128}}},wi.prototype.touchend=function(Z,de,te){if(this._tapTime)this._swipePoint&&te.length===0&&this.reset();else{var pe=this._tap.touchend(Z,de,te);pe&&(this._tapTime=Z.timeStamp)}},wi.prototype.touchcancel=function(){this.reset()},wi.prototype.enable=function(){this._enabled=!0},wi.prototype.disable=function(){this._enabled=!1,this.reset()},wi.prototype.isEnabled=function(){return this._enabled},wi.prototype.isActive=function(){return this._active};var Bi=function(Z,de,te){this._el=Z,this._mousePan=de,this._touchPan=te};Bi.prototype.enable=function(Z){this._inertiaOptions=Z||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Bi.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Bi.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Bi.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var _o=function(Z,de,te){this._pitchWithRotate=Z.pitchWithRotate,this._mouseRotate=de,this._mousePitch=te};_o.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},_o.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},_o.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},_o.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var $i=function(Z,de,te,pe){this._el=Z,this._touchZoom=de,this._touchRotate=te,this._tapDragZoom=pe,this._rotationDisabled=!1,this._enabled=!0};$i.prototype.enable=function(Z){this._touchZoom.enable(Z),this._rotationDisabled||this._touchRotate.enable(Z),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},$i.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},$i.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},$i.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},$i.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},$i.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var xo=function(he){return he.zoom||he.drag||he.pitch||he.rotate},Ci=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z}(i.Event);function Ho(he){return he.panDelta&&he.panDelta.mag()||he.zoomDelta||he.bearingDelta||he.pitchDelta}var yi=function(Z,de){this._map=Z,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new gi(Z),this._bearingSnap=de.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(de),i.bindAll(["handleEvent","handleWindowEvent"],this);var te=this._el;this._listeners=[[te,"touchstart",{passive:!1}],[te,"touchmove",{passive:!1}],[te,"touchend",void 0],[te,"touchcancel",void 0],[te,"mousedown",void 0],[te,"mousemove",void 0],[te,"mouseup",void 0],[i.window.document,"mousemove",{capture:!0}],[i.window.document,"mouseup",void 0],[te,"mouseover",void 0],[te,"mouseout",void 0],[te,"dblclick",void 0],[te,"click",void 0],[te,"keydown",{capture:!1}],[te,"keyup",void 0],[te,"wheel",{passive:!1}],[te,"contextmenu",void 0],[i.window,"blur",void 0]];for(var pe=0,_e=this._listeners;pe<_e.length;pe+=1){var Ze=_e[pe],lt=Ze[0],wt=Ze[1],Ut=Ze[2];A.addEventListener(lt,wt,lt===i.window.document?this.handleWindowEvent:this.handleEvent,Ut)}};yi.prototype.destroy=function(){for(var Z=0,de=this._listeners;Z<de.length;Z+=1){var te=de[Z],pe=te[0],_e=te[1],Ze=te[2];A.removeEventListener(pe,_e,pe===i.window.document?this.handleWindowEvent:this.handleEvent,Ze)}},yi.prototype._addDefaultHandlers=function(Z){var de=this._map,te=de.getCanvasContainer();this._add("mapEvent",new ot(de,Z));var pe=de.boxZoom=new ft(de,Z);this._add("boxZoom",pe);var _e=new Ir,Ze=new Sa;de.doubleClickZoom=new ya(Ze,_e),this._add("tapZoom",_e),this._add("clickZoom",Ze);var lt=new wi;this._add("tapDragZoom",lt);var wt=de.touchPitch=new Vn;this._add("touchPitch",wt);var Ut=new Zr(Z),Qt=new Un(Z);de.dragRotate=new _o(Z,Ut,Qt),this._add("mouseRotate",Ut,["mousePitch"]),this._add("mousePitch",Qt,["mouseRotate"]);var fr=new hn(Z),xr=new Yn(Z);de.dragPan=new Bi(te,fr,xr),this._add("mousePan",fr),this._add("touchPan",xr,["touchZoom","touchRotate"]);var _r=new Qa,Vr=new Ua;de.touchZoomRotate=new $i(te,Vr,_r,lt),this._add("touchRotate",_r,["touchPan","touchZoom"]),this._add("touchZoom",Vr,["touchPan","touchRotate"]);var Wr=de.scrollZoom=new hi(de,this);this._add("scrollZoom",Wr,["mousePan"]);var Ur=de.keyboard=new _a;this._add("keyboard",Ur),this._add("blockableMapEvent",new Pt(de));for(var Qr=0,fn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Qr<fn.length;Qr+=1){var Rn=fn[Qr];Z.interactive&&Z[Rn]&&de[Rn].enable(Z[Rn])}},yi.prototype._add=function(Z,de,te){this._handlers.push({handlerName:Z,handler:de,allowed:te}),this._handlersById[Z]=de},yi.prototype.stop=function(){if(!this._updatingCamera){for(var Z=0,de=this._handlers;Z<de.length;Z+=1){var te=de[Z],pe=te.handler;pe.reset()}this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},yi.prototype.isActive=function(){for(var Z=0,de=this._handlers;Z<de.length;Z+=1){var te=de[Z],pe=te.handler;if(pe.isActive())return!0}return!1},yi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},yi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},yi.prototype.isMoving=function(){return!!xo(this._eventsInProgress)||this.isZooming()},yi.prototype._blockedByActive=function(Z,de,te){for(var pe in Z)if(pe!==te&&(!de||de.indexOf(pe)<0))return!0;return!1},yi.prototype.handleWindowEvent=function(Z){this.handleEvent(Z,Z.type+"Window")},yi.prototype._getMapTouches=function(Z){for(var de=[],te=0,pe=Z;te<pe.length;te+=1){var _e=pe[te],Ze=_e.target;this._el.contains(Ze)&&de.push(_e)}return de},yi.prototype.handleEvent=function(Z,de){if(Z.type==="blur"){this.stop();return}this._updatingCamera=!0;for(var te=Z.type==="renderFrame"?void 0:Z,pe={needsRenderFrame:!1},_e={},Ze={},lt=Z.touches?this._getMapTouches(Z.touches):void 0,wt=lt?A.touchPos(this._el,lt):A.mousePos(this._el,Z),Ut=0,Qt=this._handlers;Ut<Qt.length;Ut+=1){var fr=Qt[Ut],xr=fr.handlerName,_r=fr.handler,Vr=fr.allowed;if(_r.isEnabled()){var Wr=void 0;this._blockedByActive(Ze,Vr,xr)?_r.reset():_r[de||Z.type]&&(Wr=_r[de||Z.type](Z,wt,lt),this.mergeHandlerResult(pe,_e,Wr,xr,te),Wr&&Wr.needsRenderFrame&&this._triggerRenderFrame()),(Wr||_r.isActive())&&(Ze[xr]=_r)}}var Ur={};for(var Qr in this._previousActiveHandlers)Ze[Qr]||(Ur[Qr]=te);this._previousActiveHandlers=Ze,(Object.keys(Ur).length||Ho(pe))&&(this._changes.push([pe,_e,Ur]),this._triggerRenderFrame()),(Object.keys(Ze).length||Ho(pe))&&this._map._stop(!0),this._updatingCamera=!1;var fn=pe.cameraAnimation;fn&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],fn(this._map))},yi.prototype.mergeHandlerResult=function(Z,de,te,pe,_e){if(te){i.extend(Z,te);var Ze={handlerName:pe,originalEvent:te.originalEvent||_e};te.zoomDelta!==void 0&&(de.zoom=Ze),te.panDelta!==void 0&&(de.drag=Ze),te.pitchDelta!==void 0&&(de.pitch=Ze),te.bearingDelta!==void 0&&(de.rotate=Ze)}},yi.prototype._applyChanges=function(){for(var Z={},de={},te={},pe=0,_e=this._changes;pe<_e.length;pe+=1){var Ze=_e[pe],lt=Ze[0],wt=Ze[1],Ut=Ze[2];lt.panDelta&&(Z.panDelta=(Z.panDelta||new i.Point(0,0))._add(lt.panDelta)),lt.zoomDelta&&(Z.zoomDelta=(Z.zoomDelta||0)+lt.zoomDelta),lt.bearingDelta&&(Z.bearingDelta=(Z.bearingDelta||0)+lt.bearingDelta),lt.pitchDelta&&(Z.pitchDelta=(Z.pitchDelta||0)+lt.pitchDelta),lt.around!==void 0&&(Z.around=lt.around),lt.pinchAround!==void 0&&(Z.pinchAround=lt.pinchAround),lt.noInertia&&(Z.noInertia=lt.noInertia),i.extend(de,wt),i.extend(te,Ut)}this._updateMapTransform(Z,de,te),this._changes=[]},yi.prototype._updateMapTransform=function(Z,de,te){var pe=this._map,_e=pe.transform;if(!Ho(Z))return this._fireEvents(de,te);var Ze=Z.panDelta,lt=Z.zoomDelta,wt=Z.bearingDelta,Ut=Z.pitchDelta,Qt=Z.around,fr=Z.pinchAround;fr!==void 0&&(Qt=fr),pe._stop(!0),Qt=Qt||pe.transform.centerPoint;var xr=_e.pointLocation(Ze?Qt.sub(Ze):Qt);wt&&(_e.bearing+=wt),Ut&&(_e.pitch+=Ut),lt&&(_e.zoom+=lt),_e.setLocationAtPoint(xr,Qt),this._map._update(),Z.noInertia||this._inertia.record(Z),this._fireEvents(de,te)},yi.prototype._fireEvents=function(Z,de){var te=this,pe=xo(this._eventsInProgress),_e=xo(Z),Ze={};for(var lt in Z){var wt=Z[lt],Ut=wt.originalEvent;this._eventsInProgress[lt]||(Ze[lt+"start"]=Ut),this._eventsInProgress[lt]=Z[lt]}!pe&&_e&&this._fireEvent("movestart",_e.originalEvent);for(var Qt in Ze)this._fireEvent(Qt,Ze[Qt]);Z.rotate&&(this._bearingChanged=!0),_e&&this._fireEvent("move",_e.originalEvent);for(var fr in Z){var xr=Z[fr],_r=xr.originalEvent;this._fireEvent(fr,_r)}var Vr={},Wr;for(var Ur in this._eventsInProgress){var Qr=this._eventsInProgress[Ur],fn=Qr.handlerName,Rn=Qr.originalEvent;this._handlersById[fn].isActive()||(delete this._eventsInProgress[Ur],Wr=de[fn]||Rn,Vr[Ur+"end"]=Wr)}for(var zn in Vr)this._fireEvent(zn,Vr[zn]);var Xn=xo(this._eventsInProgress);if((pe||_e)&&!Xn){this._updatingCamera=!0;var Jn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Kn=function(aa){return aa!==0&&-te._bearingSnap<aa&&aa<te._bearingSnap};Jn?(Kn(Jn.bearing||this._map.getBearing())&&(Jn.bearing=0),this._map.easeTo(Jn,{originalEvent:Wr})):(this._map.fire(new i.Event("moveend",{originalEvent:Wr})),Kn(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},yi.prototype._fireEvent=function(Z,de){this._map.fire(new i.Event(Z,de?{originalEvent:de}:{}))},yi.prototype._triggerRenderFrame=function(){var Z=this;this._frameId===void 0&&(this._frameId=this._map._requestRenderFrame(function(de){delete Z._frameId,Z.handleEvent(new Ci("renderFrame",{timeStamp:de})),Z._applyChanges()}))};var ps=function(he){function Z(de,te){he.call(this),this._moving=!1,this._zooming=!1,this.transform=de,this._bearingSnap=te.bearingSnap,i.bindAll(["_renderFrameCallback"],this)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getCenter=function(){return new i.LngLat(this.transform.center.lng,this.transform.center.lat)},Z.prototype.setCenter=function(te,pe){return this.jumpTo({center:te},pe)},Z.prototype.panBy=function(te,pe,_e){return te=i.Point.convert(te).mult(-1),this.panTo(this.transform.center,i.extend({offset:te},pe),_e)},Z.prototype.panTo=function(te,pe,_e){return this.easeTo(i.extend({center:te},pe),_e)},Z.prototype.getZoom=function(){return this.transform.zoom},Z.prototype.setZoom=function(te,pe){return this.jumpTo({zoom:te},pe),this},Z.prototype.zoomTo=function(te,pe,_e){return this.easeTo(i.extend({zoom:te},pe),_e)},Z.prototype.zoomIn=function(te,pe){return this.zoomTo(this.getZoom()+1,te,pe),this},Z.prototype.zoomOut=function(te,pe){return this.zoomTo(this.getZoom()-1,te,pe),this},Z.prototype.getBearing=function(){return this.transform.bearing},Z.prototype.setBearing=function(te,pe){return this.jumpTo({bearing:te},pe),this},Z.prototype.getPadding=function(){return this.transform.padding},Z.prototype.setPadding=function(te,pe){return this.jumpTo({padding:te},pe),this},Z.prototype.rotateTo=function(te,pe,_e){return this.easeTo(i.extend({bearing:te},pe),_e)},Z.prototype.resetNorth=function(te,pe){return this.rotateTo(0,i.extend({duration:1e3},te),pe),this},Z.prototype.resetNorthPitch=function(te,pe){return this.easeTo(i.extend({bearing:0,pitch:0,duration:1e3},te),pe),this},Z.prototype.snapToNorth=function(te,pe){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(te,pe):this},Z.prototype.getPitch=function(){return this.transform.pitch},Z.prototype.setPitch=function(te,pe){return this.jumpTo({pitch:te},pe),this},Z.prototype.cameraForBounds=function(te,pe){return te=i.LngLatBounds.convert(te),this._cameraForBoxAndBearing(te.getNorthWest(),te.getSouthEast(),0,pe)},Z.prototype._cameraForBoxAndBearing=function(te,pe,_e,Ze){var lt={top:0,bottom:0,right:0,left:0};if(Ze=i.extend({padding:lt,offset:[0,0],maxZoom:this.transform.maxZoom},Ze),typeof Ze.padding=="number"){var wt=Ze.padding;Ze.padding={top:wt,bottom:wt,right:wt,left:wt}}Ze.padding=i.extend(lt,Ze.padding);var Ut=this.transform,Qt=Ut.padding,fr=Ut.project(i.LngLat.convert(te)),xr=Ut.project(i.LngLat.convert(pe)),_r=fr.rotate(-_e*Math.PI/180),Vr=xr.rotate(-_e*Math.PI/180),Wr=new i.Point(Math.max(_r.x,Vr.x),Math.max(_r.y,Vr.y)),Ur=new i.Point(Math.min(_r.x,Vr.x),Math.min(_r.y,Vr.y)),Qr=Wr.sub(Ur),fn=(Ut.width-(Qt.left+Qt.right+Ze.padding.left+Ze.padding.right))/Qr.x,Rn=(Ut.height-(Qt.top+Qt.bottom+Ze.padding.top+Ze.padding.bottom))/Qr.y;if(Rn<0||fn<0){i.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var zn=Math.min(Ut.scaleZoom(Ut.scale*Math.min(fn,Rn)),Ze.maxZoom),Xn=i.Point.convert(Ze.offset),Jn=(Ze.padding.left-Ze.padding.right)/2,Kn=(Ze.padding.top-Ze.padding.bottom)/2,aa=new i.Point(Xn.x+Jn,Xn.y+Kn),ca=aa.mult(Ut.scale/Ut.zoomScale(zn)),fa=Ut.unproject(fr.add(xr).div(2).sub(ca));return{center:fa,zoom:zn,bearing:_e}},Z.prototype.fitBounds=function(te,pe,_e){return this._fitInternal(this.cameraForBounds(te,pe),pe,_e)},Z.prototype.fitScreenCoordinates=function(te,pe,_e,Ze,lt){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(i.Point.convert(te)),this.transform.pointLocation(i.Point.convert(pe)),_e,Ze),Ze,lt)},Z.prototype._fitInternal=function(te,pe,_e){return te?(pe=i.extend(te,pe),delete pe.padding,pe.linear?this.easeTo(pe,_e):this.flyTo(pe,_e)):this},Z.prototype.jumpTo=function(te,pe){this.stop();var _e=this.transform,Ze=!1,lt=!1,wt=!1;return"zoom"in te&&_e.zoom!==+te.zoom&&(Ze=!0,_e.zoom=+te.zoom),te.center!==void 0&&(_e.center=i.LngLat.convert(te.center)),"bearing"in te&&_e.bearing!==+te.bearing&&(lt=!0,_e.bearing=+te.bearing),"pitch"in te&&_e.pitch!==+te.pitch&&(wt=!0,_e.pitch=+te.pitch),te.padding!=null&&!_e.isPaddingEqual(te.padding)&&(_e.padding=te.padding),this.fire(new i.Event("movestart",pe)).fire(new i.Event("move",pe)),Ze&&this.fire(new i.Event("zoomstart",pe)).fire(new i.Event("zoom",pe)).fire(new i.Event("zoomend",pe)),lt&&this.fire(new i.Event("rotatestart",pe)).fire(new i.Event("rotate",pe)).fire(new i.Event("rotateend",pe)),wt&&this.fire(new i.Event("pitchstart",pe)).fire(new i.Event("pitch",pe)).fire(new i.Event("pitchend",pe)),this.fire(new i.Event("moveend",pe))},Z.prototype.easeTo=function(te,pe){var _e=this;this._stop(!1,te.easeId),te=i.extend({offset:[0,0],duration:500,easing:i.ease},te),(te.animate===!1||!te.essential&&i.browser.prefersReducedMotion)&&(te.duration=0);var Ze=this.transform,lt=this.getZoom(),wt=this.getBearing(),Ut=this.getPitch(),Qt=this.getPadding(),fr="zoom"in te?+te.zoom:lt,xr="bearing"in te?this._normalizeBearing(te.bearing,wt):wt,_r="pitch"in te?+te.pitch:Ut,Vr="padding"in te?te.padding:Ze.padding,Wr=i.Point.convert(te.offset),Ur=Ze.centerPoint.add(Wr),Qr=Ze.pointLocation(Ur),fn=i.LngLat.convert(te.center||Qr);this._normalizeCenter(fn);var Rn=Ze.project(Qr),zn=Ze.project(fn).sub(Rn),Xn=Ze.zoomScale(fr-lt),Jn,Kn;te.around&&(Jn=i.LngLat.convert(te.around),Kn=Ze.locationPoint(Jn));var aa={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||fr!==lt,this._rotating=this._rotating||wt!==xr,this._pitching=this._pitching||_r!==Ut,this._padding=!Ze.isPaddingEqual(Vr),this._easeId=te.easeId,this._prepareEase(pe,te.noMoveStart,aa),clearTimeout(this._easeEndTimeoutID),this._ease(function(ca){if(_e._zooming&&(Ze.zoom=i.number(lt,fr,ca)),_e._rotating&&(Ze.bearing=i.number(wt,xr,ca)),_e._pitching&&(Ze.pitch=i.number(Ut,_r,ca)),_e._padding&&(Ze.interpolatePadding(Qt,Vr,ca),Ur=Ze.centerPoint.add(Wr)),Jn)Ze.setLocationAtPoint(Jn,Kn);else{var fa=Ze.zoomScale(Ze.zoom-lt),ga=fr>lt?Math.min(2,Xn):Math.max(.5,Xn),Ta=Math.pow(ga,1-ca),Ia=Ze.unproject(Rn.add(zn.mult(ca*Ta)).mult(fa));Ze.setLocationAtPoint(Ze.renderWorldCopies?Ia.wrap():Ia,Ur)}_e._fireMoveEvents(pe)},function(ca){_e._afterEase(pe,ca)},te),this},Z.prototype._prepareEase=function(te,pe,_e){_e===void 0&&(_e={}),this._moving=!0,!pe&&!_e.moving&&this.fire(new i.Event("movestart",te)),this._zooming&&!_e.zooming&&this.fire(new i.Event("zoomstart",te)),this._rotating&&!_e.rotating&&this.fire(new i.Event("rotatestart",te)),this._pitching&&!_e.pitching&&this.fire(new i.Event("pitchstart",te))},Z.prototype._fireMoveEvents=function(te){this.fire(new i.Event("move",te)),this._zooming&&this.fire(new i.Event("zoom",te)),this._rotating&&this.fire(new i.Event("rotate",te)),this._pitching&&this.fire(new i.Event("pitch",te))},Z.prototype._afterEase=function(te,pe){if(!(this._easeId&&pe&&this._easeId===pe)){delete this._easeId;var _e=this._zooming,Ze=this._rotating,lt=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,_e&&this.fire(new i.Event("zoomend",te)),Ze&&this.fire(new i.Event("rotateend",te)),lt&&this.fire(new i.Event("pitchend",te)),this.fire(new i.Event("moveend",te))}},Z.prototype.flyTo=function(te,pe){var _e=this;if(!te.essential&&i.browser.prefersReducedMotion){var Ze=i.pick(te,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ze,pe)}this.stop(),te=i.extend({offset:[0,0],speed:1.2,curve:1.42,easing:i.ease},te);var lt=this.transform,wt=this.getZoom(),Ut=this.getBearing(),Qt=this.getPitch(),fr=this.getPadding(),xr="zoom"in te?i.clamp(+te.zoom,lt.minZoom,lt.maxZoom):wt,_r="bearing"in te?this._normalizeBearing(te.bearing,Ut):Ut,Vr="pitch"in te?+te.pitch:Qt,Wr="padding"in te?te.padding:lt.padding,Ur=lt.zoomScale(xr-wt),Qr=i.Point.convert(te.offset),fn=lt.centerPoint.add(Qr),Rn=lt.pointLocation(fn),zn=i.LngLat.convert(te.center||Rn);this._normalizeCenter(zn);var Xn=lt.project(Rn),Jn=lt.project(zn).sub(Xn),Kn=te.curve,aa=Math.max(lt.width,lt.height),ca=aa/Ur,fa=Jn.mag();if("minZoom"in te){var ga=i.clamp(Math.min(te.minZoom,wt,xr),lt.minZoom,lt.maxZoom),Ta=aa/lt.zoomScale(ga-wt);Kn=Math.sqrt(Ta/fa*2)}var Ia=Kn*Kn;function Ha(Va){var $a=(ca*ca-aa*aa+(Va?-1:1)*Ia*Ia*fa*fa)/(2*(Va?ca:aa)*Ia*fa);return Math.log(Math.sqrt($a*$a+1)-$a)}function oi(Va){return(Math.exp(Va)-Math.exp(-Va))/2}function Ga(Va){return(Math.exp(Va)+Math.exp(-Va))/2}function Xa(Va){return oi(Va)/Ga(Va)}var Pa=Ha(0),si=function(Va){return Ga(Pa)/Ga(Pa+Kn*Va)},ci=function(Va){return aa*((Ga(Pa)*Xa(Pa+Kn*Va)-oi(Pa))/Ia)/fa},vi=(Ha(1)-Pa)/Kn;if(Math.abs(fa)<1e-6||!isFinite(vi)){if(Math.abs(aa-ca)<1e-6)return this.easeTo(te,pe);var Ja=ca<aa?-1:1;vi=Math.abs(Math.log(ca/aa))/Kn,ci=function(){return 0},si=function(Va){return Math.exp(Ja*Kn*Va)}}if("duration"in te)te.duration=+te.duration;else{var Ai="screenSpeed"in te?+te.screenSpeed/Kn:+te.speed;te.duration=1e3*vi/Ai}return te.maxDuration&&te.duration>te.maxDuration&&(te.duration=0),this._zooming=!0,this._rotating=Ut!==_r,this._pitching=Vr!==Qt,this._padding=!lt.isPaddingEqual(Wr),this._prepareEase(pe,!1),this._ease(function(Va){var $a=Va*vi,Hi=1/si($a);lt.zoom=Va===1?xr:wt+lt.scaleZoom(Hi),_e._rotating&&(lt.bearing=i.number(Ut,_r,Va)),_e._pitching&&(lt.pitch=i.number(Qt,Vr,Va)),_e._padding&&(lt.interpolatePadding(fr,Wr,Va),fn=lt.centerPoint.add(Qr));var no=Va===1?zn:lt.unproject(Xn.add(Jn.mult(ci($a))).mult(Hi));lt.setLocationAtPoint(lt.renderWorldCopies?no.wrap():no,fn),_e._fireMoveEvents(pe)},function(){return _e._afterEase(pe)},te),this},Z.prototype.isEasing=function(){return!!this._easeFrameId},Z.prototype.stop=function(){return this._stop()},Z.prototype._stop=function(te,pe){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var _e=this._onEaseEnd;delete this._onEaseEnd,_e.call(this,pe)}if(!te){var Ze=this.handlers;Ze&&Ze.stop()}return this},Z.prototype._ease=function(te,pe,_e){_e.animate===!1||_e.duration===0?(te(1),pe()):(this._easeStart=i.browser.now(),this._easeOptions=_e,this._onEaseFrame=te,this._onEaseEnd=pe,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},Z.prototype._renderFrameCallback=function(){var te=Math.min((i.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(te)),te<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},Z.prototype._normalizeBearing=function(te,pe){te=i.wrap(te,-180,180);var _e=Math.abs(te-pe);return Math.abs(te-360-pe)<_e&&(te-=360),Math.abs(te+360-pe)<_e&&(te+=360),te},Z.prototype._normalizeCenter=function(te){var pe=this.transform;if(!(!pe.renderWorldCopies||pe.lngRange)){var _e=te.lng-pe.center.lng;te.lng+=_e>180?-360:_e<-180?360:0}},Z}(i.Evented),Vo=function(Z){Z===void 0&&(Z={}),this.options=Z,i.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};Vo.prototype.getDefaultPosition=function(){return"bottom-right"},Vo.prototype.onAdd=function(Z){var de=this.options&&this.options.compact;return this._map=Z,this._container=A.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=A.create("div","mapboxgl-ctrl-attrib-inner",this._container),de&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),de===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Vo.prototype.onRemove=function(){A.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Vo.prototype._updateEditLink=function(){var Z=this._editLink;Z||(Z=this._editLink=this._container.querySelector(".mapbox-improve-map"));var de=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||i.config.ACCESS_TOKEN}];if(Z){var te=de.reduce(function(pe,_e,Ze){return _e.value&&(pe+=_e.key+"="+_e.value+(Ze<de.length-1?"&":"")),pe},"?");Z.href=i.config.FEEDBACK_URL+"/"+te+(this._map._hash?this._map._hash.getHashString(!0):""),Z.rel="noopener nofollow"}},Vo.prototype._updateData=function(Z){Z&&(Z.sourceDataType==="metadata"||Z.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},Vo.prototype._updateAttributions=function(){if(this._map.style){var Z=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?Z=Z.concat(this.options.customAttribution.map(function(wt){return typeof wt!="string"?"":wt})):typeof this.options.customAttribution=="string"&&Z.push(this.options.customAttribution)),this._map.style.stylesheet){var de=this._map.style.stylesheet;this.styleOwner=de.owner,this.styleId=de.id}var te=this._map.style.sourceCaches;for(var pe in te){var _e=te[pe];if(_e.used){var Ze=_e.getSource();Ze.attribution&&Z.indexOf(Ze.attribution)<0&&Z.push(Ze.attribution)}}Z.sort(function(wt,Ut){return wt.length-Ut.length}),Z=Z.filter(function(wt,Ut){for(var Qt=Ut+1;Qt<Z.length;Qt++)if(Z[Qt].indexOf(wt)>=0)return!1;return!0});var lt=Z.join(" | ");lt!==this._attribHTML&&(this._attribHTML=lt,Z.length?(this._innerContainer.innerHTML=lt,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Vo.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var Za=function(){i.bindAll(["_updateLogo"],this),i.bindAll(["_updateCompact"],this)};Za.prototype.onAdd=function(Z){this._map=Z,this._container=A.create("div","mapboxgl-ctrl");var de=A.create("a","mapboxgl-ctrl-logo");return de.target="_blank",de.rel="noopener nofollow",de.href="https://www.mapbox.com/",de.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),de.setAttribute("rel","noopener nofollow"),this._container.appendChild(de),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Za.prototype.onRemove=function(){A.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Za.prototype.getDefaultPosition=function(){return"bottom-left"},Za.prototype._updateLogo=function(Z){(!Z||Z.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},Za.prototype._logoRequired=function(){if(this._map.style){var Z=this._map.style.sourceCaches;for(var de in Z){var te=Z[de].getSource();if(te.mapbox_logo)return!0}return!1}},Za.prototype._updateCompact=function(){var Z=this._container.children;if(Z.length){var de=Z[0];this._map.getCanvasContainer().offsetWidth<250?de.classList.add("mapboxgl-compact"):de.classList.remove("mapboxgl-compact")}};var Ti=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Ti.prototype.add=function(Z){var de=++this._id,te=this._queue;return te.push({callback:Z,id:de,cancelled:!1}),de},Ti.prototype.remove=function(Z){for(var de=this._currentlyRunning,te=de?this._queue.concat(de):this._queue,pe=0,_e=te;pe<_e.length;pe+=1){var Ze=_e[pe];if(Ze.id===Z){Ze.cancelled=!0;return}}},Ti.prototype.run=function(Z){Z===void 0&&(Z=0);var de=this._currentlyRunning=this._queue;this._queue=[];for(var te=0,pe=de;te<pe.length;te+=1){var _e=pe[te];if(!_e.cancelled&&(_e.callback(Z),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Ti.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var gc={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Df=i.window.HTMLImageElement,mh=i.window.HTMLElement,Zu=i.window.ImageBitmap,yc=-2,Zh=22,es=0,Xu=60,td={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:yc,maxZoom:Zh,minPitch:es,maxPitch:Xu,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},rd=function(he){function Z(te){var pe=this;if(te=i.extend({},td,te),te.minZoom!=null&&te.maxZoom!=null&&te.minZoom>te.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(te.minPitch!=null&&te.maxPitch!=null&&te.minPitch>te.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(te.minPitch!=null&&te.minPitch<es)throw new Error("minPitch must be greater than or equal to "+es);if(te.maxPitch!=null&&te.maxPitch>Xu)throw new Error("maxPitch must be less than or equal to "+Xu);var _e=new An(te.minZoom,te.maxZoom,te.minPitch,te.maxPitch,te.renderWorldCopies);if(he.call(this,_e,te),this._interactive=te.interactive,this._maxTileCacheSize=te.maxTileCacheSize,this._failIfMajorPerformanceCaveat=te.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=te.preserveDrawingBuffer,this._antialias=te.antialias,this._trackResize=te.trackResize,this._bearingSnap=te.bearingSnap,this._refreshExpiredTiles=te.refreshExpiredTiles,this._fadeDuration=te.fadeDuration,this._crossSourceCollisions=te.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=te.collectResourceTiming,this._renderTaskQueue=new Ti,this._controls=[],this._mapId=i.uniqueId(),this._locale=i.extend({},gc,te.locale),this._requestManager=new i.RequestManager(te.transformRequest,te.accessToken),typeof te.container=="string"){if(this._container=i.window.document.getElementById(te.container),!this._container)throw new Error("Container '"+te.container+"' not found.")}else if(te.container instanceof mh)this._container=te.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(te.maxBounds&&this.setMaxBounds(te.maxBounds),i.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return pe._update(!1)}),this.on("moveend",function(){return pe._update(!1)}),this.on("zoom",function(){return pe._update(!0)}),typeof i.window<"u"&&(i.window.addEventListener("online",this._onWindowOnline,!1),i.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new yi(this,te);var Ze=typeof te.hash=="string"&&te.hash||void 0;this._hash=te.hash&&new La(Ze).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:te.center,zoom:te.zoom,bearing:te.bearing,pitch:te.pitch}),te.bounds&&(this.resize(),this.fitBounds(te.bounds,i.extend({},te.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=te.localIdeographFontFamily,te.style&&this.setStyle(te.style,{localIdeographFontFamily:te.localIdeographFontFamily}),te.attributionControl&&this.addControl(new Vo({customAttribution:te.customAttribution})),this.addControl(new Za,te.logoPosition),this.on("style.load",function(){pe.transform.unmodified&&pe.jumpTo(pe.style.stylesheet)}),this.on("data",function(lt){pe._update(lt.dataType==="style"),pe.fire(new i.Event(lt.dataType+"data",lt))}),this.on("dataloading",function(lt){pe.fire(new i.Event(lt.dataType+"dataloading",lt))})}he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z;var de={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return Z.prototype._getMapId=function(){return this._mapId},Z.prototype.addControl=function(pe,_e){if(_e===void 0&&pe.getDefaultPosition&&(_e=pe.getDefaultPosition()),_e===void 0&&(_e="top-right"),!pe||!pe.onAdd)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Ze=pe.onAdd(this);this._controls.push(pe);var lt=this._controlPositions[_e];return _e.indexOf("bottom")!==-1?lt.insertBefore(Ze,lt.firstChild):lt.appendChild(Ze),this},Z.prototype.removeControl=function(pe){if(!pe||!pe.onRemove)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var _e=this._controls.indexOf(pe);return _e>-1&&this._controls.splice(_e,1),pe.onRemove(this),this},Z.prototype.resize=function(pe){var _e=this._containerDimensions(),Ze=_e[0],lt=_e[1];this._resizeCanvas(Ze,lt),this.transform.resize(Ze,lt),this.painter.resize(Ze,lt);var wt=!this._moving;return wt&&(this.stop(),this.fire(new i.Event("movestart",pe)).fire(new i.Event("move",pe))),this.fire(new i.Event("resize",pe)),wt&&this.fire(new i.Event("moveend",pe)),this},Z.prototype.getBounds=function(){return this.transform.getBounds()},Z.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},Z.prototype.setMaxBounds=function(pe){return this.transform.setMaxBounds(i.LngLatBounds.convert(pe)),this._update()},Z.prototype.setMinZoom=function(pe){if(pe=pe??yc,pe>=yc&&pe<=this.transform.maxZoom)return this.transform.minZoom=pe,this._update(),this.getZoom()<pe&&this.setZoom(pe),this;throw new Error("minZoom must be between "+yc+" and the current maxZoom, inclusive")},Z.prototype.getMinZoom=function(){return this.transform.minZoom},Z.prototype.setMaxZoom=function(pe){if(pe=pe??Zh,pe>=this.transform.minZoom)return this.transform.maxZoom=pe,this._update(),this.getZoom()>pe&&this.setZoom(pe),this;throw new Error("maxZoom must be greater than the current minZoom")},Z.prototype.getMaxZoom=function(){return this.transform.maxZoom},Z.prototype.setMinPitch=function(pe){if(pe=pe??es,pe<es)throw new Error("minPitch must be greater than or equal to "+es);if(pe>=es&&pe<=this.transform.maxPitch)return this.transform.minPitch=pe,this._update(),this.getPitch()<pe&&this.setPitch(pe),this;throw new Error("minPitch must be between "+es+" and the current maxPitch, inclusive")},Z.prototype.getMinPitch=function(){return this.transform.minPitch},Z.prototype.setMaxPitch=function(pe){if(pe=pe??Xu,pe>Xu)throw new Error("maxPitch must be less than or equal to "+Xu);if(pe>=this.transform.minPitch)return this.transform.maxPitch=pe,this._update(),this.getPitch()>pe&&this.setPitch(pe),this;throw new Error("maxPitch must be greater than the current minPitch")},Z.prototype.getMaxPitch=function(){return this.transform.maxPitch},Z.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},Z.prototype.setRenderWorldCopies=function(pe){return this.transform.renderWorldCopies=pe,this._update()},Z.prototype.project=function(pe){return this.transform.locationPoint(i.LngLat.convert(pe))},Z.prototype.unproject=function(pe){return this.transform.pointLocation(i.Point.convert(pe))},Z.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},Z.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},Z.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},Z.prototype._createDelegatedListener=function(pe,_e,Ze){var lt=this,wt;if(pe==="mouseenter"||pe==="mouseover"){var Ut=!1,Qt=function(Ur){var Qr=lt.getLayer(_e)?lt.queryRenderedFeatures(Ur.point,{layers:[_e]}):[];Qr.length?Ut||(Ut=!0,Ze.call(lt,new Ue(pe,lt,Ur.originalEvent,{features:Qr}))):Ut=!1},fr=function(){Ut=!1};return{layer:_e,listener:Ze,delegates:{mousemove:Qt,mouseout:fr}}}else if(pe==="mouseleave"||pe==="mouseout"){var xr=!1,_r=function(Ur){var Qr=lt.getLayer(_e)?lt.queryRenderedFeatures(Ur.point,{layers:[_e]}):[];Qr.length?xr=!0:xr&&(xr=!1,Ze.call(lt,new Ue(pe,lt,Ur.originalEvent)))},Vr=function(Ur){xr&&(xr=!1,Ze.call(lt,new Ue(pe,lt,Ur.originalEvent)))};return{layer:_e,listener:Ze,delegates:{mousemove:_r,mouseout:Vr}}}else{var Wr=function(Ur){var Qr=lt.getLayer(_e)?lt.queryRenderedFeatures(Ur.point,{layers:[_e]}):[];Qr.length&&(Ur.features=Qr,Ze.call(lt,Ur),delete Ur.features)};return{layer:_e,listener:Ze,delegates:(wt={},wt[pe]=Wr,wt)}}},Z.prototype.on=function(pe,_e,Ze){if(Ze===void 0)return he.prototype.on.call(this,pe,_e);var lt=this._createDelegatedListener(pe,_e,Ze);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[pe]=this._delegatedListeners[pe]||[],this._delegatedListeners[pe].push(lt);for(var wt in lt.delegates)this.on(wt,lt.delegates[wt]);return this},Z.prototype.once=function(pe,_e,Ze){if(Ze===void 0)return he.prototype.once.call(this,pe,_e);var lt=this._createDelegatedListener(pe,_e,Ze);for(var wt in lt.delegates)this.once(wt,lt.delegates[wt]);return this},Z.prototype.off=function(pe,_e,Ze){var lt=this;if(Ze===void 0)return he.prototype.off.call(this,pe,_e);var wt=function(Ut){for(var Qt=Ut[pe],fr=0;fr<Qt.length;fr++){var xr=Qt[fr];if(xr.layer===_e&&xr.listener===Ze){for(var _r in xr.delegates)lt.off(_r,xr.delegates[_r]);return Qt.splice(fr,1),lt}}};return this._delegatedListeners&&this._delegatedListeners[pe]&&wt(this._delegatedListeners),this},Z.prototype.queryRenderedFeatures=function(pe,_e){if(!this.style)return[];_e===void 0&&pe!==void 0&&!(pe instanceof i.Point)&&!Array.isArray(pe)&&(_e=pe,pe=void 0),_e=_e||{},pe=pe||[[0,0],[this.transform.width,this.transform.height]];var Ze;if(pe instanceof i.Point||typeof pe[0]=="number")Ze=[i.Point.convert(pe)];else{var lt=i.Point.convert(pe[0]),wt=i.Point.convert(pe[1]);Ze=[lt,new i.Point(wt.x,lt.y),wt,new i.Point(lt.x,wt.y),lt]}return this.style.queryRenderedFeatures(Ze,_e,this.transform)},Z.prototype.querySourceFeatures=function(pe,_e){return this.style.querySourceFeatures(pe,_e)},Z.prototype.setStyle=function(pe,_e){return _e=i.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},_e),_e.diff!==!1&&_e.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&pe?(this._diffStyle(pe,_e),this):(this._localIdeographFontFamily=_e.localIdeographFontFamily,this._updateStyle(pe,_e))},Z.prototype._getUIString=function(pe){var _e=this._locale[pe];if(_e==null)throw new Error("Missing UI string '"+pe+"'");return _e},Z.prototype._updateStyle=function(pe,_e){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),pe)this.style=new yo(this,_e||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof pe=="string"?this.style.loadURL(pe):this.style.loadJSON(pe),this},Z.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new yo(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},Z.prototype._diffStyle=function(pe,_e){var Ze=this;if(typeof pe=="string"){var lt=this._requestManager.normalizeStyleURL(pe),wt=this._requestManager.transformRequest(lt,i.ResourceType.Style);i.getJSON(wt,function(Ut,Qt){Ut?Ze.fire(new i.ErrorEvent(Ut)):Qt&&Ze._updateDiff(Qt,_e)})}else typeof pe=="object"&&this._updateDiff(pe,_e)},Z.prototype._updateDiff=function(pe,_e){try{this.style.setState(pe)&&this._update(!0)}catch(Ze){i.warnOnce("Unable to perform style diff: "+(Ze.message||Ze.error||Ze)+".  Rebuilding the style from scratch."),this._updateStyle(pe,_e)}},Z.prototype.getStyle=function(){if(this.style)return this.style.serialize()},Z.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():i.warnOnce("There is no style added to the map.")},Z.prototype.addSource=function(pe,_e){return this._lazyInitEmptyStyle(),this.style.addSource(pe,_e),this._update(!0)},Z.prototype.isSourceLoaded=function(pe){var _e=this.style&&this.style.sourceCaches[pe];if(_e===void 0){this.fire(new i.ErrorEvent(new Error("There is no source with ID '"+pe+"'")));return}return _e.loaded()},Z.prototype.areTilesLoaded=function(){var pe=this.style&&this.style.sourceCaches;for(var _e in pe){var Ze=pe[_e],lt=Ze._tiles;for(var wt in lt){var Ut=lt[wt];if(!(Ut.state==="loaded"||Ut.state==="errored"))return!1}}return!0},Z.prototype.addSourceType=function(pe,_e,Ze){return this._lazyInitEmptyStyle(),this.style.addSourceType(pe,_e,Ze)},Z.prototype.removeSource=function(pe){return this.style.removeSource(pe),this._update(!0)},Z.prototype.getSource=function(pe){return this.style.getSource(pe)},Z.prototype.addImage=function(pe,_e,Ze){Ze===void 0&&(Ze={});var lt=Ze.pixelRatio;lt===void 0&&(lt=1);var wt=Ze.sdf;wt===void 0&&(wt=!1);var Ut=Ze.stretchX,Qt=Ze.stretchY,fr=Ze.content;this._lazyInitEmptyStyle();var xr=0;if(_e instanceof Df||Zu&&_e instanceof Zu){var _r=i.browser.getImageData(_e),Vr=_r.width,Wr=_r.height,Ur=_r.data;this.style.addImage(pe,{data:new i.RGBAImage({width:Vr,height:Wr},Ur),pixelRatio:lt,stretchX:Ut,stretchY:Qt,content:fr,sdf:wt,version:xr})}else{if(_e.width===void 0||_e.height===void 0)return this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Qr=_e.width,fn=_e.height,Rn=_e.data,zn=_e;this.style.addImage(pe,{data:new i.RGBAImage({width:Qr,height:fn},new Uint8Array(Rn)),pixelRatio:lt,stretchX:Ut,stretchY:Qt,content:fr,sdf:wt,version:xr,userImage:zn}),zn.onAdd&&zn.onAdd(this,pe)}},Z.prototype.updateImage=function(pe,_e){var Ze=this.style.getImage(pe);if(!Ze)return this.fire(new i.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var lt=_e instanceof Df||Zu&&_e instanceof Zu?i.browser.getImageData(_e):_e,wt=lt.width,Ut=lt.height,Qt=lt.data;if(wt===void 0||Ut===void 0)return this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(wt!==Ze.data.width||Ut!==Ze.data.height)return this.fire(new i.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var fr=!(_e instanceof Df||Zu&&_e instanceof Zu);Ze.data.replace(Qt,fr),this.style.updateImage(pe,Ze)},Z.prototype.hasImage=function(pe){return pe?!!this.style.getImage(pe):(this.fire(new i.ErrorEvent(new Error("Missing required image id"))),!1)},Z.prototype.removeImage=function(pe){this.style.removeImage(pe)},Z.prototype.loadImage=function(pe,_e){i.getImage(this._requestManager.transformRequest(pe,i.ResourceType.Image),_e)},Z.prototype.listImages=function(){return this.style.listImages()},Z.prototype.addLayer=function(pe,_e){return this._lazyInitEmptyStyle(),this.style.addLayer(pe,_e),this._update(!0)},Z.prototype.moveLayer=function(pe,_e){return this.style.moveLayer(pe,_e),this._update(!0)},Z.prototype.removeLayer=function(pe){return this.style.removeLayer(pe),this._update(!0)},Z.prototype.getLayer=function(pe){return this.style.getLayer(pe)},Z.prototype.setLayerZoomRange=function(pe,_e,Ze){return this.style.setLayerZoomRange(pe,_e,Ze),this._update(!0)},Z.prototype.setFilter=function(pe,_e,Ze){return Ze===void 0&&(Ze={}),this.style.setFilter(pe,_e,Ze),this._update(!0)},Z.prototype.getFilter=function(pe){return this.style.getFilter(pe)},Z.prototype.setPaintProperty=function(pe,_e,Ze,lt){return lt===void 0&&(lt={}),this.style.setPaintProperty(pe,_e,Ze,lt),this._update(!0)},Z.prototype.getPaintProperty=function(pe,_e){return this.style.getPaintProperty(pe,_e)},Z.prototype.setLayoutProperty=function(pe,_e,Ze,lt){return lt===void 0&&(lt={}),this.style.setLayoutProperty(pe,_e,Ze,lt),this._update(!0)},Z.prototype.getLayoutProperty=function(pe,_e){return this.style.getLayoutProperty(pe,_e)},Z.prototype.setLight=function(pe,_e){return _e===void 0&&(_e={}),this._lazyInitEmptyStyle(),this.style.setLight(pe,_e),this._update(!0)},Z.prototype.getLight=function(){return this.style.getLight()},Z.prototype.setFeatureState=function(pe,_e){return this.style.setFeatureState(pe,_e),this._update()},Z.prototype.removeFeatureState=function(pe,_e){return this.style.removeFeatureState(pe,_e),this._update()},Z.prototype.getFeatureState=function(pe){return this.style.getFeatureState(pe)},Z.prototype.getContainer=function(){return this._container},Z.prototype.getCanvasContainer=function(){return this._canvasContainer},Z.prototype.getCanvas=function(){return this._canvas},Z.prototype._containerDimensions=function(){var pe=0,_e=0;return this._container&&(pe=this._container.clientWidth||400,_e=this._container.clientHeight||300),[pe,_e]},Z.prototype._detectMissingCSS=function(){var pe=i.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");pe!=="rgb(250, 128, 114)"&&i.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},Z.prototype._setupContainer=function(){var pe=this._container;pe.classList.add("mapboxgl-map");var _e=this._missingCSSCanary=A.create("div","mapboxgl-canary",pe);_e.style.visibility="hidden",this._detectMissingCSS();var Ze=this._canvasContainer=A.create("div","mapboxgl-canvas-container",pe);this._interactive&&Ze.classList.add("mapboxgl-interactive"),this._canvas=A.create("canvas","mapboxgl-canvas",Ze),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var lt=this._containerDimensions();this._resizeCanvas(lt[0],lt[1]);var wt=this._controlContainer=A.create("div","mapboxgl-control-container",pe),Ut=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(Qt){Ut[Qt]=A.create("div","mapboxgl-ctrl-"+Qt,wt)})},Z.prototype._resizeCanvas=function(pe,_e){var Ze=i.browser.devicePixelRatio||1;this._canvas.width=Ze*pe,this._canvas.height=Ze*_e,this._canvas.style.width=pe+"px",this._canvas.style.height=_e+"px"},Z.prototype._setupPainter=function(){var pe=i.extend({},L.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),_e=this._canvas.getContext("webgl",pe)||this._canvas.getContext("experimental-webgl",pe);if(!_e){this.fire(new i.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Rr(_e,this.transform),i.webpSupported.testSupport(_e)},Z.prototype._contextLost=function(pe){pe.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new i.Event("webglcontextlost",{originalEvent:pe}))},Z.prototype._contextRestored=function(pe){this._setupPainter(),this.resize(),this._update(),this.fire(new i.Event("webglcontextrestored",{originalEvent:pe}))},Z.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},Z.prototype._update=function(pe){return this.style?(this._styleDirty=this._styleDirty||pe,this._sourcesDirty=!0,this.triggerRepaint(),this):this},Z.prototype._requestRenderFrame=function(pe){return this._update(),this._renderTaskQueue.add(pe)},Z.prototype._cancelRenderFrame=function(pe){this._renderTaskQueue.remove(pe)},Z.prototype._render=function(pe){var _e=this,Ze,lt=0,wt=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Ze=wt.createQueryEXT(),wt.beginQueryEXT(wt.TIME_ELAPSED_EXT,Ze),lt=i.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(pe),!this._removed){var Ut=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Qt=this.transform.zoom,fr=i.browser.now();this.style.zoomHistory.update(Qt,fr);var xr=new i.EvaluationParameters(Qt,{now:fr,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),_r=xr.crossFadingFactor();(_r!==1||_r!==this._crossFadingFactor)&&(Ut=!0,this._crossFadingFactor=_r),this.style.update(xr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new i.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new i.Event("load"))),this.style&&(this.style.hasTransitions()||Ut)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Vr=i.browser.now()-lt;wt.endQueryEXT(wt.TIME_ELAPSED_EXT,Ze),setTimeout(function(){var Qr=wt.getQueryObjectEXT(Ze,wt.QUERY_RESULT_EXT)/1e6;wt.deleteQueryEXT(Ze),_e.fire(new i.Event("gpu-timing-frame",{cpuTime:Vr,gpuTime:Qr}))},50)}if(this.listens("gpu-timing-layer")){var Wr=this.painter.collectGpuTimers();setTimeout(function(){var Qr=_e.painter.queryGpuTimers(Wr);_e.fire(new i.Event("gpu-timing-layer",{layerTimes:Qr}))},50)}var Ur=this._sourcesDirty||this._styleDirty||this._placementDirty;return Ur||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new i.Event("idle"))),this}},Z.prototype.remove=function(){this._hash&&this._hash.remove();for(var pe=0,_e=this._controls;pe<_e.length;pe+=1){var Ze=_e[pe];Ze.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof i.window<"u"&&(i.window.removeEventListener("resize",this._onWindowResize,!1),i.window.removeEventListener("online",this._onWindowOnline,!1));var lt=this.painter.context.gl.getExtension("WEBGL_lose_context");lt&&lt.loseContext(),xh(this._canvasContainer),xh(this._controlContainer),xh(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new i.Event("remove"))},Z.prototype.triggerRepaint=function(){var pe=this;this.style&&!this._frame&&(this._frame=i.browser.frame(function(_e){pe._frame=null,pe._render(_e)}))},Z.prototype._onWindowOnline=function(){this._update()},Z.prototype._onWindowResize=function(pe){this._trackResize&&this.resize({originalEvent:pe})._update()},de.showTileBoundaries.get=function(){return!!this._showTileBoundaries},de.showTileBoundaries.set=function(te){this._showTileBoundaries!==te&&(this._showTileBoundaries=te,this._update())},de.showPadding.get=function(){return!!this._showPadding},de.showPadding.set=function(te){this._showPadding!==te&&(this._showPadding=te,this._update())},de.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},de.showCollisionBoxes.set=function(te){this._showCollisionBoxes!==te&&(this._showCollisionBoxes=te,te?this.style._generateCollisionBoxes():this._update())},de.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},de.showOverdrawInspector.set=function(te){this._showOverdrawInspector!==te&&(this._showOverdrawInspector=te,this._update())},de.repaint.get=function(){return!!this._repaint},de.repaint.set=function(te){this._repaint!==te&&(this._repaint=te,this.triggerRepaint())},de.vertices.get=function(){return!!this._vertices},de.vertices.set=function(te){this._vertices=te,this._update()},Z.prototype._setCacheLimits=function(pe,_e){i.setCacheLimits(pe,_e)},de.version.get=function(){return i.version},Object.defineProperties(Z.prototype,de),Z}(ps);function xh(he){he.parentNode&&he.parentNode.removeChild(he)}var Xh={showCompass:!0,showZoom:!0,visualizePitch:!1},yu=function(Z){var de=this;this.options=i.extend({},Xh,Z),this._container=A.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(te){return te.preventDefault()}),this.options.showZoom&&(i.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(te){return de._map.zoomIn({},{originalEvent:te})}),A.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(te){return de._map.zoomOut({},{originalEvent:te})}),A.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(i.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(te){de.options.visualizePitch?de._map.resetNorthPitch({},{originalEvent:te}):de._map.resetNorth({},{originalEvent:te})}),this._compassIcon=A.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};yu.prototype._updateZoomButtons=function(){var Z=this._map.getZoom();this._zoomInButton.disabled=Z===this._map.getMaxZoom(),this._zoomOutButton.disabled=Z===this._map.getMinZoom()},yu.prototype._rotateCompassArrow=function(){var Z=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=Z},yu.prototype.onAdd=function(Z){return this._map=Z,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new gs(this._map,this._compass,this.options.visualizePitch)),this._container},yu.prototype.onRemove=function(){A.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},yu.prototype._createButton=function(Z,de){var te=A.create("button",Z,this._container);return te.type="button",te.addEventListener("click",de),te},yu.prototype._setButtonTitle=function(Z,de){var te=this._map._getUIString("NavigationControl."+de);Z.title=te,Z.setAttribute("aria-label",te)};var gs=function(Z,de,te){te===void 0&&(te=!1),this._clickTolerance=10,this.element=de,this.mouseRotate=new Zr({clickTolerance:Z.dragRotate._mouseRotate._clickTolerance}),this.map=Z,te&&(this.mousePitch=new Un({clickTolerance:Z.dragRotate._mousePitch._clickTolerance})),i.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),A.addEventListener(de,"mousedown",this.mousedown),A.addEventListener(de,"touchstart",this.touchstart,{passive:!1}),A.addEventListener(de,"touchmove",this.touchmove),A.addEventListener(de,"touchend",this.touchend),A.addEventListener(de,"touchcancel",this.reset)};gs.prototype.down=function(Z,de){this.mouseRotate.mousedown(Z,de),this.mousePitch&&this.mousePitch.mousedown(Z,de),A.disableDrag()},gs.prototype.move=function(Z,de){var te=this.map,pe=this.mouseRotate.mousemoveWindow(Z,de);if(pe&&pe.bearingDelta&&te.setBearing(te.getBearing()+pe.bearingDelta),this.mousePitch){var _e=this.mousePitch.mousemoveWindow(Z,de);_e&&_e.pitchDelta&&te.setPitch(te.getPitch()+_e.pitchDelta)}},gs.prototype.off=function(){var Z=this.element;A.removeEventListener(Z,"mousedown",this.mousedown),A.removeEventListener(Z,"touchstart",this.touchstart,{passive:!1}),A.removeEventListener(Z,"touchmove",this.touchmove),A.removeEventListener(Z,"touchend",this.touchend),A.removeEventListener(Z,"touchcancel",this.reset),this.offTemp()},gs.prototype.offTemp=function(){A.enableDrag(),A.removeEventListener(i.window,"mousemove",this.mousemove),A.removeEventListener(i.window,"mouseup",this.mouseup)},gs.prototype.mousedown=function(Z){this.down(i.extend({},Z,{ctrlKey:!0,preventDefault:function(){return Z.preventDefault()}}),A.mousePos(this.element,Z)),A.addEventListener(i.window,"mousemove",this.mousemove),A.addEventListener(i.window,"mouseup",this.mouseup)},gs.prototype.mousemove=function(Z){this.move(Z,A.mousePos(this.element,Z))},gs.prototype.mouseup=function(Z){this.mouseRotate.mouseupWindow(Z),this.mousePitch&&this.mousePitch.mouseupWindow(Z),this.offTemp()},gs.prototype.touchstart=function(Z){Z.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=A.touchPos(this.element,Z.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return Z.preventDefault()}},this._startPos))},gs.prototype.touchmove=function(Z){Z.targetTouches.length!==1?this.reset():(this._lastPos=A.touchPos(this.element,Z.targetTouches)[0],this.move({preventDefault:function(){return Z.preventDefault()}},this._lastPos))},gs.prototype.touchend=function(Z){Z.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},gs.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function mu(he,Z,de){if(he=new i.LngLat(he.lng,he.lat),Z){var te=new i.LngLat(he.lng-360,he.lat),pe=new i.LngLat(he.lng+360,he.lat),_e=de.locationPoint(he).distSqr(Z);de.locationPoint(te).distSqr(Z)<_e?he=te:de.locationPoint(pe).distSqr(Z)<_e&&(he=pe)}for(;Math.abs(he.lng-de.center.lng)>180;){var Ze=de.locationPoint(he);if(Ze.x>=0&&Ze.y>=0&&Ze.x<=de.width&&Ze.y<=de.height)break;he.lng>de.center.lng?he.lng-=360:he.lng+=360}return he}var bh={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Kh(he,Z,de){var te=he.classList;for(var pe in bh)te.remove("mapboxgl-"+de+"-anchor-"+pe);te.add("mapboxgl-"+de+"-anchor-"+Z)}var mc=function(he){function Z(de,te){var pe=this;if(he.call(this),(de instanceof i.window.HTMLElement||te)&&(de=i.extend({element:de},te)),i.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=de&&de.anchor||"center",this._color=de&&de.color||"#3FB1CE",this._draggable=de&&de.draggable||!1,this._state="inactive",this._rotation=de&&de.rotation||0,this._rotationAlignment=de&&de.rotationAlignment||"auto",this._pitchAlignment=de&&de.pitchAlignment&&de.pitchAlignment!=="auto"?de.pitchAlignment:this._rotationAlignment,!de||!de.element){this._defaultMarker=!0,this._element=A.create("div"),this._element.setAttribute("aria-label","Map marker");var _e=A.createNS("http://www.w3.org/2000/svg","svg");_e.setAttributeNS(null,"display","block"),_e.setAttributeNS(null,"height","41px"),_e.setAttributeNS(null,"width","27px"),_e.setAttributeNS(null,"viewBox","0 0 27 41");var Ze=A.createNS("http://www.w3.org/2000/svg","g");Ze.setAttributeNS(null,"stroke","none"),Ze.setAttributeNS(null,"stroke-width","1"),Ze.setAttributeNS(null,"fill","none"),Ze.setAttributeNS(null,"fill-rule","evenodd");var lt=A.createNS("http://www.w3.org/2000/svg","g");lt.setAttributeNS(null,"fill-rule","nonzero");var wt=A.createNS("http://www.w3.org/2000/svg","g");wt.setAttributeNS(null,"transform","translate(3.0, 29.0)"),wt.setAttributeNS(null,"fill","#000000");for(var Ut=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],Qt=0,fr=Ut;Qt<fr.length;Qt+=1){var xr=fr[Qt],_r=A.createNS("http://www.w3.org/2000/svg","ellipse");_r.setAttributeNS(null,"opacity","0.04"),_r.setAttributeNS(null,"cx","10.5"),_r.setAttributeNS(null,"cy","5.80029008"),_r.setAttributeNS(null,"rx",xr.rx),_r.setAttributeNS(null,"ry",xr.ry),wt.appendChild(_r)}var Vr=A.createNS("http://www.w3.org/2000/svg","g");Vr.setAttributeNS(null,"fill",this._color);var Wr=A.createNS("http://www.w3.org/2000/svg","path");Wr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Vr.appendChild(Wr);var Ur=A.createNS("http://www.w3.org/2000/svg","g");Ur.setAttributeNS(null,"opacity","0.25"),Ur.setAttributeNS(null,"fill","#000000");var Qr=A.createNS("http://www.w3.org/2000/svg","path");Qr.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Ur.appendChild(Qr);var fn=A.createNS("http://www.w3.org/2000/svg","g");fn.setAttributeNS(null,"transform","translate(6.0, 7.0)"),fn.setAttributeNS(null,"fill","#FFFFFF");var Rn=A.createNS("http://www.w3.org/2000/svg","g");Rn.setAttributeNS(null,"transform","translate(8.0, 8.0)");var zn=A.createNS("http://www.w3.org/2000/svg","circle");zn.setAttributeNS(null,"fill","#000000"),zn.setAttributeNS(null,"opacity","0.25"),zn.setAttributeNS(null,"cx","5.5"),zn.setAttributeNS(null,"cy","5.5"),zn.setAttributeNS(null,"r","5.4999962");var Xn=A.createNS("http://www.w3.org/2000/svg","circle");Xn.setAttributeNS(null,"fill","#FFFFFF"),Xn.setAttributeNS(null,"cx","5.5"),Xn.setAttributeNS(null,"cy","5.5"),Xn.setAttributeNS(null,"r","5.4999962"),Rn.appendChild(zn),Rn.appendChild(Xn),lt.appendChild(wt),lt.appendChild(Vr),lt.appendChild(Ur),lt.appendChild(fn),lt.appendChild(Rn),_e.appendChild(lt),this._element.appendChild(_e),this._offset=i.Point.convert(de&&de.offset||[0,-14])}else this._element=de.element,this._offset=i.Point.convert(de&&de.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Jn){Jn.preventDefault()}),this._element.addEventListener("mousedown",function(Jn){Jn.preventDefault()}),this._element.addEventListener("focus",function(){var Jn=pe._map.getContainer();Jn.scrollTop=0,Jn.scrollLeft=0}),Kh(this._element,this._anchor,"marker"),this._popup=null}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.addTo=function(te){return this.remove(),this._map=te,te.getCanvasContainer().appendChild(this._element),te.on("move",this._update),te.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},Z.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),A.remove(this._element),this._popup&&this._popup.remove(),this},Z.prototype.getLngLat=function(){return this._lngLat},Z.prototype.setLngLat=function(te){return this._lngLat=i.LngLat.convert(te),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},Z.prototype.getElement=function(){return this._element},Z.prototype.setPopup=function(te){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),te){if(!("offset"in te.options)){var pe=38.1,_e=13.5,Ze=Math.sqrt(Math.pow(_e,2)/2);te.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-pe],"bottom-left":[Ze,(pe-_e+Ze)*-1],"bottom-right":[-Ze,(pe-_e+Ze)*-1],left:[_e,(pe-_e)*-1],right:[-_e,(pe-_e)*-1]}:this._offset}this._popup=te,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},Z.prototype._onKeyPress=function(te){var pe=te.code,_e=te.charCode||te.keyCode;(pe==="Space"||pe==="Enter"||_e===32||_e===13)&&this.togglePopup()},Z.prototype._onMapClick=function(te){var pe=te.originalEvent.target,_e=this._element;this._popup&&(pe===_e||_e.contains(pe))&&this.togglePopup()},Z.prototype.getPopup=function(){return this._popup},Z.prototype.togglePopup=function(){var te=this._popup;if(te)te.isOpen()?te.remove():te.addTo(this._map);else return this;return this},Z.prototype._update=function(te){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=mu(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var pe="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?pe="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(pe="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var _e="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?_e="rotateX(0deg)":this._pitchAlignment==="map"&&(_e="rotateX("+this._map.getPitch()+"deg)"),(!te||te.type==="moveend")&&(this._pos=this._pos.round()),A.setTransform(this._element,bh[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+_e+" "+pe)}},Z.prototype.getOffset=function(){return this._offset},Z.prototype.setOffset=function(te){return this._offset=i.Point.convert(te),this._update(),this},Z.prototype._onMove=function(te){this._pos=te.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new i.Event("dragstart"))),this.fire(new i.Event("drag"))},Z.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new i.Event("dragend")),this._state="inactive"},Z.prototype._addDragHandler=function(te){this._element.contains(te.originalEvent.target)&&(te.preventDefault(),this._positionDelta=te.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},Z.prototype.setDraggable=function(te){return this._draggable=!!te,this._map&&(te?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},Z.prototype.isDraggable=function(){return this._draggable},Z.prototype.setRotation=function(te){return this._rotation=te||0,this._update(),this},Z.prototype.getRotation=function(){return this._rotation},Z.prototype.setRotationAlignment=function(te){return this._rotationAlignment=te||"auto",this._update(),this},Z.prototype.getRotationAlignment=function(){return this._rotationAlignment},Z.prototype.setPitchAlignment=function(te){return this._pitchAlignment=te&&te!=="auto"?te:this._rotationAlignment,this._update(),this},Z.prototype.getPitchAlignment=function(){return this._pitchAlignment},Z}(i.Evented),nd={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Ku;function wh(he){Ku!==void 0?he(Ku):i.window.navigator.permissions!==void 0?i.window.navigator.permissions.query({name:"geolocation"}).then(function(Z){Ku=Z.state!=="denied",he(Ku)}):(Ku=!!i.window.navigator.geolocation,he(Ku))}var xc=0,Ju=!1,ad=function(he){function Z(de){he.call(this),this.options=i.extend({},nd,de),i.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.onAdd=function(te){return this._map=te,this._container=A.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),wh(this._setupUI),this._container},Z.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(i.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),A.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,xc=0,Ju=!1},Z.prototype._isOutOfMapMaxBounds=function(te){var pe=this._map.getMaxBounds(),_e=te.coords;return pe&&(_e.longitude<pe.getWest()||_e.longitude>pe.getEast()||_e.latitude<pe.getSouth()||_e.latitude>pe.getNorth())},Z.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},Z.prototype._onSuccess=function(te){if(this._map){if(this._isOutOfMapMaxBounds(te)){this._setErrorState(),this.fire(new i.Event("outofmaxbounds",te)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=te,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(te),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(te),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("geolocate",te)),this._finish()}},Z.prototype._updateCamera=function(te){var pe=new i.LngLat(te.coords.longitude,te.coords.latitude),_e=te.coords.accuracy,Ze=this._map.getBearing(),lt=i.extend({bearing:Ze},this.options.fitBoundsOptions);this._map.fitBounds(pe.toBounds(_e),lt,{geolocateSource:!0})},Z.prototype._updateMarker=function(te){if(te){var pe=new i.LngLat(te.coords.longitude,te.coords.latitude);this._accuracyCircleMarker.setLngLat(pe).addTo(this._map),this._userLocationDotMarker.setLngLat(pe).addTo(this._map),this._accuracy=te.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},Z.prototype._updateCircleRadius=function(){var te=this._map._container.clientHeight/2,pe=this._map.unproject([0,te]),_e=this._map.unproject([1,te]),Ze=pe.distanceTo(_e),lt=Math.ceil(2*this._accuracy/Ze);this._circleElement.style.width=lt+"px",this._circleElement.style.height=lt+"px"},Z.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},Z.prototype._onError=function(te){if(this._map){if(this.options.trackUserLocation)if(te.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var pe=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=pe,this._geolocateButton.setAttribute("aria-label",pe),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(te.code===3&&Ju)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("error",te)),this._finish()}},Z.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},Z.prototype._setupUI=function(te){var pe=this;if(this._container.addEventListener("contextmenu",function(lt){return lt.preventDefault()}),this._geolocateButton=A.create("button","mapboxgl-ctrl-geolocate",this._container),A.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",te===!1){i.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var _e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=_e,this._geolocateButton.setAttribute("aria-label",_e)}else{var Ze=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Ze,this._geolocateButton.setAttribute("aria-label",Ze)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=A.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new mc(this._dotElement),this._circleElement=A.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new mc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(lt){var wt=lt.originalEvent&&lt.originalEvent.type==="resize";!lt.geolocateSource&&pe._watchState==="ACTIVE_LOCK"&&!wt&&(pe._watchState="BACKGROUND",pe._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),pe._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),pe.fire(new i.Event("trackuserlocationend")))})},Z.prototype.trigger=function(){if(!this._setup)return i.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new i.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":xc--,Ju=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new i.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new i.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),xc++;var te;xc>1?(te={maximumAge:6e5,timeout:0},Ju=!0):(te=this.options.positionOptions,Ju=!1),this._geolocationWatchID=i.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,te)}}else i.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},Z.prototype._clearWatch=function(){i.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},Z}(i.Evented),wp={maxWidth:100,unit:"metric"},Qu=function(Z){this.options=i.extend({},wp,Z),i.bindAll(["_onMove","setUnit"],this)};Qu.prototype.getDefaultPosition=function(){return"bottom-left"},Qu.prototype._onMove=function(){id(this._map,this._container,this.options)},Qu.prototype.onAdd=function(Z){return this._map=Z,this._container=A.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",Z.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Qu.prototype.onRemove=function(){A.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Qu.prototype.setUnit=function(Z){this.options.unit=Z,id(this._map,this._container,this.options)};function id(he,Z,de){var te=de&&de.maxWidth||100,pe=he._container.clientHeight/2,_e=he.unproject([0,pe]),Ze=he.unproject([te,pe]),lt=_e.distanceTo(Ze);if(de&&de.unit==="imperial"){var wt=3.2808*lt;if(wt>5280){var Ut=wt/5280;bc(Z,te,Ut,he._getUIString("ScaleControl.Miles"))}else bc(Z,te,wt,he._getUIString("ScaleControl.Feet"))}else if(de&&de.unit==="nautical"){var Qt=lt/1852;bc(Z,te,Qt,he._getUIString("ScaleControl.NauticalMiles"))}else lt>=1e3?bc(Z,te,lt/1e3,he._getUIString("ScaleControl.Kilometers")):bc(Z,te,lt,he._getUIString("ScaleControl.Meters"))}function bc(he,Z,de,te){var pe=Ap(de),_e=pe/de;he.style.width=Z*_e+"px",he.innerHTML=pe+"&nbsp;"+te}function Tp(he){var Z=Math.pow(10,Math.ceil(-Math.log(he)/Math.LN10));return Math.round(he*Z)/Z}function Ap(he){var Z=Math.pow(10,(""+Math.floor(he)).length-1),de=he/Z;return de=de>=10?10:de>=5?5:de>=3?3:de>=2?2:de>=1?1:Tp(de),Z*de}var bl=function(Z){this._fullscreen=!1,Z&&Z.container&&(Z.container instanceof i.window.HTMLElement?this._container=Z.container:i.warnOnce("Full screen control 'container' must be a DOM element.")),i.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in i.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in i.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in i.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in i.window.document&&(this._fullscreenchange="MSFullscreenChange")};bl.prototype.onAdd=function(Z){return this._map=Z,this._container||(this._container=this._map.getContainer()),this._controlContainer=A.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",i.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},bl.prototype.onRemove=function(){A.remove(this._controlContainer),this._map=null,i.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},bl.prototype._checkFullscreenSupport=function(){return!!(i.window.document.fullscreenEnabled||i.window.document.mozFullScreenEnabled||i.window.document.msFullscreenEnabled||i.window.document.webkitFullscreenEnabled)},bl.prototype._setupUI=function(){var Z=this._fullscreenButton=A.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);A.create("span","mapboxgl-ctrl-icon",Z).setAttribute("aria-hidden",!0),Z.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),i.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},bl.prototype._updateTitle=function(){var Z=this._getTitle();this._fullscreenButton.setAttribute("aria-label",Z),this._fullscreenButton.title=Z},bl.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},bl.prototype._isFullscreen=function(){return this._fullscreen},bl.prototype._changeIcon=function(){var Z=i.window.document.fullscreenElement||i.window.document.mozFullScreenElement||i.window.document.webkitFullscreenElement||i.window.document.msFullscreenElement;Z===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},bl.prototype._onClickFullscreen=function(){this._isFullscreen()?i.window.document.exitFullscreen?i.window.document.exitFullscreen():i.window.document.mozCancelFullScreen?i.window.document.mozCancelFullScreen():i.window.document.msExitFullscreen?i.window.document.msExitFullscreen():i.window.document.webkitCancelFullScreen&&i.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Mp={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},Sp=function(he){function Z(de){he.call(this),this.options=i.extend(Object.create(Mp),de),i.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.addTo=function(te){return this._map&&this.remove(),this._map=te,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new i.Event("open")),this},Z.prototype.isOpen=function(){return!!this._map},Z.prototype.remove=function(){return this._content&&A.remove(this._content),this._container&&(A.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new i.Event("close")),this},Z.prototype.getLngLat=function(){return this._lngLat},Z.prototype.setLngLat=function(te){return this._lngLat=i.LngLat.convert(te),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},Z.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},Z.prototype.getElement=function(){return this._container},Z.prototype.setText=function(te){return this.setDOMContent(i.window.document.createTextNode(te))},Z.prototype.setHTML=function(te){var pe=i.window.document.createDocumentFragment(),_e=i.window.document.createElement("body"),Ze;for(_e.innerHTML=te;Ze=_e.firstChild,!!Ze;)pe.appendChild(Ze);return this.setDOMContent(pe)},Z.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},Z.prototype.setMaxWidth=function(te){return this.options.maxWidth=te,this._update(),this},Z.prototype.setDOMContent=function(te){return this._createContent(),this._content.appendChild(te),this._update(),this},Z.prototype.addClassName=function(te){this._container&&this._container.classList.add(te)},Z.prototype.removeClassName=function(te){this._container&&this._container.classList.remove(te)},Z.prototype.toggleClassName=function(te){if(this._container)return this._container.classList.toggle(te)},Z.prototype._createContent=function(){this._content&&A.remove(this._content),this._content=A.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=A.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},Z.prototype._onMouseUp=function(te){this._update(te.point)},Z.prototype._onMouseMove=function(te){this._update(te.point)},Z.prototype._onDrag=function(te){this._update(te.point)},Z.prototype._update=function(te){var pe=this,_e=this._lngLat||this._trackPointer;if(!(!this._map||!_e||!this._content)&&(this._container||(this._container=A.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=A.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(_r){return pe._container.classList.add(_r)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=mu(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!te))){var Ze=this._pos=this._trackPointer&&te?te:this._map.project(this._lngLat),lt=this.options.anchor,wt=od(this.options.offset);if(!lt){var Ut=this._container.offsetWidth,Qt=this._container.offsetHeight,fr;Ze.y+wt.bottom.y<Qt?fr=["top"]:Ze.y>this._map.transform.height-Qt?fr=["bottom"]:fr=[],Ze.x<Ut/2?fr.push("left"):Ze.x>this._map.transform.width-Ut/2&&fr.push("right"),fr.length===0?lt="bottom":lt=fr.join("-")}var xr=Ze.add(wt[lt]).round();A.setTransform(this._container,bh[lt]+" translate("+xr.x+"px,"+xr.y+"px)"),Kh(this._container,lt,"popup")}},Z.prototype._onClose=function(){this.remove()},Z}(i.Evented);function od(he){if(he)if(typeof he=="number"){var Z=Math.round(Math.sqrt(.5*Math.pow(he,2)));return{center:new i.Point(0,0),top:new i.Point(0,he),"top-left":new i.Point(Z,Z),"top-right":new i.Point(-Z,Z),bottom:new i.Point(0,-he),"bottom-left":new i.Point(Z,-Z),"bottom-right":new i.Point(-Z,-Z),left:new i.Point(he,0),right:new i.Point(-he,0)}}else if(he instanceof i.Point||Array.isArray(he)){var de=i.Point.convert(he);return{center:de,top:de,"top-left":de,"top-right":de,bottom:de,"bottom-left":de,"bottom-right":de,left:de,right:de}}else return{center:i.Point.convert(he.center||[0,0]),top:i.Point.convert(he.top||[0,0]),"top-left":i.Point.convert(he["top-left"]||[0,0]),"top-right":i.Point.convert(he["top-right"]||[0,0]),bottom:i.Point.convert(he.bottom||[0,0]),"bottom-left":i.Point.convert(he["bottom-left"]||[0,0]),"bottom-right":i.Point.convert(he["bottom-right"]||[0,0]),left:i.Point.convert(he.left||[0,0]),right:i.Point.convert(he.right||[0,0])};else return od(new i.Point(0,0))}var Ep={version:i.version,supported:L,setRTLTextPlugin:i.setRTLTextPlugin,getRTLTextPluginStatus:i.getRTLTextPluginStatus,Map:rd,NavigationControl:yu,GeolocateControl:ad,AttributionControl:Vo,ScaleControl:Qu,FullscreenControl:bl,Popup:Sp,Marker:mc,Style:yo,LngLat:i.LngLat,LngLatBounds:i.LngLatBounds,Point:i.Point,MercatorCoordinate:i.MercatorCoordinate,Evented:i.Evented,config:i.config,prewarm:kt,clearPrewarmedResources:Yt,get accessToken(){return i.config.ACCESS_TOKEN},set accessToken(he){i.config.ACCESS_TOKEN=he},get baseApiUrl(){return i.config.API_URL},set baseApiUrl(he){i.config.API_URL=he},get workerCount(){return dr.workerCount},set workerCount(he){dr.workerCount=he},get maxParallelImageRequests(){return i.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(he){i.config.MAX_PARALLEL_IMAGE_REQUESTS=he},clearStorage:function(Z){i.clearTileCache(Z)},workerUrl:""};return Ep}),g})},27084:function(W){W.exports=Math.log2||function(H){return Math.log(H)*Math.LOG2E}},16825:function(W,H,e){W.exports=P;var g=e(74311);function P(i,L){L||(L=i,i=window);var A=0,v=0,p=0,t={shift:!1,alt:!1,control:!1,meta:!1},r=!1;function s(M){var T=!1;return"altKey"in M&&(T=T||M.altKey!==t.alt,t.alt=!!M.altKey),"shiftKey"in M&&(T=T||M.shiftKey!==t.shift,t.shift=!!M.shiftKey),"ctrlKey"in M&&(T=T||M.ctrlKey!==t.control,t.control=!!M.ctrlKey),"metaKey"in M&&(T=T||M.metaKey!==t.meta,t.meta=!!M.metaKey),T}function n(M,T){var E=g.x(T),x=g.y(T);"buttons"in T&&(M=T.buttons|0),(M!==A||E!==v||x!==p||s(T))&&(A=M|0,v=E||0,p=x||0,L&&L(A,v,p,t))}function l(M){n(0,M)}function f(){(A||v||p||t.shift||t.alt||t.meta||t.control)&&(v=p=0,A=0,t.shift=t.alt=t.control=t.meta=!1,L&&L(0,0,0,t))}function u(M){s(M)&&L&&L(A,v,p,t)}function m(M){g.buttons(M)===0?n(0,M):n(A,M)}function c(M){n(A|g.buttons(M),M)}function w(M){n(A&~g.buttons(M),M)}function h(){r||(r=!0,i.addEventListener("mousemove",m),i.addEventListener("mousedown",c),i.addEventListener("mouseup",w),i.addEventListener("mouseleave",l),i.addEventListener("mouseenter",l),i.addEventListener("mouseout",l),i.addEventListener("mouseover",l),i.addEventListener("blur",f),i.addEventListener("keyup",u),i.addEventListener("keydown",u),i.addEventListener("keypress",u),i!==window&&(window.addEventListener("blur",f),window.addEventListener("keyup",u),window.addEventListener("keydown",u),window.addEventListener("keypress",u)))}function o(){r&&(r=!1,i.removeEventListener("mousemove",m),i.removeEventListener("mousedown",c),i.removeEventListener("mouseup",w),i.removeEventListener("mouseleave",l),i.removeEventListener("mouseenter",l),i.removeEventListener("mouseout",l),i.removeEventListener("mouseover",l),i.removeEventListener("blur",f),i.removeEventListener("keyup",u),i.removeEventListener("keydown",u),i.removeEventListener("keypress",u),i!==window&&(window.removeEventListener("blur",f),window.removeEventListener("keyup",u),window.removeEventListener("keydown",u),window.removeEventListener("keypress",u)))}h();var d={element:i};return Object.defineProperties(d,{enabled:{get:function(){return r},set:function(M){M?h():o()},enumerable:!0},buttons:{get:function(){return A},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return p},enumerable:!0},mods:{get:function(){return t},enumerable:!0}}),d}},48956:function(W){var H={left:0,top:0};W.exports=e;function e(P,i,L){i=i||P.currentTarget||P.srcElement,Array.isArray(L)||(L=[0,0]);var A=P.clientX||0,v=P.clientY||0,p=g(i);return L[0]=A-p.left,L[1]=v-p.top,L}function g(P){return P===window||P===document||P===document.body?H:P.getBoundingClientRect()}},74311:function(W,H){function e(L){if(typeof L=="object"){if("buttons"in L)return L.buttons;if("which"in L){var A=L.which;if(A===2)return 4;if(A===3)return 2;if(A>0)return 1<<A-1}else if("button"in L){var A=L.button;if(A===1)return 4;if(A===2)return 2;if(A>=0)return 1<<A}}return 0}H.buttons=e;function g(L){return L.target||L.srcElement||window}H.element=g;function P(L){if(typeof L=="object"){if("offsetX"in L)return L.offsetX;var A=g(L),v=A.getBoundingClientRect();return L.clientX-v.left}return 0}H.x=P;function i(L){if(typeof L=="object"){if("offsetY"in L)return L.offsetY;var A=g(L),v=A.getBoundingClientRect();return L.clientY-v.top}return 0}H.y=i},1195:function(W,H,e){var g=e(75686);W.exports=P;function P(i,L,A){typeof i=="function"&&(A=!!L,L=i,i=window);var v=g("ex",i),p=function(t){A&&t.preventDefault();var r=t.deltaX||0,s=t.deltaY||0,n=t.deltaZ||0,l=t.deltaMode,f=1;switch(l){case 1:f=v;break;case 2:f=window.innerHeight;break}if(r*=f,s*=f,n*=f,r||s||n)return L(r,s,n,t)};return i.addEventListener("wheel",p),p}},7417:function(W,H,e){var g;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(i,L,A){L[i]=L[i]||A(),W.exports?W.exports=L[i]:(g=(function(){return L[i]}).call(H,e,H,W),g!==void 0&&(W.exports=g))})("Promise",typeof e.g<"u"?e.g:this,function(){var i,L,A,v=Object.prototype.toString,p=typeof setImmediate<"u"?function(d){return setImmediate(d)}:setTimeout;try{Object.defineProperty({},"x",{}),i=function(d,M,T,E){return Object.defineProperty(d,M,{value:T,writable:!0,configurable:E!==!1})}}catch{i=function(M,T,E){return M[T]=E,M}}A=function(){var d,M,T;function E(x,S){this.fn=x,this.self=S,this.next=void 0}return{add:function(S,b){T=new E(S,b),M?M.next=T:d=T,M=T,T=void 0},drain:function(){var S=d;for(d=M=L=void 0;S;)S.fn.call(S.self),S=S.next}}}();function t(o,d){A.add(o,d),L||(L=p(A.drain))}function r(o){var d,M=typeof o;return o!=null&&(M=="object"||M=="function")&&(d=o.then),typeof d=="function"?d:!1}function s(){for(var o=0;o<this.chain.length;o++)n(this,this.state===1?this.chain[o].success:this.chain[o].failure,this.chain[o]);this.chain.length=0}function n(o,d,M){var T,E;try{d===!1?M.reject(o.msg):(d===!0?T=o.msg:T=d.call(void 0,o.msg),T===M.promise?M.reject(TypeError("Promise-chain cycle")):(E=r(T))?E.call(T,M.resolve,M.reject):M.resolve(T))}catch(x){M.reject(x)}}function l(o){var d,M=this;if(!M.triggered){M.triggered=!0,M.def&&(M=M.def);try{(d=r(o))?t(function(){var T=new m(M);try{d.call(o,function(){l.apply(T,arguments)},function(){f.apply(T,arguments)})}catch(E){f.call(T,E)}}):(M.msg=o,M.state=1,M.chain.length>0&&t(s,M))}catch(T){f.call(new m(M),T)}}}function f(o){var d=this;d.triggered||(d.triggered=!0,d.def&&(d=d.def),d.msg=o,d.state=2,d.chain.length>0&&t(s,d))}function u(o,d,M,T){for(var E=0;E<d.length;E++)(function(S){o.resolve(d[S]).then(function(a){M(S,a)},T)})(E)}function m(o){this.def=o,this.triggered=!1}function c(o){this.promise=o,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function w(o){if(typeof o!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var d=new c(this);this.then=function(T,E){var x={success:typeof T=="function"?T:!0,failure:typeof E=="function"?E:!1};return x.promise=new this.constructor(function(b,a){if(typeof b!="function"||typeof a!="function")throw TypeError("Not a function");x.resolve=b,x.reject=a}),d.chain.push(x),d.state!==0&&t(s,d),x.promise},this.catch=function(T){return this.then(void 0,T)};try{o.call(void 0,function(T){l.call(d,T)},function(T){f.call(d,T)})}catch(M){f.call(d,M)}}var h=i({},"constructor",w,!1);return w.prototype=h,i(h,"__NPO__",0,!1),i(w,"resolve",function(d){var M=this;return d&&typeof d=="object"&&d.__NPO__===1?d:new M(function(E,x){if(typeof E!="function"||typeof x!="function")throw TypeError("Not a function");E(d)})}),i(w,"reject",function(d){return new this(function(T,E){if(typeof T!="function"||typeof E!="function")throw TypeError("Not a function");E(d)})}),i(w,"all",function(d){var M=this;return v.call(d)!="[object Array]"?M.reject(TypeError("Not an array")):d.length===0?M.resolve([]):new M(function(E,x){if(typeof E!="function"||typeof x!="function")throw TypeError("Not a function");var S=d.length,b=Array(S),a=0;u(M,d,function(y,z){b[y]=z,++a===S&&E(b)},x)})}),i(w,"race",function(d){var M=this;return v.call(d)!="[object Array]"?M.reject(TypeError("Not an array")):new M(function(E,x){if(typeof E!="function"||typeof x!="function")throw TypeError("Not a function");u(M,d,function(b,a){E(a)},x)})}),w})},18625:function(W){var H=Math.PI,e=v(120);W.exports=g;function g(p){for(var t,r=[],s=0,n=0,l=0,f=0,u=null,m=null,c=0,w=0,h=0,o=p.length;h<o;h++){var d=p[h],M=d[0];switch(M){case"M":l=d[1],f=d[2];break;case"A":d=L(c,w,d[1],d[2],v(d[3]),d[4],d[5],d[6],d[7]),d.unshift("C"),d.length>7&&(r.push(d.splice(0,7)),d.unshift("C"));break;case"S":var T=c,E=w;(t=="C"||t=="S")&&(T+=T-s,E+=E-n),d=["C",T,E,d[1],d[2],d[3],d[4]];break;case"T":t=="Q"||t=="T"?(u=c*2-u,m=w*2-m):(u=c,m=w),d=i(c,w,u,m,d[1],d[2]);break;case"Q":u=d[1],m=d[2],d=i(c,w,d[1],d[2],d[3],d[4]);break;case"L":d=P(c,w,d[1],d[2]);break;case"H":d=P(c,w,d[1],w);break;case"V":d=P(c,w,c,d[1]);break;case"Z":d=P(c,w,l,f);break}t=M,c=d[d.length-2],w=d[d.length-1],d.length>4?(s=d[d.length-4],n=d[d.length-3]):(s=c,n=w),r.push(d)}return r}function P(p,t,r,s){return["C",p,t,r,s,r,s]}function i(p,t,r,s,n,l){return["C",p/3+.6666666666666666*r,t/3+.6666666666666666*s,n/3+.6666666666666666*r,l/3+.6666666666666666*s,n,l]}function L(p,t,r,s,n,l,f,u,m,c){if(c)b=c[0],a=c[1],x=c[2],S=c[3];else{var w=A(p,t,-n);p=w.x,t=w.y,w=A(u,m,-n),u=w.x,m=w.y;var h=(p-u)/2,o=(t-m)/2,d=h*h/(r*r)+o*o/(s*s);d>1&&(d=Math.sqrt(d),r=d*r,s=d*s);var M=r*r,T=s*s,E=(l==f?-1:1)*Math.sqrt(Math.abs((M*T-M*o*o-T*h*h)/(M*o*o+T*h*h)));E==1/0&&(E=1);var x=E*r*o/s+(p+u)/2,S=E*-s*h/r+(t+m)/2,b=Math.asin(((t-S)/s).toFixed(9)),a=Math.asin(((m-S)/s).toFixed(9));b=p<x?H-b:b,a=u<x?H-a:a,b<0&&(b=H*2+b),a<0&&(a=H*2+a),f&&b>a&&(b=b-H*2),!f&&a>b&&(a=a-H*2)}if(Math.abs(a-b)>e){var C=a,y=u,z=m;a=b+e*(f&&a>b?1:-1),u=x+r*Math.cos(a),m=S+s*Math.sin(a);var I=L(u,m,r,s,n,0,f,y,z,[a,C,x,S])}var B=Math.tan((a-b)/4),F=4/3*r*B,O=4/3*s*B,N=[2*p-(p+F*Math.sin(b)),2*t-(t-O*Math.cos(b)),u+F*Math.sin(a),m-O*Math.cos(a),u,m];if(c)return N;I&&(N=N.concat(I));for(var _=0;_<N.length;){var U=A(N[_],N[_+1],n);N[_++]=U.x,N[_++]=U.y}return N}function A(p,t,r){return{x:p*Math.cos(r)-t*Math.sin(r),y:p*Math.sin(r)+t*Math.cos(r)}}function v(p){return p*(H/180)}},56131:function(W){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var H=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;function P(L){if(L==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(L)}function i(){try{if(!Object.assign)return!1;var L=new String("abc");if(L[5]="de",Object.getOwnPropertyNames(L)[0]==="5")return!1;for(var A={},v=0;v<10;v++)A["_"+String.fromCharCode(v)]=v;var p=Object.getOwnPropertyNames(A).map(function(r){return A[r]});if(p.join("")!=="0123456789")return!1;var t={};return"abcdefghijklmnopqrst".split("").forEach(function(r){t[r]=r}),Object.keys(Object.assign({},t)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}W.exports=i()?Object.assign:function(L,A){for(var v,p=P(L),t,r=1;r<arguments.length;r++){v=Object(arguments[r]);for(var s in v)e.call(v,s)&&(p[s]=v[s]);if(H){t=H(v);for(var n=0;n<t.length;n++)g.call(v,t[n])&&(p[t[n]]=v[t[n]])}}return p}},65848:function(W){var H=function(e){return e!==e};W.exports=function(g,P){return g===0&&P===0?1/g===1/P:!!(g===P||H(g)&&H(P))}},64003:function(W,H,e){var g=e(17045),P=e(68222),i=e(65848),L=e(27015),A=e(55572),v=P(L(),Object);g(v,{getPolyfill:L,implementation:i,shim:A}),W.exports=v},27015:function(W,H,e){var g=e(65848);W.exports=function(){return typeof Object.is=="function"?Object.is:g}},55572:function(W,H,e){var g=e(27015),P=e(17045);W.exports=function(){var L=g();return P(Object,{is:L},{is:function(){return Object.is!==L}}),L}},99019:function(W,H,e){var g;if(!Object.keys){var P=Object.prototype.hasOwnProperty,i=Object.prototype.toString,L=e(64178),A=Object.prototype.propertyIsEnumerable,v=!A.call({toString:null},"toString"),p=A.call(function(){},"prototype"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=function(f){var u=f.constructor;return u&&u.prototype===f},s={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var f in window)try{if(!s["$"+f]&&P.call(window,f)&&window[f]!==null&&typeof window[f]=="object")try{r(window[f])}catch{return!0}}catch{return!0}return!1}(),l=function(f){if(typeof window>"u"||!n)return r(f);try{return r(f)}catch{return!1}};g=function(u){var m=u!==null&&typeof u=="object",c=i.call(u)==="[object Function]",w=L(u),h=m&&i.call(u)==="[object String]",o=[];if(!m&&!c&&!w)throw new TypeError("Object.keys called on a non-object");var d=p&&c;if(h&&u.length>0&&!P.call(u,0))for(var M=0;M<u.length;++M)o.push(String(M));if(w&&u.length>0)for(var T=0;T<u.length;++T)o.push(String(T));else for(var E in u)!(d&&E==="prototype")&&P.call(u,E)&&o.push(String(E));if(v)for(var x=l(u),S=0;S<t.length;++S)!(x&&t[S]==="constructor")&&P.call(u,t[S])&&o.push(t[S]);return o}}W.exports=g},8709:function(W,H,e){var g=Array.prototype.slice,P=e(64178),i=Object.keys,L=i?function(p){return i(p)}:e(99019),A=Object.keys;L.shim=function(){if(Object.keys){var p=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);p||(Object.keys=function(r){return P(r)?A(g.call(r)):A(r)})}else Object.keys=L;return Object.keys||L},W.exports=L},64178:function(W){var H=Object.prototype.toString;W.exports=function(g){var P=H.call(g),i=P==="[object Arguments]";return i||(i=P!=="[object Array]"&&g!==null&&typeof g=="object"&&typeof g.length=="number"&&g.length>=0&&H.call(g.callee)==="[object Function]"),i}},88641:function(W){function H(P,i){if(typeof P!="string")return[P];var L=[P];typeof i=="string"||Array.isArray(i)?i={brackets:i}:i||(i={});var A=i.brackets?Array.isArray(i.brackets)?i.brackets:[i.brackets]:["{}","[]","()"],v=i.escape||"___",p=!!i.flat;A.forEach(function(s){var n=new RegExp(["\\",s[0],"[^\\",s[0],"\\",s[1],"]*\\",s[1]].join("")),l=[];function f(u,m,c){var w=L.push(u.slice(s[0].length,-s[1].length))-1;return l.push(w),v+w+v}L.forEach(function(u,m){for(var c,w=0;u!=c;)if(c=u,u=u.replace(n,f),w++>1e4)throw Error("References have circular dependency. Please, check them.");L[m]=u}),l=l.reverse(),L=L.map(function(u){return l.forEach(function(m){u=u.replace(new RegExp("(\\"+v+m+"\\"+v+")","g"),s[0]+"$1"+s[1])}),u})});var t=new RegExp("\\"+v+"([0-9]+)\\"+v);function r(s,n,l){for(var f=[],u,m=0;u=t.exec(s);){if(m++>1e4)throw Error("Circular references in parenthesis");f.push(s.slice(0,u.index)),f.push(r(n[u[1]],n)),s=s.slice(u.index+u[0].length)}return f.push(s),f}return p?L:r(L[0],L)}function e(P,i){if(i&&i.flat){var L=i&&i.escape||"___",A=P[0],v;if(!A)return"";for(var p=new RegExp("\\"+L+"([0-9]+)\\"+L),t=0;A!=v;){if(t++>1e4)throw Error("Circular references in "+P);v=A,A=A.replace(p,r)}return A}return P.reduce(function s(n,l){return Array.isArray(l)&&(l=l.reduce(s,"")),n+l},"");function r(s,n){if(P[n]==null)throw Error("Reference "+n+"is undefined");return P[n]}}function g(P,i){return Array.isArray(P)?e(P,i):H(P,i)}g.parse=H,g.stringify=e,W.exports=g},18863:function(W,H,e){var g=e(71299);W.exports=P;function P(i){var L;return arguments.length>1&&(i=arguments),typeof i=="string"?i=i.split(/\s/).map(parseFloat):typeof i=="number"&&(i=[i]),i.length&&typeof i[0]=="number"?i.length===1?L={width:i[0],height:i[0],x:0,y:0}:i.length===2?L={width:i[0],height:i[1],x:0,y:0}:L={x:i[0],y:i[1],width:i[2]-i[0]||0,height:i[3]-i[1]||0}:i&&(i=g(i,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),L={x:i.left||0,y:i.top||0},i.width==null?i.right?L.width=i.right-L.x:L.width=0:L.width=i.width,i.height==null?i.bottom?L.height=i.bottom-L.y:L.height=0:L.height=i.height),L}},95616:function(W){W.exports=g;var H={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function g(L){var A=[];return L.replace(e,function(v,p,t){var r=p.toLowerCase();for(t=i(t),r=="m"&&t.length>2&&(A.push([p].concat(t.splice(0,2))),r="l",p=p=="m"?"l":"L");;){if(t.length==H[r])return t.unshift(p),A.push(t);if(t.length<H[r])throw new Error("malformed path data");A.push([p].concat(t.splice(0,H[r])))}}),A}var P=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function i(L){var A=L.match(P);return A?A.map(Number):[]}},25677:function(W){W.exports=function(e,g){g||(g=[0,""]),e=String(e);var P=parseFloat(e,10);return g[0]=P,g[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",g}},9748:function(W,H,e){var g=e(90386);(function(){var P,i,L,A,v,p;typeof performance<"u"&&performance!==null&&performance.now?W.exports=function(){return performance.now()}:typeof g<"u"&&g!==null&&g.hrtime?(W.exports=function(){return(P()-v)/1e6},i=g.hrtime,P=function(){var t;return t=i(),t[0]*1e9+t[1]},A=P(),p=g.uptime()*1e9,v=A-p):Date.now?(W.exports=function(){return Date.now()-L},L=Date.now()):(W.exports=function(){return new Date().getTime()-L},L=new Date().getTime())}).call(this)},71299:function(W){W.exports=function(P,i,L){var A={},v,p;if(typeof i=="string"&&(i=e(i)),Array.isArray(i)){var t={};for(p=0;p<i.length;p++)t[i[p]]=!0;i=t}for(v in i)i[v]=e(i[v]);var r={};for(v in i){var s=i[v];if(Array.isArray(s))for(p=0;p<s.length;p++){var n=s[p];if(L&&(r[n]=!0),n in P){if(A[v]=P[n],L)for(var l=p;l<s.length;l++)r[s[l]]=!0;break}}else v in P&&(i[v]&&(A[v]=P[v]),L&&(r[v]=!0))}if(L)for(v in P)r[v]||(A[v]=P[v]);return A};var H={};function e(g){return H[g]?H[g]:(typeof g=="string"&&(g=H[g]=g.split(/\s*,\s*|\s+/)),g)}},38258:function(W){W.exports=function(e,g,P,i){var L=e[0],A=e[1],v=!1;P===void 0&&(P=0),i===void 0&&(i=g.length);for(var p=i-P,t=0,r=p-1;t<p;r=t++){var s=g[t+P][0],n=g[t+P][1],l=g[r+P][0],f=g[r+P][1],u=n>A!=f>A&&L<(l-s)*(A-n)/(f-n)+s;u&&(v=!v)}return v}},52142:function(W,H,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var g=e(69444),P=e(29023),i=e(87263),L=e(11328),A=e(55968),v=e(10670),p=!1,t=P(),r;r={buildLog:function(n){return n===!0?p=g():n===!1&&(p=!1),p===!1?!1:p.list},epsilon:function(n){return t.epsilon(n)},segments:function(n){var l=i(!0,t,p);return n.regions.forEach(l.addRegion),{segments:l.calculate(n.inverted),inverted:n.inverted}},combine:function(n,l){var f=i(!1,t,p);return{combined:f.calculate(n.segments,n.inverted,l.segments,l.inverted),inverted1:n.inverted,inverted2:l.inverted}},selectUnion:function(n){return{segments:A.union(n.combined,p),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:A.intersect(n.combined,p),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:A.difference(n.combined,p),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:A.differenceRev(n.combined,p),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:A.xor(n.combined,p),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:L(n.segments,t,p),inverted:n.inverted}},polygonFromGeoJSON:function(n){return v.toPolygon(r,n)},polygonToGeoJSON:function(n){return v.fromPolygon(r,t,n)},union:function(n,l){return s(n,l,r.selectUnion)},intersect:function(n,l){return s(n,l,r.selectIntersect)},difference:function(n,l){return s(n,l,r.selectDifference)},differenceRev:function(n,l){return s(n,l,r.selectDifferenceRev)},xor:function(n,l){return s(n,l,r.selectXor)}};function s(n,l,f){var u=r.segments(n),m=r.segments(l),c=r.combine(u,m),w=f(c);return r.polygon(w)}typeof window=="object"&&(window.PolyBool=r),W.exports=r},69444:function(W){function H(){var e,g=0,P=!1;function i(L,A){return e.list.push({type:L,data:A?JSON.parse(JSON.stringify(A)):void 0}),e}return e={list:[],segmentId:function(){return g++},checkIntersection:function(L,A){return i("check",{seg1:L,seg2:A})},segmentChop:function(L,A){return i("div_seg",{seg:L,pt:A}),i("chop",{seg:L,pt:A})},statusRemove:function(L){return i("pop_seg",{seg:L})},segmentUpdate:function(L){return i("seg_update",{seg:L})},segmentNew:function(L,A){return i("new_seg",{seg:L,primary:A})},segmentRemove:function(L){return i("rem_seg",{seg:L})},tempStatus:function(L,A,v){return i("temp_status",{seg:L,above:A,below:v})},rewind:function(L){return i("rewind",{seg:L})},status:function(L,A,v){return i("status",{seg:L,above:A,below:v})},vert:function(L){return L===P?e:(P=L,i("vert",{x:L}))},log:function(L){return typeof L!="string"&&(L=JSON.stringify(L,!1,"  ")),i("log",{txt:L})},reset:function(){return i("reset")},selected:function(L){return i("selected",{segs:L})},chainStart:function(L){return i("chain_start",{seg:L})},chainRemoveHead:function(L,A){return i("chain_rem_head",{index:L,pt:A})},chainRemoveTail:function(L,A){return i("chain_rem_tail",{index:L,pt:A})},chainNew:function(L,A){return i("chain_new",{pt1:L,pt2:A})},chainMatch:function(L){return i("chain_match",{index:L})},chainClose:function(L){return i("chain_close",{index:L})},chainAddHead:function(L,A){return i("chain_add_head",{index:L,pt:A})},chainAddTail:function(L,A){return i("chain_add_tail",{index:L,pt:A})},chainConnect:function(L,A){return i("chain_con",{index1:L,index2:A})},chainReverse:function(L){return i("chain_rev",{index:L})},chainJoin:function(L,A){return i("chain_join",{index1:L,index2:A})},done:function(){return i("done")}},e}W.exports=H},29023:function(W){function H(e){typeof e!="number"&&(e=1e-10);var g={epsilon:function(P){return typeof P=="number"&&(e=P),e},pointAboveOrOnLine:function(P,i,L){var A=i[0],v=i[1],p=L[0],t=L[1],r=P[0],s=P[1];return(p-A)*(s-v)-(t-v)*(r-A)>=-e},pointBetween:function(P,i,L){var A=P[1]-i[1],v=L[0]-i[0],p=P[0]-i[0],t=L[1]-i[1],r=p*v+A*t;if(r<e)return!1;var s=v*v+t*t;return!(r-s>-e)},pointsSameX:function(P,i){return Math.abs(P[0]-i[0])<e},pointsSameY:function(P,i){return Math.abs(P[1]-i[1])<e},pointsSame:function(P,i){return g.pointsSameX(P,i)&&g.pointsSameY(P,i)},pointsCompare:function(P,i){return g.pointsSameX(P,i)?g.pointsSameY(P,i)?0:P[1]<i[1]?-1:1:P[0]<i[0]?-1:1},pointsCollinear:function(P,i,L){var A=P[0]-i[0],v=P[1]-i[1],p=i[0]-L[0],t=i[1]-L[1];return Math.abs(A*t-p*v)<e},linesIntersect:function(P,i,L,A){var v=i[0]-P[0],p=i[1]-P[1],t=A[0]-L[0],r=A[1]-L[1],s=v*r-p*t;if(Math.abs(s)<e)return!1;var n=P[0]-L[0],l=P[1]-L[1],f=(t*l-r*n)/s,u=(v*l-p*n)/s,m={alongA:0,alongB:0,pt:[P[0]+f*v,P[1]+f*p]};return f<=-e?m.alongA=-2:f<e?m.alongA=-1:f-1<=-e?m.alongA=0:f-1<e?m.alongA=1:m.alongA=2,u<=-e?m.alongB=-2:u<e?m.alongB=-1:u-1<=-e?m.alongB=0:u-1<e?m.alongB=1:m.alongB=2,m},pointInsideRegion:function(P,i){for(var L=P[0],A=P[1],v=i[i.length-1][0],p=i[i.length-1][1],t=!1,r=0;r<i.length;r++){var s=i[r][0],n=i[r][1];n-A>e!=p-A>e&&(v-s)*(A-n)/(p-n)+s-L>e&&(t=!t),v=s,p=n}return t}};return g}W.exports=H},10670:function(W){var H={toPolygon:function(e,g){function P(A){if(A.length<=0)return e.segments({inverted:!1,regions:[]});function v(r){var s=r.slice(0,r.length-1);return e.segments({inverted:!1,regions:[s]})}for(var p=v(A[0]),t=1;t<A.length;t++)p=e.selectDifference(e.combine(p,v(A[t])));return p}if(g.type==="Polygon")return e.polygon(P(g.coordinates));if(g.type==="MultiPolygon"){for(var i=e.segments({inverted:!1,regions:[]}),L=0;L<g.coordinates.length;L++)i=e.selectUnion(e.combine(i,P(g.coordinates[L])));return e.polygon(i)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,g,P){P=e.polygon(e.segments(P));function i(f,u){return g.pointInsideRegion([(f[0][0]+f[1][0])*.5,(f[0][1]+f[1][1])*.5],u)}function L(f){return{region:f,children:[]}}var A=L(null);function v(f,u){for(var m=0;m<f.children.length;m++){var c=f.children[m];if(i(u,c.region)){v(c,u);return}}for(var w=L(u),m=0;m<f.children.length;m++){var c=f.children[m];i(c.region,u)&&(w.children.push(c),f.children.splice(m,1),m--)}f.children.push(w)}for(var p=0;p<P.regions.length;p++){var t=P.regions[p];t.length<3||v(A,t)}function r(f,u){for(var m=0,c=f[f.length-1][0],w=f[f.length-1][1],h=[],o=0;o<f.length;o++){var d=f[o][0],M=f[o][1];h.push([d,M]),m+=M*c-d*w,c=d,w=M}var T=m<0;return T!==u&&h.reverse(),h.push([h[0][0],h[0][1]]),h}var s=[];function n(f){var u=[r(f.region,!1)];s.push(u);for(var m=0;m<f.children.length;m++)u.push(l(f.children[m]))}function l(f){for(var u=0;u<f.children.length;u++)n(f.children[u]);return r(f.region,!0)}for(var p=0;p<A.children.length;p++)n(A.children[p]);return s.length<=0?{type:"Polygon",coordinates:[]}:s.length==1?{type:"Polygon",coordinates:s[0]}:{type:"MultiPolygon",coordinates:s}}};W.exports=H},87263:function(W,H,e){var g=e(26859);function P(i,L,A){function v(w,h){return{id:A?A.segmentId():-1,start:w,end:h,myFill:{above:null,below:null},otherFill:null}}function p(w,h,o){return{id:A?A.segmentId():-1,start:w,end:h,myFill:{above:o.myFill.above,below:o.myFill.below},otherFill:null}}var t=g.create();function r(w,h,o,d,M,T){var E=L.pointsCompare(h,M);return E!==0?E:L.pointsSame(o,T)?0:w!==d?w?1:-1:L.pointAboveOrOnLine(o,d?M:T,d?T:M)?1:-1}function s(w,h){t.insertBefore(w,function(o){var d=r(w.isStart,w.pt,h,o.isStart,o.pt,o.other.pt);return d<0})}function n(w,h){var o=g.node({isStart:!0,pt:w.start,seg:w,primary:h,other:null,status:null});return s(o,w.end),o}function l(w,h,o){var d=g.node({isStart:!1,pt:h.end,seg:h,primary:o,other:w,status:null});w.other=d,s(d,w.pt)}function f(w,h){var o=n(w,h);return l(o,w,h),o}function u(w,h){A&&A.segmentChop(w.seg,h),w.other.remove(),w.seg.end=h,w.other.pt=h,s(w.other,w.pt)}function m(w,h){var o=p(h,w.seg.end,w.seg);return u(w,h),f(o,w.primary)}function c(w,h){var o=g.create();function d(O,N){var _=O.seg.start,U=O.seg.end,Y=N.seg.start,K=N.seg.end;return L.pointsCollinear(_,Y,K)?L.pointsCollinear(U,Y,K)||L.pointAboveOrOnLine(U,Y,K)?1:-1:L.pointAboveOrOnLine(_,Y,K)?1:-1}function M(O){return o.findTransition(function(N){var _=d(O,N.ev);return _>0})}function T(O,N){var _=O.seg,U=N.seg,Y=_.start,K=_.end,re=U.start,ae=U.end;A&&A.checkIntersection(_,U);var fe=L.linesIntersect(Y,K,re,ae);if(fe===!1){if(!L.pointsCollinear(Y,K,re)||L.pointsSame(Y,ae)||L.pointsSame(K,re))return!1;var Q=L.pointsSame(Y,re),j=L.pointsSame(K,ae);if(Q&&j)return N;var X=!Q&&L.pointBetween(Y,re,ae),J=!j&&L.pointBetween(K,re,ae);if(Q)return J?m(N,K):m(O,ae),N;X&&(j||(J?m(N,K):m(O,ae)),m(N,Y))}else fe.alongA===0&&(fe.alongB===-1?m(O,re):fe.alongB===0?m(O,fe.pt):fe.alongB===1&&m(O,ae)),fe.alongB===0&&(fe.alongA===-1?m(N,Y):fe.alongA===0?m(N,fe.pt):fe.alongA===1&&m(N,K));return!1}for(var E=[];!t.isEmpty();){var x=t.getHead();if(A&&A.vert(x.pt[0]),x.isStart){let O=function(){if(b){var N=T(x,b);if(N)return N}return a?T(x,a):!1};var F=O;A&&A.segmentNew(x.seg,x.primary);var S=M(x),b=S.before?S.before.ev:null,a=S.after?S.after.ev:null;A&&A.tempStatus(x.seg,b?b.seg:!1,a?a.seg:!1);var C=O();if(C){if(i){var y;x.seg.myFill.below===null?y=!0:y=x.seg.myFill.above!==x.seg.myFill.below,y&&(C.seg.myFill.above=!C.seg.myFill.above)}else C.seg.otherFill=x.seg.myFill;A&&A.segmentUpdate(C.seg),x.other.remove(),x.remove()}if(t.getHead()!==x){A&&A.rewind(x.seg);continue}if(i){var y;x.seg.myFill.below===null?y=!0:y=x.seg.myFill.above!==x.seg.myFill.below,a?x.seg.myFill.below=a.seg.myFill.above:x.seg.myFill.below=w,y?x.seg.myFill.above=!x.seg.myFill.below:x.seg.myFill.above=x.seg.myFill.below}else if(x.seg.otherFill===null){var z;a?x.primary===a.primary?z=a.seg.otherFill.above:z=a.seg.myFill.above:z=x.primary?h:w,x.seg.otherFill={above:z,below:z}}A&&A.status(x.seg,b?b.seg:!1,a?a.seg:!1),x.other.status=S.insert(g.node({ev:x}))}else{var I=x.status;if(I===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(o.exists(I.prev)&&o.exists(I.next)&&T(I.prev.ev,I.next.ev),A&&A.statusRemove(I.ev.seg),I.remove(),!x.primary){var B=x.seg.myFill;x.seg.myFill=x.seg.otherFill,x.seg.otherFill=B}E.push(x.seg)}t.getHead().remove()}return A&&A.done(),E}return i?{addRegion:function(w){for(var h,o=w[w.length-1],d=0;d<w.length;d++){h=o,o=w[d];var M=L.pointsCompare(h,o);M!==0&&f(v(M<0?h:o,M<0?o:h),!0)}},calculate:function(w){return c(w,!1)}}:{calculate:function(w,h,o,d){return w.forEach(function(M){f(p(M.start,M.end,M),!0)}),o.forEach(function(M){f(p(M.start,M.end,M),!1)}),c(h,d)}}}W.exports=P},26859:function(W){var H={create:function(){var e={root:{root:!0,next:null},exists:function(g){return!(g===null||g===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(g,P){for(var i=e.root,L=e.root.next;L!==null;){if(P(L)){g.prev=L.prev,g.next=L,L.prev.next=g,L.prev=g;return}i=L,L=L.next}i.next=g,g.prev=i,g.next=null},findTransition:function(g){for(var P=e.root,i=e.root.next;i!==null&&!g(i);)P=i,i=i.next;return{before:P===e.root?null:P,after:i,insert:function(L){return L.prev=P,L.next=i,P.next=L,i!==null&&(i.prev=L),L}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};W.exports=H},11328:function(W){function H(e,g,P){var i=[],L=[];return e.forEach(function(A){var v=A.start,p=A.end;if(g.pointsSame(v,p)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}P&&P.chainStart(A);var t={index:0,matches_head:!1,matches_pt1:!1},r={index:0,matches_head:!1,matches_pt1:!1},s=t;function n(C,y,z){return s.index=C,s.matches_head=y,s.matches_pt1=z,s===t?(s=r,!1):(s=null,!0)}for(var l=0;l<i.length;l++){var f=i[l],u=f[0];f[1];var m=f[f.length-1];if(f[f.length-2],g.pointsSame(u,v)){if(n(l,!0,!0))break}else if(g.pointsSame(u,p)){if(n(l,!0,!1))break}else if(g.pointsSame(m,v)){if(n(l,!1,!0))break}else if(g.pointsSame(m,p)&&n(l,!1,!1))break}if(s===t){i.push([v,p]),P&&P.chainNew(v,p);return}if(s===r){P&&P.chainMatch(t.index);var c=t.index,w=t.matches_pt1?p:v,h=t.matches_head,f=i[c],o=h?f[0]:f[f.length-1],d=h?f[1]:f[f.length-2],M=h?f[f.length-1]:f[0],T=h?f[f.length-2]:f[1];if(g.pointsCollinear(d,o,w)&&(h?(P&&P.chainRemoveHead(t.index,w),f.shift()):(P&&P.chainRemoveTail(t.index,w),f.pop()),o=d),g.pointsSame(M,w)){i.splice(c,1),g.pointsCollinear(T,M,o)&&(h?(P&&P.chainRemoveTail(t.index,o),f.pop()):(P&&P.chainRemoveHead(t.index,o),f.shift())),P&&P.chainClose(t.index),L.push(f);return}h?(P&&P.chainAddHead(t.index,w),f.unshift(w)):(P&&P.chainAddTail(t.index,w),f.push(w));return}function E(C){P&&P.chainReverse(C),i[C].reverse()}function x(C,y){var z=i[C],I=i[y],B=z[z.length-1],F=z[z.length-2],O=I[0],N=I[1];g.pointsCollinear(F,B,O)&&(P&&P.chainRemoveTail(C,B),z.pop(),B=F),g.pointsCollinear(B,O,N)&&(P&&P.chainRemoveHead(y,O),I.shift()),P&&P.chainJoin(C,y),i[C]=z.concat(I),i.splice(y,1)}var S=t.index,b=r.index;P&&P.chainConnect(S,b);var a=i[S].length<i[b].length;t.matches_head?r.matches_head?a?(E(S),x(S,b)):(E(b),x(b,S)):x(b,S):r.matches_head?x(S,b):a?(E(S),x(b,S)):(E(b),x(S,b))}),L}W.exports=H},55968:function(W){function H(g,P,i){var L=[];return g.forEach(function(A){var v=(A.myFill.above?8:0)+(A.myFill.below?4:0)+(A.otherFill&&A.otherFill.above?2:0)+(A.otherFill&&A.otherFill.below?1:0);P[v]!==0&&L.push({id:i?i.segmentId():-1,start:A.start,end:A.end,myFill:{above:P[v]===1,below:P[v]===2},otherFill:null})}),i&&i.selected(L),L}var e={union:function(g,P){return H(g,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],P)},intersect:function(g,P){return H(g,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],P)},difference:function(g,P){return H(g,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],P)},differenceRev:function(g,P){return H(g,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],P)},xor:function(g,P){return H(g,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],P)}};W.exports=e},14847:function(W,H,e){var g=e(21630).Transform,P=e(90715);function i(){g.call(this,{readableObjectMode:!0})}i.prototype=Object.create(g.prototype),i.prototype.constructor=i,P(i.prototype),H.OF=function(A,v,p){for(var t=v,r=0;r<p.length;)if(A[t++]!==p[r++])return!1;return!0},H.eG=function(A,v){var p=[],t=0;if(v&&v==="hex")for(;t<A.length;)p.push(parseInt(A.slice(t,t+2),16)),t+=2;else for(;t<A.length;t++)p.push(A.charCodeAt(t)&255);return p},H.mP=function(A,v){return A[v]|A[v+1]<<8},H.n8=function(A,v){return A[v+1]|A[v]<<8},H.nm=function(A,v){return A[v]|A[v+1]<<8|A[v+2]<<16|A[v+3]*16777216},H.Ag=function(A,v){return A[v+3]|A[v+2]<<8|A[v+1]<<16|A[v]*16777216};function L(A,v,p){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=A,v&&(this.code=v),p&&(this.statusCode=p)}L.prototype=Object.create(Error.prototype),L.prototype.constructor=L},71371:function(W){function H(P,i){var L=new Error(P);return L.code=i,L}function e(P){try{return decodeURIComponent(escape(P))}catch{return P}}function g(P,i,L){this.input=P.subarray(i,L),this.start=i;var A=String.fromCharCode.apply(null,this.input.subarray(0,4));if(A!=="II*\0"&&A!=="MM\0*")throw H("invalid TIFF signature","EBADDATA");this.big_endian=A[0]==="M"}g.prototype.each=function(P){this.aborted=!1;var i=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:i}];this.ifds_to_read.length>0&&!this.aborted;){var L=this.ifds_to_read.shift();L.offset&&this.scan_ifd(L.id,L.offset,P)}},g.prototype.read_uint16=function(P){var i=this.input;if(P+2>i.length)throw H("unexpected EOF","EBADDATA");return this.big_endian?i[P]*256+i[P+1]:i[P]+i[P+1]*256},g.prototype.read_uint32=function(P){var i=this.input;if(P+4>i.length)throw H("unexpected EOF","EBADDATA");return this.big_endian?i[P]*16777216+i[P+1]*65536+i[P+2]*256+i[P+3]:i[P]+i[P+1]*256+i[P+2]*65536+i[P+3]*16777216},g.prototype.is_subifd_link=function(P,i){return P===0&&i===34665||P===0&&i===34853||P===34665&&i===40965},g.prototype.exif_format_length=function(P){switch(P){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},g.prototype.exif_format_read=function(P,i){var L;switch(P){case 1:case 2:return L=this.input[i],L;case 6:return L=this.input[i],L|(L&128)*33554430;case 3:return L=this.read_uint16(i),L;case 8:return L=this.read_uint16(i),L|(L&32768)*131070;case 4:return L=this.read_uint32(i),L;case 9:return L=this.read_uint32(i),L|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},g.prototype.scan_ifd=function(P,i,L){var A=this.read_uint16(i);i+=2;for(var v=0;v<A;v++){var p=this.read_uint16(i),t=this.read_uint16(i+2),r=this.read_uint32(i+4),s=this.exif_format_length(t),n=r*s,l=n<=4?i+8:this.read_uint32(i+8),f=!1;if(l+n>this.input.length)throw H("unexpected EOF","EBADDATA");for(var u=[],m=l,c=0;c<r;c++,m+=s){var w=this.exif_format_read(t,m);if(w===null){u=null;break}u.push(w)}Array.isArray(u)&&t===2&&(u=e(String.fromCharCode.apply(null,u)),u&&u[u.length-1]==="\0"&&(u=u.slice(0,-1))),this.is_subifd_link(P,p)&&Array.isArray(u)&&Number.isInteger(u[0])&&u[0]>0&&(this.ifds_to_read.push({id:p,offset:u[0]}),f=!0);var h={is_big_endian:this.big_endian,ifd:P,tag:p,format:t,count:r,entry_offset:i+this.start,data_length:n,data_offset:l+this.start,value:u,is_subifd_link:f};if(L(h)===!1){this.aborted=!0;return}i+=12}P===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(i)})},W.exports.ExifParser=g,W.exports.get_orientation=function(P){var i=0;try{return new g(P,0,P.length).each(function(L){if(L.ifd===0&&L.tag===274&&Array.isArray(L.value))return i=L.value[0],!1}),i}catch{return-1}}},76767:function(W,H,e){var g=e(14847).n8,P=e(14847).Ag;function i(n,l){if(n.length<4+l)return null;var f=P(n,l);return n.length<f+l||f<8?null:{boxtype:String.fromCharCode.apply(null,n.slice(l+4,l+8)),data:n.slice(l+8,l+f),end:l+f}}W.exports.unbox=i;function L(n,l){for(var f=0;;){var u=i(n,f);if(!u)break;switch(u.boxtype){case"ispe":l.sizes.push({width:P(u.data,4),height:P(u.data,8)});break;case"irot":l.transforms.push({type:"irot",value:u.data[0]&3});break;case"imir":l.transforms.push({type:"imir",value:u.data[0]&1});break}f=u.end}}function A(n,l,f){for(var u=0,m=0;m<f;m++)u=u*256+(n[l+m]||0);return u}function v(n,l){for(var f=n[4]>>4&15,u=n[4]&15,m=n[5]>>4&15,c=g(n,6),w=8,h=0;h<c;h++){var o=g(n,w);w+=2;var d=g(n,w);w+=2;var M=A(n,w,m);w+=m;var T=g(n,w);if(w+=2,d===0&&T===1){var E=A(n,w,f),x=A(n,w+f,u);l.item_loc[o]={length:x,offset:E+M}}w+=T*(f+u)}}function p(n,l){for(var f=g(n,4),u=6,m=0;m<f;m++){var c=i(n,u);if(!c)break;if(c.boxtype==="infe"){for(var w=g(c.data,4),h="",o=8;o<c.data.length&&c.data[o];o++)h+=String.fromCharCode(c.data[o]);l.item_inf[h]=w}u=c.end}}function t(n,l){for(var f=0;;){var u=i(n,f);if(!u)break;u.boxtype==="ipco"&&L(u.data,l),f=u.end}}function r(n,l){for(var f=4;;){var u=i(n,f);if(!u)break;u.boxtype==="iprp"&&t(u.data,l),u.boxtype==="iloc"&&v(u.data,l),u.boxtype==="iinf"&&p(u.data,l),f=u.end}}function s(n){var l=n.reduce(function(m,c){return m.width>c.width||m.width===c.width&&m.height>c.height?m:c}),f=n.reduce(function(m,c){return m.height>c.height||m.height===c.height&&m.width>c.width?m:c}),u;return l.width>f.height||l.width===f.height&&l.height>f.width?u=l:u=f,u}W.exports.readSizeFromMeta=function(n){var l={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(r(n,l),!!l.sizes.length){var f=s(l.sizes),u=1;l.transforms.forEach(function(c){var w={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},h={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(c.type==="imir"&&(c.value===0?u=h[u]:(u=h[u],u=w[u],u=w[u])),c.type==="irot")for(var o=0;o<c.value;o++)u=w[u]});var m=null;return l.item_inf.Exif&&(m=l.item_loc[l.item_inf.Exif]),{width:f.width,height:f.height,orientation:l.transforms.length?u:null,variants:l.sizes,exif_location:m}}},W.exports.getMimeType=function(n){var l=String.fromCharCode.apply(null,n.slice(0,4)),f={};f[l]=!0;for(var u=8;u<n.length;u+=4)f[String.fromCharCode.apply(null,n.slice(u,u+4))]=!0;if(!(!f.mif1&&!f.msf1&&!f.miaf))return l==="avif"||l==="avis"||l==="avio"?{type:"avif",mime:"image/avif"}:l==="heic"||l==="heix"?{type:"heic",mime:"image/heic"}:l==="hevc"||l==="hevx"?{type:"heic",mime:"image/heic-sequence"}:f.avif||f.avis?{type:"avif",mime:"image/avif"}:f.heic||f.heix||f.hevc||f.hevx||f.heis?f.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(W,H,e){var g=e(14847).eG,P=e(14847).OF,i=e(14847).Ag,L=e(76767),A=e(71371),v=g("ftyp");W.exports=function(p){if(P(p,4,v)){var t=L.unbox(p,0);if(t){var r=L.getMimeType(t.data);if(r){for(var s,n=t.end;;){var l=L.unbox(p,n);if(!l)break;if(n=l.end,l.boxtype==="mdat")return;if(l.boxtype==="meta"){s=l.data;break}}if(s){var f=L.readSizeFromMeta(s);if(f){var u={width:f.width,height:f.height,type:r.type,mime:r.mime,wUnits:"px",hUnits:"px"};if(f.variants.length>1&&(u.variants=f.variants),f.orientation&&(u.orientation=f.orientation),f.exif_location&&f.exif_location.offset+f.exif_location.length<=p.length){var m=i(p,f.exif_location.offset),c=p.slice(f.exif_location.offset+m+4,f.exif_location.offset+f.exif_location.length),w=A.get_orientation(c);w>0&&(u.orientation=w)}return u}}}}}}},2504:function(W,H,e){var g=e(14847).eG,P=e(14847).OF,i=e(14847).mP,L=g("BM");W.exports=function(A){if(!(A.length<26)&&P(A,0,L))return{width:i(A,18),height:i(A,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(W,H,e){var g=e(14847).eG,P=e(14847).OF,i=e(14847).mP,L=g("GIF87a"),A=g("GIF89a");W.exports=function(v){if(!(v.length<10)&&!(!P(v,0,L)&&!P(v,0,A)))return{width:i(v,6),height:i(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(W,H,e){var g=e(14847).mP,P=0,i=1,L=16;W.exports=function(A){var v=g(A,0),p=g(A,2),t=g(A,4);if(!(v!==P||p!==i||!t)){for(var r=[],s={width:0,height:0},n=0;n<t;n++){var l=A[6+L*n]||256,f=A[6+L*n+1]||256,u={width:l,height:f};r.push(u),(l>s.width||f>s.height)&&(s=u)}return{width:s.width,height:s.height,variants:r,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(W,H,e){var g=e(14847).n8,P=e(14847).eG,i=e(14847).OF,L=e(71371),A=P("Exif\0\0");W.exports=function(v){if(!(v.length<2)&&!(v[0]!==255||v[1]!==216||v[2]!==255))for(var p=2;;){for(;;){if(v.length-p<2)return;if(v[p++]===255)break}for(var t=v[p++],r;t===255;)t=v[p++];if(208<=t&&t<=217||t===1)r=0;else if(192<=t&&t<=254){if(v.length-p<2)return;r=g(v,p)-2,p+=2}else return;if(t===217||t===218)return;var s;if(t===225&&r>=10&&i(v,p,A)&&(s=L.get_orientation(v.slice(p+6,p+r))),r>=5&&192<=t&&t<=207&&t!==196&&t!==200&&t!==204){if(v.length-p<r)return;var n={width:g(v,p+3),height:g(v,p+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return s>0&&(n.orientation=s),n}p+=r}}},6303:function(W,H,e){var g=e(14847).eG,P=e(14847).OF,i=e(14847).Ag,L=g(`PNG\r

`),A=g("IHDR");W.exports=function(v){if(!(v.length<24)&&P(v,0,L)&&P(v,12,A))return{width:i(v,16),height:i(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(W,H,e){var g=e(14847).eG,P=e(14847).OF,i=e(14847).Ag,L=g("8BPS\0");W.exports=function(A){if(!(A.length<22)&&P(A,0,L))return{width:i(A,18),height:i(A,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(W){function H(s){return s===32||s===9||s===13||s===10}function e(s){return typeof s=="number"&&isFinite(s)&&s>0}function g(s){var n=0,l=s.length;for(s[0]===239&&s[1]===187&&s[2]===191&&(n=3);n<l&&H(s[n]);)n++;return n===l?!1:s[n]===60}var P=/<[-_.:a-zA-Z0-9][^>]*>/,i=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,L=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,A=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,p=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function t(s){var n=s.match(L),l=s.match(A),f=s.match(v);return{width:n&&(n[1]||n[2]),height:l&&(l[1]||l[2]),viewbox:f&&(f[1]||f[2])}}function r(s){return p.test(s)?s.match(p)[0]:"px"}W.exports=function(s){if(g(s)){for(var n="",l=0;l<s.length;l++)n+=String.fromCharCode(s[l]);var f=(n.match(P)||[""])[0];if(i.test(f)){var u=t(f),m=parseFloat(u.width),c=parseFloat(u.height);if(u.width&&u.height)return!e(m)||!e(c)?void 0:{width:m,height:c,type:"svg",mime:"image/svg+xml",wUnits:r(u.width),hUnits:r(u.height)};var w=(u.viewbox||"").split(" "),h={width:w[2],height:w[3]},o=parseFloat(h.width),d=parseFloat(h.height);if(!(!e(o)||!e(d))&&r(h.width)===r(h.height)){var M=o/d;return u.width?e(m)?{width:m,height:m/M,type:"svg",mime:"image/svg+xml",wUnits:r(u.width),hUnits:r(u.width)}:void 0:u.height?e(c)?{width:c*M,height:c,type:"svg",mime:"image/svg+xml",wUnits:r(u.height),hUnits:r(u.height)}:void 0:{width:o,height:d,type:"svg",mime:"image/svg+xml",wUnits:r(h.width),hUnits:r(h.height)}}}}}},66278:function(W,H,e){var g=e(14847).eG,P=e(14847).OF,i=e(14847).mP,L=e(14847).n8,A=e(14847).nm,v=e(14847).Ag,p=g("II*\0"),t=g("MM\0*");function r(l,f,u){return u?L(l,f):i(l,f)}function s(l,f,u){return u?v(l,f):A(l,f)}function n(l,f,u){var m=r(l,f+2,u),c=s(l,f+4,u);return c!==1||m!==3&&m!==4?null:m===3?r(l,f+8,u):s(l,f+8,u)}W.exports=function(l){if(!(l.length<8)&&!(!P(l,0,p)&&!P(l,0,t))){var f=l[0]===77,u=s(l,4,f)-8;if(!(u<0)){var m=u+8;if(!(l.length-m<2)){var c=r(l,m+0,f)*12;if(!(c<=0)&&(m+=2,!(l.length-m<c))){var w,h,o,d;for(w=0;w<c;w+=12)d=r(l,m+w,f),d===256?h=n(l,m+w,f):d===257&&(o=n(l,m+w,f));if(h&&o)return{width:h,height:o,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},90784:function(W,H,e){var g=e(14847).eG,P=e(14847).OF,i=e(14847).mP,L=e(14847).nm,A=e(71371),v=g("RIFF"),p=g("WEBP");function t(n,l){if(!(n[l+3]!==157||n[l+4]!==1||n[l+5]!==42))return{width:i(n,l+6)&16383,height:i(n,l+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function r(n,l){if(n[l]===47){var f=L(n,l+1);return{width:(f&16383)+1,height:(f>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function s(n,l){return{width:(n[l+6]<<16|n[l+5]<<8|n[l+4])+1,height:(n[l+9]<<l|n[l+8]<<8|n[l+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}W.exports=function(n){if(!(n.length<16)&&!(!P(n,0,v)&&!P(n,8,p))){var l=12,f=null,u=0,m=L(n,4)+8;if(!(m>n.length)){for(;l+8<m;){if(n[l]===0){l++;continue}var c=String.fromCharCode.apply(null,n.slice(l,l+4)),w=L(n,l+4);c==="VP8 "&&w>=10?f=f||t(n,l+8):c==="VP8L"&&w>=9?f=f||r(n,l+8):c==="VP8X"&&w>=10?f=f||s(n,l+8):c==="EXIF"&&(u=A.get_orientation(n.slice(l+8,l+8+w)),l=1/0),l+=8+w}if(f)return u>0&&(f.orientation=u),f}}}},91497:function(W,H,e){W.exports={avif:e(24461),bmp:e(2504),gif:e(47342),ico:e(31355),jpeg:e(54261),png:e(6303),psd:e(38689),svg:e(6881),tiff:e(66278),webp:e(90784)}},33575:function(W,H,e){var g=e(91497);function P(i){for(var L=Object.keys(g),A=0;A<L.length;A++){var v=g[L[A]](i);if(v)return v}return null}W.exports=function(L){return P(L)},W.exports.parsers=g},90386:function(W){var H=W.exports={},e,g;function P(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=P}catch{e=P}try{typeof clearTimeout=="function"?g=clearTimeout:g=i}catch{g=i}})();function L(u){if(e===setTimeout)return setTimeout(u,0);if((e===P||!e)&&setTimeout)return e=setTimeout,setTimeout(u,0);try{return e(u,0)}catch{try{return e.call(null,u,0)}catch{return e.call(this,u,0)}}}function A(u){if(g===clearTimeout)return clearTimeout(u);if((g===i||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(u);try{return g(u)}catch{try{return g.call(null,u)}catch{return g.call(this,u)}}}var v=[],p=!1,t,r=-1;function s(){!p||!t||(p=!1,t.length?v=t.concat(v):r=-1,v.length&&n())}function n(){if(!p){var u=L(s);p=!0;for(var m=v.length;m;){for(t=v,v=[];++r<m;)t&&t[r].run();r=-1,m=v.length}t=null,p=!1,A(u)}}H.nextTick=function(u){var m=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)m[c-1]=arguments[c];v.push(new l(u,m)),v.length===1&&!p&&L(n)};function l(u,m){this.fun=u,this.array=m}l.prototype.run=function(){this.fun.apply(null,this.array)},H.title="browser",H.browser=!0,H.env={},H.argv=[],H.version="",H.versions={};function f(){}H.on=f,H.addListener=f,H.once=f,H.off=f,H.removeListener=f,H.removeAllListeners=f,H.emit=f,H.prependListener=f,H.prependOnceListener=f,H.listeners=function(u){return[]},H.binding=function(u){throw new Error("process.binding is not supported")},H.cwd=function(){return"/"},H.chdir=function(u){throw new Error("process.chdir is not supported")},H.umask=function(){return 0}},5877:function(W,H,e){for(var g=e(9748),P=typeof window>"u"?e.g:window,i=["moz","webkit"],L="AnimationFrame",A=P["request"+L],v=P["cancel"+L]||P["cancelRequest"+L],p=0;!A&&p<i.length;p++)A=P[i[p]+"Request"+L],v=P[i[p]+"Cancel"+L]||P[i[p]+"CancelRequest"+L];if(!A||!v){var t=0,r=0,s=[],n=1e3/60;A=function(l){if(s.length===0){var f=g(),u=Math.max(0,n-(f-t));t=u+f,setTimeout(function(){var m=s.slice(0);s.length=0;for(var c=0;c<m.length;c++)if(!m[c].cancelled)try{m[c].callback(t)}catch(w){setTimeout(function(){throw w},0)}},Math.round(u))}return s.push({handle:++r,callback:l,cancelled:!1}),r},v=function(l){for(var f=0;f<s.length;f++)s[f].handle===l&&(s[f].cancelled=!0)}}W.exports=function(l){return A.call(P,l)},W.exports.cancel=function(){v.apply(P,arguments)},W.exports.polyfill=function(l){l||(l=P),l.requestAnimationFrame=A,l.cancelAnimationFrame=v}},3593:function(W,H,e){var g=e(21527),P=e(25075),i=e(93447),L=e(71299),A=e(56131),v=e(30120),p=e(57060),t=p.float32,r=p.fract32;W.exports=n;var s=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function n(l,f){if(typeof l=="function"?(f||(f={}),f.regl=l):f=l,f.length&&(f.positions=f),l=f.regl,!l.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var u=l._gl,m,c,w,h,o,d,M={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},T=[];return h=l.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),c=l.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),w=l.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),o=l.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),d=l.buffer({usage:"static",type:"float",data:s}),b(f),m=l({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:l.prop("range"),lineWidth:l.prop("lineWidth"),capSize:l.prop("capSize"),opacity:l.prop("opacity"),scale:l.prop("scale"),translate:l.prop("translate"),scaleFract:l.prop("scaleFract"),translateFract:l.prop("translateFract"),viewport:function(C,y){return[y.viewport.x,y.viewport.y,C.viewportWidth,C.viewportHeight]}},attributes:{color:{buffer:h,offset:function(C,y){return y.offset*4},divisor:1},position:{buffer:c,offset:function(C,y){return y.offset*8},divisor:1},positionFract:{buffer:w,offset:function(C,y){return y.offset*8},divisor:1},error:{buffer:o,offset:function(C,y){return y.offset*16},divisor:1},direction:{buffer:d,stride:24,offset:0},lineOffset:{buffer:d,stride:24,offset:8},capOffset:{buffer:d,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:l.prop("viewport")},viewport:l.prop("viewport"),stencil:!1,instances:l.prop("count"),count:s.length}),A(E,{update:b,draw:x,destroy:a,regl:l,gl:u,canvas:u.canvas,groups:T}),E;function E(C){C?b(C):C===null&&a(),x()}function x(C){if(typeof C=="number")return S(C);C&&!Array.isArray(C)&&(C=[C]),l._refresh(),T.forEach(function(y,z){if(y){if(C&&(C[z]?y.draw=!0:y.draw=!1),!y.draw){y.draw=!0;return}S(z)}})}function S(C){typeof C=="number"&&(C=T[C]),C!=null&&C&&C.count&&C.color&&C.opacity&&C.positions&&C.positions.length>1&&(C.scaleRatio=[C.scale[0]*C.viewport.width,C.scale[1]*C.viewport.height],m(C),C.after&&C.after(C))}function b(C){if(C){C.length!=null?typeof C[0]=="number"&&(C=[{positions:C}]):Array.isArray(C)||(C=[C]);var y=0,z=0;if(E.groups=T=C.map(function(U,Y){var K=T[Y];if(U)typeof U=="function"?U={after:U}:typeof U[0]=="number"&&(U={positions:U});else return K;return U=L(U,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),K||(T[Y]=K={id:Y,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},U=A({},M,U)),i(K,U,[{lineWidth:function(re){return+re*.5},capSize:function(re){return+re*.5},opacity:parseFloat,errors:function(re){return re=v(re),z+=re.length,re},positions:function(re,ae){return re=v(re,"float64"),ae.count=Math.floor(re.length/2),ae.bounds=g(re,2),ae.offset=y,y+=ae.count,re}},{color:function(re,ae){var fe=ae.count;if(re||(re="transparent"),!Array.isArray(re)||typeof re[0]=="number"){var Q=re;re=Array(fe);for(var j=0;j<fe;j++)re[j]=Q}if(re.length<fe)throw Error("Not enough colors");for(var X=new Uint8Array(fe*4),J=0;J<fe;J++){var ee=P(re[J],"uint8");X.set(ee,J*4)}return X},range:function(re,ae,fe){var Q=ae.bounds;return re||(re=Q),ae.scale=[1/(re[2]-re[0]),1/(re[3]-re[1])],ae.translate=[-re[0],-re[1]],ae.scaleFract=r(ae.scale),ae.translateFract=r(ae.translate),re},viewport:function(re){var ae;return Array.isArray(re)?ae={x:re[0],y:re[1],width:re[2]-re[0],height:re[3]-re[1]}:re?(ae={x:re.x||re.left||0,y:re.y||re.top||0},re.right?ae.width=re.right-ae.x:ae.width=re.w||re.width||0,re.bottom?ae.height=re.bottom-ae.y:ae.height=re.h||re.height||0):ae={x:0,y:0,width:u.drawingBufferWidth,height:u.drawingBufferHeight},ae}}]),K}),y||z){var I=T.reduce(function(U,Y,K){return U+(Y?Y.count:0)},0),B=new Float64Array(I*2),F=new Uint8Array(I*4),O=new Float32Array(I*4);T.forEach(function(U,Y){if(U){var K=U.positions,re=U.count,ae=U.offset,fe=U.color,Q=U.errors;re&&(F.set(fe,ae*4),O.set(Q,ae*4),B.set(K,ae*2))}});var N=t(B);c(N);var _=r(B,N);w(_),h(F),o(O)}}}function a(){c.destroy(),w.destroy(),h.destroy(),o.destroy(),d.destroy()}}},46075:function(W,H,e){var g=e(25075),P=e(21527),i=e(56131),L=e(56068),A=e(71299),v=e(30120),p=e(11474),t=e(54),r=e(57060),s=r.float32,n=r.fract32,l=e(83522),f=e(18863),u=e(6851);W.exports=m;function m(c,w){if(!(this instanceof m))return new m(c,w);if(typeof c=="function"?(w||(w={}),w.regl=c):w=c,w.length&&(w.positions=w),c=w.regl,!c.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=c._gl,this.regl=c,this.passes=[],this.shaders=m.shaders.has(c)?m.shaders.get(c):m.shaders.set(c,m.createShaders(c)).get(c),this.update(w)}m.dashMult=2,m.maxPatternLength=256,m.precisionThreshold=3e6,m.maxPoints=1e4,m.maxLines=2048,m.shaders=new l,m.createShaders=function(c){var w=c.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),h={primitive:"triangle strip",instances:c.prop("count"),count:4,offset:0,uniforms:{miterMode:function(T,E){return E.join==="round"?2:1},miterLimit:c.prop("miterLimit"),scale:c.prop("scale"),scaleFract:c.prop("scaleFract"),translateFract:c.prop("translateFract"),translate:c.prop("translate"),thickness:c.prop("thickness"),dashTexture:c.prop("dashTexture"),opacity:c.prop("opacity"),pixelRatio:c.context("pixelRatio"),id:c.prop("id"),dashLength:c.prop("dashLength"),viewport:function(T,E){return[E.viewport.x,E.viewport.y,T.viewportWidth,T.viewportHeight]},depth:c.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(T,E){return!E.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:c.prop("viewport")},viewport:c.prop("viewport")},o=c(i({vert:L([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`]),frag:L([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:w,divisor:0,stride:8,offset:0},lineTop:{buffer:w,divisor:0,stride:8,offset:4},aCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:c.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},h)),d;try{d=c(i({cull:{enable:!0,face:"back"},vert:L([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);

	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`]),frag:L([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:w,divisor:0,stride:8,offset:0},lineTop:{buffer:w,divisor:0,stride:8,offset:4},aColor:{buffer:c.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:c.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},h))}catch{d=o}var M=c({primitive:"triangle",elements:function(T,E){return E.triangles},offset:0,vert:L([`precision highp float;
#define GLSLIFY 1

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`]),frag:L([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`]),uniforms:{scale:c.prop("scale"),color:c.prop("fill"),scaleFract:c.prop("scaleFract"),translateFract:c.prop("translateFract"),translate:c.prop("translate"),opacity:c.prop("opacity"),pixelRatio:c.context("pixelRatio"),id:c.prop("id"),viewport:function(T,E){return[E.viewport.x,E.viewport.y,T.viewportWidth,T.viewportHeight]}},attributes:{position:{buffer:c.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:8}},blend:h.blend,depth:{enable:!1},scissor:h.scissor,stencil:h.stencil,viewport:h.viewport});return{fill:M,rect:o,miter:d}},m.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},m.prototype.render=function(){for(var c,w=[],h=arguments.length;h--;)w[h]=arguments[h];w.length&&(c=this).update.apply(c,w),this.draw()},m.prototype.draw=function(){for(var c=this,w=[],h=arguments.length;h--;)w[h]=arguments[h];return(w.length?w:this.passes).forEach(function(o,d){var M;if(o&&Array.isArray(o))return(M=c).draw.apply(M,o);typeof o=="number"&&(o=c.passes[o]),o&&o.count>1&&o.opacity&&(c.regl._refresh(),o.fill&&o.triangles&&o.triangles.length>2&&c.shaders.fill(o),o.thickness&&(o.scale[0]*o.viewport.width>m.precisionThreshold||o.scale[1]*o.viewport.height>m.precisionThreshold||o.join==="rect"||!o.join&&(o.thickness<=2||o.count>=m.maxPoints)?c.shaders.rect(o):c.shaders.miter(o)))}),this},m.prototype.update=function(c){var w=this;if(c){c.length!=null?typeof c[0]=="number"&&(c=[{positions:c}]):Array.isArray(c)||(c=[c]);var h=this,o=h.regl,d=h.gl;if(c.forEach(function(S,b){var a=w.passes[b];if(S!==void 0){if(S===null){w.passes[b]=null;return}if(typeof S[0]=="number"&&(S={positions:S}),S=A(S,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),a||(w.passes[b]=a={id:b,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:o.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:o.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:o.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:o.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},S=i({},m.defaults,S)),S.thickness!=null&&(a.thickness=parseFloat(S.thickness)),S.opacity!=null&&(a.opacity=parseFloat(S.opacity)),S.miterLimit!=null&&(a.miterLimit=parseFloat(S.miterLimit)),S.overlay!=null&&(a.overlay=!!S.overlay,b<m.maxLines&&(a.depth=2*(m.maxLines-1-b%m.maxLines)/m.maxLines-1)),S.join!=null&&(a.join=S.join),S.hole!=null&&(a.hole=S.hole),S.fill!=null&&(a.fill=S.fill?g(S.fill,"uint8"):null),S.viewport!=null&&(a.viewport=f(S.viewport)),a.viewport||(a.viewport=f([d.drawingBufferWidth,d.drawingBufferHeight])),S.close!=null&&(a.close=S.close),S.positions===null&&(S.positions=[]),S.positions){var C,y;if(S.positions.x&&S.positions.y){var z=S.positions.x,I=S.positions.y;y=a.count=Math.max(z.length,I.length),C=new Float64Array(y*2);for(var B=0;B<y;B++)C[B*2]=z[B],C[B*2+1]=I[B]}else C=v(S.positions,"float64"),y=a.count=Math.floor(C.length/2);var F=a.bounds=P(C,2);if(a.fill){for(var O=[],N={},_=0,U=0,Y=0,K=a.count;U<K;U++){var re=C[U*2],ae=C[U*2+1];isNaN(re)||isNaN(ae)||re==null||ae==null?(re=C[_*2],ae=C[_*2+1],N[U]=_):_=U,O[Y++]=re,O[Y++]=ae}if(S.splitNull){a.count-1 in N||(N[a.count]=a.count-1);var fe=Object.keys(N).map(Number).sort(function(ze,Re){return ze-Re}),Q=[],j=0,X=a.hole!=null?a.hole[0]:null;if(X!=null){var J=u(fe,function(ze){return ze>=X});fe=fe.slice(0,J),fe.push(X)}for(var ee=function(ze){var Re=O.slice(j*2,fe[ze]*2).concat(X?O.slice(X*2):[]),be=(a.hole||[]).map(function(Ae){return Ae-X+(fe[ze]-j)}),ye=p(Re,be);ye=ye.map(function(Ae){return Ae+j+(Ae+j<fe[ze]?0:X-fe[ze])}),Q.push.apply(Q,ye),j=fe[ze]+1},se=0;se<fe.length;se++)ee(se);for(var q=0,$=Q.length;q<$;q++)N[Q[q]]!=null&&(Q[q]=N[Q[q]]);a.triangles=Q}else{for(var le=p(O,a.hole||[]),ie=0,ce=le.length;ie<ce;ie++)N[le[ie]]!=null&&(le[ie]=N[le[ie]]);a.triangles=le}}var me=new Float64Array(C);t(me,2,F);var Me=new Float64Array(y*2+6);a.close?C[0]===C[y*2-2]&&C[1]===C[y*2-1]?(Me[0]=me[y*2-4],Me[1]=me[y*2-3]):(Me[0]=me[y*2-2],Me[1]=me[y*2-1]):(Me[0]=me[0],Me[1]=me[1]),Me.set(me,2),a.close?C[0]===C[y*2-2]&&C[1]===C[y*2-1]?(Me[y*2+2]=me[2],Me[y*2+3]=me[3],a.count-=1):(Me[y*2+2]=me[0],Me[y*2+3]=me[1],Me[y*2+4]=me[2],Me[y*2+5]=me[3]):(Me[y*2+2]=me[y*2-2],Me[y*2+3]=me[y*2-1],Me[y*2+4]=me[y*2-2],Me[y*2+5]=me[y*2-1]);var we=s(Me);a.positionBuffer(we);var Oe=n(Me,we);a.positionFractBuffer(Oe)}if(S.range?a.range=S.range:a.range||(a.range=a.bounds),(S.range||S.positions)&&a.count){var Be=a.bounds,Ce=Be[2]-Be[0],xe=Be[3]-Be[1],Se=a.range[2]-a.range[0],He=a.range[3]-a.range[1];a.scale=[Ce/Se,xe/He],a.translate=[-a.range[0]/Se+Be[0]/Se||0,-a.range[1]/He+Be[1]/He||0],a.scaleFract=n(a.scale),a.translateFract=n(a.translate)}if(S.dashes){var Ge=0,ke;if(!S.dashes||S.dashes.length<2)Ge=1,ke=new Uint8Array([255,255,255,255,255,255,255,255]);else{Ge=0;for(var We=0;We<S.dashes.length;++We)Ge+=S.dashes[We];ke=new Uint8Array(Ge*m.dashMult);for(var it=0,et=255,tt=0;tt<2;tt++)for(var at=0;at<S.dashes.length;++at){for(var ht=0,yt=S.dashes[at]*m.dashMult*.5;ht<yt;++ht)ke[it++]=et;et^=255}}a.dashLength=Ge,a.dashTexture({channels:1,data:ke,width:ke.length,height:1,mag:"linear",min:"linear"},0,0)}if(S.color){var gt=a.count,Et=S.color;Et||(Et="transparent");var Ct=new Uint8Array(gt*4+4);if(!Array.isArray(Et)||typeof Et[0]=="number")for(var Vt=g(Et,"uint8"),Qe=0;Qe<gt+1;Qe++)Ct.set(Vt,Qe*4);else{for(var Fe=0;Fe<gt;Fe++){var Ie=g(Et[Fe],"uint8");Ct.set(Ie,Fe*4)}Ct.set(g(Et[0],"uint8"),gt*4)}a.colorBuffer({usage:"dynamic",type:"uint8",data:Ct})}}}),c.length<this.passes.length){for(var M=c.length;M<this.passes.length;M++){var T=this.passes[M];T&&(T.colorBuffer.destroy(),T.positionBuffer.destroy(),T.dashTexture.destroy())}this.passes.length=c.length}for(var E=[],x=0;x<this.passes.length;x++)this.passes[x]!==null&&E.push(this.passes[x]);return this.passes=E,this}},m.prototype.destroy=function(){return this.passes.forEach(function(c){c.colorBuffer.destroy(),c.positionBuffer.destroy(),c.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(W,H,e){function g(a,C){var y=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(y!=null){var z,I,B,F,O=[],N=!0,_=!1;try{if(B=(y=y.call(a)).next,C===0){if(Object(y)!==y)return;N=!1}else for(;!(N=(z=B.call(y)).done)&&(O.push(z.value),O.length!==C);N=!0);}catch(U){_=!0,I=U}finally{try{if(!N&&y.return!=null&&(F=y.return(),Object(F)!==F))return}finally{if(_)throw I}}return O}}function P(a,C){return A(a)||g(a,C)||p(a,C)||s()}function i(a){return L(a)||v(a)||p(a)||r()}function L(a){if(Array.isArray(a))return t(a)}function A(a){if(Array.isArray(a))return a}function v(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function p(a,C){if(a){if(typeof a=="string")return t(a,C);var y=Object.prototype.toString.call(a).slice(8,-1);if(y==="Object"&&a.constructor&&(y=a.constructor.name),y==="Map"||y==="Set")return Array.from(a);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return t(a,C)}}function t(a,C){(C==null||C>a.length)&&(C=a.length);for(var y=0,z=new Array(C);y<C;y++)z[y]=a[y];return z}function r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=e(25075),l=e(21527),f=e(6475),u=e(88294),m=e(56131),c=e(56068),w=e(71299),h=e(93447),o=e(30120),d=e(62683),M=e(57060),T=e(18863),E=x;function x(a,C){var y=this;if(!(this instanceof x))return new x(a,C);typeof a=="function"?(C||(C={}),C.regl=a):(C=a,a=null),C&&C.length&&(C.positions=C),a=C.regl;var z=a._gl,I,B=[],F={},O=[],N=[null],_=[null],U=255,Y=100;this.tooManyColors=d,I=a.texture({data:new Uint8Array(U*4),width:U,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),m(this,{regl:a,gl:z,groups:O,markerCache:_,markerTextures:N,palette:B,paletteIds:F,paletteTexture:I,maxColors:U,maxSize:Y,canvas:z.canvas}),this.update(C);var K={uniforms:{constPointSize:!!C.constPointSize,opacity:a.prop("opacity"),paletteSize:function(Q,j){return[y.tooManyColors?0:U,I.height]},pixelRatio:a.context("pixelRatio"),scale:a.prop("scale"),scaleFract:a.prop("scaleFract"),translate:a.prop("translate"),translateFract:a.prop("translateFract"),markerTexture:a.prop("markerTexture"),paletteTexture:I},attributes:{x:function(Q,j){return j.xAttr||{buffer:j.positionBuffer,stride:8,offset:0}},y:function(Q,j){return j.yAttr||{buffer:j.positionBuffer,stride:8,offset:4}},xFract:function(Q,j){return j.xAttr?{constant:[0,0]}:{buffer:j.positionFractBuffer,stride:8,offset:0}},yFract:function(Q,j){return j.yAttr?{constant:[0,0]}:{buffer:j.positionFractBuffer,stride:8,offset:4}},size:function(Q,j){return j.size.length?{buffer:j.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(j.size*255/y.maxSize)]}},borderSize:function(Q,j){return j.borderSize.length?{buffer:j.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(j.borderSize*255/y.maxSize)]}},colorId:function(Q,j){return j.color.length?{buffer:j.colorBuffer,stride:y.tooManyColors?8:4,offset:0}:{constant:y.tooManyColors?B.slice(j.color*4,j.color*4+4):[j.color]}},borderColorId:function(Q,j){return j.borderColor.length?{buffer:j.colorBuffer,stride:y.tooManyColors?8:4,offset:y.tooManyColors?4:2}:{constant:y.tooManyColors?B.slice(j.borderColor*4,j.borderColor*4+4):[j.borderColor]}},isActive:function(Q,j){return j.activation===!0?{constant:[1]}:j.activation?j.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:a.prop("viewport")},viewport:a.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:a.prop("elements"),count:a.prop("count"),offset:a.prop("offset"),primitive:"points"},re=m({},K);re.frag=c([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),re.vert=c([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}`]),this.drawMarker=a(re);var ae=m({},K);ae.frag=c([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),ae.vert=c([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),d&&(ae.frag=ae.frag.replace("smoothstep","smoothStep"),re.frag=re.frag.replace("smoothstep","smoothStep")),this.drawCircle=a(ae)}x.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},x.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},x.prototype.draw=function(){for(var a=this,C=arguments.length,y=new Array(C),z=0;z<C;z++)y[z]=arguments[z];var I=this.groups;if(y.length===1&&Array.isArray(y[0])&&(y[0][0]===null||Array.isArray(y[0][0]))&&(y=y[0]),this.regl._refresh(),y.length)for(var B=0;B<y.length;B++)this.drawItem(B,y[B]);else I.forEach(function(F,O){a.drawItem(O)});return this},x.prototype.drawItem=function(a,C){var y=this.groups,z=y[a];if(typeof C=="number"&&(a=C,z=y[C],C=null),!!(z&&z.count&&z.opacity)){z.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,z,C));for(var I=[],B=1;B<z.activation.length;B++)!z.activation[B]||z.activation[B]!==!0&&!z.activation[B].data.length||I.push.apply(I,i(this.getMarkerDrawOptions(B,z,C)));I.length&&this.drawMarker(I)}},x.prototype.getMarkerDrawOptions=function(a,C,y){var z=C.range,I=C.tree,B=C.viewport,F=C.activation,O=C.selectionBuffer,N=C.count;if(this.regl,!I)return y?[m({},C,{markerTexture:this.markerTextures[a],activation:F[a],count:y.length,elements:y,offset:0})]:[m({},C,{markerTexture:this.markerTextures[a],activation:F[a],offset:0})];var _=[],U=I.range(z,{lod:!0,px:[(z[2]-z[0])/B.width,(z[3]-z[1])/B.height]});if(y){for(var Y=F[a],K=Y.data,re=new Uint8Array(N),ae=0;ae<y.length;ae++){var fe=y[ae];re[fe]=K?K[fe]:1}O.subdata(re)}for(var Q=U.length;Q--;){var j=P(U[Q],2),X=j[0],J=j[1];_.push(m({},C,{markerTexture:this.markerTextures[a],activation:y?O:F[a],offset:X,count:J-X}))}return _},x.prototype.update=function(){for(var a=this,C=arguments.length,y=new Array(C),z=0;z<C;z++)y[z]=arguments[z];if(y.length){y.length===1&&Array.isArray(y[0])&&(y=y[0]);var I=this.groups,B=this.gl,F=this.regl,O=this.maxSize,N=this.maxColors,_=this.palette;this.groups=I=y.map(function(U,Y){var K=I[Y];if(U===void 0)return K;U===null?U={positions:null}:typeof U=="function"?U={ondraw:U}:typeof U[0]=="number"&&(U={positions:U}),U=w(U,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),U.positions===null&&(U.positions=[]),U.tooManyColors!=null&&(a.tooManyColors=U.tooManyColors),K||(I[Y]=K={id:Y,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:F.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},U=m({},x.defaults,U)),U.positions&&!("marker"in U)&&(U.marker=K.marker,delete K.marker),U.marker&&!("positions"in U)&&(U.positions=K.positions,delete K.positions);var re=0,ae=0;if(h(K,U,[{snap:!0,size:function(xe,Se){return xe==null&&(xe=x.defaults.size),re+=xe&&xe.length?1:0,xe},borderSize:function(xe,Se){return xe==null&&(xe=x.defaults.borderSize),re+=xe&&xe.length?1:0,xe},opacity:parseFloat,color:function(xe,Se){return xe==null&&(xe=x.defaults.color),xe=a.updateColor(xe),ae++,xe},borderColor:function(xe,Se){return xe==null&&(xe=x.defaults.borderColor),xe=a.updateColor(xe),ae++,xe},bounds:function(xe,Se,He){return"range"in He||(He.range=null),xe},positions:function(xe,Se,He){var Ge=Se.snap,ke=Se.positionBuffer,We=Se.positionFractBuffer,it=Se.selectionBuffer;if(xe.x||xe.y)return xe.x.length?Se.xAttr={buffer:F.buffer(xe.x),offset:0,stride:4,count:xe.x.length}:Se.xAttr={buffer:xe.x.buffer,offset:xe.x.offset*4||0,stride:(xe.x.stride||1)*4,count:xe.x.count},xe.y.length?Se.yAttr={buffer:F.buffer(xe.y),offset:0,stride:4,count:xe.y.length}:Se.yAttr={buffer:xe.y.buffer,offset:xe.y.offset*4||0,stride:(xe.y.stride||1)*4,count:xe.y.count},Se.count=Math.max(Se.xAttr.count,Se.yAttr.count),xe;xe=o(xe,"float64");var et=Se.count=Math.floor(xe.length/2),tt=Se.bounds=et?l(xe,2):null;if(!He.range&&!Se.range&&(delete Se.range,He.range=tt),!He.marker&&!Se.marker&&(delete Se.marker,He.marker=null),Ge&&(Ge===!0||et>Ge)?Se.tree=u(xe,{bounds:tt}):Ge&&Ge.length&&(Se.tree=Ge),Se.tree){var at={primitive:"points",usage:"static",data:Se.tree,type:"uint32"};Se.elements?Se.elements(at):Se.elements=F.elements(at)}var ht=M.float32(xe);ke({data:ht,usage:"dynamic"});var yt=M.fract32(xe,ht);return We({data:yt,usage:"dynamic"}),it({data:new Uint8Array(et),type:"uint8",usage:"stream"}),xe}},{marker:function(xe,Se,He){var Ge=Se.activation;if(Ge.forEach(function(yt){return yt&&yt.destroy&&yt.destroy()}),Ge.length=0,!xe||typeof xe[0]=="number"){var ke=a.addMarker(xe);Ge[ke]=!0}else{for(var We=[],it=0,et=Math.min(xe.length,Se.count);it<et;it++){var tt=a.addMarker(xe[it]);We[tt]||(We[tt]=new Uint8Array(Se.count)),We[tt][it]=1}for(var at=0;at<We.length;at++)if(We[at]){var ht={data:We[at],type:"uint8",usage:"static"};Ge[at]?Ge[at](ht):Ge[at]=F.buffer(ht),Ge[at].data=We[at]}}return xe},range:function(xe,Se,He){var Ge=Se.bounds;if(Ge)return xe||(xe=Ge),Se.scale=[1/(xe[2]-xe[0]),1/(xe[3]-xe[1])],Se.translate=[-xe[0],-xe[1]],Se.scaleFract=M.fract(Se.scale),Se.translateFract=M.fract(Se.translate),xe},viewport:function(xe){var Se=T(xe||[B.drawingBufferWidth,B.drawingBufferHeight]);return Se}}]),re){var fe=K,Q=fe.count,j=fe.size,X=fe.borderSize,J=fe.sizeBuffer,ee=new Uint8Array(Q*2);if(j.length||X.length)for(var se=0;se<Q;se++)ee[se*2]=Math.round((j[se]==null?j:j[se])*255/O),ee[se*2+1]=Math.round((X[se]==null?X:X[se])*255/O);J({data:ee,usage:"dynamic"})}if(ae){var q=K,$=q.count,le=q.color,ie=q.borderColor,ce=q.colorBuffer,me;if(a.tooManyColors){if(le.length||ie.length){me=new Uint8Array($*8);for(var Me=0;Me<$;Me++){var we=le[Me];me[Me*8]=_[we*4],me[Me*8+1]=_[we*4+1],me[Me*8+2]=_[we*4+2],me[Me*8+3]=_[we*4+3];var Oe=ie[Me];me[Me*8+4]=_[Oe*4],me[Me*8+5]=_[Oe*4+1],me[Me*8+6]=_[Oe*4+2],me[Me*8+7]=_[Oe*4+3]}}}else if(le.length||ie.length){me=new Uint8Array($*4+2);for(var Be=0;Be<$;Be++)le[Be]!=null&&(me[Be*4]=le[Be]%N,me[Be*4+1]=Math.floor(le[Be]/N)),ie[Be]!=null&&(me[Be*4+2]=ie[Be]%N,me[Be*4+3]=Math.floor(ie[Be]/N))}ce({data:me||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return K})}},x.prototype.addMarker=function(a){var C=this.markerTextures,y=this.regl,z=this.markerCache,I=a==null?0:z.indexOf(a);if(I>=0)return I;var B;if(a instanceof Uint8Array||a instanceof Uint8ClampedArray)B=a;else{B=new Uint8Array(a.length);for(var F=0,O=a.length;F<O;F++)B[F]=a[F]*255}var N=Math.floor(Math.sqrt(B.length));return I=C.length,z.push(a),C.push(y.texture({channels:1,data:B,radius:N,mag:"linear",min:"linear"})),I},x.prototype.updateColor=function(a){var C=this.paletteIds,y=this.palette,z=this.maxColors;Array.isArray(a)||(a=[a]);var I=[];if(typeof a[0]=="number"){var B=[];if(Array.isArray(a))for(var F=0;F<a.length;F+=4)B.push(a.slice(F,F+4));else for(var O=0;O<a.length;O+=4)B.push(a.subarray(O,O+4));a=B}for(var N=0;N<a.length;N++){var _=a[N];_=n(_,"uint8");var U=f(_,!1);if(C[U]==null){var Y=y.length;C[U]=Math.floor(Y/4),y[Y]=_[0],y[Y+1]=_[1],y[Y+2]=_[2],y[Y+3]=_[3]}I[N]=C[U]}return!this.tooManyColors&&y.length>z*4&&(this.tooManyColors=!0),this.updatePalette(y),I.length===1?I[0]:I},x.prototype.updatePalette=function(a){if(!this.tooManyColors){var C=this.maxColors,y=this.paletteTexture,z=Math.ceil(a.length*.25/C);if(z>1){a=a.slice();for(var I=a.length*.25%C;I<z*C;I++)a.push(0,0,0,0)}y.height<z&&y.resize(C,z),y.subimage({width:Math.min(a.length*.25,C),height:z,data:a},0,0)}},x.prototype.destroy=function(){return this.groups.forEach(function(a){a.sizeBuffer.destroy(),a.positionBuffer.destroy(),a.positionFractBuffer.destroy(),a.colorBuffer.destroy(),a.activation.forEach(function(C){return C&&C.destroy&&C.destroy()}),a.selectionBuffer.destroy(),a.elements&&a.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(a){return a&&a.destroy&&a.destroy()}),this};var S=e(56131),b=function(C,y){var z=new E(C,y),I=z.render.bind(z);return S(I,{render:I,update:z.update.bind(z),draw:z.draw.bind(z),destroy:z.destroy.bind(z),regl:z.regl,gl:z.gl,canvas:z.gl.canvas,groups:z.groups,markers:z.markerCache,palette:z.palette}),I};W.exports=b},60487:function(W,H,e){var g=e(11870),P=e(71299),i=e(21527),L=e(5877),A=e(57471),v=e(18863),p=e(30120);W.exports=t;function t(l,f){if(!(this instanceof t))return new t(l);this.traces=[],this.passes={},this.regl=l,this.scatter=g(l),this.canvas=this.scatter.canvas}t.prototype.render=function(){for(var l=this,f,u=[],m=arguments.length;m--;)u[m]=arguments[m];return u.length&&(f=this).update.apply(f,u),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=L(function(){l.draw(),l.dirty=!0,l.planned=null})):(this.draw(),this.dirty=!0,L(function(){l.dirty=!1})),this)},t.prototype.update=function(){for(var l,f=[],u=arguments.length;u--;)f[u]=arguments[u];if(f.length){for(var m=0;m<f.length;m++)this.updateItem(m,f[m]);this.traces=this.traces.filter(Boolean);for(var c=[],w=0,h=0;h<this.traces.length;h++){for(var o=this.traces[h],d=this.traces[h].passes,M=0;M<d.length;M++)c.push(this.passes[d[M]]);o.passOffset=w,w+=o.passes.length}return(l=this.scatter).update.apply(l,c),this}},t.prototype.updateItem=function(l,f){var u=this,m=u.regl;if(f===null)return this.traces[l]=null,this;if(!f)return this;var c=P(f,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),w=this.traces[l]||(this.traces[l]={id:l,buffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([m._gl.drawingBufferWidth,m._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(c.color!=null&&(w.color=c.color),c.size!=null&&(w.size=c.size),c.marker!=null&&(w.marker=c.marker),c.borderColor!=null&&(w.borderColor=c.borderColor),c.borderSize!=null&&(w.borderSize=c.borderSize),c.opacity!=null&&(w.opacity=c.opacity),c.viewport&&(w.viewport=v(c.viewport)),c.diagonal!=null&&(w.diagonal=c.diagonal),c.upper!=null&&(w.upper=c.upper),c.lower!=null&&(w.lower=c.lower),c.data){w.buffer(p(c.data)),w.columns=c.data.length,w.count=c.data[0].length,w.bounds=[];for(var h=0;h<w.columns;h++)w.bounds[h]=i(c.data[h],1)}var o;c.range&&(w.range=c.range,o=w.range&&typeof w.range[0]!="number"),c.domain&&(w.domain=c.domain);var d=!1;c.padding!=null&&(Array.isArray(c.padding)&&c.padding.length===w.columns&&typeof c.padding[c.padding.length-1]=="number"?(w.padding=c.padding.map(n),d=!0):w.padding=n(c.padding));var M=w.columns,T=w.count,E=w.viewport.width,x=w.viewport.height,S=w.viewport.x,b=w.viewport.y,a=E/M,C=x/M;w.passes=[];for(var y=0;y<M;y++)for(var z=0;z<M;z++)if(!(!w.diagonal&&z===y)&&!(!w.upper&&y>z)&&!(!w.lower&&y<z)){var I=r(w.id,y,z),B=this.passes[I]||(this.passes[I]={});if(c.data&&(c.transpose?B.positions={x:{buffer:w.buffer,offset:z,count:T,stride:M},y:{buffer:w.buffer,offset:y,count:T,stride:M}}:B.positions={x:{buffer:w.buffer,offset:z*T,count:T},y:{buffer:w.buffer,offset:y*T,count:T}},B.bounds=s(w.bounds,y,z)),c.domain||c.viewport||c.data){var F=d?s(w.padding,y,z):w.padding;if(w.domain){var O=s(w.domain,y,z),N=O[0],_=O[1],U=O[2],Y=O[3];B.viewport=[S+N*E+F[0],b+_*x+F[1],S+U*E-F[2],b+Y*x-F[3]]}else B.viewport=[S+z*a+a*F[0],b+y*C+C*F[1],S+(z+1)*a-a*F[2],b+(y+1)*C-C*F[3]]}c.color&&(B.color=w.color),c.size&&(B.size=w.size),c.marker&&(B.marker=w.marker),c.borderSize&&(B.borderSize=w.borderSize),c.borderColor&&(B.borderColor=w.borderColor),c.opacity&&(B.opacity=w.opacity),c.range&&(B.range=o?s(w.range,y,z):w.range||B.bounds),w.passes.push(I)}return this},t.prototype.draw=function(){for(var l,f=[],u=arguments.length;u--;)f[u]=arguments[u];if(!f.length)this.scatter.draw();else{for(var m=[],c=0;c<f.length;c++)if(typeof f[c]=="number"){var w=this.traces[f[c]],h=w.passes,o=w.passOffset;m.push.apply(m,A(o,o+h.length))}else if(f[c].length){var d=f[c],M=this.traces[c],T=M.passes,E=M.passOffset;T=T.map(function(x,S){m[E+S]=d})}(l=this.scatter).draw.apply(l,m)}return this},t.prototype.destroy=function(){return this.traces.forEach(function(l){l.buffer&&l.buffer.destroy&&l.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function r(l,f,u){var m=l.id!=null?l.id:l,c=f,w=u,h=m<<16|(c&255)<<8|w&255;return h}function s(l,f,u){var m,c,w,h,o=l[f],d=l[u];return o.length>2?(o[0],o[2],m=o[1],c=o[3]):o.length?(m=o[0],c=o[1]):(o.x,m=o.y,o.x+o.width,c=o.y+o.height),d.length>2?(w=d[0],h=d[2],d[1],d[3]):d.length?(w=d[0],h=d[1]):(w=d.x,d.y,h=d.x+d.width,d.y+d.height),[w,m,h,c]}function n(l){if(typeof l=="number")return[l,l,l,l];if(l.length===2)return[l[0],l[1],l[0],l[1]];var f=v(l);return[f.x,f.y,f.x+f.width,f.y+f.height]}},98580:function(W){(function(H,e){W.exports=e()})(this,function(){function H(pt,Zt){this.id=ce++,this.type=pt,this.data=Zt}function e(pt){if(pt.length===0)return[];var Zt=pt.charAt(0),Kt=pt.charAt(pt.length-1);if(1<pt.length&&Zt===Kt&&(Zt==='"'||Zt==="'"))return['"'+pt.substr(1,pt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Zt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(pt))return e(pt.substr(0,Zt.index)).concat(e(Zt[1])).concat(e(pt.substr(Zt.index+Zt[0].length)));if(Zt=pt.split("."),Zt.length===1)return['"'+pt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(pt=[],Kt=0;Kt<Zt.length;++Kt)pt=pt.concat(e(Zt[Kt]));return pt}function g(pt){return"["+e(pt).join("][")+"]"}function P(pt,Zt){if(typeof pt=="function")return new H(0,pt);if(typeof pt=="number"||typeof pt=="boolean")return new H(5,pt);if(Array.isArray(pt))return new H(6,pt.map(function(Kt,mr){return P(Kt)}));if(pt instanceof H)return pt}function i(){var pt={"":0},Zt=[""];return{id:function(Kt){var mr=pt[Kt];return mr||(mr=pt[Kt]=Zt.length,Zt.push(Kt),mr)},str:function(Kt){return Zt[Kt]}}}function L(pt,Zt,Kt){function mr(){var st=window.innerWidth,xt=window.innerHeight;pt!==document.body&&(xt=ur.getBoundingClientRect(),st=xt.right-xt.left,xt=xt.bottom-xt.top),ur.width=Kt*st,ur.height=Kt*xt}var ur=document.createElement("canvas");ie(ur.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),pt.appendChild(ur),pt===document.body&&(ur.style.position="absolute",ie(pt.style,{margin:0,padding:0}));var dt;return pt!==document.body&&typeof ResizeObserver=="function"?(dt=new ResizeObserver(function(){setTimeout(mr)}),dt.observe(pt)):window.addEventListener("resize",mr,!1),mr(),{canvas:ur,onDestroy:function(){dt?dt.disconnect():window.removeEventListener("resize",mr),pt.removeChild(ur)}}}function A(pt,Zt){function Kt(mr){try{return pt.getContext(mr,Zt)}catch{return null}}return Kt("webgl")||Kt("experimental-webgl")||Kt("webgl-experimental")}function v(pt){return typeof pt=="string"?pt.split():pt}function p(pt){return typeof pt=="string"?document.querySelector(pt):pt}function t(pt){var Zt=pt||{},Kt,mr,ur,dt;pt={};var st=[],xt=[],Mt=typeof window>"u"?1:window.devicePixelRatio,Dt=!1,Rt={},Nt=function(Xt){},Bt=function(){};if(typeof Zt=="string"?Kt=document.querySelector(Zt):typeof Zt=="object"&&(typeof Zt.nodeName=="string"&&typeof Zt.appendChild=="function"&&typeof Zt.getBoundingClientRect=="function"?Kt=Zt:typeof Zt.drawArrays=="function"||typeof Zt.drawElements=="function"?(dt=Zt,ur=dt.canvas):("gl"in Zt?dt=Zt.gl:"canvas"in Zt?ur=p(Zt.canvas):"container"in Zt&&(mr=p(Zt.container)),"attributes"in Zt&&(pt=Zt.attributes),"extensions"in Zt&&(st=v(Zt.extensions)),"optionalExtensions"in Zt&&(xt=v(Zt.optionalExtensions)),"onDone"in Zt&&(Nt=Zt.onDone),"profile"in Zt&&(Dt=!!Zt.profile),"pixelRatio"in Zt&&(Mt=+Zt.pixelRatio),"cachedCode"in Zt&&(Rt=Zt.cachedCode))),Kt&&(Kt.nodeName.toLowerCase()==="canvas"?ur=Kt:mr=Kt),!dt){if(!ur){if(Kt=L(mr||document.body,Nt,Mt),!Kt)return null;ur=Kt.canvas,Bt=Kt.onDestroy}pt.premultipliedAlpha===void 0&&(pt.premultipliedAlpha=!0),dt=A(ur,pt)}return dt?{gl:dt,canvas:ur,container:mr,extensions:st,optionalExtensions:xt,pixelRatio:Mt,profile:Dt,cachedCode:Rt,onDone:Nt,onDestroy:Bt}:(Bt(),Nt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function r(pt,Zt){function Kt(st){st=st.toLowerCase();var xt;try{xt=mr[st]=pt.getExtension(st)}catch{}return!!xt}for(var mr={},ur=0;ur<Zt.extensions.length;++ur){var dt=Zt.extensions[ur];if(!Kt(dt))return Zt.onDestroy(),Zt.onDone('"'+dt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Zt.optionalExtensions.forEach(Kt),{extensions:mr,restore:function(){Object.keys(mr).forEach(function(st){if(mr[st]&&!Kt(st))throw Error("(regl): error restoring extension "+st)})}}}function s(pt,Zt){for(var Kt=Array(pt),mr=0;mr<pt;++mr)Kt[mr]=Zt(mr);return Kt}function n(pt){var Zt,Kt;return Zt=(65535<pt)<<4,pt>>>=Zt,Kt=(255<pt)<<3,pt>>>=Kt,Zt|=Kt,Kt=(15<pt)<<2,pt>>>=Kt,Zt|=Kt,Kt=(3<pt)<<1,Zt|Kt|pt>>>Kt>>1}function l(){function pt(mr){e:{for(var ur=16;268435456>=ur;ur*=16)if(mr<=ur){mr=ur;break e}mr=0}return ur=Kt[n(mr)>>2],0<ur.length?ur.pop():new ArrayBuffer(mr)}function Zt(mr){Kt[n(mr.byteLength)>>2].push(mr)}var Kt=s(8,function(){return[]});return{alloc:pt,free:Zt,allocType:function(mr,ur){var dt=null;switch(mr){case 5120:dt=new Int8Array(pt(ur),0,ur);break;case 5121:dt=new Uint8Array(pt(ur),0,ur);break;case 5122:dt=new Int16Array(pt(2*ur),0,ur);break;case 5123:dt=new Uint16Array(pt(2*ur),0,ur);break;case 5124:dt=new Int32Array(pt(4*ur),0,ur);break;case 5125:dt=new Uint32Array(pt(4*ur),0,ur);break;case 5126:dt=new Float32Array(pt(4*ur),0,ur);break;default:return null}return dt.length!==ur?dt.subarray(0,ur):dt},freeType:function(mr){Zt(mr.buffer)}}}function f(pt){return!!pt&&typeof pt=="object"&&Array.isArray(pt.shape)&&Array.isArray(pt.stride)&&typeof pt.offset=="number"&&pt.shape.length===pt.stride.length&&(Array.isArray(pt.data)||Ce(pt.data))}function u(pt,Zt,Kt,mr,ur,dt){for(var st=0;st<Zt;++st)for(var xt=pt[st],Mt=0;Mt<Kt;++Mt)for(var Dt=xt[Mt],Rt=0;Rt<mr;++Rt)ur[dt++]=Dt[Rt]}function m(pt,Zt,Kt,mr,ur){for(var dt=1,st=Kt+1;st<Zt.length;++st)dt*=Zt[st];var xt=Zt[Kt];if(Zt.length-Kt===4){var Mt=Zt[Kt+1],Dt=Zt[Kt+2];for(Zt=Zt[Kt+3],st=0;st<xt;++st)u(pt[st],Mt,Dt,Zt,mr,ur),ur+=dt}else for(st=0;st<xt;++st)m(pt[st],Zt,Kt+1,mr,ur),ur+=dt}function c(pt){return He[Object.prototype.toString.call(pt)]|0}function w(pt,Zt){for(var Kt=0;Kt<Zt.length;++Kt)pt[Kt]=Zt[Kt]}function h(pt,Zt,Kt,mr,ur,dt,st){for(var xt=0,Mt=0;Mt<Kt;++Mt)for(var Dt=0;Dt<mr;++Dt)pt[xt++]=Zt[ur*Mt+dt*Dt+st]}function o(pt,Zt,Kt,mr){function ur(Nt){this.id=Mt++,this.buffer=pt.createBuffer(),this.type=Nt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,Kt.profile&&(this.stats={size:0})}function dt(Nt,Bt,Xt){Nt.byteLength=Bt.byteLength,pt.bufferData(Nt.type,Bt,Xt)}function st(Nt,Bt,Xt,lr,sr,dr){if(Nt.usage=Xt,Array.isArray(Bt)){if(Nt.dtype=lr||5126,0<Bt.length)if(Array.isArray(Bt[0])){sr=it(Bt);for(var je=lr=1;je<sr.length;++je)lr*=sr[je];Nt.dimension=lr,Bt=We(Bt,sr,Nt.dtype),dt(Nt,Bt,Xt),dr?Nt.persistentData=Bt:Oe.freeType(Bt)}else typeof Bt[0]=="number"?(Nt.dimension=sr,sr=Oe.allocType(Nt.dtype,Bt.length),w(sr,Bt),dt(Nt,sr,Xt),dr?Nt.persistentData=sr:Oe.freeType(sr)):Ce(Bt[0])&&(Nt.dimension=Bt[0].length,Nt.dtype=lr||c(Bt[0])||5126,Bt=We(Bt,[Bt.length,Bt[0].length],Nt.dtype),dt(Nt,Bt,Xt),dr?Nt.persistentData=Bt:Oe.freeType(Bt))}else if(Ce(Bt))Nt.dtype=lr||c(Bt),Nt.dimension=sr,dt(Nt,Bt,Xt),dr&&(Nt.persistentData=new Uint8Array(new Uint8Array(Bt.buffer)));else if(f(Bt)){sr=Bt.shape;var Ye=Bt.stride,je=Bt.offset,It=0,kt=0,Yt=0,tr=0;sr.length===1?(It=sr[0],kt=1,Yt=Ye[0],tr=0):sr.length===2&&(It=sr[0],kt=sr[1],Yt=Ye[0],tr=Ye[1]),Nt.dtype=lr||c(Bt.data)||5126,Nt.dimension=kt,sr=Oe.allocType(Nt.dtype,It*kt),h(sr,Bt.data,It,kt,Yt,tr,je),dt(Nt,sr,Xt),dr?Nt.persistentData=sr:Oe.freeType(sr)}else Bt instanceof ArrayBuffer&&(Nt.dtype=5121,Nt.dimension=sr,dt(Nt,Bt,Xt),dr&&(Nt.persistentData=new Uint8Array(new Uint8Array(Bt))))}function xt(Nt){Zt.bufferCount--,mr(Nt),pt.deleteBuffer(Nt.buffer),Nt.buffer=null,delete Dt[Nt.id]}var Mt=0,Dt={};ur.prototype.bind=function(){pt.bindBuffer(this.type,this.buffer)},ur.prototype.destroy=function(){xt(this)};var Rt=[];return Kt.profile&&(Zt.getTotalBufferSize=function(){var Nt=0;return Object.keys(Dt).forEach(function(Bt){Nt+=Dt[Bt].stats.size}),Nt}),{create:function(Nt,Bt,Xt,lr){function sr(je){var Ye=35044,It=null,kt=0,Yt=0,tr=1;return Array.isArray(je)||Ce(je)||f(je)||je instanceof ArrayBuffer?It=je:typeof je=="number"?kt=je|0:je&&("data"in je&&(It=je.data),"usage"in je&&(Ye=ke[je.usage]),"type"in je&&(Yt=Ge[je.type]),"dimension"in je&&(tr=je.dimension|0),"length"in je&&(kt=je.length|0)),dr.bind(),It?st(dr,It,Ye,Yt,tr,lr):(kt&&pt.bufferData(dr.type,kt,Ye),dr.dtype=Yt||5121,dr.usage=Ye,dr.dimension=tr,dr.byteLength=kt),Kt.profile&&(dr.stats.size=dr.byteLength*et[dr.dtype]),sr}Zt.bufferCount++;var dr=new ur(Bt);return Dt[dr.id]=dr,Xt||sr(Nt),sr._reglType="buffer",sr._buffer=dr,sr.subdata=function(je,Ye){var It=(Ye||0)|0,kt;if(dr.bind(),Ce(je)||je instanceof ArrayBuffer)pt.bufferSubData(dr.type,It,je);else if(Array.isArray(je)){if(0<je.length)if(typeof je[0]=="number"){var Yt=Oe.allocType(dr.dtype,je.length);w(Yt,je),pt.bufferSubData(dr.type,It,Yt),Oe.freeType(Yt)}else(Array.isArray(je[0])||Ce(je[0]))&&(kt=it(je),Yt=We(je,kt,dr.dtype),pt.bufferSubData(dr.type,It,Yt),Oe.freeType(Yt))}else if(f(je)){kt=je.shape;var tr=je.stride,or=Yt=0,rr=0,_t=0;kt.length===1?(Yt=kt[0],or=1,rr=tr[0],_t=0):kt.length===2&&(Yt=kt[0],or=kt[1],rr=tr[0],_t=tr[1]),kt=Array.isArray(je.data)?dr.dtype:c(je.data),kt=Oe.allocType(kt,Yt*or),h(kt,je.data,Yt,or,rr,_t,je.offset),pt.bufferSubData(dr.type,It,kt),Oe.freeType(kt)}return sr},Kt.profile&&(sr.stats=dr.stats),sr.destroy=function(){xt(dr)},sr},createStream:function(Nt,Bt){var Xt=Rt.pop();return Xt||(Xt=new ur(Nt)),Xt.bind(),st(Xt,Bt,35040,0,1,!1),Xt},destroyStream:function(Nt){Rt.push(Nt)},clear:function(){xe(Dt).forEach(xt),Rt.forEach(xt)},getBuffer:function(Nt){return Nt&&Nt._buffer instanceof ur?Nt._buffer:null},restore:function(){xe(Dt).forEach(function(Nt){Nt.buffer=pt.createBuffer(),pt.bindBuffer(Nt.type,Nt.buffer),pt.bufferData(Nt.type,Nt.persistentData||Nt.byteLength,Nt.usage)})},_initBuffer:st}}function d(pt,Zt,Kt,mr){function ur(Nt){this.id=Mt++,xt[this.id]=this,this.buffer=Nt,this.primType=4,this.type=this.vertCount=0}function dt(Nt,Bt,Xt,lr,sr,dr,je){Nt.buffer.bind();var Ye;if(Bt?((Ye=je)||Ce(Bt)&&(!f(Bt)||Ce(Bt.data))||(Ye=Zt.oes_element_index_uint?5125:5123),Kt._initBuffer(Nt.buffer,Bt,Xt,Ye,3)):(pt.bufferData(34963,dr,Xt),Nt.buffer.dtype=Ye||5121,Nt.buffer.usage=Xt,Nt.buffer.dimension=3,Nt.buffer.byteLength=dr),Ye=je,!je){switch(Nt.buffer.dtype){case 5121:case 5120:Ye=5121;break;case 5123:case 5122:Ye=5123;break;case 5125:case 5124:Ye=5125}Nt.buffer.dtype=Ye}Nt.type=Ye,Bt=sr,0>Bt&&(Bt=Nt.buffer.byteLength,Ye===5123?Bt>>=1:Ye===5125&&(Bt>>=2)),Nt.vertCount=Bt,Bt=lr,0>lr&&(Bt=4,lr=Nt.buffer.dimension,lr===1&&(Bt=0),lr===2&&(Bt=1),lr===3&&(Bt=4)),Nt.primType=Bt}function st(Nt){mr.elementsCount--,delete xt[Nt.id],Nt.buffer.destroy(),Nt.buffer=null}var xt={},Mt=0,Dt={uint8:5121,uint16:5123};Zt.oes_element_index_uint&&(Dt.uint32=5125),ur.prototype.bind=function(){this.buffer.bind()};var Rt=[];return{create:function(Nt,Bt){function Xt(dr){if(dr)if(typeof dr=="number")lr(dr),sr.primType=4,sr.vertCount=dr|0,sr.type=5121;else{var je=null,Ye=35044,It=-1,kt=-1,Yt=0,tr=0;Array.isArray(dr)||Ce(dr)||f(dr)?je=dr:("data"in dr&&(je=dr.data),"usage"in dr&&(Ye=ke[dr.usage]),"primitive"in dr&&(It=tt[dr.primitive]),"count"in dr&&(kt=dr.count|0),"type"in dr&&(tr=Dt[dr.type]),"length"in dr?Yt=dr.length|0:(Yt=kt,tr===5123||tr===5122?Yt*=2:(tr===5125||tr===5124)&&(Yt*=4))),dt(sr,je,Ye,It,kt,Yt,tr)}else lr(),sr.primType=4,sr.vertCount=0,sr.type=5121;return Xt}var lr=Kt.create(null,34963,!0),sr=new ur(lr._buffer);return mr.elementsCount++,Xt(Nt),Xt._reglType="elements",Xt._elements=sr,Xt.subdata=function(dr,je){return lr.subdata(dr,je),Xt},Xt.destroy=function(){st(sr)},Xt},createStream:function(Nt){var Bt=Rt.pop();return Bt||(Bt=new ur(Kt.create(null,34963,!0,!1)._buffer)),dt(Bt,Nt,35040,-1,-1,0,0),Bt},destroyStream:function(Nt){Rt.push(Nt)},getElements:function(Nt){return typeof Nt=="function"&&Nt._elements instanceof ur?Nt._elements:null},clear:function(){xe(xt).forEach(st)}}}function M(pt){for(var Zt=Oe.allocType(5123,pt.length),Kt=0;Kt<pt.length;++Kt)if(isNaN(pt[Kt]))Zt[Kt]=65535;else if(pt[Kt]===1/0)Zt[Kt]=31744;else if(pt[Kt]===-1/0)Zt[Kt]=64512;else{at[0]=pt[Kt];var dt=ht[0],mr=dt>>>31<<15,ur=(dt<<1>>>24)-127,dt=dt>>13&1023;Zt[Kt]=-24>ur?mr:-14>ur?mr+(dt+1024>>-14-ur):15<ur?mr+31744:mr+(ur+15<<10)+dt}return Zt}function T(pt){return Array.isArray(pt)||Ce(pt)}function E(pt){return"[object "+pt+"]"}function x(pt){return Array.isArray(pt)&&(pt.length===0||typeof pt[0]=="number")}function S(pt){return!!(Array.isArray(pt)&&pt.length!==0&&T(pt[0]))}function b(pt){return Object.prototype.toString.call(pt)}function a(pt){if(!pt)return!1;var Zt=b(pt);return 0<=Re.indexOf(Zt)?!0:x(pt)||S(pt)||f(pt)}function C(pt,Zt){pt.type===36193?(pt.data=M(Zt),Oe.freeType(Zt)):pt.data=Zt}function y(pt,Zt,Kt,mr,ur,dt){if(pt=typeof ye[pt]<"u"?ye[pt]:Et[pt]*be[Zt],dt&&(pt*=6),ur){for(mr=0;1<=Kt;)mr+=pt*Kt*Kt,Kt/=2;return mr}return pt*Kt*mr}function z(pt,Zt,Kt,mr,ur,dt,st){function xt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Mt(Tr,sn){Tr.internalformat=sn.internalformat,Tr.format=sn.format,Tr.type=sn.type,Tr.compressed=sn.compressed,Tr.premultiplyAlpha=sn.premultiplyAlpha,Tr.flipY=sn.flipY,Tr.unpackAlignment=sn.unpackAlignment,Tr.colorSpace=sn.colorSpace,Tr.width=sn.width,Tr.height=sn.height,Tr.channels=sn.channels}function Dt(Tr,sn){if(typeof sn=="object"&&sn){"premultiplyAlpha"in sn&&(Tr.premultiplyAlpha=sn.premultiplyAlpha),"flipY"in sn&&(Tr.flipY=sn.flipY),"alignment"in sn&&(Tr.unpackAlignment=sn.alignment),"colorSpace"in sn&&(Tr.colorSpace=pn[sn.colorSpace]),"type"in sn&&(Tr.type=qr[sn.type]);var tn=Tr.width,yn=Tr.height,Hn=Tr.channels,Sn=!1;"shape"in sn?(tn=sn.shape[0],yn=sn.shape[1],sn.shape.length===3&&(Hn=sn.shape[2],Sn=!0)):("radius"in sn&&(tn=yn=sn.radius),"width"in sn&&(tn=sn.width),"height"in sn&&(yn=sn.height),"channels"in sn&&(Hn=sn.channels,Sn=!0)),Tr.width=tn|0,Tr.height=yn|0,Tr.channels=Hn|0,tn=!1,"format"in sn&&(tn=sn.format,yn=Tr.internalformat=On[tn],Tr.format=Pn[yn],tn in qr&&!("type"in sn)&&(Tr.type=qr[tn]),tn in Tn&&(Tr.compressed=!0),tn=!0),!Sn&&tn?Tr.channels=Et[Tr.format]:Sn&&!tn&&Tr.channels!==gt[Tr.format]&&(Tr.format=Tr.internalformat=gt[Tr.channels])}}function Rt(Tr){pt.pixelStorei(37440,Tr.flipY),pt.pixelStorei(37441,Tr.premultiplyAlpha),pt.pixelStorei(37443,Tr.colorSpace),pt.pixelStorei(3317,Tr.unpackAlignment)}function Nt(){xt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Bt(Tr,sn){var tn=null;if(a(sn)?tn=sn:sn&&(Dt(Tr,sn),"x"in sn&&(Tr.xOffset=sn.x|0),"y"in sn&&(Tr.yOffset=sn.y|0),a(sn.data)&&(tn=sn.data)),sn.copy){var yn=ur.viewportWidth,Hn=ur.viewportHeight;Tr.width=Tr.width||yn-Tr.xOffset,Tr.height=Tr.height||Hn-Tr.yOffset,Tr.needsCopy=!0}else if(!tn)Tr.width=Tr.width||1,Tr.height=Tr.height||1,Tr.channels=Tr.channels||4;else if(Ce(tn))Tr.channels=Tr.channels||4,Tr.data=tn,"type"in sn||Tr.type!==5121||(Tr.type=He[Object.prototype.toString.call(tn)]|0);else if(x(tn)){switch(Tr.channels=Tr.channels||4,yn=tn,Hn=yn.length,Tr.type){case 5121:case 5123:case 5125:case 5126:Hn=Oe.allocType(Tr.type,Hn),Hn.set(yn),Tr.data=Hn;break;case 36193:Tr.data=M(yn)}Tr.alignment=1,Tr.needsFree=!0}else if(f(tn)){yn=tn.data,Array.isArray(yn)||Tr.type!==5121||(Tr.type=He[Object.prototype.toString.call(yn)]|0);var Hn=tn.shape,Sn=tn.stride,En,Nn,ea,xa;Hn.length===3?(ea=Hn[2],xa=Sn[2]):xa=ea=1,En=Hn[0],Nn=Hn[1],Hn=Sn[0],Sn=Sn[1],Tr.alignment=1,Tr.width=En,Tr.height=Nn,Tr.channels=ea,Tr.format=Tr.internalformat=gt[ea],Tr.needsFree=!0,En=xa,tn=tn.offset,ea=Tr.width,xa=Tr.height,Nn=Tr.channels;for(var Wa=Oe.allocType(Tr.type===36193?5126:Tr.type,ea*xa*Nn),jt=0,wr=0;wr<xa;++wr)for(var en=0;en<ea;++en)for(var un=0;un<Nn;++un)Wa[jt++]=yn[Hn*en+Sn*wr+En*un+tn];C(Tr,Wa)}else if(b(tn)===Ct||b(tn)===Vt||b(tn)===Qe)b(tn)===Ct||b(tn)===Vt?Tr.element=tn:Tr.element=tn.canvas,Tr.width=Tr.element.width,Tr.height=Tr.element.height,Tr.channels=4;else if(b(tn)===Fe)Tr.element=tn,Tr.width=tn.width,Tr.height=tn.height,Tr.channels=4;else if(b(tn)===Ie)Tr.element=tn,Tr.width=tn.naturalWidth,Tr.height=tn.naturalHeight,Tr.channels=4;else if(b(tn)===ze)Tr.element=tn,Tr.width=tn.videoWidth,Tr.height=tn.videoHeight,Tr.channels=4;else if(S(tn)){for(yn=Tr.width||tn[0].length,Hn=Tr.height||tn.length,Sn=Tr.channels,Sn=T(tn[0][0])?Sn||tn[0][0].length:Sn||1,En=Se.shape(tn),ea=1,xa=0;xa<En.length;++xa)ea*=En[xa];ea=Oe.allocType(Tr.type===36193?5126:Tr.type,ea),Se.flatten(tn,En,"",ea),C(Tr,ea),Tr.alignment=1,Tr.width=yn,Tr.height=Hn,Tr.channels=Sn,Tr.format=Tr.internalformat=gt[Sn],Tr.needsFree=!0}}function Xt(Tr,sn,tn,yn,Hn){var Sn=Tr.element,En=Tr.data,Nn=Tr.internalformat,ea=Tr.format,xa=Tr.type,Wa=Tr.width,jt=Tr.height;Rt(Tr),Sn?pt.texSubImage2D(sn,Hn,tn,yn,ea,xa,Sn):Tr.compressed?pt.compressedTexSubImage2D(sn,Hn,tn,yn,Nn,Wa,jt,En):Tr.needsCopy?(mr(),pt.copyTexSubImage2D(sn,Hn,tn,yn,Tr.xOffset,Tr.yOffset,Wa,jt)):pt.texSubImage2D(sn,Hn,tn,yn,Wa,jt,ea,xa,En)}function lr(){return Fn.pop()||new Nt}function sr(Tr){Tr.needsFree&&Oe.freeType(Tr.data),Nt.call(Tr),Fn.push(Tr)}function dr(){xt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function je(Tr,sn,tn){var yn=Tr.images[0]=lr();Tr.mipmask=1,yn.width=Tr.width=sn,yn.height=Tr.height=tn,yn.channels=Tr.channels=4}function Ye(Tr,sn){var tn=null;if(a(sn))tn=Tr.images[0]=lr(),Mt(tn,Tr),Bt(tn,sn),Tr.mipmask=1;else if(Dt(Tr,sn),Array.isArray(sn.mipmap))for(var yn=sn.mipmap,Hn=0;Hn<yn.length;++Hn)tn=Tr.images[Hn]=lr(),Mt(tn,Tr),tn.width>>=Hn,tn.height>>=Hn,Bt(tn,yn[Hn]),Tr.mipmask|=1<<Hn;else tn=Tr.images[0]=lr(),Mt(tn,Tr),Bt(tn,sn),Tr.mipmask=1;Mt(Tr,Tr.images[0])}function It(Tr,sn){for(var tn=Tr.images,yn=0;yn<tn.length&&tn[yn];++yn){var Hn=tn[yn],Sn=sn,En=yn,Nn=Hn.element,ea=Hn.data,xa=Hn.internalformat,Wa=Hn.format,jt=Hn.type,wr=Hn.width,en=Hn.height;Rt(Hn),Nn?pt.texImage2D(Sn,En,Wa,Wa,jt,Nn):Hn.compressed?pt.compressedTexImage2D(Sn,En,xa,wr,en,0,ea):Hn.needsCopy?(mr(),pt.copyTexImage2D(Sn,En,Wa,Hn.xOffset,Hn.yOffset,wr,en,0)):pt.texImage2D(Sn,En,Wa,wr,en,0,Wa,jt,ea||null)}}function kt(){var Tr=ia.pop()||new dr;xt.call(Tr);for(var sn=Tr.mipmask=0;16>sn;++sn)Tr.images[sn]=null;return Tr}function Yt(Tr){for(var sn=Tr.images,tn=0;tn<sn.length;++tn)sn[tn]&&sr(sn[tn]),sn[tn]=null;ia.push(Tr)}function tr(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function or(Tr,sn){"min"in sn&&(Tr.minFilter=Fr[sn.min],0<=yt.indexOf(Tr.minFilter)&&!("faces"in sn)&&(Tr.genMipmaps=!0)),"mag"in sn&&(Tr.magFilter=kr[sn.mag]);var tn=Tr.wrapS,yn=Tr.wrapT;if("wrap"in sn){var Hn=sn.wrap;typeof Hn=="string"?tn=yn=Hr[Hn]:Array.isArray(Hn)&&(tn=Hr[Hn[0]],yn=Hr[Hn[1]])}else"wrapS"in sn&&(tn=Hr[sn.wrapS]),"wrapT"in sn&&(yn=Hr[sn.wrapT]);if(Tr.wrapS=tn,Tr.wrapT=yn,"anisotropic"in sn&&(Tr.anisotropic=sn.anisotropic),"mipmap"in sn){switch(tn=!1,typeof sn.mipmap){case"string":Tr.mipmapHint=vr[sn.mipmap],tn=Tr.genMipmaps=!0;break;case"boolean":tn=Tr.genMipmaps=sn.mipmap;break;case"object":Tr.genMipmaps=!1,tn=!0}!tn||"min"in sn||(Tr.minFilter=9984)}}function rr(Tr,sn){pt.texParameteri(sn,10241,Tr.minFilter),pt.texParameteri(sn,10240,Tr.magFilter),pt.texParameteri(sn,10242,Tr.wrapS),pt.texParameteri(sn,10243,Tr.wrapT),Zt.ext_texture_filter_anisotropic&&pt.texParameteri(sn,34046,Tr.anisotropic),Tr.genMipmaps&&(pt.hint(33170,Tr.mipmapHint),pt.generateMipmap(sn))}function _t(Tr){xt.call(this),this.mipmask=0,this.internalformat=6408,this.id=jn++,this.refCount=1,this.target=Tr,this.texture=pt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new tr,st.profile&&(this.stats={size:0})}function hr(Tr){pt.activeTexture(33984),pt.bindTexture(Tr.target,Tr.texture)}function gr(){var Tr=Qn[0];Tr?pt.bindTexture(Tr.target,Tr.texture):pt.bindTexture(3553,null)}function pr(Tr){var sn=Tr.texture,tn=Tr.unit,yn=Tr.target;0<=tn&&(pt.activeTexture(33984+tn),pt.bindTexture(yn,null),Qn[tn]=null),pt.deleteTexture(sn),Tr.texture=null,Tr.params=null,Tr.pixels=null,Tr.refCount=0,delete $n[Tr.id],dt.textureCount--}var vr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Hr={repeat:10497,clamp:33071,mirror:33648},kr={nearest:9728,linear:9729},Fr=ie({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},kr),pn={none:0,browser:37444},qr={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},On={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Tn={};Zt.ext_srgb&&(On.srgb=35904,On.srgba=35906),Zt.oes_texture_float&&(qr.float32=qr.float=5126),Zt.oes_texture_half_float&&(qr.float16=qr["half float"]=36193),Zt.webgl_depth_texture&&(ie(On,{depth:6402,"depth stencil":34041}),ie(qr,{uint16:5123,uint32:5125,"depth stencil":34042})),Zt.webgl_compressed_texture_s3tc&&ie(Tn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Zt.webgl_compressed_texture_atc&&ie(Tn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Zt.webgl_compressed_texture_pvrtc&&ie(Tn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Zt.webgl_compressed_texture_etc1&&(Tn["rgb etc1"]=36196);var Sr=Array.prototype.slice.call(pt.getParameter(34467));Object.keys(Tn).forEach(function(Tr){var sn=Tn[Tr];0<=Sr.indexOf(sn)&&(On[Tr]=sn)});var Er=Object.keys(On);Kt.textureFormats=Er;var Gr=[];Object.keys(On).forEach(function(Tr){Gr[On[Tr]]=Tr});var Br=[];Object.keys(qr).forEach(function(Tr){Br[qr[Tr]]=Tr});var nn=[];Object.keys(kr).forEach(function(Tr){nn[kr[Tr]]=Tr});var gn=[];Object.keys(Fr).forEach(function(Tr){gn[Fr[Tr]]=Tr});var mn=[];Object.keys(Hr).forEach(function(Tr){mn[Hr[Tr]]=Tr});var Pn=Er.reduce(function(Tr,sn){var tn=On[sn];return tn===6409||tn===6406||tn===6409||tn===6410||tn===6402||tn===34041||Zt.ext_srgb&&(tn===35904||tn===35906)?Tr[tn]=tn:tn===32855||0<=sn.indexOf("rgba")?Tr[tn]=6408:Tr[tn]=6407,Tr},{}),Fn=[],ia=[],jn=0,$n={},Wn=Kt.maxTextureUnits,Qn=Array(Wn).map(function(){return null});return ie(_t.prototype,{bind:function(){this.bindCount+=1;var Tr=this.unit;if(0>Tr){for(var sn=0;sn<Wn;++sn){var tn=Qn[sn];if(tn){if(0<tn.bindCount)continue;tn.unit=-1}Qn[sn]=this,Tr=sn;break}st.profile&&dt.maxTextureUnits<Tr+1&&(dt.maxTextureUnits=Tr+1),this.unit=Tr,pt.activeTexture(33984+Tr),pt.bindTexture(this.target,this.texture)}return Tr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&pr(this)}}),st.profile&&(dt.getTotalTextureSize=function(){var Tr=0;return Object.keys($n).forEach(function(sn){Tr+=$n[sn].stats.size}),Tr}),{create2D:function(Tr,sn){function tn(Hn,Sn){var En=yn.texInfo;tr.call(En);var Nn=kt();return typeof Hn=="number"?typeof Sn=="number"?je(Nn,Hn|0,Sn|0):je(Nn,Hn|0,Hn|0):Hn?(or(En,Hn),Ye(Nn,Hn)):je(Nn,1,1),En.genMipmaps&&(Nn.mipmask=(Nn.width<<1)-1),yn.mipmask=Nn.mipmask,Mt(yn,Nn),yn.internalformat=Nn.internalformat,tn.width=Nn.width,tn.height=Nn.height,hr(yn),It(Nn,3553),rr(En,3553),gr(),Yt(Nn),st.profile&&(yn.stats.size=y(yn.internalformat,yn.type,Nn.width,Nn.height,En.genMipmaps,!1)),tn.format=Gr[yn.internalformat],tn.type=Br[yn.type],tn.mag=nn[En.magFilter],tn.min=gn[En.minFilter],tn.wrapS=mn[En.wrapS],tn.wrapT=mn[En.wrapT],tn}var yn=new _t(3553);return $n[yn.id]=yn,dt.textureCount++,tn(Tr,sn),tn.subimage=function(Hn,Sn,En,Nn){Sn|=0,En|=0,Nn|=0;var ea=lr();return Mt(ea,yn),ea.width=0,ea.height=0,Bt(ea,Hn),ea.width=ea.width||(yn.width>>Nn)-Sn,ea.height=ea.height||(yn.height>>Nn)-En,hr(yn),Xt(ea,3553,Sn,En,Nn),gr(),sr(ea),tn},tn.resize=function(Hn,Sn){var En=Hn|0,Nn=Sn|0||En;if(En===yn.width&&Nn===yn.height)return tn;tn.width=yn.width=En,tn.height=yn.height=Nn,hr(yn);for(var ea=0;yn.mipmask>>ea;++ea){var xa=En>>ea,Wa=Nn>>ea;if(!xa||!Wa)break;pt.texImage2D(3553,ea,yn.format,xa,Wa,0,yn.format,yn.type,null)}return gr(),st.profile&&(yn.stats.size=y(yn.internalformat,yn.type,En,Nn,!1,!1)),tn},tn._reglType="texture2d",tn._texture=yn,st.profile&&(tn.stats=yn.stats),tn.destroy=function(){yn.decRef()},tn},createCube:function(Tr,sn,tn,yn,Hn,Sn){function En(xa,Wa,jt,wr,en,un){var cn,Dn=Nn.texInfo;for(tr.call(Dn),cn=0;6>cn;++cn)ea[cn]=kt();if(typeof xa=="number"||!xa)for(xa=xa|0||1,cn=0;6>cn;++cn)je(ea[cn],xa,xa);else if(typeof xa=="object")if(Wa)Ye(ea[0],xa),Ye(ea[1],Wa),Ye(ea[2],jt),Ye(ea[3],wr),Ye(ea[4],en),Ye(ea[5],un);else if(or(Dn,xa),Dt(Nn,xa),"faces"in xa)for(xa=xa.faces,cn=0;6>cn;++cn)Mt(ea[cn],Nn),Ye(ea[cn],xa[cn]);else for(cn=0;6>cn;++cn)Ye(ea[cn],xa);for(Mt(Nn,ea[0]),Nn.mipmask=Dn.genMipmaps?(ea[0].width<<1)-1:ea[0].mipmask,Nn.internalformat=ea[0].internalformat,En.width=ea[0].width,En.height=ea[0].height,hr(Nn),cn=0;6>cn;++cn)It(ea[cn],34069+cn);for(rr(Dn,34067),gr(),st.profile&&(Nn.stats.size=y(Nn.internalformat,Nn.type,En.width,En.height,Dn.genMipmaps,!0)),En.format=Gr[Nn.internalformat],En.type=Br[Nn.type],En.mag=nn[Dn.magFilter],En.min=gn[Dn.minFilter],En.wrapS=mn[Dn.wrapS],En.wrapT=mn[Dn.wrapT],cn=0;6>cn;++cn)Yt(ea[cn]);return En}var Nn=new _t(34067);$n[Nn.id]=Nn,dt.cubeCount++;var ea=Array(6);return En(Tr,sn,tn,yn,Hn,Sn),En.subimage=function(xa,Wa,jt,wr,en){jt|=0,wr|=0,en|=0;var un=lr();return Mt(un,Nn),un.width=0,un.height=0,Bt(un,Wa),un.width=un.width||(Nn.width>>en)-jt,un.height=un.height||(Nn.height>>en)-wr,hr(Nn),Xt(un,34069+xa,jt,wr,en),gr(),sr(un),En},En.resize=function(xa){if(xa|=0,xa!==Nn.width){En.width=Nn.width=xa,En.height=Nn.height=xa,hr(Nn);for(var Wa=0;6>Wa;++Wa)for(var jt=0;Nn.mipmask>>jt;++jt)pt.texImage2D(34069+Wa,jt,Nn.format,xa>>jt,xa>>jt,0,Nn.format,Nn.type,null);return gr(),st.profile&&(Nn.stats.size=y(Nn.internalformat,Nn.type,En.width,En.height,!1,!0)),En}},En._reglType="textureCube",En._texture=Nn,st.profile&&(En.stats=Nn.stats),En.destroy=function(){Nn.decRef()},En},clear:function(){for(var Tr=0;Tr<Wn;++Tr)pt.activeTexture(33984+Tr),pt.bindTexture(3553,null),Qn[Tr]=null;xe($n).forEach(pr),dt.cubeCount=0,dt.textureCount=0},getTexture:function(Tr){return null},restore:function(){for(var Tr=0;Tr<Wn;++Tr){var sn=Qn[Tr];sn&&(sn.bindCount=0,sn.unit=-1,Qn[Tr]=null)}xe($n).forEach(function(tn){tn.texture=pt.createTexture(),pt.bindTexture(tn.target,tn.texture);for(var yn=0;32>yn;++yn)if(tn.mipmask&1<<yn)if(tn.target===3553)pt.texImage2D(3553,yn,tn.internalformat,tn.width>>yn,tn.height>>yn,0,tn.internalformat,tn.type,null);else for(var Hn=0;6>Hn;++Hn)pt.texImage2D(34069+Hn,yn,tn.internalformat,tn.width>>yn,tn.height>>yn,0,tn.internalformat,tn.type,null);rr(tn.texInfo,tn.target)})},refresh:function(){for(var Tr=0;Tr<Wn;++Tr){var sn=Qn[Tr];sn&&(sn.bindCount=0,sn.unit=-1,Qn[Tr]=null),pt.activeTexture(33984+Tr),pt.bindTexture(3553,null),pt.bindTexture(34067,null)}}}}function I(pt,Zt,Kt,mr,ur,dt){function st(_t,hr,gr){this.target=_t,this.texture=hr,this.renderbuffer=gr;var pr=_t=0;hr?(_t=hr.width,pr=hr.height):gr&&(_t=gr.width,pr=gr.height),this.width=_t,this.height=pr}function xt(_t){_t&&(_t.texture&&_t.texture._texture.decRef(),_t.renderbuffer&&_t.renderbuffer._renderbuffer.decRef())}function Mt(_t,hr,gr){_t&&(_t.texture?_t.texture._texture.refCount+=1:_t.renderbuffer._renderbuffer.refCount+=1)}function Dt(_t,hr){hr&&(hr.texture?pt.framebufferTexture2D(36160,_t,hr.target,hr.texture._texture.texture,0):pt.framebufferRenderbuffer(36160,_t,36161,hr.renderbuffer._renderbuffer.renderbuffer))}function Rt(_t){var hr=3553,gr=null,pr=null,vr=_t;return typeof _t=="object"&&(vr=_t.data,"target"in _t&&(hr=_t.target|0)),_t=vr._reglType,_t==="texture2d"||_t==="textureCube"?gr=vr:_t==="renderbuffer"&&(pr=vr,hr=36161),new st(hr,gr,pr)}function Nt(_t,hr,gr,pr,vr){return gr?(_t=mr.create2D({width:_t,height:hr,format:pr,type:vr}),_t._texture.refCount=0,new st(3553,_t,null)):(_t=ur.create({width:_t,height:hr,format:pr}),_t._renderbuffer.refCount=0,new st(36161,null,_t))}function Bt(_t){return _t&&(_t.texture||_t.renderbuffer)}function Xt(_t,hr,gr){_t&&(_t.texture?_t.texture.resize(hr,gr):_t.renderbuffer&&_t.renderbuffer.resize(hr,gr),_t.width=hr,_t.height=gr)}function lr(){this.id=or++,rr[this.id]=this,this.framebuffer=pt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function sr(_t){_t.colorAttachments.forEach(xt),xt(_t.depthAttachment),xt(_t.stencilAttachment),xt(_t.depthStencilAttachment)}function dr(_t){pt.deleteFramebuffer(_t.framebuffer),_t.framebuffer=null,dt.framebufferCount--,delete rr[_t.id]}function je(_t){var hr;pt.bindFramebuffer(36160,_t.framebuffer);var gr=_t.colorAttachments;for(hr=0;hr<gr.length;++hr)Dt(36064+hr,gr[hr]);for(hr=gr.length;hr<Kt.maxColorAttachments;++hr)pt.framebufferTexture2D(36160,36064+hr,3553,null,0);pt.framebufferTexture2D(36160,33306,3553,null,0),pt.framebufferTexture2D(36160,36096,3553,null,0),pt.framebufferTexture2D(36160,36128,3553,null,0),Dt(36096,_t.depthAttachment),Dt(36128,_t.stencilAttachment),Dt(33306,_t.depthStencilAttachment),pt.checkFramebufferStatus(36160),pt.isContextLost(),pt.bindFramebuffer(36160,It.next?It.next.framebuffer:null),It.cur=It.next,pt.getError()}function Ye(_t,hr){function gr(vr,Hr){var kr,Fr=0,pn=0,qr=!0,On=!0;kr=null;var Tn=!0,Sr="rgba",Er="uint8",Gr=1,Br=null,nn=null,gn=null,mn=!1;typeof vr=="number"?(Fr=vr|0,pn=Hr|0||Fr):vr?("shape"in vr?(pn=vr.shape,Fr=pn[0],pn=pn[1]):("radius"in vr&&(Fr=pn=vr.radius),"width"in vr&&(Fr=vr.width),"height"in vr&&(pn=vr.height)),("color"in vr||"colors"in vr)&&(kr=vr.color||vr.colors),kr||("colorCount"in vr&&(Gr=vr.colorCount|0),"colorTexture"in vr&&(Tn=!!vr.colorTexture,Sr="rgba4"),"colorType"in vr&&(Er=vr.colorType,!Tn)&&(Er==="half float"||Er==="float16"?Sr="rgba16f":(Er==="float"||Er==="float32")&&(Sr="rgba32f")),"colorFormat"in vr&&(Sr=vr.colorFormat,0<=kt.indexOf(Sr)?Tn=!0:0<=Yt.indexOf(Sr)&&(Tn=!1))),("depthTexture"in vr||"depthStencilTexture"in vr)&&(mn=!(!vr.depthTexture&&!vr.depthStencilTexture)),"depth"in vr&&(typeof vr.depth=="boolean"?qr=vr.depth:(Br=vr.depth,On=!1)),"stencil"in vr&&(typeof vr.stencil=="boolean"?On=vr.stencil:(nn=vr.stencil,qr=!1)),"depthStencil"in vr&&(typeof vr.depthStencil=="boolean"?qr=On=vr.depthStencil:(gn=vr.depthStencil,On=qr=!1))):Fr=pn=1;var Pn=null,Fn=null,ia=null,jn=null;if(Array.isArray(kr))Pn=kr.map(Rt);else if(kr)Pn=[Rt(kr)];else for(Pn=Array(Gr),kr=0;kr<Gr;++kr)Pn[kr]=Nt(Fr,pn,Tn,Sr,Er);for(Fr=Fr||Pn[0].width,pn=pn||Pn[0].height,Br?Fn=Rt(Br):qr&&!On&&(Fn=Nt(Fr,pn,mn,"depth","uint32")),nn?ia=Rt(nn):On&&!qr&&(ia=Nt(Fr,pn,!1,"stencil","uint8")),gn?jn=Rt(gn):!Br&&!nn&&On&&qr&&(jn=Nt(Fr,pn,mn,"depth stencil","depth stencil")),qr=null,kr=0;kr<Pn.length;++kr)Mt(Pn[kr]),Pn[kr]&&Pn[kr].texture&&(On=Ne[Pn[kr].texture._texture.format]*Je[Pn[kr].texture._texture.type],qr===null&&(qr=On));return Mt(Fn),Mt(ia),Mt(jn),sr(pr),pr.width=Fr,pr.height=pn,pr.colorAttachments=Pn,pr.depthAttachment=Fn,pr.stencilAttachment=ia,pr.depthStencilAttachment=jn,gr.color=Pn.map(Bt),gr.depth=Bt(Fn),gr.stencil=Bt(ia),gr.depthStencil=Bt(jn),gr.width=pr.width,gr.height=pr.height,je(pr),gr}var pr=new lr;return dt.framebufferCount++,gr(_t,hr),ie(gr,{resize:function(vr,Hr){var kr=Math.max(vr|0,1),Fr=Math.max(Hr|0||kr,1);if(kr===pr.width&&Fr===pr.height)return gr;for(var pn=pr.colorAttachments,qr=0;qr<pn.length;++qr)Xt(pn[qr],kr,Fr);return Xt(pr.depthAttachment,kr,Fr),Xt(pr.stencilAttachment,kr,Fr),Xt(pr.depthStencilAttachment,kr,Fr),pr.width=gr.width=kr,pr.height=gr.height=Fr,je(pr),gr},_reglType:"framebuffer",_framebuffer:pr,destroy:function(){dr(pr),sr(pr)},use:function(vr){It.setFBO({framebuffer:gr},vr)}})}var It={cur:null,next:null,dirty:!1,setFBO:null},kt=["rgba"],Yt=["rgba4","rgb565","rgb5 a1"];Zt.ext_srgb&&Yt.push("srgba"),Zt.ext_color_buffer_half_float&&Yt.push("rgba16f","rgb16f"),Zt.webgl_color_buffer_float&&Yt.push("rgba32f");var tr=["uint8"];Zt.oes_texture_half_float&&tr.push("half float","float16"),Zt.oes_texture_float&&tr.push("float","float32");var or=0,rr={};return ie(It,{getFramebuffer:function(_t){return typeof _t=="function"&&_t._reglType==="framebuffer"&&(_t=_t._framebuffer,_t instanceof lr)?_t:null},create:Ye,createCube:function(_t){function hr(pr){var vr,Hr={color:null},kr=0,Fr=null;vr="rgba";var pn="uint8",qr=1;if(typeof pr=="number"?kr=pr|0:pr?("shape"in pr?kr=pr.shape[0]:("radius"in pr&&(kr=pr.radius|0),"width"in pr?kr=pr.width|0:"height"in pr&&(kr=pr.height|0)),("color"in pr||"colors"in pr)&&(Fr=pr.color||pr.colors),Fr||("colorCount"in pr&&(qr=pr.colorCount|0),"colorType"in pr&&(pn=pr.colorType),"colorFormat"in pr&&(vr=pr.colorFormat)),"depth"in pr&&(Hr.depth=pr.depth),"stencil"in pr&&(Hr.stencil=pr.stencil),"depthStencil"in pr&&(Hr.depthStencil=pr.depthStencil)):kr=1,Fr)if(Array.isArray(Fr))for(pr=[],vr=0;vr<Fr.length;++vr)pr[vr]=Fr[vr];else pr=[Fr];else for(pr=Array(qr),Fr={radius:kr,format:vr,type:pn},vr=0;vr<qr;++vr)pr[vr]=mr.createCube(Fr);for(Hr.color=Array(pr.length),vr=0;vr<pr.length;++vr)qr=pr[vr],kr=kr||qr.width,Hr.color[vr]={target:34069,data:pr[vr]};for(vr=0;6>vr;++vr){for(qr=0;qr<pr.length;++qr)Hr.color[qr].target=34069+vr;0<vr&&(Hr.depth=gr[0].depth,Hr.stencil=gr[0].stencil,Hr.depthStencil=gr[0].depthStencil),gr[vr]?gr[vr](Hr):gr[vr]=Ye(Hr)}return ie(hr,{width:kr,height:kr,color:pr})}var gr=Array(6);return hr(_t),ie(hr,{faces:gr,resize:function(pr){var vr=pr|0;if(vr===hr.width)return hr;var Hr=hr.color;for(pr=0;pr<Hr.length;++pr)Hr[pr].resize(vr);for(pr=0;6>pr;++pr)gr[pr].resize(vr);return hr.width=hr.height=vr,hr},_reglType:"framebufferCube",destroy:function(){gr.forEach(function(pr){pr.destroy()})}})},clear:function(){xe(rr).forEach(dr)},restore:function(){It.cur=null,It.next=null,It.dirty=!0,xe(rr).forEach(function(_t){_t.framebuffer=pt.createFramebuffer(),je(_t)})}})}function B(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function F(pt,Zt,Kt,mr,ur,dt,st){function xt(je){if(je!==dr.currentVAO){var Ye=Zt.oes_vertex_array_object;je?Ye.bindVertexArrayOES(je.vao):Ye.bindVertexArrayOES(null),dr.currentVAO=je}}function Mt(je){if(je!==dr.currentVAO){if(je)je.bindAttrs();else{for(var Ye=Zt.angle_instanced_arrays,It=0;It<Xt.length;++It){var kt=Xt[It];kt.buffer?(pt.enableVertexAttribArray(It),kt.buffer.bind(),pt.vertexAttribPointer(It,kt.size,kt.type,kt.normalized,kt.stride,kt.offfset),Ye&&kt.divisor&&Ye.vertexAttribDivisorANGLE(It,kt.divisor)):(pt.disableVertexAttribArray(It),pt.vertexAttrib4f(It,kt.x,kt.y,kt.z,kt.w))}st.elements?pt.bindBuffer(34963,st.elements.buffer.buffer):pt.bindBuffer(34963,null)}dr.currentVAO=je}}function Dt(){xe(sr).forEach(function(je){je.destroy()})}function Rt(){this.id=++lr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var je=Zt.oes_vertex_array_object;this.vao=je?je.createVertexArrayOES():null,sr[this.id]=this,this.buffers=[]}function Nt(){Zt.oes_vertex_array_object&&xe(sr).forEach(function(je){je.refresh()})}var Bt=Kt.maxAttributes,Xt=Array(Bt);for(Kt=0;Kt<Bt;++Kt)Xt[Kt]=new B;var lr=0,sr={},dr={Record:B,scope:{},state:Xt,currentVAO:null,targetVAO:null,restore:Zt.oes_vertex_array_object?Nt:function(){},createVAO:function(je){function Ye(kt){var Yt;Array.isArray(kt)?(Yt=kt,It.elements&&It.ownsElements&&It.elements.destroy(),It.elements=null,It.ownsElements=!1,It.offset=0,It.count=0,It.instances=-1,It.primitive=4):(kt.elements?(Yt=kt.elements,It.ownsElements?(typeof Yt=="function"&&Yt._reglType==="elements"?It.elements.destroy():It.elements(Yt),It.ownsElements=!1):dt.getElements(kt.elements)?(It.elements=kt.elements,It.ownsElements=!1):(It.elements=dt.create(kt.elements),It.ownsElements=!0)):(It.elements=null,It.ownsElements=!1),Yt=kt.attributes,It.offset=0,It.count=-1,It.instances=-1,It.primitive=4,It.elements&&(It.count=It.elements._elements.vertCount,It.primitive=It.elements._elements.primType),"offset"in kt&&(It.offset=kt.offset|0),"count"in kt&&(It.count=kt.count|0),"instances"in kt&&(It.instances=kt.instances|0),"primitive"in kt&&(It.primitive=tt[kt.primitive])),kt={};var tr=It.attributes;tr.length=Yt.length;for(var or=0;or<Yt.length;++or){var rr=Yt[or],_t=tr[or]=new B,hr=rr.data||rr;if(Array.isArray(hr)||Ce(hr)||f(hr)){var gr;It.buffers[or]&&(gr=It.buffers[or],Ce(hr)&&gr._buffer.byteLength>=hr.byteLength?gr.subdata(hr):(gr.destroy(),It.buffers[or]=null)),It.buffers[or]||(gr=It.buffers[or]=ur.create(rr,34962,!1,!0)),_t.buffer=ur.getBuffer(gr),_t.size=_t.buffer.dimension|0,_t.normalized=!1,_t.type=_t.buffer.dtype,_t.offset=0,_t.stride=0,_t.divisor=0,_t.state=1,kt[or]=1}else ur.getBuffer(rr)?(_t.buffer=ur.getBuffer(rr),_t.size=_t.buffer.dimension|0,_t.normalized=!1,_t.type=_t.buffer.dtype,_t.offset=0,_t.stride=0,_t.divisor=0,_t.state=1):ur.getBuffer(rr.buffer)?(_t.buffer=ur.getBuffer(rr.buffer),_t.size=(+rr.size||_t.buffer.dimension)|0,_t.normalized=!!rr.normalized||!1,_t.type="type"in rr?Ge[rr.type]:_t.buffer.dtype,_t.offset=(rr.offset||0)|0,_t.stride=(rr.stride||0)|0,_t.divisor=(rr.divisor||0)|0,_t.state=1):"x"in rr&&(_t.x=+rr.x||0,_t.y=+rr.y||0,_t.z=+rr.z||0,_t.w=+rr.w||0,_t.state=2)}for(gr=0;gr<It.buffers.length;++gr)!kt[gr]&&It.buffers[gr]&&(It.buffers[gr].destroy(),It.buffers[gr]=null);return It.refresh(),Ye}var It=new Rt;return mr.vaoCount+=1,Ye.destroy=function(){for(var kt=0;kt<It.buffers.length;++kt)It.buffers[kt]&&It.buffers[kt].destroy();It.buffers.length=0,It.ownsElements&&(It.elements.destroy(),It.elements=null,It.ownsElements=!1),It.destroy()},Ye._vao=It,Ye._reglType="vao",Ye(je)},getVAO:function(je){return typeof je=="function"&&je._vao?je._vao:null},destroyBuffer:function(je){for(var Ye=0;Ye<Xt.length;++Ye){var It=Xt[Ye];It.buffer===je&&(pt.disableVertexAttribArray(Ye),It.buffer=null)}},setVAO:Zt.oes_vertex_array_object?xt:Mt,clear:Zt.oes_vertex_array_object?Dt:function(){}};return Rt.prototype.bindAttrs=function(){for(var je=Zt.angle_instanced_arrays,Ye=this.attributes,It=0;It<Ye.length;++It){var kt=Ye[It];kt.buffer?(pt.enableVertexAttribArray(It),pt.bindBuffer(34962,kt.buffer.buffer),pt.vertexAttribPointer(It,kt.size,kt.type,kt.normalized,kt.stride,kt.offset),je&&kt.divisor&&je.vertexAttribDivisorANGLE(It,kt.divisor)):(pt.disableVertexAttribArray(It),pt.vertexAttrib4f(It,kt.x,kt.y,kt.z,kt.w))}for(je=Ye.length;je<Bt;++je)pt.disableVertexAttribArray(je);(je=dt.getElements(this.elements))?pt.bindBuffer(34963,je.buffer.buffer):pt.bindBuffer(34963,null)},Rt.prototype.refresh=function(){var je=Zt.oes_vertex_array_object;je&&(je.bindVertexArrayOES(this.vao),this.bindAttrs(),dr.currentVAO=null,je.bindVertexArrayOES(null))},Rt.prototype.destroy=function(){if(this.vao){var je=Zt.oes_vertex_array_object;this===dr.currentVAO&&(dr.currentVAO=null,je.bindVertexArrayOES(null)),je.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),sr[this.id]&&(delete sr[this.id],--mr.vaoCount)},dr}function O(pt,Zt,Kt,mr){function ur(lr,sr,dr,je){this.name=lr,this.id=sr,this.location=dr,this.info=je}function dt(lr,sr){for(var dr=0;dr<lr.length;++dr)if(lr[dr].id===sr.id){lr[dr].location=sr.location;return}lr.push(sr)}function st(lr,sr,dr){dr=lr===35632?Dt:Rt;var je=dr[sr];if(!je){var Ye=Zt.str(sr),je=pt.createShader(lr);pt.shaderSource(je,Ye),pt.compileShader(je),dr[sr]=je}return je}function xt(lr,sr){this.id=Xt++,this.fragId=lr,this.vertId=sr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,mr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Mt(lr,sr,dr){var je;je=st(35632,lr.fragId);var Ye=st(35633,lr.vertId);if(sr=lr.program=pt.createProgram(),pt.attachShader(sr,je),pt.attachShader(sr,Ye),dr)for(je=0;je<dr.length;++je)Ye=dr[je],pt.bindAttribLocation(sr,Ye[0],Ye[1]);pt.linkProgram(sr),Ye=pt.getProgramParameter(sr,35718),mr.profile&&(lr.stats.uniformsCount=Ye);var It=lr.uniforms;for(je=0;je<Ye;++je)if(dr=pt.getActiveUniform(sr,je))if(1<dr.size)for(var kt=0;kt<dr.size;++kt){var Yt=dr.name.replace("[0]","["+kt+"]");dt(It,new ur(Yt,Zt.id(Yt),pt.getUniformLocation(sr,Yt),dr))}else dt(It,new ur(dr.name,Zt.id(dr.name),pt.getUniformLocation(sr,dr.name),dr));for(Ye=pt.getProgramParameter(sr,35721),mr.profile&&(lr.stats.attributesCount=Ye),lr=lr.attributes,je=0;je<Ye;++je)(dr=pt.getActiveAttrib(sr,je))&&dt(lr,new ur(dr.name,Zt.id(dr.name),pt.getAttribLocation(sr,dr.name),dr))}var Dt={},Rt={},Nt={},Bt=[],Xt=0;return mr.profile&&(Kt.getMaxUniformsCount=function(){var lr=0;return Bt.forEach(function(sr){sr.stats.uniformsCount>lr&&(lr=sr.stats.uniformsCount)}),lr},Kt.getMaxAttributesCount=function(){var lr=0;return Bt.forEach(function(sr){sr.stats.attributesCount>lr&&(lr=sr.stats.attributesCount)}),lr}),{clear:function(){var lr=pt.deleteShader.bind(pt);xe(Dt).forEach(lr),Dt={},xe(Rt).forEach(lr),Rt={},Bt.forEach(function(sr){pt.deleteProgram(sr.program)}),Bt.length=0,Nt={},Kt.shaderCount=0},program:function(lr,sr,dr,je){var Ye=Nt[sr];Ye||(Ye=Nt[sr]={});var It=Ye[lr];if(It&&(It.refCount++,!je))return It;var kt=new xt(sr,lr);return Kt.shaderCount++,Mt(kt,dr,je),It||(Ye[lr]=kt),Bt.push(kt),ie(kt,{destroy:function(){if(kt.refCount--,0>=kt.refCount){pt.deleteProgram(kt.program);var Yt=Bt.indexOf(kt);Bt.splice(Yt,1),Kt.shaderCount--}0>=Ye[kt.vertId].refCount&&(pt.deleteShader(Rt[kt.vertId]),delete Rt[kt.vertId],delete Nt[kt.fragId][kt.vertId]),Object.keys(Nt[kt.fragId]).length||(pt.deleteShader(Dt[kt.fragId]),delete Dt[kt.fragId],delete Nt[kt.fragId])}})},restore:function(){Dt={},Rt={};for(var lr=0;lr<Bt.length;++lr)Mt(Bt[lr],null,Bt[lr].attributes.map(function(sr){return[sr.location,sr.name]}))},shader:st,frag:-1,vert:-1}}function N(pt,Zt,Kt,mr,ur,dt,st){function xt(Dt){var Rt;Rt=Zt.next===null?5121:Zt.next.colorAttachments[0].texture._texture.type;var Nt=0,Bt=0,Xt=mr.framebufferWidth,lr=mr.framebufferHeight,sr=null;return Ce(Dt)?sr=Dt:Dt&&(Nt=Dt.x|0,Bt=Dt.y|0,Xt=(Dt.width||mr.framebufferWidth-Nt)|0,lr=(Dt.height||mr.framebufferHeight-Bt)|0,sr=Dt.data||null),Kt(),Dt=Xt*lr*4,sr||(Rt===5121?sr=new Uint8Array(Dt):Rt===5126&&(sr=sr||new Float32Array(Dt))),pt.pixelStorei(3333,4),pt.readPixels(Nt,Bt,Xt,lr,6408,Rt,sr),sr}function Mt(Dt){var Rt;return Zt.setFBO({framebuffer:Dt.framebuffer},function(){Rt=xt(Dt)}),Rt}return function(Dt){return Dt&&"framebuffer"in Dt?Mt(Dt):xt(Dt)}}function _(pt){for(var Zt=Array(pt.length>>2),mr=0;mr<Zt.length;mr++)Zt[mr]=0;for(mr=0;mr<8*pt.length;mr+=8)Zt[mr>>5]|=(pt.charCodeAt(mr/8)&255)<<24-mr%32;var Kt=8*pt.length;pt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var mr=Array(64),ur,dt,st,xt,Mt,Dt,Rt,Nt,Bt,Xt,lr;for(Zt[Kt>>5]|=128<<24-Kt%32,Zt[(Kt+64>>9<<4)+15]=Kt,Nt=0;Nt<Zt.length;Nt+=16){for(Kt=pt[0],ur=pt[1],dt=pt[2],st=pt[3],xt=pt[4],Mt=pt[5],Dt=pt[6],Rt=pt[7],Bt=0;64>Bt;Bt++){if(16>Bt)mr[Bt]=Zt[Bt+Nt];else{Xt=Bt,lr=mr[Bt-2],lr=K(lr,17)^K(lr,19)^lr>>>10,lr=re(lr,mr[Bt-7]);var sr;sr=mr[Bt-15],sr=K(sr,7)^K(sr,18)^sr>>>3,mr[Xt]=re(re(lr,sr),mr[Bt-16])}Xt=xt,Xt=K(Xt,6)^K(Xt,11)^K(Xt,25),Xt=re(re(re(re(Rt,Xt),xt&Mt^~xt&Dt),qe[Bt]),mr[Bt]),Rt=Kt,Rt=K(Rt,2)^K(Rt,13)^K(Rt,22),lr=re(Rt,Kt&ur^Kt&dt^ur&dt),Rt=Dt,Dt=Mt,Mt=xt,xt=re(st,Xt),st=dt,dt=ur,ur=Kt,Kt=re(Xt,lr)}pt[0]=re(Kt,pt[0]),pt[1]=re(ur,pt[1]),pt[2]=re(dt,pt[2]),pt[3]=re(st,pt[3]),pt[4]=re(xt,pt[4]),pt[5]=re(Mt,pt[5]),pt[6]=re(Dt,pt[6]),pt[7]=re(Rt,pt[7])}for(Zt="",mr=0;mr<32*pt.length;mr+=8)Zt+=String.fromCharCode(pt[mr>>5]>>>24-mr%32&255);return Zt}function U(pt){for(var Zt="",Kt,mr=0;mr<pt.length;mr++)Kt=pt.charCodeAt(mr),Zt+="0123456789abcdef".charAt(Kt>>>4&15)+"0123456789abcdef".charAt(Kt&15);return Zt}function Y(pt){for(var Zt="",Kt=-1,mr,ur;++Kt<pt.length;)mr=pt.charCodeAt(Kt),ur=Kt+1<pt.length?pt.charCodeAt(Kt+1):0,55296<=mr&&56319>=mr&&56320<=ur&&57343>=ur&&(mr=65536+((mr&1023)<<10)+(ur&1023),Kt++),127>=mr?Zt+=String.fromCharCode(mr):2047>=mr?Zt+=String.fromCharCode(192|mr>>>6&31,128|mr&63):65535>=mr?Zt+=String.fromCharCode(224|mr>>>12&15,128|mr>>>6&63,128|mr&63):2097151>=mr&&(Zt+=String.fromCharCode(240|mr>>>18&7,128|mr>>>12&63,128|mr>>>6&63,128|mr&63));return Zt}function K(pt,Zt){return pt>>>Zt|pt<<32-Zt}function re(pt,Zt){var Kt=(pt&65535)+(Zt&65535);return(pt>>16)+(Zt>>16)+(Kt>>16)<<16|Kt&65535}function ae(pt){return Array.prototype.slice.call(pt)}function fe(pt){return ae(pt).join("")}function Q(pt){function Zt(){var Rt=[],Nt=[];return ie(function(){Rt.push.apply(Rt,ae(arguments))},{def:function(){var Bt="v"+ur++;return Nt.push(Bt),0<arguments.length&&(Rt.push(Bt,"="),Rt.push.apply(Rt,ae(arguments)),Rt.push(";")),Bt},toString:function(){return fe([0<Nt.length?"var "+Nt.join(",")+";":"",fe(Rt)])}})}function Kt(){function Rt(sr,dr){Bt(sr,dr,"=",Nt.def(sr,dr),";")}var Nt=Zt(),Bt=Zt(),Xt=Nt.toString,lr=Bt.toString;return ie(function(){Nt.apply(Nt,ae(arguments))},{def:Nt.def,entry:Nt,exit:Bt,save:Rt,set:function(sr,dr,je){Rt(sr,dr),Nt(sr,dr,"=",je,";")},toString:function(){return Xt()+lr()}})}var mr=pt&&pt.cache,ur=0,dt=[],st=[],xt=[],Mt=Zt(),Dt={};return{global:Mt,link:function(Rt,Nt){var Bt=Nt&&Nt.stable;if(!Bt){for(var Xt=0;Xt<st.length;++Xt)if(st[Xt]===Rt&&!xt[Xt])return dt[Xt]}return Xt="g"+ur++,dt.push(Xt),st.push(Rt),xt.push(Bt),Xt},block:Zt,proc:function(Rt,Nt){function Bt(){var dr="a"+Xt.length;return Xt.push(dr),dr}var Xt=[];Nt=Nt||0;for(var lr=0;lr<Nt;++lr)Bt();var lr=Kt(),sr=lr.toString;return Dt[Rt]=ie(lr,{arg:Bt,toString:function(){return fe(["function(",Xt.join(),"){",sr(),"}"])}})},scope:Kt,cond:function(){var Rt=fe(arguments),Nt=Kt(),Bt=Kt(),Xt=Nt.toString,lr=Bt.toString;return ie(Nt,{then:function(){return Nt.apply(Nt,ae(arguments)),this},else:function(){return Bt.apply(Bt,ae(arguments)),this},toString:function(){var sr=lr();return sr&&(sr="else{"+sr+"}"),fe(["if(",Rt,"){",Xt(),"}",sr])}})},compile:function(){var Rt=['"use strict";',Mt,"return {"];Object.keys(Dt).forEach(function(Xt){Rt.push('"',Xt,'":',Dt[Xt].toString(),",")}),Rt.push("}");var Nt=fe(Rt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Bt;return mr&&(Bt=U(_(Y(Nt))),mr[Bt])?mr[Bt].apply(null,st):(Nt=Function.apply(null,dt.concat(Nt)),mr&&(mr[Bt]=Nt),Nt.apply(null,st))}}}function j(pt){return Array.isArray(pt)||Ce(pt)||f(pt)}function X(pt){return pt.sort(function(Zt,Kt){return Zt==="viewport"?-1:Kt==="viewport"?1:Zt<Kt?-1:1})}function J(pt,Zt,Kt,mr){this.thisDep=pt,this.contextDep=Zt,this.propDep=Kt,this.append=mr}function ee(pt){return pt&&!(pt.thisDep||pt.contextDep||pt.propDep)}function se(pt){return new J(!1,!1,!1,pt)}function q(pt,Zt){var Kt=pt.type;if(Kt===0)return Kt=pt.data.length,new J(!0,1<=Kt,2<=Kt,Zt);if(Kt===4)return Kt=pt.data,new J(Kt.thisDep,Kt.contextDep,Kt.propDep,Zt);if(Kt===5)return new J(!1,!1,!1,Zt);if(Kt===6){for(var mr=Kt=!1,ur=!1,dt=0;dt<pt.data.length;++dt){var st=pt.data[dt];st.type===1?ur=!0:st.type===2?mr=!0:st.type===3?Kt=!0:st.type===0?(Kt=!0,st=st.data,1<=st&&(mr=!0),2<=st&&(ur=!0)):st.type===4&&(Kt=Kt||st.data.thisDep,mr=mr||st.data.contextDep,ur=ur||st.data.propDep)}return new J(Kt,mr,ur,Zt)}return new J(Kt===3,Kt===2,Kt===1,Zt)}function $(pt,Zt,Kt,mr,ur,dt,st,xt,Mt,Dt,Rt,Nt,Bt,Xt,lr,sr){function dr(jt){return jt.replace(".","_")}function je(jt,wr,en){var un=dr(jt);Sn.push(jt),Hn[un]=yn[un]=!!en,En[un]=wr}function Ye(jt,wr,en){var un=dr(jt);Sn.push(jt),Array.isArray(en)?(yn[un]=en.slice(),Hn[un]=en.slice()):yn[un]=Hn[un]=en,Nn[un]=wr}function It(){var jt=Q({cache:lr}),wr=jt.link,en=jt.global;jt.id=Wa++,jt.batchId="0";var un=wr(ea),cn=jt.shared={props:"a0"};Object.keys(ea).forEach(function(Lr){cn[Lr]=en.def(un,".",Lr)});var Dn=jt.next={},Mn=jt.current={};Object.keys(Nn).forEach(function(Lr){Array.isArray(yn[Lr])&&(Dn[Lr]=en.def(cn.next,".",Lr),Mn[Lr]=en.def(cn.current,".",Lr))});var vn=jt.constants={};Object.keys(xa).forEach(function(Lr){vn[Lr]=en.def(JSON.stringify(xa[Lr]))}),jt.invoke=function(Lr,zr){switch(zr.type){case 0:var dn=["this",cn.context,cn.props,jt.batchId];return Lr.def(wr(zr.data),".call(",dn.slice(0,Math.max(zr.data.length+1,4)),")");case 1:return Lr.def(cn.props,zr.data);case 2:return Lr.def(cn.context,zr.data);case 3:return Lr.def("this",zr.data);case 4:return zr.data.append(jt,Lr),zr.data.ref;case 5:return zr.data.toString();case 6:return zr.data.map(function(_n){return jt.invoke(Lr,_n)})}},jt.attribCache={};var Dr={};return jt.scopeAttrib=function(Lr){if(Lr=Zt.id(Lr),Lr in Dr)return Dr[Lr];var zr=Dt.scope[Lr];return zr||(zr=Dt.scope[Lr]=new Wn),Dr[Lr]=wr(zr)},jt}function kt(jt){var wr=jt.static;jt=jt.dynamic;var en;if("profile"in wr){var un=!!wr.profile;en=se(function(Dn,Mn){return un}),en.enable=un}else if("profile"in jt){var cn=jt.profile;en=q(cn,function(Dn,Mn){return Dn.invoke(Mn,cn)})}return en}function Yt(jt,wr){var en=jt.static,un=jt.dynamic;if("framebuffer"in en){var cn=en.framebuffer;return cn?(cn=xt.getFramebuffer(cn),se(function(Mn,vn){var Dr=Mn.link(cn),Lr=Mn.shared;return vn.set(Lr.framebuffer,".next",Dr),Lr=Lr.context,vn.set(Lr,".framebufferWidth",Dr+".width"),vn.set(Lr,".framebufferHeight",Dr+".height"),Dr})):se(function(Mn,vn){var Dr=Mn.shared;return vn.set(Dr.framebuffer,".next","null"),Dr=Dr.context,vn.set(Dr,".framebufferWidth",Dr+".drawingBufferWidth"),vn.set(Dr,".framebufferHeight",Dr+".drawingBufferHeight"),"null"})}if("framebuffer"in un){var Dn=un.framebuffer;return q(Dn,function(Mn,vn){var zr=Mn.invoke(vn,Dn),Dr=Mn.shared,Lr=Dr.framebuffer,zr=vn.def(Lr,".getFramebuffer(",zr,")");return vn.set(Lr,".next",zr),Dr=Dr.context,vn.set(Dr,".framebufferWidth",zr+"?"+zr+".width:"+Dr+".drawingBufferWidth"),vn.set(Dr,".framebufferHeight",zr+"?"+zr+".height:"+Dr+".drawingBufferHeight"),zr})}return null}function tr(jt,wr,en){function un(vn){if(vn in cn){var Dr=cn[vn];vn=!0;var Lr=Dr.x|0,zr=Dr.y|0,dn,_n;return"width"in Dr?dn=Dr.width|0:vn=!1,"height"in Dr?_n=Dr.height|0:vn=!1,new J(!vn&&wr&&wr.thisDep,!vn&&wr&&wr.contextDep,!vn&&wr&&wr.propDep,function(xn,Bn){var na=xn.shared.context,ua=dn;"width"in Dr||(ua=Bn.def(na,".","framebufferWidth","-",Lr));var sa=_n;return"height"in Dr||(sa=Bn.def(na,".","framebufferHeight","-",zr)),[Lr,zr,ua,sa]})}if(vn in Dn){var Zn=Dn[vn];return vn=q(Zn,function(xn,Bn){var pa=xn.invoke(Bn,Zn),na=xn.shared.context,ua=Bn.def(pa,".x|0"),sa=Bn.def(pa,".y|0"),la=Bn.def('"width" in ',pa,"?",pa,".width|0:","(",na,".","framebufferWidth","-",ua,")"),pa=Bn.def('"height" in ',pa,"?",pa,".height|0:","(",na,".","framebufferHeight","-",sa,")");return[ua,sa,la,pa]}),wr&&(vn.thisDep=vn.thisDep||wr.thisDep,vn.contextDep=vn.contextDep||wr.contextDep,vn.propDep=vn.propDep||wr.propDep),vn}return wr?new J(wr.thisDep,wr.contextDep,wr.propDep,function(xn,Bn){var na=xn.shared.context;return[0,0,Bn.def(na,".","framebufferWidth"),Bn.def(na,".","framebufferHeight")]}):null}var cn=jt.static,Dn=jt.dynamic;if(jt=un("viewport")){var Mn=jt;jt=new J(jt.thisDep,jt.contextDep,jt.propDep,function(vn,Dr){var Lr=Mn.append(vn,Dr),zr=vn.shared.context;return Dr.set(zr,".viewportWidth",Lr[2]),Dr.set(zr,".viewportHeight",Lr[3]),Lr})}return{viewport:jt,scissor_box:un("scissor.box")}}function or(jt,wr){var en=jt.static;if(typeof en.frag=="string"&&typeof en.vert=="string"){if(0<Object.keys(wr.dynamic).length)return null;var en=wr.static,un=Object.keys(en);if(0<un.length&&typeof en[un[0]]=="number"){for(var cn=[],Dn=0;Dn<un.length;++Dn)cn.push([en[un[Dn]]|0,un[Dn]]);return cn}}return null}function rr(jt,wr,en){function un(Lr){if(Lr in cn){var zr=Zt.id(cn[Lr]);return Lr=se(function(){return zr}),Lr.id=zr,Lr}if(Lr in Dn){var dn=Dn[Lr];return q(dn,function(_n,Zn){var xn=_n.invoke(Zn,dn);return Zn.def(_n.shared.strings,".id(",xn,")")})}return null}var cn=jt.static,Dn=jt.dynamic,Mn=un("frag"),vn=un("vert"),Dr=null;return ee(Mn)&&ee(vn)?(Dr=Rt.program(vn.id,Mn.id,null,en),jt=se(function(Lr,zr){return Lr.link(Dr)})):jt=new J(Mn&&Mn.thisDep||vn&&vn.thisDep,Mn&&Mn.contextDep||vn&&vn.contextDep,Mn&&Mn.propDep||vn&&vn.propDep,function(Lr,zr){var dn=Lr.shared.shader,_n;_n=Mn?Mn.append(Lr,zr):zr.def(dn,".","frag");var Zn;return Zn=vn?vn.append(Lr,zr):zr.def(dn,".","vert"),zr.def(dn+".program("+Zn+","+_n+")")}),{frag:Mn,vert:vn,progVar:jt,program:Dr}}function _t(jt,wr){function en(xn,Bn){if(xn in un){var na=un[xn]|0;return Bn?Dn.offset=na:Dn.instances=na,se(function(sa,la){return Bn&&(sa.OFFSET=na),na})}if(xn in cn){var ua=cn[xn];return q(ua,function(sa,la){var pa=sa.invoke(la,ua);return Bn&&(sa.OFFSET=pa),pa})}if(Bn){if(Dr)return se(function(sa,la){return sa.OFFSET=0});if(Mn)return new J(vn.thisDep,vn.contextDep,vn.propDep,function(sa,la){return la.def(sa.shared.vao+".currentVAO?"+sa.shared.vao+".currentVAO.offset:0")})}else if(Mn)return new J(vn.thisDep,vn.contextDep,vn.propDep,function(sa,la){return la.def(sa.shared.vao+".currentVAO?"+sa.shared.vao+".currentVAO.instances:-1")});return null}var un=jt.static,cn=jt.dynamic,Dn={},Mn=!1,vn=function(){if("vao"in un){var xn=un.vao;return xn!==null&&Dt.getVAO(xn)===null&&(xn=Dt.createVAO(xn)),Mn=!0,Dn.vao=xn,se(function(na){var ua=Dt.getVAO(xn);return ua?na.link(ua):"null"})}if("vao"in cn){Mn=!0;var Bn=cn.vao;return q(Bn,function(na,ua){var sa=na.invoke(ua,Bn);return ua.def(na.shared.vao+".getVAO("+sa+")")})}return null}(),Dr=!1,Lr=function(){if("elements"in un){var xn=un.elements;if(Dn.elements=xn,j(xn)){var Bn=Dn.elements=dt.create(xn,!0),xn=dt.getElements(Bn);Dr=!0}else xn&&(xn=dt.getElements(xn),Dr=!0);return Bn=se(function(ua,sa){if(xn){var la=ua.link(xn);return ua.ELEMENTS=la}return ua.ELEMENTS=null}),Bn.value=xn,Bn}if("elements"in cn){Dr=!0;var na=cn.elements;return q(na,function(ua,sa){var la=ua.shared,Ki=la.isBufferArgs,la=la.elements,co=ua.invoke(sa,na),pa=sa.def("null"),Ki=sa.def(Ki,"(",co,")"),co=ua.cond(Ki).then(pa,"=",la,".createStream(",co,");").else(pa,"=",la,".getElements(",co,");");return sa.entry(co),sa.exit(ua.cond(Ki).then(la,".destroyStream(",pa,");")),ua.ELEMENTS=pa})}return Mn?new J(vn.thisDep,vn.contextDep,vn.propDep,function(ua,sa){return sa.def(ua.shared.vao+".currentVAO?"+ua.shared.elements+".getElements("+ua.shared.vao+".currentVAO.elements):null")}):null}(),zr=en("offset",!0),dn=function(){if("primitive"in un){var xn=un.primitive;return Dn.primitive=xn,se(function(na,ua){return tt[xn]})}if("primitive"in cn){var Bn=cn.primitive;return q(Bn,function(na,ua){var sa=na.constants.primTypes,la=na.invoke(ua,Bn);return ua.def(sa,"[",la,"]")})}return Dr?ee(Lr)?Lr.value?se(function(na,ua){return ua.def(na.ELEMENTS,".primType")}):se(function(){return 4}):new J(Lr.thisDep,Lr.contextDep,Lr.propDep,function(na,ua){var sa=na.ELEMENTS;return ua.def(sa,"?",sa,".primType:",4)}):Mn?new J(vn.thisDep,vn.contextDep,vn.propDep,function(na,ua){return ua.def(na.shared.vao+".currentVAO?"+na.shared.vao+".currentVAO.primitive:4")}):null}(),_n=function(){if("count"in un){var xn=un.count|0;return Dn.count=xn,se(function(){return xn})}if("count"in cn){var Bn=cn.count;return q(Bn,function(na,ua){return na.invoke(ua,Bn)})}return Dr?ee(Lr)?Lr?zr?new J(zr.thisDep,zr.contextDep,zr.propDep,function(na,ua){return ua.def(na.ELEMENTS,".vertCount-",na.OFFSET)}):se(function(na,ua){return ua.def(na.ELEMENTS,".vertCount")}):se(function(){return-1}):new J(Lr.thisDep||zr.thisDep,Lr.contextDep||zr.contextDep,Lr.propDep||zr.propDep,function(na,ua){var sa=na.ELEMENTS;return na.OFFSET?ua.def(sa,"?",sa,".vertCount-",na.OFFSET,":-1"):ua.def(sa,"?",sa,".vertCount:-1")}):Mn?new J(vn.thisDep,vn.contextDep,vn.propDep,function(na,ua){return ua.def(na.shared.vao,".currentVAO?",na.shared.vao,".currentVAO.count:-1")}):null}(),Zn=en("instances",!1);return{elements:Lr,primitive:dn,count:_n,instances:Zn,offset:zr,vao:vn,vaoActive:Mn,elementsActive:Dr,static:Dn}}function hr(jt,wr){var en=jt.static,un=jt.dynamic,cn={};return Sn.forEach(function(Dn){function Mn(Dr,Lr){if(Dn in en){var zr=Dr(en[Dn]);cn[vn]=se(function(){return zr})}else if(Dn in un){var dn=un[Dn];cn[vn]=q(dn,function(_n,Zn){return Lr(_n,Zn,_n.invoke(Zn,dn))})}}var vn=dr(Dn);switch(Dn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return Mn(function(Dr){return Dr},function(Dr,Lr,zr){return zr});case"depth.func":return Mn(function(Dr){return qt[Dr]},function(Dr,Lr,zr){return Lr.def(Dr.constants.compareFuncs,"[",zr,"]")});case"depth.range":return Mn(function(Dr){return Dr},function(Dr,Lr,zr){return Dr=Lr.def("+",zr,"[0]"),Lr=Lr.def("+",zr,"[1]"),[Dr,Lr]});case"blend.func":return Mn(function(Dr){return[Wt["srcRGB"in Dr?Dr.srcRGB:Dr.src],Wt["dstRGB"in Dr?Dr.dstRGB:Dr.dst],Wt["srcAlpha"in Dr?Dr.srcAlpha:Dr.src],Wt["dstAlpha"in Dr?Dr.dstAlpha:Dr.dst]]},function(Dr,Lr,zr){function dn(Bn,na){return Lr.def('"',Bn,na,'" in ',zr,"?",zr,".",Bn,na,":",zr,".",Bn)}Dr=Dr.constants.blendFuncs;var _n=dn("src","RGB"),xn=dn("dst","RGB"),_n=Lr.def(Dr,"[",_n,"]"),Zn=Lr.def(Dr,"[",dn("src","Alpha"),"]"),xn=Lr.def(Dr,"[",xn,"]");return Dr=Lr.def(Dr,"[",dn("dst","Alpha"),"]"),[_n,xn,Zn,Dr]});case"blend.equation":return Mn(function(Dr){if(typeof Dr=="string")return[Qn[Dr],Qn[Dr]];if(typeof Dr=="object")return[Qn[Dr.rgb],Qn[Dr.alpha]]},function(Dr,Lr,zr){var dn=Dr.constants.blendEquations,_n=Lr.def(),Zn=Lr.def();return Dr=Dr.cond("typeof ",zr,'==="string"'),Dr.then(_n,"=",Zn,"=",dn,"[",zr,"];"),Dr.else(_n,"=",dn,"[",zr,".rgb];",Zn,"=",dn,"[",zr,".alpha];"),Lr(Dr),[_n,Zn]});case"blend.color":return Mn(function(Dr){return s(4,function(Lr){return+Dr[Lr]})},function(Dr,Lr,zr){return s(4,function(dn){return Lr.def("+",zr,"[",dn,"]")})});case"stencil.mask":return Mn(function(Dr){return Dr|0},function(Dr,Lr,zr){return Lr.def(zr,"|0")});case"stencil.func":return Mn(function(Dr){return[qt[Dr.cmp||"keep"],Dr.ref||0,"mask"in Dr?Dr.mask:-1]},function(Dr,Lr,zr){Dr=Lr.def('"cmp" in ',zr,"?",Dr.constants.compareFuncs,"[",zr,".cmp]",":",7680);var dn=Lr.def(zr,".ref|0");return Lr=Lr.def('"mask" in ',zr,"?",zr,".mask|0:-1"),[Dr,dn,Lr]});case"stencil.opFront":case"stencil.opBack":return Mn(function(Dr){return[Dn==="stencil.opBack"?1029:1028,At[Dr.fail||"keep"],At[Dr.zfail||"keep"],At[Dr.zpass||"keep"]]},function(Dr,Lr,zr){function dn(Zn){return Lr.def('"',Zn,'" in ',zr,"?",_n,"[",zr,".",Zn,"]:",7680)}var _n=Dr.constants.stencilOps;return[Dn==="stencil.opBack"?1029:1028,dn("fail"),dn("zfail"),dn("zpass")]});case"polygonOffset.offset":return Mn(function(Dr){return[Dr.factor|0,Dr.units|0]},function(Dr,Lr,zr){return Dr=Lr.def(zr,".factor|0"),Lr=Lr.def(zr,".units|0"),[Dr,Lr]});case"cull.face":return Mn(function(Dr){var Lr=0;return Dr==="front"?Lr=1028:Dr==="back"&&(Lr=1029),Lr},function(Dr,Lr,zr){return Lr.def(zr,'==="front"?',1028,":",1029)});case"lineWidth":return Mn(function(Dr){return Dr},function(Dr,Lr,zr){return zr});case"frontFace":return Mn(function(Dr){return zt[Dr]},function(Dr,Lr,zr){return Lr.def(zr+'==="cw"?2304:2305')});case"colorMask":return Mn(function(Dr){return Dr.map(function(Lr){return!!Lr})},function(Dr,Lr,zr){return s(4,function(dn){return"!!"+zr+"["+dn+"]"})});case"sample.coverage":return Mn(function(Dr){return["value"in Dr?Dr.value:1,!!Dr.invert]},function(Dr,Lr,zr){return Dr=Lr.def('"value" in ',zr,"?+",zr,".value:1"),Lr=Lr.def("!!",zr,".invert"),[Dr,Lr]})}}),cn}function gr(jt,wr){var en=jt.static,un=jt.dynamic,cn={};return Object.keys(en).forEach(function(Dn){var Mn=en[Dn],vn;if(typeof Mn=="number"||typeof Mn=="boolean")vn=se(function(){return Mn});else if(typeof Mn=="function"){var Dr=Mn._reglType;Dr==="texture2d"||Dr==="textureCube"?vn=se(function(Lr){return Lr.link(Mn)}):(Dr==="framebuffer"||Dr==="framebufferCube")&&(vn=se(function(Lr){return Lr.link(Mn.color[0])}))}else T(Mn)&&(vn=se(function(Lr){return Lr.global.def("[",s(Mn.length,function(zr){return Mn[zr]}),"]")}));vn.value=Mn,cn[Dn]=vn}),Object.keys(un).forEach(function(Dn){var Mn=un[Dn];cn[Dn]=q(Mn,function(vn,Dr){return vn.invoke(Dr,Mn)})}),cn}function pr(jt,wr){var en=jt.static,un=jt.dynamic,cn={};return Object.keys(en).forEach(function(Dn){var Mn=en[Dn],vn=Zt.id(Dn),Dr=new Wn;if(j(Mn))Dr.state=1,Dr.buffer=ur.getBuffer(ur.create(Mn,34962,!1,!0)),Dr.type=0;else{var Lr=ur.getBuffer(Mn);if(Lr)Dr.state=1,Dr.buffer=Lr,Dr.type=0;else if("constant"in Mn){var zr=Mn.constant;Dr.buffer="null",Dr.state=2,typeof zr=="number"?Dr.x=zr:vt.forEach(function(na,ua){ua<zr.length&&(Dr[na]=zr[ua])})}else{var Lr=j(Mn.buffer)?ur.getBuffer(ur.create(Mn.buffer,34962,!1,!0)):ur.getBuffer(Mn.buffer),dn=Mn.offset|0,_n=Mn.stride|0,Zn=Mn.size|0,xn=!!Mn.normalized,Bn=0;"type"in Mn&&(Bn=Ge[Mn.type]),Mn=Mn.divisor|0,Dr.buffer=Lr,Dr.state=1,Dr.size=Zn,Dr.normalized=xn,Dr.type=Bn||Lr.dtype,Dr.offset=dn,Dr.stride=_n,Dr.divisor=Mn}}cn[Dn]=se(function(na,ua){var sa=na.attribCache;if(vn in sa)return sa[vn];var la={isStream:!1};return Object.keys(Dr).forEach(function(pa){la[pa]=Dr[pa]}),Dr.buffer&&(la.buffer=na.link(Dr.buffer),la.type=la.type||la.buffer+".dtype"),sa[vn]=la})}),Object.keys(un).forEach(function(Dn){var Mn=un[Dn];cn[Dn]=q(Mn,function(vn,Dr){function Lr(sa){Dr(xn[sa],"=",zr,".",sa,"|0;")}var zr=vn.invoke(Dr,Mn),Zn=vn.shared,dn=vn.constants,_n=Zn.isBufferArgs,Zn=Zn.buffer,xn={isStream:Dr.def(!1)},Bn=new Wn;Bn.state=1,Object.keys(Bn).forEach(function(sa){xn[sa]=Dr.def(""+Bn[sa])});var na=xn.buffer,ua=xn.type;return Dr("if(",_n,"(",zr,")){",xn.isStream,"=true;",na,"=",Zn,".createStream(",34962,",",zr,");",ua,"=",na,".dtype;","}else{",na,"=",Zn,".getBuffer(",zr,");","if(",na,"){",ua,"=",na,".dtype;",'}else if("constant" in ',zr,"){",xn.state,"=",2,";","if(typeof "+zr+'.constant === "number"){',xn[vt[0]],"=",zr,".constant;",vt.slice(1).map(function(sa){return xn[sa]}).join("="),"=0;","}else{",vt.map(function(sa,la){return xn[sa]+"="+zr+".constant.length>"+la+"?"+zr+".constant["+la+"]:0;"}).join(""),"}}else{","if(",_n,"(",zr,".buffer)){",na,"=",Zn,".createStream(",34962,",",zr,".buffer);","}else{",na,"=",Zn,".getBuffer(",zr,".buffer);","}",ua,'="type" in ',zr,"?",dn.glTypes,"[",zr,".type]:",na,".dtype;",xn.normalized,"=!!",zr,".normalized;"),Lr("size"),Lr("offset"),Lr("stride"),Lr("divisor"),Dr("}}"),Dr.exit("if(",xn.isStream,"){",Zn,".destroyStream(",na,");","}"),xn})}),cn}function vr(jt){var wr=jt.static,en=jt.dynamic,un={};return Object.keys(wr).forEach(function(cn){var Dn=wr[cn];un[cn]=se(function(Mn,vn){return typeof Dn=="number"||typeof Dn=="boolean"?""+Dn:Mn.link(Dn)})}),Object.keys(en).forEach(function(cn){var Dn=en[cn];un[cn]=q(Dn,function(Mn,vn){return Mn.invoke(vn,Dn)})}),un}function Hr(jt,wr,en,un,cn){function Dn(Bn){var na=vn[Bn];na&&(Lr[Bn]=na)}var Mn=or(jt,wr),_n=Yt(jt),vn=tr(jt,_n),Dr=_t(jt),Lr=hr(jt),zr=rr(jt,cn,Mn);Dn("viewport"),Dn(dr("scissor.box"));var dn=0<Object.keys(Lr).length,_n={framebuffer:_n,draw:Dr,shader:zr,state:Lr,dirty:dn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(_n.profile=kt(jt),_n.uniforms=gr(en),_n.drawVAO=_n.scopeVAO=Dr.vao,!_n.drawVAO&&zr.program&&!Mn&&Kt.angle_instanced_arrays&&Dr.static.elements){var Zn=!0;if(jt=zr.program.attributes.map(function(Bn){return Bn=wr.static[Bn],Zn=Zn&&!!Bn,Bn}),Zn&&0<jt.length){var xn=Dt.getVAO(Dt.createVAO({attributes:jt,elements:Dr.static.elements}));_n.drawVAO=new J(null,null,null,function(Bn,na){return Bn.link(xn)}),_n.useVAO=!0}}return Mn?_n.useVAO=!0:_n.attributes=pr(wr),_n.context=vr(un),_n}function kr(jt,wr,en){var un=jt.shared.context,cn=jt.scope();Object.keys(en).forEach(function(Dn){wr.save(un,"."+Dn);var Mn=en[Dn].append(jt,wr);Array.isArray(Mn)?cn(un,".",Dn,"=[",Mn.join(),"];"):cn(un,".",Dn,"=",Mn,";")}),wr(cn)}function Fr(jt,wr,en,un){var vn=jt.shared,cn=vn.gl,Dn=vn.framebuffer,Mn;sn&&(Mn=wr.def(vn.extensions,".webgl_draw_buffers"));var Dr=jt.constants,vn=Dr.drawBuffer,Dr=Dr.backBuffer;jt=en?en.append(jt,wr):wr.def(Dn,".next"),un||wr("if(",jt,"!==",Dn,".cur){"),wr("if(",jt,"){",cn,".bindFramebuffer(",36160,",",jt,".framebuffer);"),sn&&wr(Mn,".drawBuffersWEBGL(",vn,"[",jt,".colorAttachments.length]);"),wr("}else{",cn,".bindFramebuffer(",36160,",null);"),sn&&wr(Mn,".drawBuffersWEBGL(",Dr,");"),wr("}",Dn,".cur=",jt,";"),un||wr("}")}function pn(jt,wr,en){var un=jt.shared,cn=un.gl,Dn=jt.current,Mn=jt.next,vn=un.current,Dr=un.next,Lr=jt.cond(vn,".dirty");Sn.forEach(function(zr){if(zr=dr(zr),!(zr in en.state)){var dn,_n;if(zr in Mn){dn=Mn[zr],_n=Dn[zr];var Zn=s(yn[zr].length,function(xn){return Lr.def(dn,"[",xn,"]")});Lr(jt.cond(Zn.map(function(xn,Bn){return xn+"!=="+_n+"["+Bn+"]"}).join("||")).then(cn,".",Nn[zr],"(",Zn,");",Zn.map(function(xn,Bn){return _n+"["+Bn+"]="+xn}).join(";"),";"))}else dn=Lr.def(Dr,".",zr),Zn=jt.cond(dn,"!==",vn,".",zr),Lr(Zn),zr in En?Zn(jt.cond(dn).then(cn,".enable(",En[zr],");").else(cn,".disable(",En[zr],");"),vn,".",zr,"=",dn,";"):Zn(cn,".",Nn[zr],"(",dn,");",vn,".",zr,"=",dn,";")}}),Object.keys(en.state).length===0&&Lr(vn,".dirty=false;"),wr(Lr)}function qr(jt,wr,en,un){var cn=jt.shared,Dn=jt.current,Mn=cn.current,vn=cn.gl,Dr;X(Object.keys(en)).forEach(function(Lr){var zr=en[Lr];if(!un||un(zr)){var dn=zr.append(jt,wr);if(En[Lr]){var _n=En[Lr];ee(zr)?(Dr=jt.link(dn,{stable:!0}),wr(jt.cond(Dr).then(vn,".enable(",_n,");").else(vn,".disable(",_n,");")),wr(Mn,".",Lr,"=",Dr,";")):(wr(jt.cond(dn).then(vn,".enable(",_n,");").else(vn,".disable(",_n,");")),wr(Mn,".",Lr,"=",dn,";"))}else if(T(dn)){var Zn=Dn[Lr];wr(vn,".",Nn[Lr],"(",dn,");",dn.map(function(xn,Bn){return Zn+"["+Bn+"]="+xn}).join(";"),";")}else ee(zr)?(Dr=jt.link(dn,{stable:!0}),wr(vn,".",Nn[Lr],"(",Dr,");",Mn,".",Lr,"=",Dr,";")):wr(vn,".",Nn[Lr],"(",dn,");",Mn,".",Lr,"=",dn,";")}})}function On(jt,wr){Tr&&(jt.instancing=wr.def(jt.shared.extensions,".angle_instanced_arrays"))}function Tn(jt,wr,en,un,cn){function Dn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function Mn(Bn){Zn=wr.def(),Bn(Zn,"=",Dn(),";"),typeof cn=="string"?Bn(zr,".count+=",cn,";"):Bn(zr,".count++;"),Xt&&(un?(xn=wr.def(),Bn(xn,"=",_n,".getNumPendingQueries();")):Bn(_n,".beginQuery(",zr,");"))}function vn(Bn){Bn(zr,".cpuTime+=",Dn(),"-",Zn,";"),Xt&&(un?Bn(_n,".pushScopeStats(",xn,",",_n,".getNumPendingQueries(),",zr,");"):Bn(_n,".endQuery();"))}function Dr(Bn){var na=wr.def(dn,".profile");wr(dn,".profile=",Bn,";"),wr.exit(dn,".profile=",na,";")}var Lr=jt.shared,zr=jt.stats,dn=Lr.current,_n=Lr.timer;en=en.profile;var Zn,xn;if(en){if(ee(en)){en.enable?(Mn(wr),vn(wr.exit),Dr("true")):Dr("false");return}en=en.append(jt,wr),Dr(en)}else en=wr.def(dn,".profile");Lr=jt.block(),Mn(Lr),wr("if(",en,"){",Lr,"}"),jt=jt.block(),vn(jt),wr.exit("if(",en,"){",jt,"}")}function Sr(jt,wr,en,un,cn){function Dn(Dr){switch(Dr){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function Mn(Dr,Lr,zr){function dn(){wr("if(!",Bn,".buffer){",Zn,".enableVertexAttribArray(",xn,");}");var la=zr.type,pa;pa=zr.size?wr.def(zr.size,"||",Lr):Lr,wr("if(",Bn,".type!==",la,"||",Bn,".size!==",pa,"||",sa.map(function(Ki){return Bn+"."+Ki+"!=="+zr[Ki]}).join("||"),"){",Zn,".bindBuffer(",34962,",",na,".buffer);",Zn,".vertexAttribPointer(",[xn,pa,la,zr.normalized,zr.stride,zr.offset],");",Bn,".type=",la,";",Bn,".size=",pa,";",sa.map(function(Ki){return Bn+"."+Ki+"="+zr[Ki]+";"}).join(""),"}"),Tr&&(la=zr.divisor,wr("if(",Bn,".divisor!==",la,"){",jt.instancing,".vertexAttribDivisorANGLE(",[xn,la],");",Bn,".divisor=",la,";}"))}function _n(){wr("if(",Bn,".buffer){",Zn,".disableVertexAttribArray(",xn,");",Bn,".buffer=null;","}if(",vt.map(function(la,pa){return Bn+"."+la+"!=="+ua[pa]}).join("||"),"){",Zn,".vertexAttrib4f(",xn,",",ua,");",vt.map(function(la,pa){return Bn+"."+la+"="+ua[pa]+";"}).join(""),"}")}var Zn=vn.gl,xn=wr.def(Dr,".location"),Bn=wr.def(vn.attributes,"[",xn,"]");Dr=zr.state;var na=zr.buffer,ua=[zr.x,zr.y,zr.z,zr.w],sa=["buffer","normalized","offset","stride"];Dr===1?dn():Dr===2?_n():(wr("if(",Dr,"===",1,"){"),dn(),wr("}else{"),_n(),wr("}"))}var vn=jt.shared;un.forEach(function(Dr){var Lr=Dr.name,zr=en.attributes[Lr],dn;if(zr){if(!cn(zr))return;dn=zr.append(jt,wr)}else{if(!cn(Jt))return;var _n=jt.scopeAttrib(Lr);dn={},Object.keys(new Wn).forEach(function(Zn){dn[Zn]=wr.def(_n,".",Zn)})}Mn(jt.link(Dr),Dn(Dr.info.type),dn)})}function Er(jt,wr,en,un,cn,Dn){for(var Mn=jt.shared,vn=Mn.gl,Dr,Lr=0;Lr<un.length;++Lr){var Zn=un[Lr],zr=Zn.name,dn=Zn.info.type,_n=en.uniforms[zr],Zn=jt.link(Zn)+".location",xn;if(_n){if(!cn(_n))continue;if(ee(_n)){if(zr=_n.value,dn===35678||dn===35680)dn=jt.link(zr._texture||zr.color[0]._texture),wr(vn,".uniform1i(",Zn,",",dn+".bind());"),wr.exit(dn,".unbind();");else if(dn===35674||dn===35675||dn===35676)zr=jt.global.def("new Float32Array(["+Array.prototype.slice.call(zr)+"])"),_n=2,dn===35675?_n=3:dn===35676&&(_n=4),wr(vn,".uniformMatrix",_n,"fv(",Zn,",false,",zr,");");else{switch(dn){case 5126:Dr="1f";break;case 35664:Dr="2f";break;case 35665:Dr="3f";break;case 35666:Dr="4f";break;case 35670:Dr="1i";break;case 5124:Dr="1i";break;case 35671:Dr="2i";break;case 35667:Dr="2i";break;case 35672:Dr="3i";break;case 35668:Dr="3i";break;case 35673:Dr="4i";break;case 35669:Dr="4i"}wr(vn,".uniform",Dr,"(",Zn,",",T(zr)?Array.prototype.slice.call(zr):zr,");")}continue}else xn=_n.append(jt,wr)}else{if(!cn(Jt))continue;xn=wr.def(Mn.uniforms,"[",Zt.id(zr),"]")}switch(dn===35678?wr("if(",xn,"&&",xn,'._reglType==="framebuffer"){',xn,"=",xn,".color[0];","}"):dn===35680&&wr("if(",xn,"&&",xn,'._reglType==="framebufferCube"){',xn,"=",xn,".color[0];","}"),zr=1,dn){case 35678:case 35680:dn=wr.def(xn,"._texture"),wr(vn,".uniform1i(",Zn,",",dn,".bind());"),wr.exit(dn,".unbind();");continue;case 5124:case 35670:Dr="1i";break;case 35667:case 35671:Dr="2i",zr=2;break;case 35668:case 35672:Dr="3i",zr=3;break;case 35669:case 35673:Dr="4i",zr=4;break;case 5126:Dr="1f";break;case 35664:Dr="2f",zr=2;break;case 35665:Dr="3f",zr=3;break;case 35666:Dr="4f",zr=4;break;case 35674:Dr="Matrix2fv";break;case 35675:Dr="Matrix3fv";break;case 35676:Dr="Matrix4fv"}if(Dr.charAt(0)==="M"){wr(vn,".uniform",Dr,"(",Zn,",");var Zn=Math.pow(dn-35674+2,2),Bn=jt.global.def("new Float32Array(",Zn,")");Array.isArray(xn)?wr("false,(",s(Zn,function(sa){return Bn+"["+sa+"]="+xn[sa]}),",",Bn,")"):wr("false,(Array.isArray(",xn,")||",xn," instanceof Float32Array)?",xn,":(",s(Zn,function(sa){return Bn+"["+sa+"]="+xn+"["+sa+"]"}),",",Bn,")"),wr(");")}else{if(1<zr){for(var dn=[],na=[],_n=0;_n<zr;++_n)Array.isArray(xn)?na.push(xn[_n]):na.push(wr.def(xn+"["+_n+"]")),Dn&&dn.push(wr.def());Dn&&wr("if(!",jt.batchId,"||",dn.map(function(ua,sa){return ua+"!=="+na[sa]}).join("||"),"){",dn.map(function(ua,sa){return ua+"="+na[sa]+";"}).join("")),wr(vn,".uniform",Dr,"(",Zn,",",na.join(","),");")}else Dn&&(dn=wr.def(),wr("if(!",jt.batchId,"||",dn,"!==",xn,"){",dn,"=",xn,";")),wr(vn,".uniform",Dr,"(",Zn,",",xn,");");Dn&&wr("}")}}}function Gr(jt,wr,en,un){function cn(la){var pa=zr[la];return pa?pa.contextDep&&un.contextDynamic||pa.propDep?pa.append(jt,en):pa.append(jt,wr):wr.def(Lr,".",la)}function Dn(){function la(){en(na,".drawElementsInstancedANGLE(",[_n,xn,ua,Zn+"<<(("+ua+"-5121)>>1)",Bn],");")}function pa(){en(na,".drawArraysInstancedANGLE(",[_n,Zn,xn,Bn],");")}dn&&dn!=="null"?sa?la():(en("if(",dn,"){"),la(),en("}else{"),pa(),en("}")):pa()}function Mn(){function la(){en(Dr+".drawElements("+[_n,xn,ua,Zn+"<<(("+ua+"-5121)>>1)"]+");")}function pa(){en(Dr+".drawArrays("+[_n,Zn,xn]+");")}dn&&dn!=="null"?sa?la():(en("if(",dn,"){"),la(),en("}else{"),pa(),en("}")):pa()}var vn=jt.shared,Dr=vn.gl,Lr=vn.draw,zr=un.draw,dn=function(){var la=zr.elements,pa=wr;return la?((la.contextDep&&un.contextDynamic||la.propDep)&&(pa=en),la=la.append(jt,pa),zr.elementsActive&&pa("if("+la+")"+Dr+".bindBuffer(34963,"+la+".buffer.buffer);")):(la=pa.def(),pa(la,"=",Lr,".","elements",";","if(",la,"){",Dr,".bindBuffer(",34963,",",la,".buffer.buffer);}","else if(",vn.vao,".currentVAO){",la,"=",jt.shared.elements+".getElements("+vn.vao,".currentVAO.elements);",tn?"":"if("+la+")"+Dr+".bindBuffer(34963,"+la+".buffer.buffer);","}")),la}(),_n=cn("primitive"),Zn=cn("offset"),xn=function(){var la=zr.count,pa=wr;return la?((la.contextDep&&un.contextDynamic||la.propDep)&&(pa=en),la=la.append(jt,pa)):la=pa.def(Lr,".","count"),la}();if(typeof xn=="number"){if(xn===0)return}else en("if(",xn,"){"),en.exit("}");var Bn,na;Tr&&(Bn=cn("instances"),na=jt.instancing);var ua=dn+".type",sa=zr.elements&&ee(zr.elements)&&!zr.vaoActive;Tr&&(typeof Bn!="number"||0<=Bn)?typeof Bn=="string"?(en("if(",Bn,">0){"),Dn(),en("}else if(",Bn,"<0){"),Mn(),en("}")):Dn():Mn()}function Br(jt,wr,en,un,cn){return wr=It(),cn=wr.proc("body",cn),Tr&&(wr.instancing=cn.def(wr.shared.extensions,".angle_instanced_arrays")),jt(wr,cn,en,un),wr.compile().body}function nn(jt,wr,en,un){On(jt,wr),en.useVAO?en.drawVAO?wr(jt.shared.vao,".setVAO(",en.drawVAO.append(jt,wr),");"):wr(jt.shared.vao,".setVAO(",jt.shared.vao,".targetVAO);"):(wr(jt.shared.vao,".setVAO(null);"),Sr(jt,wr,en,un.attributes,function(){return!0})),Er(jt,wr,en,un.uniforms,function(){return!0},!1),Gr(jt,wr,wr,en)}function gn(jt,wr){var en=jt.proc("draw",1);On(jt,en),kr(jt,en,wr.context),Fr(jt,en,wr.framebuffer),pn(jt,en,wr),qr(jt,en,wr.state),Tn(jt,en,wr,!1,!0);var un=wr.shader.progVar.append(jt,en);if(en(jt.shared.gl,".useProgram(",un,".program);"),wr.shader.program)nn(jt,en,wr,wr.shader.program);else{en(jt.shared.vao,".setVAO(null);");var cn=jt.global.def("{}"),Dn=en.def(un,".id"),Mn=en.def(cn,"[",Dn,"]");en(jt.cond(Mn).then(Mn,".call(this,a0);").else(Mn,"=",cn,"[",Dn,"]=",jt.link(function(vn){return Br(nn,jt,wr,vn,1)}),"(",un,");",Mn,".call(this,a0);"))}0<Object.keys(wr.state).length&&en(jt.shared.current,".dirty=true;"),jt.shared.vao&&en(jt.shared.vao,".setVAO(null);")}function mn(jt,wr,en,un){function cn(){return!0}jt.batchId="a1",On(jt,wr),Sr(jt,wr,en,un.attributes,cn),Er(jt,wr,en,un.uniforms,cn,!1),Gr(jt,wr,wr,en)}function Pn(jt,wr,en,un){function cn(dn){return dn.contextDep&&Mn||dn.propDep}function Dn(dn){return!cn(dn)}On(jt,wr);var Mn=en.contextDep,vn=wr.def(),Dr=wr.def();jt.shared.props=Dr,jt.batchId=vn;var Lr=jt.scope(),zr=jt.scope();wr(Lr.entry,"for(",vn,"=0;",vn,"<","a1",";++",vn,"){",Dr,"=","a0","[",vn,"];",zr,"}",Lr.exit),en.needsContext&&kr(jt,zr,en.context),en.needsFramebuffer&&Fr(jt,zr,en.framebuffer),qr(jt,zr,en.state,cn),en.profile&&cn(en.profile)&&Tn(jt,zr,en,!1,!0),un?(en.useVAO?en.drawVAO?cn(en.drawVAO)?zr(jt.shared.vao,".setVAO(",en.drawVAO.append(jt,zr),");"):Lr(jt.shared.vao,".setVAO(",en.drawVAO.append(jt,Lr),");"):Lr(jt.shared.vao,".setVAO(",jt.shared.vao,".targetVAO);"):(Lr(jt.shared.vao,".setVAO(null);"),Sr(jt,Lr,en,un.attributes,Dn),Sr(jt,zr,en,un.attributes,cn)),Er(jt,Lr,en,un.uniforms,Dn,!1),Er(jt,zr,en,un.uniforms,cn,!0),Gr(jt,Lr,zr,en)):(wr=jt.global.def("{}"),un=en.shader.progVar.append(jt,zr),Dr=zr.def(un,".id"),Lr=zr.def(wr,"[",Dr,"]"),zr(jt.shared.gl,".useProgram(",un,".program);","if(!",Lr,"){",Lr,"=",wr,"[",Dr,"]=",jt.link(function(dn){return Br(mn,jt,en,dn,2)}),"(",un,");}",Lr,".call(this,a0[",vn,"],",vn,");"))}function Fn(jt,wr){function en(Lr){return Lr.contextDep&&cn||Lr.propDep}var un=jt.proc("batch",2);jt.batchId="0",On(jt,un);var cn=!1,Dn=!0;Object.keys(wr.context).forEach(function(Lr){cn=cn||wr.context[Lr].propDep}),cn||(kr(jt,un,wr.context),Dn=!1);var Mn=wr.framebuffer,vn=!1;if(Mn?(Mn.propDep?cn=vn=!0:Mn.contextDep&&cn&&(vn=!0),vn||Fr(jt,un,Mn)):Fr(jt,un,null),wr.state.viewport&&wr.state.viewport.propDep&&(cn=!0),pn(jt,un,wr),qr(jt,un,wr.state,function(Lr){return!en(Lr)}),wr.profile&&en(wr.profile)||Tn(jt,un,wr,!1,"a1"),wr.contextDep=cn,wr.needsContext=Dn,wr.needsFramebuffer=vn,Dn=wr.shader.progVar,Dn.contextDep&&cn||Dn.propDep)Pn(jt,un,wr,null);else if(Dn=Dn.append(jt,un),un(jt.shared.gl,".useProgram(",Dn,".program);"),wr.shader.program)Pn(jt,un,wr,wr.shader.program);else{un(jt.shared.vao,".setVAO(null);");var Mn=jt.global.def("{}"),vn=un.def(Dn,".id"),Dr=un.def(Mn,"[",vn,"]");un(jt.cond(Dr).then(Dr,".call(this,a0,a1);").else(Dr,"=",Mn,"[",vn,"]=",jt.link(function(dn){return Br(Pn,jt,wr,dn,2)}),"(",Dn,");",Dr,".call(this,a0,a1);"))}0<Object.keys(wr.state).length&&un(jt.shared.current,".dirty=true;"),jt.shared.vao&&un(jt.shared.vao,".setVAO(null);")}function ia(jt,wr){function en(vn){var Dr=wr.shader[vn];Dr&&(Dr=Dr.append(jt,un),isNaN(Dr)?un.set(cn.shader,"."+vn,Dr):un.set(cn.shader,"."+vn,jt.link(Dr,{stable:!0})))}var un=jt.proc("scope",3);jt.batchId="a2";var cn=jt.shared,Dn=cn.current;if(kr(jt,un,wr.context),wr.framebuffer&&wr.framebuffer.append(jt,un),X(Object.keys(wr.state)).forEach(function(vn){var Dr=wr.state[vn],Lr=Dr.append(jt,un);T(Lr)?Lr.forEach(function(zr,dn){isNaN(zr)?un.set(jt.next[vn],"["+dn+"]",zr):un.set(jt.next[vn],"["+dn+"]",jt.link(zr,{stable:!0}))}):ee(Dr)?un.set(cn.next,"."+vn,jt.link(Lr,{stable:!0})):un.set(cn.next,"."+vn,Lr)}),Tn(jt,un,wr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(vn){var Dr=wr.draw[vn];Dr&&(Dr=Dr.append(jt,un),isNaN(Dr)?un.set(cn.draw,"."+vn,Dr):un.set(cn.draw,"."+vn,jt.link(Dr),{stable:!0}))}),Object.keys(wr.uniforms).forEach(function(vn){var Dr=wr.uniforms[vn].append(jt,un);Array.isArray(Dr)&&(Dr="["+Dr.map(function(Lr){return isNaN(Lr)?Lr:jt.link(Lr,{stable:!0})})+"]"),un.set(cn.uniforms,"["+jt.link(Zt.id(vn),{stable:!0})+"]",Dr)}),Object.keys(wr.attributes).forEach(function(vn){var Dr=wr.attributes[vn].append(jt,un),Lr=jt.scopeAttrib(vn);Object.keys(new Wn).forEach(function(zr){un.set(Lr,"."+zr,Dr[zr])})}),wr.scopeVAO){var Mn=wr.scopeVAO.append(jt,un);isNaN(Mn)?un.set(cn.vao,".targetVAO",Mn):un.set(cn.vao,".targetVAO",jt.link(Mn,{stable:!0}))}en("vert"),en("frag"),0<Object.keys(wr.state).length&&(un(Dn,".dirty=true;"),un.exit(Dn,".dirty=true;")),un("a1(",jt.shared.context,",a0,",jt.batchId,");")}function jn(jt){if(typeof jt=="object"&&!T(jt)){for(var wr=Object.keys(jt),en=0;en<wr.length;++en)if(me.isDynamic(jt[wr[en]]))return!0;return!1}}function $n(jt,wr,en){function un(dn,_n){Mn.forEach(function(Zn){var xn=cn[Zn];me.isDynamic(xn)&&(xn=dn.invoke(_n,xn),_n(zr,".",Zn,"=",xn,";"))})}var cn=wr.static[en];if(cn&&jn(cn)){var Dn=jt.global,Mn=Object.keys(cn),vn=!1,Dr=!1,Lr=!1,zr=jt.global.def("{}");Mn.forEach(function(dn){var _n=cn[dn];if(me.isDynamic(_n))typeof _n=="function"&&(_n=cn[dn]=me.unbox(_n)),dn=q(_n,null),vn=vn||dn.thisDep,Lr=Lr||dn.propDep,Dr=Dr||dn.contextDep;else{switch(Dn(zr,".",dn,"="),typeof _n){case"number":Dn(_n);break;case"string":Dn('"',_n,'"');break;case"object":Array.isArray(_n)&&Dn("[",_n.join(),"]");break;default:Dn(jt.link(_n))}Dn(";")}}),wr.dynamic[en]=new me.DynamicVariable(4,{thisDep:vn,contextDep:Dr,propDep:Lr,ref:zr,append:un}),delete wr.static[en]}}var Wn=Dt.Record,Qn={add:32774,subtract:32778,"reverse subtract":32779};Kt.ext_blend_minmax&&(Qn.min=32775,Qn.max=32776);var Tr=Kt.angle_instanced_arrays,sn=Kt.webgl_draw_buffers,tn=Kt.oes_vertex_array_object,yn={dirty:!0,profile:sr.profile},Hn={},Sn=[],En={},Nn={};je("dither",3024),je("blend.enable",3042),Ye("blend.color","blendColor",[0,0,0,0]),Ye("blend.equation","blendEquationSeparate",[32774,32774]),Ye("blend.func","blendFuncSeparate",[1,0,1,0]),je("depth.enable",2929,!0),Ye("depth.func","depthFunc",513),Ye("depth.range","depthRange",[0,1]),Ye("depth.mask","depthMask",!0),Ye("colorMask","colorMask",[!0,!0,!0,!0]),je("cull.enable",2884),Ye("cull.face","cullFace",1029),Ye("frontFace","frontFace",2305),Ye("lineWidth","lineWidth",1),je("polygonOffset.enable",32823),Ye("polygonOffset.offset","polygonOffset",[0,0]),je("sample.alpha",32926),je("sample.enable",32928),Ye("sample.coverage","sampleCoverage",[1,!1]),je("stencil.enable",2960),Ye("stencil.mask","stencilMask",-1),Ye("stencil.func","stencilFunc",[519,0,-1]),Ye("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Ye("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),je("scissor.enable",3089),Ye("scissor.box","scissor",[0,0,pt.drawingBufferWidth,pt.drawingBufferHeight]),Ye("viewport","viewport",[0,0,pt.drawingBufferWidth,pt.drawingBufferHeight]);var ea={gl:pt,context:Bt,strings:Zt,next:Hn,current:yn,draw:Nt,elements:dt,buffer:ur,shader:Rt,attributes:Dt.state,vao:Dt,uniforms:Mt,framebuffer:xt,extensions:Kt,timer:Xt,isBufferArgs:j},xa={primTypes:tt,compareFuncs:qt,blendFuncs:Wt,blendEquations:Qn,stencilOps:At,glTypes:Ge,orientationType:zt};sn&&(xa.backBuffer=[1029],xa.drawBuffer=s(mr.maxDrawbuffers,function(jt){return jt===0?[0]:s(jt,function(wr){return 36064+wr})}));var Wa=0;return{next:Hn,current:yn,procs:function(){var jt=It(),wr=jt.proc("poll"),en=jt.proc("refresh"),un=jt.block();wr(un),en(un);var Dr=jt.shared,cn=Dr.gl,Dn=Dr.next,Mn=Dr.current;un(Mn,".dirty=false;"),Fr(jt,wr),Fr(jt,en,null,!0);var vn;Tr&&(vn=jt.link(Tr)),Kt.oes_vertex_array_object&&en(jt.link(Kt.oes_vertex_array_object),".bindVertexArrayOES(null);");var Dr=en.def(Dr.attributes),Lr=en.def(0),zr=jt.cond(Lr,".buffer");zr.then(cn,".enableVertexAttribArray(i);",cn,".bindBuffer(",34962,",",Lr,".buffer.buffer);",cn,".vertexAttribPointer(i,",Lr,".size,",Lr,".type,",Lr,".normalized,",Lr,".stride,",Lr,".offset);").else(cn,".disableVertexAttribArray(i);",cn,".vertexAttrib4f(i,",Lr,".x,",Lr,".y,",Lr,".z,",Lr,".w);",Lr,".buffer=null;");var dn=jt.link(mr.maxAttributes,{stable:!0});return en("for(var i=0;i<",dn,";++i){",Lr,"=",Dr,"[i];",zr,"}"),Tr&&en("for(var i=0;i<",dn,";++i){",vn,".vertexAttribDivisorANGLE(i,",Dr,"[i].divisor);","}"),en(jt.shared.vao,".currentVAO=null;",jt.shared.vao,".setVAO(",jt.shared.vao,".targetVAO);"),Object.keys(En).forEach(function(_n){var Zn=En[_n],xn=un.def(Dn,".",_n),Bn=jt.block();Bn("if(",xn,"){",cn,".enable(",Zn,")}else{",cn,".disable(",Zn,")}",Mn,".",_n,"=",xn,";"),en(Bn),wr("if(",xn,"!==",Mn,".",_n,"){",Bn,"}")}),Object.keys(Nn).forEach(function(_n){var Zn=Nn[_n],xn=yn[_n],Bn,na,ua=jt.block();ua(cn,".",Zn,"("),T(xn)?(Zn=xn.length,Bn=jt.global.def(Dn,".",_n),na=jt.global.def(Mn,".",_n),ua(s(Zn,function(sa){return Bn+"["+sa+"]"}),");",s(Zn,function(sa){return na+"["+sa+"]="+Bn+"["+sa+"];"}).join("")),wr("if(",s(Zn,function(sa){return Bn+"["+sa+"]!=="+na+"["+sa+"]"}).join("||"),"){",ua,"}")):(Bn=un.def(Dn,".",_n),na=un.def(Mn,".",_n),ua(Bn,");",Mn,".",_n,"=",Bn,";"),wr("if(",Bn,"!==",na,"){",ua,"}")),en(ua)}),jt.compile()}(),compile:function(jt,wr,en,un,cn){var Dn=It();Dn.stats=Dn.link(cn),Object.keys(wr.static).forEach(function(vn){$n(Dn,wr,vn)}),bt.forEach(function(vn){$n(Dn,jt,vn)});var Mn=Hr(jt,wr,en,un,Dn);return Mn.shader.program&&(Mn.shader.program.attributes.sort(function(vn,Dr){return vn.name<Dr.name?-1:1}),Mn.shader.program.uniforms.sort(function(vn,Dr){return vn.name<Dr.name?-1:1})),gn(Dn,Mn),ia(Dn,Mn),Fn(Dn,Mn),ie(Dn.compile(),{destroy:function(){Mn.shader.program.destroy()}})}}}function le(pt,Zt){for(var Kt=0;Kt<pt.length;++Kt)if(pt[Kt]===Zt)return Kt;return-1}var ie=function(pt,Zt){for(var Kt=Object.keys(Zt),mr=0;mr<Kt.length;++mr)pt[Kt[mr]]=Zt[Kt[mr]];return pt},ce=0,me={DynamicVariable:H,define:function(pt,Zt){return new H(pt,g(Zt+""))},isDynamic:function(pt){return typeof pt=="function"&&!pt._reglType||pt instanceof H},unbox:P,accessor:g},Me={next:typeof requestAnimationFrame=="function"?function(pt){return requestAnimationFrame(pt)}:function(pt){return setTimeout(pt,16)},cancel:typeof cancelAnimationFrame=="function"?function(pt){return cancelAnimationFrame(pt)}:clearTimeout},we=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},Oe=l();Oe.zero=l();var Be=function(pt,Zt){var Kt=1;Zt.ext_texture_filter_anisotropic&&(Kt=pt.getParameter(34047));var mr=1,ur=1;Zt.webgl_draw_buffers&&(mr=pt.getParameter(34852),ur=pt.getParameter(36063));var dt=!!Zt.oes_texture_float;if(dt){dt=pt.createTexture(),pt.bindTexture(3553,dt),pt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var st=pt.createFramebuffer();if(pt.bindFramebuffer(36160,st),pt.framebufferTexture2D(36160,36064,3553,dt,0),pt.bindTexture(3553,null),pt.checkFramebufferStatus(36160)!==36053)dt=!1;else{pt.viewport(0,0,1,1),pt.clearColor(1,0,0,1),pt.clear(16384);var xt=Oe.allocType(5126,4);pt.readPixels(0,0,1,1,6408,5126,xt),pt.getError()?dt=!1:(pt.deleteFramebuffer(st),pt.deleteTexture(dt),dt=xt[0]===1),Oe.freeType(xt)}}return xt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(xt=pt.createTexture(),st=Oe.allocType(5121,36),pt.activeTexture(33984),pt.bindTexture(34067,xt),pt.texImage2D(34069,0,6408,3,3,0,6408,5121,st),Oe.freeType(st),pt.bindTexture(34067,null),pt.deleteTexture(xt),xt=!pt.getError()),{colorBits:[pt.getParameter(3410),pt.getParameter(3411),pt.getParameter(3412),pt.getParameter(3413)],depthBits:pt.getParameter(3414),stencilBits:pt.getParameter(3415),subpixelBits:pt.getParameter(3408),extensions:Object.keys(Zt).filter(function(Mt){return!!Zt[Mt]}),maxAnisotropic:Kt,maxDrawbuffers:mr,maxColorAttachments:ur,pointSizeDims:pt.getParameter(33901),lineWidthDims:pt.getParameter(33902),maxViewportDims:pt.getParameter(3386),maxCombinedTextureUnits:pt.getParameter(35661),maxCubeMapSize:pt.getParameter(34076),maxRenderbufferSize:pt.getParameter(34024),maxTextureUnits:pt.getParameter(34930),maxTextureSize:pt.getParameter(3379),maxAttributes:pt.getParameter(34921),maxVertexUniforms:pt.getParameter(36347),maxVertexTextureUnits:pt.getParameter(35660),maxVaryingVectors:pt.getParameter(36348),maxFragmentUniforms:pt.getParameter(36349),glsl:pt.getParameter(35724),renderer:pt.getParameter(7937),vendor:pt.getParameter(7936),version:pt.getParameter(7938),readFloat:dt,npotTextureCube:xt}},Ce=function(pt){return pt instanceof Uint8Array||pt instanceof Uint16Array||pt instanceof Uint32Array||pt instanceof Int8Array||pt instanceof Int16Array||pt instanceof Int32Array||pt instanceof Float32Array||pt instanceof Float64Array||pt instanceof Uint8ClampedArray},xe=function(pt){return Object.keys(pt).map(function(Zt){return pt[Zt]})},Se={shape:function(pt){for(var Zt=[];pt.length;pt=pt[0])Zt.push(pt.length);return Zt},flatten:function(pt,Zt,Kt,mr){var ur=1;if(Zt.length)for(var dt=0;dt<Zt.length;++dt)ur*=Zt[dt];else ur=0;switch(Kt=mr||Oe.allocType(Kt,ur),Zt.length){case 0:break;case 1:for(mr=Zt[0],Zt=0;Zt<mr;++Zt)Kt[Zt]=pt[Zt];break;case 2:for(mr=Zt[0],Zt=Zt[1],dt=ur=0;dt<mr;++dt)for(var st=pt[dt],xt=0;xt<Zt;++xt)Kt[ur++]=st[xt];break;case 3:u(pt,Zt[0],Zt[1],Zt[2],Kt,0);break;default:m(pt,Zt,0,Kt,0)}return Kt}},He={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ge={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},ke={dynamic:35048,stream:35040,static:35044},We=Se.flatten,it=Se.shape,et=[];et[5120]=1,et[5122]=2,et[5124]=4,et[5121]=1,et[5123]=2,et[5125]=4,et[5126]=4;var tt={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},at=new Float32Array(1),ht=new Uint32Array(at.buffer),yt=[9984,9986,9985,9987],gt=[0,6409,6410,6407,6408],Et={};Et[6409]=Et[6406]=Et[6402]=1,Et[34041]=Et[6410]=2,Et[6407]=Et[35904]=3,Et[6408]=Et[35906]=4;var Ct=E("HTMLCanvasElement"),Vt=E("OffscreenCanvas"),Qe=E("CanvasRenderingContext2D"),Fe=E("ImageBitmap"),Ie=E("HTMLImageElement"),ze=E("HTMLVideoElement"),Re=Object.keys(He).concat([Ct,Vt,Qe,Fe,Ie,ze]),be=[];be[5121]=1,be[5126]=4,be[36193]=2,be[5123]=2,be[5125]=4;var ye=[];ye[32854]=2,ye[32855]=2,ye[36194]=2,ye[34041]=4,ye[33776]=.5,ye[33777]=.5,ye[33778]=1,ye[33779]=1,ye[35986]=.5,ye[35987]=1,ye[34798]=1,ye[35840]=.5,ye[35841]=.25,ye[35842]=.5,ye[35843]=.25,ye[36196]=.5;var Ae=[];Ae[32854]=2,Ae[32855]=2,Ae[36194]=2,Ae[33189]=2,Ae[36168]=1,Ae[34041]=4,Ae[35907]=4,Ae[34836]=16,Ae[34842]=8,Ae[34843]=6;var Ee=function(pt,Zt,Kt,mr,ur){function dt(Nt){this.id=Dt++,this.refCount=1,this.renderbuffer=Nt,this.format=32854,this.height=this.width=0,ur.profile&&(this.stats={size:0})}function st(Nt){var Bt=Nt.renderbuffer;pt.bindRenderbuffer(36161,null),pt.deleteRenderbuffer(Bt),Nt.renderbuffer=null,Nt.refCount=0,delete Rt[Nt.id],mr.renderbufferCount--}var xt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Zt.ext_srgb&&(xt.srgba=35907),Zt.ext_color_buffer_half_float&&(xt.rgba16f=34842,xt.rgb16f=34843),Zt.webgl_color_buffer_float&&(xt.rgba32f=34836);var Mt=[];Object.keys(xt).forEach(function(Nt){Mt[xt[Nt]]=Nt});var Dt=0,Rt={};return dt.prototype.decRef=function(){0>=--this.refCount&&st(this)},ur.profile&&(mr.getTotalRenderbufferSize=function(){var Nt=0;return Object.keys(Rt).forEach(function(Bt){Nt+=Rt[Bt].stats.size}),Nt}),{create:function(Nt,Bt){function Xt(sr,dr){var je=0,Ye=0,It=32854;if(typeof sr=="object"&&sr?("shape"in sr?(Ye=sr.shape,je=Ye[0]|0,Ye=Ye[1]|0):("radius"in sr&&(je=Ye=sr.radius|0),"width"in sr&&(je=sr.width|0),"height"in sr&&(Ye=sr.height|0)),"format"in sr&&(It=xt[sr.format])):typeof sr=="number"?(je=sr|0,Ye=typeof dr=="number"?dr|0:je):sr||(je=Ye=1),je!==lr.width||Ye!==lr.height||It!==lr.format)return Xt.width=lr.width=je,Xt.height=lr.height=Ye,lr.format=It,pt.bindRenderbuffer(36161,lr.renderbuffer),pt.renderbufferStorage(36161,It,je,Ye),ur.profile&&(lr.stats.size=Ae[lr.format]*lr.width*lr.height),Xt.format=Mt[lr.format],Xt}var lr=new dt(pt.createRenderbuffer());return Rt[lr.id]=lr,mr.renderbufferCount++,Xt(Nt,Bt),Xt.resize=function(sr,dr){var je=sr|0,Ye=dr|0||je;return je===lr.width&&Ye===lr.height||(Xt.width=lr.width=je,Xt.height=lr.height=Ye,pt.bindRenderbuffer(36161,lr.renderbuffer),pt.renderbufferStorage(36161,lr.format,je,Ye),ur.profile&&(lr.stats.size=Ae[lr.format]*lr.width*lr.height)),Xt},Xt._reglType="renderbuffer",Xt._renderbuffer=lr,ur.profile&&(Xt.stats=lr.stats),Xt.destroy=function(){lr.decRef()},Xt},clear:function(){xe(Rt).forEach(st)},restore:function(){xe(Rt).forEach(function(Nt){Nt.renderbuffer=pt.createRenderbuffer(),pt.bindRenderbuffer(36161,Nt.renderbuffer),pt.renderbufferStorage(36161,Nt.format,Nt.width,Nt.height)}),pt.bindRenderbuffer(36161,null)}}},Ne=[];Ne[6408]=4,Ne[6407]=3;var Je=[];Je[5121]=1,Je[5126]=4,Je[36193]=2;var qe=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],vt=["x","y","z","w"],bt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Wt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},qt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},At={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},zt={cw:2304,ccw:2305},Jt=new J(!1,!1,!1,function(){}),Mr=function(pt,Zt){function Kt(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function mr(Rt,Nt,Bt){var Xt=st.pop()||new Kt;Xt.startQueryIndex=Rt,Xt.endQueryIndex=Nt,Xt.sum=0,Xt.stats=Bt,xt.push(Xt)}if(!Zt.ext_disjoint_timer_query)return null;var ur=[],dt=[],st=[],xt=[],Mt=[],Dt=[];return{beginQuery:function(Rt){var Nt=ur.pop()||Zt.ext_disjoint_timer_query.createQueryEXT();Zt.ext_disjoint_timer_query.beginQueryEXT(35007,Nt),dt.push(Nt),mr(dt.length-1,dt.length,Rt)},endQuery:function(){Zt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:mr,update:function(){var Rt,Nt;if(Rt=dt.length,Rt!==0){Dt.length=Math.max(Dt.length,Rt+1),Mt.length=Math.max(Mt.length,Rt+1),Mt[0]=0;var Bt=Dt[0]=0;for(Nt=Rt=0;Nt<dt.length;++Nt){var Xt=dt[Nt];Zt.ext_disjoint_timer_query.getQueryObjectEXT(Xt,34919)?(Bt+=Zt.ext_disjoint_timer_query.getQueryObjectEXT(Xt,34918),ur.push(Xt)):dt[Rt++]=Xt,Mt[Nt+1]=Bt,Dt[Nt+1]=Rt}for(dt.length=Rt,Nt=Rt=0;Nt<xt.length;++Nt){var Bt=xt[Nt],lr=Bt.startQueryIndex,Xt=Bt.endQueryIndex;Bt.sum+=Mt[Xt]-Mt[lr],lr=Dt[lr],Xt=Dt[Xt],Xt===lr?(Bt.stats.gpuTime+=Bt.sum/1e6,st.push(Bt)):(Bt.startQueryIndex=lr,Bt.endQueryIndex=Xt,xt[Rt++]=Bt)}xt.length=Rt}},getNumPendingQueries:function(){return dt.length},clear:function(){ur.push.apply(ur,dt);for(var Rt=0;Rt<ur.length;Rt++)Zt.ext_disjoint_timer_query.deleteQueryEXT(ur[Rt]);dt.length=0,ur.length=0},restore:function(){dt.length=0,ur.length=0}}};return function(pt){function Zt(){if(Tn.length===0)It&&It.update(),Br=null;else{Br=Me.next(Zt),Rt();for(var gn=Tn.length-1;0<=gn;--gn){var mn=Tn[gn];mn&&mn(tr,null,0)}Xt.flush(),It&&It.update()}}function Kt(){!Br&&0<Tn.length&&(Br=Me.next(Zt))}function mr(){Br&&(Me.cancel(Zt),Br=null)}function ur(gn){gn.preventDefault(),mr(),Sr.forEach(function(mn){mn()})}function dt(gn){Xt.getError(),sr.restore(),pr.restore(),_t.restore(),vr.restore(),Hr.restore(),kr.restore(),gr.restore(),It&&It.restore(),Fr.procs.refresh(),Kt(),Er.forEach(function(mn){mn()})}function st(gn){function mn(yn,Hn){var Sn={},En={};return Object.keys(yn).forEach(function(Nn){var ea=yn[Nn];if(me.isDynamic(ea))En[Nn]=me.unbox(ea,Nn);else{if(Hn&&Array.isArray(ea)){for(var xa=0;xa<ea.length;++xa)if(me.isDynamic(ea[xa])){En[Nn]=me.unbox(ea,Nn);return}}Sn[Nn]=ea}}),{dynamic:En,static:Sn}}function Pn(yn){for(;tn.length<yn;)tn.push(null);return tn}var Fn=mn(gn.context||{},!0),ia=mn(gn.uniforms||{},!0),jn=mn(gn.attributes||{},!1);gn=mn(function(yn){function Hn(En){if(En in Sn){var Nn=Sn[En];delete Sn[En],Object.keys(Nn).forEach(function(ea){Sn[En+"."+ea]=Nn[ea]})}}var Sn=ie({},yn);return delete Sn.uniforms,delete Sn.attributes,delete Sn.context,delete Sn.vao,"stencil"in Sn&&Sn.stencil.op&&(Sn.stencil.opBack=Sn.stencil.opFront=Sn.stencil.op,delete Sn.stencil.op),Hn("blend"),Hn("depth"),Hn("cull"),Hn("stencil"),Hn("polygonOffset"),Hn("scissor"),Hn("sample"),"vao"in yn&&(Sn.vao=yn.vao),Sn}(gn),!1);var $n={gpuTime:0,cpuTime:0,count:0},Wn=Fr.compile(gn,jn,ia,Fn,$n),Qn=Wn.draw,Tr=Wn.batch,sn=Wn.scope,tn=[];return ie(function(yn,Hn){var Sn;if(typeof yn=="function")return sn.call(this,null,yn,0);if(typeof Hn=="function")if(typeof yn=="number")for(Sn=0;Sn<yn;++Sn)sn.call(this,null,Hn,Sn);else if(Array.isArray(yn))for(Sn=0;Sn<yn.length;++Sn)sn.call(this,yn[Sn],Hn,Sn);else return sn.call(this,yn,Hn,0);else if(typeof yn=="number"){if(0<yn)return Tr.call(this,Pn(yn|0),yn|0)}else if(Array.isArray(yn)){if(yn.length)return Tr.call(this,yn,yn.length)}else return Qn.call(this,yn)},{stats:$n,destroy:function(){Wn.destroy()}})}function xt(gn,mn){var Pn=0;Fr.procs.poll();var Fn=mn.color;Fn&&(Xt.clearColor(+Fn[0]||0,+Fn[1]||0,+Fn[2]||0,+Fn[3]||0),Pn|=16384),"depth"in mn&&(Xt.clearDepth(+mn.depth),Pn|=256),"stencil"in mn&&(Xt.clearStencil(mn.stencil|0),Pn|=1024),Xt.clear(Pn)}function Mt(gn){return Tn.push(gn),Kt(),{cancel:function(){function mn(){var Fn=le(Tn,mn);Tn[Fn]=Tn[Tn.length-1],--Tn.length,0>=Tn.length&&mr()}var Pn=le(Tn,gn);Tn[Pn]=mn}}}function Dt(){var gn=qr.viewport,mn=qr.scissor_box;gn[0]=gn[1]=mn[0]=mn[1]=0,tr.viewportWidth=tr.framebufferWidth=tr.drawingBufferWidth=gn[2]=mn[2]=Xt.drawingBufferWidth,tr.viewportHeight=tr.framebufferHeight=tr.drawingBufferHeight=gn[3]=mn[3]=Xt.drawingBufferHeight}function Rt(){tr.tick+=1,tr.time=Bt(),Dt(),Fr.procs.poll()}function Nt(){vr.refresh(),Dt(),Fr.procs.refresh(),It&&It.update()}function Bt(){return(we()-kt)/1e3}if(pt=t(pt),!pt)return null;var Xt=pt.gl,lr=Xt.getContextAttributes();Xt.isContextLost();var sr=r(Xt,pt);if(!sr)return null;var pn=i(),dr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},je=pt.cachedCode||{},Ye=sr.extensions,It=Mr(Xt,Ye),kt=we(),or=Xt.drawingBufferWidth,Yt=Xt.drawingBufferHeight,tr={tick:0,time:0,viewportWidth:or,viewportHeight:Yt,framebufferWidth:or,framebufferHeight:Yt,drawingBufferWidth:or,drawingBufferHeight:Yt,pixelRatio:pt.pixelRatio},or={elements:null,primitive:4,count:-1,offset:0,instances:-1},rr=Be(Xt,Ye),_t=o(Xt,dr,pt,function(gn){return gr.destroyBuffer(gn)}),hr=d(Xt,Ye,_t,dr),gr=F(Xt,Ye,rr,dr,_t,hr,or),pr=O(Xt,pn,dr,pt),vr=z(Xt,Ye,rr,function(){Fr.procs.poll()},tr,dr,pt),Hr=Ee(Xt,Ye,rr,dr,pt),kr=I(Xt,Ye,rr,vr,Hr,dr),Fr=$(Xt,pn,Ye,rr,_t,hr,vr,kr,{},gr,pr,or,tr,It,je,pt),pn=N(Xt,kr,Fr.procs.poll,tr),qr=Fr.next,On=Xt.canvas,Tn=[],Sr=[],Er=[],Gr=[pt.onDestroy],Br=null;On&&(On.addEventListener("webglcontextlost",ur,!1),On.addEventListener("webglcontextrestored",dt,!1));var nn=kr.setFBO=st({framebuffer:me.define.call(null,1,"framebuffer")});return Nt(),lr=ie(st,{clear:function(gn){if("framebuffer"in gn)if(gn.framebuffer&&gn.framebuffer_reglType==="framebufferCube")for(var mn=0;6>mn;++mn)nn(ie({framebuffer:gn.framebuffer.faces[mn]},gn),xt);else nn(gn,xt);else xt(null,gn)},prop:me.define.bind(null,1),context:me.define.bind(null,2),this:me.define.bind(null,3),draw:st({}),buffer:function(gn){return _t.create(gn,34962,!1,!1)},elements:function(gn){return hr.create(gn,!1)},texture:vr.create2D,cube:vr.createCube,renderbuffer:Hr.create,framebuffer:kr.create,framebufferCube:kr.createCube,vao:gr.createVAO,attributes:lr,frame:Mt,on:function(gn,mn){var Pn;switch(gn){case"frame":return Mt(mn);case"lost":Pn=Sr;break;case"restore":Pn=Er;break;case"destroy":Pn=Gr}return Pn.push(mn),{cancel:function(){for(var Fn=0;Fn<Pn.length;++Fn)if(Pn[Fn]===mn){Pn[Fn]=Pn[Pn.length-1],Pn.pop();break}}}},limits:rr,hasExtension:function(gn){return 0<=rr.extensions.indexOf(gn.toLowerCase())},read:pn,destroy:function(){Tn.length=0,mr(),On&&(On.removeEventListener("webglcontextlost",ur),On.removeEventListener("webglcontextrestored",dt)),pr.clear(),kr.clear(),Hr.clear(),gr.clear(),vr.clear(),hr.clear(),_t.clear(),It&&It.clear(),Gr.forEach(function(gn){gn()})},_gl:Xt,_refresh:Nt,poll:function(){Rt(),It&&It.update()},now:Bt,stats:dr,getCachedCode:function(){return je},preloadCachedCode:function(gn){Object.entries(gn).forEach(function(mn){je[mn[0]]=mn[1]})}}),pt.onDone(null,lr),lr}})},71665:function(W,H,e){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var g=e(12856),P=g.Buffer;function i(A,v){for(var p in A)v[p]=A[p]}P.from&&P.alloc&&P.allocUnsafe&&P.allocUnsafeSlow?W.exports=g:(i(g,H),H.Buffer=L);function L(A,v,p){return P(A,v,p)}L.prototype=Object.create(P.prototype),i(P,L),L.from=function(A,v,p){if(typeof A=="number")throw new TypeError("Argument must not be a number");return P(A,v,p)},L.alloc=function(A,v,p){if(typeof A!="number")throw new TypeError("Argument must be a number");var t=P(A);return v!==void 0?typeof p=="string"?t.fill(v,p):t.fill(v):t.fill(0),t},L.allocUnsafe=function(A){if(typeof A!="number")throw new TypeError("Argument must be a number");return P(A)},L.allocUnsafeSlow=function(A){if(typeof A!="number")throw new TypeError("Argument must be a number");return g.SlowBuffer(A)}},21630:function(W,H,e){W.exports=i;var g=e(15398).EventEmitter,P=e(42018);P(i,g),i.Readable=e(40410),i.Writable=e(37493),i.Duplex=e(37865),i.Transform=e(74308),i.PassThrough=e(66897),i.finished=e(12726),i.pipeline=e(10168),i.Stream=i;function i(){g.call(this)}i.prototype.pipe=function(L,A){var v=this;function p(u){L.writable&&L.write(u)===!1&&v.pause&&v.pause()}v.on("data",p);function t(){v.readable&&v.resume&&v.resume()}L.on("drain",t),!L._isStdio&&(!A||A.end!==!1)&&(v.on("end",s),v.on("close",n));var r=!1;function s(){r||(r=!0,L.end())}function n(){r||(r=!0,typeof L.destroy=="function"&&L.destroy())}function l(u){if(f(),g.listenerCount(this,"error")===0)throw u}v.on("error",l),L.on("error",l);function f(){v.removeListener("data",p),L.removeListener("drain",t),v.removeListener("end",s),v.removeListener("close",n),v.removeListener("error",l),L.removeListener("error",l),v.removeListener("end",f),v.removeListener("close",f),L.removeListener("close",f)}return v.on("end",f),v.on("close",f),L.on("close",f),L.emit("pipe",v),L}},74322:function(W){function H(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}var e={};function g(v,p,t){t||(t=Error);function r(n,l,f){return typeof p=="string"?p:p(n,l,f)}var s=function(n){H(l,n);function l(f,u,m){return n.call(this,r(f,u,m))||this}return l}(t);s.prototype.name=t.name,s.prototype.code=v,e[v]=s}function P(v,p){if(Array.isArray(v)){var t=v.length;return v=v.map(function(r){return String(r)}),t>2?"one of ".concat(p," ").concat(v.slice(0,t-1).join(", "),", or ")+v[t-1]:t===2?"one of ".concat(p," ").concat(v[0]," or ").concat(v[1]):"of ".concat(p," ").concat(v[0])}else return"of ".concat(p," ").concat(String(v))}function i(v,p,t){return v.substr(!t||t<0?0:+t,p.length)===p}function L(v,p,t){return(t===void 0||t>v.length)&&(t=v.length),v.substring(t-p.length,t)===p}function A(v,p,t){return typeof t!="number"&&(t=0),t+p.length>v.length?!1:v.indexOf(p,t)!==-1}g("ERR_INVALID_OPT_VALUE",function(v,p){return'The value "'+p+'" is invalid for option "'+v+'"'},TypeError),g("ERR_INVALID_ARG_TYPE",function(v,p,t){var r;typeof p=="string"&&i(p,"not ")?(r="must not be",p=p.replace(/^not /,"")):r="must be";var s;if(L(v," argument"))s="The ".concat(v," ").concat(r," ").concat(P(p,"type"));else{var n=A(v,".")?"property":"argument";s='The "'.concat(v,'" ').concat(n," ").concat(r," ").concat(P(p,"type"))}return s+=". Received type ".concat(typeof t),s},TypeError),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),g("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),g("ERR_STREAM_PREMATURE_CLOSE","Premature close"),g("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),g("ERR_STREAM_WRITE_AFTER_END","write after end"),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),W.exports.q=e},37865:function(W,H,e){var g=e(90386),P=Object.keys||function(n){var l=[];for(var f in n)l.push(f);return l};W.exports=t;var i=e(40410),L=e(37493);e(42018)(t,i);for(var A=P(L.prototype),v=0;v<A.length;v++){var p=A[v];t.prototype[p]||(t.prototype[p]=L.prototype[p])}function t(n){if(!(this instanceof t))return new t(n);i.call(this,n),L.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",r)))}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function r(){this._writableState.ended||g.nextTick(s,this)}function s(n){n.end()}Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}})},66897:function(W,H,e){W.exports=P;var g=e(74308);e(42018)(P,g);function P(i){if(!(this instanceof P))return new P(i);g.call(this,i)}P.prototype._transform=function(i,L,A){A(null,i)}},40410:function(W,H,e){var g=e(90386);W.exports=a;var P;a.ReadableState=b,e(15398).EventEmitter;var i=function($,le){return $.listeners(le).length},L=e(71405),A=e(12856).Buffer,v=e.g.Uint8Array||function(){};function p(q){return A.from(q)}function t(q){return A.isBuffer(q)||q instanceof v}var r=e(40964),s;r&&r.debuglog?s=r.debuglog("stream"):s=function(){};var n=e(31125),l=e(65756),f=e(56306),u=f.getHighWaterMark,m=e(74322).q,c=m.ERR_INVALID_ARG_TYPE,w=m.ERR_STREAM_PUSH_AFTER_EOF,h=m.ERR_METHOD_NOT_IMPLEMENTED,o=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,d,M,T;e(42018)(a,L);var E=l.errorOrDestroy,x=["error","close","destroy","pause","resume"];function S(q,$,le){if(typeof q.prependListener=="function")return q.prependListener($,le);!q._events||!q._events[$]?q.on($,le):Array.isArray(q._events[$])?q._events[$].unshift(le):q._events[$]=[le,q._events[$]]}function b(q,$,le){P=P||e(37865),q=q||{},typeof le!="boolean"&&(le=$ instanceof P),this.objectMode=!!q.objectMode,le&&(this.objectMode=this.objectMode||!!q.readableObjectMode),this.highWaterMark=u(this,q,"readableHighWaterMark",le),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=q.emitClose!==!1,this.autoDestroy=!!q.autoDestroy,this.destroyed=!1,this.defaultEncoding=q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,q.encoding&&(d||(d=e(68019).s),this.decoder=new d(q.encoding),this.encoding=q.encoding)}function a(q){if(P=P||e(37865),!(this instanceof a))return new a(q);var $=this instanceof P;this._readableState=new b(q,this,$),this.readable=!0,q&&(typeof q.read=="function"&&(this._read=q.read),typeof q.destroy=="function"&&(this._destroy=q.destroy)),L.call(this)}Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function($){this._readableState&&(this._readableState.destroyed=$)}}),a.prototype.destroy=l.destroy,a.prototype._undestroy=l.undestroy,a.prototype._destroy=function(q,$){$(q)},a.prototype.push=function(q,$){var le=this._readableState,ie;return le.objectMode?ie=!0:typeof q=="string"&&($=$||le.defaultEncoding,$!==le.encoding&&(q=A.from(q,$),$=""),ie=!0),C(this,q,$,!1,ie)},a.prototype.unshift=function(q){return C(this,q,null,!0,!1)};function C(q,$,le,ie,ce){s("readableAddChunk",$);var me=q._readableState;if($===null)me.reading=!1,O(q,me);else{var Me;if(ce||(Me=z(me,$)),Me)E(q,Me);else if(me.objectMode||$&&$.length>0)if(typeof $!="string"&&!me.objectMode&&Object.getPrototypeOf($)!==A.prototype&&($=p($)),ie)me.endEmitted?E(q,new o):y(q,me,$,!0);else if(me.ended)E(q,new w);else{if(me.destroyed)return!1;me.reading=!1,me.decoder&&!le?($=me.decoder.write($),me.objectMode||$.length!==0?y(q,me,$,!1):U(q,me)):y(q,me,$,!1)}else ie||(me.reading=!1,U(q,me))}return!me.ended&&(me.length<me.highWaterMark||me.length===0)}function y(q,$,le,ie){$.flowing&&$.length===0&&!$.sync?($.awaitDrain=0,q.emit("data",le)):($.length+=$.objectMode?1:le.length,ie?$.buffer.unshift(le):$.buffer.push(le),$.needReadable&&N(q)),U(q,$)}function z(q,$){var le;return!t($)&&typeof $!="string"&&$!==void 0&&!q.objectMode&&(le=new c("chunk",["string","Buffer","Uint8Array"],$)),le}a.prototype.isPaused=function(){return this._readableState.flowing===!1},a.prototype.setEncoding=function(q){d||(d=e(68019).s);var $=new d(q);this._readableState.decoder=$,this._readableState.encoding=this._readableState.decoder.encoding;for(var le=this._readableState.buffer.head,ie="";le!==null;)ie+=$.write(le.data),le=le.next;return this._readableState.buffer.clear(),ie!==""&&this._readableState.buffer.push(ie),this._readableState.length=ie.length,this};var I=1073741824;function B(q){return q>=I?q=I:(q--,q|=q>>>1,q|=q>>>2,q|=q>>>4,q|=q>>>8,q|=q>>>16,q++),q}function F(q,$){return q<=0||$.length===0&&$.ended?0:$.objectMode?1:q!==q?$.flowing&&$.length?$.buffer.head.data.length:$.length:(q>$.highWaterMark&&($.highWaterMark=B(q)),q<=$.length?q:$.ended?$.length:($.needReadable=!0,0))}a.prototype.read=function(q){s("read",q),q=parseInt(q,10);var $=this._readableState,le=q;if(q!==0&&($.emittedReadable=!1),q===0&&$.needReadable&&(($.highWaterMark!==0?$.length>=$.highWaterMark:$.length>0)||$.ended))return s("read: emitReadable",$.length,$.ended),$.length===0&&$.ended?J(this):N(this),null;if(q=F(q,$),q===0&&$.ended)return $.length===0&&J(this),null;var ie=$.needReadable;s("need readable",ie),($.length===0||$.length-q<$.highWaterMark)&&(ie=!0,s("length less than watermark",ie)),$.ended||$.reading?(ie=!1,s("reading or ended",ie)):ie&&(s("do read"),$.reading=!0,$.sync=!0,$.length===0&&($.needReadable=!0),this._read($.highWaterMark),$.sync=!1,$.reading||(q=F(le,$)));var ce;return q>0?ce=X(q,$):ce=null,ce===null?($.needReadable=$.length<=$.highWaterMark,q=0):($.length-=q,$.awaitDrain=0),$.length===0&&($.ended||($.needReadable=!0),le!==q&&$.ended&&J(this)),ce!==null&&this.emit("data",ce),ce};function O(q,$){if(s("onEofChunk"),!$.ended){if($.decoder){var le=$.decoder.end();le&&le.length&&($.buffer.push(le),$.length+=$.objectMode?1:le.length)}$.ended=!0,$.sync?N(q):($.needReadable=!1,$.emittedReadable||($.emittedReadable=!0,_(q)))}}function N(q){var $=q._readableState;s("emitReadable",$.needReadable,$.emittedReadable),$.needReadable=!1,$.emittedReadable||(s("emitReadable",$.flowing),$.emittedReadable=!0,g.nextTick(_,q))}function _(q){var $=q._readableState;s("emitReadable_",$.destroyed,$.length,$.ended),!$.destroyed&&($.length||$.ended)&&(q.emit("readable"),$.emittedReadable=!1),$.needReadable=!$.flowing&&!$.ended&&$.length<=$.highWaterMark,j(q)}function U(q,$){$.readingMore||($.readingMore=!0,g.nextTick(Y,q,$))}function Y(q,$){for(;!$.reading&&!$.ended&&($.length<$.highWaterMark||$.flowing&&$.length===0);){var le=$.length;if(s("maybeReadMore read 0"),q.read(0),le===$.length)break}$.readingMore=!1}a.prototype._read=function(q){E(this,new h("_read()"))},a.prototype.pipe=function(q,$){var le=this,ie=this._readableState;switch(ie.pipesCount){case 0:ie.pipes=q;break;case 1:ie.pipes=[ie.pipes,q];break;default:ie.pipes.push(q);break}ie.pipesCount+=1,s("pipe count=%d opts=%j",ie.pipesCount,$);var ce=(!$||$.end!==!1)&&q!==g.stdout&&q!==g.stderr,me=ce?we:ke;ie.endEmitted?g.nextTick(me):le.once("end",me),q.on("unpipe",Me);function Me(We,it){s("onunpipe"),We===le&&it&&it.hasUnpiped===!1&&(it.hasUnpiped=!0,Ce())}function we(){s("onend"),q.end()}var Oe=K(le);q.on("drain",Oe);var Be=!1;function Ce(){s("cleanup"),q.removeListener("close",He),q.removeListener("finish",Ge),q.removeListener("drain",Oe),q.removeListener("error",Se),q.removeListener("unpipe",Me),le.removeListener("end",we),le.removeListener("end",ke),le.removeListener("data",xe),Be=!0,ie.awaitDrain&&(!q._writableState||q._writableState.needDrain)&&Oe()}le.on("data",xe);function xe(We){s("ondata");var it=q.write(We);s("dest.write",it),it===!1&&((ie.pipesCount===1&&ie.pipes===q||ie.pipesCount>1&&se(ie.pipes,q)!==-1)&&!Be&&(s("false write response, pause",ie.awaitDrain),ie.awaitDrain++),le.pause())}function Se(We){s("onerror",We),ke(),q.removeListener("error",Se),i(q,"error")===0&&E(q,We)}S(q,"error",Se);function He(){q.removeListener("finish",Ge),ke()}q.once("close",He);function Ge(){s("onfinish"),q.removeListener("close",He),ke()}q.once("finish",Ge);function ke(){s("unpipe"),le.unpipe(q)}return q.emit("pipe",le),ie.flowing||(s("pipe resume"),le.resume()),q};function K(q){return function(){var le=q._readableState;s("pipeOnDrain",le.awaitDrain),le.awaitDrain&&le.awaitDrain--,le.awaitDrain===0&&i(q,"data")&&(le.flowing=!0,j(q))}}a.prototype.unpipe=function(q){var $=this._readableState,le={hasUnpiped:!1};if($.pipesCount===0)return this;if($.pipesCount===1)return q&&q!==$.pipes?this:(q||(q=$.pipes),$.pipes=null,$.pipesCount=0,$.flowing=!1,q&&q.emit("unpipe",this,le),this);if(!q){var ie=$.pipes,ce=$.pipesCount;$.pipes=null,$.pipesCount=0,$.flowing=!1;for(var me=0;me<ce;me++)ie[me].emit("unpipe",this,{hasUnpiped:!1});return this}var Me=se($.pipes,q);return Me===-1?this:($.pipes.splice(Me,1),$.pipesCount-=1,$.pipesCount===1&&($.pipes=$.pipes[0]),q.emit("unpipe",this,le),this)},a.prototype.on=function(q,$){var le=L.prototype.on.call(this,q,$),ie=this._readableState;return q==="data"?(ie.readableListening=this.listenerCount("readable")>0,ie.flowing!==!1&&this.resume()):q==="readable"&&!ie.endEmitted&&!ie.readableListening&&(ie.readableListening=ie.needReadable=!0,ie.flowing=!1,ie.emittedReadable=!1,s("on readable",ie.length,ie.reading),ie.length?N(this):ie.reading||g.nextTick(ae,this)),le},a.prototype.addListener=a.prototype.on,a.prototype.removeListener=function(q,$){var le=L.prototype.removeListener.call(this,q,$);return q==="readable"&&g.nextTick(re,this),le},a.prototype.removeAllListeners=function(q){var $=L.prototype.removeAllListeners.apply(this,arguments);return(q==="readable"||q===void 0)&&g.nextTick(re,this),$};function re(q){var $=q._readableState;$.readableListening=q.listenerCount("readable")>0,$.resumeScheduled&&!$.paused?$.flowing=!0:q.listenerCount("data")>0&&q.resume()}function ae(q){s("readable nexttick read 0"),q.read(0)}a.prototype.resume=function(){var q=this._readableState;return q.flowing||(s("resume"),q.flowing=!q.readableListening,fe(this,q)),q.paused=!1,this};function fe(q,$){$.resumeScheduled||($.resumeScheduled=!0,g.nextTick(Q,q,$))}function Q(q,$){s("resume",$.reading),$.reading||q.read(0),$.resumeScheduled=!1,q.emit("resume"),j(q),$.flowing&&!$.reading&&q.read(0)}a.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function j(q){var $=q._readableState;for(s("flow",$.flowing);$.flowing&&q.read()!==null;);}a.prototype.wrap=function(q){var $=this,le=this._readableState,ie=!1;q.on("end",function(){if(s("wrapped end"),le.decoder&&!le.ended){var Me=le.decoder.end();Me&&Me.length&&$.push(Me)}$.push(null)}),q.on("data",function(Me){if(s("wrapped data"),le.decoder&&(Me=le.decoder.write(Me)),!(le.objectMode&&Me==null)&&!(!le.objectMode&&(!Me||!Me.length))){var we=$.push(Me);we||(ie=!0,q.pause())}});for(var ce in q)this[ce]===void 0&&typeof q[ce]=="function"&&(this[ce]=function(we){return function(){return q[we].apply(q,arguments)}}(ce));for(var me=0;me<x.length;me++)q.on(x[me],this.emit.bind(this,x[me]));return this._read=function(Me){s("wrapped _read",Me),ie&&(ie=!1,q.resume())},this},typeof Symbol=="function"&&(a.prototype[Symbol.asyncIterator]=function(){return M===void 0&&(M=e(68221)),M(this)}),Object.defineProperty(a.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(a.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(a.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function($){this._readableState&&(this._readableState.flowing=$)}}),a._fromList=X,Object.defineProperty(a.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function X(q,$){if($.length===0)return null;var le;return $.objectMode?le=$.buffer.shift():!q||q>=$.length?($.decoder?le=$.buffer.join(""):$.buffer.length===1?le=$.buffer.first():le=$.buffer.concat($.length),$.buffer.clear()):le=$.buffer.consume(q,$.decoder),le}function J(q){var $=q._readableState;s("endReadable",$.endEmitted),$.endEmitted||($.ended=!0,g.nextTick(ee,$,q))}function ee(q,$){if(s("endReadableNT",q.endEmitted,q.length),!q.endEmitted&&q.length===0&&(q.endEmitted=!0,$.readable=!1,$.emit("end"),q.autoDestroy)){var le=$._writableState;(!le||le.autoDestroy&&le.finished)&&$.destroy()}}typeof Symbol=="function"&&(a.from=function(q,$){return T===void 0&&(T=e(31748)),T(a,q,$)});function se(q,$){for(var le=0,ie=q.length;le<ie;le++)if(q[le]===$)return le;return-1}},74308:function(W,H,e){W.exports=t;var g=e(74322).q,P=g.ERR_METHOD_NOT_IMPLEMENTED,i=g.ERR_MULTIPLE_CALLBACK,L=g.ERR_TRANSFORM_ALREADY_TRANSFORMING,A=g.ERR_TRANSFORM_WITH_LENGTH_0,v=e(37865);e(42018)(t,v);function p(n,l){var f=this._transformState;f.transforming=!1;var u=f.writecb;if(u===null)return this.emit("error",new i);f.writechunk=null,f.writecb=null,l!=null&&this.push(l),u(n);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function t(n){if(!(this instanceof t))return new t(n);v.call(this,n),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",r)}function r(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(l,f){s(n,l,f)}):s(this,null,null)}t.prototype.push=function(n,l){return this._transformState.needTransform=!1,v.prototype.push.call(this,n,l)},t.prototype._transform=function(n,l,f){f(new P("_transform()"))},t.prototype._write=function(n,l,f){var u=this._transformState;if(u.writecb=f,u.writechunk=n,u.writeencoding=l,!u.transforming){var m=this._readableState;(u.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},t.prototype._read=function(n){var l=this._transformState;l.writechunk!==null&&!l.transforming?(l.transforming=!0,this._transform(l.writechunk,l.writeencoding,l.afterTransform)):l.needTransform=!0},t.prototype._destroy=function(n,l){v.prototype._destroy.call(this,n,function(f){l(f)})};function s(n,l,f){if(l)return n.emit("error",l);if(f!=null&&n.push(f),n._writableState.length)throw new A;if(n._transformState.transforming)throw new L;return n.push(null)}},37493:function(W,H,e){var g=e(90386);W.exports=b;function P(j){var X=this;this.next=null,this.entry=null,this.finish=function(){Q(X,j)}}var i;b.WritableState=x;var L={deprecate:e(20588)},A=e(71405),v=e(12856).Buffer,p=e.g.Uint8Array||function(){};function t(j){return v.from(j)}function r(j){return v.isBuffer(j)||j instanceof p}var s=e(65756),n=e(56306),l=n.getHighWaterMark,f=e(74322).q,u=f.ERR_INVALID_ARG_TYPE,m=f.ERR_METHOD_NOT_IMPLEMENTED,c=f.ERR_MULTIPLE_CALLBACK,w=f.ERR_STREAM_CANNOT_PIPE,h=f.ERR_STREAM_DESTROYED,o=f.ERR_STREAM_NULL_VALUES,d=f.ERR_STREAM_WRITE_AFTER_END,M=f.ERR_UNKNOWN_ENCODING,T=s.errorOrDestroy;e(42018)(b,A);function E(){}function x(j,X,J){i=i||e(37865),j=j||{},typeof J!="boolean"&&(J=X instanceof i),this.objectMode=!!j.objectMode,J&&(this.objectMode=this.objectMode||!!j.writableObjectMode),this.highWaterMark=l(this,j,"writableHighWaterMark",J),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ee=j.decodeStrings===!1;this.decodeStrings=!ee,this.defaultEncoding=j.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(se){O(X,se)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=j.emitClose!==!1,this.autoDestroy=!!j.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P(this)}x.prototype.getBuffer=function(){for(var X=this.bufferedRequest,J=[];X;)J.push(X),X=X.next;return J},function(){try{Object.defineProperty(x.prototype,"buffer",{get:L.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var S;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(S=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(X){return S.call(this,X)?!0:this!==b?!1:X&&X._writableState instanceof x}})):S=function(X){return X instanceof this};function b(j){i=i||e(37865);var X=this instanceof i;if(!X&&!S.call(b,this))return new b(j);this._writableState=new x(j,this,X),this.writable=!0,j&&(typeof j.write=="function"&&(this._write=j.write),typeof j.writev=="function"&&(this._writev=j.writev),typeof j.destroy=="function"&&(this._destroy=j.destroy),typeof j.final=="function"&&(this._final=j.final)),A.call(this)}b.prototype.pipe=function(){T(this,new w)};function a(j,X){var J=new d;T(j,J),g.nextTick(X,J)}function C(j,X,J,ee){var se;return J===null?se=new o:typeof J!="string"&&!X.objectMode&&(se=new u("chunk",["string","Buffer"],J)),se?(T(j,se),g.nextTick(ee,se),!1):!0}b.prototype.write=function(j,X,J){var ee=this._writableState,se=!1,q=!ee.objectMode&&r(j);return q&&!v.isBuffer(j)&&(j=t(j)),typeof X=="function"&&(J=X,X=null),q?X="buffer":X||(X=ee.defaultEncoding),typeof J!="function"&&(J=E),ee.ending?a(this,J):(q||C(this,ee,j,J))&&(ee.pendingcb++,se=z(this,ee,q,j,X,J)),se},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var j=this._writableState;j.corked&&(j.corked--,!j.writing&&!j.corked&&!j.bufferProcessing&&j.bufferedRequest&&U(this,j))},b.prototype.setDefaultEncoding=function(X){if(typeof X=="string"&&(X=X.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((X+"").toLowerCase())>-1))throw new M(X);return this._writableState.defaultEncoding=X,this},Object.defineProperty(b.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function y(j,X,J){return!j.objectMode&&j.decodeStrings!==!1&&typeof X=="string"&&(X=v.from(X,J)),X}Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function z(j,X,J,ee,se,q){if(!J){var $=y(X,ee,se);ee!==$&&(J=!0,se="buffer",ee=$)}var le=X.objectMode?1:ee.length;X.length+=le;var ie=X.length<X.highWaterMark;if(ie||(X.needDrain=!0),X.writing||X.corked){var ce=X.lastBufferedRequest;X.lastBufferedRequest={chunk:ee,encoding:se,isBuf:J,callback:q,next:null},ce?ce.next=X.lastBufferedRequest:X.bufferedRequest=X.lastBufferedRequest,X.bufferedRequestCount+=1}else I(j,X,!1,le,ee,se,q);return ie}function I(j,X,J,ee,se,q,$){X.writelen=ee,X.writecb=$,X.writing=!0,X.sync=!0,X.destroyed?X.onwrite(new h("write")):J?j._writev(se,X.onwrite):j._write(se,q,X.onwrite),X.sync=!1}function B(j,X,J,ee,se){--X.pendingcb,J?(g.nextTick(se,ee),g.nextTick(ae,j,X),j._writableState.errorEmitted=!0,T(j,ee)):(se(ee),j._writableState.errorEmitted=!0,T(j,ee),ae(j,X))}function F(j){j.writing=!1,j.writecb=null,j.length-=j.writelen,j.writelen=0}function O(j,X){var J=j._writableState,ee=J.sync,se=J.writecb;if(typeof se!="function")throw new c;if(F(J),X)B(j,J,ee,X,se);else{var q=Y(J)||j.destroyed;!q&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&U(j,J),ee?g.nextTick(N,j,J,q,se):N(j,J,q,se)}}function N(j,X,J,ee){J||_(j,X),X.pendingcb--,ee(),ae(j,X)}function _(j,X){X.length===0&&X.needDrain&&(X.needDrain=!1,j.emit("drain"))}function U(j,X){X.bufferProcessing=!0;var J=X.bufferedRequest;if(j._writev&&J&&J.next){var ee=X.bufferedRequestCount,se=new Array(ee),q=X.corkedRequestsFree;q.entry=J;for(var $=0,le=!0;J;)se[$]=J,J.isBuf||(le=!1),J=J.next,$+=1;se.allBuffers=le,I(j,X,!0,X.length,se,"",q.finish),X.pendingcb++,X.lastBufferedRequest=null,q.next?(X.corkedRequestsFree=q.next,q.next=null):X.corkedRequestsFree=new P(X),X.bufferedRequestCount=0}else{for(;J;){var ie=J.chunk,ce=J.encoding,me=J.callback,Me=X.objectMode?1:ie.length;if(I(j,X,!1,Me,ie,ce,me),J=J.next,X.bufferedRequestCount--,X.writing)break}J===null&&(X.lastBufferedRequest=null)}X.bufferedRequest=J,X.bufferProcessing=!1}b.prototype._write=function(j,X,J){J(new m("_write()"))},b.prototype._writev=null,b.prototype.end=function(j,X,J){var ee=this._writableState;return typeof j=="function"?(J=j,j=null,X=null):typeof X=="function"&&(J=X,X=null),j!=null&&this.write(j,X),ee.corked&&(ee.corked=1,this.uncork()),ee.ending||fe(this,ee,J),this},Object.defineProperty(b.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Y(j){return j.ending&&j.length===0&&j.bufferedRequest===null&&!j.finished&&!j.writing}function K(j,X){j._final(function(J){X.pendingcb--,J&&T(j,J),X.prefinished=!0,j.emit("prefinish"),ae(j,X)})}function re(j,X){!X.prefinished&&!X.finalCalled&&(typeof j._final=="function"&&!X.destroyed?(X.pendingcb++,X.finalCalled=!0,g.nextTick(K,j,X)):(X.prefinished=!0,j.emit("prefinish")))}function ae(j,X){var J=Y(X);if(J&&(re(j,X),X.pendingcb===0&&(X.finished=!0,j.emit("finish"),X.autoDestroy))){var ee=j._readableState;(!ee||ee.autoDestroy&&ee.endEmitted)&&j.destroy()}return J}function fe(j,X,J){X.ending=!0,ae(j,X),J&&(X.finished?g.nextTick(J):j.once("finish",J)),X.ended=!0,j.writable=!1}function Q(j,X,J){var ee=j.entry;for(j.entry=null;ee;){var se=ee.callback;X.pendingcb--,se(J),ee=ee.next}X.corkedRequestsFree.next=j}Object.defineProperty(b.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(X){this._writableState&&(this._writableState.destroyed=X)}}),b.prototype.destroy=s.destroy,b.prototype._undestroy=s.undestroy,b.prototype._destroy=function(j,X){X(j)}},68221:function(W,H,e){var g=e(90386),P;function i(o,d,M){return d in o?Object.defineProperty(o,d,{value:M,enumerable:!0,configurable:!0,writable:!0}):o[d]=M,o}var L=e(12726),A=Symbol("lastResolve"),v=Symbol("lastReject"),p=Symbol("error"),t=Symbol("ended"),r=Symbol("lastPromise"),s=Symbol("handlePromise"),n=Symbol("stream");function l(o,d){return{value:o,done:d}}function f(o){var d=o[A];if(d!==null){var M=o[n].read();M!==null&&(o[r]=null,o[A]=null,o[v]=null,d(l(M,!1)))}}function u(o){g.nextTick(f,o)}function m(o,d){return function(M,T){o.then(function(){if(d[t]){M(l(void 0,!0));return}d[s](M,T)},T)}}var c=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((P={get stream(){return this[n]},next:function(){var d=this,M=this[p];if(M!==null)return Promise.reject(M);if(this[t])return Promise.resolve(l(void 0,!0));if(this[n].destroyed)return new Promise(function(S,b){g.nextTick(function(){d[p]?b(d[p]):S(l(void 0,!0))})});var T=this[r],E;if(T)E=new Promise(m(T,this));else{var x=this[n].read();if(x!==null)return Promise.resolve(l(x,!1));E=new Promise(this[s])}return this[r]=E,E}},i(P,Symbol.asyncIterator,function(){return this}),i(P,"return",function(){var d=this;return new Promise(function(M,T){d[n].destroy(null,function(E){if(E){T(E);return}M(l(void 0,!0))})})}),P),c),h=function(d){var M,T=Object.create(w,(M={},i(M,n,{value:d,writable:!0}),i(M,A,{value:null,writable:!0}),i(M,v,{value:null,writable:!0}),i(M,p,{value:null,writable:!0}),i(M,t,{value:d._readableState.endEmitted,writable:!0}),i(M,s,{value:function(x,S){var b=T[n].read();b?(T[r]=null,T[A]=null,T[v]=null,x(l(b,!1))):(T[A]=x,T[v]=S)},writable:!0}),M));return T[r]=null,L(d,function(E){if(E&&E.code!=="ERR_STREAM_PREMATURE_CLOSE"){var x=T[v];x!==null&&(T[r]=null,T[A]=null,T[v]=null,x(E)),T[p]=E;return}var S=T[A];S!==null&&(T[r]=null,T[A]=null,T[v]=null,S(l(void 0,!0))),T[t]=!0}),d.on("readable",u.bind(null,T)),T};W.exports=h},31125:function(W,H,e){function g(f,u){var m=Object.keys(f);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(f);u&&(c=c.filter(function(w){return Object.getOwnPropertyDescriptor(f,w).enumerable})),m.push.apply(m,c)}return m}function P(f){for(var u=1;u<arguments.length;u++){var m=arguments[u]!=null?arguments[u]:{};u%2?g(Object(m),!0).forEach(function(c){i(f,c,m[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(m)):g(Object(m)).forEach(function(c){Object.defineProperty(f,c,Object.getOwnPropertyDescriptor(m,c))})}return f}function i(f,u,m){return u in f?Object.defineProperty(f,u,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[u]=m,f}function L(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function A(f,u){for(var m=0;m<u.length;m++){var c=u[m];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function v(f,u,m){return u&&A(f.prototype,u),m&&A(f,m),f}var p=e(12856),t=p.Buffer,r=e(69862),s=r.inspect,n=s&&s.custom||"inspect";function l(f,u,m){t.prototype.copy.call(f,u,m)}W.exports=function(){function f(){L(this,f),this.head=null,this.tail=null,this.length=0}return v(f,[{key:"push",value:function(m){var c={data:m,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}},{key:"unshift",value:function(m){var c={data:m,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var c=this.head,w=""+c.data;c=c.next;)w+=m+c.data;return w}},{key:"concat",value:function(m){if(this.length===0)return t.alloc(0);for(var c=t.allocUnsafe(m>>>0),w=this.head,h=0;w;)l(w.data,c,h),h+=w.data.length,w=w.next;return c}},{key:"consume",value:function(m,c){var w;return m<this.head.data.length?(w=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):m===this.head.data.length?w=this.shift():w=c?this._getString(m):this._getBuffer(m),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var c=this.head,w=1,h=c.data;for(m-=h.length;c=c.next;){var o=c.data,d=m>o.length?o.length:m;if(d===o.length?h+=o:h+=o.slice(0,m),m-=d,m===0){d===o.length?(++w,c.next?this.head=c.next:this.head=this.tail=null):(this.head=c,c.data=o.slice(d));break}++w}return this.length-=w,h}},{key:"_getBuffer",value:function(m){var c=t.allocUnsafe(m),w=this.head,h=1;for(w.data.copy(c),m-=w.data.length;w=w.next;){var o=w.data,d=m>o.length?o.length:m;if(o.copy(c,c.length-m,0,d),m-=d,m===0){d===o.length?(++h,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=o.slice(d));break}++h}return this.length-=h,c}},{key:n,value:function(m,c){return s(this,P({},c,{depth:0,customInspect:!1}))}}]),f}()},65756:function(W,H,e){var g=e(90386);function P(t,r){var s=this,n=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return n||l?(r?r(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,g.nextTick(v,this,t)):g.nextTick(v,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(f){!r&&f?s._writableState?s._writableState.errorEmitted?g.nextTick(L,s):(s._writableState.errorEmitted=!0,g.nextTick(i,s,f)):g.nextTick(i,s,f):r?(g.nextTick(L,s),r(f)):g.nextTick(L,s)}),this)}function i(t,r){v(t,r),L(t)}function L(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function A(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(t,r){t.emit("error",r)}function p(t,r){var s=t._readableState,n=t._writableState;s&&s.autoDestroy||n&&n.autoDestroy?t.destroy(r):t.emit("error",r)}W.exports={destroy:P,undestroy:A,errorOrDestroy:p}},12726:function(W,H,e){var g=e(74322).q.ERR_STREAM_PREMATURE_CLOSE;function P(v){var p=!1;return function(){if(!p){p=!0;for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];v.apply(this,r)}}}function i(){}function L(v){return v.setHeader&&typeof v.abort=="function"}function A(v,p,t){if(typeof p=="function")return A(v,null,p);p||(p={}),t=P(t||i);var r=p.readable||p.readable!==!1&&v.readable,s=p.writable||p.writable!==!1&&v.writable,n=function(){v.writable||f()},l=v._writableState&&v._writableState.finished,f=function(){s=!1,l=!0,r||t.call(v)},u=v._readableState&&v._readableState.endEmitted,m=function(){r=!1,u=!0,s||t.call(v)},c=function(d){t.call(v,d)},w=function(){var d;if(r&&!u)return(!v._readableState||!v._readableState.ended)&&(d=new g),t.call(v,d);if(s&&!l)return(!v._writableState||!v._writableState.ended)&&(d=new g),t.call(v,d)},h=function(){v.req.on("finish",f)};return L(v)?(v.on("complete",f),v.on("abort",w),v.req?h():v.on("request",h)):s&&!v._writableState&&(v.on("end",n),v.on("close",n)),v.on("end",m),v.on("finish",f),p.error!==!1&&v.on("error",c),v.on("close",w),function(){v.removeListener("complete",f),v.removeListener("abort",w),v.removeListener("request",h),v.req&&v.req.removeListener("finish",f),v.removeListener("end",n),v.removeListener("close",n),v.removeListener("finish",f),v.removeListener("end",m),v.removeListener("error",c),v.removeListener("close",w)}}W.exports=A},31748:function(W){W.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(W,H,e){var g;function P(f){var u=!1;return function(){u||(u=!0,f.apply(void 0,arguments))}}var i=e(74322).q,L=i.ERR_MISSING_ARGS,A=i.ERR_STREAM_DESTROYED;function v(f){if(f)throw f}function p(f){return f.setHeader&&typeof f.abort=="function"}function t(f,u,m,c){c=P(c);var w=!1;f.on("close",function(){w=!0}),g===void 0&&(g=e(12726)),g(f,{readable:u,writable:m},function(o){if(o)return c(o);w=!0,c()});var h=!1;return function(o){if(!w&&!h){if(h=!0,p(f))return f.abort();if(typeof f.destroy=="function")return f.destroy();c(o||new A("pipe"))}}}function r(f){f()}function s(f,u){return f.pipe(u)}function n(f){return!f.length||typeof f[f.length-1]!="function"?v:f.pop()}function l(){for(var f=arguments.length,u=new Array(f),m=0;m<f;m++)u[m]=arguments[m];var c=n(u);if(Array.isArray(u[0])&&(u=u[0]),u.length<2)throw new L("streams");var w,h=u.map(function(o,d){var M=d<u.length-1,T=d>0;return t(o,M,T,function(E){w||(w=E),E&&h.forEach(r),!M&&(h.forEach(r),c(w))})});return u.reduce(s)}W.exports=l},56306:function(W,H,e){var g=e(74322).q.ERR_INVALID_OPT_VALUE;function P(L,A,v){return L.highWaterMark!=null?L.highWaterMark:A?L[v]:null}function i(L,A,v,p){var t=P(A,p,v);if(t!=null){if(!(isFinite(t)&&Math.floor(t)===t)||t<0){var r=p?v:"highWaterMark";throw new g(r,t)}return Math.floor(t)}return L.objectMode?16:16384}W.exports={getHighWaterMark:i}},71405:function(W,H,e){W.exports=e(15398).EventEmitter},68019:function(W,H,e){var g=e(71665).Buffer,P=g.isEncoding||function(h){switch(h=""+h,h&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(h){if(!h)return"utf8";for(var o;;)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(o)return;h=(""+h).toLowerCase(),o=!0}}function L(h){var o=i(h);if(typeof o!="string"&&(g.isEncoding===P||!P(h)))throw new Error("Unknown encoding: "+h);return o||h}H.s=A;function A(h){this.encoding=L(h);var o;switch(this.encoding){case"utf16le":this.text=l,this.end=f,o=4;break;case"utf8":this.fillLast=r,o=4;break;case"base64":this.text=u,this.end=m,o=3;break;default:this.write=c,this.end=w;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(o)}A.prototype.write=function(h){if(h.length===0)return"";var o,d;if(this.lastNeed){if(o=this.fillLast(h),o===void 0)return"";d=this.lastNeed,this.lastNeed=0}else d=0;return d<h.length?o?o+this.text(h,d):this.text(h,d):o||""},A.prototype.end=n,A.prototype.text=s,A.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length};function v(h){return h<=127?0:h>>5===6?2:h>>4===14?3:h>>3===30?4:h>>6===2?-1:-2}function p(h,o,d){var M=o.length-1;if(M<d)return 0;var T=v(o[M]);return T>=0?(T>0&&(h.lastNeed=T-1),T):--M<d||T===-2?0:(T=v(o[M]),T>=0?(T>0&&(h.lastNeed=T-2),T):--M<d||T===-2?0:(T=v(o[M]),T>=0?(T>0&&(T===2?T=0:h.lastNeed=T-3),T):0))}function t(h,o,d){if((o[0]&192)!==128)return h.lastNeed=0,"";if(h.lastNeed>1&&o.length>1){if((o[1]&192)!==128)return h.lastNeed=1,"";if(h.lastNeed>2&&o.length>2&&(o[2]&192)!==128)return h.lastNeed=2,""}}function r(h){var o=this.lastTotal-this.lastNeed,d=t(this,h);if(d!==void 0)return d;if(this.lastNeed<=h.length)return h.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,o,0,h.length),this.lastNeed-=h.length}function s(h,o){var d=p(this,h,o);if(!this.lastNeed)return h.toString("utf8",o);this.lastTotal=d;var M=h.length-(d-this.lastNeed);return h.copy(this.lastChar,0,M),h.toString("utf8",o,M)}function n(h){var o=h&&h.length?this.write(h):"";return this.lastNeed?o+"":o}function l(h,o){if((h.length-o)%2===0){var d=h.toString("utf16le",o);if(d){var M=d.charCodeAt(d.length-1);if(M>=55296&&M<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],d.slice(0,-1)}return d}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",o,h.length-1)}function f(h){var o=h&&h.length?this.write(h):"";if(this.lastNeed){var d=this.lastTotal-this.lastNeed;return o+this.lastChar.toString("utf16le",0,d)}return o}function u(h,o){var d=(h.length-o)%3;return d===0?h.toString("base64",o):(this.lastNeed=3-d,this.lastTotal=3,d===1?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",o,h.length-d))}function m(h){var o=h&&h.length?this.write(h):"";return this.lastNeed?o+this.lastChar.toString("base64",0,3-this.lastNeed):o}function c(h){return h.toString(this.encoding)}function w(h){return h&&h.length?this.write(h):""}},90715:function(W,H,e){var g=e(32791),P=e(41633)("stream-parser");W.exports=p;var i=-1,L=0,A=1,v=2;function p(h){var o=h&&typeof h._transform=="function",d=h&&typeof h._write=="function";if(!o&&!d)throw new Error("must pass a Writable or Transform stream in");P("extending Parser into stream"),h._bytes=r,h._skipBytes=s,o&&(h._passthrough=n),o?h._transform=f:h._write=l}function t(h){P("initializing parser stream"),h._parserBytesLeft=0,h._parserBuffers=[],h._parserBuffered=0,h._parserState=i,h._parserCallback=null,typeof h.push=="function"&&(h._parserOutput=h.push.bind(h)),h._parserInit=!0}function r(h,o){g(!this._parserCallback,'there is already a "callback" set!'),g(isFinite(h)&&h>0,'can only buffer a finite number of bytes > 0, got "'+h+'"'),this._parserInit||t(this),P("buffering %o bytes",h),this._parserBytesLeft=h,this._parserCallback=o,this._parserState=L}function s(h,o){g(!this._parserCallback,'there is already a "callback" set!'),g(h>0,'can only skip > 0 bytes, got "'+h+'"'),this._parserInit||t(this),P("skipping %o bytes",h),this._parserBytesLeft=h,this._parserCallback=o,this._parserState=A}function n(h,o){g(!this._parserCallback,'There is already a "callback" set!'),g(h>0,'can only pass through > 0 bytes, got "'+h+'"'),this._parserInit||t(this),P("passing through %o bytes",h),this._parserBytesLeft=h,this._parserCallback=o,this._parserState=v}function l(h,o,d){this._parserInit||t(this),P("write(%o bytes)",h.length),typeof o=="function"&&(d=o),c(this,h,null,d)}function f(h,o,d){this._parserInit||t(this),P("transform(%o bytes)",h.length),typeof o!="function"&&(o=this._parserOutput),c(this,h,o,d)}function u(h,o,d,M){return h._parserBytesLeft<=0?M(new Error("got data but not currently parsing anything")):o.length<=h._parserBytesLeft?function(){return m(h,o,d,M)}:function(){var T=o.slice(0,h._parserBytesLeft);return m(h,T,d,function(E){if(E)return M(E);if(o.length>T.length)return function(){return u(h,o.slice(T.length),d,M)}})}}function m(h,o,d,M){if(h._parserBytesLeft-=o.length,P("%o bytes left for stream piece",h._parserBytesLeft),h._parserState===L?(h._parserBuffers.push(o),h._parserBuffered+=o.length):h._parserState===v&&d(o),h._parserBytesLeft===0){var T=h._parserCallback;if(T&&h._parserState===L&&h._parserBuffers.length>1&&(o=Buffer.concat(h._parserBuffers,h._parserBuffered)),h._parserState!==L&&(o=null),h._parserCallback=null,h._parserBuffered=0,h._parserState=i,h._parserBuffers.splice(0),T){var E=[];o&&E.push(o),d&&E.push(d);var x=T.length>E.length;x&&E.push(w(M));var S=T.apply(h,E);if(!x||M===S)return M}}else return M}var c=w(u);function w(h){return function(){for(var o=h.apply(this,arguments);typeof o=="function";)o=o();return o}}},41633:function(W,H,e){var g=e(90386);H=W.exports=e(74469),H.log=L,H.formatArgs=i,H.save=A,H.load=v,H.useColors=P,H.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:p(),H.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function P(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}H.formatters.j=function(t){try{return JSON.stringify(t)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}};function i(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+H.humanize(this.diff),!!r){var s="color: "+this.color;t.splice(1,0,s,"color: inherit");var n=0,l=0;t[0].replace(/%[a-zA-Z%]/g,function(f){f!=="%%"&&(n++,f==="%c"&&(l=n))}),t.splice(l,0,s)}}function L(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function A(t){try{t==null?H.storage.removeItem("debug"):H.storage.debug=t}catch{}}function v(){var t;try{t=H.storage.debug}catch{}return!t&&typeof g<"u"&&"env"in g&&(t={}.DEBUG),t}H.enable(v());function p(){try{return window.localStorage}catch{}}},74469:function(W,H,e){H=W.exports=i.debug=i.default=i,H.coerce=p,H.disable=A,H.enable=L,H.enabled=v,H.humanize=e(11375),H.names=[],H.skips=[],H.formatters={};var g;function P(t){var r=0,s;for(s in t)r=(r<<5)-r+t.charCodeAt(s),r|=0;return H.colors[Math.abs(r)%H.colors.length]}function i(t){function r(){if(r.enabled){var s=r,n=+new Date,l=n-(g||n);s.diff=l,s.prev=g,s.curr=n,g=n;for(var f=new Array(arguments.length),u=0;u<f.length;u++)f[u]=arguments[u];f[0]=H.coerce(f[0]),typeof f[0]!="string"&&f.unshift("%O");var m=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,function(w,h){if(w==="%%")return w;m++;var o=H.formatters[h];if(typeof o=="function"){var d=f[m];w=o.call(s,d),f.splice(m,1),m--}return w}),H.formatArgs.call(s,f);var c=r.log||H.log||console.log.bind(console);c.apply(s,f)}}return r.namespace=t,r.enabled=H.enabled(t),r.useColors=H.useColors(),r.color=P(t),typeof H.init=="function"&&H.init(r),r}function L(t){H.save(t),H.names=[],H.skips=[];for(var r=(typeof t=="string"?t:"").split(/[\s,]+/),s=r.length,n=0;n<s;n++)r[n]&&(t=r[n].replace(/\*/g,".*?"),t[0]==="-"?H.skips.push(new RegExp("^"+t.substr(1)+"$")):H.names.push(new RegExp("^"+t+"$")))}function A(){H.enable("")}function v(t){var r,s;for(r=0,s=H.skips.length;r<s;r++)if(H.skips[r].test(t))return!1;for(r=0,s=H.names.length;r<s;r++)if(H.names[r].test(t))return!0;return!1}function p(t){return t instanceof Error?t.stack||t.message:t}},11375:function(W){var H=1e3,e=H*60,g=e*60,P=g*24,i=P*365.25;W.exports=function(t,r){r=r||{};var s=typeof t;if(s==="string"&&t.length>0)return L(t);if(s==="number"&&isNaN(t)===!1)return r.long?v(t):A(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function L(t){if(t=String(t),!(t.length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(r){var s=parseFloat(r[1]),n=(r[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return s*i;case"days":case"day":case"d":return s*P;case"hours":case"hour":case"hrs":case"hr":case"h":return s*g;case"minutes":case"minute":case"mins":case"min":case"m":return s*e;case"seconds":case"second":case"secs":case"sec":case"s":return s*H;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}function A(t){return t>=P?Math.round(t/P)+"d":t>=g?Math.round(t/g)+"h":t>=e?Math.round(t/e)+"m":t>=H?Math.round(t/H)+"s":t+"ms"}function v(t){return p(t,P,"day")||p(t,g,"hour")||p(t,e,"minute")||p(t,H,"second")||t+" ms"}function p(t,r,s){if(!(t<r))return t<r*1.5?Math.floor(t/r)+" "+s:Math.ceil(t/r)+" "+s+"s"}},99011:function(W,H,e){var g=e(88641);W.exports=function(i,L,A){if(i==null)throw Error("First argument should be a string");if(L==null)throw Error("Separator should be a string or a RegExp");A?(typeof A=="string"||Array.isArray(A))&&(A={ignore:A}):A={},A.escape==null&&(A.escape=!0),A.ignore==null?A.ignore=["[]","()","{}","<>",'""',"''","``","",""]:(typeof A.ignore=="string"&&(A.ignore=[A.ignore]),A.ignore=A.ignore.map(function(f){return f.length===1&&(f=f+f),f}));var v=g.parse(i,{flat:!0,brackets:A.ignore}),p=v[0],t=p.split(L);if(A.escape){for(var r=[],s=0;s<t.length;s++){var n=t[s],l=t[s+1];n[n.length-1]==="\\"&&n[n.length-2]!=="\\"?(r.push(n+L+l),s++):r.push(n)}t=r}for(var s=0;s<t.length;s++)v[0]=t[s],t[s]=g.stringify(v,{flat:!0});return t}},68664:function(W){W.exports=H;function H(e){for(var g=e.length,P=new Array(g),i=new Array(g),L=new Array(g),A=new Array(g),v=new Array(g),p=new Array(g),t=0;t<g;++t)P[t]=-1,i[t]=0,L[t]=!1,A[t]=0,v[t]=-1,p[t]=[];var r=0,s=[],n=[];function l(c){var w=[c],h=[c];for(P[c]=i[c]=r,L[c]=!0,r+=1;h.length>0;){c=h[h.length-1];var o=e[c];if(A[c]<o.length){for(var d=A[c];d<o.length;++d){var M=o[d];if(P[M]<0){P[M]=i[M]=r,L[M]=!0,r+=1,w.push(M),h.push(M);break}else L[M]&&(i[c]=Math.min(i[c],i[M])|0);v[M]>=0&&p[c].push(v[M])}A[c]=d}else{if(i[c]===P[c]){for(var T=[],E=[],x=0,d=w.length-1;d>=0;--d){var S=w[d];if(L[S]=!1,T.push(S),E.push(p[S]),x+=p[S].length,v[S]=s.length,S===c){w.length=d;break}}s.push(T);for(var b=new Array(x),d=0;d<E.length;d++)for(var a=0;a<E[d].length;a++)b[--x]=E[d][a];n.push(b)}h.pop()}}}for(var t=0;t<g;++t)P[t]<0&&l(t);for(var f,t=0;t<n.length;t++){var u=n[t];if(u.length!==0){u.sort(function(w,h){return w-h}),f=[u[0]];for(var m=1;m<u.length;m++)u[m]!==u[m-1]&&f.push(u[m]);n[t]=f}}return{components:s,adjacencyList:n}}},7095:function(W,H,e){e.r(H);var g=function(){function t(r,s){var n=[],l=!0,f=!1,u=void 0;try{for(var m=r[Symbol.iterator](),c;!(l=(c=m.next()).done)&&(n.push(c.value),!(s&&n.length===s));l=!0);}catch(w){f=!0,u=w}finally{try{!l&&m.return&&m.return()}finally{if(f)throw u}}return n}return function(r,s){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return t(r,s);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),P=Math.PI*2,i=function(r,s,n,l,f,u,m){var c=r.x,w=r.y;c*=s,w*=n;var h=l*c-f*w,o=f*c+l*w;return{x:h+u,y:o+m}},L=function(r,s){var n=s===1.5707963267948966?.551915024494:s===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(s/4),l=Math.cos(r),f=Math.sin(r),u=Math.cos(r+s),m=Math.sin(r+s);return[{x:l-f*n,y:f+l*n},{x:u+m*n,y:m-u*n},{x:u,y:m}]},A=function(r,s,n,l){var f=r*l-s*n<0?-1:1,u=r*n+s*l;return u>1&&(u=1),u<-1&&(u=-1),f*Math.acos(u)},v=function(r,s,n,l,f,u,m,c,w,h,o,d){var M=Math.pow(f,2),T=Math.pow(u,2),E=Math.pow(o,2),x=Math.pow(d,2),S=M*T-M*x-T*E;S<0&&(S=0),S/=M*x+T*E,S=Math.sqrt(S)*(m===c?-1:1);var b=S*f/u*d,a=S*-u/f*o,C=h*b-w*a+(r+n)/2,y=w*b+h*a+(s+l)/2,z=(o-b)/f,I=(d-a)/u,B=(-o-b)/f,F=(-d-a)/u,O=A(1,0,z,I),N=A(z,I,B,F);return c===0&&N>0&&(N-=P),c===1&&N<0&&(N+=P),[C,y,O,N]},p=function(r){var s=r.px,n=r.py,l=r.cx,f=r.cy,u=r.rx,m=r.ry,c=r.xAxisRotation,w=c===void 0?0:c,h=r.largeArcFlag,o=h===void 0?0:h,d=r.sweepFlag,M=d===void 0?0:d,T=[];if(u===0||m===0)return[];var E=Math.sin(w*P/360),x=Math.cos(w*P/360),S=x*(s-l)/2+E*(n-f)/2,b=-E*(s-l)/2+x*(n-f)/2;if(S===0&&b===0)return[];u=Math.abs(u),m=Math.abs(m);var a=Math.pow(S,2)/Math.pow(u,2)+Math.pow(b,2)/Math.pow(m,2);a>1&&(u*=Math.sqrt(a),m*=Math.sqrt(a));var C=v(s,n,l,f,u,m,o,M,E,x,S,b),y=g(C,4),z=y[0],I=y[1],B=y[2],F=y[3],O=Math.abs(F)/(P/4);Math.abs(1-O)<1e-7&&(O=1);var N=Math.max(Math.ceil(O),1);F/=N;for(var _=0;_<N;_++)T.push(L(B,F)),B+=F;return T.map(function(U){var Y=i(U[0],u,m,x,E,z,I),K=Y.x,re=Y.y,ae=i(U[1],u,m,x,E,z,I),fe=ae.x,Q=ae.y,j=i(U[2],u,m,x,E,z,I),X=j.x,J=j.y;return{x1:K,y1:re,x2:fe,y2:Q,x:X,y:J}})};H.default=p},1750:function(W,H,e){var g=e(95616),P=e(65185),i=e(29988),L=e(89546),A=e(32791);W.exports=v;function v(p){if(Array.isArray(p)&&p.length===1&&typeof p[0]=="string"&&(p=p[0]),typeof p=="string"&&(A(L(p),"String is not an SVG path."),p=g(p)),A(Array.isArray(p),"Argument should be a string or an array of path segments."),p=P(p),p=i(p),!p.length)return[0,0,0,0];for(var t=[1/0,1/0,-1/0,-1/0],r=0,s=p.length;r<s;r++)for(var n=p[r].slice(1),l=0;l<n.length;l+=2)n[l+0]<t[0]&&(t[0]=n[l+0]),n[l+1]<t[1]&&(t[1]=n[l+1]),n[l+0]>t[2]&&(t[2]=n[l+0]),n[l+1]>t[3]&&(t[3]=n[l+1]);return t}},29988:function(W,H,e){W.exports=P;var g=e(7095);function P(A){for(var v,p=[],t=0,r=0,s=0,n=0,l=null,f=null,u=0,m=0,c=0,w=A.length;c<w;c++){var h=A[c],o=h[0];switch(o){case"M":s=h[1],n=h[2];break;case"A":var d=g({px:u,py:m,cx:h[6],cy:h[7],rx:h[1],ry:h[2],xAxisRotation:h[3],largeArcFlag:h[4],sweepFlag:h[5]});if(!d.length)continue;for(var M=0,T;M<d.length;M++)T=d[M],h=["C",T.x1,T.y1,T.x2,T.y2,T.x,T.y],M<d.length-1&&p.push(h);break;case"S":var E=u,x=m;(v=="C"||v=="S")&&(E+=E-t,x+=x-r),h=["C",E,x,h[1],h[2],h[3],h[4]];break;case"T":v=="Q"||v=="T"?(l=u*2-l,f=m*2-f):(l=u,f=m),h=L(u,m,l,f,h[1],h[2]);break;case"Q":l=h[1],f=h[2],h=L(u,m,h[1],h[2],h[3],h[4]);break;case"L":h=i(u,m,h[1],h[2]);break;case"H":h=i(u,m,h[1],m);break;case"V":h=i(u,m,u,h[1]);break;case"Z":h=i(u,m,s,n);break}v=o,u=h[h.length-2],m=h[h.length-1],h.length>4?(t=h[h.length-4],r=h[h.length-3]):(t=u,r=m),p.push(h)}return p}function i(A,v,p,t){return["C",A,v,p,t,p,t]}function L(A,v,p,t,r,s){return["C",A/3+.6666666666666666*p,v/3+.6666666666666666*t,r/3+.6666666666666666*p,s/3+.6666666666666666*t,r,s]}},82019:function(W,H,e){var g=e(1750),P=e(95616),i=e(31457),L=e(89546),A=e(44781),v=document.createElement("canvas"),p=v.getContext("2d");W.exports=t;function t(n,l){if(!L(n))throw Error("Argument should be valid svg path string");l||(l={});var f,u;l.shape?(f=l.shape[0],u=l.shape[1]):(f=v.width=l.w||l.width||200,u=v.height=l.h||l.height||200);var m=Math.min(f,u),c=l.stroke||0,w=l.viewbox||l.viewBox||g(n),h=[f/(w[2]-w[0]),u/(w[3]-w[1])],o=Math.min(h[0]||0,h[1]||0)/2;if(p.fillStyle="black",p.fillRect(0,0,f,u),p.fillStyle="white",c&&(typeof c!="number"&&(c=1),c>0?p.strokeStyle="white":p.strokeStyle="black",p.lineWidth=Math.abs(c)),p.translate(f*.5,u*.5),p.scale(o,o),s()){var d=new Path2D(n);p.fill(d),c&&p.stroke(d)}else{var M=P(n);i(p,M),p.fill(),c&&p.stroke()}p.setTransform(1,0,0,1,0,0);var T=A(p,{cutoff:l.cutoff!=null?l.cutoff:.5,radius:l.radius!=null?l.radius:m*.5});return T}var r;function s(){if(r!=null)return r;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return r=!1;var l=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(l);var f=n.getImageData(0,0,1,1);return r=f&&f.data&&f.data[3]===255}},84267:function(W,H,e){var g;(function(P){var i=/^\s+/,L=/\s+$/,A=0,v=P.round,p=P.min,t=P.max,r=P.random;function s($,le){if($=$||"",le=le||{},$ instanceof s)return $;if(!(this instanceof s))return new s($,le);var ie=n($);this._originalInput=$,this._r=ie.r,this._g=ie.g,this._b=ie.b,this._a=ie.a,this._roundA=v(100*this._a)/100,this._format=le.format||ie.format,this._gradientType=le.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=ie.ok,this._tc_id=A++}s.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var $=this.toRgb();return($.r*299+$.g*587+$.b*114)/1e3},getLuminance:function(){var $=this.toRgb(),le,ie,ce,me,Me,we;return le=$.r/255,ie=$.g/255,ce=$.b/255,le<=.03928?me=le/12.92:me=P.pow((le+.055)/1.055,2.4),ie<=.03928?Me=ie/12.92:Me=P.pow((ie+.055)/1.055,2.4),ce<=.03928?we=ce/12.92:we=P.pow((ce+.055)/1.055,2.4),.2126*me+.7152*Me+.0722*we},setAlpha:function($){return this._a=_($),this._roundA=v(100*this._a)/100,this},toHsv:function(){var $=m(this._r,this._g,this._b);return{h:$.h*360,s:$.s,v:$.v,a:this._a}},toHsvString:function(){var $=m(this._r,this._g,this._b),le=v($.h*360),ie=v($.s*100),ce=v($.v*100);return this._a==1?"hsv("+le+", "+ie+"%, "+ce+"%)":"hsva("+le+", "+ie+"%, "+ce+"%, "+this._roundA+")"},toHsl:function(){var $=f(this._r,this._g,this._b);return{h:$.h*360,s:$.s,l:$.l,a:this._a}},toHslString:function(){var $=f(this._r,this._g,this._b),le=v($.h*360),ie=v($.s*100),ce=v($.l*100);return this._a==1?"hsl("+le+", "+ie+"%, "+ce+"%)":"hsla("+le+", "+ie+"%, "+ce+"%, "+this._roundA+")"},toHex:function($){return w(this._r,this._g,this._b,$)},toHexString:function($){return"#"+this.toHex($)},toHex8:function($){return h(this._r,this._g,this._b,this._a,$)},toHex8String:function($){return"#"+this.toHex8($)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(U(this._r,255)*100)+"%",g:v(U(this._g,255)*100)+"%",b:v(U(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+v(U(this._r,255)*100)+"%, "+v(U(this._g,255)*100)+"%, "+v(U(this._b,255)*100)+"%)":"rgba("+v(U(this._r,255)*100)+"%, "+v(U(this._g,255)*100)+"%, "+v(U(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:O[w(this._r,this._g,this._b,!0)]||!1},toFilter:function($){var le="#"+o(this._r,this._g,this._b,this._a),ie=le,ce=this._gradientType?"GradientType = 1, ":"";if($){var me=s($);ie="#"+o(me._r,me._g,me._b,me._a)}return"progid:DXImageTransform.Microsoft.gradient("+ce+"startColorstr="+le+",endColorstr="+ie+")"},toString:function($){var le=!!$;$=$||this._format;var ie=!1,ce=this._a<1&&this._a>=0,me=!le&&ce&&($==="hex"||$==="hex6"||$==="hex3"||$==="hex4"||$==="hex8"||$==="name");return me?$==="name"&&this._a===0?this.toName():this.toRgbString():($==="rgb"&&(ie=this.toRgbString()),$==="prgb"&&(ie=this.toPercentageRgbString()),($==="hex"||$==="hex6")&&(ie=this.toHexString()),$==="hex3"&&(ie=this.toHexString(!0)),$==="hex4"&&(ie=this.toHex8String(!0)),$==="hex8"&&(ie=this.toHex8String()),$==="name"&&(ie=this.toName()),$==="hsl"&&(ie=this.toHslString()),$==="hsv"&&(ie=this.toHsvString()),ie||this.toHexString())},clone:function(){return s(this.toString())},_applyModification:function($,le){var ie=$.apply(null,[this].concat([].slice.call(le)));return this._r=ie._r,this._g=ie._g,this._b=ie._b,this.setAlpha(ie._a),this},lighten:function(){return this._applyModification(E,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(S,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(M,arguments)},greyscale:function(){return this._applyModification(T,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function($,le){return $.apply(null,[this].concat([].slice.call(le)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(a,arguments)},monochromatic:function(){return this._applyCombination(B,arguments)},splitcomplement:function(){return this._applyCombination(z,arguments)},triad:function(){return this._applyCombination(C,arguments)},tetrad:function(){return this._applyCombination(y,arguments)}},s.fromRatio=function($,le){if(typeof $=="object"){var ie={};for(var ce in $)$.hasOwnProperty(ce)&&(ce==="a"?ie[ce]=$[ce]:ie[ce]=Q($[ce]));$=ie}return s($,le)};function n($){var le={r:0,g:0,b:0},ie=1,ce=null,me=null,Me=null,we=!1,Oe=!1;return typeof $=="string"&&($=se($)),typeof $=="object"&&(ee($.r)&&ee($.g)&&ee($.b)?(le=l($.r,$.g,$.b),we=!0,Oe=String($.r).substr(-1)==="%"?"prgb":"rgb"):ee($.h)&&ee($.s)&&ee($.v)?(ce=Q($.s),me=Q($.v),le=c($.h,ce,me),we=!0,Oe="hsv"):ee($.h)&&ee($.s)&&ee($.l)&&(ce=Q($.s),Me=Q($.l),le=u($.h,ce,Me),we=!0,Oe="hsl"),$.hasOwnProperty("a")&&(ie=$.a)),ie=_(ie),{ok:we,format:$.format||Oe,r:p(255,t(le.r,0)),g:p(255,t(le.g,0)),b:p(255,t(le.b,0)),a:ie}}function l($,le,ie){return{r:U($,255)*255,g:U(le,255)*255,b:U(ie,255)*255}}function f($,le,ie){$=U($,255),le=U(le,255),ie=U(ie,255);var ce=t($,le,ie),me=p($,le,ie),Me,we,Oe=(ce+me)/2;if(ce==me)Me=we=0;else{var Be=ce-me;switch(we=Oe>.5?Be/(2-ce-me):Be/(ce+me),ce){case $:Me=(le-ie)/Be+(le<ie?6:0);break;case le:Me=(ie-$)/Be+2;break;case ie:Me=($-le)/Be+4;break}Me/=6}return{h:Me,s:we,l:Oe}}function u($,le,ie){var ce,me,Me;$=U($,360),le=U(le,100),ie=U(ie,100);function we(Ce,xe,Se){return Se<0&&(Se+=1),Se>1&&(Se-=1),Se<.16666666666666666?Ce+(xe-Ce)*6*Se:Se<.5?xe:Se<.6666666666666666?Ce+(xe-Ce)*(.6666666666666666-Se)*6:Ce}if(le===0)ce=me=Me=ie;else{var Oe=ie<.5?ie*(1+le):ie+le-ie*le,Be=2*ie-Oe;ce=we(Be,Oe,$+.3333333333333333),me=we(Be,Oe,$),Me=we(Be,Oe,$-.3333333333333333)}return{r:ce*255,g:me*255,b:Me*255}}function m($,le,ie){$=U($,255),le=U(le,255),ie=U(ie,255);var ce=t($,le,ie),me=p($,le,ie),Me,we,Oe=ce,Be=ce-me;if(we=ce===0?0:Be/ce,ce==me)Me=0;else{switch(ce){case $:Me=(le-ie)/Be+(le<ie?6:0);break;case le:Me=(ie-$)/Be+2;break;case ie:Me=($-le)/Be+4;break}Me/=6}return{h:Me,s:we,v:Oe}}function c($,le,ie){$=U($,360)*6,le=U(le,100),ie=U(ie,100);var ce=P.floor($),me=$-ce,Me=ie*(1-le),we=ie*(1-me*le),Oe=ie*(1-(1-me)*le),Be=ce%6,Ce=[ie,we,Me,Me,Oe,ie][Be],xe=[Oe,ie,ie,we,Me,Me][Be],Se=[Me,Me,Oe,ie,ie,we][Be];return{r:Ce*255,g:xe*255,b:Se*255}}function w($,le,ie,ce){var me=[fe(v($).toString(16)),fe(v(le).toString(16)),fe(v(ie).toString(16))];return ce&&me[0].charAt(0)==me[0].charAt(1)&&me[1].charAt(0)==me[1].charAt(1)&&me[2].charAt(0)==me[2].charAt(1)?me[0].charAt(0)+me[1].charAt(0)+me[2].charAt(0):me.join("")}function h($,le,ie,ce,me){var Me=[fe(v($).toString(16)),fe(v(le).toString(16)),fe(v(ie).toString(16)),fe(j(ce))];return me&&Me[0].charAt(0)==Me[0].charAt(1)&&Me[1].charAt(0)==Me[1].charAt(1)&&Me[2].charAt(0)==Me[2].charAt(1)&&Me[3].charAt(0)==Me[3].charAt(1)?Me[0].charAt(0)+Me[1].charAt(0)+Me[2].charAt(0)+Me[3].charAt(0):Me.join("")}function o($,le,ie,ce){var me=[fe(j(ce)),fe(v($).toString(16)),fe(v(le).toString(16)),fe(v(ie).toString(16))];return me.join("")}s.equals=function($,le){return!$||!le?!1:s($).toRgbString()==s(le).toRgbString()},s.random=function(){return s.fromRatio({r:r(),g:r(),b:r()})};function d($,le){le=le===0?0:le||10;var ie=s($).toHsl();return ie.s-=le/100,ie.s=Y(ie.s),s(ie)}function M($,le){le=le===0?0:le||10;var ie=s($).toHsl();return ie.s+=le/100,ie.s=Y(ie.s),s(ie)}function T($){return s($).desaturate(100)}function E($,le){le=le===0?0:le||10;var ie=s($).toHsl();return ie.l+=le/100,ie.l=Y(ie.l),s(ie)}function x($,le){le=le===0?0:le||10;var ie=s($).toRgb();return ie.r=t(0,p(255,ie.r-v(255*-(le/100)))),ie.g=t(0,p(255,ie.g-v(255*-(le/100)))),ie.b=t(0,p(255,ie.b-v(255*-(le/100)))),s(ie)}function S($,le){le=le===0?0:le||10;var ie=s($).toHsl();return ie.l-=le/100,ie.l=Y(ie.l),s(ie)}function b($,le){var ie=s($).toHsl(),ce=(ie.h+le)%360;return ie.h=ce<0?360+ce:ce,s(ie)}function a($){var le=s($).toHsl();return le.h=(le.h+180)%360,s(le)}function C($){var le=s($).toHsl(),ie=le.h;return[s($),s({h:(ie+120)%360,s:le.s,l:le.l}),s({h:(ie+240)%360,s:le.s,l:le.l})]}function y($){var le=s($).toHsl(),ie=le.h;return[s($),s({h:(ie+90)%360,s:le.s,l:le.l}),s({h:(ie+180)%360,s:le.s,l:le.l}),s({h:(ie+270)%360,s:le.s,l:le.l})]}function z($){var le=s($).toHsl(),ie=le.h;return[s($),s({h:(ie+72)%360,s:le.s,l:le.l}),s({h:(ie+216)%360,s:le.s,l:le.l})]}function I($,le,ie){le=le||6,ie=ie||30;var ce=s($).toHsl(),me=360/ie,Me=[s($)];for(ce.h=(ce.h-(me*le>>1)+720)%360;--le;)ce.h=(ce.h+me)%360,Me.push(s(ce));return Me}function B($,le){le=le||6;for(var ie=s($).toHsv(),ce=ie.h,me=ie.s,Me=ie.v,we=[],Oe=1/le;le--;)we.push(s({h:ce,s:me,v:Me})),Me=(Me+Oe)%1;return we}s.mix=function($,le,ie){ie=ie===0?0:ie||50;var ce=s($).toRgb(),me=s(le).toRgb(),Me=ie/100,we={r:(me.r-ce.r)*Me+ce.r,g:(me.g-ce.g)*Me+ce.g,b:(me.b-ce.b)*Me+ce.b,a:(me.a-ce.a)*Me+ce.a};return s(we)},s.readability=function($,le){var ie=s($),ce=s(le);return(P.max(ie.getLuminance(),ce.getLuminance())+.05)/(P.min(ie.getLuminance(),ce.getLuminance())+.05)},s.isReadable=function($,le,ie){var ce=s.readability($,le),me,Me;switch(Me=!1,me=q(ie),me.level+me.size){case"AAsmall":case"AAAlarge":Me=ce>=4.5;break;case"AAlarge":Me=ce>=3;break;case"AAAsmall":Me=ce>=7;break}return Me},s.mostReadable=function($,le,ie){var ce=null,me=0,Me,we,Oe,Be;ie=ie||{},we=ie.includeFallbackColors,Oe=ie.level,Be=ie.size;for(var Ce=0;Ce<le.length;Ce++)Me=s.readability($,le[Ce]),Me>me&&(me=Me,ce=s(le[Ce]));return s.isReadable($,ce,{level:Oe,size:Be})||!we?ce:(ie.includeFallbackColors=!1,s.mostReadable($,["#fff","#000"],ie))};var F=s.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},O=s.hexNames=N(F);function N($){var le={};for(var ie in $)$.hasOwnProperty(ie)&&(le[$[ie]]=ie);return le}function _($){return $=parseFloat($),(isNaN($)||$<0||$>1)&&($=1),$}function U($,le){re($)&&($="100%");var ie=ae($);return $=p(le,t(0,parseFloat($))),ie&&($=parseInt($*le,10)/100),P.abs($-le)<1e-6?1:$%le/parseFloat(le)}function Y($){return p(1,t(0,$))}function K($){return parseInt($,16)}function re($){return typeof $=="string"&&$.indexOf(".")!=-1&&parseFloat($)===1}function ae($){return typeof $=="string"&&$.indexOf("%")!=-1}function fe($){return $.length==1?"0"+$:""+$}function Q($){return $<=1&&($=$*100+"%"),$}function j($){return P.round(parseFloat($)*255).toString(16)}function X($){return K($)/255}var J=function(){var $="[-\\+]?\\d+%?",le="[-\\+]?\\d*\\.\\d+%?",ie="(?:"+le+")|(?:"+$+")",ce="[\\s|\\(]+("+ie+")[,|\\s]+("+ie+")[,|\\s]+("+ie+")\\s*\\)?",me="[\\s|\\(]+("+ie+")[,|\\s]+("+ie+")[,|\\s]+("+ie+")[,|\\s]+("+ie+")\\s*\\)?";return{CSS_UNIT:new RegExp(ie),rgb:new RegExp("rgb"+ce),rgba:new RegExp("rgba"+me),hsl:new RegExp("hsl"+ce),hsla:new RegExp("hsla"+me),hsv:new RegExp("hsv"+ce),hsva:new RegExp("hsva"+me),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ee($){return!!J.CSS_UNIT.exec($)}function se($){$=$.replace(i,"").replace(L,"").toLowerCase();var le=!1;if(F[$])$=F[$],le=!0;else if($=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ie;return(ie=J.rgb.exec($))?{r:ie[1],g:ie[2],b:ie[3]}:(ie=J.rgba.exec($))?{r:ie[1],g:ie[2],b:ie[3],a:ie[4]}:(ie=J.hsl.exec($))?{h:ie[1],s:ie[2],l:ie[3]}:(ie=J.hsla.exec($))?{h:ie[1],s:ie[2],l:ie[3],a:ie[4]}:(ie=J.hsv.exec($))?{h:ie[1],s:ie[2],v:ie[3]}:(ie=J.hsva.exec($))?{h:ie[1],s:ie[2],v:ie[3],a:ie[4]}:(ie=J.hex8.exec($))?{r:K(ie[1]),g:K(ie[2]),b:K(ie[3]),a:X(ie[4]),format:le?"name":"hex8"}:(ie=J.hex6.exec($))?{r:K(ie[1]),g:K(ie[2]),b:K(ie[3]),format:le?"name":"hex"}:(ie=J.hex4.exec($))?{r:K(ie[1]+""+ie[1]),g:K(ie[2]+""+ie[2]),b:K(ie[3]+""+ie[3]),a:X(ie[4]+""+ie[4]),format:le?"name":"hex8"}:(ie=J.hex3.exec($))?{r:K(ie[1]+""+ie[1]),g:K(ie[2]+""+ie[2]),b:K(ie[3]+""+ie[3]),format:le?"name":"hex"}:!1}function q($){var le,ie;return $=$||{level:"AA",size:"small"},le=($.level||"AA").toUpperCase(),ie=($.size||"small").toLowerCase(),le!=="AA"&&le!=="AAA"&&(le="AA"),ie!=="small"&&ie!=="large"&&(ie="small"),{level:le,size:ie}}W.exports?W.exports=s:(g=(function(){return s}).call(H,e,H,W),g!==void 0&&(W.exports=g))})(Math)},57060:function(W){W.exports=g,W.exports.float32=W.exports.float=g,W.exports.fract32=W.exports.fract=e;var H=new Float32Array(1);function e(P,i){if(P.length){if(P instanceof Float32Array)return new Float32Array(P.length);i instanceof Float32Array||(i=g(P));for(var L=0,A=i.length;L<A;L++)i[L]=P[L]-i[L];return i}return g(P-g(P))}function g(P){return P.length?P instanceof Float32Array?P:new Float32Array(P):(H[0]=P,H[0])}},75686:function(W,H,e){var g=e(25677);W.exports=A;var P=96;function i(v,p){var t=g(getComputedStyle(v).getPropertyValue(p));return t[0]*A(t[1],v)}function L(v,p){var t=document.createElement("div");t.style["font-size"]="128"+v,p.appendChild(t);var r=i(t,"font-size")/128;return p.removeChild(t),r}function A(v,p){switch(p=p||document.body,v=(v||"px").trim().toLowerCase(),(p===window||p===document)&&(p=document.body),v){case"%":return p.clientHeight/100;case"ch":case"ex":return L(v,p);case"em":return i(p,"font-size");case"rem":return i(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return P;case"cm":return P/2.54;case"mm":return P/25.4;case"pt":return P/72;case"pc":return P/6}return 1}},96892:function(W,H,e){e.d(H,{zL:function(){return L}});function g(p,t){for(var r,s=p.length,n=s-t;n<--s;)r=p[n],p[n++]=p[s],p[s]=r}function P(p){return p}function i(p){if(p==null)return P;var t,r,s=p.scale[0],n=p.scale[1],l=p.translate[0],f=p.translate[1];return function(u,m){m||(t=r=0);var c=2,w=u.length,h=new Array(w);for(h[0]=(t+=u[0])*s+l,h[1]=(r+=u[1])*n+f;c<w;)h[c]=u[c],++c;return h}}function L(p,t){return typeof t=="string"&&(t=p.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(r){return A(p,r)})}:A(p,t)}function A(p,t){var r=t.id,s=t.bbox,n=t.properties==null?{}:t.properties,l=v(p,t);return r==null&&s==null?{type:"Feature",properties:n,geometry:l}:s==null?{type:"Feature",id:r,properties:n,geometry:l}:{type:"Feature",id:r,bbox:s,properties:n,geometry:l}}function v(p,t){var r=i(p.transform),s=p.arcs;function n(w,h){h.length&&h.pop();for(var o=s[w<0?~w:w],d=0,M=o.length;d<M;++d)h.push(r(o[d],d));w<0&&g(h,M)}function l(w){return r(w)}function f(w){for(var h=[],o=0,d=w.length;o<d;++o)n(w[o],h);return h.length<2&&h.push(h[0]),h}function u(w){for(var h=f(w);h.length<4;)h.push(h[0]);return h}function m(w){return w.map(u)}function c(w){var h=w.type,o;switch(h){case"GeometryCollection":return{type:h,geometries:w.geometries.map(c)};case"Point":o=l(w.coordinates);break;case"MultiPoint":o=w.coordinates.map(l);break;case"LineString":o=f(w.arcs);break;case"MultiLineString":o=w.arcs.map(f);break;case"Polygon":o=m(w.arcs);break;case"MultiPolygon":o=w.arcs.map(m);break;default:return null}return{type:h,coordinates:o}}return c(t)}},73116:function(W,H,e){var g=e(24511);W.exports=function(P){if(typeof P!="function"||!hasOwnProperty.call(P,"length"))return!1;try{if(typeof P.length!="number"||typeof P.call!="function"||typeof P.apply!="function")return!1}catch{return!1}return!g(P)}},69190:function(W,H,e){var g=e(24582),P=e(47403),i=e(9234),L=e(6048),A=function(v,p){return v.replace("%v",L(p))};W.exports=function(v,p,t){if(!P(t))throw new TypeError(A(p,v));if(!g(v)){if("default"in t)return t.default;if(t.isOptional)return null}var r=i(t.errorMessage);throw g(r)||(r=p),new TypeError(A(r,v))}},18497:function(W){W.exports=function(H){try{return H.toString()}catch{try{return String(H)}catch{return null}}}},6048:function(W,H,e){var g=e(18497),P=/[\n\r\u2028\u2029]/g;W.exports=function(i){var L=g(i);return L===null?"<Non-coercible to string value>":(L.length>100&&(L=L.slice(0,99)+""),L=L.replace(P,function(A){switch(A){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),L)}},47403:function(W,H,e){var g=e(24582),P={object:!0,function:!0,undefined:!0};W.exports=function(i){return g(i)?hasOwnProperty.call(P,typeof i):!1}},82527:function(W,H,e){var g=e(69190),P=e(84985);W.exports=function(i){return P(i)?i:g(i,"%v is not a plain function",arguments[1])}},84985:function(W,H,e){var g=e(73116),P=/^\s*class[\s{/}]/,i=Function.prototype.toString;W.exports=function(L){return!(!g(L)||P.test(i.call(L)))}},24511:function(W,H,e){var g=e(47403);W.exports=function(P){if(!g(P))return!1;try{return P.constructor?P.constructor.prototype===P:!1}catch{return!1}}},9234:function(W,H,e){var g=e(24582),P=e(47403),i=Object.prototype.toString;W.exports=function(L){if(!g(L))return null;if(P(L)){var A=L.toString;if(typeof A!="function"||A===i)return null}try{return""+L}catch{return null}}},10424:function(W,H,e){var g=e(69190),P=e(24582);W.exports=function(i){return P(i)?i:g(i,"Cannot use %v",arguments[1])}},24582:function(W){var H=void 0;W.exports=function(e){return e!==H&&e!==null}},58404:function(W,H,e){var g=e(13547),P=e(12129),i=e(12856).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:P([32,0]),UINT16:P([32,0]),UINT32:P([32,0]),BIGUINT64:P([32,0]),INT8:P([32,0]),INT16:P([32,0]),INT32:P([32,0]),BIGINT64:P([32,0]),FLOAT:P([32,0]),DOUBLE:P([32,0]),DATA:P([32,0]),UINT8C:P([32,0]),BUFFER:P([32,0])});var L=typeof Uint8ClampedArray<"u",A=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",p=e.g.__TYPEDARRAY_POOL;p.UINT8C||(p.UINT8C=P([32,0])),p.BIGUINT64||(p.BIGUINT64=P([32,0])),p.BIGINT64||(p.BIGINT64=P([32,0])),p.BUFFER||(p.BUFFER=P([32,0]));var t=p.DATA,r=p.BUFFER;H.free=function(a){if(i.isBuffer(a))r[g.log2(a.length)].push(a);else{if(Object.prototype.toString.call(a)!=="[object ArrayBuffer]"&&(a=a.buffer),!a)return;var C=a.length||a.byteLength,y=g.log2(C)|0;t[y].push(a)}};function s(b){if(b){var a=b.length||b.byteLength,C=g.log2(a);t[C].push(b)}}function n(b){s(b.buffer)}H.freeUint8=H.freeUint16=H.freeUint32=H.freeBigUint64=H.freeInt8=H.freeInt16=H.freeInt32=H.freeBigInt64=H.freeFloat32=H.freeFloat=H.freeFloat64=H.freeDouble=H.freeUint8Clamped=H.freeDataView=n,H.freeArrayBuffer=s,H.freeBuffer=function(a){r[g.log2(a.length)].push(a)},H.malloc=function(a,C){if(C===void 0||C==="arraybuffer")return l(a);switch(C){case"uint8":return f(a);case"uint16":return u(a);case"uint32":return m(a);case"int8":return c(a);case"int16":return w(a);case"int32":return h(a);case"float":case"float32":return o(a);case"double":case"float64":return d(a);case"uint8_clamped":return M(a);case"bigint64":return E(a);case"biguint64":return T(a);case"buffer":return S(a);case"data":case"dataview":return x(a);default:return null}return null};function l(a){var a=g.nextPow2(a),C=g.log2(a),y=t[C];return y.length>0?y.pop():new ArrayBuffer(a)}H.mallocArrayBuffer=l;function f(b){return new Uint8Array(l(b),0,b)}H.mallocUint8=f;function u(b){return new Uint16Array(l(2*b),0,b)}H.mallocUint16=u;function m(b){return new Uint32Array(l(4*b),0,b)}H.mallocUint32=m;function c(b){return new Int8Array(l(b),0,b)}H.mallocInt8=c;function w(b){return new Int16Array(l(2*b),0,b)}H.mallocInt16=w;function h(b){return new Int32Array(l(4*b),0,b)}H.mallocInt32=h;function o(b){return new Float32Array(l(4*b),0,b)}H.mallocFloat32=H.mallocFloat=o;function d(b){return new Float64Array(l(8*b),0,b)}H.mallocFloat64=H.mallocDouble=d;function M(b){return L?new Uint8ClampedArray(l(b),0,b):f(b)}H.mallocUint8Clamped=M;function T(b){return A?new BigUint64Array(l(8*b),0,b):null}H.mallocBigUint64=T;function E(b){return v?new BigInt64Array(l(8*b),0,b):null}H.mallocBigInt64=E;function x(b){return new DataView(l(b),0,b)}H.mallocDataView=x;function S(b){b=g.nextPow2(b);var a=g.log2(b),C=r[a];return C.length>0?C.pop():new i(b)}H.mallocBuffer=S,H.clearCache=function(){for(var a=0;a<32;++a)p.UINT8[a].length=0,p.UINT16[a].length=0,p.UINT32[a].length=0,p.INT8[a].length=0,p.INT16[a].length=0,p.INT32[a].length=0,p.FLOAT[a].length=0,p.DOUBLE[a].length=0,p.BIGUINT64[a].length=0,p.BIGINT64[a].length=0,p.UINT8C[a].length=0,t[a].length=0,r[a].length=0}},90448:function(W){var H=/[\'\"]/;W.exports=function(g){return g?(H.test(g.charAt(0))&&(g=g.substr(1)),H.test(g.charAt(g.length-1))&&(g=g.substr(0,g.length-1)),g):""}},93447:function(W){W.exports=function(e,g,P){Array.isArray(P)||(P=[].slice.call(arguments,2));for(var i=0,L=P.length;i<L;i++){var A=P[i];for(var v in A)if(!(g[v]!==void 0&&!Array.isArray(g[v])&&e[v]===g[v])&&v in g){var p;if(A[v]===!0)p=g[v];else{if(A[v]===!1)continue;if(typeof A[v]=="function"&&(p=A[v](g[v],e,g),p===void 0))continue}e[v]=p}}return e}},20588:function(W,H,e){W.exports=g;function g(i,L){if(P("noDeprecation"))return i;var A=!1;function v(){if(!A){if(P("throwDeprecation"))throw new Error(L);P("traceDeprecation")?console.trace(L):console.warn(L),A=!0}return i.apply(this,arguments)}return v}function P(i){try{if(!e.g.localStorage)return!1}catch{return!1}var L=e.g.localStorage[i];return L==null?!1:String(L).toLowerCase()==="true"}},45920:function(W){W.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},4936:function(W,H,e){var g=e(47216),P=e(65481),i=e(21099),L=e(9187);function A(Me){return Me.call.bind(Me)}var v=typeof BigInt<"u",p=typeof Symbol<"u",t=A(Object.prototype.toString),r=A(Number.prototype.valueOf),s=A(String.prototype.valueOf),n=A(Boolean.prototype.valueOf);if(v)var l=A(BigInt.prototype.valueOf);if(p)var f=A(Symbol.prototype.valueOf);function u(Me,we){if(typeof Me!="object")return!1;try{return we(Me),!0}catch{return!1}}H.isArgumentsObject=g,H.isGeneratorFunction=P,H.isTypedArray=L;function m(Me){return typeof Promise<"u"&&Me instanceof Promise||Me!==null&&typeof Me=="object"&&typeof Me.then=="function"&&typeof Me.catch=="function"}H.isPromise=m;function c(Me){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Me):L(Me)||K(Me)}H.isArrayBufferView=c;function w(Me){return i(Me)==="Uint8Array"}H.isUint8Array=w;function h(Me){return i(Me)==="Uint8ClampedArray"}H.isUint8ClampedArray=h;function o(Me){return i(Me)==="Uint16Array"}H.isUint16Array=o;function d(Me){return i(Me)==="Uint32Array"}H.isUint32Array=d;function M(Me){return i(Me)==="Int8Array"}H.isInt8Array=M;function T(Me){return i(Me)==="Int16Array"}H.isInt16Array=T;function E(Me){return i(Me)==="Int32Array"}H.isInt32Array=E;function x(Me){return i(Me)==="Float32Array"}H.isFloat32Array=x;function S(Me){return i(Me)==="Float64Array"}H.isFloat64Array=S;function b(Me){return i(Me)==="BigInt64Array"}H.isBigInt64Array=b;function a(Me){return i(Me)==="BigUint64Array"}H.isBigUint64Array=a;function C(Me){return t(Me)==="[object Map]"}C.working=typeof Map<"u"&&C(new Map);function y(Me){return typeof Map>"u"?!1:C.working?C(Me):Me instanceof Map}H.isMap=y;function z(Me){return t(Me)==="[object Set]"}z.working=typeof Set<"u"&&z(new Set);function I(Me){return typeof Set>"u"?!1:z.working?z(Me):Me instanceof Set}H.isSet=I;function B(Me){return t(Me)==="[object WeakMap]"}B.working=typeof WeakMap<"u"&&B(new WeakMap);function F(Me){return typeof WeakMap>"u"?!1:B.working?B(Me):Me instanceof WeakMap}H.isWeakMap=F;function O(Me){return t(Me)==="[object WeakSet]"}O.working=typeof WeakSet<"u"&&O(new WeakSet);function N(Me){return O(Me)}H.isWeakSet=N;function _(Me){return t(Me)==="[object ArrayBuffer]"}_.working=typeof ArrayBuffer<"u"&&_(new ArrayBuffer);function U(Me){return typeof ArrayBuffer>"u"?!1:_.working?_(Me):Me instanceof ArrayBuffer}H.isArrayBuffer=U;function Y(Me){return t(Me)==="[object DataView]"}Y.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Y(new DataView(new ArrayBuffer(1),0,1));function K(Me){return typeof DataView>"u"?!1:Y.working?Y(Me):Me instanceof DataView}H.isDataView=K;var re=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ae(Me){return t(Me)==="[object SharedArrayBuffer]"}function fe(Me){return typeof re>"u"?!1:(typeof ae.working>"u"&&(ae.working=ae(new re)),ae.working?ae(Me):Me instanceof re)}H.isSharedArrayBuffer=fe;function Q(Me){return t(Me)==="[object AsyncFunction]"}H.isAsyncFunction=Q;function j(Me){return t(Me)==="[object Map Iterator]"}H.isMapIterator=j;function X(Me){return t(Me)==="[object Set Iterator]"}H.isSetIterator=X;function J(Me){return t(Me)==="[object Generator]"}H.isGeneratorObject=J;function ee(Me){return t(Me)==="[object WebAssembly.Module]"}H.isWebAssemblyCompiledModule=ee;function se(Me){return u(Me,r)}H.isNumberObject=se;function q(Me){return u(Me,s)}H.isStringObject=q;function $(Me){return u(Me,n)}H.isBooleanObject=$;function le(Me){return v&&u(Me,l)}H.isBigIntObject=le;function ie(Me){return p&&u(Me,f)}H.isSymbolObject=ie;function ce(Me){return se(Me)||q(Me)||$(Me)||le(Me)||ie(Me)}H.isBoxedPrimitive=ce;function me(Me){return typeof Uint8Array<"u"&&(U(Me)||fe(Me))}H.isAnyArrayBuffer=me,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Me){Object.defineProperty(H,Me,{enumerable:!1,value:function(){throw new Error(Me+" is not supported in userland")}})})},43827:function(W,H,e){var g=e(90386),P=Object.getOwnPropertyDescriptors||function(re){for(var ae=Object.keys(re),fe={},Q=0;Q<ae.length;Q++)fe[ae[Q]]=Object.getOwnPropertyDescriptor(re,ae[Q]);return fe},i=/%[sdj%]/g;H.format=function(K){if(!T(K)){for(var re=[],ae=0;ae<arguments.length;ae++)re.push(p(arguments[ae]));return re.join(" ")}for(var ae=1,fe=arguments,Q=fe.length,j=String(K).replace(i,function(J){if(J==="%%")return"%";if(ae>=Q)return J;switch(J){case"%s":return String(fe[ae++]);case"%d":return Number(fe[ae++]);case"%j":try{return JSON.stringify(fe[ae++])}catch{return"[Circular]"}default:return J}}),X=fe[ae];ae<Q;X=fe[++ae])o(X)||!b(X)?j+=" "+X:j+=" "+p(X);return j},H.deprecate=function(K,re){if(typeof g<"u"&&g.noDeprecation===!0)return K;if(typeof g>"u")return function(){return H.deprecate(K,re).apply(this,arguments)};var ae=!1;function fe(){if(!ae){if(g.throwDeprecation)throw new Error(re);g.traceDeprecation?console.trace(re):console.error(re),ae=!0}return K.apply(this,arguments)}return fe};var L={},A=/^$/;if({}.NODE_DEBUG){var v={}.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),A=new RegExp("^"+v+"$","i")}H.debuglog=function(K){if(K=K.toUpperCase(),!L[K])if(A.test(K)){var re=g.pid;L[K]=function(){var ae=H.format.apply(H,arguments);console.error("%s %d: %s",K,re,ae)}}else L[K]=function(){};return L[K]};function p(K,re){var ae={seen:[],stylize:r};return arguments.length>=3&&(ae.depth=arguments[2]),arguments.length>=4&&(ae.colors=arguments[3]),h(re)?ae.showHidden=re:re&&H._extend(ae,re),x(ae.showHidden)&&(ae.showHidden=!1),x(ae.depth)&&(ae.depth=2),x(ae.colors)&&(ae.colors=!1),x(ae.customInspect)&&(ae.customInspect=!0),ae.colors&&(ae.stylize=t),n(ae,K,ae.depth)}H.inspect=p,p.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function t(K,re){var ae=p.styles[re];return ae?"\x1B["+p.colors[ae][0]+"m"+K+"\x1B["+p.colors[ae][1]+"m":K}function r(K,re){return K}function s(K){var re={};return K.forEach(function(ae,fe){re[ae]=!0}),re}function n(K,re,ae){if(K.customInspect&&re&&y(re.inspect)&&re.inspect!==H.inspect&&!(re.constructor&&re.constructor.prototype===re)){var fe=re.inspect(ae,K);return T(fe)||(fe=n(K,fe,ae)),fe}var Q=l(K,re);if(Q)return Q;var j=Object.keys(re),X=s(j);if(K.showHidden&&(j=Object.getOwnPropertyNames(re)),C(re)&&(j.indexOf("message")>=0||j.indexOf("description")>=0))return f(re);if(j.length===0){if(y(re)){var J=re.name?": "+re.name:"";return K.stylize("[Function"+J+"]","special")}if(S(re))return K.stylize(RegExp.prototype.toString.call(re),"regexp");if(a(re))return K.stylize(Date.prototype.toString.call(re),"date");if(C(re))return f(re)}var ee="",se=!1,q=["{","}"];if(w(re)&&(se=!0,q=["[","]"]),y(re)){var $=re.name?": "+re.name:"";ee=" [Function"+$+"]"}if(S(re)&&(ee=" "+RegExp.prototype.toString.call(re)),a(re)&&(ee=" "+Date.prototype.toUTCString.call(re)),C(re)&&(ee=" "+f(re)),j.length===0&&(!se||re.length==0))return q[0]+ee+q[1];if(ae<0)return S(re)?K.stylize(RegExp.prototype.toString.call(re),"regexp"):K.stylize("[Object]","special");K.seen.push(re);var le;return se?le=u(K,re,ae,X,j):le=j.map(function(ie){return m(K,re,ae,X,ie,se)}),K.seen.pop(),c(le,ee,q)}function l(K,re){if(x(re))return K.stylize("undefined","undefined");if(T(re)){var ae="'"+JSON.stringify(re).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return K.stylize(ae,"string")}if(M(re))return K.stylize(""+re,"number");if(h(re))return K.stylize(""+re,"boolean");if(o(re))return K.stylize("null","null")}function f(K){return"["+Error.prototype.toString.call(K)+"]"}function u(K,re,ae,fe,Q){for(var j=[],X=0,J=re.length;X<J;++X)N(re,String(X))?j.push(m(K,re,ae,fe,String(X),!0)):j.push("");return Q.forEach(function(ee){ee.match(/^\d+$/)||j.push(m(K,re,ae,fe,ee,!0))}),j}function m(K,re,ae,fe,Q,j){var X,J,ee;if(ee=Object.getOwnPropertyDescriptor(re,Q)||{value:re[Q]},ee.get?ee.set?J=K.stylize("[Getter/Setter]","special"):J=K.stylize("[Getter]","special"):ee.set&&(J=K.stylize("[Setter]","special")),N(fe,Q)||(X="["+Q+"]"),J||(K.seen.indexOf(ee.value)<0?(o(ae)?J=n(K,ee.value,null):J=n(K,ee.value,ae-1),J.indexOf(`
`)>-1&&(j?J=J.split(`
`).map(function(se){return"  "+se}).join(`
`).slice(2):J=`
`+J.split(`
`).map(function(se){return"   "+se}).join(`
`))):J=K.stylize("[Circular]","special")),x(X)){if(j&&Q.match(/^\d+$/))return J;X=JSON.stringify(""+Q),X.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(X=X.slice(1,-1),X=K.stylize(X,"name")):(X=X.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),X=K.stylize(X,"string"))}return X+": "+J}function c(K,re,ae){var fe=K.reduce(function(Q,j){return j.indexOf(`
`)>=0,Q+j.replace(/\u001b\[\d\d?m/g,"").length+1},0);return fe>60?ae[0]+(re===""?"":re+`
 `)+" "+K.join(`,
  `)+" "+ae[1]:ae[0]+re+" "+K.join(", ")+" "+ae[1]}H.types=e(4936);function w(K){return Array.isArray(K)}H.isArray=w;function h(K){return typeof K=="boolean"}H.isBoolean=h;function o(K){return K===null}H.isNull=o;function d(K){return K==null}H.isNullOrUndefined=d;function M(K){return typeof K=="number"}H.isNumber=M;function T(K){return typeof K=="string"}H.isString=T;function E(K){return typeof K=="symbol"}H.isSymbol=E;function x(K){return K===void 0}H.isUndefined=x;function S(K){return b(K)&&I(K)==="[object RegExp]"}H.isRegExp=S,H.types.isRegExp=S;function b(K){return typeof K=="object"&&K!==null}H.isObject=b;function a(K){return b(K)&&I(K)==="[object Date]"}H.isDate=a,H.types.isDate=a;function C(K){return b(K)&&(I(K)==="[object Error]"||K instanceof Error)}H.isError=C,H.types.isNativeError=C;function y(K){return typeof K=="function"}H.isFunction=y;function z(K){return K===null||typeof K=="boolean"||typeof K=="number"||typeof K=="string"||typeof K=="symbol"||typeof K>"u"}H.isPrimitive=z,H.isBuffer=e(45920);function I(K){return Object.prototype.toString.call(K)}function B(K){return K<10?"0"+K.toString(10):K.toString(10)}var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var K=new Date,re=[B(K.getHours()),B(K.getMinutes()),B(K.getSeconds())].join(":");return[K.getDate(),F[K.getMonth()],re].join(" ")}H.log=function(){console.log("%s - %s",O(),H.format.apply(H,arguments))},H.inherits=e(42018),H._extend=function(K,re){if(!re||!b(re))return K;for(var ae=Object.keys(re),fe=ae.length;fe--;)K[ae[fe]]=re[ae[fe]];return K};function N(K,re){return Object.prototype.hasOwnProperty.call(K,re)}var _=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;H.promisify=function(re){if(typeof re!="function")throw new TypeError('The "original" argument must be of type Function');if(_&&re[_]){var ae=re[_];if(typeof ae!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ae,_,{value:ae,enumerable:!1,writable:!1,configurable:!0}),ae}function ae(){for(var fe,Q,j=new Promise(function(ee,se){fe=ee,Q=se}),X=[],J=0;J<arguments.length;J++)X.push(arguments[J]);X.push(function(ee,se){ee?Q(ee):fe(se)});try{re.apply(this,X)}catch(ee){Q(ee)}return j}return Object.setPrototypeOf(ae,Object.getPrototypeOf(re)),_&&Object.defineProperty(ae,_,{value:ae,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ae,P(re))},H.promisify.custom=_;function U(K,re){if(!K){var ae=new Error("Promise was rejected with a falsy value");ae.reason=K,K=ae}return re(K)}function Y(K){if(typeof K!="function")throw new TypeError('The "original" argument must be of type Function');function re(){for(var ae=[],fe=0;fe<arguments.length;fe++)ae.push(arguments[fe]);var Q=ae.pop();if(typeof Q!="function")throw new TypeError("The last argument must be of type Function");var j=this,X=function(){return Q.apply(j,arguments)};K.apply(this,ae).then(function(J){g.nextTick(X.bind(null,null,J))},function(J){g.nextTick(U.bind(null,J,X))})}return Object.setPrototypeOf(re,Object.getPrototypeOf(K)),Object.defineProperties(re,P(K)),re}H.callbackify=Y},40372:function(W,H,e){var g=e(86249);W.exports=function(i){return g("webgl",i)}},21099:function(W,H,e){var g=e(31353),P=e(72077),i=e(6614),L=e(40383),A=i("Object.prototype.toString"),v=e(84543)(),p=typeof globalThis>"u"?e.g:globalThis,t=P(),r=i("String.prototype.slice"),s={},n=Object.getPrototypeOf;v&&L&&n&&g(t,function(u){if(typeof p[u]=="function"){var m=new p[u];if(Symbol.toStringTag in m){var c=n(m),w=L(c,Symbol.toStringTag);if(!w){var h=n(c);w=L(h,Symbol.toStringTag)}s[u]=w.get}}});var l=function(m){var c=!1;return g(s,function(w,h){if(!c)try{var o=w.call(m);o===h&&(c=o)}catch{}}),c},f=e(9187);W.exports=function(m){return f(m)?!v||!(Symbol.toStringTag in m)?r(A(m),8,-1):l(m):!1}},3961:function(W,H,e){var g=e(63489),P=e(56131),i=g.instance();function L(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}L.prototype=new g.baseCalendar,P(L.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(f,u){if(typeof f=="string"){var m=f.match(v);return m?m[0]:""}var c=this._validateYear(f),w=f.month(),h=""+this.toChineseMonth(c,w);return u&&h.length<2&&(h="0"+h),this.isIntercalaryMonth(c,w)&&(h+="i"),h},monthNames:function(f){if(typeof f=="string"){var u=f.match(p);return u?u[0]:""}var m=this._validateYear(f),c=f.month(),w=this.toChineseMonth(m,c),h=["","","","","","","","","","","",""][w-1];return this.isIntercalaryMonth(m,c)&&(h=""+h),h},monthNamesShort:function(f){if(typeof f=="string"){var u=f.match(t);return u?u[0]:""}var m=this._validateYear(f),c=f.month(),w=this.toChineseMonth(m,c),h=["","","","","","","","","","","",""][w-1];return this.isIntercalaryMonth(m,c)&&(h=""+h),h},parseMonth:function(f,u){f=this._validateYear(f);var m=parseInt(u),c;if(isNaN(m))u[0]===""&&(c=!0,u=u.substring(1)),u[u.length-1]===""&&(u=u.substring(0,u.length-1)),m=1+["","","","","","","","","","","",""].indexOf(u);else{var w=u[u.length-1];c=w==="i"||w==="I"}var h=this.toMonthIndex(f,m,c);return h},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(f,u){if(f.year&&(f=f.year()),typeof f!="number"||f<1888||f>2111)throw u.replace(/\{0\}/,this.local.name);return f},toMonthIndex:function(f,u,m){var c=this.intercalaryMonth(f),w=m&&u!==c;if(w||u<1||u>12)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var h;return c?!m&&u<=c?h=u-1:h=u:h=u-1,h},toChineseMonth:function(f,u){f.year&&(f=f.year(),u=f.month());var m=this.intercalaryMonth(f),c=m?12:11;if(u<0||u>c)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var w;return m?u<m?w=u+1:w=u:w=u+1,w},intercalaryMonth:function(f){f=this._validateYear(f);var u=r[f-r[0]],m=u>>13;return m},isIntercalaryMonth:function(f,u){f.year&&(f=f.year(),u=f.month());var m=this.intercalaryMonth(f);return!!m&&m===u},leapYear:function(f){return this.intercalaryMonth(f)!==0},weekOfYear:function(f,u,m){var c=this._validateYear(f,g.local.invalidyear),w=s[c-s[0]],h=w>>9&4095,o=w>>5&15,d=w&31,M;M=i.newDate(h,o,d),M.add(4-(M.dayOfWeek()||7),"d");var T=this.toJD(f,u,m)-M.toJD();return 1+Math.floor(T/7)},monthsInYear:function(f){return this.leapYear(f)?13:12},daysInMonth:function(f,u){f.year&&(u=f.month(),f=f.year()),f=this._validateYear(f);var m=r[f-r[0]],c=m>>13,w=c?12:11;if(u>w)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var h=m&1<<12-u?30:29;return h},weekDay:function(f,u,m){return(this.dayOfWeek(f,u,m)||7)<6},toJD:function(f,u,m){var c=this._validate(f,h,m,g.local.invalidDate);f=this._validateYear(c.year()),u=c.month(),m=c.day();var w=this.isIntercalaryMonth(f,u),h=this.toChineseMonth(f,u),o=l(f,h,m,w);return i.toJD(o.year,o.month,o.day)},fromJD:function(f){var u=i.fromJD(f),m=n(u.year(),u.month(),u.day()),c=this.toMonthIndex(m.year,m.month,m.isIntercalary);return this.newDate(m.year,c,m.day)},fromString:function(f){var u=f.match(A),m=this._validateYear(+u[1]),c=+u[2],w=!!u[3],h=this.toMonthIndex(m,c,w),o=+u[4];return this.newDate(m,h,o)},add:function(f,u,m){var c=f.year(),w=f.month(),h=this.isIntercalaryMonth(c,w),o=this.toChineseMonth(c,w),d=Object.getPrototypeOf(L.prototype).add.call(this,f,u,m);if(m==="y"){var M=d.year(),T=d.month(),E=this.isIntercalaryMonth(M,o),x=h&&E?this.toMonthIndex(M,o,!0):this.toMonthIndex(M,o,!1);x!==T&&d.month(x)}return d}});var A=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,p=/^??[]?/m,t=/^??[]?/m;g.calendars.chinese=L;var r=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],s=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n(f,u,m,c){var w,h;if(typeof f=="object")w=f,h=u||{};else{var o=typeof f=="number"&&f>=1888&&f<=2111;if(!o)throw new Error("Solar year outside range 1888-2111");var d=typeof u=="number"&&u>=1&&u<=12;if(!d)throw new Error("Solar month outside range 1 - 12");var M=typeof m=="number"&&m>=1&&m<=31;if(!M)throw new Error("Solar day outside range 1 - 31");w={year:f,month:u,day:m},h=c||{}}var T=s[w.year-s[0]],E=w.year<<9|w.month<<5|w.day;h.year=E>=T?w.year:w.year-1,T=s[h.year-s[0]];var x=T>>9&4095,S=T>>5&15,b=T&31,a,C=new Date(x,S-1,b),y=new Date(w.year,w.month-1,w.day);a=Math.round((y-C)/864e5);var z=r[h.year-r[0]],I;for(I=0;I<13;I++){var B=z&1<<12-I?30:29;if(a<B)break;a-=B}var F=z>>13;return!F||I<F?(h.isIntercalary=!1,h.month=1+I):I===F?(h.isIntercalary=!0,h.month=I):(h.isIntercalary=!1,h.month=I),h.day=1+a,h}function l(f,u,m,c,w){var h,o;if(typeof f=="object")o=f,h=u||{};else{var d=typeof f=="number"&&f>=1888&&f<=2111;if(!d)throw new Error("Lunar year outside range 1888-2111");var M=typeof u=="number"&&u>=1&&u<=12;if(!M)throw new Error("Lunar month outside range 1 - 12");var T=typeof m=="number"&&m>=1&&m<=30;if(!T)throw new Error("Lunar day outside range 1 - 30");var E;typeof c=="object"?(E=!1,h=c):(E=!!c,h=w||{}),o={year:f,month:u,day:m,isIntercalary:E}}var x;x=o.day-1;var S=r[o.year-r[0]],b=S>>13,a;b&&(o.month>b||o.isIntercalary)?a=o.month:a=o.month-1;for(var C=0;C<a;C++){var y=S&1<<12-C?30:29;x+=y}var z=s[o.year-s[0]],I=z>>9&4095,B=z>>5&15,F=z&31,O=new Date(I,B-1,F+x);return h.year=O.getFullYear(),h.month=1+O.getMonth(),h.day=O.getDate(),h}},38751:function(W,H,e){var g=e(63489),P=e(56131);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,P(i.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var A=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=A.year()+(A.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(L,A,v){var p=this.newDate(L,A,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(L,A){var v=this._validate(L,A,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(L,A,v){return(this.dayOfWeek(L,A,v)||7)<6},toJD:function(L,A,v){var p=this._validate(L,A,v,g.local.invalidDate);return L=p.year(),L<0&&L++,p.day()+(p.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var A=Math.floor(L)+.5-this.jdEpoch,v=Math.floor((A-Math.floor((A+366)/1461))/365)+1;v<=0&&v--,A=Math.floor(L)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(A/30)+1,t=A-(p-1)*30+1;return this.newDate(v,p,t)}}),g.calendars.coptic=i},86825:function(W,H,e){var g=e(63489),P=e(56131);function i(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,P(i.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(A){return this._validate(A,this.minMonth,this.minDay,g.local.invalidYear),!1},monthsInYear:function(A){return this._validate(A,this.minMonth,this.minDay,g.local.invalidYear),13},daysInYear:function(A){return this._validate(A,this.minMonth,this.minDay,g.local.invalidYear),400},weekOfYear:function(A,v,p){var t=this.newDate(A,v,p);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/8)+1},daysInMonth:function(A,v){var p=this._validate(A,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(A,v,p){var t=this._validate(A,v,p,g.local.invalidDate);return(t.day()+1)%8},weekDay:function(A,v,p){var t=this.dayOfWeek(A,v,p);return t>=2&&t<=6},extraInfo:function(A,v,p){var t=this._validate(A,v,p,g.local.invalidDate);return{century:L[Math.floor((t.year()-1)/100)+1]||""}},toJD:function(A,v,p){var t=this._validate(A,v,p,g.local.invalidDate);return A=t.year()+(t.year()<0?1:0),v=t.month(),p=t.day(),p+(v>1?16:0)+(v>2?(v-2)*32:0)+(A-1)*400+this.jdEpoch-1},fromJD:function(A){A=Math.floor(A+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(A/400)+1;A-=(v-1)*400,A+=A>15?16:0;var p=Math.floor(A/32)+1,t=A-(p-1)*32+1;return this.newDate(v<=0?v-1:v,p,t)}});var L={20:"Fruitbat",21:"Anchovy"};g.calendars.discworld=i},37715:function(W,H,e){var g=e(63489),P=e(56131);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,P(i.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var A=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=A.year()+(A.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(L,A,v){var p=this.newDate(L,A,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(L,A){var v=this._validate(L,A,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(L,A,v){return(this.dayOfWeek(L,A,v)||7)<6},toJD:function(L,A,v){var p=this._validate(L,A,v,g.local.invalidDate);return L=p.year(),L<0&&L++,p.day()+(p.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var A=Math.floor(L)+.5-this.jdEpoch,v=Math.floor((A-Math.floor((A+366)/1461))/365)+1;v<=0&&v--,A=Math.floor(L)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(A/30)+1,t=A-(p-1)*30+1;return this.newDate(v,p,t)}}),g.calendars.ethiopian=i},99384:function(W,H,e){var g=e(63489),P=e(56131);function i(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,P(i.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(A){var v=this._validate(A,this.minMonth,this.minDay,g.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(A){return A=A<0?A+1:A,L(A*7+1,19)<7},monthsInYear:function(A){return this._validate(A,this.minMonth,this.minDay,g.local.invalidYear),this._leapYear(A.year?A.year():A)?13:12},weekOfYear:function(A,v,p){var t=this.newDate(A,v,p);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(A){var v=this._validate(A,this.minMonth,this.minDay,g.local.invalidYear);return A=v.year(),this.toJD(A===-1?1:A+1,7,1)-this.toJD(A,7,1)},daysInMonth:function(A,v){return A.year&&(v=A.month(),A=A.year()),this._validate(A,v,this.minDay,g.local.invalidMonth),v===12&&this.leapYear(A)||v===8&&L(this.daysInYear(A),10)===5?30:v===9&&L(this.daysInYear(A),10)===3?29:this.daysPerMonth[v-1]},weekDay:function(A,v,p){return this.dayOfWeek(A,v,p)!==6},extraInfo:function(A,v,p){var t=this._validate(A,v,p,g.local.invalidDate);return{yearType:(this.leapYear(t)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(t)%10-3]}},toJD:function(A,v,p){var t=this._validate(A,v,p,g.local.invalidDate);A=t.year(),v=t.month(),p=t.day();var r=A<=0?A+1:A,s=this.jdEpoch+this._delay1(r)+this._delay2(r)+p+1;if(v<7){for(var n=7;n<=this.monthsInYear(A);n++)s+=this.daysInMonth(A,n);for(var n=1;n<v;n++)s+=this.daysInMonth(A,n)}else for(var n=7;n<v;n++)s+=this.daysInMonth(A,n);return s},_delay1:function(A){var v=Math.floor((235*A-234)/19),p=12084+13753*v,t=v*29+Math.floor(p/25920);return L(3*(t+1),7)<3&&t++,t},_delay2:function(A){var v=this._delay1(A-1),p=this._delay1(A),t=this._delay1(A+1);return t-p===356?2:p-v===382?1:0},fromJD:function(A){A=Math.floor(A)+.5;for(var v=Math.floor((A-this.jdEpoch)*98496/35975351)-1;A>=this.toJD(v===-1?1:v+1,7,1);)v++;for(var p=A<this.toJD(v,1,1)?7:1;A>this.toJD(v,p,this.daysInMonth(v,p));)p++;var t=A-this.toJD(v,p,1)+1;return this.newDate(v,p,t)}});function L(A,v){return A-v*Math.floor(A/v)}g.calendars.hebrew=i},43805:function(W,H,e){var g=e(63489),P=e(56131);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,P(i.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(L){var A=this._validate(L,this.minMonth,this.minDay,g.local.invalidYear);return(A.year()*11+14)%30<11},weekOfYear:function(L,A,v){var p=this.newDate(L,A,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(L){return this.leapYear(L)?355:354},daysInMonth:function(L,A){var v=this._validate(L,A,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(L,A,v){return this.dayOfWeek(L,A,v)!==5},toJD:function(L,A,v){var p=this._validate(L,A,v,g.local.invalidDate);return L=p.year(),A=p.month(),v=p.day(),L=L<=0?L+1:L,v+Math.ceil(29.5*(A-1))+(L-1)*354+Math.floor((3+11*L)/30)+this.jdEpoch-1},fromJD:function(L){L=Math.floor(L)+.5;var A=Math.floor((30*(L-this.jdEpoch)+10646)/10631);A=A<=0?A-1:A;var v=Math.min(12,Math.ceil((L-29-this.toJD(A,1,1))/29.5)+1),p=L-this.toJD(A,v,1)+1;return this.newDate(A,v,p)}}),g.calendars.islamic=i},88874:function(W,H,e){var g=e(63489),P=e(56131);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,P(i.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var A=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=A.year()<0?A.year()+1:A.year();return v%4===0},weekOfYear:function(L,A,v){var p=this.newDate(L,A,v);return p.add(4-(p.dayOfWeek()||7),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(L,A){var v=this._validate(L,A,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(L,A,v){return(this.dayOfWeek(L,A,v)||7)<6},toJD:function(L,A,v){var p=this._validate(L,A,v,g.local.invalidDate);return L=p.year(),A=p.month(),v=p.day(),L<0&&L++,A<=2&&(L--,A+=12),Math.floor(365.25*(L+4716))+Math.floor(30.6001*(A+1))+v-1524.5},fromJD:function(L){var A=Math.floor(L+.5),v=A+1524,p=Math.floor((v-122.1)/365.25),t=Math.floor(365.25*p),r=Math.floor((v-t)/30.6001),s=r-Math.floor(r<14?1:13),n=p-Math.floor(s>2?4716:4715),l=v-t-Math.floor(30.6001*r);return n<=0&&n--,this.newDate(n,s,l)}}),g.calendars.julian=i},83290:function(W,H,e){var g=e(63489),P=e(56131);function i(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,P(i.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),!1},formatYear:function(v){var p=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear);v=p.year();var t=Math.floor(v/400);v=v%400,v+=v<0?400:0;var r=Math.floor(v/20);return t+"."+r+"."+v%20},forYear:function(v){if(v=v.split("."),v.length<3)throw"Invalid Mayan year";for(var p=0,t=0;t<v.length;t++){var r=parseInt(v[t],10);if(Math.abs(r)>19||t>0&&r<0)throw"Invalid Mayan year";p=p*20+r}return p},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),18},weekOfYear:function(v,p,t){return this._validate(v,p,t,g.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),360},daysInMonth:function(v,p){return this._validate(v,p,this.minDay,g.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,p,t){var r=this._validate(v,p,t,g.local.invalidDate);return r.day()},weekDay:function(v,p,t){return this._validate(v,p,t,g.local.invalidDate),!0},extraInfo:function(v,p,t){var r=this._validate(v,p,t,g.local.invalidDate),s=r.toJD(),n=this._toHaab(s),l=this._toTzolkin(s);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[l[0]-1],tzolkinDay:l[0],tzolkinTrecena:l[1]}},_toHaab:function(v){v-=this.jdEpoch;var p=L(v+8+(18-1)*20,365);return[Math.floor(p/20)+1,L(p,20)]},_toTzolkin:function(v){return v-=this.jdEpoch,[A(v+20,20),A(v+4,13)]},toJD:function(v,p,t){var r=this._validate(v,p,t,g.local.invalidDate);return r.day()+r.month()*20+r.year()*360+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var p=Math.floor(v/360);v=v%360,v+=v<0?360:0;var t=Math.floor(v/20),r=v%20;return this.newDate(p,t,r)}});function L(v,p){return v-p*Math.floor(v/p)}function A(v,p){return L(v-1,p)+1}g.calendars.mayan=i},29108:function(W,H,e){var g=e(63489),P=e(56131);function i(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar;var L=g.instance("gregorian");P(i.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(A){var v=this._validate(A,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return L.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(A,v,p){var t=this.newDate(A,v,p);return t.add(1-(t.dayOfWeek()||7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(A,v){var p=this._validate(A,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(A,v,p){return(this.dayOfWeek(A,v,p)||7)<6},toJD:function(r,v,p){var t=this._validate(r,v,p,g.local.invalidMonth),r=t.year();r<0&&r++;for(var s=t.day(),n=1;n<t.month();n++)s+=this.daysPerMonth[n-1];return s+L.toJD(r+1468,3,13)},fromJD:function(A){A=Math.floor(A+.5);for(var v=Math.floor((A-(this.jdEpoch-1))/366);A>=this.toJD(v+1,1,1);)v++;for(var p=A-Math.floor(this.toJD(v,1,1)+.5)+1,t=1;p>this.daysInMonth(v,t);)p-=this.daysInMonth(v,t),t++;return this.newDate(v,t,p)}}),g.calendars.nanakshahi=i},55422:function(W,H,e){var g=e(63489),P=e(56131);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,P(i.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(L){return this.daysInYear(L)!==this.daysPerYear},weekOfYear:function(L,A,v){var p=this.newDate(L,A,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(L){var A=this._validate(L,this.minMonth,this.minDay,g.local.invalidYear);if(L=A.year(),typeof this.NEPALI_CALENDAR_DATA[L]>"u")return this.daysPerYear;for(var v=0,p=this.minMonth;p<=12;p++)v+=this.NEPALI_CALENDAR_DATA[L][p];return v},daysInMonth:function(L,A){return L.year&&(A=L.month(),L=L.year()),this._validate(L,A,this.minDay,g.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[L]>"u"?this.daysPerMonth[A-1]:this.NEPALI_CALENDAR_DATA[L][A]},weekDay:function(L,A,v){return this.dayOfWeek(L,A,v)!==6},toJD:function(L,A,v){var p=this._validate(L,A,v,g.local.invalidDate);L=p.year(),A=p.month(),v=p.day();var t=g.instance(),r=0,s=A,n=L;this._createMissingCalendarData(L);var l=L-(s>9||s===9&&v>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(A!==9&&(r=v,s--);s!==9;)s<=0&&(s=12,n--),r+=this.NEPALI_CALENDAR_DATA[n][s],s--;return A===9?(r+=v-this.NEPALI_CALENDAR_DATA[n][0],r<0&&(r+=t.daysInYear(l))):r+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],t.newDate(l,1,1).add(r,"d").toJD()},fromJD:function(L){var A=g.instance(),v=A.fromJD(L),p=v.year(),t=v.dayOfYear(),r=p+56;this._createMissingCalendarData(r);for(var s=9,n=this.NEPALI_CALENDAR_DATA[r][0],l=this.NEPALI_CALENDAR_DATA[r][s]-n+1;t>l;)s++,s>12&&(s=1,r++),l+=this.NEPALI_CALENDAR_DATA[r][s];var f=this.NEPALI_CALENDAR_DATA[r][s]-(l-t);return this.newDate(r,s,f)},_createMissingCalendarData:function(L){var A=this.daysPerMonth.slice(0);A.unshift(17);for(var v=L-1;v<L+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]>"u"&&(this.NEPALI_CALENDAR_DATA[v]=A)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),g.calendars.nepali=i},94320:function(W,H,e){var g=e(63489),P=e(56131);function i(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,P(i.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(A){var v=this._validate(A,this.minMonth,this.minDay,g.local.invalidYear);return((v.year()-(v.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(A,v,p){var t=this.newDate(A,v,p);return t.add(-((t.dayOfWeek()+1)%7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(A,v){var p=this._validate(A,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(A,v,p){return this.dayOfWeek(A,v,p)!==5},toJD:function(A,v,p){var t=this._validate(A,v,p,g.local.invalidDate);A=t.year(),v=t.month(),p=t.day();var r=A-(A>=0?474:473),s=474+L(r,2820);return p+(v<=7?(v-1)*31:(v-1)*30+6)+Math.floor((s*682-110)/2816)+(s-1)*365+Math.floor(r/2820)*1029983+this.jdEpoch-1},fromJD:function(A){A=Math.floor(A)+.5;var v=A-this.toJD(475,1,1),p=Math.floor(v/1029983),t=L(v,1029983),r=2820;if(t!==1029982){var s=Math.floor(t/366),n=L(t,366);r=Math.floor((2134*s+2816*n+2815)/1028522)+s+1}var l=r+2820*p+474;l=l<=0?l-1:l;var f=A-this.toJD(l,1,1)+1,u=f<=186?Math.ceil(f/31):Math.ceil((f-6)/30),m=A-this.toJD(l,u,1)+1;return this.newDate(l,u,m)}});function L(A,v){return A-v*Math.floor(A/v)}g.calendars.persian=i,g.calendars.jalali=i},31320:function(W,H,e){var g=e(63489),P=e(56131),i=g.instance();function L(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}L.prototype=new g.baseCalendar,P(L.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,g.local.invalidYear),p=this._t2gYear(v.year());return i.leapYear(p)},weekOfYear:function(r,v,p){var t=this._validate(r,this.minMonth,this.minDay,g.local.invalidYear),r=this._t2gYear(t.year());return i.weekOfYear(r,t.month(),t.day())},daysInMonth:function(A,v){var p=this._validate(A,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(A,v,p){return(this.dayOfWeek(A,v,p)||7)<6},toJD:function(r,v,p){var t=this._validate(r,v,p,g.local.invalidDate),r=this._t2gYear(t.year());return i.toJD(r,t.month(),t.day())},fromJD:function(A){var v=i.fromJD(A),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(A){return A+this.yearsOffset+(A>=-this.yearsOffset&&A<=-1?1:0)},_g2tYear:function(A){return A-this.yearsOffset-(A>=1&&A<=this.yearsOffset?1:0)}}),g.calendars.taiwan=L},51367:function(W,H,e){var g=e(63489),P=e(56131),i=g.instance();function L(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}L.prototype=new g.baseCalendar,P(L.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,g.local.invalidYear),p=this._t2gYear(v.year());return i.leapYear(p)},weekOfYear:function(r,v,p){var t=this._validate(r,this.minMonth,this.minDay,g.local.invalidYear),r=this._t2gYear(t.year());return i.weekOfYear(r,t.month(),t.day())},daysInMonth:function(A,v){var p=this._validate(A,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(A,v,p){return(this.dayOfWeek(A,v,p)||7)<6},toJD:function(r,v,p){var t=this._validate(r,v,p,g.local.invalidDate),r=this._t2gYear(t.year());return i.toJD(r,t.month(),t.day())},fromJD:function(A){var v=i.fromJD(A),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(A){return A-this.yearsOffset-(A>=1&&A<=this.yearsOffset?1:0)},_g2tYear:function(A){return A+this.yearsOffset+(A>=-this.yearsOffset&&A<=-1?1:0)}}),g.calendars.thai=L},21457:function(W,H,e){var g=e(63489),P=e(56131);function i(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,P(i.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(A){var v=this._validate(A,this.minMonth,this.minDay,g.local.invalidYear);return this.daysInYear(v.year())===355},weekOfYear:function(A,v,p){var t=this.newDate(A,v,p);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(A){for(var v=0,p=1;p<=12;p++)v+=this.daysInMonth(A,p);return v},daysInMonth:function(A,v){for(var p=this._validate(A,v,this.minDay,g.local.invalidMonth),t=p.toJD()-24e5+.5,r=0,s=0;s<L.length;s++){if(L[s]>t)return L[r]-L[r-1];r++}return 30},weekDay:function(A,v,p){return this.dayOfWeek(A,v,p)!==5},toJD:function(A,v,p){var t=this._validate(A,v,p,g.local.invalidDate),r=12*(t.year()-1)+t.month()-15292,s=t.day()+L[r-1]-1;return s+24e5-.5},fromJD:function(A){for(var v=A-24e5+.5,p=0,t=0;t<L.length&&!(L[t]>v);t++)p++;var r=p+15292,s=Math.floor((r-1)/12),n=s+1,l=r-12*s,f=v-L[p-1]+1;return this.newDate(n,l,f)},isValid:function(A,v,p){var t=g.baseCalendar.prototype.isValid.apply(this,arguments);return t&&(A=A.year!=null?A.year:A,t=A>=1276&&A<=1500),t},_validate:function(A,v,p,t){var r=g.baseCalendar.prototype._validate.apply(this,arguments);if(r.year<1276||r.year>1500)throw t.replace(/\{0\}/,this.local.name);return r}}),g.calendars.ummalqura=i;var L=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(W,H,e){var g=e(56131);function P(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}g(P.prototype,{instance:function(t,r){t=(t||"gregorian").toLowerCase(),r=r||"";var s=this._localCals[t+"-"+r];if(!s&&this.calendars[t]&&(s=new this.calendars[t](r),this._localCals[t+"-"+r]=s),!s)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return s},newDate:function(t,r,s,n,l){return n=(t!=null&&t.year?t.calendar():typeof n=="string"?this.instance(n,l):n)||this.instance(),n.newDate(t,r,s)},substituteDigits:function(t){return function(r){return(r+"").replace(/[0-9]/g,function(s){return t[s]})}},substituteChineseDigits:function(t,r){return function(s){for(var n="",l=0;s>0;){var f=s%10;n=(f===0?"":t[f]+r[l])+n,l++,s=Math.floor(s/10)}return n.indexOf(t[1]+r[1])===0&&(n=n.substr(1)),n||t[0]}}});function i(t,r,s,n){if(this._calendar=t,this._year=r,this._month=s,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function L(t,r){return t=""+t,"000000".substring(0,r-t.length)+t}g(i.prototype,{newDate:function(t,r,s){return this._calendar.newDate(t??this,r,s)},year:function(t){return arguments.length===0?this._year:this.set(t,"y")},month:function(t){return arguments.length===0?this._month:this.set(t,"m")},day:function(t){return arguments.length===0?this._day:this.set(t,"d")},date:function(t,r,s){if(!this._calendar.isValid(t,r,s))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=r,this._day=s,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,r){return this._calendar.add(this,t,r)},set:function(t,r){return this._calendar.set(this,t,r)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var r=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return r===0?0:r<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+L(Math.abs(this.year()),4)+"-"+L(this.month(),2)+"-"+L(this.day(),2)}});function A(){this.shortYearCutoff="+10"}g(A.prototype,{_validateLevel:0,newDate:function(t,r,s){return t==null?this.today():(t.year&&(this._validate(t,r,s,p.local.invalidDate||p.regionalOptions[""].invalidDate),s=t.day(),r=t.month(),t=t.year()),new i(this,t,r,s))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){var r=this._validate(t,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return r.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return(r.year()<0?"-":"")+L(Math.abs(r.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),12},monthOfYear:function(t,r){var s=this._validate(t,r,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return(s.month()+this.monthsInYear(s)-this.firstMonth)%this.monthsInYear(s)+this.minMonth},fromMonthOfYear:function(t,r){var s=(r+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,s,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth),s},daysInYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return this.leapYear(r)?366:365},dayOfYear:function(t,r,s){var n=this._validate(t,r,s,p.local.invalidDate||p.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,r,s){var n=this._validate(t,r,s,p.local.invalidDate||p.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(t,r,s){return this._validate(t,r,s,p.local.invalidDate||p.regionalOptions[""].invalidDate),{}},add:function(t,r,s){return this._validate(t,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,r,s),r,s)},_add:function(t,r,s){if(this._validateLevel++,s==="d"||s==="w"){var n=t.toJD()+r*(s==="w"?this.daysInWeek():1),l=t.calendar().fromJD(n);return this._validateLevel--,[l.year(),l.month(),l.day()]}try{var f=t.year()+(s==="y"?r:0),u=t.monthOfYear()+(s==="m"?r:0),l=t.day(),m=function(h){for(;u<h.minMonth;)f--,u+=h.monthsInYear(f);for(var o=h.monthsInYear(f);u>o-1+h.minMonth;)f++,u-=o,o=h.monthsInYear(f)};s==="y"?(t.month()!==this.fromMonthOfYear(f,u)&&(u=this.newDate(f,t.month(),this.minDay).monthOfYear()),u=Math.min(u,this.monthsInYear(f)),l=Math.min(l,this.daysInMonth(f,this.fromMonthOfYear(f,u)))):s==="m"&&(m(this),l=Math.min(l,this.daysInMonth(f,this.fromMonthOfYear(f,u))));var c=[f,this.fromMonthOfYear(f,u),l];return this._validateLevel--,c}catch(w){throw this._validateLevel--,w}},_correctAdd:function(t,r,s,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(r[0]===0||t.year()>0!=r[0]>0)){var l={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],f=s<0?-1:1;r=this._add(t,s*l[0]+f*l[1],l[2])}return t.date(r[0],r[1],r[2])},set:function(t,r,s){this._validate(t,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate);var n=s==="y"?r:t.year(),l=s==="m"?r:t.month(),f=s==="d"?r:t.day();return(s==="y"||s==="m")&&(f=Math.min(f,this.daysInMonth(n,l))),t.date(n,l,f)},isValid:function(t,r,s){this._validateLevel++;var n=this.hasYearZero||t!==0;if(n){var l=this.newDate(t,r,this.minDay);n=r>=this.minMonth&&r-this.minMonth<this.monthsInYear(l)&&s>=this.minDay&&s-this.minDay<this.daysInMonth(l)}return this._validateLevel--,n},toJSDate:function(t,r,s){var n=this._validate(t,r,s,p.local.invalidDate||p.regionalOptions[""].invalidDate);return p.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(t){return this.fromJD(p.instance().fromJSDate(t).toJD())},_validate:function(t,r,s,n){if(t.year){if(this._validateLevel===0&&this.name!==t.calendar().name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(t,r,s))throw n.replace(/\{0\}/,this.local.name);var l=this.newDate(t,r,s);return this._validateLevel--,l}catch(f){throw this._validateLevel--,f}}});function v(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}v.prototype=new A,g(v.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(s){var r=this._validate(s,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),s=r.year()+(r.year()<0?1:0);return s%4===0&&(s%100!==0||s%400===0)},weekOfYear:function(t,r,s){var n=this.newDate(t,r,s);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,r){var s=this._validate(t,r,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(t,r,s){return(this.dayOfWeek(t,r,s)||7)<6},toJD:function(t,r,s){var n=this._validate(t,r,s,p.local.invalidDate||p.regionalOptions[""].invalidDate);t=n.year(),r=n.month(),s=n.day(),t<0&&t++,r<3&&(r+=12,t--);var l=Math.floor(t/100),f=2-l+Math.floor(l/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(r+1))+s+f-1524.5},fromJD:function(t){var r=Math.floor(t+.5),s=Math.floor((r-186721625e-2)/36524.25);s=r+1+s-Math.floor(s/4);var n=s+1524,l=Math.floor((n-122.1)/365.25),f=Math.floor(365.25*l),u=Math.floor((n-f)/30.6001),m=n-f-Math.floor(u*30.6001),c=u-(u>13.5?13:1),w=l-(c>2.5?4716:4715);return w<=0&&w--,this.newDate(w,c,m)},toJSDate:function(t,r,s){var n=this._validate(t,r,s,p.local.invalidDate||p.regionalOptions[""].invalidDate),l=new Date(n.year(),n.month()-1,n.day());return l.setHours(0),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0),l.setHours(l.getHours()>12?l.getHours()+2:0),l},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var p=W.exports=new P;p.cdate=i,p.baseCalendar=A,p.calendars.gregorian=v},94338:function(W,H,e){var g=e(56131),P=e(63489);g(P.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),P.local=P.regionalOptions[""],g(P.cdate.prototype,{formatDate:function(i,L){return typeof i!="string"&&(L=i,i=""),this._calendar.formatDate(i||"",this,L)}}),g(P.baseCalendar.prototype,{UNIX_EPOCH:P.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:P.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(i,L,A){if(typeof i!="string"&&(A=L,L=i,i=""),!L)return"";if(L.calendar()!==this)throw P.local.invalidFormat||P.regionalOptions[""].invalidFormat;i=i||this.local.dateFormat,A=A||{};var v=A.dayNamesShort||this.local.dayNamesShort,p=A.dayNames||this.local.dayNames,t=A.monthNumbers||this.local.monthNumbers,r=A.monthNamesShort||this.local.monthNamesShort,s=A.monthNames||this.local.monthNames;A.calculateWeek||this.local.calculateWeek;for(var n=function(T,E){for(var x=1;M+x<i.length&&i.charAt(M+x)===T;)x++;return M+=x-1,Math.floor(x/(E||1))>1},l=function(T,E,x,S){var b=""+E;if(n(T,S))for(;b.length<x;)b="0"+b;return b},f=function(T,E,x,S){return n(T)?S[E]:x[E]},u=this,m=function(T){return typeof t=="function"?t.call(u,T,n("m")):h(l("m",T.month(),2))},c=function(T,E){return E?typeof s=="function"?s.call(u,T):s[T.month()-u.minMonth]:typeof r=="function"?r.call(u,T):r[T.month()-u.minMonth]},w=this.local.digits,h=function(T){return A.localNumbers&&w?w(T):T},o="",d=!1,M=0;M<i.length;M++)if(d)i.charAt(M)==="'"&&!n("'")?d=!1:o+=i.charAt(M);else switch(i.charAt(M)){case"d":o+=h(l("d",L.day(),2));break;case"D":o+=f("D",L.dayOfWeek(),v,p);break;case"o":o+=l("o",L.dayOfYear(),3);break;case"w":o+=l("w",L.weekOfYear(),2);break;case"m":o+=m(L);break;case"M":o+=c(L,n("M"));break;case"y":o+=n("y",2)?L.year():(L.year()%100<10?"0":"")+L.year()%100;break;case"Y":n("Y",2),o+=L.formatYear();break;case"J":o+=L.toJD();break;case"@":o+=(L.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":o+=(L.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":n("'")?o+="'":d=!0;break;default:o+=i.charAt(M)}return o},parseDate:function(i,L,A){if(L==null)throw P.local.invalidArguments||P.regionalOptions[""].invalidArguments;if(L=typeof L=="object"?L.toString():L+"",L==="")return null;i=i||this.local.dateFormat,A=A||{};var v=A.shortYearCutoff||this.shortYearCutoff;v=typeof v!="string"?v:this.today().year()%100+parseInt(v,10);for(var p=A.dayNamesShort||this.local.dayNamesShort,t=A.dayNames||this.local.dayNames,r=A.parseMonth||this.local.parseMonth,s=A.monthNumbers||this.local.monthNumbers,n=A.monthNamesShort||this.local.monthNamesShort,l=A.monthNames||this.local.monthNames,f=-1,u=-1,m=-1,c=-1,w=-1,h=!1,o=!1,d=function(I,B){for(var F=1;C+F<i.length&&i.charAt(C+F)===I;)F++;return C+=F-1,Math.floor(F/(B||1))>1},M=function(I,B){var F=d(I,B),O=[2,3,F?4:2,F?4:2,10,11,20]["oyYJ@!".indexOf(I)+1],N=new RegExp("^-?\\d{1,"+O+"}"),_=L.substring(a).match(N);if(!_)throw(P.local.missingNumberAt||P.regionalOptions[""].missingNumberAt).replace(/\{0\}/,a);return a+=_[0].length,parseInt(_[0],10)},T=this,E=function(){if(typeof s=="function"){d("m");var I=s.call(T,L.substring(a));return a+=I.length,I}return M("m")},x=function(I,B,F,O){for(var N=d(I,O)?F:B,_=0;_<N.length;_++)if(L.substr(a,N[_].length).toLowerCase()===N[_].toLowerCase())return a+=N[_].length,_+T.minMonth;throw(P.local.unknownNameAt||P.regionalOptions[""].unknownNameAt).replace(/\{0\}/,a)},S=function(){if(typeof l=="function"){var I=d("M")?l.call(T,L.substring(a)):n.call(T,L.substring(a));return a+=I.length,I}return x("M",n,l)},b=function(){if(L.charAt(a)!==i.charAt(C))throw(P.local.unexpectedLiteralAt||P.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,a);a++},a=0,C=0;C<i.length;C++)if(o)i.charAt(C)==="'"&&!d("'")?o=!1:b();else switch(i.charAt(C)){case"d":c=M("d");break;case"D":x("D",p,t);break;case"o":w=M("o");break;case"w":M("w");break;case"m":m=E();break;case"M":m=S();break;case"y":var y=C;h=!d("y",2),C=y,u=M("y",2);break;case"Y":u=M("Y",2);break;case"J":f=M("J")+.5,L.charAt(a)==="."&&(a++,M("J"));break;case"@":f=M("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":f=M("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":a=L.length;break;case"'":d("'")?b():o=!0;break;default:b()}if(a<L.length)throw P.local.unexpectedText||P.regionalOptions[""].unexpectedText;if(u===-1?u=this.today().year():u<100&&h&&(u+=v===-1?1900:this.today().year()-this.today().year()%100-(u<=v?0:100)),typeof m=="string"&&(m=r.call(this,u,m)),w>-1){m=1,c=w;for(var z=this.daysInMonth(u,m);c>z;z=this.daysInMonth(u,m))m++,c-=z}return f>-1?this.fromJD(f):this.newDate(u,m,c)},determineDate:function(i,L,A,v,p){A&&typeof A!="object"&&(p=v,v=A,A=null),typeof v!="string"&&(p=v,v="");var t=this,r=function(s){try{return t.parseDate(v,s,p)}catch{}s=s.toLowerCase();for(var n=(s.match(/^c/)&&A?A.newDate():null)||t.today(),l=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,f=l.exec(s);f;)n.add(parseInt(f[1],10),f[2]||"d"),f=l.exec(s);return n};return L=L?L.newDate():null,i=i==null?L:typeof i=="string"?r(i):typeof i=="number"?isNaN(i)||i===1/0||i===-1/0?L:t.today().add(i,"d"):t.newDate(i),i}})},69862:function(){},40964:function(){},72077:function(W,H,e){var g=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],P=typeof globalThis>"u"?e.g:globalThis;W.exports=function(){for(var L=[],A=0;A<g.length;A++)typeof P[g[A]]=="function"&&(L[L.length]=g[A]);return L}},81684:function(W,H,e){e.d(H,{sX:function(){return Ce},k4:function(){return se}});function g(xe,Se,He){xe.prototype=Se.prototype=He,He.constructor=xe}function P(xe,Se){var He=Object.create(xe.prototype);for(var Ge in Se)He[Ge]=Se[Ge];return He}function i(){}var L=.7,A=1/L,v="\\s*([+-]?\\d+)\\s*",p="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r=/^#([0-9a-f]{3,8})$/,s=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),n=new RegExp("^rgb\\(".concat(t,",").concat(t,",").concat(t,"\\)$")),l=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(p,"\\)$")),f=new RegExp("^rgba\\(".concat(t,",").concat(t,",").concat(t,",").concat(p,"\\)$")),u=new RegExp("^hsl\\(".concat(p,",").concat(t,",").concat(t,"\\)$")),m=new RegExp("^hsla\\(".concat(p,",").concat(t,",").concat(t,",").concat(p,"\\)$")),c={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};g(i,M,{copy:function(Se){return Object.assign(new this.constructor,this,Se)},displayable:function(){return this.rgb().displayable()},hex:w,formatHex:w,formatHex8:h,formatHsl:o,formatRgb:d,toString:d});function w(){return this.rgb().formatHex()}function h(){return this.rgb().formatHex8()}function o(){return O(this).formatHsl()}function d(){return this.rgb().formatRgb()}function M(xe){var Se,He;return xe=(xe+"").trim().toLowerCase(),(Se=r.exec(xe))?(He=Se[1].length,Se=parseInt(Se[1],16),He===6?T(Se):He===3?new b(Se>>8&15|Se>>4&240,Se>>4&15|Se&240,(Se&15)<<4|Se&15,1):He===8?E(Se>>24&255,Se>>16&255,Se>>8&255,(Se&255)/255):He===4?E(Se>>12&15|Se>>8&240,Se>>8&15|Se>>4&240,Se>>4&15|Se&240,((Se&15)<<4|Se&15)/255):null):(Se=s.exec(xe))?new b(Se[1],Se[2],Se[3],1):(Se=n.exec(xe))?new b(Se[1]*255/100,Se[2]*255/100,Se[3]*255/100,1):(Se=l.exec(xe))?E(Se[1],Se[2],Se[3],Se[4]):(Se=f.exec(xe))?E(Se[1]*255/100,Se[2]*255/100,Se[3]*255/100,Se[4]):(Se=u.exec(xe))?F(Se[1],Se[2]/100,Se[3]/100,1):(Se=m.exec(xe))?F(Se[1],Se[2]/100,Se[3]/100,Se[4]):c.hasOwnProperty(xe)?T(c[xe]):xe==="transparent"?new b(NaN,NaN,NaN,0):null}function T(xe){return new b(xe>>16&255,xe>>8&255,xe&255,1)}function E(xe,Se,He,Ge){return Ge<=0&&(xe=Se=He=NaN),new b(xe,Se,He,Ge)}function x(xe){return xe instanceof i||(xe=M(xe)),xe?(xe=xe.rgb(),new b(xe.r,xe.g,xe.b,xe.opacity)):new b}function S(xe,Se,He,Ge){return arguments.length===1?x(xe):new b(xe,Se,He,Ge??1)}function b(xe,Se,He,Ge){this.r=+xe,this.g=+Se,this.b=+He,this.opacity=+Ge}g(b,S,P(i,{brighter:function(Se){return Se=Se==null?A:Math.pow(A,Se),new b(this.r*Se,this.g*Se,this.b*Se,this.opacity)},darker:function(Se){return Se=Se==null?L:Math.pow(L,Se),new b(this.r*Se,this.g*Se,this.b*Se,this.opacity)},rgb:function(){return this},clamp:function(){return new b(I(this.r),I(this.g),I(this.b),z(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:a,formatHex:a,formatHex8:C,formatRgb:y,toString:y}));function a(){return"#".concat(B(this.r)).concat(B(this.g)).concat(B(this.b))}function C(){return"#".concat(B(this.r)).concat(B(this.g)).concat(B(this.b)).concat(B((isNaN(this.opacity)?1:this.opacity)*255))}function y(){var xe=z(this.opacity);return"".concat(xe===1?"rgb(":"rgba(").concat(I(this.r),", ").concat(I(this.g),", ").concat(I(this.b)).concat(xe===1?")":", ".concat(xe,")"))}function z(xe){return isNaN(xe)?1:Math.max(0,Math.min(1,xe))}function I(xe){return Math.max(0,Math.min(255,Math.round(xe)||0))}function B(xe){return xe=I(xe),(xe<16?"0":"")+xe.toString(16)}function F(xe,Se,He,Ge){return Ge<=0?xe=Se=He=NaN:He<=0||He>=1?xe=Se=NaN:Se<=0&&(xe=NaN),new _(xe,Se,He,Ge)}function O(xe){if(xe instanceof _)return new _(xe.h,xe.s,xe.l,xe.opacity);if(xe instanceof i||(xe=M(xe)),!xe)return new _;if(xe instanceof _)return xe;xe=xe.rgb();var Se=xe.r/255,He=xe.g/255,Ge=xe.b/255,ke=Math.min(Se,He,Ge),We=Math.max(Se,He,Ge),it=NaN,et=We-ke,tt=(We+ke)/2;return et?(Se===We?it=(He-Ge)/et+(He<Ge)*6:He===We?it=(Ge-Se)/et+2:it=(Se-He)/et+4,et/=tt<.5?We+ke:2-We-ke,it*=60):et=tt>0&&tt<1?0:it,new _(it,et,tt,xe.opacity)}function N(xe,Se,He,Ge){return arguments.length===1?O(xe):new _(xe,Se,He,Ge??1)}function _(xe,Se,He,Ge){this.h=+xe,this.s=+Se,this.l=+He,this.opacity=+Ge}g(_,N,P(i,{brighter:function(Se){return Se=Se==null?A:Math.pow(A,Se),new _(this.h,this.s,this.l*Se,this.opacity)},darker:function(Se){return Se=Se==null?L:Math.pow(L,Se),new _(this.h,this.s,this.l*Se,this.opacity)},rgb:function(){var Se=this.h%360+(this.h<0)*360,He=isNaN(Se)||isNaN(this.s)?0:this.s,Ge=this.l,ke=Ge+(Ge<.5?Ge:1-Ge)*He,We=2*Ge-ke;return new b(K(Se>=240?Se-240:Se+120,We,ke),K(Se,We,ke),K(Se<120?Se+240:Se-120,We,ke),this.opacity)},clamp:function(){return new _(U(this.h),Y(this.s),Y(this.l),z(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Se=z(this.opacity);return"".concat(Se===1?"hsl(":"hsla(").concat(U(this.h),", ").concat(Y(this.s)*100,"%, ").concat(Y(this.l)*100,"%").concat(Se===1?")":", ".concat(Se,")"))}}));function U(xe){return xe=(xe||0)%360,xe<0?xe+360:xe}function Y(xe){return Math.max(0,Math.min(1,xe||0))}function K(xe,Se,He){return(xe<60?Se+(He-Se)*xe/60:xe<180?He:xe<240?Se+(He-Se)*(240-xe)/60:Se)*255}var re=function(xe){return function(){return xe}};function ae(xe,Se){return function(He){return xe+He*Se}}function fe(xe,Se,He){return xe=Math.pow(xe,He),Se=Math.pow(Se,He)-xe,He=1/He,function(Ge){return Math.pow(xe+Ge*Se,He)}}function Q(xe){return(xe=+xe)==1?j:function(Se,He){return He-Se?fe(Se,He,xe):re(isNaN(Se)?He:Se)}}function j(xe,Se){var He=Se-xe;return He?ae(xe,He):re(isNaN(xe)?Se:xe)}var X=function xe(Se){var He=Q(Se);function Ge(ke,We){var it=He((ke=S(ke)).r,(We=S(We)).r),et=He(ke.g,We.g),tt=He(ke.b,We.b),at=j(ke.opacity,We.opacity);return function(ht){return ke.r=it(ht),ke.g=et(ht),ke.b=tt(ht),ke.opacity=at(ht),ke+""}}return Ge.gamma=xe,Ge}(1);function J(xe,Se){var He=Se?Se.length:0,Ge=xe?Math.min(He,xe.length):0,ke=new Array(Ge),We=new Array(He),it;for(it=0;it<Ge;++it)ke[it]=Ce(xe[it],Se[it]);for(;it<He;++it)We[it]=Se[it];return function(et){for(it=0;it<Ge;++it)We[it]=ke[it](et);return We}}function ee(xe,Se){var He=new Date;return xe=+xe,Se=+Se,function(Ge){return He.setTime(xe*(1-Ge)+Se*Ge),He}}function se(xe,Se){return xe=+xe,Se=+Se,function(He){return xe*(1-He)+Se*He}}function q(xe){"@babel/helpers - typeof";return q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Se){return typeof Se}:function(Se){return Se&&typeof Symbol=="function"&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},q(xe)}function $(xe,Se){var He={},Ge={},ke;(xe===null||q(xe)!=="object")&&(xe={}),(Se===null||q(Se)!=="object")&&(Se={});for(ke in Se)ke in xe?He[ke]=Ce(xe[ke],Se[ke]):Ge[ke]=Se[ke];return function(We){for(ke in He)Ge[ke]=He[ke](We);return Ge}}var le=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ie=new RegExp(le.source,"g");function ce(xe){return function(){return xe}}function me(xe){return function(Se){return xe(Se)+""}}function Me(xe,Se){var He=le.lastIndex=ie.lastIndex=0,Ge,ke,We,it=-1,et=[],tt=[];for(xe=xe+"",Se=Se+"";(Ge=le.exec(xe))&&(ke=ie.exec(Se));)(We=ke.index)>He&&(We=Se.slice(He,We),et[it]?et[it]+=We:et[++it]=We),(Ge=Ge[0])===(ke=ke[0])?et[it]?et[it]+=ke:et[++it]=ke:(et[++it]=null,tt.push({i:it,x:se(Ge,ke)})),He=ie.lastIndex;return He<Se.length&&(We=Se.slice(He),et[it]?et[it]+=We:et[++it]=We),et.length<2?tt[0]?me(tt[0].x):ce(Se):(Se=tt.length,function(at){for(var ht=0,yt;ht<Se;++ht)et[(yt=tt[ht]).i]=yt.x(at);return et.join("")})}function we(xe,Se){Se||(Se=[]);var He=xe?Math.min(Se.length,xe.length):0,Ge=Se.slice(),ke;return function(We){for(ke=0;ke<He;++ke)Ge[ke]=xe[ke]*(1-We)+Se[ke]*We;return Ge}}function Oe(xe){return ArrayBuffer.isView(xe)&&!(xe instanceof DataView)}function Be(xe){"@babel/helpers - typeof";return Be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Se){return typeof Se}:function(Se){return Se&&typeof Symbol=="function"&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},Be(xe)}function Ce(xe,Se){var He=Be(Se),Ge;return Se==null||He==="boolean"?re(Se):(He==="number"?se:He==="string"?(Ge=M(Se))?(Se=Ge,X):Me:Se instanceof M?X:Se instanceof Date?ee:Oe(Se)?we:Array.isArray(Se)?J:typeof Se.valueOf!="function"&&typeof Se.toString!="function"||isNaN(Se)?$:se)(xe,Se)}},40402:function(W){W.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(W){W.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(W){W.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(W){W.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(W){W.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(W){W.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},ge={};function Pe(W){var H=ge[W];if(H!==void 0)return H.exports;var e=ge[W]={exports:{}};return oe[W].call(e.exports,e,e.exports,Pe),e.exports}(function(){Pe.n=function(W){var H=W&&W.__esModule?function(){return W.default}:function(){return W};return Pe.d(H,{a:H}),H}})(),function(){Pe.d=function(W,H){for(var e in H)Pe.o(H,e)&&!Pe.o(W,e)&&Object.defineProperty(W,e,{enumerable:!0,get:H[e]})}}(),function(){Pe.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){Pe.o=function(W,H){return Object.prototype.hasOwnProperty.call(W,H)}}(),function(){Pe.r=function(W){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(W,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(W,"__esModule",{value:!0})}}();var Ve=Pe(27909);return Ve}()})})(t5);var ZC=t5.exports;(function(k){Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var G=ge(e5),oe=ge(ZC);function ge(W){return W&&W.__esModule?W:{default:W}}var Pe=(0,G.default)(oe.default),Ve=Pe;k.default=Ve})(qT);const r5=dp(qT),XC=({data:k})=>{const[G,oe]=Kr.useState(!0),[ge,Pe]=Kr.useState(null),[Ve,W]=Kr.useState(null),H=e=>{const g=e["xaxis.range"];if(g.length===2){let[P,i]=g;const L=new Date(P),A=new Date(i),v=k.data[0].x.map(h=>new Date(h));let p,t;v.findIndex(h=>h>=L)!=-1?p=v.findIndex(h=>h>=L):p=0,v.findIndex(h=>h>=A)!=-1?t=v.findIndex(h=>h>=A):t=k.data[0].x.length-1;const r=k.data[0].low,s=k.data[0].high,n=r.slice(p,t),l=s.slice(p,t),f=n.map(Number),u=Math.min(...f),m=l.map(Number),c=Math.max(...m),w=[u,c];W(h=>({...h,yaxis:{...h.yaxis,autorange:!1,range:w}}))}};return Kr.useEffect(()=>{if(k&&k.data&&k.data[0]){const e=k.data[0],g=e.x.length;if(g===e.open.length&&g===e.high.length&&g===e.low.length&&g===e.close.length){const P={x:e.x,close:e.close,high:e.high,low:e.low,open:e.open,type:e.type};Pe(P),oe(!1)}W({width:window.innerWidth*.8,height:window.innerHeight*.8,title:k.layout.title,xaxis:k.layout.xaxis,yaxis:k.layout.yaxis})}},[k]),Kr.useEffect(()=>{const e=()=>{W(g=>({...g,width:window.innerWidth*.8,height:window.innerHeight*.8}))};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),G?on.jsx("div",{style:{marginTop:"50px"},children:"Cargando datos..."}):ge?on.jsx(r5,{data:[ge],layout:Ve,onRelayout:H}):on.jsx("div",{children:"No hay datos de velas disponibles o la estructura es incorrecta."})},KC={type:Wf.string,tooltip:Wf.bool,as:Wf.elementType},Zm=Kr.forwardRef(({as:k="div",className:G,type:oe="valid",tooltip:ge=!1,...Pe},Ve)=>on.jsx(k,{...Pe,ref:Ve,className:Ka(G,`${oe}-${ge?"tooltip":"feedback"}`)}));Zm.displayName="Feedback";Zm.propTypes=KC;const n5=Zm,JC=Kr.createContext({}),Kf=JC,a5=Kr.forwardRef(({id:k,bsPrefix:G,className:oe,type:ge="checkbox",isValid:Pe=!1,isInvalid:Ve=!1,as:W="input",...H},e)=>{const{controlId:g}=Kr.useContext(Kf);return G=li(G,"form-check-input"),on.jsx(W,{...H,ref:e,type:ge,id:k||g,className:Ka(oe,G,Pe&&"is-valid",Ve&&"is-invalid")})});a5.displayName="FormCheckInput";const Eg=a5,i5=Kr.forwardRef(({bsPrefix:k,className:G,htmlFor:oe,...ge},Pe)=>{const{controlId:Ve}=Kr.useContext(Kf);return k=li(k,"form-check-label"),on.jsx("label",{...ge,ref:Pe,htmlFor:oe||Ve,className:Ka(G,k)})});i5.displayName="FormCheckLabel";const U1=i5;function QC(k,G){return Kr.Children.toArray(k).some(oe=>Kr.isValidElement(oe)&&oe.type===G)}const o5=Kr.forwardRef(({id:k,bsPrefix:G,bsSwitchPrefix:oe,inline:ge=!1,reverse:Pe=!1,disabled:Ve=!1,isValid:W=!1,isInvalid:H=!1,feedbackTooltip:e=!1,feedback:g,feedbackType:P,className:i,style:L,title:A="",type:v="checkbox",label:p,children:t,as:r="input",...s},n)=>{G=li(G,"form-check"),oe=li(oe,"form-switch");const{controlId:l}=Kr.useContext(Kf),f=Kr.useMemo(()=>({controlId:k||l}),[l,k]),u=!t&&p!=null&&p!==!1||QC(t,U1),m=on.jsx(Eg,{...s,type:v==="switch"?"checkbox":v,ref:n,isValid:W,isInvalid:H,disabled:Ve,as:r});return on.jsx(Kf.Provider,{value:f,children:on.jsx("div",{style:L,className:Ka(i,u&&G,ge&&`${G}-inline`,Pe&&`${G}-reverse`,v==="switch"&&oe),children:t||on.jsxs(on.Fragment,{children:[m,u&&on.jsx(U1,{title:A,children:p}),g&&on.jsx(n5,{type:P,tooltip:e,children:g})]})})})});o5.displayName="FormCheck";const eg=Object.assign(o5,{Input:Eg,Label:U1}),s5=Kr.forwardRef(({bsPrefix:k,type:G,size:oe,htmlSize:ge,id:Pe,className:Ve,isValid:W=!1,isInvalid:H=!1,plaintext:e,readOnly:g,as:P="input",...i},L)=>{const{controlId:A}=Kr.useContext(Kf);return k=li(k,"form-control"),on.jsx(P,{...i,type:G,size:ge,ref:L,readOnly:g,id:Pe||A,className:Ka(Ve,e?`${k}-plaintext`:k,oe&&`${k}-${oe}`,G==="color"&&`${k}-color`,W&&"is-valid",H&&"is-invalid")})});s5.displayName="FormControl";const $C=Object.assign(s5,{Feedback:n5}),l5=Kr.forwardRef(({className:k,bsPrefix:G,as:oe="div",...ge},Pe)=>(G=li(G,"form-floating"),on.jsx(oe,{ref:Pe,className:Ka(k,G),...ge})));l5.displayName="FormFloating";const qC=l5,u5=Kr.forwardRef(({controlId:k,as:G="div",...oe},ge)=>{const Pe=Kr.useMemo(()=>({controlId:k}),[k]);return on.jsx(Kf.Provider,{value:Pe,children:on.jsx(G,{...oe,ref:ge})})});u5.displayName="FormGroup";const f5=u5;function e7({as:k,bsPrefix:G,className:oe,...ge}){G=li(G,"col");const Pe=uT(),Ve=fT(),W=[],H=[];return Pe.forEach(e=>{const g=ge[e];delete ge[e];let P,i,L;typeof g=="object"&&g!=null?{span:P,offset:i,order:L}=g:P=g;const A=e!==Ve?`-${e}`:"";P&&W.push(P===!0?`${G}${A}`:`${G}${A}-${P}`),L!=null&&H.push(`order${A}-${L}`),i!=null&&H.push(`offset${A}-${i}`)}),[{...ge,className:Ka(oe,...W,...H)},{as:k,bsPrefix:G,spans:W}]}const c5=Kr.forwardRef((k,G)=>{const[{className:oe,...ge},{as:Pe="div",bsPrefix:Ve,spans:W}]=e7(k);return on.jsx(Pe,{...ge,ref:G,className:Ka(oe,!W.length&&Ve)})});c5.displayName="Col";const H1=c5,h5=Kr.forwardRef(({as:k="label",bsPrefix:G,column:oe=!1,visuallyHidden:ge=!1,className:Pe,htmlFor:Ve,...W},H)=>{const{controlId:e}=Kr.useContext(Kf);G=li(G,"form-label");let g="col-form-label";typeof oe=="string"&&(g=`${g} ${g}-${oe}`);const P=Ka(Pe,G,ge&&"visually-hidden",oe&&g);return Ve=Ve||e,oe?on.jsx(H1,{ref:H,as:"label",className:P,htmlFor:Ve,...W}):on.jsx(k,{ref:H,className:P,htmlFor:Ve,...W})});h5.displayName="FormLabel";const t7=h5,v5=Kr.forwardRef(({bsPrefix:k,className:G,id:oe,...ge},Pe)=>{const{controlId:Ve}=Kr.useContext(Kf);return k=li(k,"form-range"),on.jsx("input",{...ge,type:"range",ref:Pe,className:Ka(G,k),id:oe||Ve})});v5.displayName="FormRange";const r7=v5,d5=Kr.forwardRef(({bsPrefix:k,size:G,htmlSize:oe,className:ge,isValid:Pe=!1,isInvalid:Ve=!1,id:W,...H},e)=>{const{controlId:g}=Kr.useContext(Kf);return k=li(k,"form-select"),on.jsx("select",{...H,size:oe,ref:e,className:Ka(ge,k,G&&`${k}-${G}`,Pe&&"is-valid",Ve&&"is-invalid"),id:W||g})});d5.displayName="FormSelect";const n7=d5,p5=Kr.forwardRef(({bsPrefix:k,className:G,as:oe="small",muted:ge,...Pe},Ve)=>(k=li(k,"form-text"),on.jsx(oe,{...Pe,ref:Ve,className:Ka(G,k,ge&&"text-muted")})));p5.displayName="FormText";const a7=p5,g5=Kr.forwardRef((k,G)=>on.jsx(eg,{...k,ref:G,type:"switch"}));g5.displayName="Switch";const i7=Object.assign(g5,{Input:eg.Input,Label:eg.Label}),y5=Kr.forwardRef(({bsPrefix:k,className:G,children:oe,controlId:ge,label:Pe,...Ve},W)=>(k=li(k,"form-floating"),on.jsxs(f5,{ref:W,className:Ka(G,k),controlId:ge,...Ve,children:[oe,on.jsx("label",{htmlFor:ge,children:Pe})]})));y5.displayName="FloatingLabel";const o7=y5,s7={_ref:Wf.any,validated:Wf.bool,as:Wf.elementType},Xm=Kr.forwardRef(({className:k,validated:G,as:oe="form",...ge},Pe)=>on.jsx(oe,{...ge,ref:Pe,className:Ka(k,G&&"was-validated")}));Xm.displayName="Form";Xm.propTypes=s7;const zh=Object.assign(Xm,{Group:f5,Control:$C,Floating:qC,Check:eg,Switch:i7,Label:t7,Text:a7,Range:r7,Select:n7,FloatingLabel:o7}),m5=Kr.createContext(null);m5.displayName="InputGroupContext";const l7=m5,x5=Kr.forwardRef(({className:k,bsPrefix:G,as:oe="span",...ge},Pe)=>(G=li(G,"input-group-text"),on.jsx(oe,{ref:Pe,className:Ka(k,G),...ge})));x5.displayName="InputGroupText";const Km=x5,u7=k=>on.jsx(Km,{children:on.jsx(Eg,{type:"checkbox",...k})}),f7=k=>on.jsx(Km,{children:on.jsx(Eg,{type:"radio",...k})}),b5=Kr.forwardRef(({bsPrefix:k,size:G,hasValidation:oe,className:ge,as:Pe="div",...Ve},W)=>{k=li(k,"input-group");const H=Kr.useMemo(()=>({}),[]);return on.jsx(l7.Provider,{value:H,children:on.jsx(Pe,{ref:W,...Ve,className:Ka(ge,k,G&&`${k}-${G}`,oe&&"has-validation")})})});b5.displayName="InputGroup";const zb=Object.assign(b5,{Text:Km,Radio:f7,Checkbox:u7});const c7=()=>{const[k,G]=Kr.useState(null),[oe,ge]=Kr.useState(!0),[Pe,Ve]=Kr.useState("BTCUSDT"),[W,H]=Kr.useState("1h"),[e,g]=Kr.useState("");let P;Kr.useEffect(()=>{const A="/api/binance/grafica-velas/"+Pe+"/"+W+"/false/false";fetch(A).then(v=>v.json()).then(v=>{const p=JSON.parse(v);G(p),ge(!1)}).catch(v=>{console.error("Error fetching chart data:",v),ge(!1)})},[Pe,W]),Kr.useEffect(()=>{const A=()=>{const v="/api/binance/cripto/"+Pe;fetch(v).then(p=>p.json()).then(p=>{g(Number(p.precio).toFixed(3)),ge(!1)}).catch(p=>{console.error("Error recibiendo informacin de criptos:",p),ge(!1)})};return A(),P=setInterval(()=>{A()},1e3),()=>clearInterval(P)},[Pe]);const i=A=>{Ve(A.target.value),console.log(A.target.value)},L=A=>{H(A.target.value),console.log(A.target.value)};return on.jsxs("div",{children:[on.jsxs("div",{className:"d-flex justify-content-center flex-wrap",children:[on.jsxs(zh.Select,{"aria-label":"Default select example",style:{width:"250px"},value:Pe,onChange:i,children:[on.jsx("option",{value:"BTCUSDT",children:"BTC/USDT"}),on.jsx("option",{value:"ETHUSDT",children:"ETH/USDT"}),on.jsx("option",{value:"DOTUSDT",children:"DOT/USDT"}),on.jsx("option",{value:"SOLUSDT",children:"SOL/USDT"}),on.jsx("option",{value:"ADAUSDT",children:"ADA/USDT"})]}),on.jsxs(zh.Select,{"aria-label":"Default select example",style:{width:"250px"},value:W,onChange:L,children:[on.jsx("option",{value:"1h",children:"Temporalidad (1h)"}),on.jsx("option",{value:"4h",children:"Temporalidad (4h)"}),on.jsx("option",{value:"8h",children:"Temporalidad (8h)"})]}),on.jsxs(zb,{style:{width:"250px",color:"red"},children:[on.jsx(zb.Text,{id:"basic-addon2",children:Pe}),on.jsx(zh.Control,{defaultValue:e,placeholder:"Valor cripto activo","aria-label":"Valor cripto activo","aria-describedby":"basic-addon2",readOnly:!0,style:{color:"green"}})]})]}),!oe&&k?on.jsx("div",{children:on.jsx(XC,{data:k,cripto:Pe,intervalo:W})}):on.jsx("p",{style:{marginTop:"50px"},children:oe?"Cargando grfica...":"Error al cargar los datos de la grfica."})]})},w5=Kr.forwardRef(({className:k,bsPrefix:G,as:oe="div",...ge},Pe)=>(G=li(G,"card-body"),on.jsx(oe,{ref:Pe,className:Ka(k,G),...ge})));w5.displayName="CardBody";const T5=w5,A5=Kr.forwardRef(({className:k,bsPrefix:G,as:oe="div",...ge},Pe)=>(G=li(G,"card-footer"),on.jsx(oe,{ref:Pe,className:Ka(k,G),...ge})));A5.displayName="CardFooter";const h7=A5,M5=Kr.forwardRef(({bsPrefix:k,className:G,as:oe="div",...ge},Pe)=>{const Ve=li(k,"card-header"),W=Kr.useMemo(()=>({cardHeaderBsPrefix:Ve}),[Ve]);return on.jsx(MT.Provider,{value:W,children:on.jsx(oe,{ref:Pe,...ge,className:Ka(G,Ve)})})});M5.displayName="CardHeader";const v7=M5,S5=Kr.forwardRef(({bsPrefix:k,className:G,variant:oe,as:ge="img",...Pe},Ve)=>{const W=li(k,"card-img");return on.jsx(ge,{ref:Ve,className:Ka(oe?`${W}-${oe}`:W,G),...Pe})});S5.displayName="CardImg";const d7=S5,E5=Kr.forwardRef(({className:k,bsPrefix:G,as:oe="div",...ge},Pe)=>(G=li(G,"card-img-overlay"),on.jsx(oe,{ref:Pe,className:Ka(k,G),...ge})));E5.displayName="CardImgOverlay";const p7=E5,C5=Kr.forwardRef(({className:k,bsPrefix:G,as:oe="a",...ge},Pe)=>(G=li(G,"card-link"),on.jsx(oe,{ref:Pe,className:Ka(k,G),...ge})));C5.displayName="CardLink";const g7=C5,y7=jm("h6"),L5=Kr.forwardRef(({className:k,bsPrefix:G,as:oe=y7,...ge},Pe)=>(G=li(G,"card-subtitle"),on.jsx(oe,{ref:Pe,className:Ka(k,G),...ge})));L5.displayName="CardSubtitle";const m7=L5,P5=Kr.forwardRef(({className:k,bsPrefix:G,as:oe="p",...ge},Pe)=>(G=li(G,"card-text"),on.jsx(oe,{ref:Pe,className:Ka(k,G),...ge})));P5.displayName="CardText";const x7=P5,b7=jm("h5"),R5=Kr.forwardRef(({className:k,bsPrefix:G,as:oe=b7,...ge},Pe)=>(G=li(G,"card-title"),on.jsx(oe,{ref:Pe,className:Ka(k,G),...ge})));R5.displayName="CardTitle";const w7=R5,D5=Kr.forwardRef(({bsPrefix:k,className:G,bg:oe,text:ge,border:Pe,body:Ve=!1,children:W,as:H="div",...e},g)=>{const P=li(k,"card");return on.jsx(H,{ref:g,...e,className:Ka(G,P,oe&&`bg-${oe}`,ge&&`text-${ge}`,Pe&&`border-${Pe}`),children:Ve?on.jsx(T5,{children:W}):W})});D5.displayName="Card";const zv=Object.assign(D5,{Img:d7,Title:w7,Subtitle:m7,Body:T5,Link:g7,Text:x7,Header:v7,Footer:h7,ImgOverlay:p7}),T7=({nombre:k})=>{const[G,oe]=Kr.useState(!0),[ge,Pe]=Kr.useState(""),[Ve,W]=Kr.useState("");let H,e;return Kr.useEffect(()=>{const g=()=>{k==="Bitcoin"&&(H="BTCUSDT"),k==="Ethereum"&&(H="ETHUSDT"),k==="Cardano"&&(H="ADAUSDT"),k==="Solana"&&(H="SOLUSDT"),k==="Polkadot"&&(H="DOTUSDT");const P="/api/binance/cripto/"+H;fetch(P).then(i=>i.json()).then(i=>{Pe(i.precio),W(i.fecha_hora),oe(!1)}).catch(i=>{console.error("Error recibiendo informacin de criptos:",i),oe(!1)})};return g(),e=setInterval(()=>{g()},1e3),()=>clearInterval(e)},[k]),on.jsx(on.Fragment,{children:G?on.jsx(zv.Text,{className:"d-flex flex-column align-items-start",children:on.jsx("div",{children:on.jsx("b",{children:"Cargando info de la criptomoneda ... "})})}):on.jsxs(zv.Text,{className:"d-flex flex-column align-items-start",children:[on.jsxs("div",{children:[on.jsx("b",{children:"Precio: "})," ",ge]}),on.jsxs("div",{children:[on.jsx("b",{children:"Fecha: "})," ",Ve]})]})})},I5=Kr.forwardRef(({bsPrefix:k,className:G,as:oe="div",...ge},Pe)=>{const Ve=li(k,"row"),W=uT(),H=fT(),e=`${Ve}-cols`,g=[];return W.forEach(P=>{const i=ge[P];delete ge[P];let L;i!=null&&typeof i=="object"?{cols:L}=i:L=i;const A=P!==H?`-${P}`:"";L!=null&&g.push(`${e}${A}-${L}`)}),on.jsx(oe,{ref:Pe,...ge,className:Ka(G,Ve,...g)})});I5.displayName="Row";const A7=I5;const Id=({url_images:k,nombre:G})=>on.jsx(zv,{style:{width:"400px"},className:"cripto_info-container",children:on.jsxs(A7,{children:[on.jsx(H1,{xs:4,className:"d-flex justify-content-center",children:on.jsx(zv.Img,{src:k,style:{padding:"10px 0 10px 10px"}})}),on.jsx(H1,{xs:8,children:on.jsxs(zv.Body,{children:[on.jsx(zv.Title,{children:G}),on.jsx(T7,{nombre:G})]})})]})});const M7="/assets/bitcoin-49214308.svg",S7="/assets/ethereum-10de1d9b.svg",E7="/assets/solana-ed2cfd63.svg",C7="/assets/polkadot-acde7e5b.svg",L7="/assets/cardano-8d70634a.svg",P7=()=>on.jsxs("div",{className:"d-flex flex-wrap gap-2 container mercados-container justify-content-center",children:[on.jsx(Id,{url_images:M7,nombre:"Bitcoin"}),on.jsx(Id,{url_images:S7,nombre:"Ethereum"}),on.jsx(Id,{url_images:E7,nombre:"Solana"}),on.jsx(Id,{url_images:C7,nombre:"Polkadot"}),on.jsx(Id,{url_images:L7,nombre:"Cardano"})]});function tg(k){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},tg(k)}function Wh(k){if(k===null||k===!0||k===!1)return NaN;var G=Number(k);return isNaN(G)?G:G<0?Math.ceil(G):Math.floor(G)}function Vs(k,G){if(G.length<k)throw new TypeError(k+" argument"+(k>1?"s":"")+" required, but only "+G.length+" present")}function of(k){Vs(1,arguments);var G=Object.prototype.toString.call(k);return k instanceof Date||tg(k)==="object"&&G==="[object Date]"?new Date(k.getTime()):typeof k=="number"||G==="[object Number]"?new Date(k):((typeof k=="string"||G==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function R7(k,G){Vs(2,arguments);var oe=of(k).getTime(),ge=Wh(G);return new Date(oe+ge)}var D7={};function Cg(){return D7}function I7(k){var G=new Date(Date.UTC(k.getFullYear(),k.getMonth(),k.getDate(),k.getHours(),k.getMinutes(),k.getSeconds(),k.getMilliseconds()));return G.setUTCFullYear(k.getFullYear()),k.getTime()-G.getTime()}function k7(k){return Vs(1,arguments),k instanceof Date||tg(k)==="object"&&Object.prototype.toString.call(k)==="[object Date]"}function F7(k){if(Vs(1,arguments),!k7(k)&&typeof k!="number")return!1;var G=of(k);return!isNaN(Number(G))}function _7(k,G){Vs(2,arguments);var oe=Wh(G);return R7(k,-oe)}var z7=864e5;function O7(k){Vs(1,arguments);var G=of(k),oe=G.getTime();G.setUTCMonth(0,1),G.setUTCHours(0,0,0,0);var ge=G.getTime(),Pe=oe-ge;return Math.floor(Pe/z7)+1}function rg(k){Vs(1,arguments);var G=1,oe=of(k),ge=oe.getUTCDay(),Pe=(ge<G?7:0)+ge-G;return oe.setUTCDate(oe.getUTCDate()-Pe),oe.setUTCHours(0,0,0,0),oe}function k5(k){Vs(1,arguments);var G=of(k),oe=G.getUTCFullYear(),ge=new Date(0);ge.setUTCFullYear(oe+1,0,4),ge.setUTCHours(0,0,0,0);var Pe=rg(ge),Ve=new Date(0);Ve.setUTCFullYear(oe,0,4),Ve.setUTCHours(0,0,0,0);var W=rg(Ve);return G.getTime()>=Pe.getTime()?oe+1:G.getTime()>=W.getTime()?oe:oe-1}function N7(k){Vs(1,arguments);var G=k5(k),oe=new Date(0);oe.setUTCFullYear(G,0,4),oe.setUTCHours(0,0,0,0);var ge=rg(oe);return ge}var B7=6048e5;function U7(k){Vs(1,arguments);var G=of(k),oe=rg(G).getTime()-N7(G).getTime();return Math.round(oe/B7)+1}function ng(k,G){var oe,ge,Pe,Ve,W,H,e,g;Vs(1,arguments);var P=Cg(),i=Wh((oe=(ge=(Pe=(Ve=G==null?void 0:G.weekStartsOn)!==null&&Ve!==void 0?Ve:G==null||(W=G.locale)===null||W===void 0||(H=W.options)===null||H===void 0?void 0:H.weekStartsOn)!==null&&Pe!==void 0?Pe:P.weekStartsOn)!==null&&ge!==void 0?ge:(e=P.locale)===null||e===void 0||(g=e.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&oe!==void 0?oe:0);if(!(i>=0&&i<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var L=of(k),A=L.getUTCDay(),v=(A<i?7:0)+A-i;return L.setUTCDate(L.getUTCDate()-v),L.setUTCHours(0,0,0,0),L}function F5(k,G){var oe,ge,Pe,Ve,W,H,e,g;Vs(1,arguments);var P=of(k),i=P.getUTCFullYear(),L=Cg(),A=Wh((oe=(ge=(Pe=(Ve=G==null?void 0:G.firstWeekContainsDate)!==null&&Ve!==void 0?Ve:G==null||(W=G.locale)===null||W===void 0||(H=W.options)===null||H===void 0?void 0:H.firstWeekContainsDate)!==null&&Pe!==void 0?Pe:L.firstWeekContainsDate)!==null&&ge!==void 0?ge:(e=L.locale)===null||e===void 0||(g=e.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&oe!==void 0?oe:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(i+1,0,A),v.setUTCHours(0,0,0,0);var p=ng(v,G),t=new Date(0);t.setUTCFullYear(i,0,A),t.setUTCHours(0,0,0,0);var r=ng(t,G);return P.getTime()>=p.getTime()?i+1:P.getTime()>=r.getTime()?i:i-1}function H7(k,G){var oe,ge,Pe,Ve,W,H,e,g;Vs(1,arguments);var P=Cg(),i=Wh((oe=(ge=(Pe=(Ve=G==null?void 0:G.firstWeekContainsDate)!==null&&Ve!==void 0?Ve:G==null||(W=G.locale)===null||W===void 0||(H=W.options)===null||H===void 0?void 0:H.firstWeekContainsDate)!==null&&Pe!==void 0?Pe:P.firstWeekContainsDate)!==null&&ge!==void 0?ge:(e=P.locale)===null||e===void 0||(g=e.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&oe!==void 0?oe:1),L=F5(k,G),A=new Date(0);A.setUTCFullYear(L,0,i),A.setUTCHours(0,0,0,0);var v=ng(A,G);return v}var V7=6048e5;function G7(k,G){Vs(1,arguments);var oe=of(k),ge=ng(oe,G).getTime()-H7(oe,G).getTime();return Math.round(ge/V7)+1}function ki(k,G){for(var oe=k<0?"-":"",ge=Math.abs(k).toString();ge.length<G;)ge="0"+ge;return oe+ge}var W7={y:function(G,oe){var ge=G.getUTCFullYear(),Pe=ge>0?ge:1-ge;return ki(oe==="yy"?Pe%100:Pe,oe.length)},M:function(G,oe){var ge=G.getUTCMonth();return oe==="M"?String(ge+1):ki(ge+1,2)},d:function(G,oe){return ki(G.getUTCDate(),oe.length)},a:function(G,oe){var ge=G.getUTCHours()/12>=1?"pm":"am";switch(oe){case"a":case"aa":return ge.toUpperCase();case"aaa":return ge;case"aaaaa":return ge[0];case"aaaa":default:return ge==="am"?"a.m.":"p.m."}},h:function(G,oe){return ki(G.getUTCHours()%12||12,oe.length)},H:function(G,oe){return ki(G.getUTCHours(),oe.length)},m:function(G,oe){return ki(G.getUTCMinutes(),oe.length)},s:function(G,oe){return ki(G.getUTCSeconds(),oe.length)},S:function(G,oe){var ge=oe.length,Pe=G.getUTCMilliseconds(),Ve=Math.floor(Pe*Math.pow(10,ge-3));return ki(Ve,oe.length)}};const Rc=W7;var Tv={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Y7={G:function(G,oe,ge){var Pe=G.getUTCFullYear()>0?1:0;switch(oe){case"G":case"GG":case"GGG":return ge.era(Pe,{width:"abbreviated"});case"GGGGG":return ge.era(Pe,{width:"narrow"});case"GGGG":default:return ge.era(Pe,{width:"wide"})}},y:function(G,oe,ge){if(oe==="yo"){var Pe=G.getUTCFullYear(),Ve=Pe>0?Pe:1-Pe;return ge.ordinalNumber(Ve,{unit:"year"})}return Rc.y(G,oe)},Y:function(G,oe,ge,Pe){var Ve=F5(G,Pe),W=Ve>0?Ve:1-Ve;if(oe==="YY"){var H=W%100;return ki(H,2)}return oe==="Yo"?ge.ordinalNumber(W,{unit:"year"}):ki(W,oe.length)},R:function(G,oe){var ge=k5(G);return ki(ge,oe.length)},u:function(G,oe){var ge=G.getUTCFullYear();return ki(ge,oe.length)},Q:function(G,oe,ge){var Pe=Math.ceil((G.getUTCMonth()+1)/3);switch(oe){case"Q":return String(Pe);case"QQ":return ki(Pe,2);case"Qo":return ge.ordinalNumber(Pe,{unit:"quarter"});case"QQQ":return ge.quarter(Pe,{width:"abbreviated",context:"formatting"});case"QQQQQ":return ge.quarter(Pe,{width:"narrow",context:"formatting"});case"QQQQ":default:return ge.quarter(Pe,{width:"wide",context:"formatting"})}},q:function(G,oe,ge){var Pe=Math.ceil((G.getUTCMonth()+1)/3);switch(oe){case"q":return String(Pe);case"qq":return ki(Pe,2);case"qo":return ge.ordinalNumber(Pe,{unit:"quarter"});case"qqq":return ge.quarter(Pe,{width:"abbreviated",context:"standalone"});case"qqqqq":return ge.quarter(Pe,{width:"narrow",context:"standalone"});case"qqqq":default:return ge.quarter(Pe,{width:"wide",context:"standalone"})}},M:function(G,oe,ge){var Pe=G.getUTCMonth();switch(oe){case"M":case"MM":return Rc.M(G,oe);case"Mo":return ge.ordinalNumber(Pe+1,{unit:"month"});case"MMM":return ge.month(Pe,{width:"abbreviated",context:"formatting"});case"MMMMM":return ge.month(Pe,{width:"narrow",context:"formatting"});case"MMMM":default:return ge.month(Pe,{width:"wide",context:"formatting"})}},L:function(G,oe,ge){var Pe=G.getUTCMonth();switch(oe){case"L":return String(Pe+1);case"LL":return ki(Pe+1,2);case"Lo":return ge.ordinalNumber(Pe+1,{unit:"month"});case"LLL":return ge.month(Pe,{width:"abbreviated",context:"standalone"});case"LLLLL":return ge.month(Pe,{width:"narrow",context:"standalone"});case"LLLL":default:return ge.month(Pe,{width:"wide",context:"standalone"})}},w:function(G,oe,ge,Pe){var Ve=G7(G,Pe);return oe==="wo"?ge.ordinalNumber(Ve,{unit:"week"}):ki(Ve,oe.length)},I:function(G,oe,ge){var Pe=U7(G);return oe==="Io"?ge.ordinalNumber(Pe,{unit:"week"}):ki(Pe,oe.length)},d:function(G,oe,ge){return oe==="do"?ge.ordinalNumber(G.getUTCDate(),{unit:"date"}):Rc.d(G,oe)},D:function(G,oe,ge){var Pe=O7(G);return oe==="Do"?ge.ordinalNumber(Pe,{unit:"dayOfYear"}):ki(Pe,oe.length)},E:function(G,oe,ge){var Pe=G.getUTCDay();switch(oe){case"E":case"EE":case"EEE":return ge.day(Pe,{width:"abbreviated",context:"formatting"});case"EEEEE":return ge.day(Pe,{width:"narrow",context:"formatting"});case"EEEEEE":return ge.day(Pe,{width:"short",context:"formatting"});case"EEEE":default:return ge.day(Pe,{width:"wide",context:"formatting"})}},e:function(G,oe,ge,Pe){var Ve=G.getUTCDay(),W=(Ve-Pe.weekStartsOn+8)%7||7;switch(oe){case"e":return String(W);case"ee":return ki(W,2);case"eo":return ge.ordinalNumber(W,{unit:"day"});case"eee":return ge.day(Ve,{width:"abbreviated",context:"formatting"});case"eeeee":return ge.day(Ve,{width:"narrow",context:"formatting"});case"eeeeee":return ge.day(Ve,{width:"short",context:"formatting"});case"eeee":default:return ge.day(Ve,{width:"wide",context:"formatting"})}},c:function(G,oe,ge,Pe){var Ve=G.getUTCDay(),W=(Ve-Pe.weekStartsOn+8)%7||7;switch(oe){case"c":return String(W);case"cc":return ki(W,oe.length);case"co":return ge.ordinalNumber(W,{unit:"day"});case"ccc":return ge.day(Ve,{width:"abbreviated",context:"standalone"});case"ccccc":return ge.day(Ve,{width:"narrow",context:"standalone"});case"cccccc":return ge.day(Ve,{width:"short",context:"standalone"});case"cccc":default:return ge.day(Ve,{width:"wide",context:"standalone"})}},i:function(G,oe,ge){var Pe=G.getUTCDay(),Ve=Pe===0?7:Pe;switch(oe){case"i":return String(Ve);case"ii":return ki(Ve,oe.length);case"io":return ge.ordinalNumber(Ve,{unit:"day"});case"iii":return ge.day(Pe,{width:"abbreviated",context:"formatting"});case"iiiii":return ge.day(Pe,{width:"narrow",context:"formatting"});case"iiiiii":return ge.day(Pe,{width:"short",context:"formatting"});case"iiii":default:return ge.day(Pe,{width:"wide",context:"formatting"})}},a:function(G,oe,ge){var Pe=G.getUTCHours(),Ve=Pe/12>=1?"pm":"am";switch(oe){case"a":case"aa":return ge.dayPeriod(Ve,{width:"abbreviated",context:"formatting"});case"aaa":return ge.dayPeriod(Ve,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return ge.dayPeriod(Ve,{width:"narrow",context:"formatting"});case"aaaa":default:return ge.dayPeriod(Ve,{width:"wide",context:"formatting"})}},b:function(G,oe,ge){var Pe=G.getUTCHours(),Ve;switch(Pe===12?Ve=Tv.noon:Pe===0?Ve=Tv.midnight:Ve=Pe/12>=1?"pm":"am",oe){case"b":case"bb":return ge.dayPeriod(Ve,{width:"abbreviated",context:"formatting"});case"bbb":return ge.dayPeriod(Ve,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return ge.dayPeriod(Ve,{width:"narrow",context:"formatting"});case"bbbb":default:return ge.dayPeriod(Ve,{width:"wide",context:"formatting"})}},B:function(G,oe,ge){var Pe=G.getUTCHours(),Ve;switch(Pe>=17?Ve=Tv.evening:Pe>=12?Ve=Tv.afternoon:Pe>=4?Ve=Tv.morning:Ve=Tv.night,oe){case"B":case"BB":case"BBB":return ge.dayPeriod(Ve,{width:"abbreviated",context:"formatting"});case"BBBBB":return ge.dayPeriod(Ve,{width:"narrow",context:"formatting"});case"BBBB":default:return ge.dayPeriod(Ve,{width:"wide",context:"formatting"})}},h:function(G,oe,ge){if(oe==="ho"){var Pe=G.getUTCHours()%12;return Pe===0&&(Pe=12),ge.ordinalNumber(Pe,{unit:"hour"})}return Rc.h(G,oe)},H:function(G,oe,ge){return oe==="Ho"?ge.ordinalNumber(G.getUTCHours(),{unit:"hour"}):Rc.H(G,oe)},K:function(G,oe,ge){var Pe=G.getUTCHours()%12;return oe==="Ko"?ge.ordinalNumber(Pe,{unit:"hour"}):ki(Pe,oe.length)},k:function(G,oe,ge){var Pe=G.getUTCHours();return Pe===0&&(Pe=24),oe==="ko"?ge.ordinalNumber(Pe,{unit:"hour"}):ki(Pe,oe.length)},m:function(G,oe,ge){return oe==="mo"?ge.ordinalNumber(G.getUTCMinutes(),{unit:"minute"}):Rc.m(G,oe)},s:function(G,oe,ge){return oe==="so"?ge.ordinalNumber(G.getUTCSeconds(),{unit:"second"}):Rc.s(G,oe)},S:function(G,oe){return Rc.S(G,oe)},X:function(G,oe,ge,Pe){var Ve=Pe._originalDate||G,W=Ve.getTimezoneOffset();if(W===0)return"Z";switch(oe){case"X":return Nb(W);case"XXXX":case"XX":return Ih(W);case"XXXXX":case"XXX":default:return Ih(W,":")}},x:function(G,oe,ge,Pe){var Ve=Pe._originalDate||G,W=Ve.getTimezoneOffset();switch(oe){case"x":return Nb(W);case"xxxx":case"xx":return Ih(W);case"xxxxx":case"xxx":default:return Ih(W,":")}},O:function(G,oe,ge,Pe){var Ve=Pe._originalDate||G,W=Ve.getTimezoneOffset();switch(oe){case"O":case"OO":case"OOO":return"GMT"+Ob(W,":");case"OOOO":default:return"GMT"+Ih(W,":")}},z:function(G,oe,ge,Pe){var Ve=Pe._originalDate||G,W=Ve.getTimezoneOffset();switch(oe){case"z":case"zz":case"zzz":return"GMT"+Ob(W,":");case"zzzz":default:return"GMT"+Ih(W,":")}},t:function(G,oe,ge,Pe){var Ve=Pe._originalDate||G,W=Math.floor(Ve.getTime()/1e3);return ki(W,oe.length)},T:function(G,oe,ge,Pe){var Ve=Pe._originalDate||G,W=Ve.getTime();return ki(W,oe.length)}};function Ob(k,G){var oe=k>0?"-":"+",ge=Math.abs(k),Pe=Math.floor(ge/60),Ve=ge%60;if(Ve===0)return oe+String(Pe);var W=G||"";return oe+String(Pe)+W+ki(Ve,2)}function Nb(k,G){if(k%60===0){var oe=k>0?"-":"+";return oe+ki(Math.abs(k)/60,2)}return Ih(k,G)}function Ih(k,G){var oe=G||"",ge=k>0?"-":"+",Pe=Math.abs(k),Ve=ki(Math.floor(Pe/60),2),W=ki(Pe%60,2);return ge+Ve+oe+W}const j7=Y7;var Bb=function(G,oe){switch(G){case"P":return oe.date({width:"short"});case"PP":return oe.date({width:"medium"});case"PPP":return oe.date({width:"long"});case"PPPP":default:return oe.date({width:"full"})}},_5=function(G,oe){switch(G){case"p":return oe.time({width:"short"});case"pp":return oe.time({width:"medium"});case"ppp":return oe.time({width:"long"});case"pppp":default:return oe.time({width:"full"})}},Z7=function(G,oe){var ge=G.match(/(P+)(p+)?/)||[],Pe=ge[1],Ve=ge[2];if(!Ve)return Bb(G,oe);var W;switch(Pe){case"P":W=oe.dateTime({width:"short"});break;case"PP":W=oe.dateTime({width:"medium"});break;case"PPP":W=oe.dateTime({width:"long"});break;case"PPPP":default:W=oe.dateTime({width:"full"});break}return W.replace("{{date}}",Bb(Pe,oe)).replace("{{time}}",_5(Ve,oe))},X7={p:_5,P:Z7};const K7=X7;var J7=["D","DD"],Q7=["YY","YYYY"];function $7(k){return J7.indexOf(k)!==-1}function q7(k){return Q7.indexOf(k)!==-1}function Ub(k,G,oe){if(k==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(G,"`) for formatting years to the input `").concat(oe,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(k==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(G,"`) for formatting years to the input `").concat(oe,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(k==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(G,"`) for formatting days of the month to the input `").concat(oe,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(k==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(G,"`) for formatting days of the month to the input `").concat(oe,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var e9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},t9=function(G,oe,ge){var Pe,Ve=e9[G];return typeof Ve=="string"?Pe=Ve:oe===1?Pe=Ve.one:Pe=Ve.other.replace("{{count}}",oe.toString()),ge!=null&&ge.addSuffix?ge.comparison&&ge.comparison>0?"in "+Pe:Pe+" ago":Pe};const r9=t9;function _y(k){return function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},oe=G.width?String(G.width):k.defaultWidth,ge=k.formats[oe]||k.formats[k.defaultWidth];return ge}}var n9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},a9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},i9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},o9={date:_y({formats:n9,defaultWidth:"full"}),time:_y({formats:a9,defaultWidth:"full"}),dateTime:_y({formats:i9,defaultWidth:"full"})};const s9=o9;var l9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},u9=function(G,oe,ge,Pe){return l9[G]};const f9=u9;function kd(k){return function(G,oe){var ge=oe!=null&&oe.context?String(oe.context):"standalone",Pe;if(ge==="formatting"&&k.formattingValues){var Ve=k.defaultFormattingWidth||k.defaultWidth,W=oe!=null&&oe.width?String(oe.width):Ve;Pe=k.formattingValues[W]||k.formattingValues[Ve]}else{var H=k.defaultWidth,e=oe!=null&&oe.width?String(oe.width):k.defaultWidth;Pe=k.values[e]||k.values[H]}var g=k.argumentCallback?k.argumentCallback(G):G;return Pe[g]}}var c9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},h9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},v9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},d9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},p9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},g9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},y9=function(G,oe){var ge=Number(G),Pe=ge%100;if(Pe>20||Pe<10)switch(Pe%10){case 1:return ge+"st";case 2:return ge+"nd";case 3:return ge+"rd"}return ge+"th"},m9={ordinalNumber:y9,era:kd({values:c9,defaultWidth:"wide"}),quarter:kd({values:h9,defaultWidth:"wide",argumentCallback:function(G){return G-1}}),month:kd({values:v9,defaultWidth:"wide"}),day:kd({values:d9,defaultWidth:"wide"}),dayPeriod:kd({values:p9,defaultWidth:"wide",formattingValues:g9,defaultFormattingWidth:"wide"})};const x9=m9;function Fd(k){return function(G){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ge=oe.width,Pe=ge&&k.matchPatterns[ge]||k.matchPatterns[k.defaultMatchWidth],Ve=G.match(Pe);if(!Ve)return null;var W=Ve[0],H=ge&&k.parsePatterns[ge]||k.parsePatterns[k.defaultParseWidth],e=Array.isArray(H)?w9(H,function(i){return i.test(W)}):b9(H,function(i){return i.test(W)}),g;g=k.valueCallback?k.valueCallback(e):e,g=oe.valueCallback?oe.valueCallback(g):g;var P=G.slice(W.length);return{value:g,rest:P}}}function b9(k,G){for(var oe in k)if(k.hasOwnProperty(oe)&&G(k[oe]))return oe}function w9(k,G){for(var oe=0;oe<k.length;oe++)if(G(k[oe]))return oe}function T9(k){return function(G){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ge=G.match(k.matchPattern);if(!ge)return null;var Pe=ge[0],Ve=G.match(k.parsePattern);if(!Ve)return null;var W=k.valueCallback?k.valueCallback(Ve[0]):Ve[0];W=oe.valueCallback?oe.valueCallback(W):W;var H=G.slice(Pe.length);return{value:W,rest:H}}}var A9=/^(\d+)(th|st|nd|rd)?/i,M9=/\d+/i,S9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},E9={any:[/^b/i,/^(a|c)/i]},C9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},L9={any:[/1/i,/2/i,/3/i,/4/i]},P9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},R9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},D9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},I9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},k9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},F9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_9={ordinalNumber:T9({matchPattern:A9,parsePattern:M9,valueCallback:function(G){return parseInt(G,10)}}),era:Fd({matchPatterns:S9,defaultMatchWidth:"wide",parsePatterns:E9,defaultParseWidth:"any"}),quarter:Fd({matchPatterns:C9,defaultMatchWidth:"wide",parsePatterns:L9,defaultParseWidth:"any",valueCallback:function(G){return G+1}}),month:Fd({matchPatterns:P9,defaultMatchWidth:"wide",parsePatterns:R9,defaultParseWidth:"any"}),day:Fd({matchPatterns:D9,defaultMatchWidth:"wide",parsePatterns:I9,defaultParseWidth:"any"}),dayPeriod:Fd({matchPatterns:k9,defaultMatchWidth:"any",parsePatterns:F9,defaultParseWidth:"any"})};const z9=_9;var O9={code:"en-US",formatDistance:r9,formatLong:s9,formatRelative:f9,localize:x9,match:z9,options:{weekStartsOn:0,firstWeekContainsDate:1}};const N9=O9;var B9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,U9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,H9=/^'([^]*?)'?$/,V9=/''/g,G9=/[a-zA-Z]/;function W9(k,G,oe){var ge,Pe,Ve,W,H,e,g,P,i,L,A,v,p,t,r,s,n,l;Vs(2,arguments);var f=String(G),u=Cg(),m=(ge=(Pe=oe==null?void 0:oe.locale)!==null&&Pe!==void 0?Pe:u.locale)!==null&&ge!==void 0?ge:N9,c=Wh((Ve=(W=(H=(e=oe==null?void 0:oe.firstWeekContainsDate)!==null&&e!==void 0?e:oe==null||(g=oe.locale)===null||g===void 0||(P=g.options)===null||P===void 0?void 0:P.firstWeekContainsDate)!==null&&H!==void 0?H:u.firstWeekContainsDate)!==null&&W!==void 0?W:(i=u.locale)===null||i===void 0||(L=i.options)===null||L===void 0?void 0:L.firstWeekContainsDate)!==null&&Ve!==void 0?Ve:1);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=Wh((A=(v=(p=(t=oe==null?void 0:oe.weekStartsOn)!==null&&t!==void 0?t:oe==null||(r=oe.locale)===null||r===void 0||(s=r.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&p!==void 0?p:u.weekStartsOn)!==null&&v!==void 0?v:(n=u.locale)===null||n===void 0||(l=n.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&A!==void 0?A:0);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!m.localize)throw new RangeError("locale must contain localize property");if(!m.formatLong)throw new RangeError("locale must contain formatLong property");var h=of(k);if(!F7(h))throw new RangeError("Invalid time value");var o=I7(h),d=_7(h,o),M={firstWeekContainsDate:c,weekStartsOn:w,locale:m,_originalDate:h},T=f.match(U9).map(function(E){var x=E[0];if(x==="p"||x==="P"){var S=K7[x];return S(E,m.formatLong)}return E}).join("").match(B9).map(function(E){if(E==="''")return"'";var x=E[0];if(x==="'")return Y9(E);var S=j7[x];if(S)return!(oe!=null&&oe.useAdditionalWeekYearTokens)&&q7(E)&&Ub(E,G,String(k)),!(oe!=null&&oe.useAdditionalDayOfYearTokens)&&$7(E)&&Ub(E,G,String(k)),S(d,E,m.localize,M);if(x.match(G9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return E}).join("");return T}function Y9(k){var G=k.match(H9);return G?G[1].replace(V9,"'"):k}const j9=({data:k})=>{const[G,oe]=Kr.useState(!0),[ge,Pe]=Kr.useState(null),[Ve,W]=Kr.useState([]),[H,e]=Kr.useState([]),[g,P]=Kr.useState([]),[i,L]=Kr.useState([]),[A,v]=Kr.useState([]),[p,t]=Kr.useState([]),[r,s]=Kr.useState([]),[n,l]=Kr.useState({width:window.innerWidth*.8,height:window.innerHeight*.8,grid:{rows:2,columns:1,subplots:[["xy2"],["xy"]],roworder:"bottom to top"},yaxis:{domain:[.2,1],autorange:!0},yaxis2:{domain:[0,.2]},shapes:[{type:"rect",xref:"x",yref:"y2",x0:0,y0:0,x1:1,y1:1,fillcolor:"rgba(31,119,180,1)",opacity:1,line:{width:0}}],annotations:k.layout.annotations}),f=u=>{const m=u["xaxis.range"];if(m.length===2){let[c,w]=m;const h=new Date(c),o=new Date(w),d=k.data[4].x.map(B=>new Date(B));let M,T;d.findIndex(B=>B>=h)!=-1?M=d.findIndex(B=>B>=h):M=0,d.findIndex(B=>B>=o)!=-1?T=d.findIndex(B=>B>=o):T=k.data[4].x.length-1,console.log("FechaInicio: "+c),console.log("FechaFin: "+w),console.log("Indice Fecha Inicio : "+M),console.log("Indice Fecha Fin: "+T);const E=k.data[0].low,x=k.data[0].high,S=E.slice(M,T),b=x.slice(M,T),a=S.map(Number),C=Math.min(...a),y=b.map(Number),z=Math.max(...y),I=[C,z];console.log("Actualizando escala en Y:"+JSON.stringify(I)),l(B=>({...B,yaxis:{...B.yaxis,autorange:!1,range:I}}))}};return Kr.useEffect(()=>{if(k&&k.data&&k.data[0]){const u=k.data[0],m=u.x.length;if(m===u.open.length&&m===u.high.length&&m===u.low.length&&m===u.close.length){u.x.map(E=>W9(new Date(E),"yyyy-MM-dd HH:mm"));const c={x:u.x,close:u.close,high:u.high,low:u.low,open:u.open,name:"Velas",type:u.type};Pe(c);const w=k.data.find(E=>E.name==="EMA 20");W(w!==void 0?w:[]);const h=k.data.find(E=>E.name==="EMA 50");e(h!==void 0?h:[]);const o=k.data.find(E=>E.name==="EMA 100");P(o!==void 0?o:[]);const d=k.data.find(E=>E.name==="RSI");L(d!==void 0?d:[]);const M=k.data.find(E=>E.name==="RSI 20");M!==void 0&&v(M);const T=k.data.find(E=>E.name==="RSI 80");T!==void 0&&t(T),oe(!1)}}},[k]),Kr.useEffect(()=>{let u=[ge];if(ge&&Ve&&Ve.y&&Ve.y.length>0){const m={x:ge.x,y:Ve.y,xaxis:"x",yaxis:"y",type:"scatter",mode:"lines",name:"EMA 20",line:{color:Ve.line.color}};u.push(m)}if(ge&&H&&H.y&&H.y.length>0){const m={x:ge.x,y:H.y,xaxis:"x",yaxis:"y",type:"scatter",mode:"lines",name:"EMA 50",line:{color:H.line.color}};u.push(m)}if(ge&&g&&g.y&&g.y.length>0){const m={x:ge.x,y:g.y,xaxis:"x",yaxis:"y",type:"scatter",mode:"lines",name:"EMA 100",line:{color:g.line.color}};u.push(m)}if(ge&&i&&i.y&&i.y.length>0){const m={x:ge.x,y:i.y,xaxis:"x",yaxis:"y2",type:"scatter",name:i.name,line:{color:i.line.color}};u.push(m);const c={x:ge.x,y:A.y,xaxis:"x",yaxis:"y2",type:"scatter",name:A.name,line:{color:A.line.color}};u.push(c);const w={x:ge.x,y:p.y,xaxis:"x",yaxis:"y2",type:"scatter",name:p.name,line:{color:p.line.color}};u.push(w)}if(s(u),ge&&i&&i.y&&i.y.length>0){const m={width:window.innerWidth*.8,height:window.innerHeight*.8,grid:{rows:2,columns:1,subplots:[["xy2"],["xy"]],roworder:"bottom to top"},yaxis:{domain:[.2,1],autorange:!0},yaxis2:{domain:[0,.2]},shapes:[{type:"rect",xref:"x",yref:"y2",x0:ge.x[0]||0,y0:A.y[0]||0,x1:ge.x[ge.x.length-1]||0,y1:p.y[p.y.length-1]||0,fillcolor:"rgba(31,119,180,0.5)",opacity:.5,line:{width:0}}],annotations:k.layout.annotations};l(m)}else{const m={width:window.innerWidth*.8,height:window.innerHeight*.8,grid:{rows:1,columns:1,subplots:[["xy"]],roworder:"bottom to top"},yaxis:{domain:[0,1],autorange:!0},annotations:k.layout.annotations};l(m)}},[k,Ve,i,ge]),Kr.useEffect(()=>{const u=()=>{l(m=>({...m,width:window.innerWidth*.8,height:window.innerHeight*.8}))};return window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u)}},[]),G?on.jsx("div",{style:{marginTop:"50px"},children:"Cargando datos..."}):ge?on.jsx(r5,{data:r,layout:n,onRelayout:f}):on.jsx("div",{children:"No hay datos de velas disponibles o la estructura es incorrecta."})},Z9=()=>{const[k,G]=Kr.useState(null),[oe,ge]=Kr.useState(!0),[Pe,Ve]=Kr.useState("BTCUSDT"),[W,H]=Kr.useState("1h"),[e,g]=Kr.useState("true"),[P,i]=Kr.useState("true");Kr.useEffect(()=>{const t="/api/binance/grafica-velas/"+Pe+"/"+W+"/"+P+"/"+e;fetch(t).then(r=>r.json()).then(r=>{const s=JSON.parse(r);G(s),ge(!1)}).catch(r=>{console.error("Error fetching chart data:",r),ge(!1)})},[Pe,W,P,e]);const L=t=>{Ve(t.target.value),console.log(t.target.value)},A=t=>{H(t.target.value),console.log(t.target.value)},v=t=>{i(t.target.value),console.log(t.target.value)},p=t=>{g(t.target.value),console.log(t.target.value)};return on.jsxs("div",{children:[on.jsxs("div",{className:"d-flex justify-content-center flex-wrap",children:[on.jsxs(zh.Select,{"aria-label":"Default select example",style:{width:"250px"},value:Pe,onChange:L,children:[on.jsx("option",{value:"BTCUSDT",children:"BTC/USDT"}),on.jsx("option",{value:"ETHUSDT",children:"ETH/USDT"}),on.jsx("option",{value:"DOTUSDT",children:"DOT/USDT"}),on.jsx("option",{value:"SOLUSDT",children:"SOL/USDT"}),on.jsx("option",{value:"ADAUSDT",children:"ADA/USDT"})]}),on.jsxs(zh.Select,{"aria-label":"Default select example",style:{width:"250px"},value:W,onChange:A,children:[on.jsx("option",{value:"1h",children:"Temporalidad (1h)"}),on.jsx("option",{value:"4h",children:"Temporalidad (4h)"}),on.jsx("option",{value:"8h",children:"Temporalidad (8h)"})]}),on.jsxs(zh.Select,{"aria-label":"Default select example",style:{width:"250px"},value:P,onChange:v,children:[on.jsx("option",{value:"true",children:"Indicador EMAs (Activar)"}),on.jsx("option",{value:"false",children:"Indicador EMAs (Desactivar)"})]}),on.jsxs(zh.Select,{"aria-label":"Default select example",style:{width:"250px"},value:e,onChange:p,children:[on.jsx("option",{value:"true",children:"Indicador RSI (Activar)"}),on.jsx("option",{value:"false",children:"Indicador RSI (Desactivar)"})]})]}),!oe&&k?on.jsx("div",{children:on.jsx(j9,{data:k,cripto:Pe,intervalo:W})}):on.jsx("p",{style:{marginTop:"50px"},children:oe?"Cargando grfica...":"Error al cargar los datos de la grfica."})]})};const X9=()=>on.jsx("div",{className:"error-container",children:on.jsx("h1",{children:"Error 404"})});const K9=()=>on.jsxs(on.Fragment,{children:[on.jsx(NC,{}),on.jsx("div",{className:"app-info-contenedor",children:on.jsx(N8,{children:on.jsxs(z8,{children:[on.jsx(Bd,{path:"/",element:on.jsx(P7,{})}),on.jsx(Bd,{path:"/grafica_velas",element:on.jsx(c7,{})}),on.jsx(Bd,{path:"/trading_bot",element:on.jsx(Z9,{})}),on.jsx(Bd,{path:"*",element:on.jsx(X9,{})})]})})}),on.jsx(jC,{})]});zy.createRoot(document.getElementById("root")).render(on.jsx(Xo.StrictMode,{children:on.jsx(K9,{})}));
